[{"url": "https://api.github.com/repos/aws/aws-cli/issues/7841", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7841/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7841/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7841/events", "html_url": "https://github.com/aws/aws-cli/issues/7841", "id": 1678630096, "node_id": "I_kwDOAGd3X85kDdzQ", "number": 7841, "title": "Could not resolve host awscli.amazonaws.com", "user": {"login": "TerriblyVexed1", "id": 128745258, "node_id": "U_kgDOB6x_Kg", "avatar_url": "https://avatars.githubusercontent.com/u/128745258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TerriblyVexed1", "html_url": "https://github.com/TerriblyVexed1", "followers_url": "https://api.github.com/users/TerriblyVexed1/followers", "following_url": "https://api.github.com/users/TerriblyVexed1/following{/other_user}", "gists_url": "https://api.github.com/users/TerriblyVexed1/gists{/gist_id}", "starred_url": "https://api.github.com/users/TerriblyVexed1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TerriblyVexed1/subscriptions", "organizations_url": "https://api.github.com/users/TerriblyVexed1/orgs", "repos_url": "https://api.github.com/users/TerriblyVexed1/repos", "events_url": "https://api.github.com/users/TerriblyVexed1/events{/privacy}", "received_events_url": "https://api.github.com/users/TerriblyVexed1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-21T14:35:53Z", "updated_at": "2023-04-21T15:24:14Z", "closed_at": "2023-04-21T15:23:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\n`curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"` produces error\r\n`  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:--  0:00:09 --:--:--     0curl: (6) Could not resolve host: awscli.amazonaws.com`\n\n### Expected Behavior\n\nShould have downloaded the awscli installation zip file.\n\n### Current Behavior\n\n`  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:--  0:00:09 --:--:--     0curl: (6) Could not resolve host: awscli.amazonaws.com`\n\n### Reproduction Steps\n\nRun `curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nn/a\n\n### Environment details (OS name and version, etc.)\n\nWSL2 on Windows 10", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7841/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7816", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7816/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7816/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7816/events", "html_url": "https://github.com/aws/aws-cli/issues/7816", "id": 1666280432, "node_id": "I_kwDOAGd3X85jUWvw", "number": 7816, "title": "EventBridge API Destination with POST returns 405 status code", "user": {"login": "Madhukara-Hiriadka", "id": 109587878, "node_id": "U_kgDOBogtpg", "avatar_url": "https://avatars.githubusercontent.com/u/109587878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Madhukara-Hiriadka", "html_url": "https://github.com/Madhukara-Hiriadka", "followers_url": "https://api.github.com/users/Madhukara-Hiriadka/followers", "following_url": "https://api.github.com/users/Madhukara-Hiriadka/following{/other_user}", "gists_url": "https://api.github.com/users/Madhukara-Hiriadka/gists{/gist_id}", "starred_url": "https://api.github.com/users/Madhukara-Hiriadka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Madhukara-Hiriadka/subscriptions", "organizations_url": "https://api.github.com/users/Madhukara-Hiriadka/orgs", "repos_url": "https://api.github.com/users/Madhukara-Hiriadka/repos", "events_url": "https://api.github.com/users/Madhukara-Hiriadka/events{/privacy}", "received_events_url": "https://api.github.com/users/Madhukara-Hiriadka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-13T12:00:44Z", "updated_at": "2023-04-14T09:07:08Z", "closed_at": "2023-04-14T09:06:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nI am trying to create EventBridge API Destination with POST as http method using localstack. I am trying to connect to my service which is running in local docker container. I Get following error: \"Error parsing parameter '--invocation-endpoint': Unable to retrieve http://host.docker.internal:port_no/api/my-endpoint received non 200 status code of 405\"\r\n\r\nIf I use wget for the same endpoint it works fine. Issue occurs only during create-api-destination.\r\n\r\nFollowing is my command: awslocal events create-api-destination --name \"api-name\" --connection-arn \"connection-arn\" --invocation-rate-limit-per-second 10 --http-method POST --invocation-endpoint \"http://host.docker.internal:port_no/api/my-endpoint\"\r\n\r\nAlso tried the following: aws --endpoint-url http://localhost:4566 events create-api-destination --name \"api-name\" --connection-arn \"connection-arn\" --invocation-rate-limit-per-second 10 --http-method POST --invocation-endpoint \"http://host.docker.internal:port_no/api/my-endpoint\"\r\n\r\nAny help would be appreciated\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7805", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7805/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7805/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7805/events", "html_url": "https://github.com/aws/aws-cli/issues/7805", "id": 1654734984, "node_id": "I_kwDOAGd3X85ioUCI", "number": 7805, "title": "CLI version `>= 2.11.8` converts property values `N, Y, n, y` to booleans `true,false` when using `aws cloudformation package`", "user": {"login": "dansor-AZ", "id": 108446227, "node_id": "U_kgDOBnbCEw", "avatar_url": "https://avatars.githubusercontent.com/u/108446227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dansor-AZ", "html_url": "https://github.com/dansor-AZ", "followers_url": "https://api.github.com/users/dansor-AZ/followers", "following_url": "https://api.github.com/users/dansor-AZ/following{/other_user}", "gists_url": "https://api.github.com/users/dansor-AZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/dansor-AZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dansor-AZ/subscriptions", "organizations_url": "https://api.github.com/users/dansor-AZ/orgs", "repos_url": "https://api.github.com/users/dansor-AZ/repos", "events_url": "https://api.github.com/users/dansor-AZ/events{/privacy}", "received_events_url": "https://api.github.com/users/dansor-AZ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-05T00:10:32Z", "updated_at": "2023-04-06T16:06:36Z", "closed_at": "2023-04-06T16:06:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nHi Team,\r\n\r\nRecently encountered breaking changes for aws-cli version >= `v2.11.8` when using `aws cloudformation package` command where properties that use values such as `[N, Y, n, y]`. YAML 1.1 converts these values to booleans (`true`, `false`) unless they are surrounded by double quotes `\"`.\r\n\r\n\r\n\r\n### Expected Behavior\r\n\r\nIt shouldn't convert property values such as `[N, Y, n, y]` to boolean, retaining its original value.\r\n\r\n### Current Behavior\r\n\r\nProperty values such as `[N, Y, n, y]` gets converted to boolean `False` OR `True`.\r\n\r\n### Reproduction Steps\r\n\r\n1. Create a local folder with a template file \r\n`touch infrastructure.template`\r\n***template content:***\r\n```\r\nPythonFunction:\r\n  Type: AWS::Lambda::Function\r\n  Properties:\r\n    FunctionName: y\r\n    Runtime: python3.8\r\n    Role: !GetAtt LambdaBasicExecutionRole.Arn\r\n    Handler: lambda_function.handler\r\n    Code: lambda/\r\n```\r\n2.  Create a subdirectory named `lambda` within this folder\r\n3. Create a python file for the lambda code named `lambda_function.py`\r\n***code file content:***\r\n```\r\nimport json\r\n\r\ndef lambda_handler(event, context):\r\n    print(\"value1 = \" + event['key1'])\r\n    return event['key1']\r\n```\r\n4. Run the cfn package command\r\n```\r\naws cloudformation package \\\r\n    --template-file infrastructure.template \\\r\n    --s3-bucket <SOME_BUCKET_NAME> \\\r\n    --s3-prefix cfn-package-deploy \\\r\n    --output-template-file infrastructure-packaged.template \\\r\n```\r\n5. Check the processed output template file `infrastructure-packaged.template`\r\n```\r\n%YAML 1.1\r\n---\r\nPythonFunction:\r\n  Type: AWS::Lambda::Function\r\n  Properties:\r\n    FunctionName: true\r\n    Description: Python Function to return specific TimeZone time\r\n    Runtime: python3.8\r\n    Role:\r\n      Fn::GetAtt:\r\n      - LambdaBasicExecutionRole\r\n      - Arn\r\n    Handler: lambda_function.handler\r\n    Code: lambda/\r\n```\r\n\r\nThe function name changes to true as you can see.  If you use [n or N] then it will change to false. [y or Y] then it will change to true.  Prior aws-cli versions 2.11.8 doesn't have this behavior, so I believe this breaking change is due to this particular [commit](https://github.com/aws/aws-cli/pull/7787). \r\n\r\nAdditionally, on a dynamo DB table where you specify Attribute definitions. If the type is a number, it will convert that value unintentionally.\r\n\r\nFor instance, specifying `AttributeType: N` gets converted to `AttributeType: False`. \r\n\r\n\r\n### Possible Solution\r\n\r\nThe current workaround at the moment is either of the following:\r\n\r\n* Use aws-cli versions < `2.11.8`\r\n* Use double quotes on the property values `[N, Y, n, y]` e.g. `[\"N\", \"Y\", \"n\", \"y\"]` which doesn't get converted to boolean when packaged.\r\n* Use JSON for your input template\r\n\r\n### Additional Information/Context\r\n\r\nAs per the change log for 2.11.8 seen [here](https://raw.githubusercontent.com/aws/aws-cli/v2/CHANGELOG.rst), this is the [fix](https://github.com/aws/aws-cli/pull/7787) for issue #3991, which I believe introduced this breaking change. \r\n\r\nFrom changelog:\r\n\r\n`bugfix:cloudformation: Fixes `#3991 <https://github.com/aws/aws-cli/issues/3991>`__. Use YAML 1.1 spec in alignment with CloudFormation YAML support.` \r\n\r\nWould love to get an update to fix the breaking change above regarding this new release.\r\n\r\n### Questions\r\n\r\n1. Can we handle this better on the CFN CLI Side or is this a reality now that we have moved to YAML 1.1?\r\n2. Is there a better work around we can share to the Customer other than manually inputting Double quotes around these values?\r\n3. When can we expect this to be fixed?\r\n\r\n### CLI version used\r\n\r\n`>= 2.11.8`\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nDoesn't apply.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7789", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7789/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7789/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7789/events", "html_url": "https://github.com/aws/aws-cli/issues/7789", "id": 1645754936, "node_id": "I_kwDOAGd3X85iGDo4", "number": 7789, "title": "Token expiration after re-login", "user": {"login": "adcanis", "id": 75630746, "node_id": "MDQ6VXNlcjc1NjMwNzQ2", "avatar_url": "https://avatars.githubusercontent.com/u/75630746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adcanis", "html_url": "https://github.com/adcanis", "followers_url": "https://api.github.com/users/adcanis/followers", "following_url": "https://api.github.com/users/adcanis/following{/other_user}", "gists_url": "https://api.github.com/users/adcanis/gists{/gist_id}", "starred_url": "https://api.github.com/users/adcanis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adcanis/subscriptions", "organizations_url": "https://api.github.com/users/adcanis/orgs", "repos_url": "https://api.github.com/users/adcanis/repos", "events_url": "https://api.github.com/users/adcanis/events{/privacy}", "received_events_url": "https://api.github.com/users/adcanis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-03-29T12:55:44Z", "updated_at": "2023-03-29T20:07:51Z", "closed_at": "2023-03-29T20:07:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen re-logging in to an account via cli and trying to perform say `amplify push -y` error \r\n\r\n> The provided token has expired\r\n\r\nis thrown. This is after running `aws sso logout`, clearing cookies and cache as mentioned in[ #7361 ](https://github.com/aws/aws-cli/issues/7361) and re-logging in. This issue was also mentioned in [#12174](https://github.com/aws-amplify/amplify-cli/issues/12174). \r\nIt appears to only happen if the session exceeds the 8hr mark.\r\n---\r\nSteps taken so far:\r\n- clear cookies at start page\r\n- clear `.aws/sso/cache`\r\n- clearing `.aws/config` and `.aws/credentials`\r\n- running `aws configure sso` to re-configure sso\r\n- run `aws sso login --profile <profile name>`\r\n- performing any command such as `amplify push -y --profile <profile name>`\r\n\r\nThis is currently affecting 9 accounts \n\n### Expected Behavior\n\nSession should be refreshed and commands should work\n\n### Current Behavior\n\nToken expired error and no commands work.\n\n### Reproduction Steps\n\n- create user in IAM identity centre\r\n- login via start url and follow instructions under \"Command line or programmatic access\" using option 2\r\n- run `aws sso login --profile <profile name>\r\n- after confirming login success in terminal, try and perform task like `amplify push -y`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.11.2\n\n### Environment details (OS name and version, etc.)\n\nmac 13.2.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7771", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7771/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7771/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7771/events", "html_url": "https://github.com/aws/aws-cli/issues/7771", "id": 1636175674, "node_id": "I_kwDOAGd3X85hhg86", "number": 7771, "title": "Can't run codeartifact login when using NPM via a version manager", "user": {"login": "natesilva", "id": 160467, "node_id": "MDQ6VXNlcjE2MDQ2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/160467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natesilva", "html_url": "https://github.com/natesilva", "followers_url": "https://api.github.com/users/natesilva/followers", "following_url": "https://api.github.com/users/natesilva/following{/other_user}", "gists_url": "https://api.github.com/users/natesilva/gists{/gist_id}", "starred_url": "https://api.github.com/users/natesilva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natesilva/subscriptions", "organizations_url": "https://api.github.com/users/natesilva/orgs", "repos_url": "https://api.github.com/users/natesilva/repos", "events_url": "https://api.github.com/users/natesilva/events{/privacy}", "received_events_url": "https://api.github.com/users/natesilva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-22T17:06:19Z", "updated_at": "2023-03-22T17:13:58Z", "closed_at": "2023-03-22T17:13:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nRunning `codeartifact login --tool npm --domain <domain> --repository <repo>` fails with the error:\r\n\r\n```\r\nnpm was not found. Please verify installation.\r\n```\r\n\r\nThis happens if the user installed NPM via the [Volta](https://volta.sh) version manager. It would also happen with any other way of installing Node that does not create an `npm.cmd` file.\n\n### Expected Behavior\n\nThe `codeartifact login` command should work if NPM is installed.\n\n### Current Behavior\n\nThe `codeartifact login` command only works if the NPM command is called via a batch file.\n\n### Reproduction Steps\n\n1. Start on a system without Node or NPM installed.\r\n2. [Enable Developer Mode](https://learn.microsoft.com/en-us/windows/apps/get-started/enable-your-device-for-development#accessing-settings-for-developers) on Windows.\r\n3. [Install Volta](https://docs.volta.sh/guide/getting-started).\r\n4. Install Node using Volta: `volta install node@lts`\r\n\t- Note that NPM is installed at `C:\\Program Files\\Volta\\npm.exe`\r\n5. Run `aws codeartifact login --tool npm \u2026`\n\n### Possible Solution\n\nIn [codeartifact/login.py at line 296](https://github.com/aws/aws-cli/blob/1b5cac163886abcb31d5b2d459c1089a89dd8b48/awscli/customizations/codeartifact/login.py#L296) it says:\r\n\r\n```python\r\nNPM_CMD = 'npm.cmd' if platform.system().lower() == 'windows' else 'npm'\r\n```\r\n\r\nThis means that the command to run NPM on Windows *must* be exactly `npm.cmd`, or else `codeartifact login` will not find it. But Volta does not create a `.cmd` batch file for NPM.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.11.4 Python/3.11.2 Windows/10 exe/AMD64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nWindows 11 22H2, Volta 1.1.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7771/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7740", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7740/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7740/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7740/events", "html_url": "https://github.com/aws/aws-cli/issues/7740", "id": 1617781863, "node_id": "I_kwDOAGd3X85gbWRn", "number": 7740, "title": "`--deletion-protection-enabled` added to AWS CLI V1 but missing from AWS CLI V2", "user": {"login": "ylhan", "id": 23009089, "node_id": "MDQ6VXNlcjIzMDA5MDg5", "avatar_url": "https://avatars.githubusercontent.com/u/23009089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ylhan", "html_url": "https://github.com/ylhan", "followers_url": "https://api.github.com/users/ylhan/followers", "following_url": "https://api.github.com/users/ylhan/following{/other_user}", "gists_url": "https://api.github.com/users/ylhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ylhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ylhan/subscriptions", "organizations_url": "https://api.github.com/users/ylhan/orgs", "repos_url": "https://api.github.com/users/ylhan/repos", "events_url": "https://api.github.com/users/ylhan/events{/privacy}", "received_events_url": "https://api.github.com/users/ylhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 335130062, "node_id": "MDU6TGFiZWwzMzUxMzAwNjI=", "url": "https://api.github.com/repos/aws/aws-cli/labels/dynamodb", "name": "dynamodb", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2023-03-09T18:28:27Z", "updated_at": "2023-03-10T23:27:11Z", "closed_at": "2023-03-10T23:26:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nDynamoDB's `--deletion-protection-enabled` flag was just added ([source](https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-dynamodb-table-deletion-protection/)). It seems like it was added to AWS CLI V1 ([source](https://docs.aws.amazon.com/cli/latest/reference/dynamodb/update-table.html)), but for AWS CLI V2 the option isn't there ([source](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/update-table.html)).\n\n### Expected Behavior\n\nThe command to succeed and deletion protection enabled.\n\n### Current Behavior\n\nCommand fails because option cannot be found\n\n### Reproduction Steps\n\n```\r\naws dynamodb update-table --table-name my_table --deletion-protection-enabled\r\n\r\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\n\r\nUnknown options: --deletion-protection-enabled\r\n```\n\n### Possible Solution\n\nAdd the flag to AWS CLI V2\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.11.1 Python/3.11.2 Darwin/21.4.0 exe/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nProductName:\tmacOS ProductVersion:\t12.3 BuildVersion:\t21E230", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7740/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7730", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7730/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7730/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7730/events", "html_url": "https://github.com/aws/aws-cli/issues/7730", "id": 1613609870, "node_id": "I_kwDOAGd3X85gLbuO", "number": 7730, "title": "Aws-cli : An error occurred (404) when calling the CreateFunctionUrlConfig ", "user": {"login": "301991Johnson", "id": 127124518, "node_id": "U_kgDOB5PEJg", "avatar_url": "https://avatars.githubusercontent.com/u/127124518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/301991Johnson", "html_url": "https://github.com/301991Johnson", "followers_url": "https://api.github.com/users/301991Johnson/followers", "following_url": "https://api.github.com/users/301991Johnson/following{/other_user}", "gists_url": "https://api.github.com/users/301991Johnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/301991Johnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/301991Johnson/subscriptions", "organizations_url": "https://api.github.com/users/301991Johnson/orgs", "repos_url": "https://api.github.com/users/301991Johnson/repos", "events_url": "https://api.github.com/users/301991Johnson/events{/privacy}", "received_events_url": "https://api.github.com/users/301991Johnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-07T14:46:02Z", "updated_at": "2023-03-07T15:03:05Z", "closed_at": "2023-03-07T15:02:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nERROR SNAP:\r\n\r\nThe requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.\r\n\r\nC:\\Workspace\\repo\r\nCommand to exec - aws --endpoint-url=http://localhost:4566/ lambda get-function-url-config --function-name myFunction\r\n\r\nAn error occurred (404) when calling the GetFunctionUrlConfig operation:\r\n\r\n<title>404 Not Found</title>\r\n\r\n\r\n\r\nDocker.yaml\r\n\r\nversion: '3.1'\r\n\r\nservices:\r\nlocalstack:\r\nimage: localstack/localstack:latest\r\nenvironment:\r\n- AWS_REGION=us-east-1\r\n- USE_SINGLE_REGION=1\r\n- DEFAULT_REGION=us-east-1\r\n- SERVICES=${SERVICES-lambda,s3,ssm}\r\n- DEBUG=1\r\n- DATA_DIR=${DATA_DIR-}\r\n- PORT_WEB_UI=${PORT_WEB_UI-}\r\n- LAMBDA_EXECUTOR=local\r\n- KINESIS_ERROR_PROBABILITY=${KINESIS_ERROR_PROBABILITY-}\r\n- DOCKER_HOST=unix:///var/run/docker.sock\r\n- LAMBDA_DOCKER_NETWORK=localstack_default\r\n- HOST_TMP_FOLDER=${TMPDIR}\r\n- EDGE_PORT=4566\r\n- SERVICES=lambda,s3,cloudformation,sts,ssm\r\n\r\nports: \r\n  - '4566-4597:4566-4597'\r\nvolumes: \r\n  - \"${TEMPDIR:-/tmp/localstack}:/temp/localstack\"\r\n  - \"/var/run/docker.sock:/var/run/docker.sock\"\r\n![aws-cli-1](https://user-images.githubusercontent.com/127124518/223450935-569b6c43-1aee-4f53-aa9e-b7696e27e955.png)\r\n![docker-1](https://user-images.githubusercontent.com/127124518/223450998-c3ba452c-4bbb-4ae6-91d8-20210d483bc8.png)\r\n\n\n### Expected Behavior\n\ncreate function-url should generate url and attached it to the function.\n\n### Current Behavior\n\ngetting error while calling the createfunctionurl aws-cli command\r\n\r\nThe requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.\r\n\r\nC:\\Workspace\\repo\r\nCommand to exec - aws --endpoint-url=http://localhost:4566/ lambda get-function-url-config --function-name myFunction\r\n\r\nAn error occurred (404) when calling the GetFunctionUrlConfig operation:\r\n\r\n<title>404 Not Found</title>\r\n\n\n### Reproduction Steps\n\nRunning the following comands:\r\n\r\n1.run create function aws-cli command \r\n2.run createFunctionurl aws-cli command\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.8.2 Python/3.9.11 Windows/10 exe/AMD64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nwindows 10 Enterprise ,  version - 21H2", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7730/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7724", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7724/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7724/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7724/events", "html_url": "https://github.com/aws/aws-cli/issues/7724", "id": 1611641134, "node_id": "I_kwDOAGd3X85gD7Eu", "number": 7724, "title": "aws eks update-kubeconfig doesn't generate config with env var AWS_SHARED_CREDENTIALS_FILE", "user": {"login": "zhnu", "id": 35228068, "node_id": "MDQ6VXNlcjM1MjI4MDY4", "avatar_url": "https://avatars.githubusercontent.com/u/35228068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhnu", "html_url": "https://github.com/zhnu", "followers_url": "https://api.github.com/users/zhnu/followers", "following_url": "https://api.github.com/users/zhnu/following{/other_user}", "gists_url": "https://api.github.com/users/zhnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhnu/subscriptions", "organizations_url": "https://api.github.com/users/zhnu/orgs", "repos_url": "https://api.github.com/users/zhnu/repos", "events_url": "https://api.github.com/users/zhnu/events{/privacy}", "received_events_url": "https://api.github.com/users/zhnu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 4723087635, "node_id": "LA_kwDOAGd3X88AAAABGYSZEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/p1", "name": "p1", "color": "FF4500", "default": false, "description": "This is a high priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2023-03-06T15:14:49Z", "updated_at": "2023-03-07T18:19:25Z", "closed_at": "2023-03-06T23:39:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nHi, when running `aws eks update-kubeconfig --kubeconfig example` the environment variable (if set) `AWS_SHARED_CREDENTIALS_FILE` isn't appended to the generated kubeconfig, while the environment variable  `AWS_PROFILE` is. This causes failures in libraries that use this kubeconfig to authenticate (for example the python kubernetes client library).\r\n\r\n### Expected Behavior\r\n\r\nExpected to either cli set the environment var on the kubeconfig if exists or documentation warning.\r\n\r\n### Current Behavior\r\n\r\nCurrently the environment variable is read during the command but not written to the kubeconfig file output.\r\n\r\n### Reproduction Steps\r\n\r\n`\r\nexport AWS_SHARED_CREDENTIALS_FILE=\"~/.aws/test.credentials\"\r\naws --region \"something\" --profile \"something\" eks update-kubeconfig --name \"example-cluster\" --kubeconfig kubeconfig\r\nunset AWS_SHARED_CREDENTIALS_FILE\r\n`\r\ntest.py\r\n\r\n`from kubernetes import client, config\r\n\r\nconfig.load_kube_config(config_file='./kubeconfig')\r\n\r\nv1 = client.CoreV1Api()\r\nprint(\"Listing pods with their IPs:\")\r\nret = v1.list_pod_for_all_namespaces(watch=False)\r\nfor i in ret.items:\r\n    print(\"%s\\t%s\\t%s\" % (i.status.pod_ip, i.metadata.namespace, i.metadata.name))`\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.10.1\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nLinux 22.04.1-Ubuntu", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7724/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7723", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7723/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7723/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7723/events", "html_url": "https://github.com/aws/aws-cli/issues/7723", "id": 1611600727, "node_id": "I_kwDOAGd3X85gDxNX", "number": 7723, "title": "Parameter output = text blocks kubectl from working.", "user": {"login": "robinpecha", "id": 9316280, "node_id": "MDQ6VXNlcjkzMTYyODA=", "avatar_url": "https://avatars.githubusercontent.com/u/9316280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinpecha", "html_url": "https://github.com/robinpecha", "followers_url": "https://api.github.com/users/robinpecha/followers", "following_url": "https://api.github.com/users/robinpecha/following{/other_user}", "gists_url": "https://api.github.com/users/robinpecha/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinpecha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinpecha/subscriptions", "organizations_url": "https://api.github.com/users/robinpecha/orgs", "repos_url": "https://api.github.com/users/robinpecha/repos", "events_url": "https://api.github.com/users/robinpecha/events{/privacy}", "received_events_url": "https://api.github.com/users/robinpecha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 4723087635, "node_id": "LA_kwDOAGd3X88AAAABGYSZEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/p1", "name": "p1", "color": "FF4500", "default": false, "description": "This is a high priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2023-03-06T14:55:11Z", "updated_at": "2023-03-07T18:16:48Z", "closed_at": "2023-03-06T23:39:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nAfter the last AWS-CLI upgrade, kubectl stopped working when you have parameter output = text in .aws/config\r\n\r\n\r\n\n\n### Expected Behavior\n\n$ kubectl get ns\r\naws eks list-clusters \r\n{\r\n    \"clusters\": [\r\n        \"cluster-sandbox\"\r\n    ]\r\n}\r\n$ aws eks update-kubeconfig --name cluster-sandbox\r\nUpdated context arn:aws:eks:eu-west-2:123456789:cluster/cluster-sandbox in /home/devops/.kube/config\r\n$ kubectl config current-context\r\narn:aws:eks:eu-west-2:123456789:cluster/cluster-sandbox\r\n$ kubectl get namespace\r\nNAME              STATUS   AGE\r\ndefault           Active   33d\r\n\n\n### Current Behavior\n\n$ kubectl get ns\r\naws eks list-clusters \r\n{\r\n    \"clusters\": [\r\n        \"cluster-sandbox\"\r\n    ]\r\n}\r\n$ aws eks update-kubeconfig --name cluster-sandbox\r\nUpdated context arn:aws:eks:eu-west-2:123456789:cluster/cluster-sandbox in /home/devops/.kube/config\r\n$ kubectl config current-context\r\narn:aws:eks:eu-west-2:123456789:cluster/cluster-sandbox\r\n$ kubectl get namespace\r\nUnable to connect to the server: getting credentials: decoding stdout: couldn't get version/kind; json parse error: json: cannot unmarshal string into Go value of type struct { APIVersion string \"json:\\\"apiVersion,omitempty\\\"\"; Kind string \"json:\\\"kind,omitempty\\\"\" }\r\n\r\n\r\n\n\n### Reproduction Steps\n\nPut in your .aws/config value output = text , update your kubeconfig and try to connect there:\r\n$ aws eks update-kubeconfig --name cluster-sandbox\r\n$ kubectl config current-context\r\n$ kubectl get namespace\r\n\n\n### Possible Solution\n\nRemove any output = text from .aws/config\n\n### Additional Information/Context\n\nVersions:\r\nUbuntu 22.04.2 LTS\r\nLinux 5.19.0-35-generic #36~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Fri Feb 17 15:17:25 UTC 2 x86_64 x86_64 x86_64 \r\naws-cli/2.11.0 Python/3.11.2 Linux/5.19.0-35-generic exe/x86_64.ubuntu.22 prompt/off\r\nkubectl: Client Version: version.Info{Major:\"1\", Minor:\"26\", GitVersion:\"v1.26.2\", ... GoVersion:\"go1.19.6\", ...\r\nKustomize Version: v4.5.7\r\nPython 3.10.6\n\n### CLI version used\n\n2.11\n\n### Environment details (OS name and version, etc.)\n\nUbuntu 22.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7723/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7719", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7719/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7719/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7719/events", "html_url": "https://github.com/aws/aws-cli/issues/7719", "id": 1609298967, "node_id": "I_kwDOAGd3X85f6_QX", "number": 7719, "title": "Malformed response when requesting EKS token from gov-cloud (affects `>=2.10.4`)", "user": {"login": "timfallmk", "id": 5316117, "node_id": "MDQ6VXNlcjUzMTYxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5316117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timfallmk", "html_url": "https://github.com/timfallmk", "followers_url": "https://api.github.com/users/timfallmk/followers", "following_url": "https://api.github.com/users/timfallmk/following{/other_user}", "gists_url": "https://api.github.com/users/timfallmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/timfallmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timfallmk/subscriptions", "organizations_url": "https://api.github.com/users/timfallmk/orgs", "repos_url": "https://api.github.com/users/timfallmk/repos", "events_url": "https://api.github.com/users/timfallmk/events{/privacy}", "received_events_url": "https://api.github.com/users/timfallmk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2747669231, "node_id": "MDU6TGFiZWwyNzQ3NjY5MjMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-get-token", "name": "eks-get-token", "color": "b60205", "default": false, "description": ""}, {"id": 4723087635, "node_id": "LA_kwDOAGd3X88AAAABGYSZEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/p1", "name": "p1", "color": "FF4500", "default": false, "description": "This is a high priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2023-03-03T21:55:36Z", "updated_at": "2023-03-07T22:11:35Z", "closed_at": "2023-03-06T23:39:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nAfter updating to cli v `2.10.4` (and continuing in `2.11.0`) we get the following response from our clusters running in Gov-Cloud\r\n```shell\r\nkubectl get pods\r\nUnable to connect to the server: getting credentials: decoding stdout: couldn't get version/kind; json parse error: json: cannot unmarshal array into Go value of type struct { APIVersion string \"json:\\\"apiVersion,omitempty\\\"\"; Kind string \"json:\\\"kind,omitempty\\\"\" }\r\n```\r\nWe get the same response from every `kubectl` request.\r\n\r\nNarrowed the problem down to the authentication step callout to `aws eks get-token`. With debug logs on, error occurs after the following lines:\r\n```shell\r\nhost:sts.us-gov-west-1.amazonaws.com\r\nx-k8s-aws-id:farpoint\r\n\r\nhost;x-k8s-aws-id\r\n<earlier call stack>\r\n<snip>\r\n2023-03-03 13:43:15,726 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20230303T214315Z\r\n20230303/us-gov-west-1/sts/aws4_request\r\n<snip>\r\n2023-03-03 13:43:15,726 - MainThread - botocore.auth - DEBUG - Signature:\r\n<snip>\r\n```\r\n\r\nA few key details:\r\n- Region: `us-gov-west-1`\r\n- kubectl version:\r\n```shell\r\nClient Version: v1.25.6\r\nKustomize Version: v4.5.7\r\nServer Version: v1.25.6-eks-48e63af\r\n```\r\n- Clusters are EKS running 1.25 and provisioned with `eksctl`\r\n- We use `aws sso` for account auth and token generation\r\n\r\nConfirmed a few things:\r\n- Does not happen when using fixed IAM credentials, either via `aws` or `aws-iam-authenticator`\r\n- Does not happen for cli <=`2.10.3`\r\n\r\nI can't seem to get any more debug logs so I can't dig further, but feels like a malformed response somewhere? Naked `aws eks get-token` seems to return expected results.\n\n### Expected Behavior\n\n`kubectl` command returns data\n\n### Current Behavior\n\n```shell\r\nkubectl get pods\r\nUnable to connect to the server: getting credentials: decoding stdout: couldn't get version/kind; json parse error: json: cannot unmarshal array into Go value of type struct { APIVersion string \"json:\\\"apiVersion,omitempty\\\"\"; Kind string \"json:\\\"kind,omitempty\\\"\" }\r\n```\r\nHappens for all subcommands checked (that interact with the server)\n\n### Reproduction Steps\n\nNeeds:\r\n- EKS cluster 1.25 in Gov-Cloud region\r\n- AWS SSO setup and used as login method\r\n\r\nDoesn't work:\r\n```shell\r\nasdf shell awscli 2.10.4/2.11.0/latest\r\nkubectl X\r\nUnable to connect to the server: getting credentials: decoding stdout: couldn't get version/kind; json parse error: json: cannot unmarshal array into Go value of type struct { APIVersion string \"json:\\\"apiVersion,omitempty\\\"\"; Kind string \"json:\\\"kind,omitempty\\\"\" }\r\n```\r\n\r\nDoes work:\r\n```shell\r\nasdf shell awscli 2.10.3 (or before)\r\nkubectl X\r\n<expected output>\r\n```\n\n### Possible Solution\n\nSmells like a malformed HTML response is trying to get unmarshalled (just to my \ud83d\udc43 )\r\nDowngrading to `2.10.3` or earlier is a viable workaround for now\n\n### Additional Information/Context\n\nAWS SSO connected to Azure AD IdP\n\n### CLI version used\n\n2.10.4+\n\n### Environment details (OS name and version, etc.)\n\nmacOS 13.2.1, kubectl and awscli via homebrew", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7719/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7719/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7641", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7641/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7641/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7641/events", "html_url": "https://github.com/aws/aws-cli/issues/7641", "id": 1571408452, "node_id": "I_kwDOAGd3X85dqcpE", "number": 7641, "title": "Role \"Description\" field is missing from aws iam get-role", "user": {"login": "gtmtech", "id": 2953949, "node_id": "MDQ6VXNlcjI5NTM5NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2953949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtmtech", "html_url": "https://github.com/gtmtech", "followers_url": "https://api.github.com/users/gtmtech/followers", "following_url": "https://api.github.com/users/gtmtech/following{/other_user}", "gists_url": "https://api.github.com/users/gtmtech/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtmtech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtmtech/subscriptions", "organizations_url": "https://api.github.com/users/gtmtech/orgs", "repos_url": "https://api.github.com/users/gtmtech/repos", "events_url": "https://api.github.com/users/gtmtech/events{/privacy}", "received_events_url": "https://api.github.com/users/gtmtech/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-02-05T12:23:30Z", "updated_at": "2023-02-05T16:55:11Z", "closed_at": "2023-02-05T16:54:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI have tried many different versions of the awscli including the latest (2.91), and going back to 1.22.72 - and when I query a role with `aws iam get-role`, it returns a Role document with a missing Description field. This despite the fact that the role in question has a Description field, and I can see it in the AWS Management Console. \r\n\r\nIt's just..... missing\r\n\r\n```\r\n{\r\n    \"Role\": {\r\n        \"Path\": \"/\",\r\n        \"RoleName\": \"myrole\",\r\n        \"RoleId\": \"AROA***********\",\r\n        \"Arn\": \"arn:aws:iam::************:role/myrole\",\r\n        \"CreateDate\": \"2019-09-20T15:27:02+00:00\",\r\n        \"AssumeRolePolicyDocument\": {\r\n            \"Version\": \"2012-10-17\",\r\n            \"Statement\": [\r\n                {\r\n                    \"Effect\": \"Allow\",\r\n                    \"Principal\": {\r\n                        \"Federated\": \"arn:aws:iam::************:saml-provider/*****\"\r\n                    },\r\n                    \"Action\": \"sts:AssumeRoleWithSAML\",\r\n                    \"Condition\": {\r\n                        \"StringEquals\": {\r\n                            \"SAML:aud\": \"https://signin.aws.amazon.com/saml\"\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n        \"MaxSessionDuration\": 43200,\r\n        \"PermissionsBoundary\": {\r\n            \"PermissionsBoundaryType\": \"Policy\",\r\n            \"PermissionsBoundaryArn\": \"arn:aws:iam::************:policy/org/mypb\"\r\n        },\r\n        \"Tags\": [\r\n            {\r\n                \"Key\": \"Project\",\r\n                \"Value\": \"myproject\"\r\n            },\r\n            {\r\n                \"Key\": \"Repository\",\r\n                \"Value\": \"github.com/foo/bar\"\r\n            },\r\n            {\r\n                \"Key\": \"Owner\",\r\n                \"Value\": \"me\"\r\n            },\r\n            {\r\n                \"Key\": \"Environment\",\r\n                \"Value\": \"prod\"\r\n            }\r\n        ],\r\n        \"RoleLastUsed\": {\r\n            \"LastUsedDate\": \"2022-09-20T11:00:17+00:00\",\r\n            \"Region\": \"us-east-1\"\r\n        }\r\n    }\r\n}\r\n```\n\n### Expected Behavior\n\nThe role has a description set, so I would expect the Role document to include the Description field. \r\n\r\nThis is also evident in the awscli docs for `aws iam get-role` which expects to see a Role document with a Description field. \n\n### Current Behavior\n\nNo Description field was returned in the Role document, despite being set and viewable in the console\n\n### Reproduction Steps\n\nI guess create a role, give it a description, and then try and query it with the aws iam get-role command. \r\n\n\n### Possible Solution\n\nSome other possibly useful bits of info.\r\n\r\nMy creds were obtained by first getting a role with aws:stsAssumeRoleWithSAML, and then using that to switch over to another role in another account using aws:stsAssumeRole. \r\n\r\nThis 2nd role is the one I use to execute the aws iam get-role command. This 2nd role has the ReadOnlyAccess aws managed policy attached - so has full read permissions to IAM etc.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.9.21\n\n### Environment details (OS name and version, etc.)\n\nMac OSX, Darwin, Ventura", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7591", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7591/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7591/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7591/events", "html_url": "https://github.com/aws/aws-cli/issues/7591", "id": 1534607676, "node_id": "I_kwDOAGd3X85beEE8", "number": 7591, "title": "aws iot register-ca-certificate: SNI_ONLY: following arguments are required: --verification-certificate", "user": {"login": "terryhighfield-gc", "id": 68371264, "node_id": "MDQ6VXNlcjY4MzcxMjY0", "avatar_url": "https://avatars.githubusercontent.com/u/68371264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/terryhighfield-gc", "html_url": "https://github.com/terryhighfield-gc", "followers_url": "https://api.github.com/users/terryhighfield-gc/followers", "following_url": "https://api.github.com/users/terryhighfield-gc/following{/other_user}", "gists_url": "https://api.github.com/users/terryhighfield-gc/gists{/gist_id}", "starred_url": "https://api.github.com/users/terryhighfield-gc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/terryhighfield-gc/subscriptions", "organizations_url": "https://api.github.com/users/terryhighfield-gc/orgs", "repos_url": "https://api.github.com/users/terryhighfield-gc/repos", "events_url": "https://api.github.com/users/terryhighfield-gc/events{/privacy}", "received_events_url": "https://api.github.com/users/terryhighfield-gc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-16T09:38:18Z", "updated_at": "2023-01-16T11:15:04Z", "closed_at": "2023-01-16T11:14:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\n```\r\naws iot register-ca-certificate --certificate-mode SNI_ONLY --ca-certificate file://int1-ca.crt.pem --certificate-mode SNI_ONLY\r\n```\r\n\r\n`aws: error: the following arguments are required: --verification-certificate`\r\n\r\nThe documentation states that the verification certificate is not required for cert mode SNI_ONLY. https://docs.aws.amazon.com/iot/latest/developerguide/register-CA-cert.html \r\n\r\nI'm following the directions on an AWS example here: https://github.com/aws-samples/aws-device-lobby/blob/main/pki/README.md. This is an example for AWS IOT Device Lobby.\r\n\r\n### Expected Behavior\r\n\r\nvertification certificate is not required for `--certificate-mode SNI_ONLY`\r\n\r\nAlso stated in the documentation:\r\nhttps://awscli.amazonaws.com/v2/documentation/api/latest/reference/iot/register-ca-certificate.html\r\n> --certificate-mode (string)\r\n> \r\n> Describes the certificate mode in which the Certificate Authority (CA) will be registered. If the verificationCertificate field is not provided, set certificateMode to be SNI_ONLY . If the verificationCertificate field is provided, set certificateMode to be DEFAULT . When certificateMode is not provided, it defaults to DEFAULT . All the device certificates that are registered using this CA will be registered in the same [certificate mode](https://docs.aws.amazon.com/iot/latest/apireference/API_CertificateDescription.html#iot-Type-CertificateDescription-certificateMode) as the CA. For more information about certificate mode for device certificates, see certificate mode .\r\n\r\nand\r\n\r\n> --verification-certificate (string)\r\n> \r\n> The private key verification certificate. If certificateMode is SNI_ONLY , the verificationCertificate field must be empty. If certificateMode is DEFAULT or not provided, the verificationCertificate field must not be empty.\r\n\r\n### Current Behavior\r\n\r\nerror thrown `aws: error: the following arguments are required: --verification-certificate` when certificate mode is SNI_ONLY\r\n\r\n### Reproduction Steps\r\n\r\nDetailed in this readme: https://github.com/aws-samples/aws-device-lobby/blob/main/pki/README.md\r\n\r\nGen certs:\r\n```\r\n#Create root CA private key, cert and signing resources\r\ncd root-ca/\r\nopenssl genrsa -out root-ca-priv.key.pem 2048\r\nopenssl req -config rootCA.cnf -x509 -extensions v3_req -new -nodes -key root-ca-priv.key.pem -sha256 -days 9999 -out rootCA.crt.pem\r\ntouch index.txt\r\ntouch index.txt.attr\r\necho \"4242\" > serial\r\n\r\n\r\n# Create Intermediate 1 private key, CSR and signing resources\r\ncd ../int1-ca/\r\nopenssl genrsa -out int1-ca-priv.key.pem 2048\r\nopenssl req -config int1CA.cnf -new -sha256 -key int1-ca-priv.key.pem -out int1-ca.csr.pem\r\ntouch index.txt\r\ntouch index.txt.attr\r\necho \"424242\" > serial\r\n\r\n# Create Int 1 cert from csr by root ca\r\ncd ../root-ca/\r\nopenssl ca -batch -config rootCA.cnf -extensions v3_req -days 3650 -md sha256 -in ../int1-ca/int1-ca.csr.pem -out ../int1-ca/int1-ca.crt.pem\r\n```\r\nRegister cert\r\n```\r\ncd ../int1-ca/\r\naws iot register-ca-certificate --ca-certificate file://int1-ca.crt.pem --certificate-mode SNI_ONLY --set-as-active --allow-auto-registration --region $AWS_REGION\r\n\r\n```\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.5.2 Python/3.9.11 Darwin/21.6.0 exe/x86_64 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nMacOS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7591/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7590", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7590/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7590/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7590/events", "html_url": "https://github.com/aws/aws-cli/pull/7590", "id": 1533137712, "node_id": "PR_kwDOAGd3X85HX9Dn", "number": 7590, "title": "Pin version of alabaster", "user": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1180550234, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM0", "url": "https://api.github.com/repos/aws/aws-cli/labels/dependencies", "name": "dependencies", "color": "40C8B6", "default": false, "description": "This issue is a problem in a dependency."}, {"id": 1871236656, "node_id": "MDU6TGFiZWwxODcxMjM2NjU2", "url": "https://api.github.com/repos/aws/aws-cli/labels/contribution:core", "name": "contribution:core", "color": "DA5F98", "default": false, "description": "This is a PR that came from AWS."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2023-01-14T04:56:22Z", "updated_at": "2023-01-17T18:48:55Z", "closed_at": "2023-01-17T18:48:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/7590", "html_url": "https://github.com/aws/aws-cli/pull/7590", "diff_url": "https://github.com/aws/aws-cli/pull/7590.diff", "patch_url": "https://github.com/aws/aws-cli/pull/7590.patch", "merged_at": "2023-01-17T18:48:54Z"}, "body": "*Issue #, if available:*\r\n\r\n*Description of changes:*\r\n\r\nRecent version of alabaster (0.7.13) requires sphinx>=1.6. This also pins dependencies of sphinx until we upgrade.\r\n\r\nRelated PRs for boto/botocore#2849 and boto/boto3#3557.\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7590/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7590/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7589", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7589/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7589/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7589/events", "html_url": "https://github.com/aws/aws-cli/issues/7589", "id": 1533032602, "node_id": "I_kwDOAGd3X85bYDia", "number": 7589, "title": "EMR on EKS Read From S3 Cross Account Access Denied", "user": {"login": "rjtshrm", "id": 6351392, "node_id": "MDQ6VXNlcjYzNTEzOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/6351392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjtshrm", "html_url": "https://github.com/rjtshrm", "followers_url": "https://api.github.com/users/rjtshrm/followers", "following_url": "https://api.github.com/users/rjtshrm/following{/other_user}", "gists_url": "https://api.github.com/users/rjtshrm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjtshrm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjtshrm/subscriptions", "organizations_url": "https://api.github.com/users/rjtshrm/orgs", "repos_url": "https://api.github.com/users/rjtshrm/repos", "events_url": "https://api.github.com/users/rjtshrm/events{/privacy}", "received_events_url": "https://api.github.com/users/rjtshrm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-13T23:31:31Z", "updated_at": "2023-01-16T18:15:14Z", "closed_at": "2023-01-16T18:14:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI am trying to access S3 buckets (DEV env) from EMR on EKS (INT env) cluster running on different accounts. I have created the IAM roles and configurations following the guide on [EMR on EKS cross-account access \r\n setup guide][1] . When I start my spark job I get error logs on S3 Bucket read operation that the access is denied. \r\n\r\nOn further debugging, I also get access denied error when I manually do `aws s3 ls` inside the spark job pod shell. \r\n\r\nFor DEV account, the IAM role is **TestEMRCA** with following policy and trust relationship\r\n     \r\n    // permission policy\r\n    {\r\n        \"Version\": \"2012-10-17\",\r\n        \"Statement\": [\r\n            {\r\n                \"Effect\": \"Allow\",\r\n                \"Action\": [\r\n                    \"s3:Get*\",\r\n                    \"s3:List*\",\r\n                    \"s3-object-lambda:Get*\",\r\n                    \"s3-object-lambda:List*\"\r\n                ],\r\n                \"Resource\": \"*\"\r\n            }\r\n        ]\r\n    }\r\n\r\n    // trust policy\r\n    {\r\n        \"Version\": \"2012-10-17\",\r\n        \"Statement\": [\r\n            {\r\n                \"Sid\": \"AR\",\r\n                \"Effect\": \"Allow\",\r\n                \"Principal\": {\r\n                    \"AWS\": \"arn:aws:iam::INT_ID:role/emr_on_eks\" //Job Execution Role\r\n                },\r\n                \"Action\": \"sts:AssumeRole\"\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\nFor INT account, the IAM role is **emr_on_eks** with following policy and trust relationship. It is also the job execution role for the EMR to run jobs\r\n\r\n\r\n    // permission policy\r\n    {\r\n        \"Version\": \"2012-10-17\",\r\n        \"Statement\": [\r\n            {\r\n                \"Sid\": \"VisualEditor0\",\r\n                \"Effect\": \"Allow\",\r\n                \"Action\": [\r\n                    \"s3:PutObject\",\r\n                    \"s3:GetObject\",\r\n                    \"logs:CreateLogStream\",\r\n                    \"logs:DescribeLogGroups\",\r\n                    \"logs:DescribeLogStreams\",\r\n                    \"s3:ListBucket\",\r\n                    \"logs:PutLogEvents\"\r\n                ],\r\n                \"Resource\": \"*\"\r\n            },\r\n            {\r\n                \"Sid\": \"VisualEditor2\",\r\n                \"Effect\": \"Allow\",\r\n                \"Action\": \"sts:AssumeRole\",\r\n                \"Resource\": \"arn:aws:iam::DEV_ID:role/TestEMRCA\" \r\n            }\r\n        ]\r\n    }\r\n    \r\n    // trust policy \r\n    {\r\n        \"Version\": \"2012-10-17\",\r\n        \"Statement\": [\r\n            {\r\n                \"Effect\": \"Allow\",\r\n                \"Principal\": {\r\n                    \"Service\": \"elasticmapreduce.amazonaws.com\"\r\n                },\r\n                \"Action\": \"sts:AssumeRole\"\r\n            },\r\n            {\r\n                \"Effect\": \"Allow\",\r\n                \"Principal\": {\r\n                    \"Federated\": \"arn:aws:iam::DEV_ID:oidc-provider/<OIDC_URL>/id/<OIDC_ID>\"\r\n                },\r\n                \"Action\": \"sts:AssumeRoleWithWebIdentity\",\r\n                \"Condition\": {\r\n                    \"StringLike\": {\r\n                        \"<OIDC_URL>/id/<OIDC_ID>:sub\": \"system:serviceaccount:<NAMESPACE>:<SA>\"\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\nTo test if there is problem in IAM role in DEV account, I created a new ROLE and associated that in service account in EKS cluster on INT account. When I run pod shell annotated with that service account, I can access the buckets (using `aws s3 ls`).\r\n\r\nI don't know what I'm missing in case of EMR on EKS as there is only one tutorial from AWS I found and followed, I hope someone can help me.\r\n\r\nUPDATE: I tried to manually assume the DEVB role and then set the AWS env vars. \r\nI can access the s3 buckets, If I manually do set AWS env var which are as follows \r\n\r\n    aws sts assume-role --role-arn arn:aws:iam::DEV_ID:role/TestEMRCA --role-session-name s3-access-example\r\n    export AWS_ACCESS_KEY_ID=VAL_FROM_ABOVE_CMD\r\n    export AWS_SECRET_ACCESS_KEY=VAL2\r\n    export AWS_SESSION_TOKEN=VAL3\r\n\r\nDoing this I can access the buckets but this is manual thing which I don't want to do.\r\n\r\nSince EMR on EKS has this conf param `--conf spark.hadoop.fs.s3.customAWSCredentialsProvider=com.amazonaws.emr.AssumeRoleAWSCredentialsProvider --conf spark.kubernetes.driverEnv.ASSUME_ROLE_CREDENTIALS_ROLE_ARN=arn:aws:iam::DEV_ID:role/TestEMRCA --role-session-name --conf spark.executorEnv.ASSUME_ROLE_CREDENTIALS_ROLE_ARN=arn:aws:iam::DEV_ID:role/TestEMRCA --role-session-name\"` to automatically assume the role, if I correctly understand. I think either this is a bug or am is still missing. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/emr/latest/EMR-on-EKS-DevelopmentGuide/security-cross-account.html\r\n\n\n### Expected Behavior\n\nI should access the s3 bucket from the other account\n\n### Current Behavior\n\nGetting access denied error\n\n### Reproduction Steps\n\nMentioned in Describe the bug section.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.9.13\n\n### Environment details (OS name and version, etc.)\n\nEMR version: emr-5.35.0-latest", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7580", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7580/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7580/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7580/events", "html_url": "https://github.com/aws/aws-cli/issues/7580", "id": 1530128307, "node_id": "I_kwDOAGd3X85bM-ez", "number": 7580, "title": "aws configure get aws_session_token --profile doesn't produce output on linux, does on mac", "user": {"login": "delprofundo", "id": 4725012, "node_id": "MDQ6VXNlcjQ3MjUwMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4725012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delprofundo", "html_url": "https://github.com/delprofundo", "followers_url": "https://api.github.com/users/delprofundo/followers", "following_url": "https://api.github.com/users/delprofundo/following{/other_user}", "gists_url": "https://api.github.com/users/delprofundo/gists{/gist_id}", "starred_url": "https://api.github.com/users/delprofundo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delprofundo/subscriptions", "organizations_url": "https://api.github.com/users/delprofundo/orgs", "repos_url": "https://api.github.com/users/delprofundo/repos", "events_url": "https://api.github.com/users/delprofundo/events{/privacy}", "received_events_url": "https://api.github.com/users/delprofundo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-12T05:22:53Z", "updated_at": "2023-01-12T05:36:10Z", "closed_at": "2023-01-12T05:35:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWe use the above mentioned function in a script that manages all our accounts and CLI envars.\r\n\r\nWe've been using it for about 2 years. We've recently introduced some linux users (we had some a year ago) but the script no longer populates the envars.\r\n\r\nAfter some digging we established its the above mentioned.\r\n\r\nIf we run that command alone (pointing at a valid profile) on one of our mac's it echo's out the token. If we run the same command on a linux machine there is no output.\r\n\r\nIs it not expected that running `aws configure get aws_session_token --profile {profile}` will output the value? According to the documentation it should. \n\n### Expected Behavior\n\noutput the session token\n\n### Current Behavior\n\nno output\n\n### Reproduction Steps\n\nhave your properly configured ~/.aws folder and run:\r\n\r\n`aws configure get aws_session_token --profile {insert profile}`\r\n\r\nGet no output (on linux)\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nMac (various up to aws-cli/2.9.14) Linux (2.9.14)\n\n### Environment details (OS name and version, etc.)\n\nMacM1, Ubuntu 22.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7562", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7562/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7562/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7562/events", "html_url": "https://github.com/aws/aws-cli/issues/7562", "id": 1518022485, "node_id": "I_kwDOAGd3X85aey9V", "number": 7562, "title": "built-in help not properly formatting - probably missing a formatting code", "user": {"login": "buchs", "id": 797361, "node_id": "MDQ6VXNlcjc5NzM2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/797361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/buchs", "html_url": "https://github.com/buchs", "followers_url": "https://api.github.com/users/buchs/followers", "following_url": "https://api.github.com/users/buchs/following{/other_user}", "gists_url": "https://api.github.com/users/buchs/gists{/gist_id}", "starred_url": "https://api.github.com/users/buchs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/buchs/subscriptions", "organizations_url": "https://api.github.com/users/buchs/orgs", "repos_url": "https://api.github.com/users/buchs/repos", "events_url": "https://api.github.com/users/buchs/events{/privacy}", "received_events_url": "https://api.github.com/users/buchs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 4723087672, "node_id": "LA_kwDOAGd3X88AAAABGYSZOA", "url": "https://api.github.com/repos/aws/aws-cli/labels/p2", "name": "p2", "color": "FF8C00", "default": false, "description": "This is a standard priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2023-01-03T22:58:42Z", "updated_at": "2023-01-04T18:42:42Z", "closed_at": "2023-01-04T18:42:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the issue\n\nInstalled the lastest version, as of today: \r\n\r\n```bash\r\n$ aws --version\r\naws-cli/2.9.12 Python/3.9.11 Linux/5.15.0-56-generic exe/x86_64.ubuntu.22 prompt/off\r\n$ aws help config-vars\r\n\r\n# output to stderr:\r\n<string>:450: (ERROR/3) Unknown interpreted text role \"doc\".\r\n\r\n# output to stdout:\r\nWS CLI CONFIGURATION VARIABLES()            AWS CLI CONFIGURATION VARIABLES()\r\n\r\n\r\n\r\nNAME\r\n       AWS CLI Configuration Variables -\r\n\r\n       Configuration values for the AWS CLI can come from several sources:\r\n\r\n.  .  .\r\n\r\nGENERAL OPTIONS\r\n       The AWS CLI has a few general options:\r\n\r\n       center; |l|l|l|l|l|.  _ T{ Variable T}   T{ Option T}   T{ Config Entry\r\n       T}   T{  Environment  Variable  T}   T{  Description  T}  _  T{ profile\r\n       T}   T{ --profile T}   T{ N/A T}   T{ AWS_PROFILE T}   T{ Default  pro-\r\n       file  name  T}  _  T{  region  T}   T{  --region T}   T{ region T}   T{\r\n       AWS_DEFAULT_REGION T}   T{ Default AWS Region T} _  T{  output  T}   T{\r\n       --output T}   T{ output T}   T{ AWS_DEFAULT_OUTPUT T}   T{ Default out-\r\n       put style T} _ T{ cli_timestamp_format T}   T{  N/A  T}   T{  cli_time-\r\n       stamp_format  T}   T{  N/A  T}   T{ Output format of timestamps T} _ T{\r\n       ca_bundle T}   T{ --ca-bundle T}   T{ ca_bundle  T}   T{  AWS_CA_BUNDLE\r\n       T}   T{  CA Certificate Bundle T} _ T{ parameter_validation T}   T{ N/A\r\n       T}   T{ parameter_validation T}   T{ N/A T}   T{ Toggles parameter val-\r\n       idation T} _ T{ tcp_keepalive T}   T{ N/A T}   T{ tcp_keepalive T}   T{\r\n       N/A T}   T{ Toggles TCP Keep-Alive T} _  T{  max_attempts  T}   T{  N/A\r\n       T}   T{  max_attempts  T}   T{ AWS_MAX_ATTEMPTS T}   T{ Number of total\r\n       requests T} _ T{ retry_mode  T}   T{  N/A  T}   T{  retry_mode  T}   T{\r\n       AWS_RETRY_MODE  T}   T{  Type  of  retries  performed T} _ T{ cli_pager\r\n       T}   T{ --no-cli-pager T}   T{ cli_pager T}   T{ AWS_PAGER T}   T{  Re-\r\n       direct/Disable output to pager T} _\r\n```\n\n### Links\n\nbuilt-in documentation", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7562/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7535", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7535/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7535/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7535/events", "html_url": "https://github.com/aws/aws-cli/issues/7535", "id": 1502892217, "node_id": "I_kwDOAGd3X85ZlFC5", "number": 7535, "title": "Homebrew 2.9.7 generates exception about not finding the `docutils` Python package", "user": {"login": "asieira", "id": 3287067, "node_id": "MDQ6VXNlcjMyODcwNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/3287067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asieira", "html_url": "https://github.com/asieira", "followers_url": "https://api.github.com/users/asieira/followers", "following_url": "https://api.github.com/users/asieira/following{/other_user}", "gists_url": "https://api.github.com/users/asieira/gists{/gist_id}", "starred_url": "https://api.github.com/users/asieira/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asieira/subscriptions", "organizations_url": "https://api.github.com/users/asieira/orgs", "repos_url": "https://api.github.com/users/asieira/repos", "events_url": "https://api.github.com/users/asieira/events{/privacy}", "received_events_url": "https://api.github.com/users/asieira/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-19T12:47:26Z", "updated_at": "2022-12-19T17:46:27Z", "closed_at": "2022-12-19T17:45:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen I install and try to run commands using AWS CLI v2.9.7 via homebrew on a Mac I get a ModuleNotFoundError related to `docutils`.\r\n\n\n### Expected Behavior\n\nNo exceptions should happen. :)\n\n### Current Behavior\n\nAn exception is thrown and the command is not executed.\n\n### Reproduction Steps\n\n```\r\n| => uname -a\r\nDarwin Alexandres-MBP 22.1.0 Darwin Kernel Version 22.1.0: Sun Oct  9 20:14:54 PDT 2022; root:xnu-8792.41.9~2/RELEASE_X86_64 x86_64\r\n\r\n| => brew reinstall awscli\r\n==> Fetching awscli\r\n==> Downloading https://ghcr.io/v2/homebrew/core/awscli/manifests/2.9.7\r\nAlready downloaded: /Users/asieira/Library/Caches/Homebrew/downloads/9db1303bfe04588bf8289afbb3c53454f8bb830401e63144719e7ca737061635--awscli-2.9.7.bottle_manifest.json\r\n==> Downloading https://ghcr.io/v2/homebrew/core/awscli/blobs/sha256:18bf522e5b92e1feab9f77393000a54813471614d951e269d546a9fdce081e6c\r\nAlready downloaded: /Users/asieira/Library/Caches/Homebrew/downloads/c007c3dbda50d3b7db39fd8eaf72f307cdbe07e69408a7244f7f314195eed1d7--awscli--2.9.7.ventura.bottle.tar.gz\r\n==> Reinstalling awscli\r\n==> Pouring awscli--2.9.7.ventura.bottle.tar.gz\r\n==> Caveats\r\nThe \"examples\" directory has been installed to:\r\n  /usr/local/share/awscli/examples\r\n\r\nBash completion has been installed to:\r\n  /usr/local/etc/bash_completion.d\r\n==> Summary\r\n\ud83c\udf7a  /usr/local/Cellar/awscli/2.9.7: 12,993 files, 113.0MB\r\n==> Running `brew cleanup awscli`...\r\nDisable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.\r\nHide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).\r\n\r\n| => aws --profile <REDACTED> --region us-east-2 rds describe-db-clusters --db-cluster-identifier <REDACTED>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/aws\", line 19, in <module>\r\n    import awscli.clidriver\r\n  File \"/usr/local/Cellar/awscli/2.9.7/libexec/lib/python3.11/site-packages/awscli/clidriver.py\", line 43, in <module>\r\n    from awscli.help import ProviderHelpCommand\r\n  File \"/usr/local/Cellar/awscli/2.9.7/libexec/lib/python3.11/site-packages/awscli/help.py\", line 20, in <module>\r\n    from docutils.core import publish_string\r\nModuleNotFoundError: No module named 'docutils'\r\n```\n\n### Possible Solution\n\nSeems like `docutils` is required but was not bundled with the homebrew bottle. Including it (and any other missing direct and indirect dependencies) should fix this.\r\n```\r\n| => pwd\r\n/usr/local/Cellar/awscli/2.9.7/libexec/lib/python3.11/site-packages\r\n\r\n| => ls -la\r\ntotal 3296\r\ndrwxr-xr-x  42 asieira  admin     1344 Dec 19 09:37 .\r\ndrwxr-xr-x   3 asieira  admin       96 Dec 14 14:37 ..\r\ndrwxr-xr-x   3 asieira  admin       96 Dec 19 09:37 __pycache__\r\n-rwxr-xr-x   1 asieira  admin  1116152 Dec 14 14:37 _awscrt.cpython-311-darwin.so\r\n-rwxr-xr-x   1 asieira  admin   176776 Dec 14 14:37 _cffi_backend.cpython-311-darwin.so\r\ndrwxr-xr-x   5 asieira  admin      160 Dec 19 09:37 _distutils_hack\r\n-rwxr-xr-x   1 asieira  admin   330512 Dec 14 14:37 _ruamel_yaml.cpython-311-darwin.so\r\ndrwxr-xr-x  37 asieira  admin     1184 Dec 19 09:37 awscli\r\ndrwxr-xr-x   9 asieira  admin      288 Dec 19 09:33 awscli-2.9.7.dist-info\r\ndrwxr-xr-x  15 asieira  admin      480 Dec 19 09:37 awscrt\r\ndrwxr-xr-x   7 asieira  admin      224 Dec 14 14:37 awscrt-0.14.0-py3.11.egg-info\r\ndrwxr-xr-x  22 asieira  admin      704 Dec 14 14:37 cffi\r\ndrwxr-xr-x  10 asieira  admin      320 Dec 14 14:37 cffi-1.15.1-py3.11.egg-info\r\ndrwxr-xr-x   9 asieira  admin      288 Dec 19 09:37 colorama\r\ndrwxr-xr-x   7 asieira  admin      224 Dec 14 14:37 colorama-0.4.3-py3.11.egg-info\r\ndrwxr-xr-x  10 asieira  admin      320 Dec 14 14:37 cryptography\r\ndrwxr-xr-x  13 asieira  admin      416 Dec 14 14:37 cryptography-38.0.1.dist-info\r\ndrwxr-xr-x  14 asieira  admin      448 Dec 19 09:37 dateutil\r\ndrwxr-xr-x   8 asieira  admin      256 Dec 14 14:37 distro-1.5.0-py3.11.egg-info\r\n-rw-r--r--   1 asieira  admin    43628 Dec 14 14:37 distro.py\r\n-rw-r--r--   1 asieira  admin      151 Dec 14 14:37 distutils-precedence.pth\r\n-rw-r--r--   1 asieira  admin      165 Dec 19 09:33 homebrew_deps.pth\r\ndrwxr-xr-x  11 asieira  admin      352 Dec 19 09:37 jmespath\r\ndrwxr-xr-x   7 asieira  admin      224 Dec 14 14:37 jmespath-1.0.1-py3.11.egg-info\r\ndrwxr-xr-x   8 asieira  admin      256 Dec 14 14:37 pip\r\ndrwxr-xr-x  10 asieira  admin      320 Dec 14 14:37 pip-22.3.dist-info\r\ndrwxr-xr-x   5 asieira  admin      160 Dec 14 14:37 pkg_resources\r\ndrwxr-xr-x  38 asieira  admin     1216 Dec 14 14:37 prompt_toolkit\r\ndrwxr-xr-x  11 asieira  admin      352 Dec 14 14:37 prompt_toolkit-3.0.28.dist-info\r\ndrwxr-xr-x  15 asieira  admin      480 Dec 14 14:37 pycparser\r\ndrwxr-xr-x   7 asieira  admin      224 Dec 14 14:37 pycparser-2.21-py3.11.egg-info\r\ndrwxr-xr-x  11 asieira  admin      352 Dec 14 14:37 python_dateutil-2.8.2.dist-info\r\ndrwxr-xr-x   3 asieira  admin       96 Dec 14 14:37 ruamel\r\n-rw-r--r--   1 asieira  admin      539 Dec 14 14:37 ruamel.yaml-0.17.21-py3.11-nspkg.pth\r\ndrwxr-xr-x   9 asieira  admin      288 Dec 14 14:37 ruamel.yaml-0.17.21-py3.11.egg-info\r\ndrwxr-xr-x   8 asieira  admin      256 Dec 14 14:37 ruamel.yaml.clib-0.2.7-py3.11.egg-info\r\ndrwxr-xr-x  47 asieira  admin     1504 Dec 14 14:37 setuptools\r\ndrwxr-xr-x  10 asieira  admin      320 Dec 14 14:37 setuptools-65.5.0.dist-info\r\ndrwxr-xr-x  17 asieira  admin      544 Dec 19 09:37 urllib3\r\ndrwxr-xr-x   8 asieira  admin      256 Dec 14 14:37 urllib3-1.26.12-py3.11.egg-info\r\ndrwxr-xr-x   7 asieira  admin      224 Dec 14 14:37 wcwidth\r\ndrwxr-xr-x   8 asieira  admin      256 Dec 14 14:37 wcwidth-0.1.9-py3.11.egg-info\r\n```\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.9.7\n\n### Environment details (OS name and version, etc.)\n\nMac OS X Ventura 13.0.1 (Intel).", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7535/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7535/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7496", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7496/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7496/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7496/events", "html_url": "https://github.com/aws/aws-cli/issues/7496", "id": 1473637779, "node_id": "I_kwDOAGd3X85X1e2T", "number": 7496, "title": "'NoneType' object has no attribute 'get_frozen_token' when using new SSO session configuration", "user": {"login": "zvickery", "id": 811280, "node_id": "MDQ6VXNlcjgxMTI4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/811280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zvickery", "html_url": "https://github.com/zvickery", "followers_url": "https://api.github.com/users/zvickery/followers", "following_url": "https://api.github.com/users/zvickery/following{/other_user}", "gists_url": "https://api.github.com/users/zvickery/gists{/gist_id}", "starred_url": "https://api.github.com/users/zvickery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zvickery/subscriptions", "organizations_url": "https://api.github.com/users/zvickery/orgs", "repos_url": "https://api.github.com/users/zvickery/repos", "events_url": "https://api.github.com/users/zvickery/events{/privacy}", "received_events_url": "https://api.github.com/users/zvickery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2395605789, "node_id": "MDU6TGFiZWwyMzk1NjA1Nzg5", "url": "https://api.github.com/repos/aws/aws-cli/labels/iam", "name": "iam", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2022-12-03T01:15:45Z", "updated_at": "2023-03-22T14:47:51Z", "closed_at": "2023-02-20T16:33:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI am attempting to use the new SSO session configuration in conjunction with CLI profiles that are IAM roles.  If I do this, I get the below error when running any AWS command:\r\n```\r\n% cat ~/.aws/config\r\n[default]\r\nsso_account_id = XXXXXXXXXXX\r\nsso_role_name = SomePermisionSet\r\nregion = us-east-1\r\nsso_start_url = https://d-XXXXXXXXXX.awsapps.com/start\r\nsso_region = us-east-1\r\nsso_session = testing\r\n[sso-session testing]\r\nsso_start_url = https://d-XXXXXXXXXX.awsapps.com/start\r\nsso_region = us-east-1\r\nsso_registration_scopes = sso:account:access\r\n\r\n% aws s3 ls --profile role-access\r\n\r\n'NoneType' object has no attribute 'get_frozen_token'\r\n```\n\n### Expected Behavior\n\nThe AWS CLI works as expected with the \"legacy\" SSO configuration format (no sessions):\r\n\r\n```\r\n% cat ~/.aws/config\r\n[default]\r\nsso_account_id = XXXXXXXXXXX\r\nsso_role_name = SomePermisionSet\r\nregion = us-east-1\r\nsso_start_url = https://d-XXXXXXXXXX.awsapps.com/start\r\nsso_region = us-east-1\r\n\r\n% aws s3 ls --profile role-access\r\n<EXPECTED_OUTPUT>\r\n```\n\n### Current Behavior\n\nHere is debug logging from running this.  Note that the role configuration looks like below:\r\n```\r\n[role-access]\r\nrole_arn = arn:aws:iam::XXXXXXXXXXX:role/role-access\r\nsource_profile = default\r\nrole_session_name = mysession\r\n```\r\n\r\nCLI debug logs:\r\n```\r\n% aws s3 ls --profile role-access --debug\r\n2022-12-02 17:50:57,938 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.9.3 Python/3.11.0 Darwin/21.6.0 source/arm64\r\n2022-12-02 17:50:57,938 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'ls', '--profile', 'role-access', '--debug']\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x10766f4c0>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x1071ff420>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x1071802c0>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x107181940>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x107682fc0>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x107246ca0>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x107681f80>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method AliasSubCommandInjector.on_building_command_table of <awscli.alias.AliasSubCommandInjector object at 0x107734390>>\r\n2022-12-02 17:50:57,948 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/data/cli.json\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x1075aad40>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x1075ab060>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x1075aafc0>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x1075ab1a0>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x1075ab100>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x10772d640>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.session - DEBUG - Setting config variable for profile to 'role-access'\r\n2022-12-02 17:50:57,949 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.9.3 Python/3.11.0 Darwin/21.6.0 source/arm64 prompt/off\r\n2022-12-02 17:50:57,949 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'ls', '--profile', 'role-access', '--debug']\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x1076800e0>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x106ee49a0>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x1076fc720>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x106ecd080>\r\n2022-12-02 17:50:57,949 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x106f2aa20>\r\n2022-12-02 17:50:57,950 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-12-02 17:50:57,953 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\r\n2022-12-02 17:50:57,953 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x107246480>\r\n2022-12-02 17:50:57,953 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x1071e7560>\r\n2022-12-02 17:50:57,953 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x107681f80>\r\n2022-12-02 17:50:57,953 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <bound method AliasSubCommandInjector.on_building_command_table of <awscli.alias.AliasSubCommandInjector object at 0x107734390>>\r\n2022-12-02 17:50:57,953 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3_ls: calling handler <function add_waiters at 0x107681f80>\r\n2022-12-02 17:50:57,953 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3_ls: calling handler <bound method AliasSubCommandInjector.on_building_command_table of <awscli.alias.AliasSubCommandInjector object at 0x107734390>>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x107763050>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x107763050>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x107763050>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.human-readable: calling handler <awscli.paramfile.URIArgumentHandler object at 0x107763050>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler <awscli.argprocess.ParamShorthandParser object at 0x106ee9a50>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.summarize: calling handler <awscli.paramfile.URIArgumentHandler object at 0x107763050>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler <awscli.argprocess.ParamShorthandParser object at 0x106ee9a50>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x107763050>\r\n2022-12-02 17:50:57,954 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-12-02 17:50:57,955 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 169.254.169.254:80\r\n2022-12-02 17:50:58,956 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/api/token: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 174, in _new_conn\r\n    conn = connection.create_connection(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/util/connection.py\", line 95, in create_connection\r\n    raise err\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/util/connection.py\", line 85, in create_connection\r\n    sock.connect(sa)\r\nTimeoutError: timed out\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/httpsession.py\", line 448, in send\r\n    urllib_response = conn.urlopen(\r\n                      ^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\r\n    retries = retries.increment(\r\n              ^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/util/retry.py\", line 525, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/packages/six.py\", line 770, in reraise\r\n    raise value\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connectionpool.py\", line 703, in urlopen\r\n    httplib_response = self._make_request(\r\n                       ^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connectionpool.py\", line 398, in _make_request\r\n    conn.request(method, url, **httplib_request_kw)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 239, in request\r\n    super(HTTPConnection, self).request(method, url, body=body, headers=headers)\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 1282, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/awsrequest.py\", line 94, in _send_request\r\n    rval = super(AWSConnection, self)._send_request(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 1328, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 1277, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/awsrequest.py\", line 122, in _send_output\r\n    self.send(msg)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/awsrequest.py\", line 206, in send\r\n    return super(AWSConnection, self).send(str)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 975, in send\r\n    self.connect()\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 205, in connect\r\n    conn = self._new_conn()\r\n           ^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 179, in _new_conn\r\n    raise ConnectTimeoutError(\r\nurllib3.exceptions.ConnectTimeoutError: (<botocore.awsrequest.AWSHTTPConnection object at 0x107772b50>, 'Connection to 169.254.169.254 timed out. (connect timeout=1)')\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/utils.py\", line 383, in _fetch_metadata_token\r\n    response = self._session.send(request.prepare())\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/httpsession.py\", line 483, in send\r\n    raise ConnectTimeoutError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.ConnectTimeoutError: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\n2022-12-02 17:50:58,963 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (2): 169.254.169.254:80\r\n2022-12-02 17:50:59,966 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/meta-data/placement/availability-zone/: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 174, in _new_conn\r\n    conn = connection.create_connection(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/util/connection.py\", line 95, in create_connection\r\n    raise err\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/util/connection.py\", line 85, in create_connection\r\n    sock.connect(sa)\r\nTimeoutError: timed out\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/httpsession.py\", line 448, in send\r\n    urllib_response = conn.urlopen(\r\n                      ^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\r\n    retries = retries.increment(\r\n              ^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/util/retry.py\", line 525, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/packages/six.py\", line 770, in reraise\r\n    raise value\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connectionpool.py\", line 703, in urlopen\r\n    httplib_response = self._make_request(\r\n                       ^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connectionpool.py\", line 398, in _make_request\r\n    conn.request(method, url, **httplib_request_kw)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 239, in request\r\n    super(HTTPConnection, self).request(method, url, body=body, headers=headers)\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 1282, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/awsrequest.py\", line 94, in _send_request\r\n    rval = super(AWSConnection, self)._send_request(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 1328, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 1277, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/awsrequest.py\", line 122, in _send_output\r\n    self.send(msg)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/awsrequest.py\", line 206, in send\r\n    return super(AWSConnection, self).send(str)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.0/Frameworks/Python.framework/Versions/3.11/lib/python3.11/http/client.py\", line 975, in send\r\n    self.connect()\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 205, in connect\r\n    conn = self._new_conn()\r\n           ^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/urllib3/connection.py\", line 179, in _new_conn\r\n    raise ConnectTimeoutError(\r\nurllib3.exceptions.ConnectTimeoutError: (<botocore.awsrequest.AWSHTTPConnection object at 0x107840550>, 'Connection to 169.254.169.254 timed out. (connect timeout=1)')\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/utils.py\", line 431, in _get_request\r\n    response = self._session.send(request.prepare())\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/httpsession.py\", line 483, in send\r\n    raise ConnectTimeoutError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.ConnectTimeoutError: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\n2022-12-02 17:50:59,969 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2022-12-02 17:50:59,969 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2022-12-02 17:50:59,969 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2022-12-02 17:50:59,969 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2022-12-02 17:50:59,970 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/data/endpoints.json\r\n2022-12-02 17:50:59,982 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1061600e0>\r\n2022-12-02 17:51:00,000 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/data/s3/2006-03-01/service-2.json\r\n2022-12-02 17:51:00,018 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json\r\n2022-12-02 17:51:00,021 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/data/partitions.json\r\n2022-12-02 17:51:00,022 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x10609b740>\r\n2022-12-02 17:51:00,022 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x10609b4c0>\r\n2022-12-02 17:51:00,023 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2022-12-02 17:51:00,024 - MainThread - botocore.utils - DEBUG - Registering S3 region redirector handler\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106180900>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x107ebce90>>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.regions - DEBUG - Calling endpoint provider with parameters: {'Region': 'aws-global', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': False, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}\r\n2022-12-02 17:51:00,025 - MainThread - botocore.regions - DEBUG - Endpoint provider result: https://s3.amazonaws.com\r\n2022-12-02 17:51:00,025 - MainThread - botocore.regions - DEBUG - Selecting from endpoint provider's list of auth schemes: \"sigv4\". User selected auth scheme is: \"None\"\r\n2022-12-02 17:51:00,025 - MainThread - botocore.regions - DEBUG - Selected auth type \"v4\" as \"v4\" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.ListBuckets: calling handler <function base64_decode_input_blobs at 0x1076fc7c0>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <function validate_bucket_name at 0x106162660>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <function remove_bucket_from_url_paths_from_model at 0x106180720>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x107ebce90>>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <function generate_idempotent_uuid at 0x106162480>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListBuckets: calling handler <function add_expect_header at 0x106162a20>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListBuckets: calling handler <function inject_api_version_header_if_needed at 0x106163f60>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListBuckets) with params: {'url_path': '/', 'query_string': '', 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.9.3 Python/3.11.0 Darwin/21.6.0 source/arm64 prompt/off command/s3.ls'}, 'body': b'', 'url': 'https://s3.amazonaws.com/', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x107ebca50>, 'has_streaming_input': False, 'auth_type': 'v4', 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 's3_redirect': {'redirected': False, 'bucket': None, 'params': {}}}}\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListBuckets: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1070aee50>>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListBuckets: calling handler <function set_operation_specific_signer at 0x106162340>\r\n2022-12-02 17:51:00,025 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListBuckets: calling handler <function remove_arn_from_signing_path at 0x106180860>\r\n2022-12-02 17:51:00,026 - MainThread - botocore.credentials - DEBUG - Credentials were found in cache, but they are expired.\r\n2022-12-02 17:51:00,026 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1061600e0>\r\n2022-12-02 17:51:00,026 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/data/sso/2019-06-10/service-2.json\r\n2022-12-02 17:51:00,026 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/data/sso/2019-06-10/endpoint-rule-set-1.json\r\n2022-12-02 17:51:00,026 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.sso: calling handler <function add_generate_presigned_url at 0x10609b4c0>\r\n2022-12-02 17:51:00,028 - MainThread - botocore.endpoint - DEBUG - Setting portal.sso timeout as (60, 60)\r\n2022-12-02 17:51:00,028 - MainThread - botocore.credentials - WARNING - Refreshing temporary credentials failed during mandatory refresh period.\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 492, in _protected_refresh\r\n    metadata = self._refresh_using()\r\n               ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 633, in fetch_credentials\r\n    return self._get_cached_credentials()\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 643, in _get_cached_credentials\r\n    response = self._get_credentials()\r\n               ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 2008, in _get_credentials\r\n    token = initial_token_data.get_frozen_token().token\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAttributeError: 'NoneType' object has no attribute 'get_frozen_token'\r\n2022-12-02 17:51:00,030 - MainThread - botocore.credentials - WARNING - Refreshing temporary credentials failed during mandatory refresh period.\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 492, in _protected_refresh\r\n    metadata = self._refresh_using()\r\n               ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 633, in fetch_credentials\r\n    return self._get_cached_credentials()\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 643, in _get_cached_credentials\r\n    response = self._get_credentials()\r\n               ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 775, in _get_credentials\r\n    client = self._create_client()\r\n             ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 798, in _create_client\r\n    frozen_credentials = self._source_credentials.get_frozen_credentials()\r\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 581, in get_frozen_credentials\r\n    self._refresh()\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 476, in _refresh\r\n    self._protected_refresh(is_mandatory=is_mandatory_refresh)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 492, in _protected_refresh\r\n    metadata = self._refresh_using()\r\n               ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 633, in fetch_credentials\r\n    return self._get_cached_credentials()\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 643, in _get_cached_credentials\r\n    response = self._get_credentials()\r\n               ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 2008, in _get_credentials\r\n    token = initial_token_data.get_frozen_token().token\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAttributeError: 'NoneType' object has no attribute 'get_frozen_token'\r\n2022-12-02 17:51:00,030 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/clidriver.py\", line 460, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/customizations/commands.py\", line 151, in __call__\r\n    return self._subcommand_table[subcommand_name](\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/customizations/commands.py\", line 205, in __call__\r\n    rc = self._run_main(parsed_args, parsed_globals)\r\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/customizations/s3/subcommands.py\", line 505, in _run_main\r\n    self._list_all_buckets()\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/customizations/s3/subcommands.py\", line 570, in _list_all_buckets\r\n    response_data = self.client.list_buckets()\r\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/client.py\", line 341, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/client.py\", line 683, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n                            ^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/client.py\", line 703, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/endpoint.py\", line 101, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/endpoint.py\", line 131, in _send_request\r\n    request = self.create_request(request_dict, operation_model)\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/endpoint.py\", line 114, in create_request\r\n    self._event_emitter.emit(event_name, request=request,\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n               ^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/signers.py\", line 94, in handler\r\n    return self.sign(operation_name, request)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/signers.py\", line 158, in sign\r\n    auth = self.get_auth_instance(**kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/signers.py\", line 253, in get_auth_instance\r\n    frozen_credentials = self._credentials.get_frozen_credentials()\r\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 581, in get_frozen_credentials\r\n    self._refresh()\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 476, in _refresh\r\n    self._protected_refresh(is_mandatory=is_mandatory_refresh)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 492, in _protected_refresh\r\n    metadata = self._refresh_using()\r\n               ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 633, in fetch_credentials\r\n    return self._get_cached_credentials()\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 643, in _get_cached_credentials\r\n    response = self._get_credentials()\r\n               ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 775, in _get_credentials\r\n    client = self._create_client()\r\n             ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 798, in _create_client\r\n    frozen_credentials = self._source_credentials.get_frozen_credentials()\r\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 581, in get_frozen_credentials\r\n    self._refresh()\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 476, in _refresh\r\n    self._protected_refresh(is_mandatory=is_mandatory_refresh)\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 492, in _protected_refresh\r\n    metadata = self._refresh_using()\r\n               ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 633, in fetch_credentials\r\n    return self._get_cached_credentials()\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 643, in _get_cached_credentials\r\n    response = self._get_credentials()\r\n               ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.3/libexec/lib/python3.11/site-packages/awscli/botocore/credentials.py\", line 2008, in _get_credentials\r\n    token = initial_token_data.get_frozen_token().token\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nAttributeError: 'NoneType' object has no attribute 'get_frozen_token'\r\n\r\n'NoneType' object has no attribute 'get_frozen_token'\r\n```\n\n### Reproduction Steps\n\nAny AWS CLI command should work to repro.  The key is having the \"session-ized\" SSO configuration from above:\r\n```\r\n% cat ~/.aws/config\r\n[default]\r\nsso_account_id = XXXXXXXXXXX\r\nsso_role_name = SomePermisionSet\r\nregion = us-east-1\r\nsso_start_url = https://d-XXXXXXXXXX.awsapps.com/start\r\nsso_region = us-east-1\r\nsso_session = testing\r\n[sso-session testing]\r\nsso_start_url = https://d-XXXXXXXXXX.awsapps.com/start\r\nsso_region = us-east-1\r\nsso_registration_scopes = sso:account:access\r\n```\n\n### Possible Solution\n\nI suspect the logic just needs to be session-aware?\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nCLI version: aws-cli/2.9.3 Python/3.11.0 Darwin/21.6.0 source/arm64\n\n### Environment details (OS name and version, etc.)\n\nMacOS 12.6.1, awscli installed with brew.  arm64 architecture", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7496/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7496/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7494", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7494/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7494/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7494/events", "html_url": "https://github.com/aws/aws-cli/issues/7494", "id": 1472211495, "node_id": "I_kwDOAGd3X85XwCon", "number": 7494, "title": "\u2757 Upgrade pip to circumvent installation issue \u2757", "user": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-12-02T02:15:38Z", "updated_at": "2022-12-02T03:40:00Z", "closed_at": "2022-12-02T03:39:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Please upgrade your version of pip in order successfully install boto3/botocore packages. \r\n\r\nEx: `python3 -m pip install --upgrade pip`\r\n\r\nThis will allow users to install the previous versions of the boto3/botocore rather than the latest versions. \r\n\r\nThere are several ongoing issues tracking the underlying installation issues further but in the meantime this is the recommendation.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7493", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7493/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7493/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7493/events", "html_url": "https://github.com/aws/aws-cli/issues/7493", "id": 1472013120, "node_id": "I_kwDOAGd3X85XvSNA", "number": 7493, "title": "Broken Install with boto3/botocore", "user": {"login": "robblovell", "id": 137123, "node_id": "MDQ6VXNlcjEzNzEyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/137123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robblovell", "html_url": "https://github.com/robblovell", "followers_url": "https://api.github.com/users/robblovell/followers", "following_url": "https://api.github.com/users/robblovell/following{/other_user}", "gists_url": "https://api.github.com/users/robblovell/gists{/gist_id}", "starred_url": "https://api.github.com/users/robblovell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robblovell/subscriptions", "organizations_url": "https://api.github.com/users/robblovell/orgs", "repos_url": "https://api.github.com/users/robblovell/repos", "events_url": "https://api.github.com/users/robblovell/events{/privacy}", "received_events_url": "https://api.github.com/users/robblovell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}, {"id": 4723087622, "node_id": "LA_kwDOAGd3X88AAAABGYSZBg", "url": "https://api.github.com/repos/aws/aws-cli/labels/p0", "name": "p0", "color": "FF0000", "default": false, "description": "This issue is the highest priority"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2022-12-01T22:01:45Z", "updated_at": "2022-12-02T03:39:36Z", "closed_at": "2022-12-02T03:39:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\n```\r\npip3 install -U awscli\r\n```\r\n\r\nGives Error:\r\n```\r\nCould not find a version that satisfies the requirement botocore==1.29.21 (from awscli) (from versions: 0.4.1, 0.4.2, 0.5.0, 0.5.1, 0.5.2, 0.5.3, 0.5.4, 0.6.0, 0.7.0, 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.2, 0.10.0, 0.11.0, 0.12.0, 0.13.0, 0.13.1, 0.14.0, 0.15.0, 0.15.1, 0.16.0, 0.17.0, 0.18.0, 0.19.0, 0.20.0, 0.21.0, 0.22.0, 0.23.0, 0.24.0, 0.25.0, 0.26.0, 0.27.0, 0.28.0, 0.29.0, 0.30.0, 0.31.0, 0.32.0, 0.33.0, 0.34.0, 0.35.0, 0.36.0, 0.37.0, 0.38.0, 0.39.0, 0.40.0, 0.41.0, 0.42.0, 0.43.0, 0.44.0, 0.45.0, 0.46.0, 0.47.0, 0.48.0, 0.49.0, 0.50.0, 0.51.0, 0.52.0, 0.53.0, 0.54.0, 0.55.0, 0.56.0, 0.57.0, 0.58.0, 0.59.0, 0.60.0, 0.61.0, 0.62.0, 0.63.0, 0.64.0, 0.65.0, 0.66.0, 0.67.0, 0.68.0, 0.69.0, 0.70.0, 0.71.0, 0.72.0, 0.73.0, 0.74.0, 0.75.0, 0.76.0, 0.77.0, 0.78.0, 0.79.0, 0.80.0, 0.81.0, 0.82.0, 0.83.0, 0.84.0, 0.85.0, 0.86.0, 0.87.0, 0.88.0, 0.89.0, 0.90.0, 0.91.0, 0.92.0, 0.93.0, 0.94.0, 0.95.0, 0.96.0, 0.97.0, 0.98.0, 0.99.0, 0.100.0, 0.101.0, 0.102.0, 0.103.0, 0.104.0, 0.105.0, 0.106.0, 0.107.0, 0.108.0, 0.109.0, 1.0.0a1, 1.0.0a2, 1.0.0a3, 1.0.0b1, 1.0.0b2, 1.0.0b3, 1.0.0rc1, 1.0.0, 1.0.1, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.1.5, 1.1.6, 1.1.7, 1.1.8, 1.1.9, 1.1.10, 1.1.11, 1.1.12, 1.2.0, 1.2.1, 1.2.2, 1.2.3, 1.2.4, 1.2.5, 1.2.6, 1.2.7, 1.2.8, 1.2.9, 1.2.10, 1.2.11, 1.3.0, 1.3.1, 1.3.2, 1.3.3, 1.3.4, 1.3.5, 1.3.6, 1.3.7, 1.3.8, 1.3.9, 1.3.10, 1.3.11, 1.3.12, 1.3.13, 1.3.14, 1.3.15, 1.3.16, 1.3.17, 1.3.18, 1.3.19, 1.3.20, 1.3.21, 1.3.22, 1.3.23, 1.3.24, 1.3.25, 1.3.26, 1.3.27, 1.3.28, 1.3.29, 1.3.30, 1.4.0, 1.4.1, 1.4.2, 1.4.3, 1.4.4, 1.4.5, 1.4.6, 1.4.7, 1.4.8, 1.4.9, 1.4.10, 1.4.11, 1.4.12, 1.4.13, 1.4.14, 1.4.15, 1.4.16, 1.4.17, 1.4.18, 1.4.19, 1.4.20, 1.4.21, 1.4.22, 1.4.23, 1.4.24, 1.4.25, 1.4.26, 1.4.27, 1.4.28, 1.4.29, 1.4.30, 1.4.31, 1.4.32, 1.4.33, 1.4.34, 1.4.35, 1.4.36, 1.4.37, 1.4.38, 1.4.39, 1.4.40, 1.4.41, 1.4.42, 1.4.43, 1.4.44, 1.4.46, 1.4.47, 1.4.48, 1.4.49, 1.4.50, 1.4.51, 1.4.52, 1.4.53, 1.4.54, 1.4.55, 1.4.56, 1.4.57, 1.4.58, 1.4.59, 1.4.60, 1.4.61, 1.4.62, 1.4.63, 1.4.64, 1.4.65, 1.4.66, 1.4.67, 1.4.68, 1.4.69, 1.4.70, 1.4.71, 1.4.72, 1.4.73, 1.4.74, 1.4.75, 1.4.76, 1.4.77, 1.4.78, 1.4.79, 1.4.80, 1.4.81, 1.4.82, 1.4.83, 1.4.84, 1.4.85, 1.4.86, 1.4.87, 1.4.88, 1.4.89, 1.4.90, 1.4.91, 1.4.92, 1.4.93, 1.5.0, 1.5.1, 1.5.2, 1.5.3, 1.5.4, 1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.5.10, 1.5.11, 1.5.12, 1.5.13, 1.5.14, 1.5.15, 1.5.16, 1.5.17, 1.5.18, 1.5.19, 1.5.20, 1.5.21, 1.5.22, 1.5.23, 1.5.24, 1.5.25, 1.5.26, 1.5.27, 1.5.28, 1.5.29, 1.5.30, 1.5.31, 1.5.32, 1.5.33, 1.5.34, 1.5.35, 1.5.36, 1.5.37, 1.5.38, 1.5.39, 1.5.40, 1.5.41, 1.5.42, 1.5.43, 1.5.44, 1.5.45, 1.5.46, 1.5.47, 1.5.48, 1.5.49, 1.5.50, 1.5.51, 1.5.52, 1.5.53, 1.5.54, 1.5.55, 1.5.56, 1.5.57, 1.5.58, 1.5.59, 1.5.60, 1.5.61, 1.5.62, 1.5.63, 1.5.64, 1.5.65, 1.5.66, 1.5.67, 1.5.68, 1.5.69, 1.5.70, 1.5.71, 1.5.72, 1.5.73, 1.5.74, 1.5.75, 1.5.76, 1.5.77, 1.5.78, 1.5.79, 1.5.80, 1.5.81, 1.5.82, 1.5.83, 1.5.84, 1.5.85, 1.5.86, 1.5.87, 1.5.88, 1.5.89, 1.5.90, 1.5.91, 1.5.92, 1.5.93, 1.5.94, 1.5.95, 1.6.0, 1.6.1, 1.6.2, 1.6.3, 1.6.4, 1.6.5, 1.6.6, 1.6.7, 1.6.8, 1.7.0, 1.7.1, 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.7.6, 1.7.7, 1.7.8, 1.7.9, 1.7.10, 1.7.11, 1.7.12, 1.7.13, 1.7.14, 1.7.15, 1.7.16, 1.7.17, 1.7.18, 1.7.19, 1.7.20, 1.7.21, 1.7.22, 1.7.23, 1.7.24, 1.7.25, 1.7.26, 1.7.27, 1.7.28, 1.7.29, 1.7.30, 1.7.31, 1.7.32, 1.7.33, 1.7.34, 1.7.35, 1.7.36, 1.7.37, 1.7.38, 1.7.39, 1.7.40, 1.7.41, 1.7.42, 1.7.43, 1.7.44, 1.7.45, 1.7.46, 1.7.47, 1.7.48, 1.8.0, 1.8.1, 1.8.2, 1.8.3, 1.8.4, 1.8.5, 1.8.6, 1.8.7, 1.8.8, 1.8.9, 1.8.10, 1.8.11, 1.8.12, 1.8.13, 1.8.14, 1.8.15, 1.8.16, 1.8.17, 1.8.18, 1.8.19, 1.8.20, 1.8.21, 1.8.22, 1.8.23, 1.8.24, 1.8.25, 1.8.26, 1.8.27, 1.8.28, 1.8.29, 1.8.30, 1.8.31, 1.8.32, 1.8.33, 1.8.34, 1.8.35, 1.8.36, 1.8.37, 1.8.38, 1.8.39, 1.8.40, 1.8.41, 1.8.42, 1.8.43, 1.8.44, 1.8.45, 1.8.46, 1.8.47, 1.8.48, 1.8.49, 1.8.50, 1.9.0, 1.9.1, 1.9.2, 1.9.3, 1.9.4, 1.9.5, 1.9.6, 1.9.7, 1.9.8, 1.9.9, 1.9.10, 1.9.11, 1.9.12, 1.9.13, 1.9.14, 1.9.15, 1.9.16, 1.9.17, 1.9.18, 1.9.19, 1.9.20, 1.9.21, 1.9.22, 1.9.23, 1.10.0, 1.10.1, 1.10.2, 1.10.3, 1.10.4, 1.10.5, 1.10.6, 1.10.7, 1.10.8, 1.10.9, 1.10.10, 1.10.11, 1.10.12, 1.10.13, 1.10.14, 1.10.15, 1.10.16, 1.10.17, 1.10.18, 1.10.19, 1.10.20, 1.10.21, 1.10.22, 1.10.23, 1.10.24, 1.10.25, 1.10.26, 1.10.27, 1.10.28, 1.10.29, 1.10.30, 1.10.31, 1.10.32, 1.10.33, 1.10.34, 1.10.35, 1.10.36, 1.10.37, 1.10.38, 1.10.39, 1.10.40, 1.10.41, 1.10.42, 1.10.43, 1.10.44, 1.10.45, 1.10.46, 1.10.47, 1.10.48, 1.10.49, 1.10.50, 1.10.51, 1.10.52, 1.10.53, 1.10.54, 1.10.55, 1.10.56, 1.10.57, 1.10.58, 1.10.59, 1.10.60, 1.10.61, 1.10.62, 1.10.63, 1.10.64, 1.10.65, 1.10.66, 1.10.67, 1.10.68, 1.10.69, 1.10.70, 1.10.71, 1.10.72, 1.10.73, 1.10.74, 1.10.75, 1.10.76, 1.10.77, 1.10.78, 1.10.79, 1.10.80, 1.10.81, 1.10.82, 1.10.83, 1.10.84, 1.11.0, 1.11.1, 1.11.2, 1.11.3, 1.11.4, 1.11.5, 1.11.6, 1.11.7, 1.11.8, 1.11.9, 1.12.0, 1.12.1, 1.12.2, 1.12.3, 1.12.4, 1.12.5, 1.12.6, 1.12.7, 1.12.8, 1.12.9, 1.12.10, 1.12.11, 1.12.12, 1.12.13, 1.12.14, 1.12.15, 1.12.16, 1.12.17, 1.12.18, 1.12.19, 1.12.20, 1.12.21, 1.12.22, 1.12.23, 1.12.24, 1.12.25, 1.12.26, 1.12.27, 1.12.28, 1.12.29, 1.12.30, 1.12.31, 1.12.32, 1.12.33, 1.12.34, 1.12.35, 1.12.36, 1.12.37, 1.12.38, 1.12.39, 1.12.40, 1.12.41, 1.12.42, 1.12.43, 1.12.44, 1.12.45, 1.12.46, 1.12.47, 1.12.48, 1.12.49, 1.12.50, 1.12.51, 1.12.52, 1.12.53, 1.12.54, 1.12.55, 1.12.56, 1.12.57, 1.12.58, 1.12.59, 1.12.60, 1.12.61, 1.12.62, 1.12.63, 1.12.64, 1.12.65, 1.12.66, 1.12.67, 1.12.68, 1.12.69, 1.12.70, 1.12.71, 1.12.72, 1.12.73, 1.12.74, 1.12.75, 1.12.76, 1.12.77, 1.12.78, 1.12.79, 1.12.80, 1.12.81, 1.12.82, 1.12.83, 1.12.84, 1.12.85, 1.12.86, 1.12.87, 1.12.88, 1.12.89, 1.12.90, 1.12.91, 1.12.92, 1.12.93, 1.12.94, 1.12.95, 1.12.96, 1.12.97, 1.12.98, 1.12.99, 1.12.100, 1.12.101, 1.12.102, 1.12.103, 1.12.104, 1.12.105, 1.12.106, 1.12.107, 1.12.108, 1.12.109, 1.12.110, 1.12.111, 1.12.112, 1.12.113, 1.12.114, 1.12.115, 1.12.116, 1.12.117, 1.12.118, 1.12.119, 1.12.120, 1.12.121, 1.12.122, 1.12.123, 1.12.124, 1.12.125, 1.12.126, 1.12.127, 1.12.128, 1.12.129, 1.12.130, 1.12.131, 1.12.132, 1.12.133, 1.12.134, 1.12.135, 1.12.136, 1.12.137, 1.12.138, 1.12.139, 1.12.140, 1.12.141, 1.12.142, 1.12.143, 1.12.144, 1.12.145, 1.12.146, 1.12.147, 1.12.148, 1.12.149, 1.12.150, 1.12.151, 1.12.152, 1.12.153, 1.12.154, 1.12.155, 1.12.156, 1.12.157, 1.12.158, 1.12.159, 1.12.160, 1.12.161, 1.12.162, 1.12.163, 1.12.164, 1.12.165, 1.12.166, 1.12.167, 1.12.168, 1.12.169, 1.12.170, 1.12.171, 1.12.172, 1.12.173, 1.12.174, 1.12.175, 1.12.176, 1.12.177, 1.12.178, 1.12.179, 1.12.180, 1.12.181, 1.12.182, 1.12.183, 1.12.184, 1.12.185, 1.12.186, 1.12.187, 1.12.188, 1.12.189, 1.12.190, 1.12.191, 1.12.192, 1.12.193, 1.12.194, 1.12.195, 1.12.196, 1.12.197, 1.12.198, 1.12.199, 1.12.200, 1.12.201, 1.12.202, 1.12.203, 1.12.204, 1.12.205, 1.12.206, 1.12.207, 1.12.208, 1.12.209, 1.12.210, 1.12.211, 1.12.212, 1.12.213, 1.12.214, 1.12.215, 1.12.216, 1.12.217, 1.12.218, 1.12.219, 1.12.220, 1.12.221, 1.12.222, 1.12.223, 1.12.224, 1.12.225, 1.12.226, 1.12.227, 1.12.228, 1.12.229, 1.12.230, 1.12.231, 1.12.232, 1.12.233, 1.12.234, 1.12.235, 1.12.236, 1.12.237, 1.12.238, 1.12.239, 1.12.240, 1.12.241, 1.12.242, 1.12.243, 1.12.244, 1.12.245, 1.12.246, 1.12.247, 1.12.248, 1.12.249, 1.12.250, 1.12.251, 1.12.252, 1.12.253, 1.13.0, 1.13.1, 1.13.2, 1.13.3, 1.13.4, 1.13.5, 1.13.6, 1.13.7, 1.13.8, 1.13.9, 1.13.10, 1.13.11, 1.13.12, 1.13.13, 1.13.14, 1.13.15, 1.13.16, 1.13.17, 1.13.18, 1.13.19, 1.13.20, 1.13.21, 1.13.22, 1.13.23, 1.13.24, 1.13.25, 1.13.26, 1.13.27, 1.13.28, 1.13.29, 1.13.30, 1.13.31, 1.13.32, 1.13.33, 1.13.34, 1.13.35, 1.13.36, 1.13.37, 1.13.38, 1.13.39, 1.13.40, 1.13.41, 1.13.42, 1.13.43, 1.13.44, 1.13.45, 1.13.46, 1.13.47, 1.13.48, 1.13.49, 1.13.50, 1.14.0, 1.14.1, 1.14.2, 1.14.3, 1.14.4, 1.14.5, 1.14.6, 1.14.7, 1.14.8, 1.14.9, 1.14.10, 1.14.11, 1.14.12, 1.14.13, 1.14.14, 1.14.15, 1.14.16, 1.14.17, 1.15.0, 1.15.1, 1.15.2, 1.15.3, 1.15.4, 1.15.5, 1.15.6, 1.15.7, 1.15.8, 1.15.9, 1.15.10, 1.15.11, 1.15.12, 1.15.13, 1.15.14, 1.15.15, 1.15.16, 1.15.17, 1.15.18, 1.15.19, 1.15.20, 1.15.21, 1.15.22, 1.15.23, 1.15.24, 1.15.25, 1.15.26, 1.15.27, 1.15.28, 1.15.29, 1.15.30, 1.15.31, 1.15.32, 1.15.33, 1.15.34, 1.15.35, 1.15.36, 1.15.37, 1.15.38, 1.15.39, 1.15.40, 1.15.41, 1.15.42, 1.15.43, 1.15.44, 1.15.45, 1.15.46, 1.15.47, 1.15.48, 1.15.49, 1.16.0, 1.16.1, 1.16.2, 1.16.3, 1.16.4, 1.16.5, 1.16.6, 1.16.7, 1.16.8, 1.16.9, 1.16.10, 1.16.11, 1.16.12, 1.16.13, 1.16.14, 1.16.15, 1.16.16, 1.16.17, 1.16.18, 1.16.19, 1.16.20, 1.16.21, 1.16.22, 1.16.23, 1.16.24, 1.16.25, 1.16.26, 1.17.0, 1.17.1, 1.17.2, 1.17.3, 1.17.4, 1.17.5, 1.17.6, 1.17.7, 1.17.8, 1.17.9, 1.17.10, 1.17.11, 1.17.12, 1.17.13, 1.17.14, 1.17.15, 1.17.16, 1.17.17, 1.17.18, 1.17.19, 1.17.20, 1.17.21, 1.17.22, 1.17.23, 1.17.24, 1.17.25, 1.17.26, 1.17.27, 1.17.28, 1.17.29, 1.17.30, 1.17.31, 1.17.32, 1.17.33, 1.17.34, 1.17.35, 1.17.36, 1.17.37, 1.17.38, 1.17.39, 1.17.40, 1.17.41, 1.17.42, 1.17.43, 1.17.44, 1.17.45, 1.17.46, 1.17.47, 1.17.48, 1.17.49, 1.17.50, 1.17.51, 1.17.52, 1.17.53, 1.17.54, 1.17.55, 1.17.56, 1.17.57, 1.17.58, 1.17.59, 1.17.60, 1.17.61, 1.17.62, 1.17.63, 1.18.0, 1.18.1, 1.18.2, 1.18.3, 1.18.4, 1.18.5, 1.18.6, 1.18.7, 1.18.8, 1.18.9, 1.18.10, 1.18.11, 1.18.12, 1.18.13, 1.18.14, 1.18.15, 1.18.16, 1.18.17, 1.18.18, 1.19.0, 1.19.1, 1.19.2, 1.19.3, 1.19.4, 1.19.5, 1.19.6, 1.19.7, 1.19.8, 1.19.9, 1.19.10, 1.19.11, 1.19.12, 1.19.13, 1.19.14, 1.19.15, 1.19.16, 1.19.17, 1.19.18, 1.19.19, 1.19.20, 1.19.21, 1.19.22, 1.19.23, 1.19.24, 1.19.25, 1.19.26, 1.19.27, 1.19.28, 1.19.29, 1.19.30, 1.19.31, 1.19.32, 1.19.33, 1.19.34, 1.19.35, 1.19.36, 1.19.37, 1.19.38, 1.19.39, 1.19.40, 1.19.41, 1.19.42, 1.19.43, 1.19.44, 1.19.45, 1.19.46, 1.19.47, 1.19.48, 1.19.49, 1.19.50, 1.19.51, 1.19.52, 1.19.53, 1.19.54, 1.19.55, 1.19.56, 1.19.57, 1.19.58, 1.19.59, 1.19.60, 1.19.61, 1.19.62, 1.19.63, 1.20.0, 1.20.1, 1.20.2, 1.20.3, 1.20.4, 1.20.5, 1.20.6, 1.20.7, 1.20.8, 1.20.9, 1.20.10, 1.20.11, 1.20.12, 1.20.13, 1.20.14, 1.20.15, 1.20.16, 1.20.17, 1.20.18, 1.20.19, 1.20.20, 1.20.21, 1.20.22, 1.20.23, 1.20.24, 1.20.25, 1.20.26, 1.20.27, 1.20.28, 1.20.29, 1.20.30, 1.20.31, 1.20.32, 1.20.33, 1.20.34, 1.20.35, 1.20.36, 1.20.37, 1.20.38, 1.20.39, 1.20.40, 1.20.41, 1.20.42, 1.20.43, 1.20.44, 1.20.45, 1.20.46, 1.20.47, 1.20.48, 1.20.49, 1.20.50, 1.20.51, 1.20.52, 1.20.53, 1.20.54, 1.20.55, 1.20.56, 1.20.57, 1.20.58, 1.20.59, 1.20.60, 1.20.61, 1.20.62, 1.20.63, 1.20.64, 1.20.65, 1.20.66, 1.20.67, 1.20.68, 1.20.69, 1.20.70, 1.20.71, 1.20.72, 1.20.73, 1.20.74, 1.20.75, 1.20.76, 1.20.77, 1.20.78, 1.20.79, 1.20.80, 1.20.81, 1.20.82, 1.20.83, 1.20.84, 1.20.85, 1.20.86, 1.20.87, 1.20.88, 1.20.89, 1.20.90, 1.20.91, 1.20.92, 1.20.93, 1.20.94, 1.20.95, 1.20.96, 1.20.97, 1.20.98, 1.20.99, 1.20.100, 1.20.101, 1.20.102, 1.20.103, 1.20.104, 1.20.105, 1.20.106, 1.20.107, 1.20.108, 1.20.109, 1.20.110, 1.20.111, 1.20.112, 1.21.0, 1.21.1, 1.21.2, 1.21.3, 1.21.4, 1.21.5, 1.21.6, 1.21.7, 1.21.8, 1.21.9, 1.21.10, 1.21.11, 1.21.12, 1.21.13, 1.21.14, 1.21.15, 1.21.16, 1.21.17, 1.21.18, 1.21.19, 1.21.20, 1.21.21, 1.21.22, 1.21.23, 1.21.24, 1.21.25, 1.21.26, 1.21.27, 1.21.28, 1.21.29, 1.21.30, 1.21.31, 1.21.32, 1.21.33, 1.21.34, 1.21.35, 1.21.36, 1.21.37, 1.21.38, 1.21.39, 1.21.40, 1.21.41, 1.21.42, 1.21.43, 1.21.44, 1.21.45, 1.21.46, 1.21.47, 1.21.48, 1.21.49, 1.21.50, 1.21.51, 1.21.52, 1.21.53, 1.21.54, 1.21.55, 1.21.56, 1.21.57, 1.21.58, 1.21.59, 1.21.60, 1.21.61, 1.21.62, 1.21.63, 1.21.64, 1.21.65, 1.22.0, 1.22.1, 1.22.2, 1.22.3, 1.22.4, 1.22.5, 1.22.6, 1.22.7, 1.22.8, 1.22.9, 1.22.10, 1.22.11, 1.22.12, 1.23.0, 1.23.1, 1.23.2, 1.23.3, 1.23.4, 1.23.5, 1.23.6, 1.23.7, 1.23.8, 1.23.9, 1.23.10, 1.23.11, 1.23.12, 1.23.13, 1.23.14, 1.23.15, 1.23.16, 1.23.17, 1.23.18, 1.23.19, 1.23.20, 1.23.21, 1.23.22, 1.23.23, 1.23.24, 1.23.25, 1.23.26, 1.23.27, 1.23.28, 1.23.29, 1.23.30, 1.23.31, 1.23.32, 1.23.33, 1.23.34, 1.23.35, 1.23.36, 1.23.37, 1.23.38, 1.23.39, 1.23.40, 1.23.41, 1.23.42, 1.23.43, 1.23.44, 1.23.45, 1.23.46, 1.23.47, 1.23.48, 1.23.49, 1.23.50, 1.23.51, 1.23.52, 1.23.53, 1.23.54, 1.24.0, 1.24.1, 1.24.2, 1.24.3, 1.24.4, 1.24.5, 1.24.6, 1.24.7, 1.24.8, 1.24.9, 1.24.10, 1.24.11, 1.24.12, 1.24.13, 1.24.14, 1.24.15, 1.24.16, 1.24.17, 1.24.18, 1.24.19, 1.24.20, 1.24.21, 1.24.22, 1.24.23, 1.24.24, 1.24.25, 1.24.26, 1.24.27, 1.24.28, 1.24.29, 1.24.30, 1.24.31, 1.24.32, 1.24.33, 1.24.34, 1.24.35, 1.24.36, 1.24.37, 1.24.38, 1.24.39, 1.24.40, 1.24.41, 1.24.42, 1.24.43, 1.24.44, 1.24.45, 1.24.46, 1.25.0, 1.25.1, 1.25.2, 1.25.3, 1.25.4, 1.25.5, 1.25.6, 1.25.7, 1.25.8, 1.25.9, 1.25.10, 1.25.11, 1.25.12, 1.25.13, 1.26.0, 1.26.1, 1.26.2, 1.26.3, 1.26.4, 1.26.5, 1.26.6, 1.26.7, 1.26.8, 1.26.9, 1.26.10, 1.27.0, 1.27.1, 1.27.2, 1.27.3, 1.27.4, 1.27.5, 1.27.6, 1.27.7, 1.27.8, 1.27.9, 1.27.10, 1.27.11, 1.27.12, 1.27.13, 1.27.14, 1.27.15, 1.27.16, 1.27.17, 1.27.18, 1.27.19, 1.27.20, 1.27.21, 1.27.22, 1.27.23, 1.27.24, 1.27.25, 1.27.26, 1.27.27, 1.27.28, 1.27.29, 1.27.30, 1.27.31, 1.27.32, 1.27.33, 1.27.34, 1.27.35, 1.27.36, 1.27.37, 1.27.38, 1.27.39, 1.27.40, 1.27.41, 1.27.42, 1.27.43, 1.27.44, 1.27.45, 1.27.46, 1.27.47, 1.27.48, 1.27.49, 1.27.50, 1.27.51, 1.27.52, 1.27.53, 1.27.54, 1.27.55, 1.27.56, 1.27.57, 1.27.58, 1.27.59, 1.27.60, 1.27.61, 1.27.62, 1.27.63, 1.27.64, 1.27.65, 1.27.66, 1.27.67, 1.27.68, 1.27.69, 1.27.70, 1.27.71, 1.27.72, 1.27.73, 1.27.74, 1.27.75, 1.27.76, 1.27.77, 1.27.78, 1.27.79, 1.27.80, 1.27.81, 1.27.82, 1.27.83, 1.27.84, 1.27.85, 1.27.86, 1.27.87, 1.27.88, 1.27.89, 1.27.90, 1.27.91, 1.27.92, 1.27.93, 1.27.94, 1.27.95, 1.27.96, 1.28.0, 1.28.1, 1.28.2, 1.28.3, 1.28.4, 1.28.5, 1.29.0, 1.29.1, 1.29.2, 1.29.3, 1.29.4, 1.29.5, 1.29.6, 1.29.7, 1.29.8, 1.29.9, 1.29.10, 1.29.11, 1.29.12, 1.29.13, 1.29.14, 1.29.15, 1.29.16, 1.29.17, 1.29.18, 1.29.19, 1.29.20)\r\nNo matching distribution found for botocore==1.29.21 (from awscli)\r\n```\n\n### Expected Behavior\n\nawscli installs.\r\n\r\n\n\n### Current Behavior\n\nInstall fails due to version requirements\r\n\r\n```\r\nCould not find a version that satisfies the requirement botocore==1.29.21\r\n```\r\n\n\n### Reproduction Steps\n\n```\r\npip3 install -U awscli\r\n\r\n```\n\n### Possible Solution\n\nDoing \r\n```\r\npip3 install -U boto3==1.26.20\r\n```\r\nallows the install of awscli to go forward.\n\n### Additional Information/Context\n\nPlease make sure that this doesn't happen again. This breaks build pipelines.\n\n### CLI version used\n\n1.27.21\n\n### Environment details (OS name and version, etc.)\n\nAny", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7493/reactions", "total_count": 10, "+1": 10, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7490", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7490/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7490/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7490/events", "html_url": "https://github.com/aws/aws-cli/issues/7490", "id": 1469104324, "node_id": "I_kwDOAGd3X85XkMDE", "number": 7490, "title": "aws s3 mb does not throw exception properly for us-east-1", "user": {"login": "jasdrive1", "id": 93020537, "node_id": "U_kgDOBYtheQ", "avatar_url": "https://avatars.githubusercontent.com/u/93020537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasdrive1", "html_url": "https://github.com/jasdrive1", "followers_url": "https://api.github.com/users/jasdrive1/followers", "following_url": "https://api.github.com/users/jasdrive1/following{/other_user}", "gists_url": "https://api.github.com/users/jasdrive1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasdrive1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasdrive1/subscriptions", "organizations_url": "https://api.github.com/users/jasdrive1/orgs", "repos_url": "https://api.github.com/users/jasdrive1/repos", "events_url": "https://api.github.com/users/jasdrive1/events{/privacy}", "received_events_url": "https://api.github.com/users/jasdrive1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-30T06:14:31Z", "updated_at": "2022-11-30T22:41:19Z", "closed_at": "2022-11-30T22:40:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen attempting the \"make bucket\" command on a bucket that already exists, the expected outcome is an exception. However, in my testing for the us-east-1 region alone (of only a handful tested), you can call this command repeatedly on buckets that exist and no exception is ever thrown.\n\n### Expected Behavior\n\nExpected an exception similar or identical to\r\n```\r\nmake_bucket failed: s3://test-bucket-example An error occurred (BucketAlreadyOwnedByYou) when calling the CreateBucket operation: Your previous request to create the named bucket succeeded and you already own it.\r\n```\n\n### Current Behavior\n\n```\r\nmake_bucket: s3://test-bucket-example\r\n```\n\n### Reproduction Steps\n\nThe following are all run in order, with no existing buckets of the provided names.\r\nThe comments signify the response received from the service.\r\n```bash\r\naws s3 --region \"us-east-1\" mb \"s3://test-bucket-please-delete-123\"\r\n# make_bucket: test-bucket-please-delete-123\r\n\r\naws s3 --region \"us-east-2\" mb \"s3://test-bucket-please-delete-234\"\r\n# make_bucket: test-bucket-please-delete-234\r\n\r\naws s3 --region \"us-west-2\" mb \"s3://test-bucket-please-delete-345\"\r\n# make_bucket: test-bucket-please-delete-345\r\n\r\naws s3 --region \"eu-west-2\" mb \"s3://test-bucket-please-delete-456\"\r\n# make_bucket: test-bucket-please-delete-456\r\n```\r\n\r\nThen, when running the commands again, the output is different only for `us-east-1`\r\n\r\n```bash\r\naws s3 --region \"us-east-1\" mb \"s3://test-bucket-please-delete-123\"\r\n# make_bucket: test-bucket-please-delete-123\r\n\r\naws s3 --region \"us-east-2\" mb \"s3://test-bucket-please-delete-234\"\r\n# make_bucket failed: s3://test-bucket-please-delete-234 An error occurred (BucketAlreadyOwnedByYou) when calling the CreateBucket operation: Your previous request to create the named bucket succeeded and you already own it.\r\n\r\naws s3 --region \"us-west-2\" mb \"s3://test-bucket-please-delete-345\"\r\n# make_bucket failed: s3://test-bucket-please-delete-345 An error occurred (BucketAlreadyOwnedByYou) when calling the CreateBucket operation: Your previous request to create the named bucket succeeded and you already own it.\r\n\r\naws s3 --region \"eu-west-2\" mb \"s3://test-bucket-please-delete-456\"\r\n# make_bucket failed: s3://test-bucket-please-delete-456 An error occurred (BucketAlreadyOwnedByYou) when calling the CreateBucket operation: Your previous request to create the named bucket succeeded and you already own it.\r\n```\r\n\r\nI tested this on 2 separate AWS accounts with the same results\n\n### Possible Solution\n\nHave `us-east-1` follow the same path as others.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.4.11 Python/3.8.8 Darwin/21.6.0 exe/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nMacOS Monterey V12.6.1 AND Amazon Linux 2", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7490/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7486", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7486/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7486/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7486/events", "html_url": "https://github.com/aws/aws-cli/issues/7486", "id": 1466781354, "node_id": "I_kwDOAGd3X85XbU6q", "number": 7486, "title": "macos: SSL validation failed for https://sts.amazonaws.com/ [Errno 2] No such file or directory", "user": {"login": "Ganesh-Ponipireddy", "id": 48117290, "node_id": "MDQ6VXNlcjQ4MTE3Mjkw", "avatar_url": "https://avatars.githubusercontent.com/u/48117290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ganesh-Ponipireddy", "html_url": "https://github.com/Ganesh-Ponipireddy", "followers_url": "https://api.github.com/users/Ganesh-Ponipireddy/followers", "following_url": "https://api.github.com/users/Ganesh-Ponipireddy/following{/other_user}", "gists_url": "https://api.github.com/users/Ganesh-Ponipireddy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ganesh-Ponipireddy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ganesh-Ponipireddy/subscriptions", "organizations_url": "https://api.github.com/users/Ganesh-Ponipireddy/orgs", "repos_url": "https://api.github.com/users/Ganesh-Ponipireddy/repos", "events_url": "https://api.github.com/users/Ganesh-Ponipireddy/events{/privacy}", "received_events_url": "https://api.github.com/users/Ganesh-Ponipireddy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1180550232, "node_id": "MDU6TGFiZWwxMTgwNTUwMjMy", "url": "https://api.github.com/repos/aws/aws-cli/labels/third-party", "name": "third-party", "color": "40C8B6", "default": false, "description": "This issue is related to third-party libraries or applications."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-28T17:11:37Z", "updated_at": "2022-11-29T00:35:07Z", "closed_at": "2022-11-29T00:34:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/util/ssl_.py\", line 402, in ssl_wrap_socket\r\n    context.load_verify_locations(ca_certs, ca_cert_dir, ca_cert_data)\r\nFileNotFoundError: [Errno 2] No such file or directory\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/httpsession.py\", line 455, in send\r\n    urllib_response = conn.urlopen(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\r\n    retries = retries.increment(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/util/retry.py\", line 525, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/packages/six.py\", line 770, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 703, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 386, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 1042, in _validate_conn\r\n    conn.connect()\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connection.py\", line 414, in connect\r\n    self.sock = ssl_wrap_socket(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/util/ssl_.py\", line 404, in ssl_wrap_socket\r\n    raise SSLError(e)\r\nurllib3.exceptions.SSLError: [Errno 2] No such file or directory\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/okta-awscli\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 1130, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 1055, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 1404, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 760, in invoke\r\n    return __callback(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/oktaawscli/okta_awscli.py\", line 136, in main\r\n    if force or not aws_auth.check_sts_token():\r\n  File \"/usr/local/lib/python3.10/site-packages/oktaawscli/aws_auth.py\", line 139, in check_sts_token\r\n    sts.get_caller_identity()\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/client.py\", line 530, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/client.py\", line 943, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/client.py\", line 966, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 119, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 202, in _send_request\r\n    while self._needs_retry(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 354, in _needs_retry\r\n    responses = self._event_emitter.emit(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/hooks.py\", line 412, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/hooks.py\", line 256, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/hooks.py\", line 239, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 207, in __call__\r\n    if self._checker(**checker_kwargs):\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 284, in __call__\r\n    should_retry = self._should_retry(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 320, in _should_retry\r\n    return self._checker(attempt_number, response, caught_exception)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 363, in __call__\r\n    checker_response = checker(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 247, in __call__\r\n    return self._check_caught_exception(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 416, in _check_caught_exception\r\n    raise caught_exception\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 281, in _do_get_response\r\n    http_response = self._send(request)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 377, in _send\r\n    return self.http_session.send(request)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/httpsession.py\", line 482, in send\r\n    raise SSLError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.SSLError: SSL validation failed for https://sts.amazonaws.com/ [Errno 2] No such file or directory\r\nganesh.ponipireddy@APAC-M-4346 ~ % okta-awscli --okta-profile coupadev --profile default\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/util/ssl_.py\", line 402, in ssl_wrap_socket\r\n    context.load_verify_locations(ca_certs, ca_cert_dir, ca_cert_data)\r\nFileNotFoundError: [Errno 2] No such file or directory\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/httpsession.py\", line 455, in send\r\n    urllib_response = conn.urlopen(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\r\n    retries = retries.increment(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/util/retry.py\", line 525, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/packages/six.py\", line 770, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 703, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 386, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 1042, in _validate_conn\r\n    conn.connect()\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/connection.py\", line 414, in connect\r\n    self.sock = ssl_wrap_socket(\r\n  File \"/usr/local/lib/python3.10/site-packages/urllib3/util/ssl_.py\", line 404, in ssl_wrap_socket\r\n    raise SSLError(e)\r\nurllib3.exceptions.SSLError: [Errno 2] No such file or directory\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/okta-awscli\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 1130, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 1055, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 1404, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/usr/local/lib/python3.10/site-packages/click/core.py\", line 760, in invoke\r\n    return __callback(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/oktaawscli/okta_awscli.py\", line 136, in main\r\n    if force or not aws_auth.check_sts_token():\r\n  File \"/usr/local/lib/python3.10/site-packages/oktaawscli/aws_auth.py\", line 139, in check_sts_token\r\n    sts.get_caller_identity()\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/client.py\", line 530, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/client.py\", line 943, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/client.py\", line 966, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 119, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 202, in _send_request\r\n    while self._needs_retry(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 354, in _needs_retry\r\n    responses = self._event_emitter.emit(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/hooks.py\", line 412, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/hooks.py\", line 256, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/hooks.py\", line 239, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 207, in __call__\r\n    if self._checker(**checker_kwargs):\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 284, in __call__\r\n    should_retry = self._should_retry(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 320, in _should_retry\r\n    return self._checker(attempt_number, response, caught_exception)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 363, in __call__\r\n    checker_response = checker(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 247, in __call__\r\n    return self._check_caught_exception(\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/retryhandler.py\", line 416, in _check_caught_exception\r\n    raise caught_exception\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 281, in _do_get_response\r\n    http_response = self._send(request)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/endpoint.py\", line 377, in _send\r\n    return self.http_session.send(request)\r\n  File \"/usr/local/lib/python3.10/site-packages/botocore/httpsession.py\", line 482, in send\r\n    raise SSLError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.SSLError: SSL validation failed for https://sts.amazonaws.com/ [Errno 2] No such file or directory\n\n### Expected Behavior\n\nto run the cmd\n\n### Current Behavior\n\ngetting ssl error\n\n### Reproduction Steps\n\nokta-awscli  --profile default\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/1.27.17 Python/3.10.8 Darwin/21.6.0 botocore/1.29.17\n\n### Environment details (OS name and version, etc.)\n\nMac os 12.6", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7486/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7478", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7478/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7478/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7478/events", "html_url": "https://github.com/aws/aws-cli/issues/7478", "id": 1463410010, "node_id": "I_kwDOAGd3X85XOd1a", "number": 7478, "title": "Slow upload speed in Apple Virtualization Framework VMs on M1", "user": {"login": "gregiOS", "id": 9901474, "node_id": "MDQ6VXNlcjk5MDE0NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9901474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregiOS", "html_url": "https://github.com/gregiOS", "followers_url": "https://api.github.com/users/gregiOS/followers", "following_url": "https://api.github.com/users/gregiOS/following{/other_user}", "gists_url": "https://api.github.com/users/gregiOS/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregiOS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregiOS/subscriptions", "organizations_url": "https://api.github.com/users/gregiOS/orgs", "repos_url": "https://api.github.com/users/gregiOS/repos", "events_url": "https://api.github.com/users/gregiOS/events{/privacy}", "received_events_url": "https://api.github.com/users/gregiOS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-11-24T14:12:17Z", "updated_at": "2023-02-07T18:38:04Z", "closed_at": "2022-11-28T08:30:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWe are using codemagic.io apple Intel machines for our CI/CD pipelines for iOS project.\r\n\r\nAs we are using S3 for caching dependencies its fine with Intel devices.\r\n\r\nBut with Apple m1 machines (virtual instances), all out pipelines timeouts when uploading cache to s3\r\nThere is proper issue for codemagic but it looks like AWS issue https://github.com/orgs/codemagic-ci-cd/discussions/955 \r\n\r\n\n\n### Expected Behavior\n\nAWS s3 CLI performance is similar to Intel machines\n\n### Current Behavior\n\nCache upload fails \n\n### Reproduction Steps\n\nLet me know, if you need those\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n1.18.105\n\n### Environment details (OS name and version, etc.)\n\nMacOS Monetery", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7478/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7456", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7456/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7456/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7456/events", "html_url": "https://github.com/aws/aws-cli/issues/7456", "id": 1457985804, "node_id": "I_kwDOAGd3X85W5xkM", "number": 7456, "title": "S3 Object Lambda Access point GetObject failures in 2.9.0", "user": {"login": "dmorand17", "id": 2649057, "node_id": "MDQ6VXNlcjI2NDkwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/2649057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmorand17", "html_url": "https://github.com/dmorand17", "followers_url": "https://api.github.com/users/dmorand17/followers", "following_url": "https://api.github.com/users/dmorand17/following{/other_user}", "gists_url": "https://api.github.com/users/dmorand17/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmorand17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmorand17/subscriptions", "organizations_url": "https://api.github.com/users/dmorand17/orgs", "repos_url": "https://api.github.com/users/dmorand17/repos", "events_url": "https://api.github.com/users/dmorand17/events{/privacy}", "received_events_url": "https://api.github.com/users/dmorand17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 4723087635, "node_id": "LA_kwDOAGd3X88AAAABGYSZEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/p1", "name": "p1", "color": "FF4500", "default": false, "description": "This is a high priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-11-21T13:50:48Z", "updated_at": "2023-03-20T18:53:14Z", "closed_at": "2023-03-20T18:52:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nRetrieving S3 objects via S3 Object Lambda access point is failing in the 2.9.0 cli.  **GetObject** requests fail with an error of\r\n\r\n```\r\nAn error occurred (InvalidSignature) when calling the GetObject operation: Invalid signature\r\n```\r\n\r\n\r\n### Expected Behavior\r\n\r\n**2.8.12**\r\n```\r\n$ aws s3api get-object --bucket <S3 Object Lambda Access Point> --key <key> output.txt\r\n\r\n{\r\n    \"ContentLength\": 8963,\r\n    \"ContentType\": \"text/plain\",\r\n    \"Metadata\": {}\r\n}\r\n```\r\n\r\n### Current Behavior\r\n\r\n**2.9.0**\r\n```\r\n$ aws s3api get-object --bucket <S3 Object Lambda Access Point> --key <key> output.txt\r\n\r\nAn error occurred (InvalidSignature) when calling the GetObject operation: Invalid signature.\r\n```\r\n\r\nAdditional logs from `--debug` output\r\n```\r\n2022-11-21 08:50:24,751 - MainThread - urllib3.connectionpool - DEBUG - https://demo-lambda-access-point-152539975130.s3-object-lambda.us-east-1.amazonaws.com:443 \"GET /access-point-data/AnyU-applicants.json HTTP/1.1\" 400 205\r\n2022-11-21 08:50:24,751 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': '8d9a8c18-d0b4-44a7-9fa9-2b4aa1e4b70c', 'x-amz-request-id': '8d9a8c18-d0b4-44a7-9fa9-2b4aa1e4b70c', 'Content-Type': 'application/xml', 'x-amz-id-2': '{id-2}', 'Date': 'Mon, 21 Nov 2022 13:50:24 GMT', 'Content-Length': '205'}\r\n2022-11-21 08:50:24,752 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>InvalidSignature</Code><Message>Invalid signature.</Message><RequestId>8d9a8c18-d0b4-44a7-9fa9-2b4aa1e4b70c</RequestId><HostId>{host-id}</HostId></Error>'\r\n2022-11-21 08:50:24,754 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.GetObject: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x1037f4250>>\r\n2022-11-21 08:50:24,754 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2022-11-21 08:50:24,754 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.GetObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x1037dca10>>\r\n2022-11-21 08:50:24,754 - MainThread - botocore.utils - DEBUG - S3 request was previously for an Accesspoint ARN, not redirecting.\r\n2022-11-21 08:50:24,754 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.GetObject: calling handler <bound method StreamingOutputArgument.save_file of <awscli.customizations.streamingoutputarg.StreamingOutputArgument object at 0x1032b3d10>>\r\n2022-11-21 08:50:24,754 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.GetObject: calling handler <function enhance_error_msg at 0x102ebb380>\r\n2022-11-21 08:50:24,754 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.GetObject: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x1032b1790>>\r\n2022-11-21 08:50:24,754 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.0/libexec/lib/python3.11/site-packages/awscli/clidriver.py\", line 460, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.0/libexec/lib/python3.11/site-packages/awscli/clidriver.py\", line 595, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.0/libexec/lib/python3.11/site-packages/awscli/clidriver.py\", line 798, in __call__\r\n    return self._operation_caller.invoke(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.0/libexec/lib/python3.11/site-packages/awscli/clidriver.py\", line 929, in invoke\r\n    response = self._make_client_call(\r\n               ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.0/libexec/lib/python3.11/site-packages/awscli/clidriver.py\", line 941, in _make_client_call\r\n    response = getattr(client, xform_name(operation_name))(\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.0/libexec/lib/python3.11/site-packages/awscli/botocore/client.py\", line 325, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/homebrew/Cellar/awscli/2.9.0/libexec/lib/python3.11/site-packages/awscli/botocore/client.py\", line 669, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (InvalidSignature) when calling the GetObject operation: Invalid signature.\r\n\r\nAn error occurred (InvalidSignature) when calling the GetObject operation: Invalid signature.\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n```\r\naws s3api get-object --bucket <S3 Object Lambda Access Point> --key <key> output.txt\r\n```\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\n2.9.0\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nMac Monterey 12.5.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7455", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7455/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7455/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7455/events", "html_url": "https://github.com/aws/aws-cli/issues/7455", "id": 1457798751, "node_id": "I_kwDOAGd3X85W5D5f", "number": 7455, "title": "aws sts assume-role-with-saml error", "user": {"login": "pserrano", "id": 1397380, "node_id": "MDQ6VXNlcjEzOTczODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1397380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pserrano", "html_url": "https://github.com/pserrano", "followers_url": "https://api.github.com/users/pserrano/followers", "following_url": "https://api.github.com/users/pserrano/following{/other_user}", "gists_url": "https://api.github.com/users/pserrano/gists{/gist_id}", "starred_url": "https://api.github.com/users/pserrano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pserrano/subscriptions", "organizations_url": "https://api.github.com/users/pserrano/orgs", "repos_url": "https://api.github.com/users/pserrano/repos", "events_url": "https://api.github.com/users/pserrano/events{/privacy}", "received_events_url": "https://api.github.com/users/pserrano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2395605445, "node_id": "MDU6TGFiZWwyMzk1NjA1NDQ1", "url": "https://api.github.com/repos/aws/aws-cli/labels/sts", "name": "sts", "color": "ff5500", "default": false, "description": ""}, {"id": 4723087635, "node_id": "LA_kwDOAGd3X88AAAABGYSZEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/p1", "name": "p1", "color": "FF4500", "default": false, "description": "This is a high priority issue"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-21T11:41:57Z", "updated_at": "2022-12-13T09:26:08Z", "closed_at": "2022-12-13T09:25:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nThere is an error when we try to execute aws sts assume-role-with-saml in this version of aws cli. \r\n\r\nThe last version, aws-cli/2.8.13 works ok with the same command\n\n### Expected Behavior\n\nExpected login with aws \n\n### Current Behavior\n\n```\r\nNo endpoint found for parameters:\r\nUseDualStack: False\r\nUseFIPS: False\r\nEndpoint: https://sts.eu-central-1.amazonaws.com\r\nUseGlobalEndpoint: False\r\n```\r\n\r\n\n\n### Reproduction Steps\n\n`aws sts assume-role-with-saml --endpoint-url https://sts.eu-central-1.amazonaws.com --role-arn arn:aws:iam::xxxxxxxxx:role/xxx --principal-arn arn:aws:iam::xxxxxxxxxxxx:saml-provider/xxx --saml-assertion xxxxxxx --duration-seconds 14400`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.9.0\n\n### Environment details (OS name and version, etc.)\n\nMacOSX Apple M1 Ventura 13.0.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7455/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7434", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7434/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7434/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7434/events", "html_url": "https://github.com/aws/aws-cli/issues/7434", "id": 1448114472, "node_id": "I_kwDOAGd3X85WUHko", "number": 7434, "title": "aws codeartifact login can't set npm registry", "user": {"login": "barabadzhi", "id": 8407846, "node_id": "MDQ6VXNlcjg0MDc4NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8407846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/barabadzhi", "html_url": "https://github.com/barabadzhi", "followers_url": "https://api.github.com/users/barabadzhi/followers", "following_url": "https://api.github.com/users/barabadzhi/following{/other_user}", "gists_url": "https://api.github.com/users/barabadzhi/gists{/gist_id}", "starred_url": "https://api.github.com/users/barabadzhi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/barabadzhi/subscriptions", "organizations_url": "https://api.github.com/users/barabadzhi/orgs", "repos_url": "https://api.github.com/users/barabadzhi/repos", "events_url": "https://api.github.com/users/barabadzhi/events{/privacy}", "received_events_url": "https://api.github.com/users/barabadzhi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2169783451, "node_id": "MDU6TGFiZWwyMTY5NzgzNDUx", "url": "https://api.github.com/repos/aws/aws-cli/labels/codeartifact", "name": "codeartifact", "color": "ff5500", "default": false, "description": ""}, {"id": 4723087635, "node_id": "LA_kwDOAGd3X88AAAABGYSZEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/p1", "name": "p1", "color": "FF4500", "default": false, "description": "This is a high priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2022-11-14T13:54:49Z", "updated_at": "2023-04-21T19:09:45Z", "closed_at": "2022-12-03T00:18:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nSince last upgrade, I'm no longer able to set npm registry with `aws codeartifact login`.\r\nCommand I execute `aws codeartifact login --tool npm --repository XXX --domain XXX`.\r\n\r\n### Expected Behavior\r\n\r\nTypical `You're logged in` message as it used to be.\r\nNpm pulls codeartifact as usual.\r\n\r\n### Current Behavior\r\n\r\nShort:\r\n`Command '['npm', 'config', 'set', '//XXX-195852102923.d.codeartifact.eu-west-1.amazonaws.com/npm/XXX/:always-auth', 'true']' returned non-zero exit status 1.`\r\n\r\nLong (`--debug`):\r\n<details>\r\n  <summary>Debug output</summary>\r\n  \u279c aws codeartifact login --tool npm --repository XXX --domain XXX --debug\r\n2022-11-14 14:21:34,263 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.8.12 Python/3.10.8 Darwin/22.1.0 source/arm64\r\n2022-11-14 14:21:34,263 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['codeartifact', 'login', '--tool', 'npm', '--repository', 'XXX', '--domain', 'XXX', '--debug']\r\n2022-11-14 14:21:34,274 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x104f2cee0>\r\n2022-11-14 14:21:34,274 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x104d6ac20>\r\n2022-11-14 14:21:34,274 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-11-14 14:21:34,274 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x104a90f70>\r\n2022-11-14 14:21:34,274 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x104a91ea0>\r\n2022-11-14 14:21:34,274 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x104f2f7f0>\r\n2022-11-14 14:21:34,274 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x104dbc700>\r\n2022-11-14 14:21:34,275 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-11-14 14:21:34,275 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x104f2ea70>\r\n2022-11-14 14:21:34,275 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/data/cli.json\r\n2022-11-14 14:21:34,275 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x104e5feb0>\r\n2022-11-14 14:21:34,275 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x104e8ca60>\r\n2022-11-14 14:21:34,275 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x104e8c9d0>\r\n2022-11-14 14:21:34,275 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x104e8cb80>\r\n2022-11-14 14:21:34,275 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x104e8caf0>\r\n2022-11-14 14:21:34,276 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x104fd8600>\r\n2022-11-14 14:21:34,276 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.8.12 Python/3.10.8 Darwin/22.1.0 source/arm64 prompt/off\r\n2022-11-14 14:21:34,276 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['codeartifact', 'login', '--tool', 'npm', '--repository', 'XXX', '--domain', 'XXX', '--debug']\r\n2022-11-14 14:21:34,276 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x104f2d510>\r\n2022-11-14 14:21:34,276 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x1047f1360>\r\n2022-11-14 14:21:34,276 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x104fa57e0>\r\n2022-11-14 14:21:34,276 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x1047d2710>\r\n2022-11-14 14:21:34,276 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x104835e10>\r\n2022-11-14 14:21:34,277 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: ENDPOINT\r\n2022-11-14 14:21:34,280 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x104dbc5e0>\r\n2022-11-14 14:21:34,280 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x104d69b40>\r\n2022-11-14 14:21:34,290 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/botocore/data/codeartifact/2018-09-22/service-2.json\r\n2022-11-14 14:21:34,292 - MainThread - botocore.hooks - DEBUG - Event building-command-table.codeartifact: calling handler <function inject_commands at 0x104a43be0>\r\n2022-11-14 14:21:34,292 - MainThread - botocore.hooks - DEBUG - Event building-command-table.codeartifact: calling handler <function add_waiters at 0x104f2ea70>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event building-command-table.codeartifact_login: calling handler <function add_waiters at 0x104f2ea70>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.tool: calling handler <awscli.paramfile.URIArgumentHandler object at 0x105003070>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x1047dfbe0>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.domain: calling handler <awscli.paramfile.URIArgumentHandler object at 0x105003070>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x1047dfbe0>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.domain-owner: calling handler <awscli.paramfile.URIArgumentHandler object at 0x105003070>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.namespace: calling handler <awscli.paramfile.URIArgumentHandler object at 0x105003070>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.duration-seconds: calling handler <awscli.paramfile.URIArgumentHandler object at 0x105003070>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.repository: calling handler <awscli.paramfile.URIArgumentHandler object at 0x105003070>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x1047dfbe0>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.dry-run: calling handler <awscli.paramfile.URIArgumentHandler object at 0x105003070>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x1047dfbe0>\r\n2022-11-14 14:21:34,301 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2022-11-14 14:21:34,301 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2022-11-14 14:21:34,301 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2022-11-14 14:21:34,301 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2022-11-14 14:21:34,301 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2022-11-14 14:21:34,301 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2022-11-14 14:21:34,302 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/botocore/data/endpoints.json\r\n2022-11-14 14:21:34,306 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x103b44040>\r\n2022-11-14 14:21:34,307 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.codeartifact: calling handler <function add_generate_presigned_url at 0x103a97b50>\r\n2022-11-14 14:21:34,346 - MainThread - botocore.endpoint - DEBUG - Setting codeartifact timeout as (60, 60)\r\n2022-11-14 14:21:34,346 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.codeartifact.GetAuthorizationToken: calling handler <function base64_decode_input_blobs at 0x104fa5f30>\r\n2022-11-14 14:21:34,346 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.codeartifact.GetAuthorizationToken: calling handler <function generate_idempotent_uuid at 0x103b460e0>\r\n2022-11-14 14:21:34,347 - MainThread - botocore.hooks - DEBUG - Event before-call.codeartifact.GetAuthorizationToken: calling handler <function inject_api_version_header_if_needed at 0x103b47910>\r\n2022-11-14 14:21:34,347 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetAuthorizationToken) with params: {'url_path': '/v1/authorization-token', 'query_string': {'domain': 'XXX'}, 'method': 'POST', 'headers': {'User-Agent': 'aws-cli/2.8.12 Python/3.10.8 Darwin/22.1.0 source/arm64 prompt/off command/codeartifact.login'}, 'body': b'', 'url': 'https://codeartifact.eu-west-1.amazonaws.com/v1/authorization-token?domain=XXX', 'context': {'client_region': 'eu-west-1', 'client_config': <botocore.config.Config object at 0x1054fc5e0>, 'has_streaming_input': False, 'auth_type': None}}\r\n2022-11-14 14:21:34,347 - MainThread - botocore.hooks - DEBUG - Event request-created.codeartifact.GetAuthorizationToken: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1054fc670>>\r\n2022-11-14 14:21:34,347 - MainThread - botocore.hooks - DEBUG - Event choose-signer.codeartifact.GetAuthorizationToken: calling handler <function set_operation_specific_signer at 0x103b45fc0>\r\n2022-11-14 14:21:34,347 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2022-11-14 14:21:34,347 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/v1/authorization-token\r\ndomain=XXX\r\nhost:codeartifact.eu-west-1.amazonaws.com\r\nx-amz-date:20221114T132134Z\r\nx-amz-security-token:TOKEN\r\n\r\nhost;x-amz-date;x-amz-security-token\r\nTOKEN\r\n2022-11-14 14:21:34,347 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20221114T132134Z\r\n20221114/eu-west-1/codeartifact/aws4_request\r\n3812203d1f64c519acbf89a1db2a0052ae90cdb1630fc7910a0ede17e691442e\r\n2022-11-14 14:21:34,347 - MainThread - botocore.auth - DEBUG - Signature:\r\nSIG\r\n2022-11-14 14:21:34,347 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://codeartifact.eu-west-1.amazonaws.com/v1/authorization-token?domain=XXX, headers={'User-Agent': b'aws-cli/2.8.12 Python/3.10.8 Darwin/22.1.0 source/arm64 prompt/off command/codeartifact.login', 'X-Amz-Date': b'20221114T132134Z', 'X-Amz-Security-Token': b'TOKEN', 'Authorization': b'AWS4-HMAC-SHA256 Credential=CREDENTIAL/20221114/eu-west-1/codeartifact/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token, Signature=SIG', 'Content-Length': '0'}>\r\n2022-11-14 14:21:34,347 - MainThread - botocore.httpsession - DEBUG - Certificate path: /opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/botocore/cacert.pem\r\n2022-11-14 14:21:34,347 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): codeartifact.eu-west-1.amazonaws.com:443\r\n2022-11-14 14:21:34,620 - MainThread - urllib3.connectionpool - DEBUG - https://codeartifact.eu-west-1.amazonaws.com:443 \"POST /v1/authorization-token?domain=XXX HTTP/1.1\" 200 1324\r\n2022-11-14 14:21:34,621 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Mon, 14 Nov 2022 13:21:34 GMT', 'Content-Type': 'application/json', 'Content-Length': '1324', 'Connection': 'keep-alive', 'x-amzn-RequestId': '516961da-7187-4cd6-9a24-2b7105624d63'}\r\n2022-11-14 14:21:34,621 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"authorizationToken\":TOKEN}'\r\n2022-11-14 14:21:34,622 - MainThread - botocore.hooks - DEBUG - Event needs-retry.codeartifact.GetAuthorizationToken: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x1054fd090>>\r\n2022-11-14 14:21:34,622 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2022-11-14 14:21:34,623 - MainThread - botocore.hooks - DEBUG - Event after-call.codeartifact.GetAuthorizationToken: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x1054fc5b0>>\r\n2022-11-14 14:21:34,623 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.codeartifact.GetRepositoryEndpoint: calling handler <function base64_decode_input_blobs at 0x104fa5f30>\r\n2022-11-14 14:21:34,623 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.codeartifact.GetRepositoryEndpoint: calling handler <function generate_idempotent_uuid at 0x103b460e0>\r\n2022-11-14 14:21:34,623 - MainThread - botocore.hooks - DEBUG - Event before-call.codeartifact.GetRepositoryEndpoint: calling handler <function inject_api_version_header_if_needed at 0x103b47910>\r\n2022-11-14 14:21:34,623 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetRepositoryEndpoint) with params: {'url_path': '/v1/repository/endpoint', 'query_string': {'domain': 'XXX', 'repository': 'XXX', 'format': 'npm'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.8.12 Python/3.10.8 Darwin/22.1.0 source/arm64 prompt/off command/codeartifact.login'}, 'body': b'', 'url': 'https://codeartifact.eu-west-1.amazonaws.com/v1/repository/endpoint?domain=XXX&repository=XXX&format=npm', 'context': {'client_region': 'eu-west-1', 'client_config': <botocore.config.Config object at 0x1054fc5e0>, 'has_streaming_input': False, 'auth_type': None}}\r\n2022-11-14 14:21:34,624 - MainThread - botocore.hooks - DEBUG - Event request-created.codeartifact.GetRepositoryEndpoint: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1054fc670>>\r\n2022-11-14 14:21:34,624 - MainThread - botocore.hooks - DEBUG - Event choose-signer.codeartifact.GetRepositoryEndpoint: calling handler <function set_operation_specific_signer at 0x103b45fc0>\r\n2022-11-14 14:21:34,624 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2022-11-14 14:21:34,624 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/v1/repository/endpoint\r\ndomain=XXX&format=npm&repository=XXX\r\nhost:codeartifact.eu-west-1.amazonaws.com\r\nx-amz-date:20221114T132134Z\r\nx-amz-security-token:TOKEN\r\n\r\nhost;x-amz-date;x-amz-security-token\r\nTOKEN\r\n2022-11-14 14:21:34,624 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20221114T132134Z\r\n20221114/eu-west-1/codeartifact/aws4_request\r\ndc8a9e9f4ac92328d78ce6f42de67ccecea9959b32b198dcc32b2499cc4f62cf\r\n2022-11-14 14:21:34,625 - MainThread - botocore.auth - DEBUG - Signature:\r\nSIG\r\n2022-11-14 14:21:34,625 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://codeartifact.eu-west-1.amazonaws.com/v1/repository/endpoint?domain=XXX&repository=XXX&format=npm, headers={'User-Agent': b'aws-cli/2.8.12 Python/3.10.8 Darwin/22.1.0 source/arm64 prompt/off command/codeartifact.login', 'X-Amz-Date': b'20221114T132134Z', 'X-Amz-Security-Token': b'TOKEN', 'Authorization': b'AWS4-HMAC-SHA256 Credential=CREDENTIAL/20221114/eu-west-1/codeartifact/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token, Signature=SIG'}>\r\n2022-11-14 14:21:34,625 - MainThread - botocore.httpsession - DEBUG - Certificate path: /opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/botocore/cacert.pem\r\n2022-11-14 14:21:34,773 - MainThread - urllib3.connectionpool - DEBUG - https://codeartifact.eu-west-1.amazonaws.com:443 \"GET /v1/repository/endpoint?domain=XXX&repository=XXX&format=npm HTTP/1.1\" 200 115\r\n2022-11-14 14:21:34,774 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Mon, 14 Nov 2022 13:21:34 GMT', 'Content-Type': 'application/json', 'Content-Length': '115', 'Connection': 'keep-alive', 'x-amzn-RequestId': '277eb8fa-894d-4e25-b83b-ca7c215c8d23'}\r\n2022-11-14 14:21:34,774 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"repositoryEndpoint\":\"https://XXX-195852102923.d.codeartifact.eu-west-1.amazonaws.com/npm/XXX/\"}'\r\n2022-11-14 14:21:34,775 - MainThread - botocore.hooks - DEBUG - Event needs-retry.codeartifact.GetRepositoryEndpoint: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x1054fd090>>\r\n2022-11-14 14:21:34,775 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2022-11-14 14:21:34,775 - MainThread - botocore.hooks - DEBUG - Event after-call.codeartifact.GetRepositoryEndpoint: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x1054fc5b0>>\r\n2022-11-14 14:21:35,314 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/clidriver.py\", line 458, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/clidriver.py\", line 593, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/customizations/commands.py\", line 191, in __call__\r\n    rc = self._run_main(parsed_args, parsed_globals)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/customizations/codeartifact/login.py\", line 663, in _run_main\r\n    login.login(parsed_args.dry_run)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/customizations/codeartifact/login.py\", line 312, in login\r\n    self._run_commands('npm', commands, dry_run)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.12/libexec/lib/python3.10/site-packages/awscli/customizations/codeartifact/login.py\", line 88, in _run_commands\r\n    self.subprocess_utils.run(\r\n  File \"/opt/homebrew/Cellar/python@3.10/3.10.8/Frameworks/Python.framework/Versions/3.10/lib/python3.10/subprocess.py\", line 526, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['npm', 'config', 'set', '//XXX-195852102923.d.codeartifact.eu-west-1.amazonaws.com/npm/XXX/:always-auth', 'true']' returned non-zero exit status 1.\r\n\r\nCommand '['npm', 'config', 'set', '//XXX-195852102923.d.codeartifact.eu-west-1.amazonaws.com/npm/XXX/:always-auth', 'true']' returned non-zero exit status 1.\r\n</details>\r\n\r\n### Reproduction Steps\r\n\r\nOn a fresh Ventura (M1):\r\n1. Install aws-cli (`brew install awscli`).\r\n2. Set `region` in `~/.aws/config`.\r\n3. Set credentials in `~/.aws/credentials`.\r\n4. Get new session token with `aws sts get-session-token` & hardware key.\r\n5. Update `~/.aws/credentials` with the new info.\r\n6. Run `aws codeartifact login --tool npm --repository XXX --domain XXX`.\r\n~Profit!~ Nope.\r\n\r\n\r\n### Possible Solution\r\n\r\nManually set npm repo, but it is cumbersome & defeats the whole purpose of the CLI tool.\r\n\r\nUPD: [Manually setting npm registry](https://docs.aws.amazon.com/codeartifact/latest/ug/npm-auth.html) indeed worked. So, the `aws codeartifact login` is broken (at least for me).\r\n\r\n### Additional Information/Context\r\n\r\n```\r\nnpm --version   \r\n9.1.1\r\nnode --version\r\nv18.12.1\r\n```\r\n\r\n### CLI version used\r\n\r\naws-cli/2.8.12 Python/3.10.8 Darwin/22.1.0 source/arm64 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nApple M1/macOS Ventura 13.0.1 (22A400)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7434/reactions", "total_count": 9, "+1": 9, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7434/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7415", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7415/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7415/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7415/events", "html_url": "https://github.com/aws/aws-cli/issues/7415", "id": 1440348973, "node_id": "I_kwDOAGd3X85V2fst", "number": 7415, "title": "Could not connect to the [route53domains] endpoint URL", "user": {"login": "MRO60", "id": 106839836, "node_id": "U_kgDOBl4_HA", "avatar_url": "https://avatars.githubusercontent.com/u/106839836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MRO60", "html_url": "https://github.com/MRO60", "followers_url": "https://api.github.com/users/MRO60/followers", "following_url": "https://api.github.com/users/MRO60/following{/other_user}", "gists_url": "https://api.github.com/users/MRO60/gists{/gist_id}", "starred_url": "https://api.github.com/users/MRO60/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MRO60/subscriptions", "organizations_url": "https://api.github.com/users/MRO60/orgs", "repos_url": "https://api.github.com/users/MRO60/repos", "events_url": "https://api.github.com/users/MRO60/events{/privacy}", "received_events_url": "https://api.github.com/users/MRO60/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 2242774621, "node_id": "MDU6TGFiZWwyMjQyNzc0NjIx", "url": "https://api.github.com/repos/aws/aws-cli/labels/route53domains", "name": "route53domains", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-11-08T14:51:56Z", "updated_at": "2022-11-10T21:32:39Z", "closed_at": "2022-11-10T21:32:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nProperly built requests, like: \r\n`aws route53domains update-domain-nameservers ...`\r\nand \r\n`aws route53domains retrieve-domain-auth-code --domain ...`\r\n\r\nReturn no errors except:  Could not connect to the endpoint URL: \"\"https://route53domains.us-west-2.amazonaws.com/\"\r\n\r\nhealth.aws.amazonaws.com reports no issue for route53\r\n\r\n\r\n\r\n\r\n\n\n### Expected Behavior\n\nAn execution of:\r\n`aws route53domains update-domain-nameservers --region us-west-2 --cli-input-json file://my-file.json --generate-cli-skeleton output`\r\n\r\nthat returns\r\n\r\n`{\r\n    \"OperationId\": \"OperationId\"\r\n}`\r\n\r\nshould execute when the --generate-cli-skeleton output is removed\r\n\n\n### Current Behavior\n\nInstead, the above command returns:\r\n\r\nOutout:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 358, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 527, in __call__\r\n    return self._operation_caller.invoke(\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 649, in invoke\r\n    response = self._make_client_call(\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 661, in _make_client_call\r\n    response = getattr(client, xform_name(operation_name))(\r\n  File \"/usr/lib/python3/dist-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/lib/python3/dist-packages/botocore/client.py\", line 662, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n  File \"/usr/lib/python3/dist-packages/botocore/client.py\", line 682, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/usr/lib/python3/dist-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/usr/lib/python3/dist-packages/botocore/endpoint.py\", line 136, in _send_request\r\n    while self._needs_retry(attempts, operation_model, request_dict,\r\n  File \"/usr/lib/python3/dist-packages/botocore/endpoint.py\", line 253, in _needs_retry\r\n    responses = self._event_emitter.emit(\r\n  File \"/usr/lib/python3/dist-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/usr/lib/python3/dist-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/lib/python3/dist-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/lib/python3/dist-packages/botocore/retryhandler.py\", line 183, in __call__\r\n    if self._checker(attempts, response, caught_exception):\r\n  File \"/usr/lib/python3/dist-packages/botocore/retryhandler.py\", line 250, in __call__\r\n    should_retry = self._should_retry(attempt_number, response,\r\n  File \"/usr/lib/python3/dist-packages/botocore/retryhandler.py\", line 277, in _should_retry\r\n    return self._checker(attempt_number, response, caught_exception)\r\n  File \"/usr/lib/python3/dist-packages/botocore/retryhandler.py\", line 316, in __call__\r\n    checker_response = checker(attempt_number, response,\r\n  File \"/usr/lib/python3/dist-packages/botocore/retryhandler.py\", line 222, in __call__\r\n    return self._check_caught_exception(\r\n  File \"/usr/lib/python3/dist-packages/botocore/retryhandler.py\", line 359, in _check_caught_exception\r\n    raise caught_exception\r\n  File \"/usr/lib/python3/dist-packages/botocore/endpoint.py\", line 200, in _do_get_response\r\n    http_response = self._send(request)\r\n  File \"/usr/lib/python3/dist-packages/botocore/endpoint.py\", line 269, in _send\r\n    return self.http_session.send(request)\r\n  File \"/usr/lib/python3/dist-packages/botocore/httpsession.py\", line 337, in send\r\n    raise EndpointConnectionError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"https://route53domains.us-west-2.amazonaws.com/\"\r\n2022-11-08 13:45:14,642 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\nCould not connect to the endpoint URL: \"https://route53domains.us-west-2.amazonaws.com/\"\n\n### Reproduction Steps\n\naws route53domains retrieve-domain-auth-code --domain  [your-domain-here]\r\n\r\nReturns the same error.\r\n\r\nIn my `aws route53domains update-domain-nameservers --region us-west-2 --cli-input-json file://my-file.json` request the domain registrar is AWS Route53 and it is already being hosted. The my-file.json are glue records.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n1.19.1\n\n### Environment details (OS name and version, etc.)\n\nDebian Stretch Python/3.9.2 Linux/5.10.0-18-amd64 botocore/1.20.0", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7410", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7410/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7410/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7410/events", "html_url": "https://github.com/aws/aws-cli/issues/7410", "id": 1438531471, "node_id": "I_kwDOAGd3X85Vvj-P", "number": 7410, "title": "Old version used in sts.AssumeRole request", "user": {"login": "magnushakansson", "id": 18698642, "node_id": "MDQ6VXNlcjE4Njk4NjQy", "avatar_url": "https://avatars.githubusercontent.com/u/18698642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magnushakansson", "html_url": "https://github.com/magnushakansson", "followers_url": "https://api.github.com/users/magnushakansson/followers", "following_url": "https://api.github.com/users/magnushakansson/following{/other_user}", "gists_url": "https://api.github.com/users/magnushakansson/gists{/gist_id}", "starred_url": "https://api.github.com/users/magnushakansson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magnushakansson/subscriptions", "organizations_url": "https://api.github.com/users/magnushakansson/orgs", "repos_url": "https://api.github.com/users/magnushakansson/repos", "events_url": "https://api.github.com/users/magnushakansson/events{/privacy}", "received_events_url": "https://api.github.com/users/magnushakansson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-07T15:14:43Z", "updated_at": "2022-11-07T15:49:30Z", "closed_at": "2022-11-07T15:49:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen I do \r\n` aws iam create-role --debug --role-name replicationRole --assume-role-policy-document file:///gradle/s3-role-trust-policy.json `\r\n\r\nI get the log below on the server side. (Yes, I use minio in development environment but I hope you can look into my question nevertheless).\r\nThe error reported back is that the version sent in is `2010-05-08`. Why is not the latest `2011-06-15` used?\r\n```\r\naws:9000 [REQUEST sts.AssumeRole] [2022-11-07T15:02:35.591] [Client IP: 172.18.2.3]\r\naws:9000 POST /\r\naws:9000 Proto: HTTP/1.1\r\naws:9000 Host: aws:9000\r\naws:9000 Accept-Encoding: identity\r\naws:9000 Authorization: AWS4-HMAC-SHA256 Credential=minioadmin/20221107/us-west-1/iam/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=3ddce7b58333479ae9cff541c113f2f057c75bb3929629617fe28884ac8651ec\r\naws:9000 Content-Length: 406\r\naws:9000 Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\naws:9000 User-Agent: aws-cli/2.8.9 Python/3.9.11 Linux/4.19.0-6-amd64 docker/x86_64.amzn.2 prompt/off command/iam.create-role\r\naws:9000 X-Amz-Date: 20221107T150235Z\r\naws:9000 Action=CreateRole&Version=2010-05-08&RoleName=replicationRole&AssumeRolePolicyDocument=%7B%0A++++%22Version%22%3A%222012-10-17%22%2C%0A++++%22Statement%22%3A%5B%0A+++++++%7B%0A++++++++++%22Effect%22%3A%22Allow%22%2C%0A++++++++++%22Principal%22%3A%7B%0A+++++++++++++%22Service%22%3A%22s3.amazonaws.com%22%0A++++++++++%7D%2C%0A++++++++++%22Action%22%3A%22sts%3AAssumeRole%22%0A+++++++%7D%0A++++%5D%0A+%7D%0A+\r\naws:9000 [RESPONSE] [2022-11-07T15:02:35.592] [ Duration 169\u00b5s  \u2191 491 B  \u2193 291 B ]\r\naws:9000 400 Bad Request\r\naws:9000 X-Amz-Request-Id: 17255599B09B190D\r\naws:9000 Accept-Ranges: bytes\r\naws:9000 Content-Security-Policy: block-all-mixed-content\r\naws:9000 Content-Type: application/xml\r\naws:9000 Server: MinIO\r\naws:9000 Strict-Transport-Security: max-age=31536000; includeSubDomains\r\naws:9000 Vary: Origin\r\naws:9000 Content-Length: 291\r\naws:9000 X-Content-Type-Options: nosniff\r\naws:9000 X-Xss-Protection: 1; mode=block\r\naws:9000 <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ErrorResponse xmlns=\"https://sts.amazonaws.com/doc/2011-06-15/\"><Error><Type></Type><Code>MissingParameter</Code><Message>Invalid STS API version 2010-05-08, expecting 2011-06-15</Message></Error><RequestId>17255599B09B19\r\n\r\n```\r\n\r\nThe json file looks like:\r\n```\r\n{\r\n    \"Version\":\"2012-10-17\",\r\n    \"Statement\":[\r\n       {\r\n          \"Effect\":\"Allow\",\r\n          \"Principal\":{\r\n             \"Service\":\"s3.amazonaws.com\"\r\n          },\r\n          \"Action\":\"sts:AssumeRole\"\r\n       }\r\n    ]\r\n }\r\n \r\n```\n\n### Expected Behavior\n\nI expect the call to be successful.\r\n\n\n### Current Behavior\n\nAs seen in the log above I get 400 back but that is of course depending on the server not supporting the version sent in.\r\n\n\n### Reproduction Steps\n\nDo any call to `aws create-role`.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.8.9\n\n### Environment details (OS name and version, etc.)\n\nLinux debian", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7410/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7400", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7400/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7400/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7400/events", "html_url": "https://github.com/aws/aws-cli/issues/7400", "id": 1433880879, "node_id": "I_kwDOAGd3X85Vd0kv", "number": 7400, "title": "[Tracking issue] `help` functionality broken in macOS Ventura (groff replaced by mandoc)", "user": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 4723087635, "node_id": "LA_kwDOAGd3X88AAAABGYSZEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/p1", "name": "p1", "color": "FF4500", "default": false, "description": "This is a high priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-11-02T22:42:06Z", "updated_at": "2022-11-24T14:47:17Z", "closed_at": "2022-11-10T17:48:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the bug\n\nIn macOS Ventura groff has been replaced by mandoc which is breaking `aws help` commands.\n\n### Expected Behavior\n\n`aws help` commands to work\n\n### Current Behavior\n\n`Could not find executable named \"groff\"`\n\n### Reproduction Steps\n\nUpgrade to macOS Ventura. Run command like `aws s3 help`\n\n### Possible Solution\n\nhttps://github.com/aws/aws-cli/issues/6918\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.8.2\n\n### Environment details (OS name and version, etc.)\n\nmacOS Ventura", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7400/reactions", "total_count": 19, "+1": 19, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7394", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7394/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7394/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7394/events", "html_url": "https://github.com/aws/aws-cli/issues/7394", "id": 1433363553, "node_id": "I_kwDOAGd3X85Vb2Rh", "number": 7394, "title": "eks update-kubeconfig still uses client.authentication.k8s.io/v1alpha1 with EKS 1.22", "user": {"login": "rittneje", "id": 28784688, "node_id": "MDQ6VXNlcjI4Nzg0Njg4", "avatar_url": "https://avatars.githubusercontent.com/u/28784688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rittneje", "html_url": "https://github.com/rittneje", "followers_url": "https://api.github.com/users/rittneje/followers", "following_url": "https://api.github.com/users/rittneje/following{/other_user}", "gists_url": "https://api.github.com/users/rittneje/gists{/gist_id}", "starred_url": "https://api.github.com/users/rittneje/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rittneje/subscriptions", "organizations_url": "https://api.github.com/users/rittneje/orgs", "repos_url": "https://api.github.com/users/rittneje/repos", "events_url": "https://api.github.com/users/rittneje/events{/privacy}", "received_events_url": "https://api.github.com/users/rittneje/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-02T15:35:07Z", "updated_at": "2022-11-02T15:52:22Z", "closed_at": "2022-11-02T15:51:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nApparently, v1.22 of Kubernetes added support for client.authentication.k8s.io/v1beta1. Meanwhile, v1.24 dropped support for v1alpha1.\r\n\r\nHowever, when I do `eks update-kubeconfig` it generates an entry that says `apiVersion: client.authentication.k8s.io/v1alpha1`.\r\n\r\nThis causes issues with tooling such as istioctl, which only supports v1beta1.\n\n### Expected Behavior\n\nIt should use v1beta1.\n\n### Current Behavior\n\nIt uses v1alpha1.\n\n### Reproduction Steps\n\nRun `eks update-kubeconfig` for a cluster using EKS 1.22 and look at `~/.kube/config`.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n1.27.0\n\n### Environment details (OS name and version, etc.)\n\nmacos 12.6", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7394/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7374", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7374/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7374/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7374/events", "html_url": "https://github.com/aws/aws-cli/issues/7374", "id": 1426020621, "node_id": "I_kwDOAGd3X85U_1kN", "number": 7374, "title": "aws eks get-token doesn't work with --profile", "user": {"login": "DaazKu", "id": 2412909, "node_id": "MDQ6VXNlcjI0MTI5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2412909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DaazKu", "html_url": "https://github.com/DaazKu", "followers_url": "https://api.github.com/users/DaazKu/followers", "following_url": "https://api.github.com/users/DaazKu/following{/other_user}", "gists_url": "https://api.github.com/users/DaazKu/gists{/gist_id}", "starred_url": "https://api.github.com/users/DaazKu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DaazKu/subscriptions", "organizations_url": "https://api.github.com/users/DaazKu/orgs", "repos_url": "https://api.github.com/users/DaazKu/repos", "events_url": "https://api.github.com/users/DaazKu/events{/privacy}", "received_events_url": "https://api.github.com/users/DaazKu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-27T17:30:20Z", "updated_at": "2022-10-27T17:37:23Z", "closed_at": "2022-10-27T17:35:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nAfter setting up `.kube/config` using `eks update-kubeconfig --profile` the profile is not honoured by `aws eks get-token`\r\n\r\n### Expected Behavior\r\n\r\nEverything should work without having to manually pass the profile.\r\n\r\n### Current Behavior\r\n\r\nWe get the following error:\r\n```\r\nUnable to locate credentials. You can configure credentials by running \"aws configure\".\r\n```\r\n\r\nLogs with not `AWS_PROFILE={PROFILE}`\r\n```\r\n2022-10-27 13:21:11,686 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.8.5 Python/3.10.8 Darwin/21.6.0 source/arm64\r\n2022-10-27 13:21:11,686 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['eks', 'get-token', '--debug', '--cluster-name', 'dev']\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x104c45e10>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x104807a30>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x1047adcf0>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x1047aec20>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x104c5c790>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x104add510>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x104c479a0>\r\n2022-10-27 13:21:11,694 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/data/cli.json\r\n2022-10-27 13:21:11,695 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x104ba0d30>\r\n2022-10-27 13:21:11,695 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x104ba1870>\r\n2022-10-27 13:21:11,695 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x104ba17e0>\r\n2022-10-27 13:21:11,695 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x104ba1990>\r\n2022-10-27 13:21:11,695 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x104ba1900>\r\n2022-10-27 13:21:11,695 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x104cfd900>\r\n2022-10-27 13:21:11,696 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.8.5 Python/3.10.8 Darwin/21.6.0 source/arm64 prompt/off\r\n2022-10-27 13:21:11,696 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['eks', 'get-token', '--debug', '--cluster-name', 'dev']\r\n2022-10-27 13:21:11,696 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x104c46440>\r\n2022-10-27 13:21:11,696 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x104511fc0>\r\n2022-10-27 13:21:11,696 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x104cb6710>\r\n2022-10-27 13:21:11,696 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x1044e7370>\r\n2022-10-27 13:21:11,696 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x10455aa70>\r\n2022-10-27 13:21:11,697 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-10-27 13:21:11,701 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x104add3f0>\r\n2022-10-27 13:21:11,701 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x104806950>\r\n2022-10-27 13:21:11,708 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/eks/2017-11-01/service-2.json\r\n2022-10-27 13:21:11,709 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/eks/2017-11-01/service-2.sdk-extras.json\r\n2022-10-27 13:21:11,711 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks: calling handler <function inject_commands at 0x104b61750>\r\n2022-10-27 13:21:11,711 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks: calling handler <function add_waiters at 0x104c479a0>\r\n2022-10-27 13:21:11,718 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/eks/2017-11-01/waiters-2.json\r\n2022-10-27 13:21:11,718 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks_get-token: calling handler <function add_waiters at 0x104c479a0>\r\n2022-10-27 13:21:11,719 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-token.cluster-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x104d23310>\r\n2022-10-27 13:21:11,719 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.get-token: calling handler <awscli.argprocess.ParamShorthandParser object at 0x1044f7c70>\r\n2022-10-27 13:21:11,719 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-token.role-arn: calling handler <awscli.paramfile.URIArgumentHandler object at 0x104d23310>\r\n2022-10-27 13:21:11,719 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-token.cluster-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x104d23310>\r\n2022-10-27 13:21:11,719 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2022-10-27 13:21:11,719 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2022-10-27 13:21:11,721 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: custom-process\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: config-file\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: ec2-credentials-file\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: boto-config\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: container-role\r\n2022-10-27 13:21:11,723 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: iam-role\r\n...\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/meta-data/iam/security-credentials/\"\r\n2022-10-27 13:21:11,759 - MainThread - botocore.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2022-10-27 13:21:11,759 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/endpoints.json\r\n2022-10-27 13:21:11,764 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10385c550>\r\n2022-10-27 13:21:11,765 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/sts/2011-06-15/service-2.json\r\n2022-10-27 13:21:11,765 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.sts: calling handler <function add_generate_presigned_url at 0x1037b3f40>\r\n2022-10-27 13:21:11,769 - MainThread - botocore.endpoint - DEBUG - Setting sts timeout as (60, 60)\r\n2022-10-27 13:21:11,770 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.sts.GetCallerIdentity: calling handler <bound method STSClientFactory._retrieve_k8s_aws_id of <awscli.customizations.eks.get_token.STSClientFactory object at 0x104e2a680>>\r\n2022-10-27 13:21:11,770 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.sts.GetCallerIdentity: calling handler <function base64_decode_input_blobs at 0x104cb6e60>\r\n2022-10-27 13:21:11,770 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.sts.GetCallerIdentity: calling handler <function generate_idempotent_uuid at 0x10385e5f0>\r\n2022-10-27 13:21:11,771 - MainThread - botocore.hooks - DEBUG - Event choose-signer.sts.GetCallerIdentity: calling handler <function set_operation_specific_signer at 0x10385e4d0>\r\n2022-10-27 13:21:11,771 - MainThread - botocore.hooks - DEBUG - Event before-sign.sts.GetCallerIdentity: calling handler <bound method STSClientFactory._inject_k8s_aws_id_header of <awscli.customizations.eks.get_token.STSClientFactory object at 0x104e2a680>>\r\n2022-10-27 13:21:11,771 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/clidriver.py\", line 458, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/clidriver.py\", line 593, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/customizations/commands.py\", line 191, in __call__\r\n    rc = self._run_main(parsed_args, parsed_globals)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/customizations/eks/get_token.py\", line 128, in _run_main\r\n    token = TokenGenerator(sts_client).get_token(identifier)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/customizations/eks/get_token.py\", line 217, in get_token\r\n    url = self._get_presigned_url(k8s_aws_id)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/customizations/eks/get_token.py\", line 224, in _get_presigned_url\r\n    return self._sts_client.generate_presigned_url(\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/signers.py\", line 610, in generate_presigned_url\r\n    return request_signer.generate_presigned_url(\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/signers.py\", line 284, in generate_presigned_url\r\n    self.sign(operation_name, request, region_name,\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/signers.py\", line 166, in sign\r\n    auth.add_auth(request)\r\n  File \"/opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/auth.py\", line 398, in add_auth\r\n    raise NoCredentialsError()\r\nbotocore.exceptions.NoCredentialsError: Unable to locate credentials\r\n```\r\n\r\nLogs with `AWS_PROFILE={PROFILE}`\r\n```\r\n2022-10-27 13:22:47,116 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.8.5 Python/3.10.8 Darwin/21.6.0 source/arm64\r\n2022-10-27 13:22:47,116 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['eks', 'get-token', '--debug', '--cluster-name', 'dev']\r\n2022-10-27 13:22:47,125 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x106fb5e10>\r\n2022-10-27 13:22:47,125 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x106b77a30>\r\n2022-10-27 13:22:47,125 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-10-27 13:22:47,126 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x106b1dcf0>\r\n2022-10-27 13:22:47,126 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x106b1ec20>\r\n2022-10-27 13:22:47,126 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x106fcc790>\r\n2022-10-27 13:22:47,126 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x106e4d510>\r\n2022-10-27 13:22:47,126 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-10-27 13:22:47,126 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x106fb79a0>\r\n2022-10-27 13:22:47,126 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/data/cli.json\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x106f10d30>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x106f11870>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x106f117e0>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x106f11990>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x106f11900>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x10706d580>\r\n2022-10-27 13:22:47,127 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.8.5 Python/3.10.8 Darwin/21.6.0 source/arm64 prompt/off\r\n2022-10-27 13:22:47,127 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['eks', 'get-token', '--debug', '--cluster-name', 'dev']\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x106fb6440>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x106881fc0>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x107026710>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x106857370>\r\n2022-10-27 13:22:47,127 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x1068caa70>\r\n2022-10-27 13:22:47,128 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-10-27 13:22:47,132 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x106e4d3f0>\r\n2022-10-27 13:22:47,132 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x106b76950>\r\n2022-10-27 13:22:47,139 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/eks/2017-11-01/service-2.json\r\n2022-10-27 13:22:47,140 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/eks/2017-11-01/service-2.sdk-extras.json\r\n2022-10-27 13:22:47,142 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks: calling handler <function inject_commands at 0x106ed1750>\r\n2022-10-27 13:22:47,142 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks: calling handler <function add_waiters at 0x106fb79a0>\r\n2022-10-27 13:22:47,149 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/eks/2017-11-01/waiters-2.json\r\n2022-10-27 13:22:47,150 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks_get-token: calling handler <function add_waiters at 0x106fb79a0>\r\n2022-10-27 13:22:47,150 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-token.cluster-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1070932e0>\r\n2022-10-27 13:22:47,150 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.get-token: calling handler <awscli.argprocess.ParamShorthandParser object at 0x1068a41f0>\r\n2022-10-27 13:22:47,150 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-token.role-arn: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1070932e0>\r\n2022-10-27 13:22:47,150 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-token.cluster-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1070932e0>\r\n2022-10-27 13:22:47,151 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2022-10-27 13:22:47,151 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2022-10-27 13:22:47,151 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2022-10-27 13:22:47,151 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2022-10-27 13:22:47,151 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/endpoints.json\r\n2022-10-27 13:22:47,155 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x105bcc550>\r\n2022-10-27 13:22:47,156 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.8.5/libexec/lib/python3.10/site-packages/awscli/botocore/data/sts/2011-06-15/service-2.json\r\n2022-10-27 13:22:47,156 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.sts: calling handler <function add_generate_presigned_url at 0x105b23f40>\r\n2022-10-27 13:22:47,175 - MainThread - botocore.endpoint - DEBUG - Setting sts timeout as (60, 60)\r\n2022-10-27 13:22:47,176 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.sts.GetCallerIdentity: calling handler <bound method STSClientFactory._retrieve_k8s_aws_id of <awscli.customizations.eks.get_token.STSClientFactory object at 0x1071926e0>>\r\n2022-10-27 13:22:47,176 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.sts.GetCallerIdentity: calling handler <function base64_decode_input_blobs at 0x107026e60>\r\n2022-10-27 13:22:47,176 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.sts.GetCallerIdentity: calling handler <function generate_idempotent_uuid at 0x105bce5f0>\r\n2022-10-27 13:22:47,176 - MainThread - botocore.hooks - DEBUG - Event choose-signer.sts.GetCallerIdentity: calling handler <function set_operation_specific_signer at 0x105bce4d0>\r\n2022-10-27 13:22:47,176 - MainThread - botocore.hooks - DEBUG - Event before-sign.sts.GetCallerIdentity: calling handler <bound method STSClientFactory._inject_k8s_aws_id_header of <awscli.customizations.eks.get_token.STSClientFactory object at 0x1071926e0>>\r\n2022-10-27 13:22:47,176 - MainThread - botocore.credentials - DEBUG - Credentials for role retrieved from cache.\r\n2022-10-27 13:22:47,176 - MainThread - botocore.credentials - DEBUG - Retrieved credentials will expire at: 2022-10-27 20:59:14+00:00\r\n2022-10-27 13:22:47,177 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2022-10-27 13:22:47,177 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/\r\nAction=GetCallerIdentity&Version=2011-06-15&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-.....\r\n...\r\n{\"kind\": \"ExecCredential\", \"apiVersion\": \"client.authentication.k8s.io/v1beta1\", \"spec\": {}, \"status\": {\"expirationTimestamp\": \"2022-10-27T17:36:47Z\", \"token\": \"k8s-aws-v1.aHR0cHM6Ly9zdHMuY2EtY...\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n```\r\n# Setting it up\r\n$ aws eks update-kubeconfig --name dev --profile dev_admin_user\r\nAdded new context arn:aws:eks:ca-central-1:{ACCOUNT_ID}:cluster/dev to /Users/alexandre/.kube/config\r\n\r\n# Trying to use it\r\n$ aws eks get-token --cluster-name dev                         \r\nUnable to locate credentials. You can configure credentials by running \"aws configure\".\r\n\r\n# Manually passing the profile\r\n$ AWS_PROFILE=\"dev_admin_user\" aws eks get-token --cluster-name dev                                                                 \r\n{\"kind\": \"ExecCredential\", \"apiVersion\": \"client.authentication.k8s.io/v1beta1\", \"spec\": {}, \"status\": {\"expirationTimestamp\": \"2022-10-27T17:27:23Z\", \"token\": \"k8s-aws-v1.aHR0cHM6Ly9...\"}}\r\n ```\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\nBasically same problem as https://github.com/aws/aws-cli/issues/4163 but it's on the newer version of `aws-cli`\r\n\r\nContent of `~/.kube/config`\r\n```\r\napiVersion: v1\r\nclusters:\r\n- cluster:\r\n    certificate-authority-data: LS0tLS1CR...\r\n  name: arn:aws:eks:ca-central-1:721246126555:cluster/dev\r\ncontexts:\r\n- context:\r\n    cluster: arn:aws:eks:ca-central-1:{ACCOUNT_ID}:cluster/dev\r\n    user: arn:aws:eks:ca-central-1:{ACCOUNT_ID}:cluster/dev\r\n  name: arn:aws:eks:ca-central-1:{ACCOUNT_ID}:cluster/dev\r\ncurrent-context: arn:aws:eks:ca-central-1:{ACCOUNT_ID}:cluster/dev\r\nkind: Config\r\npreferences: {}\r\nusers:\r\n- name: arn:aws:eks:ca-central-1:{ACCOUNT_ID}:cluster/dev\r\n  user:\r\n    exec:\r\n      apiVersion: client.authentication.k8s.io/v1beta1\r\n      args:\r\n      - --region\r\n      - ca-central-1\r\n      - eks\r\n      - get-token\r\n      - --cluster-name\r\n      - dev\r\n      command: aws\r\n      env:\r\n      - name: AWS_PROFILE\r\n        value: dev_admin_user\r\n```\r\n\r\n### CLI version used\r\n\r\naws-cli/2.8.5 Python/3.10.8 Darwin/21.6.0 source/arm64 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nMacOS 12.5 & Apple M1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7369", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7369/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7369/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7369/events", "html_url": "https://github.com/aws/aws-cli/issues/7369", "id": 1424654922, "node_id": "I_kwDOAGd3X85U6oJK", "number": 7369, "title": "Default permissions on credentials file are insecure", "user": {"login": "rchildress87", "id": 13559499, "node_id": "MDQ6VXNlcjEzNTU5NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/13559499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchildress87", "html_url": "https://github.com/rchildress87", "followers_url": "https://api.github.com/users/rchildress87/followers", "following_url": "https://api.github.com/users/rchildress87/following{/other_user}", "gists_url": "https://api.github.com/users/rchildress87/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchildress87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchildress87/subscriptions", "organizations_url": "https://api.github.com/users/rchildress87/orgs", "repos_url": "https://api.github.com/users/rchildress87/repos", "events_url": "https://api.github.com/users/rchildress87/events{/privacy}", "received_events_url": "https://api.github.com/users/rchildress87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2935477743, "node_id": "MDU6TGFiZWwyOTM1NDc3NzQz", "url": "https://api.github.com/repos/aws/aws-cli/labels/configure", "name": "configure", "color": "ff5500", "default": false, "description": ""}, {"id": 4723087672, "node_id": "LA_kwDOAGd3X88AAAABGYSZOA", "url": "https://api.github.com/repos/aws/aws-cli/labels/p2", "name": "p2", "color": "FF8C00", "default": false, "description": "This is a standard priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-10-26T20:28:56Z", "updated_at": "2023-01-19T17:33:00Z", "closed_at": "2023-01-19T17:30:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\n~/.aws/credentials file on MacOS is created with u=rw,g=r,o=r (644) permissions making it readable to everyone in the primary group of the user. On MacOS, this is typically `staff`. In a multi-user scenario, this could allow for an unauthorized user to access secrets.\n\n### Expected Behavior\n\n```\r\n$ ls -lah ~/.aws/                    \r\ntotal 16\r\ndrwxr-xr-x   6 rchildress87  staff   192B Oct 26 15:47 .\r\ndrwxr-xr-x+ 52 rchildress87  staff   1.6K Oct 26 16:19 ..\r\ndrwxr-xr-x   3 rchildress87  staff    96B Oct  9  2021 cli\r\n-rw-r--r--@  1 rchildress87  staff   3.6K Oct 26 15:59 config\r\n-rw-------@  1 rchildress87  staff   744B Oct 26 15:47 credentials\r\ndrwxr-xr-x   3 rchildress87  staff    96B Oct  6  2021 sso\r\n```\n\n### Current Behavior\n\n```\r\n$ ls -lah ~/.aws/                    \r\ntotal 16\r\ndrwxr-xr-x   6 rchildress87  staff   192B Oct 26 15:47 .\r\ndrwxr-xr-x+ 52 rchildress87  staff   1.6K Oct 26 16:19 ..\r\ndrwxr-xr-x   3 rchildress87  staff    96B Oct  9  2021 cli\r\n-rw-r--r--@  1 rchildress87  staff   3.6K Oct 26 15:59 config\r\n-rw-r--r--@  1 rchildress87  staff   744B Oct 26 15:47 credentials\r\ndrwxr-xr-x   3 rchildress87  staff    96B Oct  6  2021 sso\r\n```\n\n### Reproduction Steps\n\nAdd your first access key ID and secret access key pair via `aws configure`\n\n### Possible Solution\n\nBecause this file contains secrets in plain text, I would think it should default to u=rw,g=,o= (600) which would prevent group and other users from reading the file.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.8.5 Python/3.10.8 Darwin/21.6.0 source/arm64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nMacOS 12.6.1 on MacBook Pro", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7367", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7367/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7367/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7367/events", "html_url": "https://github.com/aws/aws-cli/issues/7367", "id": 1424282085, "node_id": "I_kwDOAGd3X85U5NHl", "number": 7367, "title": "The docker image is not respecting the voume mounts", "user": {"login": "janusqa", "id": 843610, "node_id": "MDQ6VXNlcjg0MzYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/843610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusqa", "html_url": "https://github.com/janusqa", "followers_url": "https://api.github.com/users/janusqa/followers", "following_url": "https://api.github.com/users/janusqa/following{/other_user}", "gists_url": "https://api.github.com/users/janusqa/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusqa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusqa/subscriptions", "organizations_url": "https://api.github.com/users/janusqa/orgs", "repos_url": "https://api.github.com/users/janusqa/repos", "events_url": "https://api.github.com/users/janusqa/events{/privacy}", "received_events_url": "https://api.github.com/users/janusqa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2220923061, "node_id": "MDU6TGFiZWwyMjIwOTIzMDYx", "url": "https://api.github.com/repos/aws/aws-cli/labels/docker", "name": "docker", "color": "c7ddfc", "default": false, "description": "Issue involves the AWS CLI Docker container image"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-10-26T15:45:52Z", "updated_at": "2022-10-31T17:35:59Z", "closed_at": "2022-10-31T17:35:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI have this command\r\n\r\n```docker container run -it --rm -v $HOME/.config/aws:/root/.aws -v $HOME/Desktop/cloud-console/aws/home:/aws amazon/aws-cli $@```\r\n\r\nThe credentials are created in $HOME/.aws\r\n\r\n\n\n### Expected Behavior\n\nexpected the credentials to be in the mounted volume which is\r\n```\r\n$HOME/.config/aws\r\n```\n\n### Current Behavior\n\ncredentials were instead created in \r\n$HOME/.aws\n\n### Reproduction Steps\n\nRun\r\n```docker container run -it --rm -v $HOME/.config/aws:/root/.aws -v $HOME/Desktop/cloud-console/aws/home:/aws amazon/aws-cli configure```\r\n\r\nlook into home folder to see that creds were created in $HOME/.aws and not $HOME/.config/aws\r\n\r\n\n\n### Possible Solution\n\nuse the specified bind mount\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.35 Python/3.9.11 Linux/5.4.0-128-generic exe/x86_64.ubuntu.20 prompt/off\n\n### Environment details (OS name and version, etc.)\n\naws-cli/2.7.35 Python/3.9.11 Linux/5.4.0-128-generic exe/x86_64.ubuntu.20 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7367/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7351", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7351/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7351/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7351/events", "html_url": "https://github.com/aws/aws-cli/issues/7351", "id": 1416928260, "node_id": "I_kwDOAGd3X85UdJwE", "number": 7351, "title": "`aws ec2 describe-image-attribute ... --attribute TpmSupport` results in Invalid Request", "user": {"login": "leongross", "id": 64152526, "node_id": "MDQ6VXNlcjY0MTUyNTI2", "avatar_url": "https://avatars.githubusercontent.com/u/64152526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leongross", "html_url": "https://github.com/leongross", "followers_url": "https://api.github.com/users/leongross/followers", "following_url": "https://api.github.com/users/leongross/following{/other_user}", "gists_url": "https://api.github.com/users/leongross/gists{/gist_id}", "starred_url": "https://api.github.com/users/leongross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leongross/subscriptions", "organizations_url": "https://api.github.com/users/leongross/orgs", "repos_url": "https://api.github.com/users/leongross/repos", "events_url": "https://api.github.com/users/leongross/events{/privacy}", "received_events_url": "https://api.github.com/users/leongross/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311028377, "node_id": "MDU6TGFiZWwzMTEwMjgzNzc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ec2", "name": "ec2", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-10-20T16:30:24Z", "updated_at": "2022-11-08T09:11:52Z", "closed_at": "2022-11-08T09:11:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nQuerying for certain attributes of a virtual machine results in an error: `An error occurred (InvalidRequest) when calling the DescribeImageAttribute operation: The request received was invalid.`\r\n\r\nQuerying for the all attributes of the same image succeeds. The attribute can be found in the query output. \r\n\r\nI observed this behavior for the publicly available, official Windows Image with AMI-ID `ami-09e7c7f5617a47830`. I searched for the `TpmSupport` attribute.\n\n### Expected Behavior\n\nReceiving the output:\r\n```\r\n{\r\n    \"TpmSupport\": \"v2.0\"\r\n}\r\n```\n\n### Current Behavior\n\n`An error occurred (InvalidRequest) when calling the DescribeImageAttribute operation: The request received was invalid.`\n\n### Reproduction Steps\n\n## Getting all attributes\r\n```\r\naws ec2 describe-images --region us-east-2 --image-id ami-09e7c7f5617a47830 \r\n```\r\n\r\nSearching for `TpmSupport` yields: `\"TpmSupport\": \"v2.0\",`\r\n\r\n## Getting the `TmpSupport` attribute\r\n```\r\naws ec2 describe-image-attribute --region us-east-2 --image-id ami-09e7c7f5617a47830 --attribute TpmSupport\r\nAn error occurred (InvalidRequest) when calling the DescribeImageAttribute operation: The request received was invalid.\r\n``` \n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.34 Python/3.9.11 Linux/6.0.2-arch1-1 exe/x86_64.arch prompt/off\n\n### Environment details (OS name and version, etc.)\n\nOS: `Arch Linux`, kernel version `6.0.2-arch-1`", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7351/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7346", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7346/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7346/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7346/events", "html_url": "https://github.com/aws/aws-cli/issues/7346", "id": 1411086753, "node_id": "I_kwDOAGd3X85UG3mh", "number": 7346, "title": "On S3 copy extra files that don't exist in the source bucket get created in the destination (with _$folder$ in their name).", "user": {"login": "martineslon", "id": 97158645, "node_id": "U_kgDOBcqF9Q", "avatar_url": "https://avatars.githubusercontent.com/u/97158645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martineslon", "html_url": "https://github.com/martineslon", "followers_url": "https://api.github.com/users/martineslon/followers", "following_url": "https://api.github.com/users/martineslon/following{/other_user}", "gists_url": "https://api.github.com/users/martineslon/gists{/gist_id}", "starred_url": "https://api.github.com/users/martineslon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martineslon/subscriptions", "organizations_url": "https://api.github.com/users/martineslon/orgs", "repos_url": "https://api.github.com/users/martineslon/repos", "events_url": "https://api.github.com/users/martineslon/events{/privacy}", "received_events_url": "https://api.github.com/users/martineslon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-10-17T07:53:57Z", "updated_at": "2022-10-17T09:00:14Z", "closed_at": "2022-10-17T08:59:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen copying bucket from one AWS account to another empty files are created for folders (they don't exist in the source):\r\n![Screenshot 2022-10-17 at 10 47 30](https://user-images.githubusercontent.com/97158645/196119001-4553aae8-2af7-409c-a3d8-b69b42875b07.png)\r\nNotice the file with _$folder$ in its name.\r\n\n\n### Expected Behavior\n\nCopy of source and destination buckets match.\n\n### Current Behavior\n\nAdditional files that don't exist in the source get created in the destination.\n\n### Reproduction Steps\n\naws s3 cp --profile source s3://stuff/ --profile destination s3://copy/stuff/ --recursive\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.8.2 Python/3.10.8 Darwin/21.5.0 source/arm64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nProductName:\tmacOS ProductVersion:\t12.4 BuildVersion:\t21F79", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7340", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7340/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7340/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7340/events", "html_url": "https://github.com/aws/aws-cli/issues/7340", "id": 1408293970, "node_id": "I_kwDOAGd3X85T8NxS", "number": 7340, "title": "aws sso get-role-credentials fails one hour after authentication", "user": {"login": "pbrisbin", "id": 50812, "node_id": "MDQ6VXNlcjUwODEy", "avatar_url": "https://avatars.githubusercontent.com/u/50812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbrisbin", "html_url": "https://github.com/pbrisbin", "followers_url": "https://api.github.com/users/pbrisbin/followers", "following_url": "https://api.github.com/users/pbrisbin/following{/other_user}", "gists_url": "https://api.github.com/users/pbrisbin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbrisbin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbrisbin/subscriptions", "organizations_url": "https://api.github.com/users/pbrisbin/orgs", "repos_url": "https://api.github.com/users/pbrisbin/repos", "events_url": "https://api.github.com/users/pbrisbin/events{/privacy}", "received_events_url": "https://api.github.com/users/pbrisbin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2221263953, "node_id": "MDU6TGFiZWwyMjIxMjYzOTUz", "url": "https://api.github.com/repos/aws/aws-cli/labels/sso", "name": "sso", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 27, "created_at": "2022-10-13T19:07:07Z", "updated_at": "2022-10-24T14:34:38Z", "closed_at": "2022-10-24T14:34:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nI'm looking to re-open https://github.com/aws/aws-cli/issues/4987 because I'm experiencing this exact issue.\r\n\r\nOver the past two weeks it's been intermittent. Today it is now consistently reproducible.\r\n\r\n\r\n\r\n\r\n### Expected Behavior\r\n\r\nIt should work.\r\n\r\n### Current Behavior\r\n\r\n```\r\nAn error occurred (UnauthorizedException) when calling the GetRoleCredentials operation: Session token not found or invalid\r\n```\r\n\r\n### Reproduction Steps\r\n\r\nPerform `aws sso login`. Wait an hour or so, but still be within the `expiresAt`.\r\n\r\nVerify this:\r\n\r\n```console\r\n% jq -r '.expiresAt' ~/.aws/sso/cache/<redacted>.json\r\n2022-10-13T23:15:46Z\r\n% date --utc\r\nThu Oct 13 06:59:15 PM UTC 2022\r\n```\r\n\r\nUse this token to try and `get-role-credentials`:\r\n\r\n```console\r\naws sso get-role-credentials --role-name <redacted> --account-id <redacted> --access-token \"$(jq -r '.accessToken' ~/.aws/sso/cache/<redacted>.json)\"\r\n```\r\n\r\nObserve the error.\r\n\r\n### Possible Solution\r\n\r\nIn the original issue it is stated\r\n\r\n> I would suggest following up with the SSO Service Team\r\n\r\nWhich makes total sense. So my new question is... How do I do that?\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.8.2 Python/3.9.11 Linux/5.19.9-arch1-1 exe/x86_64.arch prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nArch Linux; Linux prince 5.19.9-arch1-1 _1 SMP PREEMPT_DYNAMIC Thu, 15 Sep 2022 16:08:26 +0000 x86_64 GNU/Linux", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7340/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7340/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7338", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7338/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7338/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7338/events", "html_url": "https://github.com/aws/aws-cli/issues/7338", "id": 1404888876, "node_id": "I_kwDOAGd3X85TvOcs", "number": 7338, "title": "Unknown interpreted text role \"abc\" while calling aws help config-vars", "user": {"login": "tlmikulski", "id": 5445037, "node_id": "MDQ6VXNlcjU0NDUwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5445037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlmikulski", "html_url": "https://github.com/tlmikulski", "followers_url": "https://api.github.com/users/tlmikulski/followers", "following_url": "https://api.github.com/users/tlmikulski/following{/other_user}", "gists_url": "https://api.github.com/users/tlmikulski/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlmikulski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlmikulski/subscriptions", "organizations_url": "https://api.github.com/users/tlmikulski/orgs", "repos_url": "https://api.github.com/users/tlmikulski/repos", "events_url": "https://api.github.com/users/tlmikulski/events{/privacy}", "received_events_url": "https://api.github.com/users/tlmikulski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 3233590083, "node_id": "MDU6TGFiZWwzMjMzNTkwMDgz", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-review", "name": "needs-review", "color": "f996e2", "default": false, "description": "This issue or pull request needs review from a core team member."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-10-11T16:02:37Z", "updated_at": "2022-10-14T16:42:18Z", "closed_at": "2022-10-14T16:41:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nError is shown instead of information how to configure variables.\r\n\r\n### Expected Behavior\r\n\r\nDisplay help how to configure variables.\r\n\r\n### Current Behavior\r\n\r\n```\r\n<string>:450: (ERROR/3) Unknown interpreted text role \"doc\".\r\n<string>:567: (SEVERE/4) Title level inconsistent:\r\n\r\n==============\r\nGlobal Options\r\n==============\r\n\r\n<string>:567: (SEVERE/4) Title level inconsistent:\r\n\r\n==============\r\nGlobal Options\r\n==============\r\n```\r\n\r\n### Reproduction Steps\r\n\r\naws help config-vars\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.8.2 Python/3.9.11 Windows/10 exe/AMD64 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nWindows 11 Home 22H2 (compilation 22621.608)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7338/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7325", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7325/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7325/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7325/events", "html_url": "https://github.com/aws/aws-cli/issues/7325", "id": 1398214816, "node_id": "I_kwDOAGd3X85TVxCg", "number": 7325, "title": "TypeError: deprecated() got an unexpected keyword argument 'name'", "user": {"login": "richstokes", "id": 13403491, "node_id": "MDQ6VXNlcjEzNDAzNDkx", "avatar_url": "https://avatars.githubusercontent.com/u/13403491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richstokes", "html_url": "https://github.com/richstokes", "followers_url": "https://api.github.com/users/richstokes/followers", "following_url": "https://api.github.com/users/richstokes/following{/other_user}", "gists_url": "https://api.github.com/users/richstokes/gists{/gist_id}", "starred_url": "https://api.github.com/users/richstokes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richstokes/subscriptions", "organizations_url": "https://api.github.com/users/richstokes/orgs", "repos_url": "https://api.github.com/users/richstokes/repos", "events_url": "https://api.github.com/users/richstokes/events{/privacy}", "received_events_url": "https://api.github.com/users/richstokes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1180550232, "node_id": "MDU6TGFiZWwxMTgwNTUwMjMy", "url": "https://api.github.com/repos/aws/aws-cli/labels/third-party", "name": "third-party", "color": "40C8B6", "default": false, "description": "This issue is related to third-party libraries or applications."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2022-10-05T18:44:31Z", "updated_at": "2023-01-23T14:47:40Z", "closed_at": "2022-11-14T21:54:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nInstalled via `brew install awscli`, getting:\r\n\r\n```\r\naws\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/bin/aws\", line 19, in <module>\r\n    import awscli.clidriver\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/clidriver.py\", line 20, in <module>\r\n    import botocore.session\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/session.py\", line 27, in <module>\r\n    import botocore.client\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/client.py\", line 16, in <module>\r\n    from botocore import UNSIGNED, waiter, xform_name\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/waiter.py\", line 17, in <module>\r\n    from botocore.docs.docstring import WaiterDocstring\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/docs/__init__.py\", line 15, in <module>\r\n    from botocore.docs.service import ServiceDocumenter\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/docs/service.py\", line 14, in <module>\r\n    from botocore.docs.client import ClientDocumenter, ClientExceptionsDocumenter\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/docs/client.py\", line 16, in <module>\r\n    from botocore.docs.example import ResponseExampleDocumenter\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/docs/example.py\", line 13, in <module>\r\n    from botocore.docs.shape import ShapeDocumenter\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/docs/shape.py\", line 19, in <module>\r\n    from botocore.utils import is_json_value_header\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/utils.py\", line 32, in <module>\r\n    import botocore.httpsession\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/awscli/botocore/httpsession.py\", line 41, in <module>\r\n    from urllib3.contrib.pyopenssl import orig_util_SSLContext as SSLContext\r\n  File \"/opt/homebrew/Cellar/awscli/2.7.31/libexec/lib/python3.10/site-packages/urllib3/contrib/pyopenssl.py\", line 50, in <module>\r\n    import OpenSSL.SSL\r\n  File \"/Users/rich/Library/Python/3.10/lib/python/site-packages/OpenSSL/__init__.py\", line 8, in <module>\r\n    from OpenSSL import SSL, crypto\r\n  File \"/Users/rich/Library/Python/3.10/lib/python/site-packages/OpenSSL/SSL.py\", line 19, in <module>\r\n    from OpenSSL.crypto import (\r\n  File \"/Users/rich/Library/Python/3.10/lib/python/site-packages/OpenSSL/crypto.py\", line 3224, in <module>\r\n    utils.deprecated(\r\nTypeError: deprecated() got an unexpected keyword argument 'name'\r\n```\n\n### Expected Behavior\n\nNot error\n\n### Current Behavior\n\nsee above\n\n### Reproduction Steps\n\nsee above\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n```\r\nPython 3.10.7\r\n\r\nbrew info awscli                                                            \r\n\r\n==> awscli: stable 2.7.31 (bottled), HEAD\r\nOfficial Amazon AWS command-line interface\r\nhttps://aws.amazon.com/cli/\r\n/opt/homebrew/Cellar/awscli/2.7.31 (12,785 files, 104.3MB) *\r\n  Poured from bottle on 2022-10-05 at 11:17:09\r\nFrom: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/awscli.rb\r\nLicense: Apache-2.0\r\n==> Dependencies\r\nBuild: cmake \u2714, rust \u2718\r\nRequired: python@3.10 \u2714, six \u2714\r\n==> Options\r\n--HEAD\r\n\tInstall HEAD version\r\n==> Caveats\r\nThe \"examples\" directory has been installed to:\r\n  /opt/homebrew/share/awscli/examples\r\n\r\nzsh completions and functions have been installed to:\r\n  /opt/homebrew/share/zsh/site-functions\r\n==> Analytics\r\ninstall: 174,547 (30 days), 681,760 (90 days), 2,614,888 (365 days)\r\ninstall-on-request: 172,229 (30 days), 671,892 (90 days), 2,586,882 (365 days)\r\nbuild-error: 51 (30 days)\r\n```\r\n\n\n### CLI version used\n\n2.7.31\n\n### Environment details (OS name and version, etc.)\n\nMacOS 12.6, Apple Silicon ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7325/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7322", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7322/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7322/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7322/events", "html_url": "https://github.com/aws/aws-cli/issues/7322", "id": 1396059535, "node_id": "I_kwDOAGd3X85TNi2P", "number": 7322, "title": "Emojis causing 0 response", "user": {"login": "DrewSunn", "id": 22404521, "node_id": "MDQ6VXNlcjIyNDA0NTIx", "avatar_url": "https://avatars.githubusercontent.com/u/22404521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrewSunn", "html_url": "https://github.com/DrewSunn", "followers_url": "https://api.github.com/users/DrewSunn/followers", "following_url": "https://api.github.com/users/DrewSunn/following{/other_user}", "gists_url": "https://api.github.com/users/DrewSunn/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrewSunn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrewSunn/subscriptions", "organizations_url": "https://api.github.com/users/DrewSunn/orgs", "repos_url": "https://api.github.com/users/DrewSunn/repos", "events_url": "https://api.github.com/users/DrewSunn/events{/privacy}", "received_events_url": "https://api.github.com/users/DrewSunn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289134679, "node_id": "MDU6TGFiZWwyODkxMzQ2Nzk=", "url": "https://api.github.com/repos/aws/aws-cli/labels/locale", "name": "locale", "color": "ff5500", "default": false, "description": ""}, {"id": 289140250, "node_id": "MDU6TGFiZWwyODkxNDAyNTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/unicode", "name": "unicode", "color": "eb6420", "default": false, "description": null}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-10-04T10:58:32Z", "updated_at": "2022-10-05T01:18:10Z", "closed_at": "2022-10-05T01:17:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nRunning\r\n\"aws polly synthesize-speech --text-type ssml --text file://H:/Videos/StreamV3/TTS/speech.txt --output-format mp3 --voice-id Justin H:\\Videos\\StreamV3\\TTS\\speech.mp3\"\r\nCauses the command to not make a new file and comes back with\r\n\"Error parsing parameter '--text': Unable to load paramfile (H:/Videos/StreamV3/TTS/speech.txt), text contents could not be decoded.  If this is a binary file, please use the fileb:// prefix instead of the file:// prefix.\"\r\nIf the text file it's reading features emojis like \"\ud83d\ude00 \ud83d\ude03 \ud83d\ude04 \ud83d\ude01 \ud83d\ude06 \ud83d\ude05 \ud83d\ude02 \ud83e\udd23\"\r\nDoesn't seem consistent with all emojis, but most. The ones that don't cause the error written above, aren't read correctly.\n\n### Expected Behavior\n\nRecord a response describing the emoji, like \"Smiley face, embarrassed smiley face\" etc. Works correctly on the Amazon Polly text-to-speech tested on the AWS web browser.\n\n### Current Behavior\n\nDoes not create new speech file. Returns with an error or \"Error parsing parameter '--text': Unable to load paramfile (H:/Videos/StreamV3/TTS/speech.txt), text contents could not be decoded.  If this is a binary file, please use the fileb:// prefix instead of the file:// prefix.\" Only happens with the majority of emojis.\n\n### Reproduction Steps\n\nThis is the exact .vbs file I am launching to cause this result\r\n\r\n\"Set oShell = CreateObject(\"WScript.Shell\")\r\noShell.Run \"cmd.exe /C del H:\\Videos\\StreamV3\\TTS\\speech.mp3\", 0, false\r\n\r\n' Run the command dir in a hidden window without waiting for it to finish\r\noShell.Run \"cmd.exe /c aws polly synthesize-speech --text-type ssml --text file://H:/Videos/StreamV3/TTS/speech.txt --output-format mp3 --voice-id Justin H:\\Videos\\StreamV3\\TTS\\speech.mp3\", 0, false\"\r\n\r\nHowever can be tested more efficiently by just using\r\n\"aws polly synthesize-speech --text-type ssml --text file://H:/Videos/StreamV3/TTS/speech.txt --output-format mp3 --voice-id Justin H:\\Videos\\StreamV3\\TTS\\speech.mp3\"\r\nin an already opened command prompt/windows terminal.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nUnsure\n\n### Environment details (OS name and version, etc.)\n\nWindows. Attempted in both Command Prompt and Windows Terminal", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7314", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7314/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7314/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7314/events", "html_url": "https://github.com/aws/aws-cli/issues/7314", "id": 1392858891, "node_id": "I_kwDOAGd3X85TBVcL", "number": 7314, "title": "Post install: Cannot open PyInstaller archive from executable (/usr/local/aws-cli/v2/2.7.35/dist/aws) ", "user": {"login": "jauyzed", "id": 18094384, "node_id": "MDQ6VXNlcjE4MDk0Mzg0", "avatar_url": "https://avatars.githubusercontent.com/u/18094384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jauyzed", "html_url": "https://github.com/jauyzed", "followers_url": "https://api.github.com/users/jauyzed/followers", "following_url": "https://api.github.com/users/jauyzed/following{/other_user}", "gists_url": "https://api.github.com/users/jauyzed/gists{/gist_id}", "starred_url": "https://api.github.com/users/jauyzed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jauyzed/subscriptions", "organizations_url": "https://api.github.com/users/jauyzed/orgs", "repos_url": "https://api.github.com/users/jauyzed/repos", "events_url": "https://api.github.com/users/jauyzed/events{/privacy}", "received_events_url": "https://api.github.com/users/jauyzed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}, {"id": 2756352303, "node_id": "MDU6TGFiZWwyNzU2MzUyMzAz", "url": "https://api.github.com/repos/aws/aws-cli/labels/pyinstaller", "name": "pyinstaller", "color": "74CEFE", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2022-09-30T19:00:57Z", "updated_at": "2022-10-07T22:57:27Z", "closed_at": "2022-10-07T22:57:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nThe install however was successful but after cli was installed on RHEL8 machine. \r\n\r\n```\r\n$ aws --version\r\n[9441] Cannot open PyInstaller archive from executable (/usr/local/aws-cli/v2/2.7.35/dist/aws) or external archive (/usr/local/aws-cli/v2/2.7.35/dist/aws.pkg)\r\n```\r\n\n\n### Expected Behavior\n\n$ aws --version to spit out the version of aws cli\n\n### Current Behavior\n\n```\r\n$ aws --version\r\n[9441] Cannot open PyInstaller archive from executable (/usr/local/aws-cli/v2/2.7.35/dist/aws) or external archive (/usr/local/aws-cli/v2/2.7.35/dist/aws.pkg)\r\n\r\n\r\n$  which python3\r\n/usr/bin/python3\r\n\r\n$ pip install pyinstaller\r\nRequirement already satisfied: pyinstaller in ./.local/lib/python3.6/site-packages (4.10)\r\nRequirement already satisfied: pyinstaller-hooks-contrib>=2020.6 in ./.local/lib/python3.6/site-packages (from pyinstaller) (2022.0)\r\nRequirement already satisfied: importlib-metadata in ./.local/lib/python3.6/site-packages (from pyinstaller) (4.8.3)\r\nRequirement already satisfied: setuptools in /usr/lib/python3.6/site-packages (from pyinstaller) (39.2.0)\r\nRequirement already satisfied: altgraph in ./.local/lib/python3.6/site-packages (from pyinstaller) (0.17.3)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in ./.local/lib/python3.6/site-packages (from importlib-metadata->pyinstaller) (4.1.1)\r\nRequirement already satisfied: zipp>=0.5 in ./.local/lib/python3.6/site-packages (from importlib-metadata->pyinstaller) (3.6.0)\r\n```\n\n### Reproduction Steps\n\nFollowed the uninstall guide to remove aws cli: https://docs.aws.amazon.com/cli/latest/userguide/uninstall.html\r\n\r\nThen installed it\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.35\n\n### Environment details (OS name and version, etc.)\n\nRHEL8: 4.18.0-372.26.1.el8_6.x86_64", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7309", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7309/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7309/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7309/events", "html_url": "https://github.com/aws/aws-cli/issues/7309", "id": 1390502852, "node_id": "I_kwDOAGd3X85S4WPE", "number": 7309, "title": "Random Read timeout error during reading from S3 from Lambda in VPC", "user": {"login": "OleksiiYeromenko", "id": 50664057, "node_id": "MDQ6VXNlcjUwNjY0MDU3", "avatar_url": "https://avatars.githubusercontent.com/u/50664057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OleksiiYeromenko", "html_url": "https://github.com/OleksiiYeromenko", "followers_url": "https://api.github.com/users/OleksiiYeromenko/followers", "following_url": "https://api.github.com/users/OleksiiYeromenko/following{/other_user}", "gists_url": "https://api.github.com/users/OleksiiYeromenko/gists{/gist_id}", "starred_url": "https://api.github.com/users/OleksiiYeromenko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OleksiiYeromenko/subscriptions", "organizations_url": "https://api.github.com/users/OleksiiYeromenko/orgs", "repos_url": "https://api.github.com/users/OleksiiYeromenko/repos", "events_url": "https://api.github.com/users/OleksiiYeromenko/events{/privacy}", "received_events_url": "https://api.github.com/users/OleksiiYeromenko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 285469183, "node_id": "MDU6TGFiZWwyODU0NjkxODM=", "url": "https://api.github.com/repos/aws/aws-cli/labels/lambda", "name": "lambda", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-09-29T08:51:59Z", "updated_at": "2022-10-10T15:52:14Z", "closed_at": "2022-10-10T15:51:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nRandomly from time to time AWS Lambda throws such errors when trying to read a file with a list of JSONs from s3.\r\nLambda is inside VPC, S3 - outside.\r\nFile size is less then 25Mb, there is no clear pattern, hard to reproduce, but it could be related with the load.     \r\nIt could be up to 3-5 times per day receiving such errors:  \r\n```\r\n[ERROR] ReadTimeoutError: Read timeout on endpoint URL: \"None\"\r\nTraceback (most recent call last):\r\n  File \"/var/task/lambda_function.py\", line 234, in lambda_handler\r\n    raise e\r\n  File \"/var/task/lambda_function.py\", line 230, in lambda_handler\r\n    jsons_list = read_json_data(boto_streaming_body)\r\n  File \"/var/task/lambda_function.py\", line 46, in read_json_data\r\n    for line in body.iter_lines():\r\n  File \"/var/runtime/botocore/response.py\", line 118, in iter_lines\r\n    for chunk in self.iter_chunks(chunk_size):\r\n  File \"/var/runtime/botocore/response.py\", line 131, in iter_chunks\r\n    current_chunk = self.read(chunk_size)\r\n  File \"/var/runtime/botocore/response.py\", line 85, in read\r\n    raise ReadTimeoutError(endpoint_url=e.url, error=e)\r\n```\r\n\r\nFile on s3 is ok, if copy it again - all fine. Issue could be with very frequent and heavy reading from s3, but can't debug as it's unstable happens not frequently.  \r\n\r\n\r\nCode example:\r\n```\r\n\r\n  for record in records:\r\n        data = json.loads(record['Sns']['Message'])\r\n        bucket = data['Records'][0]['s3']['bucket']['name']\r\n        key = unquote_plus(data['Records'][0]['s3']['object']['key'], encoding='utf-8')\r\n        logging.info(f\"### bucket: {bucket} \\n file: {key}\")    \r\n        try:\r\n            response = s3.get_object(Bucket=bucket, Key=key)\r\n            boto_streaming_body = response['Body']  \r\n\r\n            jsonsList =[]\r\n            for line in boto_streaming_body.iter_lines():\r\n                try:\r\n                    data_json = json.loads(line)\r\n                    jsonsList.append(data_json) \r\n                except:\r\n                    logging.info(f'Error in json.loads reading json transaction from a file')   \r\n                \r\n \r\n        except Exception as e:\r\n            logging.error(e)\r\n            logging.error('Error getting object {} from bucket {}. Make sure they exist and your bucket is in the same region as this function.'.format(key, bucket))\r\n            raise e\r\n\r\n```\r\n\n\n### Expected Behavior\n\nReading files from S3 without errors. Or at least understand the reason for error.\n\n### Current Behavior\n\nI have tried to change timeout and retries - no result.\r\n( `Config(connect_timeout=100,read_timeout=100, retries={'max_attempts': 10})`)\r\n\r\nIn debug see that botocore.retryhandler [DEBUG] No retry needed., in Response metadata also 'RetryAttempts': 0.\r\n\r\n![image](https://user-images.githubusercontent.com/50664057/192984335-a16e8a9a-50ad-4c13-8850-17e24273d3ca.png)\r\n\n\n### Reproduction Steps\n\nIt's hard to reproduce as it happens randomly few times per day. But could be related that we have multiple lambdas reading frequently files up to 25Mb from s3.\r\n\r\n```\r\n response = s3.get_object(Bucket=bucket, Key=key)\r\n boto_streaming_body = response['Body']  \r\n for line in boto_streaming_body.iter_lines()::\r\n...\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n\r\nLog with boto debug:  \r\n![image](https://user-images.githubusercontent.com/50664057/192984508-1006a578-9897-4b66-8605-8d0bcd43c905.png)\r\n\n\n### CLI version used\n\n2.7.34\n\n### Environment details (OS name and version, etc.)\n\nAWS Lambda, Python 3.8, x86_64", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7307", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7307/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7307/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7307/events", "html_url": "https://github.com/aws/aws-cli/issues/7307", "id": 1389286512, "node_id": "I_kwDOAGd3X85SztRw", "number": 7307, "title": "Unable to assume role in latest CLI version - botocore-session?", "user": {"login": "owenashurst", "id": 4403436, "node_id": "MDQ6VXNlcjQ0MDM0MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4403436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/owenashurst", "html_url": "https://github.com/owenashurst", "followers_url": "https://api.github.com/users/owenashurst/followers", "following_url": "https://api.github.com/users/owenashurst/following{/other_user}", "gists_url": "https://api.github.com/users/owenashurst/gists{/gist_id}", "starred_url": "https://api.github.com/users/owenashurst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/owenashurst/subscriptions", "organizations_url": "https://api.github.com/users/owenashurst/orgs", "repos_url": "https://api.github.com/users/owenashurst/repos", "events_url": "https://api.github.com/users/owenashurst/events{/privacy}", "received_events_url": "https://api.github.com/users/owenashurst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 281839378, "node_id": "MDU6TGFiZWwyODE4MzkzNzg=", "url": "https://api.github.com/repos/aws/aws-cli/labels/assume-role", "name": "assume-role", "color": "ff5500", "default": false, "description": ""}, {"id": 2395605789, "node_id": "MDU6TGFiZWwyMzk1NjA1Nzg5", "url": "https://api.github.com/repos/aws/aws-cli/labels/iam", "name": "iam", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-09-28T12:38:25Z", "updated_at": "2022-10-06T20:23:26Z", "closed_at": "2022-10-06T20:23:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI have a script to deploy my CDK stack to a designated AWS account. I have a master account, and a \"child\" AWS account within the master organisation. A service users credentials in the master account is used to try and assume a role within the child AWS account, however it fails to assume the role.\r\n\r\n\n\n### Expected Behavior\n\nThe role is assumed and the AWS_ACCESS_KEY and AWS_SECRET_ACCESS_KEY and AWS_SESSION_TOKEN is assigned the new values from the credentials object from the assume command.\n\n### Current Behavior\n\nWhen these commands run, I get the following error:\r\n`An error occurred (AccessDenied) when calling the AssumeRole operation: User: arn:aws:sts::<ChildAWSAccountId>:assumed-role/service/botocore-session-1664316680 is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::089297561553:role/service`\n\n### Reproduction Steps\n\nCreate a user in the master account, and create a policy with the following:\r\n```\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Sid\": \"ChildAwsAccount\",\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": \"sts:AssumeRole\",\r\n            \"Resource\": \"arn:aws:iam::<ChildAWSAccountId>:role/service\"\r\n        },\r\n    ]\r\n}\r\n```\r\n\r\nIn the child AWS account, I have a role called service, with the following trust relationship:\r\n\r\n```\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Principal\": {\r\n                \"AWS\": \"arn:aws:iam::<MasterAWSAccountId>:root\"\r\n            },\r\n            \"Action\": [\r\n                \"sts:AssumeRole\",\r\n                \"sts:TagSession\"\r\n            ],\r\n            \"Condition\": {}\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nRun the following commands as per my CI/CD:\r\nMy deployment script then has this as the initial step to setup the credentials:\r\n```\r\naws configure set role_arn $AWS_ASSUMED_ROLE_ARN --profile service\r\naws configure set source_profile mainProfile --profile service \r\nASSUMED_ROLE=$(aws sts assume-role --role-arn $AWS_ASSUMED_ROLE_ARN --role-session-name service --profile service -- output json)\r\nexport AWS_ACCESS_KEY_ID=$(echo $ASSUMED_ROLE | jq -r .Credentials.AccessKeyId)\r\nexport AWS_SECRET_ACCESS_KEY=$(echo $ASSUMED_ROLE | jq -r .Credentials.SecretAccessKey)\r\nexport AWS_SESSION_TOKEN=$(echo $ASSUMED_ROLE | jq -r .Credentials.SessionToken)\r\n```\r\n\r\nAWS_ASSUMED_ROLE_ARN = The ARN of the service role in the child AWS account.\r\n\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\nI have no idea what so ever what `/botocore-session-1664316680` is all about, I've never seen that before.\r\n\r\nThis is a big problem because I have several pipelines running these commands and they've all worked perfectly fine until now.\n\n### CLI version used\n\n2.43.1 (build c1ebb85)\n\n### Environment details (OS name and version, etc.)\n\nLinux / Windows", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7305", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7305/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7305/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7305/events", "html_url": "https://github.com/aws/aws-cli/issues/7305", "id": 1388442030, "node_id": "I_kwDOAGd3X85SwfGu", "number": 7305, "title": "'charmap' codec can't encode character (Windows 7)", "user": {"login": "howchik", "id": 11657700, "node_id": "MDQ6VXNlcjExNjU3NzAw", "avatar_url": "https://avatars.githubusercontent.com/u/11657700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howchik", "html_url": "https://github.com/howchik", "followers_url": "https://api.github.com/users/howchik/followers", "following_url": "https://api.github.com/users/howchik/following{/other_user}", "gists_url": "https://api.github.com/users/howchik/gists{/gist_id}", "starred_url": "https://api.github.com/users/howchik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howchik/subscriptions", "organizations_url": "https://api.github.com/users/howchik/orgs", "repos_url": "https://api.github.com/users/howchik/repos", "events_url": "https://api.github.com/users/howchik/events{/privacy}", "received_events_url": "https://api.github.com/users/howchik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289134679, "node_id": "MDU6TGFiZWwyODkxMzQ2Nzk=", "url": "https://api.github.com/repos/aws/aws-cli/labels/locale", "name": "locale", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-27T22:13:43Z", "updated_at": "2022-10-28T18:03:08Z", "closed_at": "2022-10-28T18:02:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\n'charmap' codec can't encode character (Windows 7) - translating from English to another language\r\n\r\nusing AWS CLI to translate from one to another language. Error in the middle of execution \n\n### Expected Behavior\n\nexpected to have some results. no results\n\n### Current Behavior\n\nGetting the error  \"Charmap code cant enocde ..\"\n\n### Reproduction Steps\n\naws translate translate-text --source-language-code en --target-language-code ru --text \"hello\" --output json \n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.2.18 Python/3.8.8 Windows/10 exe/AMD64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nWindows, cmd", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7301", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7301/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7301/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7301/events", "html_url": "https://github.com/aws/aws-cli/issues/7301", "id": 1387812972, "node_id": "I_kwDOAGd3X85SuFhs", "number": 7301, "title": "aws-network-firewall update-rule-group works only for rule_grups in default mode", "user": {"login": "mario-nc", "id": 110963478, "node_id": "U_kgDOBp0rFg", "avatar_url": "https://avatars.githubusercontent.com/u/110963478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mario-nc", "html_url": "https://github.com/mario-nc", "followers_url": "https://api.github.com/users/mario-nc/followers", "following_url": "https://api.github.com/users/mario-nc/following{/other_user}", "gists_url": "https://api.github.com/users/mario-nc/gists{/gist_id}", "starred_url": "https://api.github.com/users/mario-nc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mario-nc/subscriptions", "organizations_url": "https://api.github.com/users/mario-nc/orgs", "repos_url": "https://api.github.com/users/mario-nc/repos", "events_url": "https://api.github.com/users/mario-nc/events{/privacy}", "received_events_url": "https://api.github.com/users/mario-nc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 4588399916, "node_id": "LA_kwDOAGd3X88AAAABEX1tLA", "url": "https://api.github.com/repos/aws/aws-cli/labels/network-firewall", "name": "network-firewall", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-27T13:54:56Z", "updated_at": "2022-11-10T22:47:00Z", "closed_at": "2022-11-10T22:46:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI'm trying to update existing rule-group in AWS Network Firewall. Rule group is set as STATEFUL and ordering mode is STRICT. \r\n\r\n```\r\nupdate_rule_group = network_firewall.update_rule_group(RuleGroupName=\"RuleGroupName\",\r\n                            Type=\"STATEFUL\",\r\n                            Rules=rules,\r\n                            UpdateToken=token\r\n```\r\n\r\nOutput: \r\nraise error_class(parsed_response, operation_name)\r\nbotocore.errorfactory.InvalidRequestException: An error occurred (InvalidRequestException) when calling the UpdateRuleGroup operation: parameter is invalid\n\n### Expected Behavior\n\nScript should be able to update rule-group, however it is only able to update rule-group that is configured with DEFAULT ordering mode. \n\n### Current Behavior\n\nraise error_class(parsed_response, operation_name)\r\nbotocore.errorfactory.InvalidRequestException: An error occurred (InvalidRequestException) when calling the UpdateRuleGroup operation: parameter is invalid\n\n### Reproduction Steps\n\n```\r\nupdate_rule_group = network_firewall.update_rule_group(RuleGroupName=\"RuleGroupName\",\r\n                            Type=\"STATEFUL\",\r\n                            Rules=rules,\r\n                            UpdateToken=token\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.26\n\n### Environment details (OS name and version, etc.)\n\nMacOS/12.6", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7300", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7300/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7300/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7300/events", "html_url": "https://github.com/aws/aws-cli/issues/7300", "id": 1387607765, "node_id": "I_kwDOAGd3X85StTbV", "number": 7300, "title": "import-table command not found in aws/cli", "user": {"login": "mukul-lumi", "id": 113340281, "node_id": "U_kgDOBsFveQ", "avatar_url": "https://avatars.githubusercontent.com/u/113340281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mukul-lumi", "html_url": "https://github.com/mukul-lumi", "followers_url": "https://api.github.com/users/mukul-lumi/followers", "following_url": "https://api.github.com/users/mukul-lumi/following{/other_user}", "gists_url": "https://api.github.com/users/mukul-lumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mukul-lumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mukul-lumi/subscriptions", "organizations_url": "https://api.github.com/users/mukul-lumi/orgs", "repos_url": "https://api.github.com/users/mukul-lumi/repos", "events_url": "https://api.github.com/users/mukul-lumi/events{/privacy}", "received_events_url": "https://api.github.com/users/mukul-lumi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 335130062, "node_id": "MDU6TGFiZWwzMzUxMzAwNjI=", "url": "https://api.github.com/repos/aws/aws-cli/labels/dynamodb", "name": "dynamodb", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-09-27T11:38:27Z", "updated_at": "2022-09-28T16:01:12Z", "closed_at": "2022-09-28T16:00:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nAccording to the documentation v2 of aws/cli supports `aws dynamodb import-table` command, https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/import-table.html\r\n\r\nbut this command is not listed when we tried `aws dynamodb help`.\r\n\r\nOur CLI version is `aws-cli/2.7.6 Python/3.9.11 Darwin/21.2.0 exe/x86_64 prompt/off`\n\n### Expected Behavior\n\nCli should list the command in help and work properly.\n\n### Current Behavior\n\nWe are getting\r\n\r\n```\r\naws dynamodb import-table help\r\n\r\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\n\r\naws: error: argument operation: Invalid choice, valid choices are:\r\n```\n\n### Reproduction Steps\n\nUse command `aws dynamodb import-table help`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.6 Python/3.9.11 Darwin/21.2.0 exe/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nMac OS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7300/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7299", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7299/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7299/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7299/events", "html_url": "https://github.com/aws/aws-cli/issues/7299", "id": 1386516285, "node_id": "I_kwDOAGd3X85SpI89", "number": 7299, "title": "Slow upload speed in Apple Virtualization Framework VMs on M1", "user": {"login": "remarkov", "id": 10799770, "node_id": "MDQ6VXNlcjEwNzk5Nzcw", "avatar_url": "https://avatars.githubusercontent.com/u/10799770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/remarkov", "html_url": "https://github.com/remarkov", "followers_url": "https://api.github.com/users/remarkov/followers", "following_url": "https://api.github.com/users/remarkov/following{/other_user}", "gists_url": "https://api.github.com/users/remarkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/remarkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/remarkov/subscriptions", "organizations_url": "https://api.github.com/users/remarkov/orgs", "repos_url": "https://api.github.com/users/remarkov/repos", "events_url": "https://api.github.com/users/remarkov/events{/privacy}", "received_events_url": "https://api.github.com/users/remarkov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2022-09-26T18:18:16Z", "updated_at": "2023-02-07T18:38:03Z", "closed_at": "2022-11-26T05:11:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWe noticed that uploading a smaller size file, e.g. 8 MB to S3 using AWS CLI is dramatically slower when used on macOS running on M1 rather than Intel version. Absolutely the same file being uploaded to the same bucket using the same version of AWS CLI (2.7.35) gives totally different speeds, ~150 KiB/s on ARM and ~1.5 MiB/s on Intel. \r\n\r\nThe issue does not affect bigger files, most likely due to chunks and parallel uploads.\r\n\r\nThis is easily reproducible, tried on several different hosts in different networks etc. Trying x86_64 version on M1 does not give any difference and remains slow on upload. Also tried experimenting with different transfer options as specified [here](https://docs.aws.amazon.com/cli/latest/topic/s3-config.html) to no avail. So far I was not able to find any workaround except using Intel host.\n\n### Expected Behavior\n\nThe upload speed should be the same when using both Intel and ARM hosts given they have no other difference in network setup, bandwidth limits etc.\n\n### Current Behavior\n\nThe upload speed of smaller files (~8 MB) is 10x slower on ARM than on Intel.\n\n### Reproduction Steps\n\nrun \r\n\r\n```\r\n> dd if=/dev/urandom of=sample.txt bs=8M count=1\r\n> aws s3 cp sample.txt s3://my-bucket\r\n```\r\non Intel and on M1 macOS, see the upload speed difference is enormous.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.35\n\n### Environment details (OS name and version, etc.)\n\nmacOS 12.6 M1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7299/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7281", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7281/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7281/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7281/events", "html_url": "https://github.com/aws/aws-cli/issues/7281", "id": 1376588165, "node_id": "I_kwDOAGd3X85SDRGF", "number": 7281, "title": "update_autoscaling_group error while trying to update a mixed instances policy", "user": {"login": "rodrigoa-most", "id": 96894455, "node_id": "U_kgDOBcZ99w", "avatar_url": "https://avatars.githubusercontent.com/u/96894455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rodrigoa-most", "html_url": "https://github.com/rodrigoa-most", "followers_url": "https://api.github.com/users/rodrigoa-most/followers", "following_url": "https://api.github.com/users/rodrigoa-most/following{/other_user}", "gists_url": "https://api.github.com/users/rodrigoa-most/gists{/gist_id}", "starred_url": "https://api.github.com/users/rodrigoa-most/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rodrigoa-most/subscriptions", "organizations_url": "https://api.github.com/users/rodrigoa-most/orgs", "repos_url": "https://api.github.com/users/rodrigoa-most/repos", "events_url": "https://api.github.com/users/rodrigoa-most/events{/privacy}", "received_events_url": "https://api.github.com/users/rodrigoa-most/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 3529994415, "node_id": "LA_kwDOAGd3X87SZ3Cv", "url": "https://api.github.com/repos/aws/aws-cli/labels/autoscaling", "name": "autoscaling", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-09-16T23:35:24Z", "updated_at": "2022-11-06T02:02:21Z", "closed_at": "2022-09-19T18:18:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nI got an error while trying to update an auto scaling group with a mixed instance policy.\r\n\r\n\r\n\r\n### Expected Behavior\r\n\r\nIt should run as described on \"Example 6: To define a mixed instances policy and enable capacity rebalancing\" mentioned on [documentation page ](https://docs.aws.amazon.com/cli/latest/reference/autoscaling/update-auto-scaling-group.html).\r\n\r\n### Current Behavior\r\n\r\n```\r\nAn error occurred (ValidationError) when calling the UpdateAutoScalingGroup operation: Valid requests must contain either launchTemplateId or LaunchTemplateName\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n1. Create a file named config.json containing the body:\r\n```json\r\n{\r\n    \"AutoScalingGroupName\": \"cluster-xxxx\",\r\n    \"MixedInstancesPolicy\": {\r\n        \"LaunchTemplate\": {\r\n            \"LaunchTemplateSpecification\": {\r\n                \"LaunchTemplateId\": \"lt-xxxx\",\r\n                \"LaunchTemplateName\": \"cluster-xxxx-lt\",\r\n                \"Version\": \"30\"\r\n            },\r\n            \"Overrides\": [\r\n                {\r\n                    \"InstanceType\": \"m6i.2xlarge\",\r\n                    \"WeightedCapacity\": \"4\"\r\n                },\r\n                {\r\n                    \"InstanceType\": \"m5.xlarge\",\r\n                    \"WeightedCapacity\": \"2\"\r\n                },\r\n                {\r\n                    \"InstanceType\": \"m6i.xlarge\",\r\n                    \"WeightedCapacity\": \"2\"\r\n                }\r\n            ]\r\n        },\r\n        \"InstancesDistribution\": {\r\n            \"OnDemandAllocationStrategy\": \"prioritized\",\r\n            \"OnDemandBaseCapacity\": 0,\r\n            \"OnDemandPercentageAboveBaseCapacity\": 0,\r\n            \"SpotAllocationStrategy\": \"capacity-optimized\"\r\n        }\r\n    }\r\n}\r\n```\r\n2. Run the command\r\n`aws autoscaling update-auto-scaling-group     --cli-input-json file://./config.json`\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\nThe same error occurs on boto3.\r\n\r\nAm I missing something?\r\n\r\nThank you.\r\n\r\n### CLI version used\r\n\r\naws-cli/2.7.4 Python/3.9.11 Linux/5.15.0-46-generic exe/x86_64.ubuntu.20\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nubuntu 20.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7281/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7278", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7278/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7278/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7278/events", "html_url": "https://github.com/aws/aws-cli/issues/7278", "id": 1375726722, "node_id": "I_kwDOAGd3X85R_-yC", "number": 7278, "title": "logs tail: unknown option --log-stream-names", "user": {"login": "wodCZ", "id": 1174421, "node_id": "MDQ6VXNlcjExNzQ0MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1174421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wodCZ", "html_url": "https://github.com/wodCZ", "followers_url": "https://api.github.com/users/wodCZ/followers", "following_url": "https://api.github.com/users/wodCZ/following{/other_user}", "gists_url": "https://api.github.com/users/wodCZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/wodCZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wodCZ/subscriptions", "organizations_url": "https://api.github.com/users/wodCZ/orgs", "repos_url": "https://api.github.com/users/wodCZ/repos", "events_url": "https://api.github.com/users/wodCZ/events{/privacy}", "received_events_url": "https://api.github.com/users/wodCZ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2395127410, "node_id": "MDU6TGFiZWwyMzk1MTI3NDEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/logs", "name": "logs", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-16T10:05:19Z", "updated_at": "2022-09-17T13:47:04Z", "closed_at": "2022-09-17T13:46:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nFollowing the [documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/logs/tail.html), trying to use any of the options introduced in https://github.com/aws/aws-cli/issues/5560:\r\n- `--log-stream-names`\r\n- `--log-stream-name-prefix`\r\n\r\nboth return an error `Unknown options: --log-stream-names` or `Unknown options: --log-stream-name-prefix`.\r\n\r\nTrying to filter the events using `--filter-pattern` fails with Invalid filter pattern: \r\n```\r\naws logs tail mygroup --since 1d --filter-pattern \"worker/worker/*\"\r\n\r\n> An error occurred (InvalidParameterException) when calling the FilterLogEvents operation: Invalid filter pattern\r\n```\r\n\r\n\n\n### Expected Behavior\n\nI expect to be able to filter logs by the group.\n\n### Current Behavior\n\nI am not able to do that, which is particularly irritating to discover during service outage.\n\n### Reproduction Steps\n\nInstall aws cli\r\n\r\nRun\r\n```bash\r\naws logs tail anything --since 1d --log-stream-names something\r\n```\r\n\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.1.3\n\n### Environment details (OS name and version, etc.)\n\nPython/3.7.4 Darwin/21.6.0 exe/x86_64", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7278/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7275", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7275/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7275/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7275/events", "html_url": "https://github.com/aws/aws-cli/issues/7275", "id": 1375165605, "node_id": "I_kwDOAGd3X85R91yl", "number": 7275, "title": "Cannot request S3 on an unauthenticated way", "user": {"login": "nightswimmings", "id": 9316403, "node_id": "MDQ6VXNlcjkzMTY0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/9316403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nightswimmings", "html_url": "https://github.com/nightswimmings", "followers_url": "https://api.github.com/users/nightswimmings/followers", "following_url": "https://api.github.com/users/nightswimmings/following{/other_user}", "gists_url": "https://api.github.com/users/nightswimmings/gists{/gist_id}", "starred_url": "https://api.github.com/users/nightswimmings/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nightswimmings/subscriptions", "organizations_url": "https://api.github.com/users/nightswimmings/orgs", "repos_url": "https://api.github.com/users/nightswimmings/repos", "events_url": "https://api.github.com/users/nightswimmings/events{/privacy}", "received_events_url": "https://api.github.com/users/nightswimmings/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-15T22:31:44Z", "updated_at": "2022-09-16T06:29:37Z", "closed_at": "2022-09-16T06:28:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI want to do \"aws --endpoint-url http://localhost:62833 --no-sign-request s3 ls\" through \r\nAmazonS3ClientBuilder but it is impossible to find an equivalent to --no-sign-request that allows me to skip credential\r\n\r\nWhat can I do ?\r\n\r\n\n\n### Expected Behavior\n\nAmazonS3ClientBuilder.withCredentials(new NoSignRequestCredentialsProvider()) ?\n\n### Current Behavior\n\nCould not find the steps to imitate the aforementioned CLI behavior\n\n### Reproduction Steps\n\nSetup a Localstack container (I used testcontainers)\r\n\r\nconnect through CLI -> aws --endpoint-url http://localhost:62833 --no-sign-request s3 ls\r\n\r\nThen try to connect through code with\r\n\r\nAmazonS3ClientBuilder.standard().withEndpointConfiguration(...).build().listBuckets()\n\n### Possible Solution\n\nSee expected behavior section\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.31 for CLI, 1.12.302 for amazon-sdk java and localstack/localstack:latest as server\n\n### Environment details (OS name and version, etc.)\n\nMacOs Monterrey M1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7275/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7261", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7261/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7261/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7261/events", "html_url": "https://github.com/aws/aws-cli/issues/7261", "id": 1367598308, "node_id": "I_kwDOAGd3X85Rg-Tk", "number": 7261, "title": "apigatewayv2 update-domain-name cannot update TLS version", "user": {"login": "HaaLeo", "id": 23164374, "node_id": "MDQ6VXNlcjIzMTY0Mzc0", "avatar_url": "https://avatars.githubusercontent.com/u/23164374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HaaLeo", "html_url": "https://github.com/HaaLeo", "followers_url": "https://api.github.com/users/HaaLeo/followers", "following_url": "https://api.github.com/users/HaaLeo/following{/other_user}", "gists_url": "https://api.github.com/users/HaaLeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/HaaLeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HaaLeo/subscriptions", "organizations_url": "https://api.github.com/users/HaaLeo/orgs", "repos_url": "https://api.github.com/users/HaaLeo/repos", "events_url": "https://api.github.com/users/HaaLeo/events{/privacy}", "received_events_url": "https://api.github.com/users/HaaLeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4516153036, "node_id": "LA_kwDOAGd3X88AAAABDS8GzA", "url": "https://api.github.com/repos/aws/aws-cli/labels/apigatewayv2", "name": "apigatewayv2", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-09-09T10:07:45Z", "updated_at": "2022-11-10T22:49:48Z", "closed_at": "2022-11-10T22:49:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen Running a command like \r\n\r\n```\r\naws --debug  apigatewayv2 update-domain-name --profile myprofile --domain-name-configurations '[{    \"ApiGatewayDomainName\": \"apiId.execute-api.us-east-1.amazonaws.com\",    \"CertificateArn\": \"mycertArn\",    \"DomainNameStatus\": \"AVAILABLE\",    \"EndpointType\": \"REGIONAL\",    \"HostedZoneId\": \"myhostedzoneId\",    \"SecurityPolicy\": \"TLS_1_2\"}]' --domain-name mydomainname.domain.com\r\n```\r\n\r\nthe TLS version is not updated. \r\n\r\nThe behavior occurs for edge as well as regional APIs\n\n### Expected Behavior\n\nThe TLS version is updated to TLS_1_2\n\n### Current Behavior\n\nThe TLS version is not updated.\n\n### Reproduction Steps\n\n```\r\naws --debug  apigatewayv2 update-domain-name --profile myprofile --domain-name-configurations '[{    \"ApiGatewayDomainName\": \"apiId.execute-api.us-east-1.amazonaws.com\",    \"CertificateArn\": \"mycertArn\",    \"DomainNameStatus\": \"AVAILABLE\",    \"EndpointType\": \"REGIONAL\",    \"HostedZoneId\": \"myhostedzoneId\",    \"SecurityPolicy\": \"TLS_1_2\"}]' --domain-name mydomainname.domain.com\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\nThe logs:\r\n<details>\r\n<pre>\r\n<code>\r\naws --debug  apigatewayv2 update-domain-name --profile myprofile --domain-name-configurations '[{    \"ApiGatewayDomainName\": \"myApiId.execute-api.us-east-1.amazonaws.com\",    \"CertificateArn\": \"arn:aws:acm:us-east-1:myAccountId:certificate/mycertificateId\",    \"DomainNameStatus\": \"AVAILABLE\",    \"EndpointType\": \"REGIONAL\",    \"HostedZoneId\": \"myhostedzoneId\",    \"SecurityPolicy\": \"TLS_1_2\"}]' --domain-name myhostedZoneId\r\n2022-09-09 11:51:48,235 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.7.26 Python/3.10.6 Darwin/21.6.0 source/x86_64\r\n2022-09-09 11:51:48,235 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', 'apigatewayv2', 'update-domain-name', '--profile', 'myprofile', '--domain-name-configurations', '[{    \"ApiGatewayDomainName\": \"myApiId.execute-api.us-east-1.amazonaws.com\",    \"CertificateArn\": \"arn:aws:acm:us-east-1:myAccountId:certificate/mycertificateId\",    \"DomainNameStatus\": \"AVAILABLE\",    \"EndpointType\": \"REGIONAL\",    \"HostedZoneId\": \"myhostedzoneId\",    \"SecurityPolicy\": \"TLS_1_2\"}]', '--domain-name', 'myhostedZoneId']\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x109955f30>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x1097837f0>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x109729cf0>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x10972ac20>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x109bd48b0>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x1097e9240>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-09-09 11:51:48,305 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x109957ac0>\r\n2022-09-09 11:51:48,306 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.7.26/libexec/lib/python3.10/site-packages/awscli/data/cli.json\r\n2022-09-09 11:51:48,309 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x1098b0dc0>\r\n2022-09-09 11:51:48,309 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x1098b1900>\r\n2022-09-09 11:51:48,309 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x1098b1870>\r\n2022-09-09 11:51:48,309 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x1098b1a20>\r\n2022-09-09 11:51:48,309 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x1098b1990>\r\n2022-09-09 11:51:48,309 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x109c844c0>\r\n2022-09-09 11:51:48,309 - MainThread - botocore.session - DEBUG - Setting config variable for profile to 'myprofile'\r\n2022-09-09 11:51:48,310 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.7.26 Python/3.10.6 Darwin/21.6.0 source/x86_64 prompt/off\r\n2022-09-09 11:51:48,310 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', 'apigatewayv2', 'update-domain-name', '--profile', 'myprofile', '--domain-name-configurations', '[{    \"ApiGatewayDomainName\": \"myApiId.execute-api.us-east-1.amazonaws.com\",    \"CertificateArn\": \"arn:aws:acm:us-east-1:myAccountId:certificate/mycertificateId\",    \"DomainNameStatus\": \"AVAILABLE\",    \"EndpointType\": \"REGIONAL\",    \"HostedZoneId\": \"myhostedzoneId\",    \"SecurityPolicy\": \"TLS_1_2\"}]', '--domain-name', 'myhostedZoneId']\r\n2022-09-09 11:51:48,310 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x109956560>\r\n2022-09-09 11:51:48,310 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x10946ea70>\r\n2022-09-09 11:51:48,310 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x109c368c0>\r\n2022-09-09 11:51:48,310 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x10944be20>\r\n2022-09-09 11:51:48,310 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x1094cb520>\r\n2022-09-09 11:51:48,317 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-09-09 11:51:48,324 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\r\n2022-09-09 11:51:48,324 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x1097e9120>\r\n2022-09-09 11:51:48,324 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x109782710>\r\n2022-09-09 11:51:48,354 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.7.26/libexec/lib/python3.10/site-packages/awscli/botocore/data/apigatewayv2/2018-11-29/service-2.json\r\n2022-09-09 11:51:48,366 - MainThread - botocore.hooks - DEBUG - Event building-command-table.apigatewayv2: calling handler <function add_waiters at 0x109957ac0>\r\n2022-09-09 11:51:48,401 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('domain-name', <awscli.arguments.CLIArgument object at 0x109f020b0>), ('domain-name-configurations', <awscli.arguments.ListArgument object at 0x109f020e0>), ('mutual-tls-authentication', <awscli.arguments.CLIArgument object at 0x109f02110>)])\r\n2022-09-09 11:51:48,401 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigatewayv2.update-domain-name: calling handler <function add_streaming_output_arg at 0x109956830>\r\n2022-09-09 11:51:48,401 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigatewayv2.update-domain-name: calling handler <function add_cli_input_json at 0x1094cbd00>\r\n2022-09-09 11:51:48,401 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigatewayv2.update-domain-name: calling handler <function add_cli_input_yaml at 0x1094cbf40>\r\n2022-09-09 11:51:48,401 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigatewayv2.update-domain-name: calling handler <function unify_paging_params at 0x109783d00>\r\n2022-09-09 11:51:48,447 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.7.26/libexec/lib/python3.10/site-packages/awscli/botocore/data/apigatewayv2/2018-11-29/paginators-1.json\r\n2022-09-09 11:51:48,447 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigatewayv2.update-domain-name: calling handler <function add_generate_skeleton at 0x1098b03a0>\r\n2022-09-09 11:51:48,448 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.apigatewayv2.update-domain-name: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x109f01fc0>>\r\n2022-09-09 11:51:48,448 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.apigatewayv2.update-domain-name: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x109f01f90>>\r\n2022-09-09 11:51:48,448 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.apigatewayv2.update-domain-name: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x109f022f0>>\r\n2022-09-09 11:51:48,450 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.update-domain-name.domain-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x109cc0730>\r\n2022-09-09 11:51:48,450 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigatewayv2.update-domain-name: calling handler <awscli.argprocess.ParamShorthandParser object at 0x10948b610>\r\n2022-09-09 11:51:48,450 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'myhostedZoneId' for parameter \"domain_name\": 'myhostedZoneId'\r\n2022-09-09 11:51:48,450 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.update-domain-name.domain-name-configurations: calling handler <awscli.paramfile.URIArgumentHandler object at 0x109cc0730>\r\n2022-09-09 11:51:48,451 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigatewayv2.update-domain-name: calling handler <awscli.argprocess.ParamShorthandParser object at 0x10948b610>\r\n2022-09-09 11:51:48,451 - MainThread - awscli.argprocess - DEBUG - Param domain_name_configurations looks like JSON, not considered for param shorthand.\r\n2022-09-09 11:51:48,451 - MainThread - awscli.arguments - DEBUG - Unpacked value of ['[{    \"ApiGatewayDomainName\": \"myApiId.execute-api.us-east-1.amazonaws.com\",    \"CertificateArn\": \"arn:aws:acm:us-east-1:myAccountId:certificate/mycertificateId\",    \"DomainNameStatus\": \"AVAILABLE\",    \"EndpointType\": \"REGIONAL\",    \"HostedZoneId\": \"myhostedzoneId\",    \"SecurityPolicy\": \"TLS_1_2\"}]'] for parameter \"domain_name_configurations\": [OrderedDict([('ApiGatewayDomainName', 'myApiId.execute-api.us-east-1.amazonaws.com'), ('CertificateArn', 'arn:aws:acm:us-east-1:myAccountId:certificate/mycertificateId'), ('DomainNameStatus', 'AVAILABLE'), ('EndpointType', 'REGIONAL'), ('HostedZoneId', 'myhostedzoneId'), ('SecurityPolicy', 'TLS_1_2')])]\r\n2022-09-09 11:51:48,452 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.update-domain-name.mutual-tls-authentication: calling handler <awscli.paramfile.URIArgumentHandler object at 0x109cc0730>\r\n2022-09-09 11:51:48,453 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.update-domain-name.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x109cc0730>\r\n2022-09-09 11:51:48,453 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.update-domain-name.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x109cc0730>\r\n2022-09-09 11:51:48,453 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.update-domain-name.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x109cc0730>\r\n2022-09-09 11:51:48,453 - MainThread - botocore.hooks - DEBUG - Event calling-command.apigatewayv2.update-domain-name: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x109f01fc0>>\r\n2022-09-09 11:51:48,453 - MainThread - botocore.hooks - DEBUG - Event calling-command.apigatewayv2.update-domain-name: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x109f01f90>>\r\n2022-09-09 11:51:48,453 - MainThread - botocore.hooks - DEBUG - Event calling-command.apigatewayv2.update-domain-name: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x109f022f0>>\r\n2022-09-09 11:51:48,454 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2022-09-09 11:51:48,454 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2022-09-09 11:51:48,454 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2022-09-09 11:51:48,455 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2022-09-09 11:51:48,456 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2022-09-09 11:51:48,458 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.7.26/libexec/lib/python3.10/site-packages/awscli/botocore/data/endpoints.json\r\n2022-09-09 11:51:48,470 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1086ae290>\r\n2022-09-09 11:51:48,472 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.apigatewayv2: calling handler <function add_generate_presigned_url at 0x108624a60>\r\n2022-09-09 11:51:48,475 - MainThread - botocore.endpoint - DEBUG - Setting apigateway timeout as (60, 60)\r\n2022-09-09 11:51:48,476 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.apigatewayv2.UpdateDomainName: calling handler <function base64_decode_input_blobs at 0x109c37010>\r\n2022-09-09 11:51:48,477 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.apigatewayv2.UpdateDomainName: calling handler <function generate_idempotent_uuid at 0x1086d4310>\r\n2022-09-09 11:51:48,477 - MainThread - botocore.hooks - DEBUG - Event before-call.apigatewayv2.UpdateDomainName: calling handler <function inject_api_version_header_if_needed at 0x1086d5b40>\r\n2022-09-09 11:51:48,477 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=UpdateDomainName) with params: {'url_path': '/v2/domainnames/myhostedZoneId', 'query_string': {}, 'method': 'PATCH', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'aws-cli/2.7.26 Python/3.10.6 Darwin/21.6.0 source/x86_64 prompt/off command/apigatewayv2.update-domain-name'}, 'body': b'{\"domainNameConfigurations\": [{\"apiGatewayDomainName\": \"myApiId.execute-api.us-east-1.amazonaws.com\", \"certificateArn\": \"arn:aws:acm:us-east-1:myAccountId:certificate/mycertificateId\", \"domainNameStatus\": \"AVAILABLE\", \"endpointType\": \"REGIONAL\", \"hostedZoneId\": \"myhostedzoneId\", \"securityPolicy\": \"TLS_1_2\"}]}', 'url': 'https://apigateway.us-east-1.amazonaws.com/v2/domainnames/myhostedZoneId', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x1123da890>, 'has_streaming_input': False, 'auth_type': None}}\r\n2022-09-09 11:51:48,477 - MainThread - botocore.hooks - DEBUG - Event request-created.apigatewayv2.UpdateDomainName: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1123da950>>\r\n2022-09-09 11:51:48,478 - MainThread - botocore.hooks - DEBUG - Event choose-signer.apigatewayv2.UpdateDomainName: calling handler <function set_operation_specific_signer at 0x1086d41f0>\r\n2022-09-09 11:51:48,479 - MainThread - botocore.credentials - DEBUG - Credentials for role retrieved from cache.\r\n2022-09-09 11:51:48,479 - MainThread - botocore.credentials - DEBUG - Retrieved credentials will expire at: 2022-09-09 10:36:47+00:00\r\n2022-09-09 11:51:48,480 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2022-09-09 11:51:48,480 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPATCH\r\n/v2/domainnames/myhostedZoneId\r\n\r\ncontent-type:application/json\r\nhost:apigateway.us-east-1.amazonaws.com\r\nx-amz-date:20220909T095148Z\r\nx-amz-security-token:mysecuritytoken\r\n\r\ncontent-type;host;x-amz-date;x-amz-security-token\r\nmysecuritytoken\r\n2022-09-09 11:51:48,480 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20220909T095148Z\r\n20220909/us-east-1/apigateway/aws4_request\r\n0e5701de4b3ebbb6e72c4c596873448e922ac287b93e71fd2ee18d4e066c460e\r\n2022-09-09 11:51:48,480 - MainThread - botocore.auth - DEBUG - Signature:\r\nmysignature\r\n2022-09-09 11:51:48,480 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=PATCH, url=https://apigateway.us-east-1.amazonaws.com/v2/domainnames/myhostedZoneId, headers={'Content-Type': b'application/json', 'User-Agent': b'aws-cli/2.7.26 Python/3.10.6 Darwin/21.6.0 source/x86_64 prompt/off command/apigatewayv2.update-domain-name', 'X-Amz-Date': b'20220909T095148Z', 'X-Amz-Security-Token': b'mysecuritytoken', 'Authorization': b'AWS4-HMAC-SHA256 Credential=credentials/20220909/us-east-1/apigateway/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-security-token, Signature=mysignature', 'Content-Length': '337'}>\r\n2022-09-09 11:51:48,480 - MainThread - botocore.httpsession - DEBUG - Certificate path: /usr/local/Cellar/awscli/2.7.26/libexec/lib/python3.10/site-packages/awscli/botocore/cacert.pem\r\n2022-09-09 11:51:48,481 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): apigateway.us-east-1.amazonaws.com:443\r\n2022-09-09 11:51:49,655 - MainThread - urllib3.connectionpool - DEBUG - https://apigateway.us-east-1.amazonaws.com:443 \"PATCH /v2/domainnames/myhostedZoneId HTTP/1.1\" 200 586\r\n2022-09-09 11:51:49,656 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Fri, 09 Sep 2022 09:51:49 GMT', 'Content-Type': 'application/json', 'Content-Length': '586', 'Connection': 'keep-alive', 'x-amzn-RequestId': 'myrequestId', 'x-amzn-Remapped-x-amzn-RequestId': '472d8e70-fcce-4d00-a6ab-cde67bd2db99', 'Access-Control-Allow-Origin': '*', 'x-amzn-Remapped-Content-Length': '430', 'x-amzn-Remapped-Connection': 'keep-alive', 'x-amz-apigw-id': 'YL7sUGMnoAMF-0g=', 'Access-Control-Expose-Headers': 'x-amzn-RequestId,x-amzn-ErrorType,x-amzn-ErrorMessage,Date', 'X-Amzn-Trace-Id': 'Root=1-631b0cb5-796300c03b4083ed1376e68b', 'x-amzn-Remapped-Date': 'Fri, 09 Sep 2022 09:51:49 GMT'}\r\n2022-09-09 11:51:49,656 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"domainName\":\"myhostedZoneId\",\"domainNameConfigurations\":[{\"endpointType\":\"REGIONAL\",\"certificateName\":null,\"certificateArn\":\"arn:aws:acm:us-east-1:myAccountId:certificate/mycertificateId\",\"ownershipVerificationCertificateArn\":null,\"apiGatewayDomainName\":\"myApiId.execute-api.us-east-1.amazonaws.com\",\"hostedZoneId\":\"myhostedzoneId\",\"certificateUploadDate\":null,\"securityPolicy\":\"TLS_1_0\",\"domainNameStatus\":\"AVAILABLE\",\"domainNameStatusMessage\":null}],\"apiMappingSelectionExpression\":\"$request.basepath\",\"tags\":{},\"mutualTlsAuthentication\":null}'\r\n2022-09-09 11:51:49,656 - MainThread - botocore.hooks - DEBUG - Event needs-retry.apigatewayv2.UpdateDomainName: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x1123db340>>\r\n2022-09-09 11:51:49,656 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2022-09-09 11:51:49,656 - MainThread - botocore.hooks - DEBUG - Event after-call.apigatewayv2.UpdateDomainName: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x1123da860>>\r\n2022-09-09 11:51:49,656 - MainThread - awscli.formatter - DEBUG - RequestId: myrequestId\r\n</code>\r\n</pre>\r\n</details>\n\n### CLI version used\n\naws-cli/2.7.26 Python/3.10.6 Darwin/21.6.0 source/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nmacOS monterey 12.5.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7261/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7259", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7259/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7259/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7259/events", "html_url": "https://github.com/aws/aws-cli/issues/7259", "id": 1367001617, "node_id": "I_kwDOAGd3X85ResoR", "number": 7259, "title": "S3 presign don't work with S3 Object Lambda arn", "user": {"login": "koiker", "id": 11652634, "node_id": "MDQ6VXNlcjExNjUyNjM0", "avatar_url": "https://avatars.githubusercontent.com/u/11652634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koiker", "html_url": "https://github.com/koiker", "followers_url": "https://api.github.com/users/koiker/followers", "following_url": "https://api.github.com/users/koiker/following{/other_user}", "gists_url": "https://api.github.com/users/koiker/gists{/gist_id}", "starred_url": "https://api.github.com/users/koiker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koiker/subscriptions", "organizations_url": "https://api.github.com/users/koiker/orgs", "repos_url": "https://api.github.com/users/koiker/repos", "events_url": "https://api.github.com/users/koiker/events{/privacy}", "received_events_url": "https://api.github.com/users/koiker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2726227633, "node_id": "MDU6TGFiZWwyNzI2MjI3NjMz", "url": "https://api.github.com/repos/aws/aws-cli/labels/presign", "name": "presign", "color": "B60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-09-08T21:21:25Z", "updated_at": "2022-10-24T14:49:44Z", "closed_at": "2022-10-14T22:50:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen running the command:\r\n`aws s3 presign <object-lambda-arn>/<object_key>` \r\nWe receive the error: `s3 commands do not support S3 Object Lambda resources. Use s3api commands instead.`\r\nThe problem is that presign is not an API operation and the s3api commands don't have a presign operation.\n\n### Expected Behavior\n\nWhen running the `aws s3 presign` with an Object Lambda arn and object we expect to receive a presigned URL in return of this command\n\n### Current Behavior\n\nWe receive the error: `s3 commands do not support S3 Object Lambda resources. Use s3api commands instead.`\r\n\r\nThe error message is a dead-end as there is no API action for presign URLs. It's just a way to sign an API request using querystring parameters instead of header.\n\n### Reproduction Steps\n\nRun the following command:\r\n\r\n```bash\r\naws s3 presign arn:aws:s3-object-lambda:us-east-1:1111111111111:accesspoint/ol-ap-amazon-s3/myobject.ext\r\n```\n\n### Possible Solution\n\nImplement the presign URL with S3 Object Lambda ARNs\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.25\n\n### Environment details (OS name and version, etc.)\n\nMacOS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7259/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7246", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7246/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7246/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7246/events", "html_url": "https://github.com/aws/aws-cli/issues/7246", "id": 1362758583, "node_id": "I_kwDOAGd3X85ROgu3", "number": 7246, "title": "x_security_token_expires is not respected when using credential_process ", "user": {"login": "pwmcintyre", "id": 774725, "node_id": "MDQ6VXNlcjc3NDcyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/774725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pwmcintyre", "html_url": "https://github.com/pwmcintyre", "followers_url": "https://api.github.com/users/pwmcintyre/followers", "following_url": "https://api.github.com/users/pwmcintyre/following{/other_user}", "gists_url": "https://api.github.com/users/pwmcintyre/gists{/gist_id}", "starred_url": "https://api.github.com/users/pwmcintyre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pwmcintyre/subscriptions", "organizations_url": "https://api.github.com/users/pwmcintyre/orgs", "repos_url": "https://api.github.com/users/pwmcintyre/repos", "events_url": "https://api.github.com/users/pwmcintyre/events{/privacy}", "received_events_url": "https://api.github.com/users/pwmcintyre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aBurmeseDev", "id": 47447266, "node_id": "MDQ6VXNlcjQ3NDQ3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/47447266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aBurmeseDev", "html_url": "https://github.com/aBurmeseDev", "followers_url": "https://api.github.com/users/aBurmeseDev/followers", "following_url": "https://api.github.com/users/aBurmeseDev/following{/other_user}", "gists_url": "https://api.github.com/users/aBurmeseDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/aBurmeseDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aBurmeseDev/subscriptions", "organizations_url": "https://api.github.com/users/aBurmeseDev/orgs", "repos_url": "https://api.github.com/users/aBurmeseDev/repos", "events_url": "https://api.github.com/users/aBurmeseDev/events{/privacy}", "received_events_url": "https://api.github.com/users/aBurmeseDev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-09-06T06:13:28Z", "updated_at": "2022-09-06T22:39:42Z", "closed_at": "2022-09-06T22:39:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\ni have found that with a profile using `credential_process`, when it expires, it process is not re-executed, and so i'm left with a `ExpiredToken` error\n\n### Expected Behavior\n\nwhen a token is expired, a new one is requested\n\n### Current Behavior\n\nwhen a token is expired, it continues to be used, results in `ExpiredToken` error\n\n### Reproduction Steps\n\n~/.aws/config\r\n```\r\n[profile foo]\r\ncredential_process = <redacted>\r\n```\r\n\r\n```shell\r\n\u276f aws --profile=foo whoami\r\n{\r\n    \"UserId\": \"<redacted>\",\r\n    \"Account\": \"<redacted>\",\r\n    \"Arn\": \"<redacted>\"\r\n}\r\n```\r\n\r\n~/.aws/credentials\r\n```\r\n[foo]\r\n<redacted>\r\nx_security_token_expires = 2022-09-06T17:09:28+10:00\r\n```\r\n\r\n```shell\r\n$ aws --profile=foo whoami\r\n\r\nAn error occurred (ExpiredToken) when calling the GetCallerIdentity operation: The security token included in the request is expired\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.17 Python/3.10.6 Linux/5.10.16.3-microsoft-standard-WSL2 source/x86_64.ubuntu.20 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nWindows 11; WSL2", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7240", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7240/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7240/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7240/events", "html_url": "https://github.com/aws/aws-cli/issues/7240", "id": 1358988506, "node_id": "I_kwDOAGd3X85RAITa", "number": 7240, "title": "s3control create-job requires manifest even if manifest-generator is passed", "user": {"login": "alexandervandekleutab", "id": 85703747, "node_id": "MDQ6VXNlcjg1NzAzNzQ3", "avatar_url": "https://avatars.githubusercontent.com/u/85703747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexandervandekleutab", "html_url": "https://github.com/alexandervandekleutab", "followers_url": "https://api.github.com/users/alexandervandekleutab/followers", "following_url": "https://api.github.com/users/alexandervandekleutab/following{/other_user}", "gists_url": "https://api.github.com/users/alexandervandekleutab/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexandervandekleutab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexandervandekleutab/subscriptions", "organizations_url": "https://api.github.com/users/alexandervandekleutab/orgs", "repos_url": "https://api.github.com/users/alexandervandekleutab/repos", "events_url": "https://api.github.com/users/alexandervandekleutab/events{/privacy}", "received_events_url": "https://api.github.com/users/alexandervandekleutab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4488588143, "node_id": "LA_kwDOAGd3X88AAAABC4prbw", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3control", "name": "s3control", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-09-01T14:58:59Z", "updated_at": "2022-10-14T22:50:22Z", "closed_at": "2022-10-14T22:50:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nAttempting to create a replication job using the `--manifest-generator` flag without the `--manifest` flag fails, stating that `--manifest` is required.\r\n\r\nFrom the [documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3control/create-job.html):\r\n\r\n> The attribute container for the ManifestGenerator details. Jobs must be created with either a manifest file or a ManifestGenerator, but not both.\n\n### Expected Behavior\n\nI would expect this command to work:\r\n\r\n```sh\r\n# pseudo-code showing JSON parameters\r\nMANIFEST_GENERATOR={\"S3JobManifestGenerator\":{\"SourceBucket\":\"string\",\"ManifestOutputLocation\":{\"Bucket\":\"arn:aws:s3:::alex-monorepo-documentap-manifests3bucket6fae49d5-1cqx21soyyjsc\",\"ManifestFormat\":\"S3InventoryReport_CSV_20211130\"},\"EnableManifestOutput\":true}}\r\n\r\nREPORT={\"Bucket\":\"arn:aws:s3:::alex-monorepo-documentap-manifests3bucket6fae49d5-1cqx21soyyjsc\",\"Format\":\"Report_CSV_20180820\",\"Enabled\":false,\"ReportScope\":\"AllTasks\"}\r\n\r\naws s3control create-job \\\r\n  --account-id $ACCOUNT_ID \\\r\n  --no-confirmation-required \\\r\n  --operation '{\"S3ReplicateObject\": {}}' \\\r\n  --manifest-generator $MANIFEST_GENERATOR \\\r\n  --report $REPORT \\\r\n  --priority 0 \\\r\n  --role-arn $REPLICATION_ROLE_ARN \\\r\n```\n\n### Current Behavior\n\nThe output of running the above command is \r\n```sh\r\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\n\r\naws: error: the following arguments are required: --manifest\r\n```\n\n### Reproduction Steps\n\nSee above\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.2.11 Python/3.8.8 Darwin/21.6.0 exe/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nMacOS Monterey 12.5", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7237", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7237/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7237/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7237/events", "html_url": "https://github.com/aws/aws-cli/issues/7237", "id": 1357614795, "node_id": "I_kwDOAGd3X85Q647L", "number": 7237, "title": "`aws batch list-jobs`: inconsistent JSON object returned; `NextToken`", "user": {"login": "dereckdemezquita", "id": 44912288, "node_id": "MDQ6VXNlcjQ0OTEyMjg4", "avatar_url": "https://avatars.githubusercontent.com/u/44912288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dereckdemezquita", "html_url": "https://github.com/dereckdemezquita", "followers_url": "https://api.github.com/users/dereckdemezquita/followers", "following_url": "https://api.github.com/users/dereckdemezquita/following{/other_user}", "gists_url": "https://api.github.com/users/dereckdemezquita/gists{/gist_id}", "starred_url": "https://api.github.com/users/dereckdemezquita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dereckdemezquita/subscriptions", "organizations_url": "https://api.github.com/users/dereckdemezquita/orgs", "repos_url": "https://api.github.com/users/dereckdemezquita/repos", "events_url": "https://api.github.com/users/dereckdemezquita/events{/privacy}", "received_events_url": "https://api.github.com/users/dereckdemezquita/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1180550227, "node_id": "MDU6TGFiZWwxMTgwNTUwMjI3", "url": "https://api.github.com/repos/aws/aws-cli/labels/paginator", "name": "paginator", "color": "c7ddfc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-08-31T16:58:01Z", "updated_at": "2022-10-14T22:49:28Z", "closed_at": "2022-10-14T22:49:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nThere is a naming inconsistency in the `JSON` objects returned for `aws batch list-jobs`, specifically the `nextToken` is named with lower case and then in capital case in some instances with different flag combinations passed.\r\n\r\n\r\n\r\n### Expected Behavior\r\n\r\nI expect for `AWS Batch list-jobs` to return the same structured (same names on keys) every time no matter the combination of flags passed.\r\n\r\nEither `NextToken` or `nextToken`, but it needs to be consistent.\r\n\r\n\r\n### Current Behavior\r\n\r\nWhen I use this command I get this back:\r\n\r\n```bash\r\naws batch list-jobs --job-queue $QUEUE --job-status $JOB_STATUS --no-paginate\r\n```\r\n\r\n```\r\n...\r\n        {\r\n            \"jobArn\": \"arn:aws:batch:us-east-1::job/791ce716-4563\",\r\n            \"jobId\": \"3cc4-4563-8b0a\",\r\n            \"jobName\": \"dereck-fasterq-dump-20220830-202208\",\r\n            \"createdAt\": 1661890929465,\r\n            \"status\": \"RUNNABLE\"\r\n        }\r\n    ],\r\n    \"nextToken\": \"Ka9qeIy8WcVDfTPlUp/wxF1NCNUSr5ZSczSoaXNzxe9IQ5MC3RnhYlIfmpofNyZZ/hJDnDd8jUGtGV1uILxTQzYCyT6ONeaL9XK1Kv9eS9POM4d1qCw9cZSdASocllknghuVP9uU7Mr/L+cAsfKallUT+J97UfmM/cyxtLrnsBLd8yQqAUzXQEe+dguaSDIYFUHNNhk1DNIoCj2lymSWMwWGGHg4MZu1H3qdhgKh+fTgKcIKi2drxeHinMm3KEfoVrwFuG8Efk7K/NPOjZA55DqSuGPBjRkFoebOTX/sLbYgV9s9sQDLxTOg4NO6tvFhfFKrKBVHtFAnp0Y6z1rP9ZyNTEKvwKuxNAkhMrH5ttiWCSRlH5CWqRxCe9rD0eMNWcnHgt7Rx/sgDX2O8NJaypJofwmkP0t4irVNnbqcuwxYXasTqhSwFeKrVplu4ndYBApKg0Npltqd0RvEKBhOA4+rsLwy1EoHubeHA0hS9J4lpXfld1TBwBk3/+aicPDL1/0xNQrlQ+AiMtZV/ppyHuG9k7yXknNGH25lV1O9Q0PBOj24igYagHDeGyTGdhIadUbMsvIpP4Y0t8P8zzjuaeoWL9ccwDfyALdgYsJQ17KtzKr7XFuw/5nBDbOas/z+XfIcNhUI3bIC3AlxQAMziWdduGXKo1E9yUL7k7M6Z1f11F9uTDi5DyaIOxuloWFWoECgGnchLeVqovbKg8KYXbtuOlYOCEWl0o/f9sViMl2jXanTsB3IjJWovipl1XCcIDCn1O+Z3FaYcqn4FfZ//884ZXo2iNzzWQoJ331Bk/TgKcIKi2drxeHinMm3KEfoVrwFuG8Efk7K/NPOjZA55DqSuGPBjRkFoebOTX/sLbYgV9s9sQDLxTOg4NO6tvFhfFKrKBVHtFAnp0Y6z1rP9ZyNTEKvwKuxNAkhMrH5ttgSxxq0NM4Jp1P5yj3auhwPJZ3mIiRq8sTrSBBh3yk/ww6zmOAs+szybBznPtDbA7nqOeDgbJ9r8jk+y/rEwk/kDeiVXxtG+zeNlEk+paKuKA3olV8bRvs3jZRJPqWirigN6JVfG0b7N42UST6loq4oDeiVXxtG+zeNlEk+paKuKMgOALdOc9LEeK2HFgjC0c0=\"\r\n}\r\n```\r\n\r\nBut when I do this I get this result back:\r\n\r\n```bash\r\naws batch list-jobs --job-queue $QUEUE --job-status $JOB_STATUS --max-items 10\r\n```\r\n\r\n```\r\n...\r\n        },\r\n        {\r\n            \"jobArn\": \"arn:aws:batch:us-east-1::job/374a1d2f-5d01-b034\",\r\n            \"jobId\": \"374a1d2f-46f3-b034\",\r\n            \"jobName\": \"dereck-fasterq-dump-20220830-195637\",\r\n            \"createdAt\": 1661889398756,\r\n            \"status\": \"RUNNABLE\"\r\n        }\r\n    ],\r\n    \"NextToken\": \"eyJuZXh0VG9rZW4iOiBudWxsLCAiYm90b190cnVuY2F0ZV9hbW91bnQiOiAxMH0=\"\r\n}\r\n```\r\n\r\nMy goal is to chain with `jq` to extract information and the next page token: \r\n\r\n```bash\r\naws batch list-jobs --job-queue $QUEUE --job-status $JOB_STATUS --max-items 1000 | jq -r '.NextToken'\r\n```\r\n\r\nThe key is named inconsistently which prevents me from doing that when using the flag `--no-paginate`. When the `--no-paginate` flag is passed the key is `nextToken` and when the `--max-items` flag (or anything else) is passed then the key is named `NextToken`.\r\n\r\n### Reproduction Steps\r\n\r\nSet up a job queue and submit some batch jobs. Then run the above commands.\r\n\r\n### Possible Solution\r\n\r\nCapitalise all `NextToken` for consistency.\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.7.25 Python/3.9.11 Linux/5.4.0-1081-aws exe/x86_64.ubuntu.18 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nUbuntu Server 18.04 LTS (HVM)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7231", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7231/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7231/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7231/events", "html_url": "https://github.com/aws/aws-cli/issues/7231", "id": 1355307041, "node_id": "I_kwDOAGd3X85QyFgh", "number": 7231, "title": "CodeBuild push to ECR doesn't works", "user": {"login": "AMB-Informacio", "id": 83698463, "node_id": "MDQ6VXNlcjgzNjk4NDYz", "avatar_url": "https://avatars.githubusercontent.com/u/83698463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AMB-Informacio", "html_url": "https://github.com/AMB-Informacio", "followers_url": "https://api.github.com/users/AMB-Informacio/followers", "following_url": "https://api.github.com/users/AMB-Informacio/following{/other_user}", "gists_url": "https://api.github.com/users/AMB-Informacio/gists{/gist_id}", "starred_url": "https://api.github.com/users/AMB-Informacio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AMB-Informacio/subscriptions", "organizations_url": "https://api.github.com/users/AMB-Informacio/orgs", "repos_url": "https://api.github.com/users/AMB-Informacio/repos", "events_url": "https://api.github.com/users/AMB-Informacio/events{/privacy}", "received_events_url": "https://api.github.com/users/AMB-Informacio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2221264568, "node_id": "MDU6TGFiZWwyMjIxMjY0NTY4", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecr", "name": "ecr", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-08-30T07:35:25Z", "updated_at": "2022-09-01T14:55:31Z", "closed_at": "2022-09-01T14:55:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nIt's the same behaviour as the described in:\r\n\r\n[https://github.com/aws/aws-cli/issues/7102]\r\n\r\nA buildspec.yml file describes to build a docker image and to push it to ECR but the Docker push don't work, retrying to do that and finally fails.\r\n\r\nThere was answered as a problem with the artifacts and the image-definitions.json file. But that's happening because the previous step \"docker push\" fails unexpectedly, and that is the real problem.\r\n\r\n\r\n\r\n\n\n### Expected Behavior\n\nDocker image pushed to ECR\n\n### Current Behavior\n\nFor any reason docker push is retrying and then an EOF appears.\r\n\r\n```\r\n[Container] 2022/08/30 06:32:01 Running command docker push $REPOSITORY_URI:latest\r\n--\r\n723 | The push refers to repository [XXXXXXXXXX.dkr.ecr.eu-west-1.amazonaws.com/gitoccupacy-backend-service]\r\n724 | 6a37c076ad0a: Preparing\r\n725 | 838351f683ff: Preparing\r\n726 | f00576e66739: Preparing\r\n727 | 845237c43dbf: Preparing\r\n[...]\r\n1069 | 845237c43dbf: Retrying in 1 second\r\n1070 | 94a688c21a1d: Retrying in 1 second\r\n1071 | EOF\r\n1072 | \u00a0\r\n1073 | [Container] 2022/08/30 06:32:51 Command did not exit successfully docker push $REPOSITORY_URI:latest exit status 1\r\n1074 | [Container] 2022/08/30 06:32:51 Phase complete: POST_BUILD State: FAILED\r\n\r\n```\n\n### Reproduction Steps\n\nCommit or retry to build project with this buildspec.yml file:\r\n\r\n```\r\n\r\nversion: 0.2\r\n\r\nenv:\r\n  secrets-manager:\r\n    DOCKERHUB_LOGIN: \"dockerhub:login\"\r\n    DOCKERHUB_PASSWORD: \"dockerhub:password\"\r\n\r\nbatch:\r\n  fast-fail: false\r\n\r\nphases:\r\n  pre_build:\r\n    commands:\r\n      - echo Logging in to Amazon ECR...\r\n      - aws --version\r\n      - REPOSITORY_DOMAIN_NAME=$(echo $AWS_ACCOUNT_ID'.dkr.ecr.'$AWS_DEFAULT_REGION'.amazonaws.com')\r\n      - aws ecr get-login-password --region $AWS_DEFAULT_REGION | docker login --username AWS --password-stdin $REPOSITORY_DOMAIN_NAME\r\n      - REPOSITORY_URI=$(echo $REPOSITORY_DOMAIN_NAME'/'$IMAGE_REPO_NAME)\r\n      - COMMIT_HASH=$(echo $CODEBUILD_RESOLVED_SOURCE_VERSION | cut -c 1-7)\r\n      - IMAGE_TAG=${COMMIT_HASH:=latest}\r\n      - echo Logging in to DockerHub\r\n      - docker login --username $DOCKERHUB_LOGIN --password $DOCKERHUB_PASSWORD\r\n  build:\r\n    commands:\r\n      - echo Build started on `date`\r\n      - echo Building the Docker image...\r\n      - docker build --target release --file './backend-service/Dockerfile' -t $REPOSITORY_URI:latest .\r\n      - docker tag $REPOSITORY_URI:latest $REPOSITORY_URI:$IMAGE_TAG\r\n  post_build:\r\n    commands:\r\n      - echo Build completed on `date`\r\n      - echo Pushing the Docker images...\r\n      - docker push $REPOSITORY_URI:latest\r\n      - docker push $REPOSITORY_URI:$IMAGE_TAG\r\n      - echo Writing image definitions file...\r\n      - printf '[{\"name\":\"backend\",\"imageUri\":\"%s\"}]' $REPOSITORY_URI:$IMAGE_TAG > imagedefinitions.json\r\nartifacts:\r\n    files: imagedefinitions.json\r\n\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\ncode build version: 0.2\n\n### Environment details (OS name and version, etc.)\n\ncode build version: 0.2", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7226", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7226/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7226/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7226/events", "html_url": "https://github.com/aws/aws-cli/issues/7226", "id": 1353420892, "node_id": "I_kwDOAGd3X85Qq5Bc", "number": 7226, "title": "CloudFormation validate-template does not recognize AWS::CloudFront::OriginAccessControl", "user": {"login": "Kruspe", "id": 25525981, "node_id": "MDQ6VXNlcjI1NTI1OTgx", "avatar_url": "https://avatars.githubusercontent.com/u/25525981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kruspe", "html_url": "https://github.com/Kruspe", "followers_url": "https://api.github.com/users/Kruspe/followers", "following_url": "https://api.github.com/users/Kruspe/following{/other_user}", "gists_url": "https://api.github.com/users/Kruspe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kruspe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kruspe/subscriptions", "organizations_url": "https://api.github.com/users/Kruspe/orgs", "repos_url": "https://api.github.com/users/Kruspe/repos", "events_url": "https://api.github.com/users/Kruspe/events{/privacy}", "received_events_url": "https://api.github.com/users/Kruspe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-08-28T17:34:28Z", "updated_at": "2022-08-28T17:36:44Z", "closed_at": "2022-08-28T17:36:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nA template containing `AWS::CloudFront::OriginAccessControl` with the newest release should be valid but returns `Template format error: Unrecognized resource types: [AWS::CloudFront::OriginAccessControl]`\n\n### Expected Behavior\n\nSince the newest release mentions adding OriginAccessControl I would expect the template to be valid\n\n### Current Behavior\n\nVerification returns `Template format error: Unrecognized resource types: [AWS::CloudFront::OriginAccessControl]`\n\n### Reproduction Steps\n\nCreate a simple CloudFormation template with `AWS::CloudFront::OriginAccessControl` resource and run `aws cloudformation validate-template --template-body file://cloudformation.yml`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.27\n\n### Environment details (OS name and version, etc.)\n\nMacoS 12.5.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7226/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7225", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7225/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7225/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7225/events", "html_url": "https://github.com/aws/aws-cli/issues/7225", "id": 1353192841, "node_id": "I_kwDOAGd3X85QqBWJ", "number": 7225, "title": "inconsistent filters describe-instance-status and describe-instances", "user": {"login": "aceeric", "id": 24485843, "node_id": "MDQ6VXNlcjI0NDg1ODQz", "avatar_url": "https://avatars.githubusercontent.com/u/24485843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aceeric", "html_url": "https://github.com/aceeric", "followers_url": "https://api.github.com/users/aceeric/followers", "following_url": "https://api.github.com/users/aceeric/following{/other_user}", "gists_url": "https://api.github.com/users/aceeric/gists{/gist_id}", "starred_url": "https://api.github.com/users/aceeric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aceeric/subscriptions", "organizations_url": "https://api.github.com/users/aceeric/orgs", "repos_url": "https://api.github.com/users/aceeric/repos", "events_url": "https://api.github.com/users/aceeric/events{/privacy}", "received_events_url": "https://api.github.com/users/aceeric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-08-27T22:52:06Z", "updated_at": "2022-08-27T22:53:51Z", "closed_at": "2022-08-27T22:53:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nThe filters documentation for `aws ec2 describe-instances` and `aws ec2 describe-instance-status` appear to support the same syntax but the commands behave differently.\n\n### Expected Behavior\n\n`aws ec2 describe-instances` and `aws ec2 describe-instance-status` accept the same filter syntax\n\n### Current Behavior\n\n`aws ec2 describe-instances` and `aws ec2 describe-instance-status` no not accept the same filter syntax\n\n### Reproduction Steps\n\nThis works:\r\n```\r\naws ec2 describe-instances --filters \"Name=tag:Name,Values=xyz*\" --output text\r\n```\r\nThis does not:\r\n```\r\naws ec2 describe-instance-status --filters \"Name=tag:Name,Values=d2iq*\" --output text\r\n```\r\nResults in error:\r\n```\r\nAn error occurred (InvalidParameterValue) when calling the DescribeInstanceStatus operation: The filter 'tag:Name' is invalid\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.27 Python/3.9.11 Linux/5.18.10-76051810-generic exe/x86_64.ubuntu.20 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nUbuntu 20.04.5 LTS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7199", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7199/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7199/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7199/events", "html_url": "https://github.com/aws/aws-cli/issues/7199", "id": 1342309690, "node_id": "I_kwDOAGd3X85QAgU6", "number": 7199, "title": "Cannot configure new profiles using aws configure --profile option in v1.25.54", "user": {"login": "kbehlers", "id": 43154039, "node_id": "MDQ6VXNlcjQzMTU0MDM5", "avatar_url": "https://avatars.githubusercontent.com/u/43154039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kbehlers", "html_url": "https://github.com/kbehlers", "followers_url": "https://api.github.com/users/kbehlers/followers", "following_url": "https://api.github.com/users/kbehlers/following{/other_user}", "gists_url": "https://api.github.com/users/kbehlers/gists{/gist_id}", "starred_url": "https://api.github.com/users/kbehlers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kbehlers/subscriptions", "organizations_url": "https://api.github.com/users/kbehlers/orgs", "repos_url": "https://api.github.com/users/kbehlers/repos", "events_url": "https://api.github.com/users/kbehlers/events{/privacy}", "received_events_url": "https://api.github.com/users/kbehlers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-08-17T21:29:00Z", "updated_at": "2022-08-18T15:01:38Z", "closed_at": "2022-08-17T22:45:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nIn v1.25.54\r\n```\r\naws configure --profile a_new_profile\r\n```\r\nnow fails with\r\n```\r\nThe config profile (a_new_profile) could not be found\r\n```\r\nunless the profile already exists in ~/.aws/credentials.\r\n\r\n\n\n### Expected Behavior\n\nThe expected behavior is in v1.25.53 where\r\n```\r\naws configure --profile a_new_profile\r\n```\r\nstarts the interactive creation prompts.\n\n### Current Behavior\n\nIn v1.25.54\r\n```\r\naws configure --profile a_new_profile\r\n```\r\nnow fails with\r\n```\r\nThe config profile (a_new_profile) could not be found\r\n```\r\nunless the profile already exists in ~/.aws/credentials.\n\n### Reproduction Steps\n\n1. pip install awscli==1.25.54 in a new virtual environment\r\n2. try to create a new profile (one that doesn't already exist in ~/.aws/credentials)\r\n\r\n```\r\naws configure --profile a_new_profile\r\n```\n\n### Possible Solution\n\nBased on the diff https://github.com/aws/aws-cli/compare/1.25.53...1.25.54\r\n\r\nThe changes to the command parsing in https://github.com/aws/aws-cli/pull/7114 seem like the most likely source of the problem.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n1.25.54\n\n### Environment details (OS name and version, etc.)\n\nmacOS Monterey 12.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7199/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7178", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7178/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7178/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7178/events", "html_url": "https://github.com/aws/aws-cli/issues/7178", "id": 1332076716, "node_id": "I_kwDOAGd3X85PZeCs", "number": 7178, "title": "[ERROR] An error occurred (InvalidIPAddress.InUse) when calling the RunInstances operation: Address XXX.XXX.XXX.XXX is in use", "user": {"login": "juanhurtado00", "id": 110835373, "node_id": "U_kgDOBps2rQ", "avatar_url": "https://avatars.githubusercontent.com/u/110835373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juanhurtado00", "html_url": "https://github.com/juanhurtado00", "followers_url": "https://api.github.com/users/juanhurtado00/followers", "following_url": "https://api.github.com/users/juanhurtado00/following{/other_user}", "gists_url": "https://api.github.com/users/juanhurtado00/gists{/gist_id}", "starred_url": "https://api.github.com/users/juanhurtado00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juanhurtado00/subscriptions", "organizations_url": "https://api.github.com/users/juanhurtado00/orgs", "repos_url": "https://api.github.com/users/juanhurtado00/repos", "events_url": "https://api.github.com/users/juanhurtado00/events{/privacy}", "received_events_url": "https://api.github.com/users/juanhurtado00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-08-08T15:58:48Z", "updated_at": "2022-08-08T21:15:42Z", "closed_at": "2022-08-08T21:15:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nI HAVE AN AUTOMATION THROUGH LAMBDAS FOR THE CREATION OF EC2, IT IS GENERATING ME THE FOLLOWING ERROR:\r\n\r\n[ERROR] An error occurred (InvalidIPAddress.InUse) when calling the RunInstances operation: Address 10.xxx.xxx.xxx is in use.\r\n\r\n### Expected Behavior\r\n\r\n![NORMAL+FUNCTIONING](https://user-images.githubusercontent.com/110835373/183461259-e3167941-c0c2-4bd6-b12a-df858d7fe17f.png)\r\n\r\n\r\n### Current Behavior\r\n\r\n![ERROR](https://user-images.githubusercontent.com/110835373/183461309-3d47e997-dd10-4df3-a253-94a9b2be11e5.png)\r\n\r\n\r\n### Reproduction Steps\r\n\r\nTHE CODE IS THE FOLLOWING IN PYTON 3.9:\r\n\r\n`\r\nimport os\r\nimport boto3\r\nfrom dateutil import tz\r\nimport datetime\r\nfrom botocore.exceptions import ClientError\r\n\r\nKEY = 'REGION'\r\nENV = 'ENV'\r\nAWS_ENV = os.getenv(ENV)\r\nAWS_REGION = os.getenv(KEY)\r\nAWS_SESSION = boto3.Session(region_name=AWS_REGION)\r\n\r\nfrom_zone = tz.gettz('UTC')\r\nto_zone = tz.gettz('America/Bogota')\r\nnow = datetime.datetime.now()\r\nnow = now.replace(tzinfo=from_zone)\r\n\r\ndateFormat = now.astimezone(to_zone).strftime(\"%X\")\r\ndate = now.astimezone(to_zone).strftime(\"%Y%m%d\")\r\nec2_resource = AWS_SESSION.resource('ec2')\r\nec2_client = AWS_SESSION.client('ec2')\r\nvpc_resource = ec2_resource.Vpc('Id')\r\n\r\ndef get_ami():\r\n\r\nid = []\r\n\r\ntry:\r\n    images = ec2_resource.images.filter(\r\n        Filters=[\r\n            {\r\n                'Name': 'tag:Env',\r\n                'Values': [AWS_ENV]\r\n            }\r\n        ]\r\n    )\r\n\r\n    for i in images:\r\n        id.append(i)\r\n\r\n    return id\r\n\r\nexcept:\r\n    return None\r\ndef get_resources():\r\n\r\nreturn {\r\n        'IP-SERVER-NAME-DEV': '10.XXX.XXX.XXX',\r\n        'TYPE-SERVER-NAME-DEV': 't3a.medium',\r\n        'IP-SERVER-NAME-DEV': '10.XXX.XXX.XXX',\r\n        'TYPE-SERVER-NAME-DEV': 't3a.medium',\r\n        'IP-SERVER-NAME-DEV': '10.XXX.XXX.XXX',\r\n        'TYPE-SERVER-NAME-DEV': 't3a.medium',\r\n        }\r\n\r\ndef create_ec2(id_ami,instance_type,sg_id,subnet_id,private_ip,ec2_name):\r\n\r\ntry:\r\n    ec2_resource.create_instances(\r\n        BlockDeviceMappings=[\r\n            {\r\n                'DeviceName': '/dev/sda1',\r\n                'Ebs': {\r\n                    'DeleteOnTermination': True,\r\n                    'VolumeType': 'gp3'\r\n                },\r\n            },\r\n        ],\r\n        ImageId=id_ami.id,\r\n        InstanceType=instance_type,\r\n        MaxCount=1,\r\n        MinCount=1,\r\n        Monitoring={\r\n            'Enabled': False\r\n        },\r\n        SecurityGroupIds=[sg_id],\r\n        SubnetId=subnet_id,\r\n        PrivateIpAddress=private_ip,\r\n        TagSpecifications=[\r\n            {\r\n                'ResourceType': 'instance',\r\n                'Tags': [\r\n                    {\r\n                        'Key': 'Name',\r\n                        'Value': 'EC2-'+ec2_name\r\n                    },\r\n                    {\r\n                        'Key': 'Env',\r\n                        'Value': AWS_ENV\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                'ResourceType': 'volume',\r\n                'Tags': [\r\n                    {\r\n                        'Key': 'Name',\r\n                        'Value': 'EBS-'+ec2_name\r\n                    },\r\n                    {\r\n                        'Key': 'Env',\r\n                        'Value': AWS_ENV\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                'ResourceType': 'network-interface',\r\n                'Tags': [\r\n                    {\r\n                        'Key': 'Name',\r\n                        'Value': 'ENI-'+ec2_name\r\n                    },\r\n                    {\r\n                        'Key': 'Env',\r\n                        'Value': AWS_ENV\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    )\r\n\r\n    return True\r\n\r\nexcept ClientError as e:\r\n    mensaje = dateFormat+' [ERROR] '+str(e)\r\n    print(mensaje)`\r\n\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\nTHE LAMBDA FUNCTION WAS WORKING WELL 2 WEEKS AGO, BUT SINCE THEN IT IS GENERATING THE ERROR WHEN IT IS RUN, IT CREATES THE EC2 WITH ALL THE ATTRIBUTES, BUT IT SEND ERROR.\r\n\r\nPLEASE YOUR HELP VALIDATING IF THE CODE IS WRONG OR YOU HAVE TO GENERATE A CHANGE\r\n\r\n### CLI version used\r\n\r\n2.0.30\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nLAMBDA - PYTON 3.9", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7172", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7172/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7172/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7172/events", "html_url": "https://github.com/aws/aws-cli/issues/7172", "id": 1329428667, "node_id": "I_kwDOAGd3X85PPXi7", "number": 7172, "title": "prints additional None with --output text, --query and --max-items", "user": {"login": "gonrial", "id": 475469, "node_id": "MDQ6VXNlcjQ3NTQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/475469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gonrial", "html_url": "https://github.com/gonrial", "followers_url": "https://api.github.com/users/gonrial/followers", "following_url": "https://api.github.com/users/gonrial/following{/other_user}", "gists_url": "https://api.github.com/users/gonrial/gists{/gist_id}", "starred_url": "https://api.github.com/users/gonrial/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gonrial/subscriptions", "organizations_url": "https://api.github.com/users/gonrial/orgs", "repos_url": "https://api.github.com/users/gonrial/repos", "events_url": "https://api.github.com/users/gonrial/events{/privacy}", "received_events_url": "https://api.github.com/users/gonrial/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-08-05T04:23:10Z", "updated_at": "2022-09-15T18:39:12Z", "closed_at": "2022-09-15T18:38:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nRunning a command with `--max-items`, `--output text` and `--query` produce an additional line with the string `None`. Any other combination does not show that string.\r\n\r\nAlso appeared as #5654\n\n### Expected Behavior\n\n```\r\narn:aws:ecs:<region>:<account>:task/<cluster>/<taskId>\r\n```\n\n### Current Behavior\n\n```\r\narn:aws:ecs:<region>:<account>:task/<cluster>/<taskId>\r\nNone <-----This is the extra string\r\n```\n\n### Reproduction Steps\n\n```\r\naws ecs list-tasks --cluster <cluster> --query 'taskArns' --output text --max-items 1\r\n```\r\nWhere max-items should be n-1 elements from the existing tasks.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.21\n\n### Environment details (OS name and version, etc.)\n\nPython/3.9.11 Linux/5.15.0-43-generic exe/x86_64.ubuntu.22 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7164", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7164/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7164/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7164/events", "html_url": "https://github.com/aws/aws-cli/issues/7164", "id": 1327955022, "node_id": "I_kwDOAGd3X85PJvxO", "number": 7164, "title": "aws kinesisvideo update-image-generation-configuration --cli-input-json file://./update-image-generation-input.json  invalid", "user": {"login": "xiaoyaodingchunqiu", "id": 92872460, "node_id": "U_kgDOBYkfDA", "avatar_url": "https://avatars.githubusercontent.com/u/92872460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoyaodingchunqiu", "html_url": "https://github.com/xiaoyaodingchunqiu", "followers_url": "https://api.github.com/users/xiaoyaodingchunqiu/followers", "following_url": "https://api.github.com/users/xiaoyaodingchunqiu/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoyaodingchunqiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoyaodingchunqiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoyaodingchunqiu/subscriptions", "organizations_url": "https://api.github.com/users/xiaoyaodingchunqiu/orgs", "repos_url": "https://api.github.com/users/xiaoyaodingchunqiu/repos", "events_url": "https://api.github.com/users/xiaoyaodingchunqiu/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoyaodingchunqiu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4395101933, "node_id": "LA_kwDOAGd3X88AAAABBffu7Q", "url": "https://api.github.com/repos/aws/aws-cli/labels/kinesisvideo", "name": "kinesisvideo", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-08-04T01:32:41Z", "updated_at": "2022-10-14T22:48:19Z", "closed_at": "2022-10-14T22:47:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ aws kinesisvideo update-image-generation-configuration --cli-input-json file://./update-image-generation-input.json --debug\r\n2022-08-04 09:19:53,707 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.7.20 Python/3.9.11 Linux/5.15.0-25-generic exe/x86_64.ubuntu.22\r\n2022-08-04 09:19:53,708 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['kinesisvideo', 'update-image-generation-configuration', '--cli-input-json', 'file://./update-image-generation-input.json', '--debug']\r\n2022-08-04 09:19:53,716 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x7f002c0e55e0>\r\n2022-08-04 09:19:53,716 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x7f002c4fe0d0>\r\n2022-08-04 09:19:53,716 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-08-04 09:19:53,716 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7f002c522670>\r\n2022-08-04 09:19:53,716 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7f002c5284c0>\r\n2022-08-04 09:19:53,716 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x7f002c0f1f70>\r\n2022-08-04 09:19:53,717 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x7f002c448c10>\r\n2022-08-04 09:19:53,717 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-08-04 09:19:53,717 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x7f002c0f11f0>\r\n2022-08-04 09:19:53,717 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.7.20/dist/awscli/data/cli.json\r\n2022-08-04 09:19:53,718 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x7f002c1b2ee0>\r\n2022-08-04 09:19:53,718 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x7f002c1b8a60>\r\n2022-08-04 09:19:53,718 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x7f002c1b89d0>\r\n2022-08-04 09:19:53,718 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x7f002c1b8b80>\r\n2022-08-04 09:19:53,718 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x7f002c1b8af0>\r\n2022-08-04 09:19:53,718 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x7f002bdd5280>\r\n2022-08-04 09:19:53,719 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.7.20 Python/3.9.11 Linux/5.15.0-25-generic exe/x86_64.ubuntu.22 prompt/off\r\n2022-08-04 09:19:53,719 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['kinesisvideo', 'update-image-generation-configuration', '--cli-input-json', 'file://./update-image-generation-input.json', '--debug']\r\n2022-08-04 09:19:53,719 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f002c0e5c10>\r\n2022-08-04 09:19:53,719 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f002c99d3a0>\r\n2022-08-04 09:19:53,719 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f002c0574c0>\r\n2022-08-04 09:19:53,719 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x7f002c995790>\r\n2022-08-04 09:19:53,719 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f002c9001f0>\r\n2022-08-04 09:19:53,720 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-08-04 09:19:53,721 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f002c448af0>\r\n2022-08-04 09:19:53,721 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f002c4fbee0>\r\n2022-08-04 09:19:53,728 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.7.20/dist/awscli/botocore/data/kinesisvideo/2017-09-30/service-2.json\r\n2022-08-04 09:19:53,731 - MainThread - botocore.hooks - DEBUG - Event building-command-table.kinesisvideo: calling handler <function add_waiters at 0x7f002c0f11f0>\r\n2022-08-04 09:19:53,739 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('stream-name', <awscli.arguments.CLIArgument object at 0x7f002bd3b580>), ('stream-arn', <awscli.arguments.CLIArgument object at 0x7f002bd3b5b0>), ('image-generation-configuration', <awscli.arguments.CLIArgument object at 0x7f002bd3b5e0>)])\r\n2022-08-04 09:19:53,739 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.kinesisvideo.update-image-generation-configuration: calling handler <function add_streaming_output_arg at 0x7f002c0e5ee0>\r\n2022-08-04 09:19:53,739 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.kinesisvideo.update-image-generation-configuration: calling handler <function add_cli_input_json at 0x7f002c9009d0>\r\n2022-08-04 09:19:53,739 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.kinesisvideo.update-image-generation-configuration: calling handler <function add_cli_input_yaml at 0x7f002c900c10>\r\n2022-08-04 09:19:53,739 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.kinesisvideo.update-image-generation-configuration: calling handler <function unify_paging_params at 0x7f002c4fe5e0>\r\n2022-08-04 09:19:53,747 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.7.20/dist/awscli/botocore/data/kinesisvideo/2017-09-30/paginators-1.json\r\n2022-08-04 09:19:53,747 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.kinesisvideo.update-image-generation-configuration: calling handler <function add_generate_skeleton at 0x7f002c1b24c0>\r\n2022-08-04 09:19:53,747 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.kinesisvideo.update-image-generation-configuration: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f002bd3b430>>\r\n2022-08-04 09:19:53,747 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.kinesisvideo.update-image-generation-configuration: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f002bd3b2e0>>\r\n2022-08-04 09:19:53,747 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.kinesisvideo.update-image-generation-configuration: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f002bd3b640>>\r\n2022-08-04 09:19:53,748 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.kinesisvideo.update-image-generation-configuration.stream-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f002bd9f2b0>\r\n2022-08-04 09:19:53,748 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.kinesisvideo.update-image-generation-configuration.stream-arn: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f002bd9f2b0>\r\n2022-08-04 09:19:53,748 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.kinesisvideo.update-image-generation-configuration.image-generation-configuration: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f002bd9f2b0>\r\n2022-08-04 09:19:53,748 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.kinesisvideo.update-image-generation-configuration.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f002bd9f2b0>\r\n2022-08-04 09:19:53,749 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.kinesisvideo.update-image-generation-configuration.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f002bd9f2b0>\r\n2022-08-04 09:19:53,749 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.kinesisvideo.update-image-generation-configuration.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f002bd9f2b0>\r\n2022-08-04 09:19:53,749 - MainThread - botocore.hooks - DEBUG - Event calling-command.kinesisvideo.update-image-generation-configuration: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f002bd3b430>>\r\n2022-08-04 09:19:53,749 - MainThread - botocore.hooks - DEBUG - Event calling-command.kinesisvideo.update-image-generation-configuration: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f002bd3b2e0>>\r\n2022-08-04 09:19:53,749 - MainThread - botocore.hooks - DEBUG - Event calling-command.kinesisvideo.update-image-generation-configuration: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f002bd3b640>>\r\n2022-08-04 09:19:53,749 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2022-08-04 09:19:53,749 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2022-08-04 09:19:53,749 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2022-08-04 09:19:53,749 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2022-08-04 09:19:53,749 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2022-08-04 09:19:53,750 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2022-08-04 09:19:53,750 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.7.20/dist/awscli/botocore/data/endpoints.json\r\n2022-08-04 09:19:53,760 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f002dd9d5e0>\r\n2022-08-04 09:19:53,761 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.kinesis-video: calling handler <function add_generate_presigned_url at 0x7f002e060dc0>\r\n2022-08-04 09:19:53,764 - MainThread - botocore.endpoint - DEBUG - Setting kinesisvideo timeout as (60, 60)\r\n2022-08-04 09:19:53,765 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.kinesis-video.UpdateImageGenerationConfiguration: calling handler <function base64_decode_input_blobs at 0x7f002c057c10>\r\n2022-08-04 09:19:53,765 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.kinesis-video.UpdateImageGenerationConfiguration: calling handler <function generate_idempotent_uuid at 0x7f002ddb75e0>\r\n2022-08-04 09:19:53,765 - MainThread - botocore.hooks - DEBUG - Event before-call.kinesis-video.UpdateImageGenerationConfiguration: calling handler <function inject_api_version_header_if_needed at 0x7f002ddbbe50>\r\n2022-08-04 09:19:53,765 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=UpdateImageGenerationConfiguration) with params: {'url_path': '/updateImageGenerationConfiguration', 'query_string': {}, 'method': 'POST', 'headers': {'Content-Type': 'application/json', 'User-Agent': 'aws-cli/2.7.20 Python/3.9.11 Linux/5.15.0-25-generic exe/x86_64.ubuntu.22 prompt/off command/kinesisvideo.update-image-generation-configuration'}, 'body': b'{\"StreamName\": \"0803forgetpic\", \"ImageGenerationConfiguration\": {\"Status\": \"ENABLED\", \"DestinationConfig\": {\"DestinationRegion\": \"us-east-1\", \"Uri\": \"s3://0803hygetpic\"}, \"SamplingInterval\": 3000, \"ImageSelectorType\": \"PRODUCER_TIMESTAMP\", \"Format\": \"JPEG\", \"FormatConfig\": {\"JPEGQuality\": \"80\"}, \"WidthPixels\": 640, \"HeightPixels\": 480}}', 'url': 'https://kinesisvideo.us-east-1.amazonaws.com/updateImageGenerationConfiguration', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f002b1aac10>, 'has_streaming_input': False, 'auth_type': None}}\r\n2022-08-04 09:19:53,765 - MainThread - botocore.hooks - DEBUG - Event request-created.kinesis-video.UpdateImageGenerationConfiguration: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f002b1aabe0>>\r\n2022-08-04 09:19:53,765 - MainThread - botocore.hooks - DEBUG - Event choose-signer.kinesis-video.UpdateImageGenerationConfiguration: calling handler <function set_operation_specific_signer at 0x7f002ddb74c0>\r\n2022-08-04 09:19:53,766 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2022-08-04 09:19:53,766 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/updateImageGenerationConfiguration\r\n\r\ncontent-type:application/json\r\nhost:kinesisvideo.us-east-1.amazonaws.com\r\nx-amz-date:20220804T011953Z\r\n\r\ncontent-type;host;x-amz-date\r\n785f072c1c384a8ac23422b5e56fb949df8fc8f9d56fb009e4151477ffb7002d\r\n2022-08-04 09:19:53,766 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20220804T011953Z\r\n20220804/us-east-1/kinesisvideo/aws4_request\r\n3b56a6968001715bee1f3fa8aa24bb8f52d898827fb9b5fa162d5781ea944530\r\n2022-08-04 09:19:53,766 - MainThread - botocore.auth - DEBUG - Signature:\r\ne4c686b3af91c7980db01775196956e0783248ba896fbc9481b52e99fe8358ec\r\n2022-08-04 09:19:53,766 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://kinesisvideo.us-east-1.amazonaws.com/updateImageGenerationConfiguration, headers={'Content-Type': b'application/json', 'User-Agent': b'aws-cli/2.7.20 Python/3.9.11 Linux/5.15.0-25-generic exe/x86_64.ubuntu.22 prompt/off command/kinesisvideo.update-image-generation-configuration', 'X-Amz-Date': b'20220804T011953Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAZD6AP7XJTBLZ6WQG/20220804/us-east-1/kinesisvideo/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=e4c686b3af91c7980db01775196956e0783248ba896fbc9481b52e99fe8358ec', 'Content-Length': '338'}>\r\n2022-08-04 09:19:53,766 - MainThread - botocore.httpsession - DEBUG - Certificate path: /usr/local/aws-cli/v2/2.7.20/dist/awscli/botocore/cacert.pem\r\n2022-08-04 09:19:53,766 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): kinesisvideo.us-east-1.amazonaws.com:443\r\n2022-08-04 09:19:54,728 - MainThread - urllib3.connectionpool - DEBUG - https://kinesisvideo.us-east-1.amazonaws.com:443 \"POST /updateImageGenerationConfiguration HTTP/1.1\" 200 2\r\n2022-08-04 09:19:54,728 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Thu, 04 Aug 2022 01:19:54 GMT', 'Content-Type': 'application/json', 'Content-Length': '2', 'Connection': 'keep-alive', 'x-amzn-RequestId': '0b67e707-71a5-4738-8b50-6bba39b5d928'}\r\n2022-08-04 09:19:54,728 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{}'\r\n2022-08-04 09:19:54,729 - MainThread - botocore.hooks - DEBUG - Event needs-retry.kinesis-video.UpdateImageGenerationConfiguration: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f002b9f05e0>>\r\n2022-08-04 09:19:54,729 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2022-08-04 09:19:54,729 - MainThread - botocore.hooks - DEBUG - Event after-call.kinesis-video.UpdateImageGenerationConfiguration: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f002b9f0070>>\r\n2022-08-04 09:19:54,730 - MainThread - awscli.formatter - DEBUG - RequestId: 0b67e707-71a5-4738-8b50-6bba39b5d928\r\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$\n\n### Expected Behavior\n\nThe sampled picture should be transferred to my s3, after video streaming\n\n### Current Behavior\n\nthere are no picture in my s3\n\n### Reproduction Steps\n\nhttps://docs.aws.amazon.com/zh_cn/kinesisvideostreams/latest/dg/gs-s3Delivery.html\r\naws kinesisvideo update-image-generation-configuration --cli-input-json file://./update-image-generation-input.json --debug\r\nsee the debug log\r\nafter video streaming, see whether there is picture in S3\r\n\n\n### Possible Solution\n\ni don't have ideas\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.20 Python/3.9.11 Linux/5.15.0-25-generic exe/x86_64.ubuntu.22 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nubuntu 22.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7159", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7159/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7159/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7159/events", "html_url": "https://github.com/aws/aws-cli/issues/7159", "id": 1326634882, "node_id": "I_kwDOAGd3X85PEteC", "number": 7159, "title": "(ResourceNotFoundException) when calling the UpdateImageGenerationConfiguration operation", "user": {"login": "xiaoyaodingchunqiu", "id": 92872460, "node_id": "U_kgDOBYkfDA", "avatar_url": "https://avatars.githubusercontent.com/u/92872460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaoyaodingchunqiu", "html_url": "https://github.com/xiaoyaodingchunqiu", "followers_url": "https://api.github.com/users/xiaoyaodingchunqiu/followers", "following_url": "https://api.github.com/users/xiaoyaodingchunqiu/following{/other_user}", "gists_url": "https://api.github.com/users/xiaoyaodingchunqiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaoyaodingchunqiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaoyaodingchunqiu/subscriptions", "organizations_url": "https://api.github.com/users/xiaoyaodingchunqiu/orgs", "repos_url": "https://api.github.com/users/xiaoyaodingchunqiu/repos", "events_url": "https://api.github.com/users/xiaoyaodingchunqiu/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaoyaodingchunqiu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4395101933, "node_id": "LA_kwDOAGd3X88AAAABBffu7Q", "url": "https://api.github.com/repos/aws/aws-cli/labels/kinesisvideo", "name": "kinesisvideo", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-08-03T03:38:29Z", "updated_at": "2022-08-05T01:38:25Z", "closed_at": "2022-08-05T01:38:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ aws kinesisvideo update-image-generation-configuration  --cli-input-\r\n--cli-input-json  --cli-input-yaml  \r\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ aws kinesisvideo update-image-generation-configuration  --cli-input-json help\r\n\r\nError parsing parameter 'cli-input-json': Invalid JSON received.\r\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ \n\n### Expected Behavior\n\naws kinesisvideo update-image-generation-configuration --cli-input-json ./update-image-generation-input.json\r\ni wish this command can work\n\n### Current Behavior\n\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ aws kinesisvideo update-image-generation-configuration --cli-input-json ./update-image-generation-input.json \r\n\r\nError parsing parameter 'cli-input-json': Invalid JSON received.\r\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ aws kinesisvideo update-image-generation-configuration  --cli-input-\r\n--cli-input-json  --cli-input-yaml  \r\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ aws kinesisvideo update-image-generation-configuration  --cli-input-json help\r\n\r\nError parsing parameter 'cli-input-json': Invalid JSON received.\r\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$ aws --version\r\naws-cli/2.7.20 Python/3.9.11 Linux/5.15.0-25-generic exe/x86_64.ubuntu.22 prompt/off\r\ngalen@galen-RedmiBook-Pro-14S:~/s3cmdtest$\n\n### Reproduction Steps\n\nthe json message:\r\n{\r\n \"StreamName\": \"ExampleStream\",\r\n \"ImageGenerationConfiguration\":\r\n {\r\n  \"Status\": \"ENABLED\",\r\n  \"DestinationConfig\":\r\n  {\r\n   \"DestinationRegion\": \"ap-southeast-1\",\r\n   \"Uri\": \"s3://0803picfromkvs\"\r\n  },  \r\n  \"SamplingInterval\": 3000,\r\n  \"ImageSelectorType\": \"PRODUCER_TIMESTAMP\",\r\n  \"Format\": \"JPEG\",\r\n  \"FormatConfig\": {\r\n                \"JPEGQuality\": \"80\"\r\n       },\r\n  \"WidthPixels\": 640,\r\n  \"HeightPixels\": 480 \r\n }\r\n} \n\n### Possible Solution\n\nfix the bug\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.20 Python/3.9.11 Linux/5.15.0-25-generic exe/x86_64.ubuntu.22 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nubuntu 22.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7159/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7151", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7151/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7151/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7151/events", "html_url": "https://github.com/aws/aws-cli/issues/7151", "id": 1323946820, "node_id": "I_kwDOAGd3X85O6dNE", "number": 7151, "title": " aws cognito-idp update-user-pool  AttributesRequireVerificationBeforeUpdate=email does not work", "user": {"login": "mkdirJava", "id": 27962040, "node_id": "MDQ6VXNlcjI3OTYyMDQw", "avatar_url": "https://avatars.githubusercontent.com/u/27962040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkdirJava", "html_url": "https://github.com/mkdirJava", "followers_url": "https://api.github.com/users/mkdirJava/followers", "following_url": "https://api.github.com/users/mkdirJava/following{/other_user}", "gists_url": "https://api.github.com/users/mkdirJava/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkdirJava/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkdirJava/subscriptions", "organizations_url": "https://api.github.com/users/mkdirJava/orgs", "repos_url": "https://api.github.com/users/mkdirJava/repos", "events_url": "https://api.github.com/users/mkdirJava/events{/privacy}", "received_events_url": "https://api.github.com/users/mkdirJava/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2528709721, "node_id": "MDU6TGFiZWwyNTI4NzA5NzIx", "url": "https://api.github.com/repos/aws/aws-cli/labels/cognito-idp", "name": "cognito-idp", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-08-01T07:17:08Z", "updated_at": "2022-08-03T12:22:42Z", "closed_at": "2022-08-03T12:22:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nAs a AWS cli user\r\nWhen I execute the command\r\n```\r\naws cognito-idp update-user-pool --user-pool-id *** --user-attribute-update-settings AttributesRequireVerificationBeforeUpdate=email\r\n\r\n```\r\nThen I get the error\r\n\r\n```\r\nAn error occurred (InvalidParameterException) when calling the UpdateUserPool operation: All attributes in AttributesRequireVerificationBeforeUpdate must exist in AutoVerifiedAttributes\r\n\r\n```\r\n\r\nBefire I describe the cognito pool I can describe the cognito pool and see\r\n\r\n```\r\n...\r\n        \"AutoVerifiedAttributes\": [\r\n            \"email\"\r\n        ],\r\n        \"UsernameAttributes\": [\r\n            \"email\"\r\n        ],\r\n        \"VerificationMessageTemplate\": {\r\n            \"DefaultEmailOption\": \"CONFIRM_WITH_CODE\"\r\n        },\r\n        \"UserAttributeUpdateSettings\": {\r\n            \"AttributesRequireVerificationBeforeUpdate\": []\r\n        },\r\n\r\n...\r\n``` \n\n### Expected Behavior\n\nAs a AWS cli user\r\nWhen I execute the command\r\n```\r\naws cognito-idp update-user-pool --user-pool-id *** --user-attribute-update-settings AttributesRequireVerificationBeforeUpdate=email\r\n\r\n```\r\nThen I should see this update on my console and have the pool behave appropreiatley\r\n```\r\naws cognito-idp describe-user-pool --user-pool-id ***\r\n```\r\n\n\n### Current Behavior\n\nAs a AWS cli user\r\nWhen I execute the command\r\n```\r\naws cognito-idp update-user-pool --user-pool-id *** --user-attribute-update-settings AttributesRequireVerificationBeforeUpdate=email\r\n\r\n```\r\nThen I get the error\r\n\r\n```\r\nAn error occurred (InvalidParameterException) when calling the UpdateUserPool operation: All attributes in AttributesRequireVerificationBeforeUpdate must exist in AutoVerifiedAttributes\r\n\r\n```\r\n\r\nBefire I describe the cognito pool I can describe the cognito pool and see\r\n\r\n```\r\n...\r\n        \"AutoVerifiedAttributes\": [\r\n            \"email\"\r\n        ],\r\n        \"UsernameAttributes\": [\r\n            \"email\"\r\n        ],\r\n        \"VerificationMessageTemplate\": {\r\n            \"DefaultEmailOption\": \"CONFIRM_WITH_CODE\"\r\n        },\r\n        \"UserAttributeUpdateSettings\": {\r\n            \"AttributesRequireVerificationBeforeUpdate\": []\r\n        },\r\n\r\n...\r\n``` \n\n### Reproduction Steps\n\nAs a AWS cli user\r\nWhen I execute the command\r\n```\r\naws cognito-idp update-user-pool --user-pool-id *** --user-attribute-update-settings AttributesRequireVerificationBeforeUpdate=email\r\n\r\n```\r\nThen I get the error\r\n\r\n```\r\nAn error occurred (InvalidParameterException) when calling the UpdateUserPool operation: All attributes in AttributesRequireVerificationBeforeUpdate must exist in AutoVerifiedAttributes\r\n\r\n```\r\n\r\nBefire I describe the cognito pool I can describe the cognito pool and see\r\n\r\n```\r\n...\r\n        \"AutoVerifiedAttributes\": [\r\n            \"email\"\r\n        ],\r\n        \"UsernameAttributes\": [\r\n            \"email\"\r\n        ],\r\n        \"VerificationMessageTemplate\": {\r\n            \"DefaultEmailOption\": \"CONFIRM_WITH_CODE\"\r\n        },\r\n        \"UserAttributeUpdateSettings\": {\r\n            \"AttributesRequireVerificationBeforeUpdate\": []\r\n        },\r\n\r\n...\r\n``` \n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.20\n\n### Environment details (OS name and version, etc.)\n\nWindows 10 ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7148", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7148/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7148/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7148/events", "html_url": "https://github.com/aws/aws-cli/issues/7148", "id": 1323366352, "node_id": "I_kwDOAGd3X85O4PfQ", "number": 7148, "title": "Incorrect data type reference for  aws iot create-domain-configuration https://docs.aws.amazon.com/cli/latest/reference/iot/create-domain-configuration.html", "user": {"login": "ychamare", "id": 54070011, "node_id": "MDQ6VXNlcjU0MDcwMDEx", "avatar_url": "https://avatars.githubusercontent.com/u/54070011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ychamare", "html_url": "https://github.com/ychamare", "followers_url": "https://api.github.com/users/ychamare/followers", "following_url": "https://api.github.com/users/ychamare/following{/other_user}", "gists_url": "https://api.github.com/users/ychamare/gists{/gist_id}", "starred_url": "https://api.github.com/users/ychamare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ychamare/subscriptions", "organizations_url": "https://api.github.com/users/ychamare/orgs", "repos_url": "https://api.github.com/users/ychamare/repos", "events_url": "https://api.github.com/users/ychamare/events{/privacy}", "received_events_url": "https://api.github.com/users/ychamare/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 3750595080, "node_id": "LA_kwDOAGd3X87fjYoI", "url": "https://api.github.com/repos/aws/aws-cli/labels/iot", "name": "iot", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-31T05:26:07Z", "updated_at": "2022-09-20T22:58:11Z", "closed_at": "2022-09-20T22:57:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWrong data type reference for API input value \r\n![Screenshot 2022-07-30 232004](https://user-images.githubusercontent.com/54070011/182011396-6f651c08-7582-48ca-aada-cc7434a7abb8.png)\r\n\n\n### Expected Behavior\n\n--domain-name (string)    must be of type STRING\n\n### Current Behavior\n\n--domain-name (string)   does not accept string , only list. \n\n### Reproduction Steps\n\n used \r\n\r\naws iot create-domain-configuration \\\r\n--domain-configuration-name \"my-custom-domain\" \\\r\n--domain-name \"custom.iot.XYZ.people.aws.dev\" \\\r\n--server-certificate-arns $CERT_ARN \\\r\n--service-type DATA  \r\n\r\nReturns -> An error occurred (InvalidRequestException) when calling the CreateDomainConfiguration operation: Must provide a valid domain name to configure.\r\n\r\nThen Used \r\n\r\n\r\naws iot create-domain-configuration \\\r\n--domain-configuration-name \"my-custom-domain\" \\\r\n--domain-name custom.iot.XYZ.people.ABC.dev  \\\r\n--server-certificate-arns $CERT_ARN \\\r\n--service-type DATA  \r\n\r\naccepted resourced created\r\n\r\n\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.0.30 Python/3.7.3 Linux/4.14.287-215.504.amzn2.x86_64 botocore/2.0.0dev34\n\n### Environment details (OS name and version, etc.)\n\nAmazon Linux 2 ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7143", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7143/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7143/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7143/events", "html_url": "https://github.com/aws/aws-cli/issues/7143", "id": 1321245759, "node_id": "I_kwDOAGd3X85OwJw_", "number": 7143, "title": "aws s3 cp returning `fatal error: [Errno 2] No such file or directory` when run from cloud-init runcmd", "user": {"login": "hectoralicea", "id": 12519400, "node_id": "MDQ6VXNlcjEyNTE5NDAw", "avatar_url": "https://avatars.githubusercontent.com/u/12519400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hectoralicea", "html_url": "https://github.com/hectoralicea", "followers_url": "https://api.github.com/users/hectoralicea/followers", "following_url": "https://api.github.com/users/hectoralicea/following{/other_user}", "gists_url": "https://api.github.com/users/hectoralicea/gists{/gist_id}", "starred_url": "https://api.github.com/users/hectoralicea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hectoralicea/subscriptions", "organizations_url": "https://api.github.com/users/hectoralicea/orgs", "repos_url": "https://api.github.com/users/hectoralicea/repos", "events_url": "https://api.github.com/users/hectoralicea/events{/privacy}", "received_events_url": "https://api.github.com/users/hectoralicea/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4723087688, "node_id": "LA_kwDOAGd3X88AAAABGYSZSA", "url": "https://api.github.com/repos/aws/aws-cli/labels/p3", "name": "p3", "color": "F5DEB3", "default": false, "description": "This is a minor priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-07-28T17:12:25Z", "updated_at": "2022-11-11T17:24:35Z", "closed_at": "2022-11-11T17:24:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI have the following command on the runcmd section of the cloud-init script\r\n\r\n```\r\n#cloud-config\r\nrepo_upgrade: all\r\nrepo_update: true\r\npackages:\r\n - python3\r\n - python3-libselinux\r\n - < plus a whole bunch more - not included, not relevent >\r\nruncmd:\r\n  - set -x\r\n  - aws s3 cp s3://apigw-agents-installs-iacha-XXXXXXXXXXXX/NessusAgent-10.1.3-es8.x86_64.rpm /run/ec2-init/NessusAgent-10.1.3-es8.x86_64.rpm --region us-gov-west-1\r\n  - yum install -y /run/ec2-init/NessusAgent-10.1.3-es8.x86_64.rpm --nogpgcheck\r\n```\r\n\n\n### Expected Behavior\n\nI would expect the behavior for the download to work such as it does here:  In this case I simply copied the line in the cloud-init-output.log and re-ran it and it worked.\r\n```\r\n# aws s3 cp s3://apigw-agents-installs-iacha-XXXXXXXXXXXX/NessusAgent-10.1.3-es8.x86_64.rpm /run/ec2-init/NessusAgent-10.1.3-es8.x86_64.rpm --region us-gov-west-1\r\ndownload: s3://apigw-agents-installs-iacha-XXXXXXXXXXXX/NessusAgent-10.1.3-es8.x86_64.rpm to ../../run/ec2-init/NessusAgent-10.1.3-es8.x86_64.rpm\r\n```\n\n### Current Behavior\n\nThe install currently returns the error: `fatal error: [Errno 2] No such file or directory` \r\n\r\n```\r\n+ aws s3 cp s3://apigw-agents-installs-iacha-XXXXXXXXXXXX/NessusAgent-10.1.3-es8.x86_64.rpm /run/ec2-init/NessusAgent-10.1.3-es8.x86_64.rpm --region us-gov-west-1\r\nfatal error: [Errno 2] No such file or directory\r\n```\r\nIf I simply copied the line in the cloud-init-output.log and re-ran it after the provision / boot, it all works.\n\n### Reproduction Steps\n\ncreate a cloud-init.yaml file such as the one above and provision a new VM.\n\n### Possible Solution\n\nnot sure why\n\n### Additional Information/Context\n\nthe exact same results occurs on \"Amazon Linux 2\" as well as RHEL 8.6\n\n### CLI version used\n\naws-cli/2.7.19 Python/3.9.11 Linux/4.18.0-372.9.1.el8.x86_64 exe/x86_64.rhel.8 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nRed Hat Enterprise Linux 8.6 (Ootpa)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7137", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7137/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7137/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7137/events", "html_url": "https://github.com/aws/aws-cli/issues/7137", "id": 1318927873, "node_id": "I_kwDOAGd3X85OnT4B", "number": 7137, "title": "aws ec2 no longer accepting vpc-id as filter value for describe-security-groups", "user": {"login": "webdog", "id": 960210, "node_id": "MDQ6VXNlcjk2MDIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/960210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webdog", "html_url": "https://github.com/webdog", "followers_url": "https://api.github.com/users/webdog/followers", "following_url": "https://api.github.com/users/webdog/following{/other_user}", "gists_url": "https://api.github.com/users/webdog/gists{/gist_id}", "starred_url": "https://api.github.com/users/webdog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webdog/subscriptions", "organizations_url": "https://api.github.com/users/webdog/orgs", "repos_url": "https://api.github.com/users/webdog/repos", "events_url": "https://api.github.com/users/webdog/events{/privacy}", "received_events_url": "https://api.github.com/users/webdog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311028377, "node_id": "MDU6TGFiZWwzMTEwMjgzNzc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ec2", "name": "ec2", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-07-27T02:03:09Z", "updated_at": "2022-08-01T17:58:55Z", "closed_at": "2022-08-01T17:58:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nExperiencing the same behavior as seen in #3225\r\n\r\nThe filter worked until approximately a week ago. This command in question is part of an automation script that deletes security groups connected to Load balancers. I noticed this failing after load balancers were no longer deleting from my account because of the associated load balancer still being present, and then noticed the CLI error when checking my logs.\n\n### Expected Behavior\n\ndescribe-security-groups should accept vpc-id as a filter, as it previously has before.\n\n### Current Behavior\n\n>An error occurred (InvalidParameterValue) when calling the DescribeSecurityGroups operation: vpc-id\r\n\r\nDebug log attached:\r\n[debug.log](https://github.com/aws/aws-cli/files/9194422/debug.log)\r\n\r\n\n\n### Reproduction Steps\n\n`aws ec2 describe-security-groups --filters Name=vpc-id,Values=<vpc_id> --debug`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.6.1 Python/3.9.12 Darwin/20.6.0 source/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nMacOS 11.6.6", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7133", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7133/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7133/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7133/events", "html_url": "https://github.com/aws/aws-cli/issues/7133", "id": 1318344405, "node_id": "I_kwDOAGd3X85OlFbV", "number": 7133, "title": "AWS CLI signal-resource operation does not signal CreationPolicy", "user": {"login": "istraka", "id": 5773523, "node_id": "MDQ6VXNlcjU3NzM1MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/5773523?v=4", "gravatar_id": "", "url": "https://api.github.com/users/istraka", "html_url": "https://github.com/istraka", "followers_url": "https://api.github.com/users/istraka/followers", "following_url": "https://api.github.com/users/istraka/following{/other_user}", "gists_url": "https://api.github.com/users/istraka/gists{/gist_id}", "starred_url": "https://api.github.com/users/istraka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/istraka/subscriptions", "organizations_url": "https://api.github.com/users/istraka/orgs", "repos_url": "https://api.github.com/users/istraka/repos", "events_url": "https://api.github.com/users/istraka/events{/privacy}", "received_events_url": "https://api.github.com/users/istraka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 554638524, "node_id": "MDU6TGFiZWw1NTQ2Mzg1MjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation", "name": "cloudformation", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-07-26T14:39:58Z", "updated_at": "2022-08-22T20:08:28Z", "closed_at": "2022-08-22T20:07:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen I define EC2 Instance with creation policy:\r\n```\r\nCreationPolicy:\r\n            ResourceSignal:\r\n                Timeout: PT3M\r\n```\r\nand send signal using aws cli\r\n```\r\naws cloudformation signal-resource --stack-name ${AWS::StackName} --region ${AWS::Region} --logical-resource-id EC2Instance --status SUCCESS --unique-id 1234\r\n```\r\nthe stack fails to receive signal and the create operation of instance fails. \n\n### Expected Behavior\n\nI expect signal to be received and instance to be created successfully.\n\n### Current Behavior\n\nI get `Failed to receive 1 resource signal(s) within the specified duration`\n\n### Reproduction Steps\n\nDeploy the CloudFormation template:\r\n```\r\nAWSTemplateFormatVersion: \"2010-09-09\"\r\nMetadata:\r\n    Generator: \"former2\"\r\nDescription: \"\"\r\nResources:\r\n    EC2KeyPair:\r\n        Type: \"AWS::EC2::KeyPair\"\r\n        Properties:\r\n            KeyName: !Join [\"-\", [\"key\", !Ref AWS::StackId]]\r\n            KeyType: \"rsa\"\r\n    EC2VPC:\r\n        Type: \"AWS::EC2::VPC\"\r\n        Properties:\r\n            CidrBlock: \"172.31.0.0/16\"\r\n            EnableDnsSupport: true\r\n            EnableDnsHostnames: true\r\n            InstanceTenancy: \"default\"\r\n    IAMRole:\r\n        Type: \"AWS::IAM::Role\"\r\n        Properties:\r\n            Path: \"/\"\r\n            RoleName: \"SignalRole2\"\r\n            AssumeRolePolicyDocument: \"{\\\"Version\\\":\\\"2012-10-17\\\",\\\"Statement\\\":[{\\\"Effect\\\":\\\"Allow\\\",\\\"Principal\\\":{\\\"Service\\\":\\\"ec2.amazonaws.com\\\"},\\\"Action\\\":\\\"sts:AssumeRole\\\"}]}\"\r\n            MaxSessionDuration: 3600\r\n            ManagedPolicyArns:\r\n                - \"arn:aws:iam::aws:policy/AWSCloudFormationFullAccess\"\r\n            Description: \"Allows EC2 instances to call AWS services on your behalf.\"\r\n\r\n    IAMInstanceProfile:\r\n        Type: \"AWS::IAM::InstanceProfile\"\r\n        Properties:\r\n            Path: \"/\"\r\n            InstanceProfileName: !Ref IAMRole\r\n            Roles:\r\n                - !Ref IAMRole\r\n\r\n    EC2SecurityGroup:\r\n        Type: \"AWS::EC2::SecurityGroup\"\r\n        Properties:\r\n            GroupDescription: \"Allows any connection\"\r\n            GroupName: \"allow-any\"\r\n            VpcId: !Ref EC2VPC\r\n            SecurityGroupIngress:\r\n                -   CidrIp: \"0.0.0.0/0\"\r\n                    IpProtocol: \"-1\"\r\n                -   CidrIpv6: \"::/0\"\r\n                    IpProtocol: \"-1\"\r\n            SecurityGroupEgress:\r\n                -   CidrIp: \"0.0.0.0/0\"\r\n                    IpProtocol: \"-1\"\r\n\r\n    EC2Instance:\r\n        Type: \"AWS::EC2::Instance\"\r\n        CreationPolicy:\r\n            ResourceSignal:\r\n                Timeout: PT3M\r\n        DependsOn:\r\n            - EC2KeyPair\r\n        Properties:\r\n            ImageId: \"ami-0cff7528ff583bf9a\"\r\n            InstanceType: \"t3.medium\"\r\n            KeyName: !Ref EC2KeyPair\r\n            AvailabilityZone: !GetAtt EC2Subnet.AvailabilityZone\r\n            Tenancy: \"default\"\r\n            SubnetId: !Ref EC2Subnet\r\n            EbsOptimized: false\r\n            SecurityGroupIds:\r\n                - !Ref EC2SecurityGroup\r\n            SourceDestCheck: true\r\n            IamInstanceProfile: !Ref IAMRole\r\n            BlockDeviceMappings:\r\n                -   DeviceName: \"/dev/sda1\"\r\n                    Ebs:\r\n                        Encrypted: false\r\n                        VolumeSize: 10\r\n                        VolumeType: \"gp2\"\r\n                        DeleteOnTermination: true\r\n            Tags:\r\n                -   Key: \"Name\"\r\n                    Value: \"signalTest\"\r\n            HibernationOptions:\r\n                Configured: false\r\n            CpuOptions:\r\n                CoreCount: 1\r\n                ThreadsPerCore: 2\r\n            EnclaveOptions:\r\n                Enabled: false\r\n            UserData:\r\n                Fn::Base64:\r\n                    !Sub |\r\n                        #!/usr/bin/env bash\r\n                        rm -rf aws\r\n\r\n                        yum install -y unzip\r\n                        curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\r\n                        unzip -q awscliv2.zip\r\n                        chmod +x ./aws/dist/aws\r\n                        alias aws=`pwd`/aws/dist/aws\r\n                        aws cloudformation signal-resource --stack-name ${AWS::StackName} --region ${AWS::Region} --logical-resource-id EC2Instance --status SUCCESS --unique-id 1234\r\n\r\n    EC2Instance2:\r\n        Type: \"AWS::EC2::Instance\"\r\n        CreationPolicy:\r\n            ResourceSignal:\r\n                Timeout: PT3M\r\n        DependsOn:\r\n            - EC2KeyPair\r\n        Properties:\r\n            ImageId: \"ami-0cff7528ff583bf9a\"\r\n            InstanceType: \"t3.medium\"\r\n            KeyName: !Ref EC2KeyPair\r\n            AvailabilityZone: !GetAtt EC2Subnet.AvailabilityZone\r\n            Tenancy: \"default\"\r\n            SubnetId: !Ref EC2Subnet\r\n            EbsOptimized: false\r\n            SecurityGroupIds:\r\n                - !Ref EC2SecurityGroup\r\n            SourceDestCheck: true\r\n            IamInstanceProfile: !Ref IAMRole\r\n            BlockDeviceMappings:\r\n                -   DeviceName: \"/dev/sda1\"\r\n                    Ebs:\r\n                        Encrypted: false\r\n                        VolumeSize: 10\r\n                        VolumeType: \"gp2\"\r\n                        DeleteOnTermination: true\r\n            Tags:\r\n                -   Key: \"Name\"\r\n                    Value: \"signalTest2\"\r\n            HibernationOptions:\r\n                Configured: false\r\n            CpuOptions:\r\n                CoreCount: 1\r\n                ThreadsPerCore: 2\r\n            EnclaveOptions:\r\n                Enabled: false\r\n            UserData:\r\n                Fn::Base64:\r\n                  !Sub |\r\n                    #!/usr/bin/env bash\r\n                    /opt/aws/bin/cfn-signal -e 0 --stack ${AWS::StackName} --region ${AWS::Region} --resource EC2Instance2\r\n\r\n    EC2Subnet:\r\n        Type: \"AWS::EC2::Subnet\"\r\n        DependsOn:\r\n            - EC2VPC\r\n        Properties:\r\n            AvailabilityZone: !Sub \"${AWS::Region}a\"\r\n            CidrBlock: \"172.31.0.0/20\"\r\n            VpcId: !Ref EC2VPC\r\n            MapPublicIpOnLaunch: true\r\n\r\n    EC2InternetGateway:\r\n        Type: \"AWS::EC2::InternetGateway\"\r\n\r\n    EC2Route:\r\n        Type: \"AWS::EC2::Route\"\r\n        DependsOn:\r\n            - EC2Subnet\r\n            - EC2InternetGateway\r\n            - EC2RouteTable\r\n        Properties:\r\n            DestinationCidrBlock: \"0.0.0.0/0\"\r\n            GatewayId: !Ref EC2InternetGateway\r\n            RouteTableId: !Ref EC2RouteTable\r\n\r\n    EC2VPCGatewayAttachment:\r\n        Type: \"AWS::EC2::VPCGatewayAttachment\"\r\n        Properties:\r\n            InternetGatewayId: !Ref EC2InternetGateway\r\n            VpcId: !Ref EC2VPC\r\n\r\n    EC2RouteTable:\r\n        Type: \"AWS::EC2::RouteTable\"\r\n        Properties:\r\n            VpcId: !Ref EC2VPC\r\n\r\n    EC2SubnetRouteTableAssociation:\r\n        DependsOn:\r\n            - EC2Route\r\n        Type: \"AWS::EC2::SubnetRouteTableAssociation\"\r\n        Properties:\r\n            RouteTableId: !Ref EC2RouteTable\r\n            SubnetId: !Ref EC2Subnet\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.18\n\n### Environment details (OS name and version, etc.)\n\nAmazon Linux release 2 (Karoo), 5.10.118-111.515.amzn2.x86_64", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7133/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7132", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7132/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7132/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7132/events", "html_url": "https://github.com/aws/aws-cli/issues/7132", "id": 1318136994, "node_id": "I_kwDOAGd3X85OkSyi", "number": 7132, "title": "ssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:2396)", "user": {"login": "skbkbs", "id": 110033522, "node_id": "U_kgDOBo76cg", "avatar_url": "https://avatars.githubusercontent.com/u/110033522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skbkbs", "html_url": "https://github.com/skbkbs", "followers_url": "https://api.github.com/users/skbkbs/followers", "following_url": "https://api.github.com/users/skbkbs/following{/other_user}", "gists_url": "https://api.github.com/users/skbkbs/gists{/gist_id}", "starred_url": "https://api.github.com/users/skbkbs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skbkbs/subscriptions", "organizations_url": "https://api.github.com/users/skbkbs/orgs", "repos_url": "https://api.github.com/users/skbkbs/repos", "events_url": "https://api.github.com/users/skbkbs/events{/privacy}", "received_events_url": "https://api.github.com/users/skbkbs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4723087688, "node_id": "LA_kwDOAGd3X88AAAABGYSZSA", "url": "https://api.github.com/repos/aws/aws-cli/labels/p3", "name": "p3", "color": "F5DEB3", "default": false, "description": "This is a minor priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-07-26T11:59:41Z", "updated_at": "2022-12-09T22:58:06Z", "closed_at": "2022-12-09T22:57:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nError on request:\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\\u7a7a\u767d\\Desktop\\KB\\venv\\lib\\site-packages\\werkzeug\\serving.py\", line 335, in run_wsgi\r\n    execute(self.server.app)\r\n  File \"C:\\Users\\\u7a7a\u767d\\Desktop\\KB\\venv\\lib\\site-packages\\werkzeug\\serving.py\", line 325, in execute\r\n    write(data)\r\n  File \"C:\\Users\\\u7a7a\u767d\\Desktop\\KB\\venv\\lib\\site-packages\\werkzeug\\serving.py\", line 300, in write\r\n    self.wfile.write(data)\r\n  File \"C:\\Users\\\u7a7a\u767d\\AppData\\Local\\Programs\\Python\\Python310\\lib\\socketserver.py\", line 826, in write\r\n    self._sock.sendall(b)\r\n  File \"C:\\Users\\\u7a7a\u767d\\AppData\\Local\\Programs\\Python\\Python310\\lib\\ssl.py\", line 1237, in sendall\r\n    v = self.send(byte_view[count:])\r\n  File \"C:\\Users\\\u7a7a\u767d\\AppData\\Local\\Programs\\Python\\Python310\\lib\\ssl.py\", line 1206, in send\r\n    return self._sslobj.write(data)\r\nssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:2396)\n\n### Expected Behavior\n\nI tried to fix the problem, but the error code always reported 2396\n\n### Current Behavior\n\nErrors are filed in the browser to get the server content\n\n### Reproduction Steps\n\nfrom flask import Flask, render_template\r\n\r\napp = Flask(__name__)\r\napp.config['SERVER_NAME'] = 'skbkbs.top:5001'\r\n\r\n@app.route('/')\r\ndef welcome():\r\n    return 'HELLO WORLD'\r\n\r\nif __name__ == '__main__':\r\n    app.run(port=5001, debug=True, ssl_context = (r'C:\\Users\\\u7a7a\u767d\\Desktop\\KB\\0\\xxxx.crt', r'C:\\Users\\\u7a7a\u767d\\Desktop\\KB\\0\\xxxx.key'))\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\nI ran the code when I got it wrong and my python version is 3.10\n\n### CLI version used\n\n 10.0.22622\n\n### Environment details (OS name and version, etc.)\n\npython3.10 flask2.1.3 win11", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7129", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7129/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7129/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7129/events", "html_url": "https://github.com/aws/aws-cli/issues/7129", "id": 1315644836, "node_id": "I_kwDOAGd3X85OayWk", "number": 7129, "title": "aws configure sso is not working with custom user portal URL", "user": {"login": "jagin", "id": 1299568, "node_id": "MDQ6VXNlcjEyOTk1Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/1299568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jagin", "html_url": "https://github.com/jagin", "followers_url": "https://api.github.com/users/jagin/followers", "following_url": "https://api.github.com/users/jagin/following{/other_user}", "gists_url": "https://api.github.com/users/jagin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jagin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jagin/subscriptions", "organizations_url": "https://api.github.com/users/jagin/orgs", "repos_url": "https://api.github.com/users/jagin/repos", "events_url": "https://api.github.com/users/jagin/events{/privacy}", "received_events_url": "https://api.github.com/users/jagin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2221263953, "node_id": "MDU6TGFiZWwyMjIxMjYzOTUz", "url": "https://api.github.com/repos/aws/aws-cli/labels/sso", "name": "sso", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2022-07-23T12:13:16Z", "updated_at": "2022-07-27T20:42:57Z", "closed_at": "2022-07-27T20:42:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI'm trying to execute `aws configure sso` and getting the bug as follow:\r\n\r\n```\r\n\u276f aws configure sso\r\nSSO start URL [None]: https://my-custom-url.awsapps.com/start\r\nSSO Region [None]: eu-central-1\r\n\r\nAn error occurred (InvalidRequestException) when calling the StartDeviceAuthorization operation: \r\n```\r\n\r\nbut if I use original (AWS generated) portal URL with Identity store ID like: https://d-##########.awsapps.com/start\r\neverything is working fine\n\n### Expected Behavior\n\n`aws configure sso` is working fine with custom user portal URL in eu-central-1 region (maybe only this region has an issue?)\n\n### Current Behavior\n\n`aws configure sso` with custom user portal URL in eu-central-1 region returns error:\r\n\r\n```\r\nAn error occurred (InvalidRequestException) when calling the StartDeviceAuthorization operation:\r\n```\n\n### Reproduction Steps\n\n1. Setup SSO in region eu-central-1\r\n2. Setup custom user portal URL\r\n3. Try to `aws configure sso` with custom url\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.18 Python/3.10.5 Darwin/21.5.0 source/arm64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nmacOS Version 12.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7129/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7122", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7122/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7122/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7122/events", "html_url": "https://github.com/aws/aws-cli/issues/7122", "id": 1311646949, "node_id": "I_kwDOAGd3X85OLiTl", "number": 7122, "title": "Recursive copy to S3 intermittently fails midway through with 404 error", "user": {"login": "kflavin", "id": 858861, "node_id": "MDQ6VXNlcjg1ODg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/858861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kflavin", "html_url": "https://github.com/kflavin", "followers_url": "https://api.github.com/users/kflavin/followers", "following_url": "https://api.github.com/users/kflavin/following{/other_user}", "gists_url": "https://api.github.com/users/kflavin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kflavin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kflavin/subscriptions", "organizations_url": "https://api.github.com/users/kflavin/orgs", "repos_url": "https://api.github.com/users/kflavin/repos", "events_url": "https://api.github.com/users/kflavin/events{/privacy}", "received_events_url": "https://api.github.com/users/kflavin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-07-20T18:18:50Z", "updated_at": "2022-08-22T21:45:55Z", "closed_at": "2022-08-22T20:06:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nWe're experiencing an issue with the cli during a recursive copy to S3.  We're copying files from a folder up to a bucket, but the copy fails midway through with a 404 error.  The workflow looks like this:\r\n\r\n```\r\n$ bucket=my-bucket-name\r\n$ aws s3 mb s3://$bucket --region us-east-1\r\nmake_bucket: my-bucket-name\r\n$ # < loop and wait for `aws s3api head-bucket --bucket $bucket` to return 200 >\r\n$ aws s3 cp --acl public-read --recursive $from_dir s3://$bucket >/dev/null\r\nupload failed: <dir> to s3://my-bucket-name/img/1.png An error occurred (NoSuchBucket) when calling the PutObject operation: The specified bucket does not exist\r\n```\r\n\r\nAfter the failure, we observe that some files have been copied into the bucket, but not all of the files in `$from_dir`.  Adding a --debug to the cp command shows files successfully being PUT, followed by one that fails due to a 404, which then causes the entire command to fail:\r\n\r\n```\r\n# Several files be successfully copied:\r\n2022-07-20T15:29:12.9319044Z 2022-07-20 15:29:12,931 - ThreadPoolExecutor-0_7 - urllib3.connectionpool - DEBUG - [https://my-bucket-name.s3.amazonaws.com:443 ](https://my-bucket-name.s3.amazonaws.com/) \"PUT /nuxt/0c6f8ea.js.map HTTP/1.1\" 200 0\r\n2022-07-20T15:29:12.9305832Z 2022-07-20 15:29:12,929 - ThreadPoolExecutor-0_4 - urllib3.connectionpool - DEBUG - [https://my-bucket-name.s3.amazonaws.com:443 ](https://my-bucket-name.s3.amazonaws.com/) \"PUT /nuxt/0b559bd.js.map HTTP/1.1\" 200 0\r\n....\r\n\r\n# Followed by a failure and 404 error:\r\n2022-07-20T15:29:12.9347320Z 2022-07-20 15:29:12,934 - ThreadPoolExecutor-0_6 - urllib3.connectionpool - DEBUG - [https://my-bucket-name.s3.amazonaws.com:443 ](https://my-bucket-name.s3.amazonaws.com/) \"PUT /nuxt/0cde623.js.map HTTP/1.1\" 404 None\r\n```\r\n\r\nNot sure if this could be a locking issue, or a problem with eventual consistency in S3.  We're not sure why we'd see a 404 for a file we're creating, unless it's not able to find the bucket.  It happens sporadically, and if we rerun the job it may work on the second try.  It is happening quite frequently in our CI, up to several times per day.  It's worth noting we have been using this process for a couple years, and this has only become in issue over the past 2-3 weeks.\r\n\r\n### Expected Behavior\r\n\r\nI expect that when `aws s3api head-bucket --bucket $bucket` returns 200 that we can copy to the bucket without 404 errors.\r\n\r\n### Current Behavior\r\n\r\nThe recursive copy fails partway through, copying some, but not all, of the files from the source directory into the bucket.  We receive this error:\r\n\r\n```\r\nupload failed: <dir> to s3://my-bucket-name/img/1.png An error occurred (NoSuchBucket) when calling the PutObject operation: The specified bucket does not exist\r\n```\r\n\r\nAnd the debug logs show a 404 on a PUT:\r\n\r\n```\r\n2022-07-20T15:29:12.9347320Z 2022-07-20 15:29:12,934 - ThreadPoolExecutor-0_6 - urllib3.connectionpool - DEBUG - [https://my-bucket-name.s3.amazonaws.com:443 ](https://my-bucket-name.s3.amazonaws.com/) \"PUT /nuxt/0cde623.js.map HTTP/1.1\" 404 None\r\n```\r\n\r\n### Reproduction Steps\r\n\r\nNot consistently reproducible.  \r\n```\r\n$ bucket=my-bucket-name\r\n$ aws s3 mb s3://$bucket --region us-east-1\r\nmake_bucket: my-bucket-name\r\n$ # < loop and wait for `aws s3api head-bucket --bucket $bucket` to return 200 >\r\n$ aws s3 cp --acl public-read --recursive $from_dir s3://$bucket >/dev/null\r\nupload failed: <dir> to s3://my-bucket-name/img/1.png An error occurred (NoSuchBucket) when calling the PutObject operation: The specified bucket does not exist\r\n```\r\n\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\n1.19.105-r0\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\ndocker, alpine:3.15.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7121", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7121/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7121/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7121/events", "html_url": "https://github.com/aws/aws-cli/issues/7121", "id": 1310995223, "node_id": "I_kwDOAGd3X85OJDMX", "number": 7121, "title": "\"latest\" docs don't actually point to latest/v2", "user": {"login": "umdstu", "id": 1298036, "node_id": "MDQ6VXNlcjEyOTgwMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1298036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/umdstu", "html_url": "https://github.com/umdstu", "followers_url": "https://api.github.com/users/umdstu/followers", "following_url": "https://api.github.com/users/umdstu/following{/other_user}", "gists_url": "https://api.github.com/users/umdstu/gists{/gist_id}", "starred_url": "https://api.github.com/users/umdstu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/umdstu/subscriptions", "organizations_url": "https://api.github.com/users/umdstu/orgs", "repos_url": "https://api.github.com/users/umdstu/repos", "events_url": "https://api.github.com/users/umdstu/events{/privacy}", "received_events_url": "https://api.github.com/users/umdstu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-07-20T12:25:51Z", "updated_at": "2022-07-21T23:31:44Z", "closed_at": "2022-07-21T23:31:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nIt was recently brought to my attention that google search results for aws cli documentation populates results that often point to `latest`. Visiting https://docs.aws.amazon.com/cli/latest/ for documentation however doesn't give you the latest docs (v2), it gives you the previous version of docs (v1).\n\n### Expected Behavior\n\nI expected `latest` to point to your latest docs, in this case `v2`, or redirect to the v2 page.\n\n### Current Behavior\n\nHowever, currently when you view the docs, it leaves you on `v1` with a big ol banner saying so, and to go look at the v2 docs instead.\n\n### Reproduction Steps\n\nClick on the [docs](https://docs.aws.amazon.com/cli/latest/) url. \n\n### Possible Solution\n\nHave `latest` point to, or redirect to, v2, instead of v1.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nN/A\n\n### Environment details (OS name and version, etc.)\n\nN/A", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7113", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7113/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7113/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7113/events", "html_url": "https://github.com/aws/aws-cli/issues/7113", "id": 1306318820, "node_id": "I_kwDOAGd3X85N3Nfk", "number": 7113, "title": "`aws sso login` opens multiple browser tabs and only one works", "user": {"login": "misterjoshua", "id": 644092, "node_id": "MDQ6VXNlcjY0NDA5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/644092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/misterjoshua", "html_url": "https://github.com/misterjoshua", "followers_url": "https://api.github.com/users/misterjoshua/followers", "following_url": "https://api.github.com/users/misterjoshua/following{/other_user}", "gists_url": "https://api.github.com/users/misterjoshua/gists{/gist_id}", "starred_url": "https://api.github.com/users/misterjoshua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/misterjoshua/subscriptions", "organizations_url": "https://api.github.com/users/misterjoshua/orgs", "repos_url": "https://api.github.com/users/misterjoshua/repos", "events_url": "https://api.github.com/users/misterjoshua/events{/privacy}", "received_events_url": "https://api.github.com/users/misterjoshua/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2221263953, "node_id": "MDU6TGFiZWwyMjIxMjYzOTUz", "url": "https://api.github.com/repos/aws/aws-cli/labels/sso", "name": "sso", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-15T17:43:41Z", "updated_at": "2022-07-18T22:33:57Z", "closed_at": "2022-07-18T22:33:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nWhen using Visual Studio Code in Remote Development mode via SSH, and when multiple Visual Studio Code windows are open in Remote Development to the same SSH host, `aws sso login` opens as many tabs on the local computer as there are Visual Studio Code windows open. But, because the second, third, and even fourth tabs attempt to reuse the same \"access code\", only one tab can be successfully used to log in to SSO.\r\n\r\n### Expected Behavior\r\n\r\nOnly one tab should open to the SSO authorization page in my default browser.\r\n\r\n### Current Behavior\r\n\r\nIt opens as many authorization pages in the default browser as there are visual studio code windows.\r\n\r\n### Reproduction Steps\r\n\r\n1. Use VS Code's official \"Remote - SSH\" extension to open a folder on a remote machine using SSH.\r\n2. Open several more folders on the same remote machine using VS Code over SSH.\r\n3. Open a remote terminal in VS Code and type `aws sso login`\r\n4. Check your local browser to see that it has opened as many tabs as there are VS Code windows.\r\n\r\n### Possible Solution\r\n\r\nI'm not sure. I wonder whether the AWS CLI isn't taking into account that it could be run in VS Code's remote development server.\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.3.7 Python/3.8.8 Linux/5.15.0-41-generic exe/x86_64.ubuntu.22 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nLocal OS: Windows 10, SSH OS: Ubuntu 22.04 LTS, VS Code: 1.68.1, Remote - SSH 0.84.0", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7113/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7104", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7104/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7104/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7104/events", "html_url": "https://github.com/aws/aws-cli/issues/7104", "id": 1303985658, "node_id": "I_kwDOAGd3X85NuT36", "number": 7104, "title": "[v2] Session Duration of Permission Set is not respected by AWS CLI", "user": {"login": "hamsec-aumni", "id": 90274969, "node_id": "MDQ6VXNlcjkwMjc0OTY5", "avatar_url": "https://avatars.githubusercontent.com/u/90274969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hamsec-aumni", "html_url": "https://github.com/hamsec-aumni", "followers_url": "https://api.github.com/users/hamsec-aumni/followers", "following_url": "https://api.github.com/users/hamsec-aumni/following{/other_user}", "gists_url": "https://api.github.com/users/hamsec-aumni/gists{/gist_id}", "starred_url": "https://api.github.com/users/hamsec-aumni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hamsec-aumni/subscriptions", "organizations_url": "https://api.github.com/users/hamsec-aumni/orgs", "repos_url": "https://api.github.com/users/hamsec-aumni/repos", "events_url": "https://api.github.com/users/hamsec-aumni/events{/privacy}", "received_events_url": "https://api.github.com/users/hamsec-aumni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2221263953, "node_id": "MDU6TGFiZWwyMjIxMjYzOTUz", "url": "https://api.github.com/repos/aws/aws-cli/labels/sso", "name": "sso", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2022-07-13T21:56:32Z", "updated_at": "2022-11-29T23:31:55Z", "closed_at": "2022-11-16T19:57:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nWhen our users login via the AWS CLI using `aws sso login` the session duration is always 8 hours regardless of what the session duration is set in the corresponding permission set.\r\n\r\n### Expected Behavior\r\n\r\nPer this [documentation](https://github.com/awsdocs/aws-single-sign-on-user-guide/blob/main/doc_source/howtosessionduration.md): \r\n\r\n> when the AWS Command Line Interface (CLI) is used, AWS SSO uses the session duration setting on the permission set to control the duration of the session\r\n\r\nIt is expected that what the Permission Set has for Session Duration should match the length of the session when using the AWS CLI\r\n\r\n### Current Behavior\r\n\r\nRegardless if the Permission Sets Session Duration is set to 1, 2, 4, 12 hours or even Custom. When authenticated via AWS CLI it always returns an 8 hour session.\r\n\r\n### Reproduction Steps\r\n\r\n1. Setup AWS SSO with IdP of choice\r\n2. Configure Permission Set with a session duration at 1 hour:\r\n\r\n3. Assign a Permission Set to an SSO user and AWS Account\r\n4. The user configures their SSO profile in aws cli via `aws configure sso` and chooses the role corresponding to the above permission set\r\n5. User is successfully logged in:\r\n```\r\nAttempting to automatically open the SSO authorization page in your default browser.\r\nIf the browser does not open or you wish to use a different device to authorize this request, open the following URL:\r\n\r\nhttps://device.sso.<region>.amazonaws.com/\r\n\r\nThen enter the code:\r\n\r\nXXXX-XXXX\r\nSuccessfully logged into Start URL: <redacted>\r\n```\r\n6. Check when the `accessToken` expires:\r\n```\r\ncat ~/.aws/sso/cache/bb33e6525b773e58656393b27ed0e66d75312f74.json | jq '.' | grep \"expiresAt\"\r\n```\r\n7. Note that it is 8 hours from the time the user authenticated and not 1 as set in the Permission Set\r\n\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\nThis is a very big security concern as we can't have sessions for more permissive roles set to the minimum of 1 hour. Could be a backend issue for the SSO Service team per [this closed issue](https://github.com/aws/aws-cli/issues/4987)\r\n\r\n### CLI version used\r\n\r\naws-cli/2.7.14 Python/3.9.11 Darwin/21.5.0 exe/x86_64 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nmacOS 12.4 (21F79)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7104/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7102", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7102/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7102/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7102/events", "html_url": "https://github.com/aws/aws-cli/issues/7102", "id": 1302723070, "node_id": "I_kwDOAGd3X85Npfn-", "number": 7102, "title": "ECR Docker Push after remove ecr login dont working", "user": {"login": "mosaicdevops", "id": 98433443, "node_id": "U_kgDOBd35ow", "avatar_url": "https://avatars.githubusercontent.com/u/98433443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mosaicdevops", "html_url": "https://github.com/mosaicdevops", "followers_url": "https://api.github.com/users/mosaicdevops/followers", "following_url": "https://api.github.com/users/mosaicdevops/following{/other_user}", "gists_url": "https://api.github.com/users/mosaicdevops/gists{/gist_id}", "starred_url": "https://api.github.com/users/mosaicdevops/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mosaicdevops/subscriptions", "organizations_url": "https://api.github.com/users/mosaicdevops/orgs", "repos_url": "https://api.github.com/users/mosaicdevops/repos", "events_url": "https://api.github.com/users/mosaicdevops/events{/privacy}", "received_events_url": "https://api.github.com/users/mosaicdevops/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-12T23:33:51Z", "updated_at": "2022-07-29T21:42:11Z", "closed_at": "2022-07-29T21:41:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nMy pipelines were working normally, today I could no longer use the command \"$(aws ecr get-login --region ${region} --no-include-email)\", the only replacement made was to change the command to\r\n \"aws ecr get-login-password --region us-west-2 | docker login --username AWS --password-stdin xxxxxx.dkr.ecr.us-west-2.amazonaws.com\" \r\nand I can no longer finish the upload to the ECR, I get the login success message, but it generates the error below.\r\n\r\n\r\n[Container] 2022/07/12 21:45:24 Running command aws ecr get-login-password --region us-west-2 \\| docker login --username AWS --password-stdin xxxxxxx.dkr.ecr.us-west-2.amazonaws.com\r\n--\r\n35 | WARNING! Your password will be stored unencrypted in /root/.docker/config.json.\r\n36 | Configure a credential helper to remove this warning. See\r\n37 | https://docs.docker.com/engine/reference/commandline/login/#credentials-store\r\n38 | \u00a0\r\n39 | Login Succeeded\r\n\r\n\r\n[Container] 2022/07/12 21:48:00 Running command docker push $REPOSITORY_URI:latest\r\n--\r\n264 | The push refers to repository [xxxxxxxxxx.dkr.ecr.us-west-2.amazonaws.com/kernel-api]\r\n265 | 0974dfdd8de3: Preparing\r\n266 | c0f79103c28b: Preparing\r\n267 | 5d2d24c475f8: Preparing\r\n268 | d3cb59fab292: Preparing\r\n277 | 79a45871588c: Preparing\r\n278 | bdfff16e8653: Preparing\r\n289 | bdfff16e8653: Waiting\r\n290 | c0f79103c28b: Retrying in 5 seconds\r\n291 | 5d2d24c475f8: Retrying in 5 seconds\r\n292 | d3cb59fab292: Retrying in 5 seconds\r\n293 | 780a5aa6eb6f: Retrying in 5 seconds\r\n294 | 0974dfdd8de3: Retrying in 5 seconds\r\n295 | c0f79103c28b: Retrying in 4 seconds\r\n296 | 5d2d24c475f8: Retrying in 4 seconds\r\n297 | d3cb59fab292: Retrying in 4 seconds\r\n298 | 780a5aa6eb6f: Retrying in 4 seconds\r\n299 | 0974dfdd8de3: Retrying in 4 seconds\r\n300 | c0f79103c28b: Retrying in 3 seconds\r\n--\r\n536 | 5d2d24c475f8: Retrying in 1 second\r\n537 | 0974dfdd8de3: Retrying in 1 second\r\n538 | 780a5aa6eb6f: Retrying in 1 second\r\n539 | d3cb59fab292: Retrying in 1 second\r\n540 | EOF\r\n\r\n\r\n\r\n\n\n### Expected Behavior\n\nSuccess Upload image to ECR\n\n### Current Behavior\n\n\r\n\r\nContainer] 2022/07/12 21:48:50 Command did not exit successfully docker push $REPOSITORY_URI:latest exit status 1\r\n--\r\n543 | [Container] 2022/07/12 21:48:50 Phase complete: POST_BUILD State: FAILED\r\n544 | [Container] 2022/07/12 21:48:50 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: docker push $REPOSITORY_URI:latest. Reason: exit status 1\r\n545 | [Container] 2022/07/12 21:48:50 Expanding base directory path: .\r\n546 | [Container] 2022/07/12 21:48:50 Assembling file list\r\n547 | [Container] 2022/07/12 21:48:50 Expanding .\r\n548 | [Container] 2022/07/12 21:48:50 Expanding file paths for base directory .\r\n549 | [Container] 2022/07/12 21:48:50 Assembling file list\r\n550 | [Container] 2022/07/12 21:48:50 Expanding imagedefinitions.json\r\n551 | [Container] 2022/07/12 21:48:50 Skipping invalid file path imagedefinitions.json\r\n552 | [Container] 2022/07/12 21:48:50 Phase complete: UPLOAD_ARTIFACTS State: FAILED\r\n553 | [Container] 2022/07/12 21:48:50 Phase context status code: CLIENT_ERROR Message: no matching artifact paths found\r\n\r\n\n\n### Reproduction Steps\n\nversion: 0.2\r\nenv:\r\n  secrets-manager:\r\n    DATABASE_URL: dev/kernel-api:database_url\r\n    DOCKER_LOGIN: dev/kernel-api:DOCKER_LOGIN\r\n    DOCKER_PASSWORD: dev/kernel-api:DOCKER_PASSWORD\r\n    PORT: dev/kernel-api:PORT\r\n    AUTH0_ISSUER_URL: dev/kernel-api:AUTH0_ISSUER_URL\r\n    AUTH0_AUDIENCE: dev/kernel-api:AUTH0_AUDIENCE\r\n    AWS_ACCESS_KEY_ID: dev/kernel-api:AWS_ACCESS_KEY_ID\r\n    AWS_SECRET_ACCESS_KEY: dev/kernel-api:AWS_SECRET_ACCESS_KEY\r\n    POSTMARK_TOKEN: dev/kernel-api:POSTMARK_TOKEN\r\n\r\nphases:\r\n  install:\r\n    runtime-versions:\r\n      nodejs: 14\r\n  pre_build:\r\n    commands:\r\n      - echo Logging in to Amazon ECR...\r\n      - aws ecr get-login-password --region us-west-2 | docker login --username AWS --password-stdin 383776429866.dkr.ecr.us-west-2.amazonaws.com\r\n      - echo `aws --version`\r\n      - REPOSITORY_URI=${repository_url}\r\n      - IMAGE_TAG=$(echo $CODEBUILD_RESOLVED_SOURCE_VERSION | cut -c 1-7)\r\n      - echo Entered the pre_build phase...\r\n      - yarn install --frozen-lockfile --network-timeout=300000\r\n      - yarn prisma migrate deploy\r\n  build:\r\n    commands:\r\n      - echo Build started on `date`\r\n      - echo Building the Docker image...\r\n      - |\r\n        docker build \\\r\n        -t $REPOSITORY_URI:latest \\\r\n        --build-arg DATABASE_URL=\"$DATABASE_URL\" \\\r\n        --build-arg PORT=\"$PORT\" \\\r\n        --build-arg AUTH0_ISSUER_URL=\"$AUTH0_ISSUER_URL\" \\\r\n        --build-arg AUTH0_AUDIENCE=\"$AUTH0_AUDIENCE\" \\\r\n        --build-arg AWS_ACCESS_KEY_ID=\"$AWS_ACCESS_KEY_ID\" \\\r\n        --build-arg AWS_SECRET_ACCESS_KEY=\"$AWS_SECRET_ACCESS_KEY\" \\\r\n        --build-arg POSTMARK_TOKEN=\"$POSTMARK_TOKEN\" \\\r\n        .\r\n      - docker images\r\n      - docker tag $REPOSITORY_URI:latest $REPOSITORY_URI:$IMAGE_TAG\r\n  post_build:\r\n    commands:\r\n      - echo Build completed on `date`\r\n      - echo Pushing the Docker images...\r\n      - docker push $REPOSITORY_URI:latest\r\n      - docker push $REPOSITORY_URI:$IMAGE_TAG\r\n      - echo Writing image definitions file...\r\n      - printf '[{\"name\":\"${container_name}\",\"imageUri\":\"%s\"}]' $REPOSITORY_URI:$IMAGE_TAG > imagedefinitions.json\r\n\r\nartifacts:\r\n  files: imagedefinitions.json\r\n\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.11 Python/3.9.11 Linux/4.14.281-212.502.amzn2.x86_64 exec-env/AWS_ECS_EC2 exe/x86_64.ubuntu.20 prompt/off\n\n### Environment details (OS name and version, etc.)\n\naws/codebuild/standard:4.0", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7100", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7100/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7100/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7100/events", "html_url": "https://github.com/aws/aws-cli/issues/7100", "id": 1301802765, "node_id": "I_kwDOAGd3X85Nl-8N", "number": 7100, "title": "Cross account assume role fails because session duration does not have the default value of 1 hour", "user": {"login": "hossein-jazayeri", "id": 1238597, "node_id": "MDQ6VXNlcjEyMzg1OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1238597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hossein-jazayeri", "html_url": "https://github.com/hossein-jazayeri", "followers_url": "https://api.github.com/users/hossein-jazayeri/followers", "following_url": "https://api.github.com/users/hossein-jazayeri/following{/other_user}", "gists_url": "https://api.github.com/users/hossein-jazayeri/gists{/gist_id}", "starred_url": "https://api.github.com/users/hossein-jazayeri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hossein-jazayeri/subscriptions", "organizations_url": "https://api.github.com/users/hossein-jazayeri/orgs", "repos_url": "https://api.github.com/users/hossein-jazayeri/repos", "events_url": "https://api.github.com/users/hossein-jazayeri/events{/privacy}", "received_events_url": "https://api.github.com/users/hossein-jazayeri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 281839378, "node_id": "MDU6TGFiZWwyODE4MzkzNzg=", "url": "https://api.github.com/repos/aws/aws-cli/labels/assume-role", "name": "assume-role", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2221263953, "node_id": "MDU6TGFiZWwyMjIxMjYzOTUz", "url": "https://api.github.com/repos/aws/aws-cli/labels/sso", "name": "sso", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-12T09:36:03Z", "updated_at": "2022-09-20T22:53:33Z", "closed_at": "2022-09-20T22:53:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nAccessing resources of a non-SSO account from an `SSO` account fails unless `--duration-seconds` argument is set for the second `assume-role` command.\r\n\r\n### Expected Behavior\r\n\r\nThere should not be a need to explicitly specify `--duration-seconds`.\r\nIt should have a default value i.e. 1 hour.\r\n\r\n### Current Behavior\r\n\r\nAssuming the second role, returns the following error:\r\n```\r\nAn error occurred (ExpiredToken) when calling the AssumeRole operation: The security token included in the request is expired\r\n```\r\n\r\n### Reproduction Steps\r\n\r\nAssuming, we have two accounts: an `SSO` account and a non-SSO, `normal` account.\r\nIn order to access resources in the `normal` account from `SSO` account, take the following steps:\r\n\r\nIn the SSO account, having a role called `sso-role` with the following permissions policies:\r\n```json\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": \"sts:AssumeRole\",\r\n            \"Resource\": \"arn:aws:iam::normal-account-id:role/normal-account-role\"\r\n        }\r\n    ]\r\n}\r\n```\r\nAnd the following trust policy:\r\n```json\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Principal\": {\r\n                \"AWS\": \"arn:aws:iam::sso-account-id:root\"\r\n            },\r\n            \"Action\": \"sts:AssumeRole\"\r\n        }\r\n    ]\r\n}\r\n```\r\nIn the `normal account`, having `normal-account-role` role with the following trust policy:\r\n```json\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Principal\": {\r\n                \"AWS\": \"arn:aws:iam::sso-account-id:role/sso-role\"\r\n            },\r\n            \"Action\": \"sts:AssumeRole\"\r\n        }\r\n    ]\r\n}\r\n```\r\nNow, in order to access resources in the `normal` account from `SSO` account, first assume `sso-role` using `SSO` account's credentials:\r\n```bash\r\nexport $(printf \"AWS_ACCESS_KEY_ID=%s AWS_SECRET_ACCESS_KEY=%s AWS_SESSION_TOKEN=%s\" $(aws --profile sso-account sts assume-role --role-arn arn:aws:iam::sso-account-id:role/sso-role --role-session-name session1 --query \"Credentials.[AccessKeyId,SecretAccessKey,SessionToken]\" --output text ))\r\n```\r\nConfirm it:\r\n```bash\r\naws sts get-caller-identity\r\n\r\n{\r\n    \"UserId\": \"...:session1\",\r\n    \"Account\": \"sso-account-id\",\r\n    \"Arn\": \"arn:aws:sts::sso-account-id:assumed-role/sso-role/session1\"\r\n}\r\n```\r\nTry to assume the second role `normal-account-role` without `--duration-seconds`:\r\n```bash\r\nexport $(printf \"AWS_ACCESS_KEY_ID=%s AWS_SECRET_ACCESS_KEY=%s AWS_SESSION_TOKEN=%s\" $(aws sts assume-role --role-arn arn:aws:iam::normal-account-id:role/normal-account-role --role-session-name session2 --query \"Credentials.[AccessKeyId,SecretAccessKey,SessionToken]\" --output text))\r\n```\r\nThe command works when `--duration-seconds` is set and resources in `normal` account can be accessed.\r\n\r\n### Possible Solution\r\n\r\nHaving a default value (i.e. 1 hour) for `--duration-seconds` solves the problem.\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\n2.4.13\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nPython/3.8.8 Linux/5.10.102.1-microsoft-standard-WSL2 exe/x86_64.ubuntu.20 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7098", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7098/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7098/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7098/events", "html_url": "https://github.com/aws/aws-cli/issues/7098", "id": 1300931614, "node_id": "I_kwDOAGd3X85NiqQe", "number": 7098, "title": "aws s3 sync --delete option not deleting folders creating manually on console", "user": {"login": "akumar-99", "id": 24637021, "node_id": "MDQ6VXNlcjI0NjM3MDIx", "avatar_url": "https://avatars.githubusercontent.com/u/24637021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akumar-99", "html_url": "https://github.com/akumar-99", "followers_url": "https://api.github.com/users/akumar-99/followers", "following_url": "https://api.github.com/users/akumar-99/following{/other_user}", "gists_url": "https://api.github.com/users/akumar-99/gists{/gist_id}", "starred_url": "https://api.github.com/users/akumar-99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akumar-99/subscriptions", "organizations_url": "https://api.github.com/users/akumar-99/orgs", "repos_url": "https://api.github.com/users/akumar-99/repos", "events_url": "https://api.github.com/users/akumar-99/events{/privacy}", "received_events_url": "https://api.github.com/users/akumar-99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-11T16:14:37Z", "updated_at": "2022-07-25T08:25:30Z", "closed_at": "2022-07-12T18:08:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nI have a scenario wherein someone created directories inside S3 using AWS console and put in some files inside those directories using manual upload. So now when I run the sync command, those files get removed but the manually created directories still persist.\r\n\r\n### Expected Behavior\r\n\r\nThe manually created directories should also be deleted after the command execution.\r\n\r\n### Current Behavior\r\n\r\nThe manually created directories persist after the command execution.\r\n\r\n### Reproduction Steps\r\n\r\n1. Create a S3 bucket.\r\n2. Create a folder inside S3 using AWS console.\r\n3. Upload some files inside the directory.\r\n4. Run **aws s3 sync \\<localpath\\> \\<s3URI\\> --delete**\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\nAll the manually uploaded files even the ones inside these directories get deleted.\r\n\r\n### CLI version used\r\n\r\naws-cli/2.6.1\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nmacOS Monterey 12.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7098/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7098/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7089", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7089/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7089/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7089/events", "html_url": "https://github.com/aws/aws-cli/issues/7089", "id": 1295462411, "node_id": "I_kwDOAGd3X85NNzAL", "number": 7089, "title": "put-subscription-filter can't find log-group in the same region", "user": {"login": "sergiycheck", "id": 29612247, "node_id": "MDQ6VXNlcjI5NjEyMjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/29612247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sergiycheck", "html_url": "https://github.com/sergiycheck", "followers_url": "https://api.github.com/users/sergiycheck/followers", "following_url": "https://api.github.com/users/sergiycheck/following{/other_user}", "gists_url": "https://api.github.com/users/sergiycheck/gists{/gist_id}", "starred_url": "https://api.github.com/users/sergiycheck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sergiycheck/subscriptions", "organizations_url": "https://api.github.com/users/sergiycheck/orgs", "repos_url": "https://api.github.com/users/sergiycheck/repos", "events_url": "https://api.github.com/users/sergiycheck/events{/privacy}", "received_events_url": "https://api.github.com/users/sergiycheck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2395127410, "node_id": "MDU6TGFiZWwyMzk1MTI3NDEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/logs", "name": "logs", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-07-06T08:37:29Z", "updated_at": "2022-07-07T06:37:30Z", "closed_at": "2022-07-07T06:37:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI am following this tutorial [Using CloudWatch Logs subscription filters](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/SubscriptionFilters.html) and for example 1 Example 1: Subscription filters with Kinesis I did all steps untill 7 **creating the CloudWatch Logs subscription filter** \r\n\r\n1. Description of the created kinesis stream\r\n```json\r\n{\r\n    \"StreamDescription\": {\r\n        \"Shards\": [\r\n            {\r\n                \"ShardId\": \"shardId-000000000000\",\r\n                \"HashKeyRange\": {\r\n                    \"StartingHashKey\": \"0\",\r\n                    \"EndingHashKey\": \"340282366920938463463374607431768211455\"\r\n                },\r\n                \"SequenceNumberRange\": {\r\n                    \"StartingSequenceNumber\": \"49631127165339533725137421320677872161461509025207156738\"\r\n                }\r\n            }\r\n        ],\r\n        \"StreamARN\": \"arn:aws:kinesis:eu-north-1:581425740433:stream/RootAccess\",\r\n        \"StreamName\": \"RootAccess\",\r\n        \"StreamStatus\": \"ACTIVE\",\r\n        \"RetentionPeriodHours\": 24,\r\n        \"EnhancedMonitoring\": [\r\n            {\r\n                \"ShardLevelMetrics\": []\r\n            }\r\n        ],\r\n        \"EncryptionType\": \"NONE\",\r\n        \"KeyId\": null,\r\n        \"StreamCreationTimestamp\": \"2022-07-06T10:04:50+03:00\"\r\n    }\r\n}\r\n```\r\n2. output of the role creation\r\n```json\r\n{\r\n    \"Role\": {\r\n        \"Path\": \"/\",\r\n        \"RoleName\": \"CWLtoKinesisRole\",\r\n        \"RoleId\": \"AROAYOX5MXKI6VXTX4K5W\",\r\n        \"Arn\": \"arn:aws:iam::581425740433:role/CWLtoKinesisRole\",\r\n        \"CreateDate\": \"2022-07-06T07:08:02+00:00\",\r\n        \"AssumeRolePolicyDocument\": {\r\n            \"Statement\": {\r\n                \"Effect\": \"Allow\",\r\n                \"Principal\": {\r\n                    \"Service\": \"logs.eu-north-1.amazonaws.com\"\r\n                },\r\n                \"Action\": \"sts:AssumeRole\",\r\n                \"Condition\": {\r\n                    \"StringLike\": {\r\n                        \"aws:SourceArn\": \"arn:aws:logs:eu-north-1:581425740433:*\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n3. Attached permission policy for the created role **CWLtoKinesisRole**\r\n![image](https://user-images.githubusercontent.com/29612247/177503715-32f98aca-9c6f-4951-851a-3e7f13d7a990.png)\r\npermission policy json\r\n```json\r\n{\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": \"kinesis:PutRecord\",\r\n            \"Resource\": \"arn:aws:kinesis:eu-north-1:581425740433:stream/RootAccess\"\r\n        }\r\n    ]\r\n}\r\n```\r\n4. I created cloudTrail stream with cloudWatch log group\r\n\r\n![image](https://user-images.githubusercontent.com/29612247/177505098-c9468b86-e76f-4e50-84bf-f9384b2c255e.png)\r\n\r\n6. In the 7 step I am creating subscription filter with bash file **cmd.sh** file\r\n```sh\r\n#!/bin/sh\r\nregion=\"eu-north-1\"\r\naccId=\"581425740433\"\r\nawsRole=\"CWLtoKinesisRole\"\r\nlogGroupName=\"log-group-kinesis-subscription-filter\"\r\n\r\nexec aws logs put-subscription-filter \\\r\n    --log-group-name $logGroupName \\\r\n    --filter-name \"RootAccess\" \\\r\n    --filter-pattern \"{$.userIdentity.type = Root}\" \\\r\n    --destination-arn \"arn:aws:kinesis:$region:$accId:stream/RootAccess\" \\\r\n    --role-arn \"arn:aws:iam::$accId:role/$awsRole\"\r\n    --region $region\r\n```\r\nand after running this bash file I get the error\r\n\r\n```bash\r\nAn error occurred (ResourceNotFoundException) when calling the PutSubscriptionFilter operation: The specified log group does not exist.\r\n```\r\nHowever If I manually create subscription filter from the cloudwatch web interface it creates successfully \r\n![image](https://user-images.githubusercontent.com/29612247/177506368-367123ce-a7b1-40e6-a616-a5fb86194aa8.png)\r\n\r\nbut when I execute **get-shard-iterator** command from bash file\r\n```sh\r\n#!/bin/sh\r\n\r\nregion=\"eu-north-1\"\r\n\r\nexec aws kinesis get-shard-iterator \\\r\n--stream-name RootAccess --shard-id shardId-000000000000 \\\r\n--shard-iterator-type TRIM_HORIZON\r\n--region $region\r\n```\r\nit fails with error\r\n```bash\r\n$./cmd.sh\r\nAn error occurred (ResourceNotFoundException) when calling the GetShardIterator operation: Shard shardId-000000000000 in stream RootAccess under account 581425740433 does not exist\r\n```\n\n### Expected Behavior\n\ncreated subscription filter with **put-subscription-filter** command and executed **get-shard-iterator** command with result\r\n```bash\r\n{\r\n    \"ShardIterator\":\r\n    \"AAAAAAAAAAFGU/kLvNggvndHq2UIFOw5PZc6F01s3e3afsSscRM70JSbjIefg2ub07nk1y6CDxYR1UoGHJNP4m4NFUetzfL+wev+e2P4djJg4L9wmXKvQYoE+rMUiFq+p4Cn3IgvqOb5dRA0yybNdRcdzvnC35KQANoHzzahKdRGb9v4scv+3vaq+f+OIK8zM5My8ID+g6rMo7UKWeI4+IWiK2OSh0uP\"\r\n}\r\n```\n\n### Current Behavior\n\n**put-subscription-filter** command fails with error\r\n```bash\r\nAn error occurred (ResourceNotFoundException) when calling the PutSubscriptionFilter operation: The specified log group does not exist.\r\n```\r\n **get-shard-iterator** command fails with error\r\n\r\n```bash\r\nAn error occurred (ResourceNotFoundException) when calling the GetShardIterator operation: Shard shardId-000000000000 in stream RootAccess under account 581425740433 does not exist\r\n```\n\n### Reproduction Steps\n\n---\n\n### Possible Solution\n\n---\n\n### Additional Information/Context\n\n---\n\n### CLI version used\n\naws-cli/2.7.0 Python/3.9.11 Linux/5.13.0-52-generic exe/x86_64.ubuntu.20 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nUbuntu \"20.04.4 LTS (Focal Fossa)\"", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7089/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7079", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7079/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7079/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7079/events", "html_url": "https://github.com/aws/aws-cli/issues/7079", "id": 1291369794, "node_id": "I_kwDOAGd3X85M-L1C", "number": 7079, "title": "quicksight update-template-permissions gives validation fail and error", "user": {"login": "jesperalmstrom", "id": 6968138, "node_id": "MDQ6VXNlcjY5NjgxMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/6968138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jesperalmstrom", "html_url": "https://github.com/jesperalmstrom", "followers_url": "https://api.github.com/users/jesperalmstrom/followers", "following_url": "https://api.github.com/users/jesperalmstrom/following{/other_user}", "gists_url": "https://api.github.com/users/jesperalmstrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/jesperalmstrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jesperalmstrom/subscriptions", "organizations_url": "https://api.github.com/users/jesperalmstrom/orgs", "repos_url": "https://api.github.com/users/jesperalmstrom/repos", "events_url": "https://api.github.com/users/jesperalmstrom/events{/privacy}", "received_events_url": "https://api.github.com/users/jesperalmstrom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2376442078, "node_id": "MDU6TGFiZWwyMzc2NDQyMDc4", "url": "https://api.github.com/repos/aws/aws-cli/labels/quicksight", "name": "quicksight", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-07-01T12:51:30Z", "updated_at": "2022-07-19T18:31:19Z", "closed_at": "2022-07-19T18:30:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nWhen following this blob post (https://aws.amazon.com/blogs/big-data/migrate-amazon-quicksight-across-aws-accounts/) to update template permissions it with a template permission json file i get validation failed.\r\n\r\nTrying to use the grant permission parameter input works well.\r\n\r\nI remember that I have had similar errors with other cli commands where input file fails and input parameters work.\r\n\r\n### Expected Behavior\r\n\r\nPermission is granted to the quicksight template\r\n\r\n### Current Behavior\r\n\r\nWhen using a permission config file\r\n```\r\naws quicksight update-template-permissions --grant-permissions file://./template_permissions.json --profile myprofile --aws-account-id 87654321 --region eu-central-1 --template-id my_dashboard\r\n\r\nError parsing parameter '--grant-permissions': Expected: '=', received: '[' for input:\r\narn:aws:quicksight:eu-central-1:87654321:template/cost_dashboard\r\n[\r\n^\r\n  {\r\n    \"Principal\": \"arn:aws:iam::12345678:root\",\r\n    \"Actions\": [\"quicksight:UpdateTemplatePermissions\",\"quicksight:DescribeTemplate\"]\r\n  }\r\n]\r\n```\r\nThis command works as expected\r\n```\r\naws quicksight update-template-permissions --grant-permissions Pricipal=\"arn:aws:iam::12345678:root\",Actions=\"quicksight:UpdateTemplatePermissions\",\"quicksight:DescribeTemplate\" --profile myprofile --aws-account-id 87654321 --region eu-central-1 --template-id my_dashboard\r\n```\r\n\r\n\r\n### Reproduction Steps\r\n\r\nFollow the blog post. \r\nhttps://aws.amazon.com/blogs/big-data/migrate-amazon-quicksight-across-aws-accounts/\r\n\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.7.12 \r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nMacOS 12.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7078", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7078/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7078/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7078/events", "html_url": "https://github.com/aws/aws-cli/issues/7078", "id": 1291321794, "node_id": "I_kwDOAGd3X85M-AHC", "number": 7078, "title": "Appsync: CreatedAt used in beginsWith with several parameters requires AWSDateTime input instead of a string ==> .beginsWith.createdAt' with value 'StringValue{value=\"\"}' is not a valid 'AWSDateTime", "user": {"login": "vincent38wargnier", "id": 33725800, "node_id": "MDQ6VXNlcjMzNzI1ODAw", "avatar_url": "https://avatars.githubusercontent.com/u/33725800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent38wargnier", "html_url": "https://github.com/vincent38wargnier", "followers_url": "https://api.github.com/users/vincent38wargnier/followers", "following_url": "https://api.github.com/users/vincent38wargnier/following{/other_user}", "gists_url": "https://api.github.com/users/vincent38wargnier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent38wargnier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent38wargnier/subscriptions", "organizations_url": "https://api.github.com/users/vincent38wargnier/orgs", "repos_url": "https://api.github.com/users/vincent38wargnier/repos", "events_url": "https://api.github.com/users/vincent38wargnier/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent38wargnier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-07-01T12:05:08Z", "updated_at": "2022-07-01T17:13:37Z", "closed_at": "2022-07-01T17:13:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nHi, I want to make a @key to make queries that filter \"ProductsOrders\" by orderId, status, paymentStatus, and that everything is sorted by createdDate.\r\n\r\nI tried to reproduce the example from the [aws documentation](https://docs.amplify.aws/cli-legacy/graphql-transformer/key/#example-get-orders-by-customer-email-by-createdat) wich proposes the following solution to create a @key that sorts results by createdAt and at the same time sorting by other parameters.\r\n\r\n```\r\n# Get items for order by status by createdAt.\r\nquery ListInTransitItemsForOrder {\r\n  listItems(orderId:\"order1\", statusCreatedAt: { beginsWith: { status: IN_TRANSIT, createdAt: \"2019\" }}) {\r\n    items {\r\n      orderId\r\n      status\r\n      createdAt\r\n      name\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhen I do this in AppSync, I get the following error : \r\n`Validation error of type WrongType: argument 'createdAtStatusPaymentStatus.beginsWith.createdAt' with value 'StringValue{value='2019'}' is not a valid 'AWSDateTime'`\r\n\r\nWhy is it expecting a specific type in the beginsWith option, with cannot be a AWSDateTime type while the begins with expects a part of a AWSDateTime.\r\nHere is the exact example I did for trying :\r\n\r\nGraphQl Key :\r\n`@key(name: \"demo\", fields: [\"shopId\", \"createdAt\", \"status\", \"paymentStatus\" ], queryField: \"demo\")`\r\nAppSync Request :\r\n<img width=\"280\" alt=\"image\" src=\"https://user-images.githubusercontent.com/33725800/176887514-7e307f95-5e70-44fc-860b-76d2f153de5b.png\">\r\n\r\nError :\r\n<img width=\"450\" alt=\"image\" src=\"https://user-images.githubusercontent.com/33725800/176887186-708899ea-22e0-4fd5-adb0-14f9df51e45f.png\">\r\n\r\nThank you.\r\n\r\n### Expected Behavior\r\n\r\nSuccess\r\n\r\n### Current Behavior\r\n\r\n<img width=\"450\" alt=\"image\" src=\"https://user-images.githubusercontent.com/33725800/176887186-708899ea-22e0-4fd5-adb0-14f9df51e45f.png\">\r\n\r\n### Reproduction Steps\r\n\r\nCreate this GraphQl table :\r\n```\r\n\r\ntype productsOrder @model \r\n@key(name: \"demo\", fields: [\"shopId\", \"createdAt\", \"status\", \"paymentStatus\" ], queryField: \"demo\")\r\n {\r\n    id: ID!\r\n    shopId: String!\r\n    paymentStatus: String\r\n    status: String\r\n    createdAt: AWSDateTime!\r\n  }\r\n```\r\n\r\nAnd make this AppSync Request :\r\n<img width=\"280\" alt=\"image\" src=\"https://user-images.githubusercontent.com/33725800/176887514-7e307f95-5e70-44fc-860b-76d2f153de5b.png\">\r\n\r\n### Possible Solution\r\n\r\ncreate a field that stores the createdAt value in a string to sort alphabeticaly by this new field instead of by createdAt field\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\n7.6.19\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nmac OS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7078/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7069", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7069/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7069/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7069/events", "html_url": "https://github.com/aws/aws-cli/issues/7069", "id": 1287732982, "node_id": "I_kwDOAGd3X85MwT72", "number": 7069, "title": "Port and protocol options apparently ignored in calls to `ec2 authorize-security-group-egress`", "user": {"login": "danfuzz", "id": 1090235, "node_id": "MDQ6VXNlcjEwOTAyMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1090235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danfuzz", "html_url": "https://github.com/danfuzz", "followers_url": "https://api.github.com/users/danfuzz/followers", "following_url": "https://api.github.com/users/danfuzz/following{/other_user}", "gists_url": "https://api.github.com/users/danfuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/danfuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danfuzz/subscriptions", "organizations_url": "https://api.github.com/users/danfuzz/orgs", "repos_url": "https://api.github.com/users/danfuzz/repos", "events_url": "https://api.github.com/users/danfuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/danfuzz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 81772671, "node_id": "MDU6TGFiZWw4MTc3MjY3MQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}, {"id": 311028377, "node_id": "MDU6TGFiZWwzMTEwMjgzNzc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ec2", "name": "ec2", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-06-28T18:34:04Z", "updated_at": "2022-06-30T23:43:42Z", "closed_at": "2022-06-30T00:13:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nIt seems like it's not possible to get `ec2 authorize-security-group-egress` to create anything but an all-port all-protocol rule (given a VPC at least).\r\n\r\n### Expected Behavior\r\n\r\n`--port` and `--protocol` arguments, and the equivalent JSON arguments, are honored. E.g. here's the expected output from the repro script:\r\n\r\n```\r\nGroup ID: sg-xxxxxxxx\r\n{\r\n    \"Return\": true,\r\n    \"SecurityGroupRules\": []\r\n}\r\n{\r\n  \"IpProtocol\": \"tcp\",\r\n  \"FromPort\": 22,\r\n  \"ToPort\": 22\r\n}\r\n```\r\n\r\n### Current Behavior\r\n\r\n`--port` and `--protocol` arguments aren't honored. E.g., here's the actual output from the repro script:\r\n\r\n```\r\nGroup ID: sg-xxxxxxxx\r\n{\r\n    \"Return\": true,\r\n    \"SecurityGroupRules\": []\r\n}\r\n{\r\n  \"IpProtocol\": \"-1\",\r\n  \"FromPort\": -1,\r\n  \"ToPort\": -1\r\n}\r\n```\r\n\r\n\r\n### Reproduction Steps\r\n\r\nHere's a script to demonstrate the problem:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# Replace with a valid VPC ID.\r\nvpcId='vpc-xxxxxxxx'\r\n\r\ngroupId=\"$(\r\naws ec2 create-security-group --output json --region us-west-2 \\\r\n    --description test --group-name test --vpc-id \"${vpcId}\" \\\r\n| jq --raw-output '.GroupId'\r\n)\"\r\n\r\necho \"Group ID: ${groupId}\"\r\n\r\naws ec2 authorize-security-group-egress --output json --region us-west-2 \\\r\n    --group-id \"${groupId}\" --port 22 --protocol tcp\r\n\r\naws ec2 describe-security-group-rules --output json --region us-west-2 \\\r\n    --filters Name=group-id,Values=\"${groupId}\" \\\r\n| jq '.SecurityGroupRules[] | { IpProtocol, FromPort, ToPort }'\r\n```\r\n\r\n### Possible Solution\r\n\r\nI have no idea why the arguments are being ignored; sorry.\r\n\r\n### Additional Information/Context\r\n\r\nI tried this with both regular string arguments and a JSON argument. No difference between the two calling styles.\r\n\r\n### CLI version used\r\n\r\naws-cli/2.6.1 Python/3.9.12 Darwin/21.5.0 source/arm64 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nmacOS 12.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7069/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7067", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7067/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7067/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7067/events", "html_url": "https://github.com/aws/aws-cli/issues/7067", "id": 1287703819, "node_id": "I_kwDOAGd3X85MwM0L", "number": 7067, "title": "`TagSpecifications` not honored on `ec2 authorize-security-group-egress`", "user": {"login": "danfuzz", "id": 1090235, "node_id": "MDQ6VXNlcjEwOTAyMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1090235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danfuzz", "html_url": "https://github.com/danfuzz", "followers_url": "https://api.github.com/users/danfuzz/followers", "following_url": "https://api.github.com/users/danfuzz/following{/other_user}", "gists_url": "https://api.github.com/users/danfuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/danfuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danfuzz/subscriptions", "organizations_url": "https://api.github.com/users/danfuzz/orgs", "repos_url": "https://api.github.com/users/danfuzz/repos", "events_url": "https://api.github.com/users/danfuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/danfuzz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311028377, "node_id": "MDU6TGFiZWwzMTEwMjgzNzc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ec2", "name": "ec2", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-06-28T18:03:34Z", "updated_at": "2022-06-30T23:43:42Z", "closed_at": "2022-06-30T00:14:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen calling `ec2 authorize-security-group-egress` with a JSON argument, `TagSpecifications` listed in the argument do not seem to be honored, and end up causing partial failure of the command. Specifically, an egress rule gets added without a tag, and the command returns a `false` status.\n\n### Expected Behavior\n\nThe command should add a rule with a tag, and it should return a `true` status.\r\n\r\nHere's expected behavior from the script in the \"repro steps section:\"\r\n\r\n```\r\n$ ./egress-bug \r\nGroup ID: sg-xxxxxxxx\r\n{\r\n    \"Return\": true\r\n}\r\n[\r\n  \"sgr-xxxxxxxx\",\r\n  [{ \"Key\": \"Name\", \"Value\": \"hello-there\" }]\r\n]\r\n```\n\n### Current Behavior\n\nAn egress rule gets added but without any tags, and the command returns a `false` status.\r\n\r\nHere's current behavior from the script in the \"repro steps section:\"\r\n\r\n```\r\n$ ./egress-bug \r\nGroup ID: sg-xxxxxxxx\r\n{\r\n    \"Return\": false\r\n}\r\n[\r\n  \"sgr-xxxxxxxx\",\r\n  []\r\n]\r\n```\n\n### Reproduction Steps\n\nHere's a script. See above for the expected and actual results.\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# Replace with a valid VPC ID.\r\nvpcId='vpc-xxxxxxxx'\r\n\r\ngroupId=\"$(\r\naws ec2 create-security-group --output json --region us-west-2 \\\r\n    --description test --group-name test --vpc-id \"${vpcId}\" \\\r\n| jq --raw-output '.GroupId'\r\n)\"\r\n\r\necho \"Group ID: ${groupId}\"\r\n\r\njsonArg=\"$(jq -n --arg groupId \"${groupId}\" '\r\n{\r\n  GroupId: $groupId,\r\n  IpPermissions: [\r\n    {\r\n      FromPort: -1,\r\n      ToPort: -1,\r\n      IpProtocol: \"-1\"\r\n    }\r\n  ],\r\n  TagSpecifications: [\r\n    {\r\n      ResourceType: \"security-group-rule\",\r\n      Tags: [\r\n        {\r\n          Key: \"Name\",\r\n          Value: \"hello-there\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n')\"\r\n\r\naws ec2 authorize-security-group-egress --output json --region us-west-2 \\\r\n    --cli-input-json \"${jsonArg}\"\r\n\r\naws ec2 describe-security-group-rules --output json --region us-west-2 \\\r\n    --filters Name=group-id,Values=\"${groupId}\" \\\r\n| jq '.SecurityGroupRules[] | [.SecurityGroupRuleId, .Tags]'\r\n```\r\n\n\n### Possible Solution\n\nNo idea what's going wrong; sorry.\n\n### Additional Information/Context\n\nIf I remove the `TagSpecifications` section from the JSON argument, the command succeeds, including returning a `true` status. E.g., if change the construction of the JSON argument in the script to just be this:\r\n\r\n```bash\r\njsonArg=\"$(jq -n --arg groupId \"${groupId}\" '\r\n{\r\n  GroupId: $groupId,\r\n  IpPermissions: [\r\n    {\r\n      FromPort: -1,\r\n      ToPort: -1,\r\n      IpProtocol: \"-1\"\r\n    }\r\n  ]\r\n}\r\n')\"\r\n```\r\n\r\n\u2026 then the command succeeds.\n\n### CLI version used\n\naws-cli/2.6.1 Python/3.9.12 Darwin/21.5.0 source/arm64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nmacOS 12.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7067/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7057", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7057/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7057/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7057/events", "html_url": "https://github.com/aws/aws-cli/issues/7057", "id": 1280614764, "node_id": "I_kwDOAGd3X85MVKFs", "number": 7057, "title": "aws dms modify-replication-task throws exception for valid JSON table mappings change on Full Load replication task", "user": {"login": "daveandtaye", "id": 60975639, "node_id": "MDQ6VXNlcjYwOTc1NjM5", "avatar_url": "https://avatars.githubusercontent.com/u/60975639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daveandtaye", "html_url": "https://github.com/daveandtaye", "followers_url": "https://api.github.com/users/daveandtaye/followers", "following_url": "https://api.github.com/users/daveandtaye/following{/other_user}", "gists_url": "https://api.github.com/users/daveandtaye/gists{/gist_id}", "starred_url": "https://api.github.com/users/daveandtaye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daveandtaye/subscriptions", "organizations_url": "https://api.github.com/users/daveandtaye/orgs", "repos_url": "https://api.github.com/users/daveandtaye/repos", "events_url": "https://api.github.com/users/daveandtaye/events{/privacy}", "received_events_url": "https://api.github.com/users/daveandtaye/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4263187533, "node_id": "LA_kwDOAGd3X87-GxRN", "url": "https://api.github.com/repos/aws/aws-cli/labels/dms", "name": "dms", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-06-22T17:34:32Z", "updated_at": "2022-06-24T12:52:17Z", "closed_at": "2022-06-24T12:51:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nI have an existing Full Load Oracle replication task that writes to S3 with two views originally mapped. See original JSON table mappings here:\r\n```\r\n{\r\n   \"rules\":[\r\n      {\r\n         \"rule-type\":\"transformation\",\r\n         \"rule-id\":\"1\",\r\n         \"rule-name\":\"Lowercase Table Name Rule\",\r\n         \"rule-target\":\"table\",\r\n         \"value\":null,\r\n         \"object-locator\":{\r\n            \"schema-name\":\"%\",\r\n            \"table-name\":\"%\"\r\n         },\r\n         \"rule-action\":\"convert-lowercase\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":null\r\n      },\r\n      {\r\n         \"rule-type\":\"transformation\",\r\n         \"rule-id\":\"2\",\r\n         \"rule-name\":\"Lowercase Column Name Rule\",\r\n         \"rule-target\":\"column\",\r\n         \"value\":null,\r\n         \"object-locator\":{\r\n            \"schema-name\":\"%\",\r\n            \"table-name\":\"%\",\r\n            \"column-name\":\"%\"\r\n         },\r\n         \"rule-action\":\"convert-lowercase\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":null\r\n      },\r\n      {\r\n         \"rule-type\":\"transformation\",\r\n         \"rule-id\":\"3\",\r\n         \"rule-name\":\"Lowercase Schema Name Rule\",\r\n         \"rule-target\":\"schema\",\r\n         \"value\":null,\r\n         \"object-locator\":{\r\n            \"schema-name\":\"%\",\r\n            \"table-name\":null\r\n         },\r\n         \"rule-action\":\"convert-lowercase\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":null\r\n      },\r\n      {\r\n         \"rule-type\":\"transformation\",\r\n         \"rule-id\":\"4\",\r\n         \"rule-name\":\"4\",\r\n         \"rule-target\":\"column\",\r\n         \"value\":null,\r\n         \"object-locator\":{\r\n            \"schema-name\":\"%\",\r\n            \"table-name\":\"%\"\r\n         },\r\n         \"rule-action\":\"add-before-image-columns\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":{\r\n            \"column-prefix\":\"BI_\",\r\n            \"column-suffix\":\"\",\r\n            \"column-filter\":\"pk-only\"\r\n         },\r\n         \"tag-set\":null\r\n      },\r\n      {\r\n         \"rule-type\":\"post-processing\",\r\n         \"rule-id\":\"5\",\r\n         \"rule-name\":\"5\",\r\n         \"rule-target\":null,\r\n         \"value\":null,\r\n         \"object-locator\":{\r\n            \"schema-name\":\"%\",\r\n            \"table-name\":\"%\",\r\n            \"column-name\":null\r\n         },\r\n         \"rule-action\":\"add-tag\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":[\r\n            {\r\n               \"key\":\"data-source-id\",\r\n               \"value\":\"cccccabc-9c49-4684-a42d-7fdef929493e\"\r\n            },\r\n            {\r\n               \"key\":\"tenant-id\",\r\n               \"value\":\"3e9824ec-f99a-40e8-aa8e-61543d946d8b\"\r\n            },\r\n            {\r\n               \"key\":\"schema-name\",\r\n               \"value\":\"${schema-name}\"\r\n            },\r\n            {\r\n               \"key\":\"table-name\",\r\n               \"value\":\"${table-name}\"\r\n            }\r\n         ]\r\n      },\r\n      {\r\n         \"rule-type\":\"selection\",\r\n         \"rule-id\":\"14\",\r\n         \"rule-name\":\"14\",\r\n         \"rule-target\":null,\r\n         \"value\":null,\r\n         \"object-locator\":{\r\n            \"schema-name\":\"GENERAL\",\r\n            \"table-name\":\"DP_GORSDAM\",\r\n            \"table-type\":\"view\",\r\n            \"column-name\":null\r\n         },\r\n         \"rule-action\":\"include\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":null,\r\n         \"filters\":[\r\n            \r\n         ]\r\n      },\r\n      {\r\n         \"rule-type\":\"transformation\",\r\n         \"rule-id\":\"15\",\r\n         \"rule-name\":\"15\",\r\n         \"rule-target\":\"table\",\r\n         \"value\":\"gorsdam\",\r\n         \"object-locator\":{\r\n            \"schema-name\":\"GENERAL\",\r\n            \"table-name\":\"DP_GORSDAM\",\r\n            \"table-type\":\"view\"\r\n         },\r\n         \"rule-action\":\"rename\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":null\r\n      },\r\n      {\r\n         \"rule-type\":\"selection\",\r\n         \"rule-id\":\"16\",\r\n         \"rule-name\":\"16\",\r\n         \"rule-target\":null,\r\n         \"value\":null,\r\n         \"object-locator\":{\r\n            \"schema-name\":\"GENERAL\",\r\n            \"table-name\":\"DP_GORSDAV\",\r\n            \"table-type\":\"view\",\r\n            \"column-name\":null\r\n         },\r\n         \"rule-action\":\"include\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":null,\r\n         \"filters\":[\r\n            \r\n         ]\r\n      },\r\n      {\r\n         \"rule-type\":\"transformation\",\r\n         \"rule-id\":\"17\",\r\n         \"rule-name\":\"17\",\r\n         \"rule-target\":\"table\",\r\n         \"value\":\"gorsdav\",\r\n         \"object-locator\":{\r\n            \"schema-name\":\"GENERAL\",\r\n            \"table-name\":\"DP_GORSDAV\",\r\n            \"table-type\":\"view\"\r\n         },\r\n         \"rule-action\":\"rename\",\r\n         \"load-order\":null,\r\n         \"before-image-def\":null,\r\n         \"tag-set\":null\r\n      }\r\n   ]\r\n}\r\n```\r\nWhen I call `aws dms modify-replication-task` to modify the table mappings JSON on the replication task with the following JSON, it throws the error `An error occurred (InvalidParameterValueException) when calling the ModifyReplicationTask operation: Error in mapping rules. Rule with ruleId = 7 failed validation. view selection only applies to FULL_LOAD task`\r\n\r\nThe table mappings JSON I'm using, which works perfectly fine via the DMS replication task modify console, is the following:\r\n```\r\n{\r\n    \"rules\": [\r\n        {\r\n            \"rule-type\": \"transformation\",\r\n            \"rule-id\": \"1\",\r\n            \"rule-name\": \"Lowercase Table Name Rule\",\r\n            \"rule-target\": \"table\",\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"%\",\r\n                \"table-name\": \"%\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"convert-lowercase\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null\r\n        },\r\n        {\r\n            \"rule-type\": \"transformation\",\r\n            \"rule-id\": \"2\",\r\n            \"rule-name\": \"Lowercase Column Name Rule\",\r\n            \"rule-target\": \"column\",\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"%\",\r\n                \"table-name\": \"%\",\r\n                \"column-name\": \"%\"\r\n            },\r\n            \"rule-action\": \"convert-lowercase\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null\r\n        },\r\n        {\r\n            \"rule-type\": \"transformation\",\r\n            \"rule-id\": \"3\",\r\n            \"rule-name\": \"Lowercase Schema Name Rule\",\r\n            \"rule-target\": \"schema\",\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"%\",\r\n                \"table-name\": null,\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"convert-lowercase\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null\r\n        },\r\n        {\r\n            \"rule-type\": \"transformation\",\r\n            \"rule-id\": \"4\",\r\n            \"rule-name\": \"4\",\r\n            \"rule-target\": \"column\",\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"%\",\r\n                \"table-name\": \"%\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"add-before-image-columns\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": {\r\n                \"column-prefix\": \"BI_\",\r\n                \"column-suffix\": \"\",\r\n                \"column-filter\": \"pk-only\"\r\n            },\r\n            \"tag-set\": null\r\n        },\r\n        {\r\n            \"rule-type\": \"post-processing\",\r\n            \"rule-id\": \"5\",\r\n            \"rule-name\": \"5\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"%\",\r\n                \"table-name\": \"%\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"add-tag\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": [\r\n                {\r\n                    \"key\": \"data-source-id\",\r\n                    \"value\": \"cccccabc-9c49-4684-a42d-7fdef929493e\"\r\n                },\r\n                {\r\n                    \"key\": \"tenant-id\",\r\n                    \"value\": \"3e9824ec-f99a-40e8-aa8e-61543d946d8b\"\r\n                },\r\n                {\r\n                    \"key\": \"schema-name\",\r\n                    \"value\": \"${schema-name}\"\r\n                },\r\n                {\r\n                    \"key\": \"table-name\",\r\n                    \"value\": \"${table-name}\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"6\",\r\n            \"rule-name\": \"6\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANSECR\",\r\n                \"table-name\": \"GTVVPDI\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"7\",\r\n            \"rule-name\": \"7\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANINST1\",\r\n                \"table-name\": \"DP_DC_COLUMNS\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"8\",\r\n            \"rule-name\": \"8\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANINST1\",\r\n                \"table-name\": \"DP_DC_CONSTRAINT_COLUMNS\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"9\",\r\n            \"rule-name\": \"9\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANINST1\",\r\n                \"table-name\": \"DP_DC_CONSTRAINTS\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"10\",\r\n            \"rule-name\": \"10\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANINST1\",\r\n                \"table-name\": \"DP_DC_INDEX_COLUMNS\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"11\",\r\n            \"rule-name\": \"11\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANINST1\",\r\n                \"table-name\": \"DP_DC_INDEXES\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"12\",\r\n            \"rule-name\": \"12\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANINST1\",\r\n                \"table-name\": \"DP_DC_TABLES\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"13\",\r\n            \"rule-name\": \"13\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"BANINST1\",\r\n                \"table-name\": \"DP_DC_VERSIONS\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"14\",\r\n            \"rule-name\": \"14\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"GENERAL\",\r\n                \"table-name\": \"DP_GORSDAM\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"transformation\",\r\n            \"rule-id\": \"15\",\r\n            \"rule-name\": \"15\",\r\n            \"rule-target\": \"table\",\r\n            \"value\": \"gorsdam\",\r\n            \"object-locator\": {\r\n                \"schema-name\": \"GENERAL\",\r\n                \"table-name\": \"DP_GORSDAM\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"rename\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null\r\n        },\r\n        {\r\n            \"rule-type\": \"selection\",\r\n            \"rule-id\": \"16\",\r\n            \"rule-name\": \"16\",\r\n            \"rule-target\": null,\r\n            \"value\": null,\r\n            \"object-locator\": {\r\n                \"schema-name\": \"GENERAL\",\r\n                \"table-name\": \"DP_GORSDAV\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"include\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null,\r\n            \"filters\": []\r\n        },\r\n        {\r\n            \"rule-type\": \"transformation\",\r\n            \"rule-id\": \"17\",\r\n            \"rule-name\": \"17\",\r\n            \"rule-target\": \"table\",\r\n            \"value\": \"gorsdav\",\r\n            \"object-locator\": {\r\n                \"schema-name\": \"GENERAL\",\r\n                \"table-name\": \"DP_GORSDAV\",\r\n                \"table-type\": \"view\",\r\n                \"column-name\": null\r\n            },\r\n            \"rule-action\": \"rename\",\r\n            \"load-order\": null,\r\n            \"before-image-def\": null,\r\n            \"tag-set\": null\r\n        }\r\n    ]\r\n}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7054", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7054/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7054/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7054/events", "html_url": "https://github.com/aws/aws-cli/issues/7054", "id": 1276792462, "node_id": "I_kwDOAGd3X85MGk6O", "number": 7054, "title": "Logs Validator is not seeing when user will delete two digest-files in a row", "user": {"login": "kmaciagsamsung", "id": 42635721, "node_id": "MDQ6VXNlcjQyNjM1NzIx", "avatar_url": "https://avatars.githubusercontent.com/u/42635721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmaciagsamsung", "html_url": "https://github.com/kmaciagsamsung", "followers_url": "https://api.github.com/users/kmaciagsamsung/followers", "following_url": "https://api.github.com/users/kmaciagsamsung/following{/other_user}", "gists_url": "https://api.github.com/users/kmaciagsamsung/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmaciagsamsung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmaciagsamsung/subscriptions", "organizations_url": "https://api.github.com/users/kmaciagsamsung/orgs", "repos_url": "https://api.github.com/users/kmaciagsamsung/repos", "events_url": "https://api.github.com/users/kmaciagsamsung/events{/privacy}", "received_events_url": "https://api.github.com/users/kmaciagsamsung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2475121083, "node_id": "MDU6TGFiZWwyNDc1MTIxMDgz", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudtrail", "name": "cloudtrail", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-06-20T11:36:51Z", "updated_at": "2022-07-01T18:06:09Z", "closed_at": "2022-07-01T18:05:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nPrecondition:\r\n1. You've created a trail using s3-bucket with correct policy, started logging in it\r\n2. You've set the flag enable-log-file-validation to true in your trail to turn on Digests\r\n\r\nSteps To Reproduce:\r\n1. Generate Digest for e.g. 12 hours\r\n2. Delete 2 digest-files in a row e.g.\r\naws s3 rm \"s3://bucket-names/AWSLogs/436118225002/CloudTrail-Digest/stg2/2022/06/20/436118225002_CloudTrail-Digest_stg2_test-konrad_stg2_20220620T072811Z.json.gz\"\r\naws s3 rm \"s3://bucket-names/AWSLogs/436118225002/CloudTrail-Digest/stg2/2022/06/20/436118225002_CloudTrail-Digest_stg2_test-konrad_stg2_20220620T062811Z.json.gz\"\r\n3. Run validate-logs command\r\naws cloudtrail validate-logs --trail-arn arn:aws:cloudtrail:us-east-1:062317140429:trail/test-konrad --s3-bucket konrad-trail-client-tests --account-id 062317140429 --start-time 2022-06-20T00:00:00\r\n\r\nACTUAL: \r\n```\r\nValidating log files for trail arn:aws:cloudtrail:us-east-1:062317140429:trail/test-konrad between 2022-06-20T00:00:00Z and 2022-06-20T11:15:06Z\r\n\r\nDigest file\ts3://konrad-trail-client-tests/AWSLogs/062317140429/CloudTrail-Digest/us-east-1/2022/06/20/062317140429_CloudTrail-Digest_us-east-1_test-konrad_us-east-1_20220620T071049Z.json.gz\tINVALID: not found\r\n\r\nResults requested for 2022-06-20T00:00:00Z to 2022-06-20T11:15:06Z\r\nResults found for 2022-06-20T00:10:49Z to 2022-06-20T10:10:49Z:\r\n\r\n9/10 digest files valid, 1/10 digest files INVALID\r\n```\r\nIt should be one more file with status INVALID\n\n### Expected Behavior\n\n```\r\nValidating log files for trail arn:aws:cloudtrail:us-east-1:062317140429:trail/test-konrad between 2022-06-20T00:00:00Z and 2022-06-20T11:15:06Z\r\n\r\nDigest file\ts3://konrad-trail-client-tests/AWSLogs/062317140429/CloudTrail-Digest/us-east-1/2022/06/20/062317140429_CloudTrail-Digest_us-east-1_test-konrad_us-east-1_20220620T071049Z.json.gz\tINVALID: not found\r\n<one more additional file>    INVALID: not found\r\n\r\nResults requested for 2022-06-20T00:00:00Z to 2022-06-20T11:15:06Z\r\nResults found for 2022-06-20T00:10:49Z to 2022-06-20T10:10:49Z:\r\n\r\n9/11 digest files valid, 2/11 digest files INVALID\r\n```\n\n### Current Behavior\n\nAs on description\n\n### Reproduction Steps\n\nAs on description\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n```\n\n### Environment details (OS name and version, etc.)\n\nLinux Ubuntu 18.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7054/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7048", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7048/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7048/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7048/events", "html_url": "https://github.com/aws/aws-cli/issues/7048", "id": 1274815664, "node_id": "I_kwDOAGd3X85L_CSw", "number": 7048, "title": "ssm's command `command-executed` has issue with regex", "user": {"login": "andrii-glukhyi", "id": 99629730, "node_id": "U_kgDOBfA6og", "avatar_url": "https://avatars.githubusercontent.com/u/99629730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrii-glukhyi", "html_url": "https://github.com/andrii-glukhyi", "followers_url": "https://api.github.com/users/andrii-glukhyi/followers", "following_url": "https://api.github.com/users/andrii-glukhyi/following{/other_user}", "gists_url": "https://api.github.com/users/andrii-glukhyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrii-glukhyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrii-glukhyi/subscriptions", "organizations_url": "https://api.github.com/users/andrii-glukhyi/orgs", "repos_url": "https://api.github.com/users/andrii-glukhyi/repos", "events_url": "https://api.github.com/users/andrii-glukhyi/events{/privacy}", "received_events_url": "https://api.github.com/users/andrii-glukhyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 311948145, "node_id": "MDU6TGFiZWwzMTE5NDgxNDU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ssm", "name": "ssm", "color": "ff5500", "default": false, "description": ""}, {"id": 342845110, "node_id": "MDU6TGFiZWwzNDI4NDUxMTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/waiter", "name": "waiter", "color": "c7ddfc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-06-17T09:42:30Z", "updated_at": "2022-09-02T22:17:26Z", "closed_at": "2022-09-02T22:17:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nAccording to the docs https://docs.aws.amazon.com/cli/latest/reference/ssm/wait/command-executed.html to wait for the command execution run :\r\n```\r\naws ssm wait command-executed --command-id 6f3bd912-a4f9-487c-98c7-bae4db329857 --instance-id i-083e1601960282cd\r\n```\r\nHowever cli throws exception: \r\n```\r\nWaiter CommandExecuted failed: An error occurred (ValidationException): 1 validation error detected: Value 'i-083e1601960282cd' at 'instanceId' failed to satisfy constraint: Member must satisfy regular expression pattern: (^i-(\\w{8}|\\w{17})$)|(^mi-\\w{17}$)\r\n```\r\n\r\n### Expected Behavior\r\n\r\nCli should not invalidate valid instanceId\r\n\r\n### Current Behavior\r\n\r\nRegex fail check correct string\r\n\r\n### Reproduction Steps\r\n\r\n1. Start any command with SSM\r\n2. try to wait for that command\r\n\r\n### Possible Solution\r\n\r\nFix regex\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.2.38\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nMacOS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7044", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7044/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7044/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7044/events", "html_url": "https://github.com/aws/aws-cli/issues/7044", "id": 1273628527, "node_id": "I_kwDOAGd3X85L6gdv", "number": 7044, "title": "1.25.10 breaks aws cli", "user": {"login": "jrobison-sb", "id": 39737211, "node_id": "MDQ6VXNlcjM5NzM3MjEx", "avatar_url": "https://avatars.githubusercontent.com/u/39737211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrobison-sb", "html_url": "https://github.com/jrobison-sb", "followers_url": "https://api.github.com/users/jrobison-sb/followers", "following_url": "https://api.github.com/users/jrobison-sb/following{/other_user}", "gists_url": "https://api.github.com/users/jrobison-sb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrobison-sb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrobison-sb/subscriptions", "organizations_url": "https://api.github.com/users/jrobison-sb/orgs", "repos_url": "https://api.github.com/users/jrobison-sb/repos", "events_url": "https://api.github.com/users/jrobison-sb/events{/privacy}", "received_events_url": "https://api.github.com/users/jrobison-sb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-06-16T14:16:24Z", "updated_at": "2022-06-17T17:30:43Z", "closed_at": "2022-06-17T17:30:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWe have an AMI where awscli 1.25.2 is already baked in. When I boot up that AMI and run `pip3 install awscli --upgrade` it installs 1.25.10, which sets /usr/local/bin/aws to chmod 644 (not executable), which breaks the AWS cli.\r\n\r\n```\r\nroot@ip-172-31-6-194:~# pip3 list | grep awscli\r\nawscli                 1.25.2              \r\n\r\nroot@ip-172-31-6-194:~# aws --version\r\naws-cli/1.25.2 Python/3.8.10 Linux/5.13.0-1025-aws botocore/1.27.2\r\n\r\nroot@ip-172-31-6-194:~# ls -la $(which aws)\r\n-rwxr-xr-x 1 root root 815 Jun  3 20:43 /usr/local/bin/aws\r\n\r\nroot@ip-172-31-6-194:~# pip3 install awscli --upgrade\r\nCollecting awscli\r\n  Downloading awscli-1.25.10-py3-none-any.whl (3.9 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.9 MB 21.4 MB/s \r\nRequirement already satisfied, skipping upgrade: rsa<4.8,>=3.1.2 in /usr/local/lib/python3.8/dist-packages (from awscli) (4.7.2)\r\nRequirement already satisfied, skipping upgrade: s3transfer<0.7.0,>=0.6.0 in /usr/local/lib/python3.8/dist-packages (from awscli) (0.6.0)\r\nCollecting botocore==1.27.10\r\n  Downloading botocore-1.27.10-py3-none-any.whl (8.9 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 8.9 MB 55.8 MB/s \r\nRequirement already satisfied, skipping upgrade: colorama<0.4.5,>=0.2.5 in /usr/lib/python3/dist-packages (from awscli) (0.4.3)\r\nRequirement already satisfied, skipping upgrade: PyYAML<5.5,>=3.10 in /usr/lib/python3/dist-packages (from awscli) (5.3.1)\r\nRequirement already satisfied, skipping upgrade: docutils<0.17,>=0.10 in /usr/local/lib/python3.8/dist-packages (from awscli) (0.16)\r\nRequirement already satisfied, skipping upgrade: pyasn1>=0.1.3 in /usr/lib/python3/dist-packages (from rsa<4.8,>=3.1.2->awscli) (0.4.2)\r\nRequirement already satisfied, skipping upgrade: jmespath<2.0.0,>=0.7.1 in /usr/local/lib/python3.8/dist-packages (from botocore==1.27.10->awscli) (1.0.0)\r\nRequirement already satisfied, skipping upgrade: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.8/dist-packages (from botocore==1.27.10->awscli) (2.8.2)\r\nRequirement already satisfied, skipping upgrade: urllib3<1.27,>=1.25.4 in /usr/lib/python3/dist-packages (from botocore==1.27.10->awscli) (1.25.8)\r\nRequirement already satisfied, skipping upgrade: six>=1.5 in /usr/lib/python3/dist-packages (from python-dateutil<3.0.0,>=2.1->botocore==1.27.10->awscli) (1.14.0)\r\nInstalling collected packages: botocore, awscli\r\n  Attempting uninstall: botocore\r\n    Found existing installation: botocore 1.27.2\r\n    Uninstalling botocore-1.27.2:\r\n      Successfully uninstalled botocore-1.27.2\r\n  Attempting uninstall: awscli\r\n    Found existing installation: awscli 1.25.2\r\n    Uninstalling awscli-1.25.2:\r\n      Successfully uninstalled awscli-1.25.2\r\nSuccessfully installed awscli-1.25.10 botocore-1.27.10\r\nroot@ip-172-31-6-194:~# \r\n\r\nroot@ip-172-31-6-194:~# ls -la /usr/local/bin/aws\r\n-rw-r--r-- 1 root root 815 Jun 16 14:08 /usr/local/bin/aws\r\n\r\nroot@ip-172-31-6-194:~# aws --version\r\nbash: /usr/local/bin/aws: Permission denied\r\n```\r\n\n\n### Expected Behavior\n\nAWS CLI should be functional/executable after installing/upgrading it.\n\n### Current Behavior\n\nSee above.\n\n### Reproduction Steps\n\nSee above.\n\n### Possible Solution\n\nIf I `chmod 755 /usr/local/bin/aws`, it works again.\n\n### Additional Information/Context\n\n```\r\nroot@ip-172-31-6-194:~# lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 20.04.4 LTS\r\nRelease:\t20.04\r\nCodename:\tfocal\r\n\r\nroot@ip-172-31-6-194:~# python3 --version\r\nPython 3.8.10\r\n```\n\n### CLI version used\n\n1.25.10\n\n### Environment details (OS name and version, etc.)\n\nUbuntu 20.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7044/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7033", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7033/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7033/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7033/events", "html_url": "https://github.com/aws/aws-cli/issues/7033", "id": 1270791057, "node_id": "I_kwDOAGd3X85LvruR", "number": 7033, "title": "aws fms get-policy for security_group_audit_content lists ManagedServiceData 6 times", "user": {"login": "jdeluyck", "id": 5451787, "node_id": "MDQ6VXNlcjU0NTE3ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/5451787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdeluyck", "html_url": "https://github.com/jdeluyck", "followers_url": "https://api.github.com/users/jdeluyck/followers", "following_url": "https://api.github.com/users/jdeluyck/following{/other_user}", "gists_url": "https://api.github.com/users/jdeluyck/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdeluyck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdeluyck/subscriptions", "organizations_url": "https://api.github.com/users/jdeluyck/orgs", "repos_url": "https://api.github.com/users/jdeluyck/repos", "events_url": "https://api.github.com/users/jdeluyck/events{/privacy}", "received_events_url": "https://api.github.com/users/jdeluyck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 4233288859, "node_id": "LA_kwDOAGd3X878Utyb", "url": "https://api.github.com/repos/aws/aws-cli/labels/fms", "name": "fms", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-06-14T13:13:58Z", "updated_at": "2022-06-16T06:24:56Z", "closed_at": "2022-06-16T06:24:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\naws-cli returns the managedServiceData for aws fms policies for security_group_audit_content 5-6 times:\r\n\r\nCreated in web console:\r\n\r\n```json\r\n\"ManagedServiceData\": \"{\\\"type\\\":\\\"SECURITY_GROUPS_CONTENT_AUDIT\\\",\\\"securityGroups\\\":null,\\\"securityGroupAction\\\":null,\\\"preManagedOptions\\\":[{\\\"denyProtocolAllValue\\\":null,\\\"allowedProtocolsLists\\\":{\\\"customListIds\\\":[\\\"36a2e5e3-6032-41f4-836d-1599690bc624\\\"],\\\"defaultListId\\\":null,\\\"defaultListVersion\\\":null},\\\"deniedPublicAccessAppLists\\\":null,\\\"allowedPublicAccessAppLists\\\":null,\\\"allowedPortCountPerSgRule\\\":null,\\\"minIpv4CidrPrefixLenPerSgRule\\\":null,\\\"minIpv6CidrPrefixLenPerSgRule\\\":null,\\\"auditSgDirection\\\":null},{\\\"denyProtocolAllValue\\\":null,\\\"allowedProtocolsLists\\\":null,\\\"deniedPublicAccessAppLists\\\":null,\\\"allowedPublicAccessAppLists\\\":null,\\\"allowedPortCountPerSgRule\\\":1,\\\"minIpv4CidrPrefixLenPerSgRule\\\":null,\\\"minIpv6CidrPrefixLenPerSgRule\\\":null,\\\"auditSgDirection\\\":null},{\\\"denyProtocolAllValue\\\":null,\\\"allowedProtocolsLists\\\":null,\\\"deniedPublicAccessAppLists\\\":null,\\\"allowedPublicAccessAppLists\\\":null,\\\"allowedPortCountPerSgRule\\\":null,\\\"minIpv4CidrPrefixLenPerSgRule\\\":20,\\\"minIpv6CidrPrefixLenPerSgRule\\\":null,\\\"auditSgDirection\\\":null},{\\\"denyProtocolAllValue\\\":null,\\\"allowedProtocolsLists\\\":null,\\\"deniedPublicAccessAppLists\\\":null,\\\"allowedPublicAccessAppLists\\\":null,\\\"allowedPortCountPerSgRule\\\":null,\\\"minIpv4CidrPrefixLenPerSgRule\\\":null,\\\"minIpv6CidrPrefixLenPerSgRule\\\":48,\\\"auditSgDirection\\\":null},{\\\"denyProtocolAllValue\\\":null,\\\"allowedProtocolsLists\\\":null,\\\"deniedPublicAccessAppLists\\\":null,\\\"allowedPublicAccessAppLists\\\":null,\\\"allowedPortCountPerSgRule\\\":null,\\\"minIpv4CidrPrefixLenPerSgRule\\\":null,\\\"minIpv6CidrPrefixLenPerSgRule\\\":null,\\\"auditSgDirection\\\":{\\\"type\\\":\\\"INGRESS\\\"}}]}\"\r\n```\r\n\r\nScreenshot:\r\n![Screenshot 2022-06-14 at 14 52 37](https://user-images.githubusercontent.com/5451787/173585333-2219a73e-f7d8-4c72-8ca2-824f1e21a823.png)\r\n\n\n### Expected Behavior\n\nJust one json map with all parameters\n\n### Current Behavior\n\nReproduces map once per parameter, each time containing one configuration item\n\n### Reproduction Steps\n\nCreate fms policy\r\nrun aws fms get-policy --policy-id <id>\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.7 Python/3.9.13 Darwin/21.5.0 source/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nMacos 12.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7030", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7030/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7030/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7030/events", "html_url": "https://github.com/aws/aws-cli/issues/7030", "id": 1268730572, "node_id": "I_kwDOAGd3X85Ln0rM", "number": 7030, "title": "error: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"", "user": {"login": "jedrekdomanski", "id": 5911945, "node_id": "MDQ6VXNlcjU5MTE5NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5911945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jedrekdomanski", "html_url": "https://github.com/jedrekdomanski", "followers_url": "https://api.github.com/users/jedrekdomanski/followers", "following_url": "https://api.github.com/users/jedrekdomanski/following{/other_user}", "gists_url": "https://api.github.com/users/jedrekdomanski/gists{/gist_id}", "starred_url": "https://api.github.com/users/jedrekdomanski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jedrekdomanski/subscriptions", "organizations_url": "https://api.github.com/users/jedrekdomanski/orgs", "repos_url": "https://api.github.com/users/jedrekdomanski/repos", "events_url": "https://api.github.com/users/jedrekdomanski/events{/privacy}", "received_events_url": "https://api.github.com/users/jedrekdomanski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2220990352, "node_id": "MDU6TGFiZWwyMjIwOTkwMzUy", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks", "name": "eks", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-06-12T23:25:44Z", "updated_at": "2022-06-20T23:25:58Z", "closed_at": "2022-06-20T23:25:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI've just installed the latest `aws-cli` using this documentation for Linux\r\nhttps://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html\r\n```aws --version\r\naws-cli/2.7.7 Python/3.9.11 Linux/5.13.0-48-generic exe/x86_64.ubuntu.21 prompt/off\r\n```\r\nI then ran `kubectl version` and got an error:\r\n```\r\nerror: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\r\n```\r\n\r\nI removed `kubectl` completely, installed it again using PPA for Ubuntu 21.10, ran `kubectl version` again and got the same error.\n\n### Expected Behavior\n\nNo error is raised\n\n### Current Behavior\n\nerror: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\n\n### Reproduction Steps\n\nInstalled the latest `aws-cli` using this documentation for Linux\r\nhttps://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html\r\n\r\nInstall `kubectl`\r\nRun `kubectl version`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.7\n\n### Environment details (OS name and version, etc.)\n\nLinux Home 5.13.0-48-generic #54-Ubuntu SMP Wed Jun 1 20:38:48 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7018", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7018/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7018/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7018/events", "html_url": "https://github.com/aws/aws-cli/issues/7018", "id": 1261633782, "node_id": "I_kwDOAGd3X85LMwD2", "number": 7018, "title": "Error in shorthand parsing of the --api-passthrough parameter in acm-pca", "user": {"login": "tomasclemente", "id": 23341498, "node_id": "MDQ6VXNlcjIzMzQxNDk4", "avatar_url": "https://avatars.githubusercontent.com/u/23341498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomasclemente", "html_url": "https://github.com/tomasclemente", "followers_url": "https://api.github.com/users/tomasclemente/followers", "following_url": "https://api.github.com/users/tomasclemente/following{/other_user}", "gists_url": "https://api.github.com/users/tomasclemente/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomasclemente/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomasclemente/subscriptions", "organizations_url": "https://api.github.com/users/tomasclemente/orgs", "repos_url": "https://api.github.com/users/tomasclemente/repos", "events_url": "https://api.github.com/users/tomasclemente/events{/privacy}", "received_events_url": "https://api.github.com/users/tomasclemente/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 4210564128, "node_id": "LA_kwDOAGd3X876-Bwg", "url": "https://api.github.com/repos/aws/aws-cli/labels/acm-pca", "name": "acm-pca", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-06-06T10:08:23Z", "updated_at": "2022-07-01T18:10:44Z", "closed_at": "2022-07-01T18:10:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI am following the instructions provide in the AWS Documentation [here](https://docs.aws.amazon.com/acm-pca/latest/userguide/PcaIssueCert.html#custom-subject-2) and use the CLI command aws acm-pca issue-certificate to create a certificate with custom extensions\r\n\r\nHere is the command I am using\r\n\r\n```\r\n> aws acm-pca issue-certificate \\\r\n>       --validity Type=DAYS,Value=10 \\\r\n>       --signing-algorithm \"SHA256WITHRSA\" \\\r\n>       --csr fileb://csr.pem \\\r\n>       --api-passthrough fileb://extensions.txt \\\r\n>       --template-arn arn:aws:acm-pca:::template/EndEntityCertificate_APIPassthrough/V1 \\\r\n>       --certificate-authority-arn arn:aws:acm-pca:[REGION]:[ACCOUNT]:certificate-authority/[PCA_ID]\r\n```\r\n\r\n\n\n### Expected Behavior\n\nI expect to receive a response by the acm-pca API with the ARN of the issued certificate. But it seems that the API call is never launched due to an error while parsing parameters\n\n### Current Behavior\n\nThe execution of the issue-certificate command stops with a Python error:\r\n\r\n```\r\n$ aws acm-pca issue-certificate \\\r\n>    --validity Type=DAYS,Value=10 \\\r\n>    --signing-algorithm \"SHA256WITHRSA\" \\\r\n>    --csr fileb://csr.pem \\\r\n>    --api-passthrough fileb://extensions.txt \\\r\n>    --template-arn arn:aws:acm-pca:::template/EndEntityCertificate_APIPassthrough/V1 \\\r\n>    --certificate-authority-arn arn:aws:acm-pca:[REGION]:[ACCOUNT]:certificate-authority/[PCA_ID]\r\n\r\n'in <string>' requires string as left operand, not int\r\n```\r\n\r\nApplying --debug, it seems that the execution stops during the shorthand parsing of the api-passthrough parameter.\r\n\r\n```\r\n2022-06-06 11:49:53,217 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.7.6 Python/3.9.11 Darwin/21.4.0 exe/x86_64\r\n2022-06-06 11:49:53,218 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['acm-pca', 'issue-certificate', '--validity', 'Type=DAYS,Value=10', '--signing-algorithm', 'SHA256WITHRSA', '--csr', 'fileb://csr.pem', '--api-passthrough', 'fileb://extensions.txt', '--template-arn', 'arn:aws:acm-pca:::template/EndEntityCertificate_APIPassthrough/V1', '--certificate-authority-arn', 'arn:aws:acm-pca:[REGION]:[ACCOUNT]:certificate-authority/[PCA_ID]', '--debug']\r\n2022-06-06 11:49:53,281 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x7ff675552940>\r\n2022-06-06 11:49:53,281 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x7ff6753ae1f0>\r\n2022-06-06 11:49:53,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-06-06 11:49:53,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7ff67534f550>\r\n2022-06-06 11:49:53,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7ff675358550>\r\n2022-06-06 11:49:53,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x7ff675565310>\r\n2022-06-06 11:49:53,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x7ff6753f6ca0>\r\n2022-06-06 11:49:53,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-06-06 11:49:53,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x7ff67555d550>\r\n2022-06-06 11:49:53,283 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/awscli/data/cli.json\r\n2022-06-06 11:49:53,285 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x7ff6754aa670>\r\n2022-06-06 11:49:53,285 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x7ff6754b01f0>\r\n2022-06-06 11:49:53,285 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x7ff6754b0160>\r\n2022-06-06 11:49:53,285 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x7ff6754b0310>\r\n2022-06-06 11:49:53,285 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x7ff6754b0280>\r\n2022-06-06 11:49:53,285 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x7ff675600dc0>\r\n2022-06-06 11:49:53,285 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.7.6 Python/3.9.11 Darwin/21.4.0 exe/x86_64 prompt/off\r\n2022-06-06 11:49:53,286 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['acm-pca', 'issue-certificate', '--validity', 'Type=DAYS,Value=10', '--signing-algorithm', 'SHA256WITHRSA', '--csr', 'fileb://csr.pem', '--api-passthrough', 'fileb://extensions.txt', '--template-arn', 'arn:aws:acm-pca:::template/EndEntityCertificate_APIPassthrough/V1', '--certificate-authority-arn', 'arn:aws:acm-pca:[REGION]:[ACCOUNT]:certificate-authority/[PCA_ID]', '--debug']\r\n2022-06-06 11:49:53,286 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7ff675552f70>\r\n2022-06-06 11:49:53,286 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7ff6750d9700>\r\n2022-06-06 11:49:53,286 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7ff6755c4430>\r\n2022-06-06 11:49:53,286 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x7ff6750d3b80>\r\n2022-06-06 11:49:53,286 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7ff675141280>\r\n2022-06-06 11:49:53,295 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-06-06 11:49:53,300 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7ff6753f6b80>\r\n2022-06-06 11:49:53,301 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7ff6753ac0d0>\r\n2022-06-06 11:49:53,331 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/awscli/botocore/data/acm-pca/2017-08-22/service-2.json\r\n2022-06-06 11:49:53,334 - MainThread - botocore.hooks - DEBUG - Event building-command-table.acm-pca: calling handler <function add_waiters at 0x7ff67555d550>\r\n2022-06-06 11:49:53,362 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/awscli/botocore/data/acm-pca/2017-08-22/waiters-2.json\r\n2022-06-06 11:49:53,364 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('api-passthrough', <awscli.arguments.CLIArgument object at 0x7ff675769550>), ('certificate-authority-arn', <awscli.arguments.CLIArgument object at 0x7ff675769520>), ('csr', <awscli.arguments.CLIArgument object at 0x7ff6757694f0>), ('signing-algorithm', <awscli.arguments.CLIArgument object at 0x7ff675769700>), ('template-arn', <awscli.arguments.CLIArgument object at 0x7ff675769730>), ('validity', <awscli.arguments.CLIArgument object at 0x7ff675769790>), ('validity-not-before', <awscli.arguments.CLIArgument object at 0x7ff6757697c0>), ('idempotency-token', <awscli.arguments.CLIArgument object at 0x7ff675769760>)])\r\n2022-06-06 11:49:53,364 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm-pca.issue-certificate: calling handler <function add_streaming_output_arg at 0x7ff675557280>\r\n2022-06-06 11:49:53,364 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm-pca.issue-certificate: calling handler <function add_cli_input_json at 0x7ff675141a60>\r\n2022-06-06 11:49:53,364 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm-pca.issue-certificate: calling handler <function add_cli_input_yaml at 0x7ff675141ca0>\r\n2022-06-06 11:49:53,364 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm-pca.issue-certificate: calling handler <function unify_paging_params at 0x7ff6753ae700>\r\n2022-06-06 11:49:53,395 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/awscli/botocore/data/acm-pca/2017-08-22/paginators-1.json\r\n2022-06-06 11:49:53,396 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm-pca.issue-certificate: calling handler <function add_generate_skeleton at 0x7ff67549cc10>\r\n2022-06-06 11:49:53,396 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.acm-pca.issue-certificate: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7ff6757698b0>>\r\n2022-06-06 11:49:53,396 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.acm-pca.issue-certificate: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7ff6757698e0>>\r\n2022-06-06 11:49:53,396 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.acm-pca.issue-certificate: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7ff675769970>>\r\n2022-06-06 11:49:53,397 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm-pca.issue-certificate.api-passthrough: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7ff67564c4c0>\r\n2022-06-06 11:49:53,398 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.acm-pca.issue-certificate: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7ff67510b0d0>\r\n2022-06-06 11:49:53,398 - MainThread - awscli.argprocess - DEBUG - Parsing param --api-passthrough as shorthand\r\n2022-06-06 11:49:53,398 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 458, in main\r\n  File \"awscli/clidriver.py\", line 593, in __call__\r\n  File \"awscli/clidriver.py\", line 741, in __call__\r\n  File \"awscli/clidriver.py\", line 799, in _build_call_parameters\r\n  File \"awscli/arguments.py\", line 453, in add_to_params\r\n  File \"awscli/arguments.py\", line 461, in _unpack_argument\r\n  File \"awscli/arguments.py\", line 476, in _emit_first_response\r\n  File \"awscli/arguments.py\", line 473, in _emit\r\n  File \"awscli/botocore/hooks.py\", line 228, in emit\r\n  File \"awscli/botocore/hooks.py\", line 211, in _emit\r\n  File \"awscli/argprocess.py\", line 327, in __call__\r\n  File \"awscli/argprocess.py\", line 349, in _parse_as_shorthand\r\n  File \"awscli/shorthand.py\", line 172, in parse\r\n  File \"awscli/shorthand.py\", line 177, in _parameter\r\n  File \"awscli/shorthand.py\", line 195, in _keyval\r\n  File \"awscli/shorthand.py\", line 205, in _key\r\nTypeError: 'in <string>' requires string as left operand, not int\r\n\r\n'in <string>' requires string as left operand, not int\r\n```\r\n\n\n### Reproduction Steps\n\nAWS Documentation [here](https://docs.aws.amazon.com/acm-pca/latest/userguide/PcaIssueCert.html#custom-subject-2) \r\n\r\n```\r\n> aws acm-pca issue-certificate \\\r\n>       --validity Type=DAYS,Value=10 \\\r\n>       --signing-algorithm \"SHA256WITHRSA\" \\\r\n>       --csr fileb://csr.pem \\\r\n>       --api-passthrough fileb://extensions.txt \\\r\n>       --template-arn arn:aws:acm-pca:::template/EndEntityCertificate_APIPassthrough/V1 \\\r\n>       --certificate-authority-arn arn:aws:acm-pca:[REGION]:[ACCOUNT]:certificate-authority/[PCA_ID]\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.7.6\n\n### Environment details (OS name and version, etc.)\n\nmacOS 12.3.1 aws-cli/2.7.6 Python/3.9.11 Darwin/21.4.0 exe/x86_64 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7018/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7018/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7017", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7017/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7017/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7017/events", "html_url": "https://github.com/aws/aws-cli/issues/7017", "id": 1260935247, "node_id": "I_kwDOAGd3X85LKFhP", "number": 7017, "title": "User Name field no longer in access_key.csv", "user": {"login": "justin107d", "id": 35573658, "node_id": "MDQ6VXNlcjM1NTczNjU4", "avatar_url": "https://avatars.githubusercontent.com/u/35573658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justin107d", "html_url": "https://github.com/justin107d", "followers_url": "https://api.github.com/users/justin107d/followers", "following_url": "https://api.github.com/users/justin107d/following{/other_user}", "gists_url": "https://api.github.com/users/justin107d/gists{/gist_id}", "starred_url": "https://api.github.com/users/justin107d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justin107d/subscriptions", "organizations_url": "https://api.github.com/users/justin107d/orgs", "repos_url": "https://api.github.com/users/justin107d/repos", "events_url": "https://api.github.com/users/justin107d/events{/privacy}", "received_events_url": "https://api.github.com/users/justin107d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-06-05T01:40:55Z", "updated_at": "2022-06-08T00:55:51Z", "closed_at": "2022-06-08T00:55:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\ninstructions on the site and error from command state that the csv file with IAM credentials should include the User Name, but it is not there resulting in them loading incorrectly.\r\n\r\nhttps://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html#cli-configure-quickstart-creds-create\r\n\r\n### Expected Behavior\r\n\r\nUsing the following code to input my credentials into the cli\r\n`aws configure import -csv file://C:\\filepath\\username_access_keys.csv`\r\n\r\n### Current Behavior\r\n\r\n```\r\nC:\\Users\\Justin>aws configure import --csv file://C:\\Users\\Justin\\Downloads\\Justin_test_accessKeys.csv\r\nSuccessfully imported 1 profile(s)\r\n\r\nC:\\Users\\Justin>aws iam get-user\r\n\r\nAn error occurred (InvalidClientTokenId) when calling the GetUser operation: The security token included in the request is invalid.\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n1. create a new IAM account with AdministratorAccess.\r\n2. go to security credentials and create a new access key\r\n3. save it to the downloads folder\r\n4. edit the csv to add a User Name header on the first row and the user name on the second row\r\n5. use `aws configure import --csv file://C:\\Users\\Justin\\Downloads\\Justin_test_accessKeys.csv` to load the keys into the CLI\r\n6. test with `aws iam get-user`\r\n\r\n### Possible Solution\r\n\r\ncorrect the mismatch from what is created for the credentials or remove the requirement from both the instructions and the cli\r\n\r\n### Additional Information/Context\r\n\r\n`aws configure list` lists the wrong credentials than what I am importing.\r\n\r\n### CLI version used\r\n\r\naws-cli/2.7.6 Python/3.9.11 Windows/10 exe/AMD64 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nWindows 10", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7017/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/7010", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/7010/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/7010/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/7010/events", "html_url": "https://github.com/aws/aws-cli/issues/7010", "id": 1259890937, "node_id": "I_kwDOAGd3X85LGGj5", "number": 7010, "title": "Send data using firehose", "user": {"login": "mloumi", "id": 44882553, "node_id": "MDQ6VXNlcjQ0ODgyNTUz", "avatar_url": "https://avatars.githubusercontent.com/u/44882553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mloumi", "html_url": "https://github.com/mloumi", "followers_url": "https://api.github.com/users/mloumi/followers", "following_url": "https://api.github.com/users/mloumi/following{/other_user}", "gists_url": "https://api.github.com/users/mloumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mloumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mloumi/subscriptions", "organizations_url": "https://api.github.com/users/mloumi/orgs", "repos_url": "https://api.github.com/users/mloumi/repos", "events_url": "https://api.github.com/users/mloumi/events{/privacy}", "received_events_url": "https://api.github.com/users/mloumi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-06-03T13:04:35Z", "updated_at": "2022-06-03T13:23:23Z", "closed_at": "2022-06-03T13:22:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nI'm trying to send data to firehose using this cmd (only for test):\r\n\r\naws firehose put-record --delivery-stream-name stream --cli-binary-format raw-in-base64-out --record=\"{\\\"Data\\\":\\\"1\\\"}\"\r\n\r\nThe stream is already created on AWS.\n\n### Expected Behavior\n\nCorrectly send the record\n\n### Current Behavior\n\nI get this error as a result:\r\n\r\nAn error occurred (InvalidArgumentException) when calling the PutRecord operation: This operation is not permitted on KinesisStreamAsSource delivery stream type.\n\n### Reproduction Steps\n\nCreate a stream on AWS and run the cmd:\r\n\r\naws firehose put-record --delivery-stream-name stream --cli-binary-format raw-in-base64-out --record=\"{\\\"Data\\\":\\\"1\\\"}\"\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nV2\n\n### Environment details (OS name and version, etc.)\n\nUbuntu 20.04.3 LTS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/7010/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/7010/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6998", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6998/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6998/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6998/events", "html_url": "https://github.com/aws/aws-cli/issues/6998", "id": 1254091054, "node_id": "I_kwDOAGd3X85Kv-ku", "number": 6998, "title": "S3ReplicateObject Not Supported In S3Control Create Job As A Supported Operation", "user": {"login": "Mralbert93", "id": 61246987, "node_id": "MDQ6VXNlcjYxMjQ2OTg3", "avatar_url": "https://avatars.githubusercontent.com/u/61246987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mralbert93", "html_url": "https://github.com/Mralbert93", "followers_url": "https://api.github.com/users/Mralbert93/followers", "following_url": "https://api.github.com/users/Mralbert93/following{/other_user}", "gists_url": "https://api.github.com/users/Mralbert93/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mralbert93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mralbert93/subscriptions", "organizations_url": "https://api.github.com/users/Mralbert93/orgs", "repos_url": "https://api.github.com/users/Mralbert93/repos", "events_url": "https://api.github.com/users/Mralbert93/events{/privacy}", "received_events_url": "https://api.github.com/users/Mralbert93/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-31T16:09:22Z", "updated_at": "2022-05-31T17:33:43Z", "closed_at": "2022-05-31T17:33:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nAWS CLI Command Reference states that it supports S3ReplicateObject as an operation for create-job. However, the CLI does not actually support this operation and fails to create batch jobs for this operation.\r\n\r\nhttps://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3control/create-job.html \n\n### Expected Behavior\n\nThe AWS CLI should support this operation as it is listed as a supported operation. \n\n### Current Behavior\n\nI receive the following error:\r\n\r\nUnknown parameter in Operation: \"S3ReplicateObject\", must be one of: LambdaInvoke, S3PutObjectCopy, S3PutObjectAcl, S3PutObjectTagging, S3DeleteObjectTagging, S3InitiateRestoreObject, S3PutObjectLegalHold, S3PutObjectRetention\r\n\n\n### Reproduction Steps\n\naws s3control create-job \\\r\n    --account-id (account-id) \\\r\n    --operation '{\"S3ReplicateObject\": {}}' \\ \r\n    --report '{\"Bucket\":\"arn:aws:s3:::(bucket)\", \"Format\":\"Report_CSV\",\"Enabled\":true,\"ReportScope\":\"AllTasks\"}' \\\r\n    --manifest '{\"Spec\":{\"Format\":\"S3BatchOperations_CSV_20180820\",\"Fields\":[\"Bucket\",\"Key\",\"VersionId\"]},\"Location\":{\"ObjectArn\":\"arn:aws:s3:::(bucket)/manifest.csv\",\"ETag\":\"(etag)\"}}' \\\r\n    --priority (priority #) \\\r\n    --role-arn (role arn)\r\n\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.2.45\n\n### Environment details (OS name and version, etc.)\n\naws-cli/2.2.45 Python/3.8.8 Windows/10 exe/AMD64 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6998/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6997", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6997/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6997/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6997/events", "html_url": "https://github.com/aws/aws-cli/issues/6997", "id": 1253187305, "node_id": "I_kwDOAGd3X85Ksh7p", "number": 6997, "title": "'aws configure get region' does not work with the --profile flag", "user": {"login": "YevheniiPokhvalii", "id": 68227075, "node_id": "MDQ6VXNlcjY4MjI3MDc1", "avatar_url": "https://avatars.githubusercontent.com/u/68227075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YevheniiPokhvalii", "html_url": "https://github.com/YevheniiPokhvalii", "followers_url": "https://api.github.com/users/YevheniiPokhvalii/followers", "following_url": "https://api.github.com/users/YevheniiPokhvalii/following{/other_user}", "gists_url": "https://api.github.com/users/YevheniiPokhvalii/gists{/gist_id}", "starred_url": "https://api.github.com/users/YevheniiPokhvalii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YevheniiPokhvalii/subscriptions", "organizations_url": "https://api.github.com/users/YevheniiPokhvalii/orgs", "repos_url": "https://api.github.com/users/YevheniiPokhvalii/repos", "events_url": "https://api.github.com/users/YevheniiPokhvalii/events{/privacy}", "received_events_url": "https://api.github.com/users/YevheniiPokhvalii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "fbca04", "default": false, "description": "This issue needs reproduction."}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-05-30T23:32:03Z", "updated_at": "2022-06-04T00:13:41Z", "closed_at": "2022-06-04T00:13:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen I run `aws configure get region` it only gets the region for the `default` profile. When I try to add `--profile` to this command, it returns nothing.\r\n\r\n```\r\n$ aws configure get region\r\neu-central-1\r\n$ aws configure get region --profile default\r\neu-central-1\r\n```\r\n```\r\n$ aws configure get region --profile some_other_profile\r\n$ \r\n$ # empty result\r\n```\n\n### Expected Behavior\n\n```\r\n$ aws configure get region --profile some_other_profile\r\neu-central-1\r\n```\r\n\r\n`aws configure get region --profile some_other_profile` should return the default region for the chosen profile.\n\n### Current Behavior\n\n```\r\n$ aws configure get region --profile some_other_profile\r\n$ \r\n$ # empty result\r\n```\n\n### Reproduction Steps\n\nRun `aws configure get region --profile some_other_profile`. This profile should not be `default`.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.7.3\n\n### Environment details (OS name and version, etc.)\n\nUbuntu 22.04 (WSL) Windows 11", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6994", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6994/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6994/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6994/events", "html_url": "https://github.com/aws/aws-cli/issues/6994", "id": 1250450645, "node_id": "I_kwDOAGd3X85KiFzV", "number": 6994, "title": "events put-target with ssm automation doesn't start the automation", "user": {"login": "tomiszili", "id": 54439475, "node_id": "MDQ6VXNlcjU0NDM5NDc1", "avatar_url": "https://avatars.githubusercontent.com/u/54439475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomiszili", "html_url": "https://github.com/tomiszili", "followers_url": "https://api.github.com/users/tomiszili/followers", "following_url": "https://api.github.com/users/tomiszili/following{/other_user}", "gists_url": "https://api.github.com/users/tomiszili/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomiszili/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomiszili/subscriptions", "organizations_url": "https://api.github.com/users/tomiszili/orgs", "repos_url": "https://api.github.com/users/tomiszili/repos", "events_url": "https://api.github.com/users/tomiszili/events{/privacy}", "received_events_url": "https://api.github.com/users/tomiszili/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-05-27T07:46:29Z", "updated_at": "2022-05-27T08:18:52Z", "closed_at": "2022-05-27T08:18:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen i tried to create an SSM automation rule target  (AWS-StartEC2Instance and AWS-StopEC2Instance) the trigger was started according to the rule's monitoring page but on the ssm automation console there wasn't any related automation.\r\n\r\nWhen i created these target with the AWs management console it works properly.\n\n### Expected Behavior\n\nWorking ssm automation target.\n\n### Current Behavior\n\nWhen i tried to create an SSM automation rule target  (AWS-StartEC2Instance and AWS-StopEC2Instance) the trigger was started according to the rule's monitoring page but on the ssm automation console there wasn't any related automation.\n\n### Reproduction Steps\n\n```\r\n#!/bin/bash\r\n\r\n#######\r\n# STOP\r\n#######\r\naws events put-rule \\\r\n--name dev-0-island-stop \\\r\n--schedule-expression \"cron(0 18 ? * MON-FRI *)\" \\\r\n--state ENABLED \\\r\n--description \"dev-0 island stop trigger\" \\\r\n\r\ntarget=$(cat << EOF\r\n{\r\n    \"Id\": \"1\",\r\n    \"Arn\": \"arn:aws:ssm:eu-central-1::automation-definition/AWS-StopEC2Instance\",\r\n    \"RoleArn\": \"arn:aws:iam::<hidden account ID>:role/service-role/EventBridge_Invoke_Start_Automation_stopstartEC2\",\r\n    \"Input\": \"{\\\"InstanceId\\\":[\\\"i-xxxx\\\",\\\"i-xxxx\\\",\\\"i-xxxx\\\"],\\\"AutomationAssumeRole\\\":[\\\"arn:aws:iam::<hidden account ID>:role/AutomationServiceRole\\\"]}\"\r\n}\r\nEOF\r\n)\r\n\r\naws events put-targets \\\r\n--rule dev-0-island-stop \\\r\n--targets \"${target}\" \\\r\n\r\n#######\r\n# START\r\n#######\r\n\r\naws events put-rule \\\r\n--name dev-0-island-start \\\r\n--schedule-expression \"cron(0 5 ? * MON-FRI *)\" \\\r\n--state ENABLED \\\r\n--description \"dev-0 island start trigger\" \\\r\n\r\ntarget=$(cat << EOF\r\n{\r\n    \"Id\": \"1\",\r\n    \"Arn\": \"arn:aws:ssm:eu-central-1::automation-definition/AWS-StartEC2Instance\",\r\n    \"RoleArn\": \"arn:aws:iam::<hidden account ID>:role/service-role/EventBridge_Invoke_Start_Automation_stopstartEC2\",\r\n    \"Input\": \"{\\\"InstanceId\\\":[\\\"i-xxxx\\\",\\\"i-xxxx\\\",\\\"i-xxxx\\\"],\\\"AutomationAssumeRole\\\":[\\\"arn:aws:iam::<hidden account ID>:role/AutomationServiceRole\\\"]}\"\r\n}\r\nEOF\r\n)\r\n\r\naws events put-targets \\\r\n--rule dev-0-island-start \\\r\n--targets \"${target}\" \\\r\n```\r\n\r\nThe policy used:\r\n```\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Action\": \"ssm:StartAutomationExecution\",\r\n            \"Effect\": \"Allow\",\r\n            \"Resource\": [\r\n                \"arn:aws:ssm:eu-central-1:*:automation-definition/AWS-StopEC2Instance:*\",\r\n                \"arn:aws:ssm:eu-central-1:*:automation-definition/AWS-StartEC2Instance:*\"\r\n            ]\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"iam:PassRole\"\r\n            ],\r\n            \"Resource\": \"arn:aws:iam::<hidden account ID>:role/AutomationServiceRole\",\r\n            \"Condition\": {\r\n                \"StringLikeIfExists\": {\r\n                    \"iam:PassedToService\": \"ssm.amazonaws.com\"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\n\n### Possible Solution\n\nI think the missing option to set the automation version is the problem.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.6.4 Python/3.9.11 Linux/5.10.102.1-microsoft-standard-WSL2 exe/x86_64.ubuntu.20 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nWSL2 Ubuntu 20.04 @ Windows 11", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6994/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6983", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6983/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6983/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6983/events", "html_url": "https://github.com/aws/aws-cli/issues/6983", "id": 1247427897, "node_id": "I_kwDOAGd3X85KWj05", "number": 6983, "title": "Example in apigatewaymanagementapi post-to-connection  failed", "user": {"login": "JohnChen-K", "id": 60607480, "node_id": "MDQ6VXNlcjYwNjA3NDgw", "avatar_url": "https://avatars.githubusercontent.com/u/60607480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnChen-K", "html_url": "https://github.com/JohnChen-K", "followers_url": "https://api.github.com/users/JohnChen-K/followers", "following_url": "https://api.github.com/users/JohnChen-K/following{/other_user}", "gists_url": "https://api.github.com/users/JohnChen-K/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnChen-K/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnChen-K/subscriptions", "organizations_url": "https://api.github.com/users/JohnChen-K/orgs", "repos_url": "https://api.github.com/users/JohnChen-K/repos", "events_url": "https://api.github.com/users/JohnChen-K/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnChen-K/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2371850792, "node_id": "MDU6TGFiZWwyMzcxODUwNzky", "url": "https://api.github.com/repos/aws/aws-cli/labels/apigateway", "name": "apigateway", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": true, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-05-25T03:46:59Z", "updated_at": "2022-05-25T15:29:42Z", "closed_at": "2022-05-25T15:29:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nGot the error when running the example in the awscli/examples/apigatewaymanagementapi/post-to-connection.rst\r\n`aws apigatewaymanagementapi post-to-connection --connection-id L0SM9cOFvHcCIhw= --data \"Hello from API Gateway!\" --endpoint-url https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod`\r\n\r\n`Invalid base64: \"Hello from API Gateway!\"`\r\n\r\n\n\n### Expected Behavior\n\n`Could not connect to the endpoint URL:\"https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod/@connections/L0SM9cOFvHcCIhw%3D\"`\n\n### Current Behavior\n\n`aws apigatewaymanagementapi post-to-connection --connection-id L0SM9cOFvHcCIhw= --data \"Hello from API Gateway!\" --endpoint-url https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod`\r\n\r\n`Invalid base64: \"Hello from API Gateway!\"`\n\n### Reproduction Steps\n\nRun the cmd \r\n\r\n`aws --version`\r\n\r\n`aws-cli/2.1.18`\r\n\r\n`aws apigatewaymanagementapi post-to-connection --connection-id L0SM9cOFvHcCIhw= --data \"Hello from API Gateway!\" --endpoint-url https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod`\r\n\r\n`Invalid base64: \"Hello from API Gateway!\"`\n\n### Possible Solution\n\nIt worked after adding the \"--cli-binary-format\".\r\n\r\n`aws apigatewaymanagementapi post-to-connection --connection-id L0SM9cOFvHcCIhw=  --cli-binary-format raw-in-base64-out --data \"Hello from API Gateway!\" --endpoint-url https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod`\r\n\r\n`Could not connect to the endpoint URL: \"https://aabbccddee.execute-api.us-west-2.amazonaws.com/prod/@connections/L0SM9cOFvHcCIhw%3D`\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.1.18 Python/3.7.3 \n\n### Environment details (OS name and version, etc.)\n\nLinux/5.10.102.1-microsoft-standard-WSL2 exe/x86_64.ubuntu.20 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6966", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6966/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6966/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6966/events", "html_url": "https://github.com/aws/aws-cli/issues/6966", "id": 1239944701, "node_id": "I_kwDOAGd3X85J6A39", "number": 6966, "title": "s3api multipart upload unexpected behavior", "user": {"login": "TEH30P", "id": 15148944, "node_id": "MDQ6VXNlcjE1MTQ4OTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/15148944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TEH30P", "html_url": "https://github.com/TEH30P", "followers_url": "https://api.github.com/users/TEH30P/followers", "following_url": "https://api.github.com/users/TEH30P/following{/other_user}", "gists_url": "https://api.github.com/users/TEH30P/gists{/gist_id}", "starred_url": "https://api.github.com/users/TEH30P/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TEH30P/subscriptions", "organizations_url": "https://api.github.com/users/TEH30P/orgs", "repos_url": "https://api.github.com/users/TEH30P/repos", "events_url": "https://api.github.com/users/TEH30P/events{/privacy}", "received_events_url": "https://api.github.com/users/TEH30P/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289055120, "node_id": "MDU6TGFiZWwyODkwNTUxMjA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3api", "name": "s3api", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-05-18T13:10:59Z", "updated_at": "2022-06-06T17:00:33Z", "closed_at": "2022-06-06T17:00:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nThe commands `aws s3api upload-part` and `aws s3api complete-multipart-upload` have unexpected behavior.\r\n\r\n\r\n### Expected Behavior\r\n\r\n### s3api upload-part\r\nShould return error when `--part-number` is out of range `[1-10000]`.\r\n\r\n### s3api complete-multipart-upload\r\nArgument `--multipart-upload` must be described as _required_ in **Synopsis** section of [documentation](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3api/complete-multipart-upload.html#synopsis).\r\n\r\n### Current Behavior\r\n\r\n### s3api upload-part\r\nAccept invalid (out of range`[1..10000]`) `--part-number` values without error.\r\n\r\n### s3api complete-multipart-upload\r\nIf `--multipart-upload` argument is omitted then `MalformedXML` error returned which incorrectly describes the problem.\r\n\r\n### Reproduction Steps\r\n\r\n`s3api complete-multipart-upload` without `--multipart-upload` argument.\r\n``` bash\r\ndd if=/dev/zero of=/tmp/test.bin bs=4k count=1280 # 5M\r\nS3_MPU_ID=$( aws --output text --query 'UploadId' s3api create-multipart-upload --bucket mpu-test --key test.bin )\r\naws s3api upload-part --bucket mpu-test --key test.bin --upload-id \"$S3_MPU_ID\"  --part-number 1 --body /tmp/test.bin\r\naws s3api upload-part --bucket mpu-test --key test.bin --upload-id \"$S3_MPU_ID\"  --part-number 2 --body /tmp/test.bin\r\naws s3api complete-multipart-upload --bucket mpu-test --key test.bin --upload-id \"$S3_MPU_ID\"\r\n```\r\n`s3api upload-part` invalid parameter.\r\n``` bash\r\ndd if=/dev/zero of=/tmp/test.bin bs=4k count=1280 # 5M\r\nS3_MPU_ID=$( aws --output text --query 'UploadId' s3api create-multipart-upload --bucket mpu-test --key test.bin )\r\naws s3api upload-part --bucket mpu-test --key test.bin --upload-id \"$S3_MPU_ID\"  --part-number 0 --body /tmp/test.bin # no error\r\naws s3api upload-part --bucket mpu-test --key test.bin --upload-id \"$S3_MPU_ID\"  --part-number 1 --body /tmp/test.bin\r\naws s3api abort-multipart-upload --bucket mpu-test --key test.bin --upload-id \"$S3_MPU_ID\"\r\n```\r\n\r\n\r\n### Possible Solution\r\n\r\nDecribed in _Expected Behavior_ section.\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.6.4 Python/3.9.11 Linux/3.10.0-1160.53.1.el7.x86_64 exe/x86_64.centos.7 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nLinux 3.10.0-1160.53.1.el7.x86_64 #1 SMP Fri Jan 14 13:59:45 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6966/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6954", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6954/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6954/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6954/events", "html_url": "https://github.com/aws/aws-cli/issues/6954", "id": 1236816226, "node_id": "I_kwDOAGd3X85JuFFi", "number": 6954, "title": "ECS Scheduled Tasks seems to change the Command override", "user": {"login": "rom1gal", "id": 34347105, "node_id": "MDQ6VXNlcjM0MzQ3MTA1", "avatar_url": "https://avatars.githubusercontent.com/u/34347105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rom1gal", "html_url": "https://github.com/rom1gal", "followers_url": "https://api.github.com/users/rom1gal/followers", "following_url": "https://api.github.com/users/rom1gal/following{/other_user}", "gists_url": "https://api.github.com/users/rom1gal/gists{/gist_id}", "starred_url": "https://api.github.com/users/rom1gal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rom1gal/subscriptions", "organizations_url": "https://api.github.com/users/rom1gal/orgs", "repos_url": "https://api.github.com/users/rom1gal/repos", "events_url": "https://api.github.com/users/rom1gal/events{/privacy}", "received_events_url": "https://api.github.com/users/rom1gal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2220994337, "node_id": "MDU6TGFiZWwyMjIwOTk0MzM3", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecs", "name": "ecs", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-05-16T08:37:47Z", "updated_at": "2022-06-21T22:41:28Z", "closed_at": "2022-05-23T22:31:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nHi,\r\n\r\nI've just noticed that when the Scheduled Tasks is edited from ECS (just changing the Description or the Schedule Expression for instance, you can refer to the screenshot attached) instead from EventBridge directly the command is immediately changed from an array with a single string (with commas in it) to an array of several strings. \r\n\r\nIt seems ECS is splitting my command string into multiple because of the commas in it.\n\n### Expected Behavior\n\nUpdating the scheduled tasks from ECS Scheduled Tasks should not have any impact on a field that is not being updating.\r\n\r\nAnd we should be able to create a command based on a single string with commas in it\n\n### Current Behavior\n\nCF \"Describe the bug\"\n\n### Reproduction Steps\n\nVia Terraform I am able to create the EventBridge rule correctly : \r\n\r\n```\r\n{\r\n  \"containerOverrides\": [{\r\n    \"name\": \"cypress\",\r\n    \"command\": [\"cypress/integration/specs/createAccount.feature,cypress/integration/specs/createCustomer.feature,cypress/integration/specs/createImport.feature,cypress/integration/specs/createUser.feature,cypress/integration/specs/execCommand.feature\"]\r\n  }]\r\n}\r\n```\r\n\r\nIf I change a single config from ECS Scheduled Tasks (like the Schedule Expression, the description) my command will be splitted : EventBridge will \"notice\" the difference : \r\n\r\n```\r\n{\r\n  \"containerOverrides\": [{\r\n    \"name\": \"cypress\",\r\n    \"command\": [\"cypress/integration/specs/createAccount.feature\", \"cypress/integration/specs/createCustomer.feature\", \"cypress/integration/specs/createImport.feature\", \"cypress/integration/specs/createUser.feature\", \"cypress/integration/specs/execCommand.feature\"]\r\n  }]\r\n} \r\n```\r\n\r\nAs well as Terraform : \r\n```\r\n\r\n  ~ resource \"aws_cloudwatch_event_target\" \"cypress\" {\r\n        id             = \"cypress-MultipleFeatures-terraform-20220510151256526700000003\"\r\n      ~ input          = jsonencode(\r\n          ~ {\r\n              ~ containerOverrides = [\r\n                  ~ {\r\n                      ~ command = [\r\n                          - \"cypress/integration/specs/createAccount.feature\",\r\n                          - \"cypress/integration/specs/createCustomer.feature\",\r\n                          - \"cypress/integration/specs/createImport.feature\",\r\n                          - \"cypress/integration/specs/createUser.feature\",\r\n                          - \"cypress/integration/specs/execCommand.feature\",\r\n                          + \"cypress/integration/specs/createAccount.feature,cypress/integration/specs/createCustomer.feature,cypress/integration/specs/createImport.feature,cypress/integration/specs/createUser.feature,cypress/integration/specs/execCommand.feature\",\r\n                        ]\r\n                        # (1 unchanged element hidden)\r\n                    },\r\n                ]\r\n            }\r\n        )\r\n```\r\n\r\nIf, from ECS Scheduled Tasks (and not from EventBridge) I set the command to  \r\n\r\ncypress/integration/specs/createAccount.feature,cypress/integration/specs/createCustomer.feature,cypress/integration/specs/createImport.feature,cypress/integration/specs/createUser.feature,cypress/integration/specs/execCommand.feature\r\n\r\nIt becomes : \r\n\r\n[\"cypress/integration/specs/createAccount.feature\", \"cypress/integration/specs/createCustomer.feature\", \"cypress/integration/specs/createImport.feature\", \"cypress/integration/specs/createUser.feature\", \"cypress/integration/specs/execCommand.feature\"]\r\n\r\nThus, It seems ECS is splitting my command string into multiple because of the commas in it.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.6.3 \n\n### Environment details (OS name and version, etc.)\n\naws-cli/2.6.3 Python/3.9.11 Darwin/21.4.0 exe/x86_64 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6954/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6935", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6935/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6935/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6935/events", "html_url": "https://github.com/aws/aws-cli/issues/6935", "id": 1230651773, "node_id": "I_kwDOAGd3X85JWkF9", "number": 6935, "title": "`Empty KUBERNETES_EXEC_INFO` warning when running `aws eks get-token`", "user": {"login": "timfallmk", "id": 5316117, "node_id": "MDQ6VXNlcjUzMTYxMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5316117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timfallmk", "html_url": "https://github.com/timfallmk", "followers_url": "https://api.github.com/users/timfallmk/followers", "following_url": "https://api.github.com/users/timfallmk/following{/other_user}", "gists_url": "https://api.github.com/users/timfallmk/gists{/gist_id}", "starred_url": "https://api.github.com/users/timfallmk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timfallmk/subscriptions", "organizations_url": "https://api.github.com/users/timfallmk/orgs", "repos_url": "https://api.github.com/users/timfallmk/repos", "events_url": "https://api.github.com/users/timfallmk/events{/privacy}", "received_events_url": "https://api.github.com/users/timfallmk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 2220990352, "node_id": "MDU6TGFiZWwyMjIwOTkwMzUy", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks", "name": "eks", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-05-10T05:53:48Z", "updated_at": "2022-05-12T20:18:12Z", "closed_at": "2022-05-12T20:17:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nThis is likely related to https://github.com/kubernetes/kubectl/issues/1210\r\n\r\nUsing the newest update contained the in above patch, `kubectl` auth commands run as expected. However any requests to `aws eks get-token` that don't come from `kubectl` itself (or a tool using a similar mechanism) result in the following warning:\r\n```shell\r\nEmpty KUBERNETES_EXEC_INFO, defaulting to client.authentication.k8s.io/v1alpha1. This is likely a bug in your Kubernetes client. Please update your Kubernetes client.\r\n```\r\nThis might just need some documentation to prevent confusion, but I'm already seeing users run into it and ask. And the usual [reddit suspects](https://www.reddit.com/r/kubernetes/comments/um1wa1/what_is_kubernetes_exec_info_and_why_would_it_be/)\n\n### Expected Behavior\n\n- More detailed warning message? \r\n- Suppression of warnings when an interactive prompt is detected?\r\n- Documentation notes?\n\n### Current Behavior\n\n`aws eks get-token` (with valid credentials)\r\nOutput:\r\n```shell\r\nEmpty KUBERNETES_EXEC_INFO, defaulting to client.authentication.k8s.io/v1alpha1. This is likely a bug in your Kubernetes client. Please update your Kubernetes client.\r\n<token>\r\n```\n\n### Reproduction Steps\n\n`aws eks get-token`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n`aws-cli/2.6.3 Python/3.9.12 Darwin/21.4.0 source/arm64 prompt/off`\n\n### Environment details (OS name and version, etc.)\n\nmacOS 12.3.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6935/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6935/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6934", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6934/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6934/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6934/events", "html_url": "https://github.com/aws/aws-cli/issues/6934", "id": 1230367865, "node_id": "I_kwDOAGd3X85JVex5", "number": 6934, "title": "aws cli can't migrate domains with unicode character \u0259", "user": {"login": "reece", "id": 109453, "node_id": "MDQ6VXNlcjEwOTQ1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/109453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reece", "html_url": "https://github.com/reece", "followers_url": "https://api.github.com/users/reece/followers", "following_url": "https://api.github.com/users/reece/following{/other_user}", "gists_url": "https://api.github.com/users/reece/gists{/gist_id}", "starred_url": "https://api.github.com/users/reece/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reece/subscriptions", "organizations_url": "https://api.github.com/users/reece/orgs", "repos_url": "https://api.github.com/users/reece/repos", "events_url": "https://api.github.com/users/reece/events{/privacy}", "received_events_url": "https://api.github.com/users/reece/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2242774621, "node_id": "MDU6TGFiZWwyMjQyNzc0NjIx", "url": "https://api.github.com/repos/aws/aws-cli/labels/route53domains", "name": "route53domains", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-05-09T23:15:05Z", "updated_at": "2022-06-09T19:53:42Z", "closed_at": "2022-06-09T19:53:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nI registered the name `myom\u0259.com` with AWS last year via the admin panel to prevent typesquatting. I want to move the domain to another account, but receive this error:\r\n\r\n```\r\nsnafu$ aws --region us-east-1 route53domains transfer-domain-to-another-aws-account --domain myom\u0259.com  --account-id 278...\r\n\r\nAn error occurred (InvalidInput) when calling the TransferDomainToAnotherAwsAccount operation: Invalid domain.Errors: [Unsupported character : [\u0259] in domain [myom\u0259.com]]\r\n```\r\n\r\nTransferring the [punycode](https://en.wikipedia.org/wiki/Punycode)-encoded domain name works (via boto3 at least). \r\n\r\n### Expected Behavior\r\n\r\nI expect this domain to migrate successfully (as I've done with ~10 other domain names with the aws cli). The CLI should encode internationalized names automatically.\r\n\r\n### Current Behavior\r\n\r\nThe CLI does not encode the domain name, which cause the error above.\r\n\r\n### Reproduction Steps\r\n\r\nSee command line and error above\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\nI reproduced the error in boto3:\r\n\r\n```\r\nIn [5]: client = boto3.client(\"route53domains\", region_name=\"us-east-1\")\r\n\r\nIn [6]: client.transfer_domain_to_another_aws_account(DomainName=\"myom\u0259.com\", AccountId=\"278...\")\r\n---------------------------------------------------------------------------\r\nInvalidInput                              Traceback (most recent call last)\r\nInput In [6], in <cell line: 1>()\r\n----> 1 client.transfer_domain_to_another_aws_account(DomainName=\"myom\u0259.com\", AccountId=\"278...\")\r\n\r\nFile ~/.local/lib/python3.10/site-packages/botocore/client.py:415, in ClientCreator._create_api_method.<locals>._api_call(self, *args, **kwargs)\r\n    412     raise TypeError(\r\n    413         \"%s() only accepts keyword arguments.\" % py_operation_name)\r\n    414 # The \"self\" in this scope is referring to the BaseClient.\r\n--> 415 return self._make_api_call(operation_name, kwargs)\r\n\r\nFile ~/.local/lib/python3.10/site-packages/botocore/client.py:745, in BaseClient._make_api_call(self, operation_name, api_params)\r\n    743     error_code = parsed_response.get(\"Error\", {}).get(\"Code\")\r\n    744     error_class = self.exceptions.from_code(error_code)\r\n--> 745     raise error_class(parsed_response, operation_name)\r\n    746 else:\r\n    747     return parsed_response\r\n\r\nInvalidInput: An error occurred (InvalidInput) when calling the TransferDomainToAnotherAwsAccount operation: Invalid domain.Errors: [Unsupported character : [\u0259] in domain [myom\u0259.com]]\r\n\r\n```\r\n\r\nBut, using the [punycode](https://en.wikipedia.org/wiki/Punycode) encoding of an internationalized domain name works:\r\n\r\n```\r\nIn [7]: client.transfer_domain_to_another_aws_account(DomainName=\"xn--myom-y6b.com\", AccountId=\"278...\")\r\nOut[7]: \r\n{'OperationId': '6b82....58c9',\r\n 'Password': '...',\r\n 'ResponseMetadata': {'RequestId': '8f16...4c19',\r\n  'HTTPStatusCode': 200,\r\n  'HTTPHeaders': {'x-amzn-requestid': '8f1...4c19',\r\n   'content-type': 'application/x-amz-json-1.1',\r\n   'content-length': '82',\r\n   'date': 'Mon, 09 May 2022 23:27:44 GMT'},\r\n  'RetryAttempts': 0}}\r\n\r\n```\r\n\r\n### CLI version used\r\n\r\naws-cli/2.4.27\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nPython/3.8.8 Linux/5.15.0-27-generic exe/x86_64.ubuntu.22 prompt/off", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6932", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6932/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6932/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6932/events", "html_url": "https://github.com/aws/aws-cli/issues/6932", "id": 1229477223, "node_id": "I_kwDOAGd3X85JSFVn", "number": 6932, "title": "ECS subcommand does nothing except print \"ExecuteCommand\"", "user": {"login": "ulidtko", "id": 365338, "node_id": "MDQ6VXNlcjM2NTMzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/365338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ulidtko", "html_url": "https://github.com/ulidtko", "followers_url": "https://api.github.com/users/ulidtko/followers", "following_url": "https://api.github.com/users/ulidtko/following{/other_user}", "gists_url": "https://api.github.com/users/ulidtko/gists{/gist_id}", "starred_url": "https://api.github.com/users/ulidtko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ulidtko/subscriptions", "organizations_url": "https://api.github.com/users/ulidtko/orgs", "repos_url": "https://api.github.com/users/ulidtko/repos", "events_url": "https://api.github.com/users/ulidtko/events{/privacy}", "received_events_url": "https://api.github.com/users/ulidtko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 3383733249, "node_id": "LA_kwDOAGd3X87Jr6wB", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecs-execute-command", "name": "ecs-execute-command", "color": "b60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-05-09T10:07:46Z", "updated_at": "2022-05-10T15:27:48Z", "closed_at": "2022-05-10T15:27:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nAWSCLI v1 subcommand `ecs` is broken and does nothing, only prints `ExecuteCommand` after two newlines.\r\n\r\n(Throws exception botocore.model.OperationNotFoundError: ExecuteCommand ?)\n\n### Expected Behavior\n\nAs documented per https://docs.aws.amazon.com/cli/latest/reference/ecs/index.html\n\n### Current Behavior\n\n```\r\n> aws ecs execute-command --cluster foobar-services-staging --container 2f3f6ee72aa845dc9a67eeb533f45ce4 --interactive --command bash\r\n\r\nExecuteCommand\r\n>\r\n> aws ecs list-tasks --cluster foobar-services-staging\r\n\r\nExecuteCommand\r\n>\r\n> aws ecs help\r\n\r\nExecuteCommand\r\n```\r\n\r\nOther subcommands work fine in the same environment (shell session):\r\n```\r\n> aws sts get-caller-identity\r\n{\r\n    \"UserId\": \"AIDAVredactedZXCV5L3L\",\r\n    \"Account\": \"386000000334\",\r\n    \"Arn\": \"arn:aws:iam::386000000334:user/ulidtko\"\r\n}\r\n```\n\n### Reproduction Steps\n\n* Install `awscli` version as specified\r\n* Configure access credentials\r\n* `aws ecs help`\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/1.22.87 Python/3.10.4 Linux/5.15.37-1-lts botocore/1.14.4\n\n### Environment details (OS name and version, etc.)\n\nArch Linux", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6930", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6930/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6930/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6930/events", "html_url": "https://github.com/aws/aws-cli/issues/6930", "id": 1228803504, "node_id": "I_kwDOAGd3X85JPg2w", "number": 6930, "title": "Lambda SAM deploy with fixed ImageUri don't deploy even after image rebuild", "user": {"login": "gokhanoner", "id": 6715308, "node_id": "MDQ6VXNlcjY3MTUzMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/6715308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gokhanoner", "html_url": "https://github.com/gokhanoner", "followers_url": "https://api.github.com/users/gokhanoner/followers", "following_url": "https://api.github.com/users/gokhanoner/following{/other_user}", "gists_url": "https://api.github.com/users/gokhanoner/gists{/gist_id}", "starred_url": "https://api.github.com/users/gokhanoner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gokhanoner/subscriptions", "organizations_url": "https://api.github.com/users/gokhanoner/orgs", "repos_url": "https://api.github.com/users/gokhanoner/repos", "events_url": "https://api.github.com/users/gokhanoner/events{/privacy}", "received_events_url": "https://api.github.com/users/gokhanoner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-05-08T06:11:08Z", "updated_at": "2022-05-09T22:35:15Z", "closed_at": "2022-05-09T22:34:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\n- have a SAM template for Lambda with container image, with predefined `ImageUri`\r\n- Build the image & deploy the lambda, it works for the first run, since lambda doesn't exists.\r\n- Build the image again & push to ECR with same tag.\r\n- Run SAM deploy gets below\r\n```\r\nInitiating deployment\r\n\r\n=====================\r\n\r\nWaiting for changeset to be created..\r\n\r\nNo changes to deploy. Stack XXXX is up to date\r\n```\r\n\n\n### Expected Behavior\n\n- Even if there's no change in the template, since tag is same, my expectation if build will replace the image tag since image hash is changed.\r\n- I believe this is a valid use case, since even if I update the existing tag, it doesn't effect the lambda, as described in `update-function-code` method -> https://awscli.amazonaws.com/v2/documentation/api/latest/reference/lambda/update-function-code.html . So `deploy` should be able to understand that image hash is different between Lambda & repo and deploy again.\n\n### Current Behavior\n\n- Nothing happens. Normally deploy fails since there's no change, we're using `--no-fail-on-empty-changeset`\n\n### Reproduction Steps\n\n.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.6.1 Python/3.9.11\n\n### Environment details (OS name and version, etc.)\n\n Linux/4.14.275-207.503.amzn2.x86_64", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6930/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6921", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6921/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6921/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6921/events", "html_url": "https://github.com/aws/aws-cli/issues/6921", "id": 1226594732, "node_id": "I_kwDOAGd3X85JHFms", "number": 6921, "title": "aws eks update-kubeconfig invalid apiVersion while using Github linux runners", "user": {"login": "kyandaks", "id": 45067380, "node_id": "MDQ6VXNlcjQ1MDY3Mzgw", "avatar_url": "https://avatars.githubusercontent.com/u/45067380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyandaks", "html_url": "https://github.com/kyandaks", "followers_url": "https://api.github.com/users/kyandaks/followers", "following_url": "https://api.github.com/users/kyandaks/following{/other_user}", "gists_url": "https://api.github.com/users/kyandaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyandaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyandaks/subscriptions", "organizations_url": "https://api.github.com/users/kyandaks/orgs", "repos_url": "https://api.github.com/users/kyandaks/repos", "events_url": "https://api.github.com/users/kyandaks/events{/privacy}", "received_events_url": "https://api.github.com/users/kyandaks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 2220990352, "node_id": "MDU6TGFiZWwyMjIwOTkwMzUy", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks", "name": "eks", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2022-05-05T12:16:32Z", "updated_at": "2022-05-11T07:44:49Z", "closed_at": "2022-05-05T16:19:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\naws eks update-kubeconfig --name ${EKS_CLUSTER_NAME} --region ${REGION} \r\nThe above command executes successfully in the GitHub Action workflow but when I run \r\nkubectl apply -f manifest.yml\r\nI get the error below:\r\nerror: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\n\n### Expected Behavior\n\nUsually it would start the deployment to the EKS cluster\n\n### Current Behavior\n\nI am currently getting the error below:\r\nerror: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\r\n\r\nUpon checking the kubectl version --client  --output=yaml, it is on version 1.24.0.\n\n### Reproduction Steps\n\nThe issue opened here suggested that one should downgrade kubectl from 1.24.0 as seen here - https://github.com/aws/aws-cli/issues/6920 but this is a bit hard with GitHub hosted runners as OS updates are managed by them\n\n### Possible Solution\n\nWhen I reached out to AWS support, the engineer suggested that he is going to accelerate this to the AWS EKS Service team. For reference -  Case ID 10018756571 \n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nthe version is managed by the GitHub team\n\n### Environment details (OS name and version, etc.)\n\nLinux - Ubuntu 20.04", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6921/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6920", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6920/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6920/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6920/events", "html_url": "https://github.com/aws/aws-cli/issues/6920", "id": 1225954971, "node_id": "I_kwDOAGd3X85JEpab", "number": 6920, "title": "aws eks update-kubeconfig invalid apiVersion", "user": {"login": "code-is-art", "id": 50637029, "node_id": "MDQ6VXNlcjUwNjM3MDI5", "avatar_url": "https://avatars.githubusercontent.com/u/50637029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/code-is-art", "html_url": "https://github.com/code-is-art", "followers_url": "https://api.github.com/users/code-is-art/followers", "following_url": "https://api.github.com/users/code-is-art/following{/other_user}", "gists_url": "https://api.github.com/users/code-is-art/gists{/gist_id}", "starred_url": "https://api.github.com/users/code-is-art/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/code-is-art/subscriptions", "organizations_url": "https://api.github.com/users/code-is-art/orgs", "repos_url": "https://api.github.com/users/code-is-art/repos", "events_url": "https://api.github.com/users/code-is-art/events{/privacy}", "received_events_url": "https://api.github.com/users/code-is-art/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 2220990352, "node_id": "MDU6TGFiZWwyMjIwOTkwMzUy", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks", "name": "eks", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 146, "created_at": "2022-05-04T20:46:29Z", "updated_at": "2023-04-27T14:04:23Z", "closed_at": "2022-05-06T18:59:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nUpdate kubectl from v1.23.6 to 1.24.0 and run commands\r\n```bash\r\naws eks update-kubeconfig --name ${EKS_CLUSTER_NAME} --region ${REGION}\r\nkubectl version\r\n```\r\nI get the following error and exit status 1\r\n```\r\nerror: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\r\n```\r\nKubectl must need an updated apiVersion in kubeconfig file. Not sure if this is on aws side or kubectl side.\r\nhttps://github.com/kubernetes/kubectl/issues/1210\r\n\n\n### Expected Behavior\n\nNo error message when using `kubectl` and `aws eks update-kubeconfig`\n\n### Current Behavior\n\nerror: exec plugin: invalid apiVersion \"client.authentication.k8s.io/v1alpha1\"\n\n### Reproduction Steps\n\nUpdate kubectl from v1.23.6 to 1.24.0 and run commands\r\n```bash\r\naws eks update-kubeconfig --name ${EKS_CLUSTER_NAME} --region ${REGION}\r\nkubectl version\r\n```\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\nwhatever is running in aws/codebuild/standard:5.0\n\n### Environment details (OS name and version, etc.)\n\naws/codebuild/standard:5.0", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6920/reactions", "total_count": 409, "+1": 403, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 6, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6920/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6908", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6908/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6908/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6908/events", "html_url": "https://github.com/aws/aws-cli/issues/6908", "id": 1222510232, "node_id": "I_kwDOAGd3X85I3gaY", "number": 6908, "title": "String starting with 0 (\"0xx..\") is taken as integer with \"aws cloudformation package\" command", "user": {"login": "AnuragChandra10", "id": 25642816, "node_id": "MDQ6VXNlcjI1NjQyODE2", "avatar_url": "https://avatars.githubusercontent.com/u/25642816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnuragChandra10", "html_url": "https://github.com/AnuragChandra10", "followers_url": "https://api.github.com/users/AnuragChandra10/followers", "following_url": "https://api.github.com/users/AnuragChandra10/following{/other_user}", "gists_url": "https://api.github.com/users/AnuragChandra10/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnuragChandra10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnuragChandra10/subscriptions", "organizations_url": "https://api.github.com/users/AnuragChandra10/orgs", "repos_url": "https://api.github.com/users/AnuragChandra10/repos", "events_url": "https://api.github.com/users/AnuragChandra10/events{/privacy}", "received_events_url": "https://api.github.com/users/AnuragChandra10/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-05-02T05:53:40Z", "updated_at": "2022-06-06T16:57:58Z", "closed_at": "2022-06-06T16:57:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhile creating a package using `aws cloudformation package` command and then using the `aws cloudformation create-stack` command using to create the packaged template leads to take a string parameter starting with \"0\" as string. This happens only with `aws-cli/1.23.1` (likely with aws-cli 1.x versions as `aws-cli/1.23.1` is a fairly new version at present).\n\n### Expected Behavior\n\nThe parameter stored should be the account ID as it is: 012345678901\n\n### Current Behavior\n\nThe string is being stored as a number with scientific notation.\n\n### Reproduction Steps\n\nUse a Template with parameter starting with \"0\":\r\n\r\n```\r\nMappings: \r\n  GovAccountMapping: \r\n    dev: \r\n      AccountId: \"012345678901\"\r\n\r\nResources:\r\n  BasicParameter:\r\n    Type: AWS::SSM::Parameter\r\n    Properties:\r\n      Name: \"accountId\"\r\n      Type: String\r\n      Value: !FindInMap [GovAccountMapping, dev , AccountId]\r\n      Description: SSM Parameter for running date command.\r\n```\r\n\r\nPackage command: `aws cloudformation package --template-file parameter.yaml --s3-bucket bucket-name --output-template-file packaged-template.yaml`\r\n\r\nStack creation: `aws cloudformation create-stack --stack-name myteststack --template-body file://packaged-template.yaml`\n\n### Possible Solution\n\nA workaround at present is to use the `--use-json` option to format the output template as json.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/1.23.1\n\n### Environment details (OS name and version, etc.)\n\nMac OS", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6908/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6906", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6906/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6906/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6906/events", "html_url": "https://github.com/aws/aws-cli/issues/6906", "id": 1220802673, "node_id": "I_kwDOAGd3X85Iw_hx", "number": 6906, "title": "s3api put-object with --sse-customer-key-md5 fails", "user": {"login": "keebs", "id": 4172711, "node_id": "MDQ6VXNlcjQxNzI3MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4172711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keebs", "html_url": "https://github.com/keebs", "followers_url": "https://api.github.com/users/keebs/followers", "following_url": "https://api.github.com/users/keebs/following{/other_user}", "gists_url": "https://api.github.com/users/keebs/gists{/gist_id}", "starred_url": "https://api.github.com/users/keebs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keebs/subscriptions", "organizations_url": "https://api.github.com/users/keebs/orgs", "repos_url": "https://api.github.com/users/keebs/repos", "events_url": "https://api.github.com/users/keebs/events{/privacy}", "received_events_url": "https://api.github.com/users/keebs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289055120, "node_id": "MDU6TGFiZWwyODkwNTUxMjA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3api", "name": "s3api", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-04-29T13:17:40Z", "updated_at": "2022-05-03T12:44:53Z", "closed_at": "2022-05-03T12:44:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\ns3api put-object with --sse-customer-key-md5 fails. Without the --sse-customer-key-md5 is successful.\n\n### Expected Behavior\n\nFor the MD5 hash of the received --sse-customer-key to be verified against the provided --sse-customer-key-md5 hash. Upload should continue, if matched, or fail immediately.\n\n### Current Behavior\n\nAll tested inputs of  --sse-customer-key-md5 fail upload immediately.\n\n### Reproduction Steps\n\n### Upload is successful without the hash:\r\n\r\nPS C:\\> aws s3api put-object `\r\n  --bucket abc `\r\n  --sse-customer-algorithm AES256 `\r\n  --sse-customer-key \"testaes256testaes256testaes25612\" `\r\n  --region us-east-2 `\r\n  --key test.pdf `\r\n  --body C:\\test.pdf\r\n\r\n{\r\n    \"ETag\": \"\\\"51ffb62dffc2d772a8e5fa6cbe60d150\\\"\",\r\n    \"SSECustomerAlgorithm\": \"AES256\",\r\n    \"SSECustomerKeyMD5\": \"ezatpv/Yg0KkjX+5ZcsxdQ==\"\r\n}\r\n\r\n### I agree with your MD5 hash result:\r\nPS C:\\> $key = \"testaes256testaes256testaes25612\"\r\n$md5 = new-object -TypeName System.Security.Cryptography.MD5CryptoServiceProvider\r\n$utf8 = new-object -TypeName System.Text.UTF8Encoding\r\n$hash = $md5.ComputeHash($utf8.GetBytes($key))\r\n$EncodedString =[Convert]::ToBase64String($hash)\r\nWrite-Host \"Base64 Encoded String: \" $EncodedString\r\nBase64 Encoded String:  ezatpv/Yg0KkjX+5ZcsxdQ==\r\n\r\n### But if I submit the put-object with --sse-customer-key-md5, it fails:\r\nPS C:\\> aws s3api put-object `\r\n  --bucket abc `\r\n  --sse-customer-algorithm AES256 `\r\n  --sse-customer-key \"testaes256testaes256testaes25612\" `\r\n  --sse-customer-key-md5 \"ezatpv/Yg0KkjX+5ZcsxdQ==\" `\r\n  --region us-east-2 `\r\n  --key test.pdf `\r\n  --body C:\\test.pdf\r\n\r\naws : \r\nAt line:1 char:1\r\n+ aws s3api put-object `\r\n+ ~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : NotSpecified: (:String) [], RemoteException\r\n    + FullyQualifiedErrorId : NativeCommandError\r\n \r\nAn error occurred (InvalidArgument) when calling the PutObject operation: The calculated MD5 hash of the key did not match the hash that was provided.\r\n\r\n### Result is the same on linux:\r\n\r\n\n\n### Possible Solution\n\nappears to be a bug\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.6.0\n\n### Environment details (OS name and version, etc.)\n\nWindows 10 Version 10.0.19043.1645", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6906/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6886", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6886/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6886/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6886/events", "html_url": "https://github.com/aws/aws-cli/issues/6886", "id": 1210622172, "node_id": "I_kwDOAGd3X85IKKDc", "number": 6886, "title": "python 3.10 install error", "user": {"login": "tooptoop4", "id": 33283496, "node_id": "MDQ6VXNlcjMzMjgzNDk2", "avatar_url": "https://avatars.githubusercontent.com/u/33283496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tooptoop4", "html_url": "https://github.com/tooptoop4", "followers_url": "https://api.github.com/users/tooptoop4/followers", "following_url": "https://api.github.com/users/tooptoop4/following{/other_user}", "gists_url": "https://api.github.com/users/tooptoop4/gists{/gist_id}", "starred_url": "https://api.github.com/users/tooptoop4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tooptoop4/subscriptions", "organizations_url": "https://api.github.com/users/tooptoop4/orgs", "repos_url": "https://api.github.com/users/tooptoop4/repos", "events_url": "https://api.github.com/users/tooptoop4/events{/privacy}", "received_events_url": "https://api.github.com/users/tooptoop4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-04-21T07:36:37Z", "updated_at": "2022-04-21T18:41:10Z", "closed_at": "2022-04-21T17:29:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\n    Traceback (most recent call last):\r\n        File \"/usr/local/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\r\n          main()\r\n        File \"/usr/local/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n        File \"/usr/local/lib/python3.10/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 261, in build_wheel\r\n          return _build_backend().build_wheel(wheel_directory, config_settings,\r\n        File \"/tmp/pip-req-build-0amb2boj/backends/pep517.py\", line 50, in build_wheel\r\n          _build_and_inject_ac_index(os.path.join(wheel_directory, whl_filename))\r\n        File \"/tmp/pip-req-build-0amb2boj/backends/pep517.py\", line 84, in _build_and_inject_ac_index\r\n          generate_index(ac_index_build_name)\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/autocomplete/generator.py\", line 34, in generate_index\r\n          _do_generate_index(temp_name)\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/autocomplete/generator.py\", line 50, in _do_generate_index\r\n          driver = clidriver.create_clidriver()\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/clidriver.py\", line 95, in create_clidriver\r\n          load_plugins(session.full_config.get('plugins', {}),\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/plugin.py\", line 48, in load_plugins\r\n          _load_plugins(BUILTIN_PLUGINS, event_hooks)\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/plugin.py\", line 62, in _load_plugins\r\n          modules = _import_plugins(plugin_mapping)\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/plugin.py\", line 76, in _import_plugins\r\n          module = __import__(path, fromlist=[module])\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/handlers.py\", line 44, in <module>\r\n          from awscli.customizations.dynamodb.ddb import register_ddb\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/customizations/dynamodb/ddb.py\", line 14, in <module>\r\n          from awscli.customizations.dynamodb.subcommands import (\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/customizations/dynamodb/subcommands.py\", line 24, in <module>\r\n          from awscli.customizations.dynamodb.extractor import AttributeExtractor\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/customizations/dynamodb/extractor.py\", line 13, in <module>\r\n          from .parser import Parser\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/customizations/dynamodb/parser.py\", line 22, in <module>\r\n          from .lexer import Lexer\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/customizations/dynamodb/lexer.py\", line 21, in <module>\r\n          from .types import Binary\r\n        File \"/tmp/pip-req-build-0amb2boj/awscli/customizations/dynamodb/types.py\", line 13, in <module>\r\n          from collections import Mapping, Set\r\n      ImportError: cannot import name 'Mapping' from 'collections' (/usr/local/lib/python3.10/collections/__init__.py)\r\n      [end of output]\r\n\n\n### Expected Behavior\n\naws cli installs on python 3.10\n\n### Current Behavior\n\nerror in description\n\n### Reproduction Steps\n\npip3 install --no-cache-dir https://github.com/aws/aws-cli/archive/refs/tags/2.5.7.tar.gz\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\n2.5.7\n\n### Environment details (OS name and version, etc.)\n\n Python 3.10.4 (main, Apr 20 2022, 05:30:59) [GCC 10.2.1 20210110] on linux", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6886/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6886/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6885", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6885/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6885/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6885/events", "html_url": "https://github.com/aws/aws-cli/issues/6885", "id": 1209209050, "node_id": "I_kwDOAGd3X85IExDa", "number": 6885, "title": "(short issue description)", "user": {"login": "chizou", "id": 8129778, "node_id": "MDQ6VXNlcjgxMjk3Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/8129778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chizou", "html_url": "https://github.com/chizou", "followers_url": "https://api.github.com/users/chizou/followers", "following_url": "https://api.github.com/users/chizou/following{/other_user}", "gists_url": "https://api.github.com/users/chizou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chizou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chizou/subscriptions", "organizations_url": "https://api.github.com/users/chizou/orgs", "repos_url": "https://api.github.com/users/chizou/repos", "events_url": "https://api.github.com/users/chizou/events{/privacy}", "received_events_url": "https://api.github.com/users/chizou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-20T06:13:13Z", "updated_at": "2022-04-20T06:19:28Z", "closed_at": "2022-04-20T06:19:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nCLI doesn't seem to be interpreting JMESPath query correctly when searching for null values. Given the following JSON:\r\n```\r\n{\r\n  \"Aliases\": [\r\n    {\r\n      \"AliasName\": \"alias/aws/xray\",\r\n      \"AliasArn\": \"arn:aws:kms:us-east-1:00000000000:alias/aws/xray\"\r\n    },\r\n    {\r\n      \"AliasName\": \"alias/temp_key\",\r\n      \"AliasArn\": \"arn:aws:kms:us-east-1:111111111111:alias/temp_key\",\r\n      \"TargetKeyId\": \"5256b312-5664-4752-baa1-5d9a7d9b2eec\",\r\n      \"CreationDate\": 1617909854.1,\r\n      \"LastUpdatedDate\": 1617909854.1\r\n    }\r\n  ]\r\n}\r\n```\r\nI'm trying to find Aliases that have a `TargetKeyId`. I'm running this CLI command, `aws kms list-keys --query 'Aliases[?TargetKeyId != null]'`. This command returns me null.\r\n\r\nHowever, if I paste that JSON into https://jmespath.org/ and use the following query, `Aliases[?TargetKeyId != null]`, that does correctly yield results\r\n\r\n### Expected Behavior\r\n\r\nIt should have found the temp_key entry\r\n\r\n### Current Behavior\r\n\r\nThe aws cli command is returning null\r\n\r\n### Reproduction Steps\r\n\r\nDescribed in the description\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/1.22.98 Python/3.8.10 Linux/5.10.102.1-microsoft-standard-WSL2 botocore/1.24.43\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nWSL2", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6885/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6878", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6878/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6878/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6878/events", "html_url": "https://github.com/aws/aws-cli/issues/6878", "id": 1204969838, "node_id": "I_kwDOAGd3X85H0mFu", "number": 6878, "title": "ssm create-association ask for InstanceId parameter in Doccument Schema 0.3", "user": {"login": "alexandreagsantos", "id": 100882045, "node_id": "U_kgDOBgNWfQ", "avatar_url": "https://avatars.githubusercontent.com/u/100882045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexandreagsantos", "html_url": "https://github.com/alexandreagsantos", "followers_url": "https://api.github.com/users/alexandreagsantos/followers", "following_url": "https://api.github.com/users/alexandreagsantos/following{/other_user}", "gists_url": "https://api.github.com/users/alexandreagsantos/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexandreagsantos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexandreagsantos/subscriptions", "organizations_url": "https://api.github.com/users/alexandreagsantos/orgs", "repos_url": "https://api.github.com/users/alexandreagsantos/repos", "events_url": "https://api.github.com/users/alexandreagsantos/events{/privacy}", "received_events_url": "https://api.github.com/users/alexandreagsantos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311948145, "node_id": "MDU6TGFiZWwzMTE5NDgxNDU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ssm", "name": "ssm", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-04-14T20:55:52Z", "updated_at": "2022-05-02T14:55:46Z", "closed_at": "2022-05-02T14:55:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen I try to run:\r\naws ssm create-association --instance-id \"someid\" --name \"MyCustomDoccument\"\r\nI get the error:\r\nAn error occurred (InvalidDocument) when calling the CreateAssociation operation: Document schema version, 0.3, is not supported by association that is created with instance id\r\n\r\nAccording the documentation, this parameter is deprecated. So when I run:\r\n\r\naws ssm create-association --targets \"Key=instanceids,Values=SOMEID\" --name \"MyCustomDoccument\"\r\n\r\nI get the error:\r\nAn error occurred (InvalidParameters) when calling the CreateAssociation operation: Parameter \"InstanceIds\" requires a value.\r\n\r\nThis Occours both in cli and Boto3 Client. \r\n\r\n\n\n### Expected Behavior\n\nDocument  Associated with instance\n\n### Current Behavior\n\nAn error occurred (InvalidDocument) when calling the CreateAssociation operation: Document schema version, 0.3, is not supported by association that is created with instance id\n\n### Reproduction Steps\n\nCreate a Custom Document with schema version 0.3\r\nTry to associate with a instance.\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.2.11 Python/3.8.8 Darwin/21.4.0 exe/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nMac OS 12.3.1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6876", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6876/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6876/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6876/events", "html_url": "https://github.com/aws/aws-cli/issues/6876", "id": 1204023187, "node_id": "I_kwDOAGd3X85Hw--T", "number": 6876, "title": "Connection reset by peer when using aws s3 cp", "user": {"login": "sanalbert", "id": 100756898, "node_id": "U_kgDOBgFtog", "avatar_url": "https://avatars.githubusercontent.com/u/100756898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanalbert", "html_url": "https://github.com/sanalbert", "followers_url": "https://api.github.com/users/sanalbert/followers", "following_url": "https://api.github.com/users/sanalbert/following{/other_user}", "gists_url": "https://api.github.com/users/sanalbert/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanalbert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanalbert/subscriptions", "organizations_url": "https://api.github.com/users/sanalbert/orgs", "repos_url": "https://api.github.com/users/sanalbert/repos", "events_url": "https://api.github.com/users/sanalbert/events{/privacy}", "received_events_url": "https://api.github.com/users/sanalbert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2022-04-14T04:23:50Z", "updated_at": "2022-04-21T01:09:27Z", "closed_at": "2022-04-21T01:09:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nA connection reset error in copying a file from a public S3 bucket to a local directory.\r\n\r\n### Expected Behavior\r\n\r\nI am trying to download a large(1.7TB) file from the [NIH NCBI Sequence Read Archive (SRA) on AWS](https://registry.opendata.aws/ncbi-sra/) to my local directory. It is a simple `aws s3 cp` job that should create a copy of the file within the designated directory.\r\n\r\n### Current Behavior\r\n\r\nThe download runs with a speed of ~8MB/s for about 12 to 18 hours and after that is terminated with the following message:\r\n\r\n> download failed: s3://sra-pub-src-1/SRZ189891/722g.990.SNP.INDEL.chrAll.vcf.1 to ./722g.vcf.1 (\"Connection broken: ConnectionResetError(104, 'Connection reset by peer')\", ConnectionResetError(104, 'Connection reset by peer'))\r\n\r\nNothing that looks like an error message in the --debug, just the last line printing the connection error.\r\n\r\n> $ tail debug\r\n> 2022-04-08 23:23:17,999 - ThreadPoolExecutor-0_0 - s3transfer.utils - DEBUG - Acquiring 0\r\n> 2022-04-08 23:23:17,999 - ThreadPoolExecutor-0_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None\r\n> 2022-04-08 23:23:17,999 - ThreadPoolExecutor-2_0 - s3transfer.tasks - DEBUG - IORenameFileTask(transfer_id=0, {'final_filename': '/storage/SRC/alix/722g.vcf.1'}) about to wait for the following futures []\r\n> 2022-04-08 23:23:17,999 - ThreadPoolExecutor-2_0 - s3transfer.tasks - DEBUG - IORenameFileTask(transfer_id=0, {'final_filename': '/storage/SRC/alix/722g.vcf.1'}) done waiting for dependent futures\r\n> 2022-04-08 23:23:32,376 - ThreadPoolExecutor-2_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None\r\n> download failed: s3://sra-pub-src-1/SRZ189891/722g.990.SNP.INDEL.chrAll.vcf.1 to ./722g.vcf.1 (\"Connection broken: ConnectionResetError(104, 'Connection reset by peer')\", ConnectionResetError(104, 'Connection reset by peer'))\r\n> 2022-04-08 23:23:32,378 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.\r\n\r\nthe `--debug` log file is really large and my text editor is having problems handling it; I will try to add it asap.\r\n\r\n### Reproduction Steps\r\n\r\nI am using a simple copy command:\r\n\r\n`aws s3 cp --no-sign-request s3://sra-pub-src-1/SRZ189891/722g.990.SNP.INDEL.chrAll.vcf.1 ./722g.vcf.1`\r\n\r\n### Possible Solution\r\n\r\nMaybe if there is a way to speed up the transfer, the download could finish before the error occurs? I've tried configuring the preferred_transfer_client to crt but there were no significant improvements.\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.5.2 Python/3.9.11 Linux/3.10.0-1160.31.1.el7.x86_64 exe/x86_64.centos.7 prompt/off\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nCentOS Linux 7 (Core)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6874", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6874/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6874/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6874/events", "html_url": "https://github.com/aws/aws-cli/issues/6874", "id": 1203577116, "node_id": "I_kwDOAGd3X85HvSEc", "number": 6874, "title": "\"aws configure set\" breaks the credentials file because it doesn't add new-line when creating a new profile", "user": {"login": "LazaroOnline", "id": 13026853, "node_id": "MDQ6VXNlcjEzMDI2ODUz", "avatar_url": "https://avatars.githubusercontent.com/u/13026853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LazaroOnline", "html_url": "https://github.com/LazaroOnline", "followers_url": "https://api.github.com/users/LazaroOnline/followers", "following_url": "https://api.github.com/users/LazaroOnline/following{/other_user}", "gists_url": "https://api.github.com/users/LazaroOnline/gists{/gist_id}", "starred_url": "https://api.github.com/users/LazaroOnline/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LazaroOnline/subscriptions", "organizations_url": "https://api.github.com/users/LazaroOnline/orgs", "repos_url": "https://api.github.com/users/LazaroOnline/repos", "events_url": "https://api.github.com/users/LazaroOnline/events{/privacy}", "received_events_url": "https://api.github.com/users/LazaroOnline/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}, {"id": 289130201, "node_id": "MDU6TGFiZWwyODkxMzAyMDE=", "url": "https://api.github.com/repos/aws/aws-cli/labels/windows", "name": "windows", "color": "0F81D1", "default": false, "description": ""}, {"id": 2935477743, "node_id": "MDU6TGFiZWwyOTM1NDc3NzQz", "url": "https://api.github.com/repos/aws/aws-cli/labels/configure", "name": "configure", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-04-13T17:18:01Z", "updated_at": "2022-04-14T17:38:41Z", "closed_at": "2022-04-14T17:38:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nThe aws-cli command:\r\n`aws configure set ... -profile SomeNewProfileNameHere`\r\ncreates a new profile if the specified profile \"SomeNewProfileNameHere\" doesn't exist.\r\nThe problem is that if the file ends without a new-line, the command will append the new profile right after the last character in the file breaking the credentials configuration file.\r\n\n\n### Expected Behavior\n\nThe `aws configure set` command should add a new line if required so that it doesn't break the config file.\n\n### Current Behavior\n\nThe `aws configure set` command is appending blindly the new profile at the end of the file without adding a new line.\n\n### Reproduction Steps\n\nStart with a config file like this: `\\.aws\\credentials`:\r\n```\r\n[default]\r\nregion=eu-west-1\r\n[OtherProfile]\r\nregion=eu-west-1\r\n```\r\nafter running:\r\n`aws configure set aws_secret_access_key 12345 --profile SomeNewProfileNameHere`\r\n```\r\n[default]\r\nregion=eu-west-1\r\n[OtherProfile]\r\nregion=eu-west-1[SomeNewProfileNameHere]\r\naws_secret_access_key = 12345\r\n\r\n```\r\nWhich is invalid!\r\nIt should be:\r\n```\r\n[default]\r\nregion=eu-west-1\r\n[OtherProfile]\r\nregion=eu-west-1\r\n\r\n[SomeNewProfileNameHere]\r\naws_secret_access_key = 12345\r\n\r\n```\n\n### Possible Solution\n\nAdd a new line always when adding a new profile to the credentials file.\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.4.25 Python/3.8.8 Windows/10 exe/AMD64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nWindows/10 updated 2022-04-12", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6874/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6873", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6873/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6873/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6873/events", "html_url": "https://github.com/aws/aws-cli/issues/6873", "id": 1203138350, "node_id": "I_kwDOAGd3X85Htm8u", "number": 6873, "title": "aws ssm get-parameter command not working for secure string without version", "user": {"login": "kiran-ghuge", "id": 26617436, "node_id": "MDQ6VXNlcjI2NjE3NDM2", "avatar_url": "https://avatars.githubusercontent.com/u/26617436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiran-ghuge", "html_url": "https://github.com/kiran-ghuge", "followers_url": "https://api.github.com/users/kiran-ghuge/followers", "following_url": "https://api.github.com/users/kiran-ghuge/following{/other_user}", "gists_url": "https://api.github.com/users/kiran-ghuge/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiran-ghuge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiran-ghuge/subscriptions", "organizations_url": "https://api.github.com/users/kiran-ghuge/orgs", "repos_url": "https://api.github.com/users/kiran-ghuge/repos", "events_url": "https://api.github.com/users/kiran-ghuge/events{/privacy}", "received_events_url": "https://api.github.com/users/kiran-ghuge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289130201, "node_id": "MDU6TGFiZWwyODkxMzAyMDE=", "url": "https://api.github.com/repos/aws/aws-cli/labels/windows", "name": "windows", "color": "0F81D1", "default": false, "description": ""}, {"id": 311948145, "node_id": "MDU6TGFiZWwzMTE5NDgxNDU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ssm", "name": "ssm", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2022-04-13T10:58:30Z", "updated_at": "2023-04-14T11:43:20Z", "closed_at": "2022-04-21T20:53:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**not able retrieve secure string without version number** (It is not working for the normal string as well)\r\n\r\nrunning command below: \r\n`aws ssm get-parameter --name /path/to/some-parameter`\r\n\r\ngives an error:\r\n**An error occurred (ParameterNotFound) when calling the GetParameter operation:** \r\n\r\n### Expected Behavior\r\n\r\nshould able to retrieve secure string without version number\r\n\r\n### Current Behavior\r\n\r\n**An error occurred (ParameterNotFound) when calling the GetParameter operation:** \r\n\r\n### Reproduction Steps\r\n\r\nsteps to reproduce this bug\r\n\r\n1) open cli\r\n2) run  aws ssm get-parameter --name /some/path/parameter\r\n\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.5.4\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nwindows 10 ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6873/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6873/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6865", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6865/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6865/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6865/events", "html_url": "https://github.com/aws/aws-cli/issues/6865", "id": 1200077319, "node_id": "I_kwDOAGd3X85Hh7oH", "number": 6865, "title": "aws redshift-data list-databases not working", "user": {"login": "Tocha4", "id": 30746204, "node_id": "MDQ6VXNlcjMwNzQ2MjA0", "avatar_url": "https://avatars.githubusercontent.com/u/30746204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tocha4", "html_url": "https://github.com/Tocha4", "followers_url": "https://api.github.com/users/Tocha4/followers", "following_url": "https://api.github.com/users/Tocha4/following{/other_user}", "gists_url": "https://api.github.com/users/Tocha4/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tocha4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tocha4/subscriptions", "organizations_url": "https://api.github.com/users/Tocha4/orgs", "repos_url": "https://api.github.com/users/Tocha4/repos", "events_url": "https://api.github.com/users/Tocha4/events{/privacy}", "received_events_url": "https://api.github.com/users/Tocha4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 2432194804, "node_id": "MDU6TGFiZWwyNDMyMTk0ODA0", "url": "https://api.github.com/repos/aws/aws-cli/labels/redshift-data", "name": "redshift-data", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-04-11T14:41:14Z", "updated_at": "2022-04-13T11:55:57Z", "closed_at": "2022-04-13T11:55:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nThis command expects the required parameter `--database` without needing it. After the execution an error is being raised `aws: error: the following arguments are required: --database`.\r\n![image](https://user-images.githubusercontent.com/30746204/162762935-06f2891c-d877-4744-9e96-a908ab9e640b.png)\r\n\r\nUsed version on a Windows machine:\r\n`C:\\>aws --version\r\naws-cli/2.5.4 Python/3.9.11 Windows/10 exe/AMD64 prompt/off`\r\n\r\n### Expected Behavior\r\n\r\nThis command should follow the documentation: https://docs.aws.amazon.com/cli/latest/reference/redshift-data/list-databases.html\r\n\r\n### Current Behavior\r\n\r\n![image](https://user-images.githubusercontent.com/30746204/162763887-e5470d82-5f8b-4158-99a2-65d16bb05374.png)\r\n\r\n\r\n### Reproduction Steps\r\n\r\nrun `aws redshift-data list-databases`\r\n\r\n### Possible Solution\r\n\r\n_No response_\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\naws-cli/2.5.4\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nWindows", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6849", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6849/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6849/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6849/events", "html_url": "https://github.com/aws/aws-cli/issues/6849", "id": 1193380062, "node_id": "I_kwDOAGd3X85HIYje", "number": 6849, "title": "Latest release depends on unreleased botocore version", "user": {"login": "domhall", "id": 67909035, "node_id": "MDQ6VXNlcjY3OTA5MDM1", "avatar_url": "https://avatars.githubusercontent.com/u/67909035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domhall", "html_url": "https://github.com/domhall", "followers_url": "https://api.github.com/users/domhall/followers", "following_url": "https://api.github.com/users/domhall/following{/other_user}", "gists_url": "https://api.github.com/users/domhall/gists{/gist_id}", "starred_url": "https://api.github.com/users/domhall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domhall/subscriptions", "organizations_url": "https://api.github.com/users/domhall/orgs", "repos_url": "https://api.github.com/users/domhall/repos", "events_url": "https://api.github.com/users/domhall/events{/privacy}", "received_events_url": "https://api.github.com/users/domhall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "aaoswal", "id": 87496157, "node_id": "MDQ6VXNlcjg3NDk2MTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87496157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaoswal", "html_url": "https://github.com/aaoswal", "followers_url": "https://api.github.com/users/aaoswal/followers", "following_url": "https://api.github.com/users/aaoswal/following{/other_user}", "gists_url": "https://api.github.com/users/aaoswal/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaoswal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaoswal/subscriptions", "organizations_url": "https://api.github.com/users/aaoswal/orgs", "repos_url": "https://api.github.com/users/aaoswal/repos", "events_url": "https://api.github.com/users/aaoswal/events{/privacy}", "received_events_url": "https://api.github.com/users/aaoswal/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aaoswal", "id": 87496157, "node_id": "MDQ6VXNlcjg3NDk2MTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87496157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaoswal", "html_url": "https://github.com/aaoswal", "followers_url": "https://api.github.com/users/aaoswal/followers", "following_url": "https://api.github.com/users/aaoswal/following{/other_user}", "gists_url": "https://api.github.com/users/aaoswal/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaoswal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaoswal/subscriptions", "organizations_url": "https://api.github.com/users/aaoswal/orgs", "repos_url": "https://api.github.com/users/aaoswal/repos", "events_url": "https://api.github.com/users/aaoswal/events{/privacy}", "received_events_url": "https://api.github.com/users/aaoswal/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-04-05T15:50:27Z", "updated_at": "2022-04-05T16:16:23Z", "closed_at": "2022-04-05T16:03:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nLatest aws-cli version depends on botocore 1.24.33\r\nsee https://github.com/aws/aws-cli/commit/d702cadea9bcc4cdbaceaf423dde01c00d872df1#diff-60f61ab7a8d1910d86d9fda2261620314edcae5894d5aaa236b821c7256badd7L27\r\n\r\nLatest available botocore on pypi is currently 1.24.32 (https://pypi.org/project/botocore/)\r\n\r\nSee:\r\n<img width=\"822\" alt=\"image\" src=\"https://user-images.githubusercontent.com/67909035/161793784-8675564d-e744-477f-9404-7a2daae9074a.png\">\r\n\r\n\r\nSymptom:\r\n`pip install awscli`\r\n\r\nNow causes: ERROR: No matching distribution found for botocore==1.24.33 (from awscli)\r\n\r\n### Expected Behavior\r\n\r\nAws-cli should only depend on publicly available botocore versions\r\n\r\n### Current Behavior\r\n\r\n\r\nSymptom:\r\n`pip install awscli`\r\n\r\nNow causes: ERROR: No matching distribution found for botocore==1.24.33 (from awscli)\r\n\r\n### Reproduction Steps\r\n\r\n\r\nSymptom:\r\n`pip install awscli`\r\n\r\nNow causes: ERROR: No matching distribution found for botocore==1.24.33 (from awscli)\r\n\r\n### Possible Solution\r\n\r\nUpdate botocore or reduce this dependency\r\n\r\nIn future only publish aws-cli packages to pypi when the dependencies are also published first.\r\n\r\n### Additional Information/Context\r\n\r\n_No response_\r\n\r\n### CLI version used\r\n\r\n1.22.88\r\n\r\n### Environment details (OS name and version, etc.)\r\n\r\nlinux on aws EC2 instance", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6849/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6846", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6846/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6846/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6846/events", "html_url": "https://github.com/aws/aws-cli/issues/6846", "id": 1191673470, "node_id": "I_kwDOAGd3X85HB35-", "number": 6846, "title": "Invalid length for parameter when running aws secretsmanager create-secret --name babbelfisch1 --generate-cli-skeleton output", "user": {"login": "ustrahlendorf", "id": 16702601, "node_id": "MDQ6VXNlcjE2NzAyNjAx", "avatar_url": "https://avatars.githubusercontent.com/u/16702601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ustrahlendorf", "html_url": "https://github.com/ustrahlendorf", "followers_url": "https://api.github.com/users/ustrahlendorf/followers", "following_url": "https://api.github.com/users/ustrahlendorf/following{/other_user}", "gists_url": "https://api.github.com/users/ustrahlendorf/gists{/gist_id}", "starred_url": "https://api.github.com/users/ustrahlendorf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ustrahlendorf/subscriptions", "organizations_url": "https://api.github.com/users/ustrahlendorf/orgs", "repos_url": "https://api.github.com/users/ustrahlendorf/repos", "events_url": "https://api.github.com/users/ustrahlendorf/events{/privacy}", "received_events_url": "https://api.github.com/users/ustrahlendorf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 2266996544, "node_id": "MDU6TGFiZWwyMjY2OTk2NTQ0", "url": "https://api.github.com/repos/aws/aws-cli/labels/secretsmanager", "name": "secretsmanager", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "aaoswal", "id": 87496157, "node_id": "MDQ6VXNlcjg3NDk2MTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87496157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaoswal", "html_url": "https://github.com/aaoswal", "followers_url": "https://api.github.com/users/aaoswal/followers", "following_url": "https://api.github.com/users/aaoswal/following{/other_user}", "gists_url": "https://api.github.com/users/aaoswal/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaoswal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaoswal/subscriptions", "organizations_url": "https://api.github.com/users/aaoswal/orgs", "repos_url": "https://api.github.com/users/aaoswal/repos", "events_url": "https://api.github.com/users/aaoswal/events{/privacy}", "received_events_url": "https://api.github.com/users/aaoswal/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aaoswal", "id": 87496157, "node_id": "MDQ6VXNlcjg3NDk2MTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87496157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaoswal", "html_url": "https://github.com/aaoswal", "followers_url": "https://api.github.com/users/aaoswal/followers", "following_url": "https://api.github.com/users/aaoswal/following{/other_user}", "gists_url": "https://api.github.com/users/aaoswal/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaoswal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaoswal/subscriptions", "organizations_url": "https://api.github.com/users/aaoswal/orgs", "repos_url": "https://api.github.com/users/aaoswal/repos", "events_url": "https://api.github.com/users/aaoswal/events{/privacy}", "received_events_url": "https://api.github.com/users/aaoswal/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-04-04T11:55:28Z", "updated_at": "2022-04-15T19:19:24Z", "closed_at": "2022-04-15T19:19:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\n\nWhen running the following cli-command: \r\naws secretsmanager create-secret --name babbelfisch1 --generate-cli-skeleton output\r\n\r\nI get following answer:\r\n\r\nParameter validation failed:\r\nInvalid length for parameter ARN, value: 3, valid min length: 20\r\nInvalid length for parameter VersionId, value: 9, valid min length: 32\n\n### Expected Behavior\n\nNo error,\r\nresponse in json notification with data that was defined from the platform that describes the new created secret (ARN, ..)\n\n### Current Behavior\n\nError: Parameter validation failed:\n\n### Reproduction Steps\n\nExecute:\r\naws secretsmanager create-secret --name babbelfisch1 --generate-cli-skeleton output\n\n### Possible Solution\n\n_No response_\n\n### Additional Information/Context\n\n_No response_\n\n### CLI version used\n\naws-cli/2.2.46 Python/3.8.8 Darwin/20.6.0 exe/x86_64 prompt/off\n\n### Environment details (OS name and version, etc.)\n\nmacOS Big Sur; Version 11.6.4", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6816", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6816/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6816/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6816/events", "html_url": "https://github.com/aws/aws-cli/issues/6816", "id": 1180868433, "node_id": "I_kwDOAGd3X85GYp9R", "number": 6816, "title": "aws s3 sync re-uploads files that are already in target location (Snowball Edge, Mac)", "user": {"login": "genfhk", "id": 18148763, "node_id": "MDQ6VXNlcjE4MTQ4NzYz", "avatar_url": "https://avatars.githubusercontent.com/u/18148763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/genfhk", "html_url": "https://github.com/genfhk", "followers_url": "https://api.github.com/users/genfhk/followers", "following_url": "https://api.github.com/users/genfhk/following{/other_user}", "gists_url": "https://api.github.com/users/genfhk/gists{/gist_id}", "starred_url": "https://api.github.com/users/genfhk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/genfhk/subscriptions", "organizations_url": "https://api.github.com/users/genfhk/orgs", "repos_url": "https://api.github.com/users/genfhk/repos", "events_url": "https://api.github.com/users/genfhk/events{/privacy}", "received_events_url": "https://api.github.com/users/genfhk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-03-25T14:33:25Z", "updated_at": "2022-06-13T21:14:17Z", "closed_at": "2022-06-13T21:13:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone through the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\n**Describe the bug**\r\nAfter syncing to Snowball Edge, we repeat the sync command to check that all files have been transferred. This finds additional files to transfer. However, based on the results of an `aws s3 ls` manifest run **before** the second sync (and a comparison of md5 checksums of source and destination files), the additional files had already been transferred. Sometimes we can run `aws s3 sync` multiple times and it will repeatedly sync the same subset of 'un-transferred' files.\r\n\r\n**SDK version number**\r\nAWS-CLI version: aws-cli/2.4.28 Python/3.8.8 Darwin/19.6.0 exe/x86_64 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\nMac OS 10.15.07\r\n\r\n**To Reproduce (observed behavior)**\r\nUncertain - does not occur in all syncs\r\n\r\n**Expected behavior**\r\nSync should only sync a given source file once if sync was successful\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n```\r\n2022-03-25 10:23:29,062 - MainThread - awscli.customizations.s3.filters - DEBUG - =/Volumes/XXXX-048/Video/744651/data/PreservationMasters/myh_744651_v01_pm.mkv.qctools.xml.gz final filtered status, should_include: True\r\n2022-03-25 10:23:29,062 - MainThread - awscli.customizations.s3.syncstrategy.base - DEBUG - syncing: /Volumes/XXXX-048/Video/744651/data/PreservationMasters/myh_744651_v01_pm.mkv.qctools.xml.gz -> bucket-name/MPS-snowball/XXXX-048/Video/744651/data/PreservationMasters/myh_744651_v01_pm.mkv.qctools.xml.gz, file does not exist at destination\r\n```\r\n\r\n**Additional context**\r\nSimilar behavior reiererenced in closed issue: https://github.com/aws/aws-cli/issues/843\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6783", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6783/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6783/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6783/events", "html_url": "https://github.com/aws/aws-cli/pull/6783", "id": 1167738590, "node_id": "PR_kwDOAGd3X840XPos", "number": 6783, "title": "ddb `select` output error handling", "user": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 335130062, "node_id": "MDU6TGFiZWwzMzUxMzAwNjI=", "url": "https://api.github.com/repos/aws/aws-cli/labels/dynamodb", "name": "dynamodb", "color": "ff5500", "default": false, "description": ""}, {"id": 3991963811, "node_id": "LA_kwDOAGd3X87t8Iij", "url": "https://api.github.com/repos/aws/aws-cli/labels/community", "name": "community", "color": "99FAE0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-03-14T00:17:07Z", "updated_at": "2022-05-10T20:00:45Z", "closed_at": "2022-04-22T22:12:46Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/6783", "html_url": "https://github.com/aws/aws-cli/pull/6783", "diff_url": "https://github.com/aws/aws-cli/pull/6783.diff", "patch_url": "https://github.com/aws/aws-cli/pull/6783.patch", "merged_at": "2022-04-22T22:12:46Z"}, "body": "Fixes https://github.com/aws/aws-cli/issues/6387\r\n\r\nDescription of changes:\r\n\r\nRefactored `select` to throw exception if an unsupported output type is provided as a command line argument.  Previously, a request was made regardless of whether or not the output type was supported and only a YAML formatted response output was displayed. Added a note to the command reference page that only YAML output is supported. Also fixed some typos in the return code documentation.\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6783/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6758", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6758/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6758/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6758/events", "html_url": "https://github.com/aws/aws-cli/issues/6758", "id": 1156030741, "node_id": "I_kwDOAGd3X85E56EV", "number": 6758, "title": "AWS cli installation on RHEL 7 arm 64 failling", "user": {"login": "pgouda89", "id": 45407645, "node_id": "MDQ6VXNlcjQ1NDA3NjQ1", "avatar_url": "https://avatars.githubusercontent.com/u/45407645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgouda89", "html_url": "https://github.com/pgouda89", "followers_url": "https://api.github.com/users/pgouda89/followers", "following_url": "https://api.github.com/users/pgouda89/following{/other_user}", "gists_url": "https://api.github.com/users/pgouda89/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgouda89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgouda89/subscriptions", "organizations_url": "https://api.github.com/users/pgouda89/orgs", "repos_url": "https://api.github.com/users/pgouda89/repos", "events_url": "https://api.github.com/users/pgouda89/events{/privacy}", "received_events_url": "https://api.github.com/users/pgouda89/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2022-03-02T00:24:17Z", "updated_at": "2022-03-15T22:13:32Z", "closed_at": "2022-03-15T22:11:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n**Describe the bug**\r\nAWS cli installation on RHEL 7 arm 64 is failing with the following error:\r\n/aws/dist/cryptography/hazmat/bindings/_rust.abi3.so: symbol __cxa_thread_atexit_impl, version GLIBC_2.18 not defined in file libc.so.6 with link time reference\r\n\r\nInstructions followed to install aws cli: https://aws.amazon.com/blogs/developer/aws-cli-v2-now-available-for-linux-arm/\r\n\r\n**SDK version number**\r\nI believe it is the latest aws cli version as we are downloading 'https://awscli.amazonaws.com/awscli-exe-linux-aarch64.zip'\r\n**Platform/OS/Hardware/Device**\r\nRHEL 7.6 Arm64\r\nImage: RHEL-7.6_HVM_GA-20181122-arm64-0-Hourly2-GP2\r\n\r\n**To Reproduce (observed behavior)**\r\nCreate an AWS instance using RHEL-7.6_HVM_GA-20181122-arm64-0-Hourly2-GP2 image\r\nRun following commands in sequence \r\ncurl -O 'https://awscli.amazonaws.com/awscli-exe-linux-aarch64.zip'\r\n unzip awscli-exe-linux-aarch64.zip\r\nsudo ./aws/install\r\n**Expected behavior**\r\nAWS cli installation should go fine(It was working fine few weeks back, I am sure it is a regression)\r\n**Logs/output**\r\n/usr/aws-cli/v2/dist/cryptography/hazmat/bindings/_rust.abi3.so: symbol __cxa_thread_atexit_impl, version GLIBC_2.18 not defined in file libc.so.6 with link time reference\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6728", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6728/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6728/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6728/events", "html_url": "https://github.com/aws/aws-cli/issues/6728", "id": 1140528917, "node_id": "I_kwDOAGd3X85D-xcV", "number": 6728, "title": "Error: acm list-certificates generate-cli-skeleton output ", "user": {"login": "deric4", "id": 5762138, "node_id": "MDQ6VXNlcjU3NjIxMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5762138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deric4", "html_url": "https://github.com/deric4", "followers_url": "https://api.github.com/users/deric4/followers", "following_url": "https://api.github.com/users/deric4/following{/other_user}", "gists_url": "https://api.github.com/users/deric4/gists{/gist_id}", "starred_url": "https://api.github.com/users/deric4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deric4/subscriptions", "organizations_url": "https://api.github.com/users/deric4/orgs", "repos_url": "https://api.github.com/users/deric4/repos", "events_url": "https://api.github.com/users/deric4/events{/privacy}", "received_events_url": "https://api.github.com/users/deric4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 2285367557, "node_id": "MDU6TGFiZWwyMjg1MzY3NTU3", "url": "https://api.github.com/repos/aws/aws-cli/labels/acm", "name": "acm", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-02-16T20:23:09Z", "updated_at": "2022-02-17T15:31:41Z", "closed_at": "2022-02-17T15:31:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone through the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\n**Describe the bug**\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\nAttempting to generate a CLI output skeleton for `acm.list-certificates` fails with *ParamValidationError*:\r\n\r\n```\r\nbotocore.exceptions.ParamValidationError: Parameter validation failed:\r\nInvalid length for parameter CertificateSummaryList[0].CertificateArn, value: 14, valid min length: 20\r\n```\r\n\r\n**SDK version number**\r\n```console\r\n$ aws --version\r\naws-cli/2.4.15 Python/3.8.8 Linux/4.14.252-195.483.amzn2.x86_64 exec-env/CloudShell exe/x86_64.amzn.2 prompt/off\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\n<!-- What are you running the cli on? -->\r\n```console\r\n$ cat /etc/os-release\r\nNAME=\"Amazon Linux\"\r\nVERSION=\"2\"\r\nID=\"amzn\"\r\nID_LIKE=\"centos rhel fedora\"\r\nVERSION_ID=\"2\"\r\nPRETTY_NAME=\"Amazon Linux 2\"\r\nANSI_COLOR=\"0;33\"\r\nCPE_NAME=\"cpe:2.3:o:amazon:amazon_linux:2\"\r\nHOME_URL=\"https://amazonlinux.com/\"\r\n```\r\n\r\n**To Reproduce (observed behavior)**\r\n<!-- Steps to reproduce the behavior -->\r\n```console\r\n$ aws acm list-certificates --generate-cli-skeleton output\r\n\r\nParameter validation failed:\r\nInvalid length for parameter CertificateSummaryList[0].CertificateArn, value: 14, valid min length: 20\r\n```\r\n\r\n**Expected behavior**\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n```console\r\n$ aws acm list-certificates --generate-cli-skeleton output\r\n{\r\n  \"NextToken\": \"NextToken\",\r\n  \"CertificateSummaryList\": [\r\n    {\r\n      \"CertificateArn\": \"CertificateArn\",\r\n      \"DomainName\": \"DomainName\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Logs/output**\r\n<!-- Get full traceback and error logs by adding `--debug` to the command. -->\r\n```console\r\n$ aws acm list-certificates --generate-cli-skeleton output --debug\r\n2022-02-16 18:03:41,228 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.4.15 Python/3.8.8 Linux/4.14.252-195.483.amzn2.x86_64 exec-env/CloudShell exe/x86_64.amzn.2\r\n2022-02-16 18:03:41,228 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['acm', 'list-certificates', '--generate-cli-skeleton', 'output', '--debug']\r\n2022-02-16 18:03:41,242 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x7f9e03487d30>\r\n2022-02-16 18:03:41,242 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x7f9e03663790>\r\n2022-02-16 18:03:41,243 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2022-02-16 18:03:41,243 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7f9e0368a160>\r\n2022-02-16 18:03:41,243 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7f9e0368af70>\r\n2022-02-16 18:03:41,243 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x7f9e03499790>\r\n2022-02-16 18:03:41,243 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x7f9e035aa5e0>\r\n2022-02-16 18:03:41,243 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2022-02-16 18:03:41,243 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x7f9e034909d0>\r\n2022-02-16 18:03:41,244 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.4.15/dist/awscli/data/cli.json\r\n2022-02-16 18:03:41,248 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x7f9e0355d820>\r\n2022-02-16 18:03:41,248 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x7f9e0355f3a0>\r\n2022-02-16 18:03:41,248 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x7f9e0355f310>\r\n2022-02-16 18:03:41,248 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x7f9e0355f4c0>\r\n2022-02-16 18:03:41,249 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x7f9e0355f430>\r\n2022-02-16 18:03:41,249 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x7f9e033b9840>\r\n2022-02-16 18:03:41,249 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.4.15 Python/3.8.8 Linux/4.14.252-195.483.amzn2.x86_64 exec-env/CloudShell exe/x86_64.amzn.2 prompt/off\r\n2022-02-16 18:03:41,250 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['acm', 'list-certificates', '--generate-cli-skeleton', 'output', '--debug']\r\n2022-02-16 18:03:41,250 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f9e0348a3a0>\r\n2022-02-16 18:03:41,250 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f9e03ed74c0>\r\n2022-02-16 18:03:41,250 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f9e033f9ca0>\r\n2022-02-16 18:03:41,250 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x7f9e03ed1940>\r\n2022-02-16 18:03:41,251 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f9e03eb2160>\r\n2022-02-16 18:03:41,251 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2022-02-16 18:03:41,253 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f9e035aa4c0>\r\n2022-02-16 18:03:41,253 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f9e0365f5e0>\r\n2022-02-16 18:03:41,268 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.4.15/dist/awscli/botocore/data/acm/2015-12-08/service-2.json\r\n2022-02-16 18:03:41,270 - MainThread - botocore.hooks - DEBUG - Event building-command-table.acm: calling handler <function add_waiters at 0x7f9e034909d0>\r\n2022-02-16 18:03:41,283 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.4.15/dist/awscli/botocore/data/acm/2015-12-08/waiters-2.json\r\n2022-02-16 18:03:41,284 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('certificate-statuses', <awscli.arguments.ListArgument object at 0x7f9e029798e0>), ('includes', <awscli.arguments.CLIArgument object at 0x7f9e029797f0>), ('next-token', <awscli.arguments.CLIArgument object at 0x7f9e029799a0>), ('max-items', <awscli.arguments.CLIArgument object at 0x7f9e02979970>)])\r\n2022-02-16 18:03:41,284 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm.list-certificates: calling handler <function add_streaming_output_arg at 0x7f9e0348a940>\r\n2022-02-16 18:03:41,284 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm.list-certificates: calling handler <function add_cli_input_json at 0x7f9e03eb29d0>\r\n2022-02-16 18:03:41,285 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm.list-certificates: calling handler <function add_cli_input_yaml at 0x7f9e03eb2ca0>\r\n2022-02-16 18:03:41,285 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm.list-certificates: calling handler <function unify_paging_params at 0x7f9e03663dc0>\r\n2022-02-16 18:03:41,298 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.4.15/dist/awscli/botocore/data/acm/2015-12-08/paginators-1.json\r\n2022-02-16 18:03:41,298 - MainThread - awscli.customizations.paginate - DEBUG - Modifying paging parameters for operation: ListCertificates\r\n2022-02-16 18:03:41,299 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.acm.list-certificates: calling handler <function add_generate_skeleton at 0x7f9e03550dc0>\r\n2022-02-16 18:03:41,299 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.acm.list-certificates: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f9e02979610>>\r\n2022-02-16 18:03:41,299 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.acm.list-certificates: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f9e0299b0d0>>\r\n2022-02-16 18:03:41,299 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.acm.list-certificates: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f9e0299b430>>\r\n2022-02-16 18:03:41,300 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.acm.list-certificates: calling handler functools.partial(<function check_should_enable_pagination at 0x7f9e03663ee0>, ['next-token', 'max-items'], {'max-items': <awscli.arguments.CLIArgument object at 0x7f9e02979970>}, OrderedDict([('certificate-statuses', <awscli.arguments.ListArgument object at 0x7f9e029798e0>), ('includes', <awscli.arguments.CLIArgument object at 0x7f9e029797f0>), ('next-token', <awscli.arguments.CLIArgument object at 0x7f9e029799a0>), ('max-items', <awscli.customizations.paginate.PageArgument object at 0x7f9e0299b2b0>), ('cli-input-json', <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f9e02979610>), ('cli-input-yaml', <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f9e0299b0d0>), ('starting-token', <awscli.customizations.paginate.PageArgument object at 0x7f9e02979b80>), ('page-size', <awscli.customizations.paginate.PageArgument object at 0x7f9e02979be0>), ('generate-cli-skeleton', <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f9e0299b430>)]))\r\n2022-02-16 18:03:41,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.certificate-statuses: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.includes: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.next-token: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.max-items: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,301 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,302 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.starting-token: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,302 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,302 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.acm.list-certificates.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9e02979310>\r\n2022-02-16 18:03:41,302 - MainThread - botocore.hooks - DEBUG - Event calling-command.acm.list-certificates: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f9e02979610>>\r\n2022-02-16 18:03:41,302 - MainThread - botocore.hooks - DEBUG - Event calling-command.acm.list-certificates: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f9e0299b0d0>>\r\n2022-02-16 18:03:41,303 - MainThread - botocore.hooks - DEBUG - Event calling-command.acm.list-certificates: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f9e0299b430>>\r\n2022-02-16 18:03:41,303 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2022-02-16 18:03:41,303 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2022-02-16 18:03:41,303 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2022-02-16 18:03:41,304 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2022-02-16 18:03:41,304 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2022-02-16 18:03:41,304 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: custom-process\r\n2022-02-16 18:03:41,304 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: config-file\r\n2022-02-16 18:03:41,304 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: ec2-credentials-file\r\n2022-02-16 18:03:41,304 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: boto-config\r\n2022-02-16 18:03:41,305 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: container-role\r\n2022-02-16 18:03:41,305 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): localhost:1338\r\n2022-02-16 18:03:41,307 - MainThread - urllib3.connectionpool - DEBUG - http://localhost:1338 \"GET /latest/meta-data/container/security-credentials HTTP/1.1\" 200 1068\r\n2022-02-16 18:03:41,308 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.4.15/dist/awscli/botocore/data/endpoints.json\r\n2022-02-16 18:03:41,320 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f9e0526f0d0>\r\n2022-02-16 18:03:41,321 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.acm: calling handler <function add_generate_presigned_url at 0x7f9e058a85e0>\r\n2022-02-16 18:03:41,323 - MainThread - botocore.endpoint - DEBUG - Setting acm timeout as (60, 60)\r\n2022-02-16 18:03:41,324 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 459, in main\r\n  File \"awscli/clidriver.py\", line 594, in __call__\r\n  File \"awscli/clidriver.py\", line 746, in __call__\r\n  File \"awscli/clidriver.py\", line 849, in _emit_first_non_none_response\r\n  File \"awscli/botocore/session.py\", line 672, in emit_first_non_none_response\r\n  File \"awscli/botocore/hooks.py\", line 227, in emit\r\n  File \"awscli/botocore/hooks.py\", line 210, in _emit\r\n  File \"awscli/customizations/generatecliskeleton.py\", line 93, in generate_skeleton\r\n  File \"awscli/customizations/generatecliskeleton.py\", line 124, in _generate_output_skeleton\r\n  File \"awscli/clidriver.py\", line 901, in invoke\r\n  File \"awscli/customizations/generatecliskeleton.py\", line 146, in _make_client_call\r\n  File \"awscli/botocore/stub.py\", line 227, in add_response\r\n  File \"awscli/botocore/stub.py\", line 239, in _add_response\r\n  File \"awscli/botocore/stub.py\", line 388, in _validate_response\r\n  File \"awscli/botocore/validate.py\", line 49, in validate_parameters\r\nbotocore.exceptions.ParamValidationError: Parameter validation failed:\r\nInvalid length for parameter CertificateSummaryList[0].CertificateArn, value: 14, valid min length: 20\r\n\r\nParameter validation failed:\r\nInvalid length for parameter CertificateSummaryList[0].CertificateArn, value: 14, valid min length: 20\r\n```\r\n\r\n# Additional context\r\n<!-- Add any other context about the problem here. -->\r\n\r\nLooks like `awscli/customizations/generatecliskeleton.py` ends up calling `botocore.utils.ArgumentGenerator` which generates the expected output, but fails parameter validation due the min length *(20)*  for the `Arn` shape defined **acm** while the `Arn` shape definitions for other services  (i.e. **stepfunctions**) have lower min lengths.\r\nhttps://github.com/aws/aws-cli/blob/6f2239f66fb57ff1805c8045fdd0c04c8db89d2a/awscli/customizations/generatecliskeleton.py#L142\r\n\r\nEditing `/usr/local/aws-cli/v2/2.4.15/dist/awscli/botocore/data/acm/2015-12-08/service-2.json` in place and changing the min value from `20` to `1` works as expected with no errors.\r\n\r\n### ACM  vs Stepfunctions service-2.json\r\nhttps://github.com/aws/aws-cli/blob/6f2239f66fb57ff1805c8045fdd0c04c8db89d2a/awscli/botocore/data/acm/2015-12-08/service-2.json#L273-L278\r\nhttps://github.com/aws/aws-cli/blob/6f2239f66fb57ff1805c8045fdd0c04c8db89d2a/awscli/botocore/data/stepfunctions/2016-11-23/service-2.json#L519-L523\r\n\r\n</br>\r\n</br>\r\n  \r\n\r\nAdditionally, I was unable to tease out exactly where/how the `pattern` field is used during validation. I had expected the command to fail with only a change to `min` due to the regex but was surprised when the command was successful. It seems that only min/max are checked for `string` types?\r\nhttps://github.com/aws/aws-cli/blob/6f2239f66fb57ff1805c8045fdd0c04c8db89d2a/awscli/botocore/validate.py#L248-L264\r\n\r\n\r\n</br>\r\n</br>\r\nI wasn't able to match a valid certificate arn with the current pattern in a local python3 REPL or on regex101.com but guessing that's more of a botocore issue \ud83e\udd37\u200d\u2642\ufe0f ?\r\n\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6728/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6696", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6696/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6696/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6696/events", "html_url": "https://github.com/aws/aws-cli/issues/6696", "id": 1124285055, "node_id": "I_kwDOAGd3X85DAzp_", "number": 6696, "title": "First line of invalid configuration logged, possibly leaking credentials", "user": {"login": "RichardoC", "id": 11242848, "node_id": "MDQ6VXNlcjExMjQyODQ4", "avatar_url": "https://avatars.githubusercontent.com/u/11242848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RichardoC", "html_url": "https://github.com/RichardoC", "followers_url": "https://api.github.com/users/RichardoC/followers", "following_url": "https://api.github.com/users/RichardoC/following{/other_user}", "gists_url": "https://api.github.com/users/RichardoC/gists{/gist_id}", "starred_url": "https://api.github.com/users/RichardoC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RichardoC/subscriptions", "organizations_url": "https://api.github.com/users/RichardoC/orgs", "repos_url": "https://api.github.com/users/RichardoC/repos", "events_url": "https://api.github.com/users/RichardoC/events{/privacy}", "received_events_url": "https://api.github.com/users/RichardoC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1180550231, "node_id": "MDU6TGFiZWwxMTgwNTUwMjMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/SECURITY", "name": "SECURITY", "color": "d85658", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-02-04T14:48:16Z", "updated_at": "2022-02-04T19:44:38Z", "closed_at": "2022-02-04T19:44:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**SDK version number**\r\naws --version\r\naws-cli/1.18.149 Python/3.9.6 Linux/5.4.0-96-generic botocore/1.18.8\r\n\r\n**Platform/OS/Hardware/Device**\r\nUbuntu 20.04\r\n\r\n**To Reproduce (observed behavior)**\r\n``` bash\r\nexport AWS_SHARED_CREDENTIALS_FILE=/tmp/invalidcredfile\r\n# where /tmp/invalidcredfile contains `mysecretfilethatshouldn'tbelogged` for below\r\n# run any aws cli command, example\r\naws eks get-token --cluster-name example --profile example-profile --region eu-west2\r\n```\r\n\r\n**Expected behavior**\r\nOnly the filename and line number of the error logged. Not the contents of the file.\r\n\r\n**Logs/output**\r\n\r\n```python3\r\nTraceback (most recent call last):\r\n--\r\nFile \"redacted/aws.pex/third_party/python3/botocore/configloader.py\", line 149, in raw_config_parse\r\nFile \"redacted/python/3.9.6/usr/lib/python3.9/configparser.py\", line 697, in read\r\nself._read(fp, filename)\r\nFile \"redacted/python/3.9.6/usr/lib/python3.9/configparser.py\", line 1085, in _read\r\nraise MissingSectionHeaderError(fpname, lineno, line)\r\n configparser.MissingSectionHeaderError: File contains no section headers.\r\nfile: '/tmp/invalidcredfile', line: 1\r\n\r\nTraceback (most recent call last):\r\n  File \"redacted/botocore/configloader.py\", line 1[49]in raw_config_parse\r\n  File \"redacted/python/3.9.6/usr/lib/python3.9/configparser.py\", line 697, in read\r\n    self._read(fp, filename)\r\n  File \"redacted/python/3.9.6/usr/lib/python3.9/configparser.py\", line 1085, in _read\r\n    raise MissingSectionHeaderError(fpname, lineno, line)\r\nconfigparser.MissingSectionHeaderError: File contains no section headers.\r\nfile: '/tmp/invalidcredfile', line: 1\r\n'mysecretfilethatshouldn'tbelogged'\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6696/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6696/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6625", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6625/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6625/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6625/events", "html_url": "https://github.com/aws/aws-cli/issues/6625", "id": 1087653658, "node_id": "I_kwDOAGd3X85A1Eca", "number": 6625, "title": "aws-cli/1.19.112 crash when moving files to s3 bucket.", "user": {"login": "peycho", "id": 170853, "node_id": "MDQ6VXNlcjE3MDg1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/170853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peycho", "html_url": "https://github.com/peycho", "followers_url": "https://api.github.com/users/peycho/followers", "following_url": "https://api.github.com/users/peycho/following{/other_user}", "gists_url": "https://api.github.com/users/peycho/gists{/gist_id}", "starred_url": "https://api.github.com/users/peycho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peycho/subscriptions", "organizations_url": "https://api.github.com/users/peycho/orgs", "repos_url": "https://api.github.com/users/peycho/repos", "events_url": "https://api.github.com/users/peycho/events{/privacy}", "received_events_url": "https://api.github.com/users/peycho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "fbca04", "default": false, "description": "This issue needs reproduction."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 18, "created_at": "2021-12-23T12:02:12Z", "updated_at": "2022-11-09T22:56:16Z", "closed_at": "2022-11-09T22:55:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWe have a simple bash script that uses awscli to upload gzipped files from Linux machine ebs disk to s3 bucket location using the following example command:\r\n\r\n```\r\ntimeout 20 /usr/local/bin/aws s3 mv /mnt/path/local-data s3://bucket-name/path/something --recursive --region=us-east-1\r\n```\r\nThe files are pretty small, nothing above 1 MB.\r\nThe timeout command is in case the request get stuck for some reason(it happens sometimes), to exit the command and start the loop again.\r\n\r\nHowever, in some cases we see awscli crashes for some reason when executing the command above. The issue is not frequent, but it happens more often on our more loaded servers.\r\n\r\nHere is what I was able to extract from one of the core files. I can provide the core file itself if that's necessary.\r\nhttps://gist.github.com/peycho/2676ee07d1e68780fbc1fe9131614e49\r\n\r\n**SDK version number**\r\nThe awscli is installed via pip\r\n```\r\naws-cli/1.19.112 Python/2.7.17 Linux/5.3.0-1035-aws botocore/1.20.112\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\n```\r\nUbuntu 18.04 server / aws ec2 instance c5.2xlarge (8 cores / 16 Gb ram)\r\nLinux 5.3.0-1035-aws #37-Ubuntu SMP Sun Sep 6 01:17:09 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n**To Reproduce (observed behavior)**\r\nI can't provide steps because the command is pretty simple and it happens only sometimes. Daily, we upload a lot of files in s3 using that method. Probably millions.\r\n\r\n**Expected behavior**\r\nNot to crash.\r\n\r\n**Logs/output**\r\nN/A\r\n\r\n**Additional context**\r\nN/A", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6625/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6609", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6609/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6609/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6609/events", "html_url": "https://github.com/aws/aws-cli/issues/6609", "id": 1076974793, "node_id": "I_kwDOAGd3X85AMVTJ", "number": 6609, "title": "Key binding or encoding error on Windows 11", "user": {"login": "vectorkovacspeter", "id": 33445911, "node_id": "MDQ6VXNlcjMzNDQ1OTEx", "avatar_url": "https://avatars.githubusercontent.com/u/33445911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vectorkovacspeter", "html_url": "https://github.com/vectorkovacspeter", "followers_url": "https://api.github.com/users/vectorkovacspeter/followers", "following_url": "https://api.github.com/users/vectorkovacspeter/following{/other_user}", "gists_url": "https://api.github.com/users/vectorkovacspeter/gists{/gist_id}", "starred_url": "https://api.github.com/users/vectorkovacspeter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vectorkovacspeter/subscriptions", "organizations_url": "https://api.github.com/users/vectorkovacspeter/orgs", "repos_url": "https://api.github.com/users/vectorkovacspeter/repos", "events_url": "https://api.github.com/users/vectorkovacspeter/events{/privacy}", "received_events_url": "https://api.github.com/users/vectorkovacspeter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}, {"id": 3631433864, "node_id": "LA_kwDOAGd3X87Yc0iI", "url": "https://api.github.com/repos/aws/aws-cli/labels/session-manager-plugin", "name": "session-manager-plugin", "color": "B60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-12-10T15:38:49Z", "updated_at": "2022-09-12T22:20:37Z", "closed_at": "2022-09-12T22:20:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI use Windows 11 with latest update with Hungarian locale and keyboard settings. In aws cli with session manager the tab and arrow or even backspace key not working, there are cahrs appears when I use them. For example ^[OA or ^[OA for up/down arrows.\r\nI try multiple terminal (Windows Terminal, cmd, mobaxterm, Ubuntu WSL) and evendocker image from amazon/awsci official all works the same, and also the browser based EC2 terminal.\r\nThe Pythond and the native windows wersions all do the same.\r\n\r\n**SDK version number**\r\nmultiple for example: aws-cli/1.22.21\r\n\r\n**Platform/OS/Hardware/Device**\r\nmultiple on Windows 11 on Dell laptop\r\nWSL Ubuntu shell on Windows\r\nDocker desktop\r\n\r\n**To Reproduce (observed behavior)**\r\n1. Install awscli from pip or windows exe\r\n2. install session manager plugin from pop or windows exe\r\n3. try to use arrow keys or tab or backspace\r\n\r\nOR\r\n1. from aws consolse open browser based session\r\n2. try to use arrow keys or tab or backspace\r\n\r\n**Expected behavior**\r\nstandard shell behaviour for example history autocomplete, etc.\r\n\r\n**Logs/output**\r\nno error\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6609/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6593", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6593/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6593/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6593/events", "html_url": "https://github.com/aws/aws-cli/issues/6593", "id": 1071121335, "node_id": "I_kwDOAGd3X84_2AO3", "number": 6593, "title": "Failing test while setting up development environment: test_ctrl_c_does_not_print_traceback", "user": {"login": "santosh", "id": 1515991, "node_id": "MDQ6VXNlcjE1MTU5OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1515991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/santosh", "html_url": "https://github.com/santosh", "followers_url": "https://api.github.com/users/santosh/followers", "following_url": "https://api.github.com/users/santosh/following{/other_user}", "gists_url": "https://api.github.com/users/santosh/gists{/gist_id}", "starred_url": "https://api.github.com/users/santosh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/santosh/subscriptions", "organizations_url": "https://api.github.com/users/santosh/orgs", "repos_url": "https://api.github.com/users/santosh/repos", "events_url": "https://api.github.com/users/santosh/events{/privacy}", "received_events_url": "https://api.github.com/users/santosh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}, {"id": 4723087688, "node_id": "LA_kwDOAGd3X88AAAABGYSZSA", "url": "https://api.github.com/repos/aws/aws-cli/labels/p3", "name": "p3", "color": "F5DEB3", "default": false, "description": "This is a minor priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2021-12-04T04:38:31Z", "updated_at": "2023-02-27T17:11:02Z", "closed_at": "2023-02-27T17:09:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [x] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nPlatform: AWS EC2\r\nOS: Amazon Linux 2\r\nPython: 3.7.10\r\n\r\n**Describe the question**\r\nBefore I make any contribution, I wanted to setup my development environment completely. I have done so by:\r\n\r\n* creating a virtual environment `python3 -m venv .venv` and getting inside it `. .venv/bin/activate`.\r\n* installing the requirements `pip install -r requirements.txt -r requirements-docs.txt -r requirements-dev.txt`\r\n\r\nBefore I proceeded further, I wanted to run tests to make sure I'm starting with a clean board.\r\n\r\nAlthough I ran `pytest -x`, I'll only show where the test failed:\r\n\r\n```\r\n$ pytest -x tests/integration/test_cli.py\r\n================================================ test session starts =================================================\r\nplatform linux -- Python 3.7.10, pytest-6.2.5, py-1.11.0, pluggy-1.0.0\r\nrootdir: /efs/repos/oss/aws-cli, configfile: pyproject.toml\r\nplugins: cov-2.12.1\r\ncollected 43 items\r\n\r\ntests/integration/test_cli.py .F\r\n\r\n====================================================== FAILURES ======================================================\r\n_________________________ TestBasicCommandFunctionality.test_ctrl_c_does_not_print_traceback _________________________\r\n\r\nself = <tests.integration.test_cli.TestBasicCommandFunctionality testMethod=test_ctrl_c_does_not_print_traceback>\r\n\r\n    @skip_if_windows('Ctrl-C not supported on windows.')\r\n    def test_ctrl_c_does_not_print_traceback(self):\r\n        # Relying on the fact that this generally takes\r\n        # more than 1 second to complete.\r\n        process = aws('ec2 describe-images', wait_for_finish=False)\r\n        time.sleep(1)\r\n        process.send_signal(signal.SIGINT)\r\n        stdout, stderr = process.communicate()\r\n        self.assertNotIn(b'Traceback', stdout)\r\n>       self.assertNotIn(b'Traceback', stderr)\r\nE       AssertionError: b'Traceback' unexpectedly found in b'Traceback (most recent call last):\\n  File \"/efs/repos/oss/aws-cli/.venv/bin/aws\", line 7, in <module>\\n    exec(compile(f.read(), __file__, \\'exec\\'))\\n  File \"/efs/repos/oss/aws-cli/bin/aws\", line 27, in <module>\\n    sys.exit(main())\\n  File \"/efs/repos/oss/aws-cli/bin/aws\", line 23, in main\\n    return awscli.clidriver.main()\\n  File \"/efs/repos/oss/aws-cli/awscli/clidriver.py\", line 69, in main\\n    driver = create_clidriver()\\n  File \"/efs/repos/oss/aws-cli/awscli/clidriver.py\", line 79, in create_clidriver\\n    event_hooks=session.get_component(\\'event_emitter\\'))\\n  File \"/efs/repos/oss/aws-cli/awscli/plugin.py\", line 44, in load_plugins\\n    modules = _import_plugins(plugin_mapping)\\n  File \"/efs/repos/oss/aws-cli/awscli/plugin.py\", line 61, in _import_plugins\\n    module = __import__(path, fromlist=[module])\\n  File \"/efs/repos/oss/aws-cli/awscli/handlers.py\", line 42, in <module>\\n    from awscli.customizations.configure.configure import register_configure_cmd\\n  File \"/efs/repos/oss/aws-cli/awscli/customizations/configure/configure.py\", line 20, in <module>\\n    from awscli.customizations.configure.addmodel import AddModelCommand\\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\\n  File \"<frozen importlib._bootstrap_external>\", line 724, in exec_module\\n  File \"<frozen importlib._bootstrap_external>\", line 818, in get_code\\n  File \"<frozen importlib._bootstrap_external>\", line 916, in get_data\\nKeyboardInterrupt\\n'\r\n\r\ntests/integration/test_cli.py:324: AssertionError\r\n============================================== short test summary info ===============================================\r\nFAILED tests/integration/test_cli.py::TestBasicCommandFunctionality::test_ctrl_c_does_not_print_traceback - Asserti...\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n============================================ 1 failed, 1 passed in 5.62s =============================================\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6593/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6590", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6590/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6590/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6590/events", "html_url": "https://github.com/aws/aws-cli/pull/6590", "id": 1070066504, "node_id": "PR_kwDOAGd3X84vVbA3", "number": 6590, "title": "S3 cp storage class update", "user": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1871236656, "node_id": "MDU6TGFiZWwxODcxMjM2NjU2", "url": "https://api.github.com/repos/aws/aws-cli/labels/contribution:core", "name": "contribution:core", "color": "DA5F98", "default": false, "description": "This is a PR that came from AWS."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-12-02T23:18:41Z", "updated_at": "2021-12-08T21:04:32Z", "closed_at": "2021-12-08T20:21:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/6590", "html_url": "https://github.com/aws/aws-cli/pull/6590", "diff_url": "https://github.com/aws/aws-cli/pull/6590.diff", "patch_url": "https://github.com/aws/aws-cli/pull/6590.patch", "merged_at": null}, "body": "Closes #6587 \r\n\r\n*Description of changes:*\r\n\r\nS3 recently introduced the Glacier Instant Retrieval storage class.  Added the option to subcommands for use with cp, as this already works with standard S3 APIs\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6590/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6590/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6587", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6587/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6587/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6587/events", "html_url": "https://github.com/aws/aws-cli/issues/6587", "id": 1069363033, "node_id": "I_kwDOAGd3X84_vS9Z", "number": 6587, "title": "aws s3 cp with GLACIER_IR storage class", "user": {"login": "kjaercasper", "id": 13962556, "node_id": "MDQ6VXNlcjEzOTYyNTU2", "avatar_url": "https://avatars.githubusercontent.com/u/13962556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjaercasper", "html_url": "https://github.com/kjaercasper", "followers_url": "https://api.github.com/users/kjaercasper/followers", "following_url": "https://api.github.com/users/kjaercasper/following{/other_user}", "gists_url": "https://api.github.com/users/kjaercasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjaercasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjaercasper/subscriptions", "organizations_url": "https://api.github.com/users/kjaercasper/orgs", "repos_url": "https://api.github.com/users/kjaercasper/repos", "events_url": "https://api.github.com/users/kjaercasper/events{/privacy}", "received_events_url": "https://api.github.com/users/kjaercasper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 2763968170, "node_id": "MDU6TGFiZWwyNzYzOTY4MTcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/has-pr", "name": "has-pr", "color": "358F18", "default": false, "description": "This issue has a PR associated with it."}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-12-02T10:11:49Z", "updated_at": "2021-12-09T01:43:06Z", "closed_at": "2021-12-09T01:42:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\naws s3 cp storage class\r\n\r\n**Platform/OS/Hardware/Device**\r\nCent 7.5\r\naws-cli/2.4.4 \r\n\r\n**Describe the question**\r\n\r\nAnybody knows when the AWS CLI will suport then new Glacier instant, works with the API, but not via s3 cp\r\n\r\nroot ~ $ `aws s3 cp --follow-symlinks /data/emfs1/.projects/premiere/test/IMG_6723.MOV s3://XXX --storage-class GLACIER_IR`\r\n\r\n```\r\naws: error: argument --storage-class: Invalid choice, valid choices are:\r\n\r\nSTANDARD | REDUCED_REDUNDANCY\r\nSTANDARD_IA | ONEZONE_IA\r\nINTELLIGENT_TIERING | GLACIER\r\nDEEP_ARCHIVE\r\n\r\nInvalid choice: 'GLACIER_IR', maybe you meant:\r\n\r\nSTANDARD | REDUCED_REDUNDANCY\r\nSTANDARD_IA | ONEZONE_IA\r\nINTELLIGENT_TIERING | GLACIER\r\nDEEP_ARCHIVE\r\n\r\nGLACIER\r\n```\r\n\r\n**Logs/output**\r\n\r\n```\r\nInvalid choice: 'GLACIER_IR', maybe you meant:\r\n\r\nSTANDARD | REDUCED_REDUNDANCY\r\nSTANDARD_IA | ONEZONE_IA\r\nINTELLIGENT_TIERING | GLACIER\r\nDEEP_ARCHIVE\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6587/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6545", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6545/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6545/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6545/events", "html_url": "https://github.com/aws/aws-cli/issues/6545", "id": 1054257826, "node_id": "I_kwDOAGd3X84-1rKi", "number": 6545, "title": "IAM new-role wizard doesn't handle nullable description", "user": {"login": "kiiadi", "id": 4661536, "node_id": "MDQ6VXNlcjQ2NjE1MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/4661536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiiadi", "html_url": "https://github.com/kiiadi", "followers_url": "https://api.github.com/users/kiiadi/followers", "following_url": "https://api.github.com/users/kiiadi/following{/other_user}", "gists_url": "https://api.github.com/users/kiiadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiiadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiiadi/subscriptions", "organizations_url": "https://api.github.com/users/kiiadi/orgs", "repos_url": "https://api.github.com/users/kiiadi/repos", "events_url": "https://api.github.com/users/kiiadi/events{/privacy}", "received_events_url": "https://api.github.com/users/kiiadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2941755629, "node_id": "MDU6TGFiZWwyOTQxNzU1NjI5", "url": "https://api.github.com/repos/aws/aws-cli/labels/wizard", "name": "wizard", "color": "8B8C7F", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-11-15T23:36:46Z", "updated_at": "2022-04-21T16:47:51Z", "closed_at": "2022-04-21T16:46:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhile running the iam `new-role` wizard (e.g. `aws iam wizard new-role`) the description attribute is not required, if a value isn't added, an 'empty' key is added to the generated CloudFormation template - which is invalid - resulting in a failed deployment via cloudformation.\r\n\r\n**SDK version number**\r\naws-cli/2.3.2 Python/3.8.5 Linux/4.14.252-195.483.amzn2.x86_64 source/x86_64.amzn.2 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\nCloud 9\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n\r\n**Expected behavior**\r\nThe Description property should just be dropped from the YAML if it's not specified.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6545/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6543", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6543/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6543/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6543/events", "html_url": "https://github.com/aws/aws-cli/issues/6543", "id": 1052379474, "node_id": "I_kwDOAGd3X84-uglS", "number": 6543, "title": "aws-cli:  aws apigateway get-sdk : pom file generation problem for sdk-type=java", "user": {"login": "michel-heon", "id": 71774817, "node_id": "MDQ6VXNlcjcxNzc0ODE3", "avatar_url": "https://avatars.githubusercontent.com/u/71774817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michel-heon", "html_url": "https://github.com/michel-heon", "followers_url": "https://api.github.com/users/michel-heon/followers", "following_url": "https://api.github.com/users/michel-heon/following{/other_user}", "gists_url": "https://api.github.com/users/michel-heon/gists{/gist_id}", "starred_url": "https://api.github.com/users/michel-heon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michel-heon/subscriptions", "organizations_url": "https://api.github.com/users/michel-heon/orgs", "repos_url": "https://api.github.com/users/michel-heon/repos", "events_url": "https://api.github.com/users/michel-heon/events{/privacy}", "received_events_url": "https://api.github.com/users/michel-heon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2371850792, "node_id": "MDU6TGFiZWwyMzcxODUwNzky", "url": "https://api.github.com/repos/aws/aws-cli/labels/apigateway", "name": "apigateway", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-11-12T20:18:28Z", "updated_at": "2022-01-05T18:59:24Z", "closed_at": "2022-01-05T18:59:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nInvocation script:\r\n\r\n```\r\nSTAGE=dev\r\nVERSION=2.0.0-SNAPSHOT\r\ngroupId='ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy'\r\nartifactId='ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy.person'\r\nAPI_NAME=VIVO_Diffusion_PROXY\r\nREST_API_ID=$(aws apigateway get-rest-apis  --query 'items[*].[name,id]' --output=text | grep $API_NAME | cut -f 2)\r\nSDK_FN=$API_NAME-$STAGE-$VERSION.zip\r\naws apigateway get-sdk \\\r\n            --rest-api-id $REST_API_ID \\\r\n            --stage-name $STAGE \\\r\n            --sdk-type java \\\r\n            --parameters invokerPackage=$artifactId,groupId=$groupId,artifactVersion=$VERSION,service.name=$API_NAME,java.package-name=ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy.person\\\r\n            ./$SDK_FN --output=json\r\n```\r\n**generated** result in pom.xml\r\n```\r\n    <groupId>ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy.person</groupId> PROBLEM HERE\r\n    <artifactId>VIVO_Diffusion_PROXY</artifactId> PROBLEM HERE\r\n    <packaging>jar</packaging>\r\n    <name>VIVO_Diffusion_PROXY</name>\r\n    <version>1.0-SNAPSHOT</version> PROBLEM HERE\r\n```\r\n**expected**result in pom.xml\r\n```\r\n    <groupId>ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy</groupId>  \r\n    <artifactId>'ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy.person</artifactId>\r\n    <packaging>jar</packaging>\r\n    <name>VIVO_Diffusion_PROXY</name>\r\n    <version>2.0.0-SNAPSHOT</version>\r\n```\r\n**SDK version number**\r\n\r\n```\r\naws --version\r\naws-cli/2.3.6 Python/3.8.8 Linux/5.4.0-89-generic exe/x86_64.ubuntu.20 prompt/off\r\n```\r\n**To Reproduce (observed behavior)**\r\n1 make your own api gateway\r\n2 replace appropriates values in script\r\n3 run it\r\n\r\n**Expected behavior**\r\n**expected**result in pom.xml\r\n```\r\n    <groupId>ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy</groupId>  \r\n    <artifactId>'ca.uqam.vivo.aws.vivo_diffusion.vivo_proxy.person</artifactId>\r\n    <packaging>jar</packaging>\r\n    <name>VIVO_Diffusion_PROXY</name>\r\n    <version>2.0.0-SNAPSHOT</version>\r\n```\r\n\r\n**Logs/output**\r\nNA\r\n**Additional context**\r\nOther problem, no documentation on \"sdk-type=java\" in:\r\n- https://docs.aws.amazon.com/cli/latest/reference/apigateway/get-sdk.html\r\n- https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-generate-sdk-cli.html\r\n\r\nIt would be interesting to have a detailed description of the possible values for 'sdk-type=java' that we currently have to deduct.... which is very unpleasant", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6537", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6537/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6537/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6537/events", "html_url": "https://github.com/aws/aws-cli/issues/6537", "id": 1047908255, "node_id": "I_kwDOAGd3X84-dc-f", "number": 6537, "title": "CLI version 1.22.0 breaks aws eks update-kubeconfig", "user": {"login": "toly-k", "id": 585700, "node_id": "MDQ6VXNlcjU4NTcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/585700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toly-k", "html_url": "https://github.com/toly-k", "followers_url": "https://api.github.com/users/toly-k/followers", "following_url": "https://api.github.com/users/toly-k/following{/other_user}", "gists_url": "https://api.github.com/users/toly-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/toly-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toly-k/subscriptions", "organizations_url": "https://api.github.com/users/toly-k/orgs", "repos_url": "https://api.github.com/users/toly-k/repos", "events_url": "https://api.github.com/users/toly-k/events{/privacy}", "received_events_url": "https://api.github.com/users/toly-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-11-08T20:53:57Z", "updated_at": "2021-11-09T18:09:07Z", "closed_at": "2021-11-09T18:08:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nCI pipeline picked up the latest major version and my build started failing. Downgrading to `1.21.12` solved the issue:\r\n`python -m pip install --upgrade pip awscli==1.21.12`\r\n\r\n**SDK version number**\r\n1.22.0\r\n\r\n**Platform/OS/Hardware/Device**\r\nUbuntu 20.04.3 LTS\r\n\r\n**To Reproduce (observed behavior)**\r\nRun `aws eks update-kubeconfig`\r\n\r\n**Expected behavior**\r\n`aws eks update-kubeconfig` succeeds \r\n\r\n**Logs/output**\r\n\r\n```\r\nInstalling collected packages: pip, docutils, rsa, python-dateutil, jmespath, botocore, s3transfer, awscli\r\nSuccessfully installed awscli-1.22.0 botocore-1.23.0 docutils-0.15.2 jmespath-0.10.0 pip-21.3.1 python-dateutil-2.8.2 rsa-4.7.2 s3transfer-0.5.0\r\n```\r\n```\r\naws eks update-kubeconfig --name ***** \\\r\n  --region us-east-1 \\\r\n  --role-arn ************\r\n  cat ~/.kube/config\r\n  shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}\r\n  env:\r\n    region: us-east-1\r\n    accountId: ***\r\n    repo: ***\r\n    namespace: ***\r\n    environment-overlay: ***\r\n    cluster-name: ***\r\n    cluster-authentication-role-arn: ***\r\n    IMAGE_TAG: a21f6cf\r\n    AWS_DEFAULT_REGION: us-east-1\r\n    AWS_REGION: us-east-1\r\n    AWS_ACCESS_KEY_ID: ***\r\n    AWS_SECRET_ACCESS_KEY: ***\r\nTraceback (most recent call last):\r\n  File \"/home/runner/.local/bin/aws\", line 19, in <module>\r\n    import awscli.clidriver\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/awscli/clidriver.py\", line 17, in <module>\r\n    import botocore.session\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/botocore/session.py\", line 29, in <module>\r\n    import botocore.credentials\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/botocore/credentials.py\", line 34, in <module>\r\n    from botocore.config import Config\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/botocore/config.py\", line 16, in <module>\r\n    from botocore.endpoint import DEFAULT_TIMEOUT, MAX_POOL_CONNECTIONS\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/botocore/endpoint.py\", line 22, in <module>\r\n    from botocore.awsrequest import create_request_object\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/botocore/awsrequest.py\", line 24, in <module>\r\n    import botocore.utils\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/botocore/utils.py\", line 32, in <module>\r\n    import botocore.httpsession\r\n  File \"/home/runner/.local/lib/python3.8/site-packages/botocore/httpsession.py\", line 10, in <module>\r\n    from urllib3.util.ssl_ import (\r\nImportError: cannot import name 'OP_NO_TICKET' from 'urllib3.util.ssl_' (/usr/lib/python3/dist-packages/urllib3/util/ssl_.py)\r\nError: Process completed with exit code 1.\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6537/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6537/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6485", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6485/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6485/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6485/events", "html_url": "https://github.com/aws/aws-cli/issues/6485", "id": 1027205623, "node_id": "I_kwDOAGd3X849Oen3", "number": 6485, "title": "Cognito-idp calls are forcefully routed through IPv6", "user": {"login": "jbernales5", "id": 74544894, "node_id": "MDQ6VXNlcjc0NTQ0ODk0", "avatar_url": "https://avatars.githubusercontent.com/u/74544894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbernales5", "html_url": "https://github.com/jbernales5", "followers_url": "https://api.github.com/users/jbernales5/followers", "following_url": "https://api.github.com/users/jbernales5/following{/other_user}", "gists_url": "https://api.github.com/users/jbernales5/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbernales5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbernales5/subscriptions", "organizations_url": "https://api.github.com/users/jbernales5/orgs", "repos_url": "https://api.github.com/users/jbernales5/repos", "events_url": "https://api.github.com/users/jbernales5/events{/privacy}", "received_events_url": "https://api.github.com/users/jbernales5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2528709721, "node_id": "MDU6TGFiZWwyNTI4NzA5NzIx", "url": "https://api.github.com/repos/aws/aws-cli/labels/cognito-idp", "name": "cognito-idp", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2021-10-15T08:26:17Z", "updated_at": "2022-11-09T13:32:16Z", "closed_at": "2021-12-24T00:07:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen performing cli calls with the cognito-idp command, all calls are forcefully routed through IPv6. When using an AWS VPN Client, only IPv4 calls are supported and since we have whitelisted in our organization our AWS VPN IPv4 address, it is impossible for us to perform cognito-related calls through the CLI. It is important to note that calls performed with other services (such as S3) work appropriately (see CloudTrail logs below).\r\n\r\n**SDK version number**\r\n`aws-cli/2.2.44 Python/3.8.8 Darwin/`\r\n\r\n**Platform/OS/Hardware/Device**\r\nMacOS 11.6\r\n\r\n**To Reproduce (observed behavior)**\r\n- Create a Client VPN Endpoint and attach to it an Elastic IP Address\r\n- Setup a policy denying access to all resources unless the calls come from the VPN eIP address\r\n- Mount the AWS VPN client in the machine\r\n- Perform an `aws cognito-idp` call (e.g. `aws cognito-idp admin-get-user`), this call will fail if your internet connection provides you with an IPv6\r\n- Perform an `aws s3` call (e.g. `aws s3 ls <bucket_name>`), this call will succeed\r\n\r\n**Expected behavior**\r\n- When AWS VPN Client is enabled, all Cognito CLI calls should be routed through the VPN IPv4 addresses\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\nA CloudTrail log when trying to perform the `aws cognito-idp admin-get-user` call:\r\n``` json\r\n \"eventTime\": \"2021-10-15T07:38:00Z\",\r\n \"eventSource\": \"cognito-idp.amazonaws.com\",\r\n \"eventName\": \"AdminGetUser\",\r\n \"awsRegion\": \"eu-west-1\",\r\n \"sourceIPAddress\": \"2a01:cb11:80c:<REDACTED>\", // <-------- USAGE OF IPV6\r\n \"userAgent\": \"aws-cli/2.2.44 Python/3.8.8 Darwin/20.6.0 exe/x86_64 prompt/off command/cognito-idp.admin-get-user\",\r\n \"errorCode\": \"AccessDenied\"\r\n```\r\n**Additional context**\r\nA CloudTrail log when performing an `aws s3 ls <bucket_name>`:\r\n```json\r\n\"eventTime\": \"2021-10-15T07:58:40Z\",\r\n\"eventSource\": \"s3.amazonaws.com\",\r\n\"eventName\": \"ListBuckets\",\r\n\"awsRegion\": \"eu-west-1\",\r\n\"sourceIPAddress\": \"34.247.<redacted>\" // <-------- USAGE OF IPV4\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6485/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6476", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6476/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6476/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6476/events", "html_url": "https://github.com/aws/aws-cli/pull/6476", "id": 1025493806, "node_id": "PR_kwDOAGd3X84tKCle", "number": 6476, "title": "Deprecate Kubernetes client API version v1alpha1", "user": {"login": "micahhausler", "id": 791000, "node_id": "MDQ6VXNlcjc5MTAwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/791000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/micahhausler", "html_url": "https://github.com/micahhausler", "followers_url": "https://api.github.com/users/micahhausler/followers", "following_url": "https://api.github.com/users/micahhausler/following{/other_user}", "gists_url": "https://api.github.com/users/micahhausler/gists{/gist_id}", "starred_url": "https://api.github.com/users/micahhausler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/micahhausler/subscriptions", "organizations_url": "https://api.github.com/users/micahhausler/orgs", "repos_url": "https://api.github.com/users/micahhausler/repos", "events_url": "https://api.github.com/users/micahhausler/events{/privacy}", "received_events_url": "https://api.github.com/users/micahhausler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}, {"id": 4102261669, "node_id": "LA_kwDOAGd3X870g4ul", "url": "https://api.github.com/repos/aws/aws-cli/labels/review", "name": "review", "color": "8E81F5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-10-13T17:04:02Z", "updated_at": "2022-05-11T21:02:09Z", "closed_at": "2022-05-06T15:53:33Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/6476", "html_url": "https://github.com/aws/aws-cli/pull/6476", "diff_url": "https://github.com/aws/aws-cli/pull/6476.diff", "patch_url": "https://github.com/aws/aws-cli/pull/6476.patch", "merged_at": "2022-05-06T15:53:33Z"}, "body": "Kubernetes has deprecated v1alpha1, v1beta1 has been available since Kubernetes\r\nv1.11 (kubernetes/kubernetes#64482), and EKS currently supports Kubernetes\r\nversions v1.16 through v1.21. This is a breaking change for clients running\r\nversions v1.10 and older, which haven't been supported by EKS since September\r\n2019.\r\n\r\n\"aws eks get-token\" now respects the KUBERNETES_EXEC_INFO environment\r\nvariable and conservatively falls back to v1alpha1, which is supported\r\nby Kubernetes versions 1.10 through 1.22 (released upstream August 2021, to be\r\nreleased by EKS in Q4 2021). It also now supports clients requesting credentials \r\nusing the \"v1beta1\" and \"v1\" versions.\r\n\r\n\"aws eks update-kubeconfig\" now writes \"v1beta1\" in the kubeconfig which\r\nwill be supported by Kubernetes until 1.29 (aproximately December 2023).\r\nAt or around that date, we can change the default version written to\r\nkubeconfigs to \"v1\"\r\n\r\nSigned-off-by: Micah Hausler <mhausler@amazon.com>\r\n\r\n*Issue #, if available:*\r\n- #6289 \r\n- #6308\r\n- #6309\r\n\r\n*Description of changes:*\r\n\r\nSee above\r\n\r\ncc: @nckturner @sgundapu \r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6476/reactions", "total_count": 13, "+1": 5, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 4, "rocket": 3, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6476/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6470", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6470/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6470/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6470/events", "html_url": "https://github.com/aws/aws-cli/issues/6470", "id": 1024413038, "node_id": "I_kwDOAGd3X849D01u", "number": 6470, "title": "ecs run-task often times out or fails when task is defined with s3 environment files", "user": {"login": "msporleder", "id": 523275, "node_id": "MDQ6VXNlcjUyMzI3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/523275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msporleder", "html_url": "https://github.com/msporleder", "followers_url": "https://api.github.com/users/msporleder/followers", "following_url": "https://api.github.com/users/msporleder/following{/other_user}", "gists_url": "https://api.github.com/users/msporleder/gists{/gist_id}", "starred_url": "https://api.github.com/users/msporleder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msporleder/subscriptions", "organizations_url": "https://api.github.com/users/msporleder/orgs", "repos_url": "https://api.github.com/users/msporleder/repos", "events_url": "https://api.github.com/users/msporleder/events{/privacy}", "received_events_url": "https://api.github.com/users/msporleder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2220994337, "node_id": "MDU6TGFiZWwyMjIwOTk0MzM3", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecs", "name": "ecs", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2021-10-12T21:14:57Z", "updated_at": "2022-01-05T00:49:32Z", "closed_at": "2022-01-04T23:22:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\necs fails to start tasks because:\r\n\"stoppedReason\": \"ResourceInitializationError: failed to download env files: file download command: non empty error stream: RequestCanceled: request context canceled caused by: context deadline exceeded\",\r\n\r\nthis should be retried, etc, as s3 is not so reliable\r\n\r\n\r\n**SDK version number**\r\naws-cli/2.2.45 Python/3.8.8 Linux/5.10.47-linuxkit docker/x86_64.amzn.2 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\namazon/aws-cli:latest docker container\r\n\r\n**To Reproduce (observed behavior)**\r\n(truncated)\r\naws --region us-east-1 ecs run-task --cluster default --task-definition dostuff --launch-type FARGATE --overrides \"environmentFiles\": [{ \"type\": \"s3\", \"value\":\"arn:aws:s3:::myenvfiles/prod.env\" }]\r\n^^^\r\nDo this a thousand times per day and you will see failures about 1% of the time where ecs times out (I guess) attempting to download that env file from s3.\r\n\r\n\"stoppedReason\": \"ResourceInitializationError: failed to download env files: file download command: non empty error stream: RequestCanceled: request context canceled caused by: context deadline exceeded\",\r\n\r\n\r\n**Expected behavior**\r\ntask should run like it does the other 98% of the time\r\n\r\n**Logs/output**\r\n            \"stopCode\": \"TaskFailedToStart\",\r\n\r\n**Additional context**\r\nthis only happens occasionally.  I am suspicious that it is actually at a lower level like the boto lib but I experience it on the cli.  If there is a timeout/env I can set to work around this that might also work.  The task normally works the next time it is attempted.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6452", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6452/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6452/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6452/events", "html_url": "https://github.com/aws/aws-cli/issues/6452", "id": 1016878235, "node_id": "I_kwDOAGd3X848nFSb", "number": 6452, "title": " aws workdocs describe-notification-subscriptions doesn't report even when there are notifications enabled", "user": {"login": "nngabriel", "id": 53454145, "node_id": "MDQ6VXNlcjUzNDU0MTQ1", "avatar_url": "https://avatars.githubusercontent.com/u/53454145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nngabriel", "html_url": "https://github.com/nngabriel", "followers_url": "https://api.github.com/users/nngabriel/followers", "following_url": "https://api.github.com/users/nngabriel/following{/other_user}", "gists_url": "https://api.github.com/users/nngabriel/gists{/gist_id}", "starred_url": "https://api.github.com/users/nngabriel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nngabriel/subscriptions", "organizations_url": "https://api.github.com/users/nngabriel/orgs", "repos_url": "https://api.github.com/users/nngabriel/repos", "events_url": "https://api.github.com/users/nngabriel/events{/privacy}", "received_events_url": "https://api.github.com/users/nngabriel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 3432388471, "node_id": "LA_kwDOAGd3X87Mlhd3", "url": "https://api.github.com/repos/aws/aws-cli/labels/workdocs", "name": "workdocs", "color": "9E1300", "default": false, "description": ""}, {"id": 4723087672, "node_id": "LA_kwDOAGd3X88AAAABGYSZOA", "url": "https://api.github.com/repos/aws/aws-cli/labels/p2", "name": "p2", "color": "FF8C00", "default": false, "description": "This is a standard priority issue"}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2021-10-05T21:23:59Z", "updated_at": "2022-12-09T23:00:18Z", "closed_at": "2022-12-09T22:59:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI'm trying to get the current WorkDocs notifications subscriptions but the command \" aws workdocs describe-notification-subscriptions\" doesn't output anything. Just this\r\n{\r\n    \"Subscriptions\": []\r\n}\r\n\r\n**SDK version number**\r\naws-cli/2.2.43 Python/3.8.8 Windows/10 exe/AMD64 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nWindows 10 19043\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\naws workdocs describe-notification-subscriptions --organization-id\r\n\r\n**Expected behavior**\r\nA real output of the enabled notifications\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6416", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6416/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6416/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6416/events", "html_url": "https://github.com/aws/aws-cli/issues/6416", "id": 1004404237, "node_id": "I_kwDOAGd3X8473f4N", "number": 6416, "title": "CLI should unset LD_LIBRARY_PATH before running external aliases", "user": {"login": "krschwab", "id": 12785749, "node_id": "MDQ6VXNlcjEyNzg1NzQ5", "avatar_url": "https://avatars.githubusercontent.com/u/12785749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krschwab", "html_url": "https://github.com/krschwab", "followers_url": "https://api.github.com/users/krschwab/followers", "following_url": "https://api.github.com/users/krschwab/following{/other_user}", "gists_url": "https://api.github.com/users/krschwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/krschwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krschwab/subscriptions", "organizations_url": "https://api.github.com/users/krschwab/orgs", "repos_url": "https://api.github.com/users/krschwab/repos", "events_url": "https://api.github.com/users/krschwab/events{/privacy}", "received_events_url": "https://api.github.com/users/krschwab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-09-22T15:00:28Z", "updated_at": "2021-09-23T16:47:15Z", "closed_at": "2021-09-23T16:46:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen you add an alias to the ~/.aws/cli/aliases file that runs an external command, it runs that command with the LD_LIBRARY_PATH environment variable set to something that causes issues with some external commands.   In my setup, it sets LD_LIBRARY_PATH to /usr/local/aws-cli/v2/2.2.38/dist.\r\n\r\nThis creates issues with some external commands.   For me, for example, I get this message on stderr when running an external python command that is linked to libz:\r\n\r\n`python3: /usr/local/aws-cli/v2/2.2.38/dist/libz.so.1: no version information available (required by python3)`\r\n\r\nI see other shared libs in there for sqlite, libbz2, libffi, liblzma, etc.  So while my error was mostly just an annoyance, I could see it creating bigger issues in other cases. \r\n\r\n**SDK version number**\r\n2.2.38 \r\n\r\n**Platform/OS/Hardware/Device**\r\nLinux under Microsoft Windows WSL.\r\n\r\n**To Reproduce (observed behavior)**\r\nAdd this alias:\r\n```\r\n[toplevel]\r\ndumpenv=!env\r\n```\r\nNow, run this command:\r\n`$ aws dumpenv|grep LD_LIBRARY_PATH`\r\n\r\nYou'll see that LD_LIBRARY_PATH is being set\r\n\r\n**Expected behavior**\r\nLD_LIBRARY_PATH should not be set.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nYou can work around this by unsetting LD_LIBRARY_PATH in the alias, like this:\r\n```\r\n[toplevel]\r\nfoo=!unset LD_LIBRARY_PATH;/bin/somecommand\r\n```\r\nBut that's not an ideal solution.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6406", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6406/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6406/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6406/events", "html_url": "https://github.com/aws/aws-cli/issues/6406", "id": 998970505, "node_id": "I_kwDOAGd3X847ixSJ", "number": 6406, "title": "Docker image 2.2.39 can't install docker or has a breaking change.", "user": {"login": "jforand", "id": 38356818, "node_id": "MDQ6VXNlcjM4MzU2ODE4", "avatar_url": "https://avatars.githubusercontent.com/u/38356818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jforand", "html_url": "https://github.com/jforand", "followers_url": "https://api.github.com/users/jforand/followers", "following_url": "https://api.github.com/users/jforand/following{/other_user}", "gists_url": "https://api.github.com/users/jforand/gists{/gist_id}", "starred_url": "https://api.github.com/users/jforand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jforand/subscriptions", "organizations_url": "https://api.github.com/users/jforand/orgs", "repos_url": "https://api.github.com/users/jforand/repos", "events_url": "https://api.github.com/users/jforand/events{/privacy}", "received_events_url": "https://api.github.com/users/jforand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}, {"id": 2220923061, "node_id": "MDU6TGFiZWwyMjIwOTIzMDYx", "url": "https://api.github.com/repos/aws/aws-cli/labels/docker", "name": "docker", "color": "c7ddfc", "default": false, "description": "Issue involves the AWS CLI Docker container image"}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2021-09-17T05:53:15Z", "updated_at": "2021-09-21T23:50:57Z", "closed_at": "2021-09-21T23:50:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Run the image with `docker run --rm -it --entrypoint \"\" amazon/aws-cli:latest /bin/bash`\r\nInstall docker with `amazon-linux-extras install docker`\r\n\r\nWatch as RPM can't find some packages.\r\n```\r\n...\r\n--> Running transaction check\r\n---> Package glibc.i686 0:2.26-48.amzn2 will be installed\r\n--> Processing Dependency: glibc-common = 2.26-48.amzn2 for package: glibc-2.26-48.amzn2.i686\r\n---> Package libgcc.i686 0:7.3.1-13.amzn2 will be installed\r\n---> Package libstdc++.i686 0:7.3.1-13.amzn2 will be installed\r\n--> Finished Dependency Resolution\r\nError: Package: glibc-2.26-48.amzn2.i686 (amzn2-core)\r\n           Requires: glibc-common = 2.26-48.amzn2\r\n           Installed: glibc-common-2.26-53.amzn2.x86_64 (@amzn2-core)\r\n               glibc-common = 2.26-53.amzn2\r\n           Available: glibc-common-2.25-10.amzn2.0.1.x86_64 (amzn2-core)\r\n               glibc-common = 2.25-10.amzn2.0.1\r\n           Available: glibc-common-2.26-27.amzn2.0.4.x86_64 (amzn2-core)\r\n               glibc-common = 2.26-27.amzn2.0.4\r\n           Available: glibc-common-2.26-27.amzn2.0.5.x86_64 (amzn2-core)\r\n               glibc-common = 2.26-27.amzn2.0.5\r\n           Available: glibc-common-2.26-28.amzn2.0.1.x86_64 (amzn2-core)\r\n               glibc-common = 2.26-28.amzn2.0.1\r\n           Available: glibc-common-2.26-30.amzn2.0.1.x86_64 (amzn2-core)\r\n               glibc-common = 2.26-30.amzn2.0.1\r\n           Available: glibc-common-2.26-32.amzn2.0.1.x86_64 (amzn2-core)\r\n               glibc-common = 2.26-32.amzn2.0.1\r\n...\r\n```\r\n\r\nThis was working on version 2.2.38", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6406/reactions", "total_count": 13, "+1": 13, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6387", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6387/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6387/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6387/events", "html_url": "https://github.com/aws/aws-cli/issues/6387", "id": 992476237, "node_id": "MDU6SXNzdWU5OTI0NzYyMzc=", "number": 6387, "title": "global output flag is not respected for aws ddb commands", "user": {"login": "patrickgreenwell", "id": 5296581, "node_id": "MDQ6VXNlcjUyOTY1ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5296581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patrickgreenwell", "html_url": "https://github.com/patrickgreenwell", "followers_url": "https://api.github.com/users/patrickgreenwell/followers", "following_url": "https://api.github.com/users/patrickgreenwell/following{/other_user}", "gists_url": "https://api.github.com/users/patrickgreenwell/gists{/gist_id}", "starred_url": "https://api.github.com/users/patrickgreenwell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patrickgreenwell/subscriptions", "organizations_url": "https://api.github.com/users/patrickgreenwell/orgs", "repos_url": "https://api.github.com/users/patrickgreenwell/repos", "events_url": "https://api.github.com/users/patrickgreenwell/events{/privacy}", "received_events_url": "https://api.github.com/users/patrickgreenwell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 335130062, "node_id": "MDU6TGFiZWwzMzUxMzAwNjI=", "url": "https://api.github.com/repos/aws/aws-cli/labels/dynamodb", "name": "dynamodb", "color": "ff5500", "default": false, "description": ""}, {"id": 3991963811, "node_id": "LA_kwDOAGd3X87t8Iij", "url": "https://api.github.com/repos/aws/aws-cli/labels/community", "name": "community", "color": "99FAE0", "default": false, "description": ""}, {"id": 4105841098, "node_id": "LA_kwDOAGd3X870uinK", "url": "https://api.github.com/repos/aws/aws-cli/labels/released", "name": "released", "color": "35187C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-09-09T17:45:10Z", "updated_at": "2022-05-10T20:01:18Z", "closed_at": "2022-04-22T22:14:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nWhen using the `aws ddb select` and `aws ddb put` operations the global --output flag is not respected \r\n**SDK version number**\r\naws-cli/2.2.5 Python/3.8.8 Linux/5.10.16.3-microsoft-standard-WSL2 exe/x86_64.ubuntu.20 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\naws-cli/2.2.5 Python/3.8.8 Linux/5.10.16.3-microsoft-standard-WSL2 exe/x86_64.ubuntu.20 prompt/off\r\n\r\n**To Reproduce (observed behavior)**\r\n1. Run a aws ddb select <tableName> with output flag set to text, json, yaml, or yaml-stream. \r\n2. Note the output format does not change except in the cast of yaml-stream to say it is unsupported\r\n\r\n**Expected behavior**\r\nOutput is formatted in the respective formats using the global formatters \r\n\r\nOR\r\n\r\nCLI returns an error message stating format is not accepted.\r\n\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n```console\r\n:~$ aws ddb select SampleTable --output yaml\r\nCount: 0\r\nItems: []\r\nScannedCount: 0\r\n```\r\n\r\n```console\r\n:~$ aws ddb select SampleTable --output json\r\nCount: 0\r\nItems: []\r\nScannedCount: 0\r\n```\r\n\r\n```console\r\n:~$ aws ddb select SampleTable --output text\r\nCount: 0\r\nItems: []\r\nScannedCount: 0\r\n```\r\n\r\n```console\r\n:~$ aws ddb select OrganizationTable --output yaml-stream\r\n\r\nyaml-stream output format is not supported for ddb commands\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\r\nThis looks like because ddb uses a custom formatter for the yaml output it doesn't do a call to the global [get_formatter function](https://github.com/aws/aws-cli/blob/ca7acb1755dfe9a1d97c0deee22c357b0a2cbc1f/awscli/formatter.py#L374) [datapipeline's custom formatter](https://github.com/aws/aws-cli/blob/ca7acb1755dfe9a1d97c0deee22c357b0a2cbc1f/awscli/customizations/datapipeline/__init__.py#L430) but instead simply sets the [DynamoYamlFormatter directly](https://github.com/aws/aws-cli/blob/ca7acb1755dfe9a1d97c0deee22c357b0a2cbc1f/awscli/customizations/dynamodb/subcommands.py#L87) without checking the flags except in the case of `yaml-stream`\r\n\r\nDocumentation doesn't mention that the command ignores the output flag either.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6387/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6345", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6345/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6345/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6345/events", "html_url": "https://github.com/aws/aws-cli/issues/6345", "id": 975059794, "node_id": "MDU6SXNzdWU5NzUwNTk3OTQ=", "number": 6345, "title": "Install Script fails in EC2 Image Builder", "user": {"login": "brogers-propstream", "id": 82905781, "node_id": "MDQ6VXNlcjgyOTA1Nzgx", "avatar_url": "https://avatars.githubusercontent.com/u/82905781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brogers-propstream", "html_url": "https://github.com/brogers-propstream", "followers_url": "https://api.github.com/users/brogers-propstream/followers", "following_url": "https://api.github.com/users/brogers-propstream/following{/other_user}", "gists_url": "https://api.github.com/users/brogers-propstream/gists{/gist_id}", "starred_url": "https://api.github.com/users/brogers-propstream/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brogers-propstream/subscriptions", "organizations_url": "https://api.github.com/users/brogers-propstream/orgs", "repos_url": "https://api.github.com/users/brogers-propstream/repos", "events_url": "https://api.github.com/users/brogers-propstream/events{/privacy}", "received_events_url": "https://api.github.com/users/brogers-propstream/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311028377, "node_id": "MDU6TGFiZWwzMTEwMjgzNzc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ec2", "name": "ec2", "color": "ff5500", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-08-19T21:21:41Z", "updated_at": "2022-11-04T18:15:11Z", "closed_at": "2022-11-04T18:14:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\nInvoking the install script on a fresh ubuntu 20.04 base image returns error:\r\n\r\n```CmdExecution: Stderr: /aws_cli_version_2/aws/install: 64: shift: can't shift that many ```\r\n\r\nFor some reason. I cannot find this script anywhere in this repository. Which isn't cool.\r\n\r\nSo here it is in full:\r\n\r\n```\r\n#!/bin/sh\r\n# Copyright 2012-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\"). You\r\n# may not use this file except in compliance with the License. A copy of\r\n# the License is located at\r\n#\r\n#     http://aws.amazon.com/apache2.0/\r\n#\r\n# or in the \"license\" file accompanying this file. This file is\r\n# distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\r\n# ANY KIND, either express or implied. See the License for the specific\r\n# language governing permissions and limitations under the License.\r\n\r\nusage() {\r\n  cat 1>&2 <<EOF\r\nInstalls the AWS CLI v2\r\n\r\nUSAGE:\r\n    install [FLAGS] [OPTIONS]\r\n\r\nFLAGS:\r\n    -u, --update              Updates the AWS CLI v2 if a different version\r\n                              is previously installed. By default, this script\r\n                              will not update the AWS CLI if a previous\r\n                              installation is detected.\r\n\r\n    -h, --help                Prints help information\r\n\r\nOPTIONS:\r\n    -i, --install-dir <path>  The directory to install the AWS CLI v2. By\r\n                              default, this directory is: /usr/local/aws-cli\r\n\r\n    -b, --bin-dir <path>      The directory to store symlinks to executables\r\n                              for the AWS CLI v2. By default, the directory\r\n                              used is: /usr/local/bin\r\nEOF\r\n}\r\n\r\nparse_commandline() {\r\n  while test $# -gt 0\r\n  do\r\n    key=\"$1\"\r\n\tcase \"$key\" in\r\n\t  -i|--install-dir)\r\n\t    PARSED_INSTALL_DIR=\"$2\"\r\n\t\tshift\r\n\t   ;;\r\n\t  -b|--bin-dir)\r\n\t    PARSED_BIN_DIR=\"$2\"\r\n\t\tshift\r\n\t   ;;\r\n\t  -u|--update)\r\n\t    PARSED_UPGRADE=\"yes\"\r\n\t  ;;\r\n\t  -h|--help)\r\n\t    usage\r\n        exit 0\r\n\t  ;;\r\n\t  *)\r\n\t   die \"Got an unexpected argument: $1\"\r\n\t  ;;\r\n    esac\r\n\tshift\r\n  done\r\n}\r\n\r\nset_global_vars() {\r\n  ROOT_INSTALL_DIR=${PARSED_INSTALL_DIR:-/usr/local/aws-cli}\r\n  BIN_DIR=${PARSED_BIN_DIR:-/usr/local/bin}\r\n  UPGRADE=${PARSED_UPGRADE:-no}\r\n\r\n  EXE_NAME=\"aws\"\r\n  COMPLETER_EXE_NAME=\"aws_completer\"\r\n  INSTALLER_DIR=\"$( cd \"$( dirname \"$0\" )\" >/dev/null 2>&1 && pwd )\"\r\n  INSTALLER_DIST_DIR=\"$INSTALLER_DIR/dist\"\r\n  INSTALLER_EXE=\"$INSTALLER_DIST_DIR/$EXE_NAME\"\r\n  AWS_EXE_VERSION=$($INSTALLER_EXE --version | cut -d ' ' -f 1 | cut -d '/' -f 2)\r\n\r\n  INSTALL_DIR=\"$ROOT_INSTALL_DIR/v2/$AWS_EXE_VERSION\"\r\n  INSTALL_DIR=\"$INSTALL_DIR\"\r\n  INSTALL_DIST_DIR=\"$INSTALL_DIR/dist\"\r\n  INSTALL_BIN_DIR=\"$INSTALL_DIR/bin\"\r\n  INSTALL_AWS_EXE=\"$INSTALL_BIN_DIR/$EXE_NAME\"\r\n  INSTALL_AWS_COMPLETER_EXE=\"$INSTALL_BIN_DIR/$COMPLETER_EXE_NAME\"\r\n\r\n  CURRENT_INSTALL_DIR=\"$ROOT_INSTALL_DIR/v2/current\"\r\n  CURRENT_AWS_EXE=\"$CURRENT_INSTALL_DIR/bin/$EXE_NAME\"\r\n  CURRENT_AWS_COMPLETER_EXE=\"$CURRENT_INSTALL_DIR/bin/$COMPLETER_EXE_NAME\"\r\n\r\n  BIN_AWS_EXE=\"$BIN_DIR/$EXE_NAME\"\r\n  BIN_AWS_COMPLETER_EXE=\"$BIN_DIR/$COMPLETER_EXE_NAME\"\r\n}\r\n\r\ncreate_install_dir() {\r\n  mkdir -p \"$INSTALL_DIR\" || exit 1\r\n  {\r\n    setup_install_dist &&\r\n    setup_install_bin &&\r\n    create_current_symlink\r\n  } || {\r\n    rm -rf \"$INSTALL_DIR\"\r\n    exit 1\r\n  }\r\n}\r\n\r\ncheck_preexisting_install() {\r\n  if [ -L \"$CURRENT_INSTALL_DIR\" ] && [ \"$UPGRADE\" = \"no\" ]\r\n  then\r\n    die \"Found preexisting AWS CLI installation: $CURRENT_INSTALL_DIR. Please rerun install script with --update flag.\"\r\n  fi\r\n  if [ -d \"$INSTALL_DIR\" ]\r\n  then\r\n    echo \"Found same AWS CLI version: $INSTALL_DIR. Skipping install.\"\r\n    exit 0\r\n  fi\r\n}\r\n\r\nsetup_install_dist() {\r\n  cp -r \"$INSTALLER_DIST_DIR\" \"$INSTALL_DIST_DIR\"\r\n}\r\n\r\nsetup_install_bin() {\r\n  mkdir -p \"$INSTALL_BIN_DIR\"\r\n  ln -s \"../dist/$EXE_NAME\" \"$INSTALL_AWS_EXE\"\r\n  ln -s \"../dist/$COMPLETER_EXE_NAME\" \"$INSTALL_AWS_COMPLETER_EXE\"\r\n}\r\n\r\ncreate_current_symlink() {\r\n  ln -snf \"$INSTALL_DIR\" \"$CURRENT_INSTALL_DIR\"\r\n}\r\n\r\ncreate_bin_symlinks() {\r\n  mkdir -p \"$BIN_DIR\"\r\n  ln -sf \"$CURRENT_AWS_EXE\" \"$BIN_AWS_EXE\"\r\n  ln -sf \"$CURRENT_AWS_COMPLETER_EXE\" \"$BIN_AWS_COMPLETER_EXE\"\r\n}\r\n\r\ndie() {\r\n\terr_msg=\"$1\"\r\n\techo \"$err_msg\" >&2\r\n\texit 1\r\n}\r\n\r\nmain() {\r\n  parse_commandline \"$@\"\r\n  set_global_vars\r\n  check_preexisting_install\r\n  create_install_dir\r\n  create_bin_symlinks\r\n  echo \"You can now run: $BIN_AWS_EXE --version\"\r\n  exit 0\r\n}\r\n\r\nmain \"$@\" || exit 1\r\n\r\n```\r\n\r\nNote - I should not have to get your install script from your already-compile package. It should be HERE.\r\n\r\n**SDK version number**\r\nv2\r\n**Platform/OS/Hardware/Device**\r\nUbuntu 20.04 BASE AMI \r\n\r\n**To Reproduce (observed behavior)**\r\n1. Create an EC2 Image Builder configuration starting with the Ubuntu 20.04 base image, then add the AWS CLI component.\r\n2. Create an Image Builder pipeline with the configuration.\r\n3. Run the pipeline.\r\n\r\n\r\n**Expected behavior**\r\nI expected the pipeline to install AWSCLI v2.\r\n\r\n**Logs/output**\r\nN/A - Unable to install - -debug flag will NOT function. I do have bash logs from cloudwatch though:\r\n\r\n```\r\n1629406547328,ExecuteBash: STARTED EXECUTION\r\n1629406547328,ExecuteBash: Created temporary directory: /tmp/AWSTOE231426636\r\n1629406547328,ExecuteBash: Created temporary script file at: /tmp/AWSTOE231426636/script-652914491.sh\r\n1629406547328,CmdExecution: Preparing object for command bash with arguments [/tmp/AWSTOE231426636/script-652914491.sh]\r\n1629406547328,CmdExecution: Starting execution of command with arguments [bash /tmp/AWSTOE231426636/script-652914491.sh]\r\n1629406547330,Stdout: /aws_cli_version_2\r\n1629406547330,CmdExecution: Terminating read operation on STDOUT pipe - EOF\r\n1629406547330,CmdExecution: Command execution has been completed\r\n1629406547330,CmdExecution: Command execution was completed successfully\r\n1629406547330,CmdExecution: Stderr: \r\n1629406547330,CmdExecution: ExitCode 0\r\n1629406547330,ExecuteBash: Removing temporary directory: /tmp/AWSTOE231426636\r\n1629406547330,ExecuteBash: Successfully removed temporary directory: /tmp/AWSTOE231426636\r\n1629406547330,ExecuteBash: FINISHED EXECUTION\r\n1629406547337,Step ExtractZipFile\r\n1629406547338,ExecuteBash: STARTED EXECUTION\r\n1629406547338,ExecuteBash: Created temporary directory: /tmp/AWSTOE946424670\r\n1629406547339,ExecuteBash: Created temporary script file at: /tmp/AWSTOE946424670/script-152237349.sh\r\n1629406547339,CmdExecution: Preparing object for command bash with arguments [/tmp/AWSTOE946424670/script-152237349.sh]\r\n1629406547339,CmdExecution: Starting execution of command with arguments [bash /tmp/AWSTOE946424670/script-152237349.sh]\r\n1629406547347,Stdout: Extracting '/awscliv2.zip' to '/aws_cli_version_2'\r\n1629406548585,CmdExecution: Terminating read operation on STDOUT pipe - EOF\r\n1629406548585,CmdExecution: Command execution has been completed\r\n1629406548585,CmdExecution: Command execution was completed successfully\r\n1629406548585,CmdExecution: Stderr: \r\n1629406548585,CmdExecution: ExitCode 0\r\n1629406548585,ExecuteBash: Removing temporary directory: /tmp/AWSTOE946424670\r\n1629406548585,ExecuteBash: Successfully removed temporary directory: /tmp/AWSTOE946424670\r\n1629406548585,ExecuteBash: FINISHED EXECUTION\r\n1629406548601,Step Install\r\n1629406548603,ExecuteBash: STARTED EXECUTION\r\n1629406548603,ExecuteBash: Created temporary directory: /tmp/AWSTOE651285056\r\n1629406548603,ExecuteBash: Created temporary script file at: /tmp/AWSTOE651285056/script-835495071.sh\r\n1629406548603,CmdExecution: Preparing object for command bash with arguments [/tmp/AWSTOE651285056/script-835495071.sh]\r\n1629406548604,CmdExecution: Starting execution of command with arguments [bash /tmp/AWSTOE651285056/script-835495071.sh]\r\n1629406548606,Stdout: Invoking '/aws_cli_version_2/aws/install'\r\n1629406548612,CmdExecution: Terminating read operation on STDOUT pipe - EOF\r\n1629406548612,CmdExecution: Command execution has been completed\r\n1629406548612,CmdExecution: [ ERROR ] Command execution has resulted in an error\r\n1629406548612,\"CmdExecution: Stderr: /aws_cli_version_2/aws/install: 64: shift: can't shift that many\r\n\"\r\n1629406548612,CmdExecution: ExitCode 2\r\n1629406548612,ExecuteBash: Removing temporary directory: /tmp/AWSTOE651285056\r\n1629406548613,ExecuteBash: Successfully removed temporary directory: /tmp/AWSTOE651285056\r\n1629406548613,ExecuteBash: FINISHED EXECUTION\r\n1629406549627,TOE has completed execution with failure - Execution failed!\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6345/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6345/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6334", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6334/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6334/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6334/events", "html_url": "https://github.com/aws/aws-cli/issues/6334", "id": 972146610, "node_id": "MDU6SXNzdWU5NzIxNDY2MTA=", "number": 6334, "title": "aws ec2 create-image with NoDevice is broken", "user": {"login": "sormy", "id": 7675583, "node_id": "MDQ6VXNlcjc2NzU1ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/7675583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sormy", "html_url": "https://github.com/sormy", "followers_url": "https://api.github.com/users/sormy/followers", "following_url": "https://api.github.com/users/sormy/following{/other_user}", "gists_url": "https://api.github.com/users/sormy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sormy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sormy/subscriptions", "organizations_url": "https://api.github.com/users/sormy/orgs", "repos_url": "https://api.github.com/users/sormy/repos", "events_url": "https://api.github.com/users/sormy/events{/privacy}", "received_events_url": "https://api.github.com/users/sormy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311028377, "node_id": "MDU6TGFiZWwzMTEwMjgzNzc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ec2", "name": "ec2", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-08-16T22:28:00Z", "updated_at": "2021-08-20T05:23:31Z", "closed_at": "2021-08-20T05:23:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\r\nSeems like block device mapping `NoDevice` feature is broken again.\r\n\r\nI have arm64 t4g.micro instance with two volumes attached. An attempt to create ec2-image with just one volume doesn't work. AMI is created always with 2 volume snapshots attached to it and `NoDevice` doesn't have an impact as it should.\r\n\r\nThe command below creates\r\n\r\n```sh\r\naws ec2 create-image \\\r\n    --region \"$AWS_REGION\" \\\r\n    --instance-id \"$INSTANCE_ID\" \\\r\n    --name \"My Image\" \\\r\n    --description \"My Image\" \\\r\n    --block-device-mappings '[{\"DeviceName\":\"/dev/xvdb\",\"NoDevice\":\"\"}]' \\\r\n    --no-reboot \\\r\n    --query \"ImageId\" \\\r\n    --output text\r\n```\r\n\r\nNot sure if it is CLI issue or EC2 issue but the same process is working fine if executed manually in AWS console.\r\n\r\n**SDK version number**\r\n\r\naws-cli/1.20.21 Python/3.9.6 Linux/5.13.10-1-aarch64 botocore/1.21.21\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\narm64 Linux/5.13.10-1-aarch64\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\nCreate instance with two volumes, try to create AMI image using AWS cli without including the second volume.\r\n\r\n**Expected behavior**\r\n\r\nIt is expected that \"NoDevice\": \"\" should remove volume from block-device-mappings as per: https://docs.aws.amazon.com/cli/latest/reference/ec2/create-image.html\r\n\r\n**Logs/output**\r\n\r\nN/A\r\n\r\n**Additional context**\r\n\r\nN/A\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6308", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6308/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6308/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6308/events", "html_url": "https://github.com/aws/aws-cli/issues/6308", "id": 957054913, "node_id": "MDU6SXNzdWU5NTcwNTQ5MTM=", "number": 6308, "title": "CLI versions 1.20.9 and 2.2.24 shipped a breaking change in a dot release", "user": {"login": "dylanlingelbach", "id": 213594, "node_id": "MDQ6VXNlcjIxMzU5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/213594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dylanlingelbach", "html_url": "https://github.com/dylanlingelbach", "followers_url": "https://api.github.com/users/dylanlingelbach/followers", "following_url": "https://api.github.com/users/dylanlingelbach/following{/other_user}", "gists_url": "https://api.github.com/users/dylanlingelbach/gists{/gist_id}", "starred_url": "https://api.github.com/users/dylanlingelbach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dylanlingelbach/subscriptions", "organizations_url": "https://api.github.com/users/dylanlingelbach/orgs", "repos_url": "https://api.github.com/users/dylanlingelbach/repos", "events_url": "https://api.github.com/users/dylanlingelbach/events{/privacy}", "received_events_url": "https://api.github.com/users/dylanlingelbach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}, {"id": 3991963811, "node_id": "LA_kwDOAGd3X87t8Iij", "url": "https://api.github.com/repos/aws/aws-cli/labels/community", "name": "community", "color": "99FAE0", "default": false, "description": ""}, {"id": 4105841098, "node_id": "LA_kwDOAGd3X870uinK", "url": "https://api.github.com/repos/aws/aws-cli/labels/released", "name": "released", "color": "35187C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-07-30T20:57:29Z", "updated_at": "2022-05-06T18:56:02Z", "closed_at": "2022-05-06T15:53:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nVersions 1.20.9 and 2.2.24 shipped a breaking change to EKS support by changing the supported k8s API value from `v1alpha1` to `v1beta1`. This breaks any existing kubeconfigs that have `v1alpha1` specified in their kubeconfig.\r\n\r\nThe [PR that changed this behavior](https://github.com/aws/aws-cli/pull/6289) clearly specified this is a breaking change, however the changed shipped in a point release, with no clear communication about it being a breaking change.\r\n\r\nThe error message you see when attempting to use a kubeconfig with an incorrect version is:\r\n```\r\nunable to use kubectl with the EKS cluster (check 'kubectl version'): Unable to connect to the server: getting credentials: exec plugin is configured to use API version client.authentication.k8s.io/v1alpha1, plugin returned version client.authentication.k8s.io/v1beta1\r\n```\r\n\r\n**SDK version number**\r\n1.20.9\r\n2.2.24\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nLinux/Mac OS X\r\n\r\n**To Reproduce (observed behavior)**\r\n1. Have a kubeconfig that uses `eks get-token` for authentication\r\n2. Upgrade CLI to 1.20.9 or 2.2.24\r\n3. Run a `kubectl` command\r\n\r\n**Expected behavior**\r\nPoint releases of CLIs to not include breaking changes\r\n\r\n**Logs/output**\r\n```\r\nunable to use kubectl with the EKS cluster (check 'kubectl version'): Unable to connect to the server: getting credentials: exec plugin is configured to use API version client.authentication.k8s.io/v1alpha1, plugin returned version client.authentication.k8s.io/v1beta1\r\n```\r\n\r\n**Additional context**\r\nRelated to https://github.com/aws-samples/eks-workshop/issues/1232\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6308/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6308/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6244", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6244/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6244/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6244/events", "html_url": "https://github.com/aws/aws-cli/issues/6244", "id": 928456079, "node_id": "MDU6SXNzdWU5Mjg0NTYwNzk=", "number": 6244, "title": "Amplify Site Created with CLI Doesn\u2019t Show PR Previews", "user": {"login": "lynnfaraday", "id": 366524, "node_id": "MDQ6VXNlcjM2NjUyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/366524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lynnfaraday", "html_url": "https://github.com/lynnfaraday", "followers_url": "https://api.github.com/users/lynnfaraday/followers", "following_url": "https://api.github.com/users/lynnfaraday/following{/other_user}", "gists_url": "https://api.github.com/users/lynnfaraday/gists{/gist_id}", "starred_url": "https://api.github.com/users/lynnfaraday/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lynnfaraday/subscriptions", "organizations_url": "https://api.github.com/users/lynnfaraday/orgs", "repos_url": "https://api.github.com/users/lynnfaraday/repos", "events_url": "https://api.github.com/users/lynnfaraday/events{/privacy}", "received_events_url": "https://api.github.com/users/lynnfaraday/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2392925637, "node_id": "MDU6TGFiZWwyMzkyOTI1NjM3", "url": "https://api.github.com/repos/aws/aws-cli/labels/amplify", "name": "amplify", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-06-23T16:48:28Z", "updated_at": "2022-11-03T23:11:01Z", "closed_at": "2022-11-03T23:10:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\r\nWe have been trying to script the creation of Amplify sites using the AWS CLI commands. We patterned the script (see below) with the same options as our existing Amplify sites (which were created manually through the web console).\r\n\r\n* Sites created with the AWS CLI commands show \u201cPreviews Enabled\u201d in the GUI for all expected branches, but Pull Requests from GitHub do not trigger a preview.\r\n* Sites created manually through the web console with the exact same settings work just fine, creating previews as expected.\r\n\r\n**SDK version number**\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\nWindows 10 - aws-cli/2.1.25 Python/3.7.9\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\nHere\u2019s the script:\r\n\r\n```\r\naws amplify create-app --name \"docs\" --repository \"REDACTED_GITHUB_REPO_URL\" --access-token \"REDACTED_PAT_TOKEN\" --enable-branch-auto-build --enable-branch-auto-deletion --enable-auto-branch-creation --auto-branch-creation-patterns \"sprint-*\" --auto-branch-creation-config \"enableAutoBuild=true,enablePullRequestPreview=true,framework=Jekyll\" -profile public-infrastructure\r\n--above generated app with ID \"APP_ID\"\r\naws amplify create-branch --app-id APP_ID --branch-name \"prod\" --description \"prod\" --display-name \"prod\" --framework \"Jekyll\" --enable-auto-build --enable-pull-request-preview\r\naws amplify create-branch --app-id APP_ID --branch-name \"master\" --description \"master\" --display-name \"master\" --framework \"Jekyll\" --enable-auto-build --enable-pull-request-preview \r\n```\r\n\r\n**Expected behavior**\r\n\r\nWe expect a Pull Request in GitHub to trigger an Amplify preview.\r\n\r\n**Logs/output**\r\n\r\nNothing relevant in the command output.\r\n\r\n**Additional context**\r\n\r\n- We believe the GitHub webhook and app are being installed correctly. We see no discernible differences between the GitHub webook in the manually-created sites vs. the CLI-created sites, and direct commits to the connected branches do trigger an amplify build. The problem is just with the PR previews. \r\n- An amplify site created using Terraform demonstrates the same problem.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6225", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6225/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6225/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6225/events", "html_url": "https://github.com/aws/aws-cli/issues/6225", "id": 921597340, "node_id": "MDU6SXNzdWU5MjE1OTczNDA=", "number": 6225, "title": "aws ec2 does not print results in aws-cli v2.2.x", "user": {"login": "bubthegreat", "id": 12198817, "node_id": "MDQ6VXNlcjEyMTk4ODE3", "avatar_url": "https://avatars.githubusercontent.com/u/12198817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bubthegreat", "html_url": "https://github.com/bubthegreat", "followers_url": "https://api.github.com/users/bubthegreat/followers", "following_url": "https://api.github.com/users/bubthegreat/following{/other_user}", "gists_url": "https://api.github.com/users/bubthegreat/gists{/gist_id}", "starred_url": "https://api.github.com/users/bubthegreat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bubthegreat/subscriptions", "organizations_url": "https://api.github.com/users/bubthegreat/orgs", "repos_url": "https://api.github.com/users/bubthegreat/repos", "events_url": "https://api.github.com/users/bubthegreat/events{/privacy}", "received_events_url": "https://api.github.com/users/bubthegreat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2256475524, "node_id": "MDU6TGFiZWwyMjU2NDc1NTI0", "url": "https://api.github.com/repos/aws/aws-cli/labels/pager", "name": "pager", "color": "c7ddfc", "default": false, "description": "issues related to AWS_PAGER, cli_pager, or other client-side paging (not API pagination)"}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-06-15T16:42:26Z", "updated_at": "2021-06-30T17:30:40Z", "closed_at": "2021-06-30T17:30:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen using the ec2 command in AWS CLI v2 in docker python (Specifically 3.7.10), the output for the EC2 command does not return to stdout.  The command DOES return data (per the debug output), but it never makes it to stdout.\r\n\r\n**SDK version number**\r\nTried on the following versions: \r\n* 2.2.1\r\n* 2.2.8\r\n* 2.2.9\r\n* 2.2.10\r\n* 2.2.11\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nDocker, `FROM python:3.7.10` s the image.\r\n\r\n**To Reproduce (observed behavior)**\r\nAttempt to run a command with ec2:\r\n```\r\nroot@90267f045968:/source/provisioning$ aws ec2 describe-client-vpn-endpoints\r\nroot@90267f045968:/source/provisioning$\r\n```\r\nNo output \r\n\r\n**Expected behavior**\r\nI expect the output to actually be printed to stdout.  It looks like the behavior of 2.1.x was to use the `less` command for stdout, so I'm assuming that in 2.x we went away from using the `less` command to our own custom implementation.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n```\r\nroot@90267f045968:/source/provisioning$ aws ec2 describe-client-vpn-endpoints --debug\r\n2021-06-15 16:23:21,529 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.2.8 Python/3.8.8 Linux/4.19.128-microsoft-standard exe/x86_64.debian.10\r\n2021-06-15 16:23:21,530 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['ec2', 'describe-client-vpn-endpoints', '--debug']\r\n2021-06-15 16:23:21,550 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x7fd4bc60ad30>\r\n2021-06-15 16:23:21,550 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x7fd4bc7c8af0>\r\n2021-06-15 16:23:21,550 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2021-06-15 16:23:21,550 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7fd4bc7f1310>\r\n2021-06-15 16:23:21,550 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7fd4bc7f6430>\r\n2021-06-15 16:23:21,550 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x7fd4bc61a790>\r\n2021-06-15 16:23:21,550 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x7fd4bc790940>\r\n2021-06-15 16:23:21,551 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2021-06-15 16:23:21,551 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x7fd4bc6109d0>\r\n2021-06-15 16:23:21,552 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.8/dist/awscli/data/cli.json\r\n2021-06-15 16:23:21,557 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x7fd4bc6c3940>\r\n2021-06-15 16:23:21,557 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x7fd4bc6c54c0>\r\n2021-06-15 16:23:21,557 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x7fd4bc6c5430>\r\n2021-06-15 16:23:21,557 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x7fd4bc6c55e0>\r\n2021-06-15 16:23:21,557 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x7fd4bc6c5550>\r\n2021-06-15 16:23:21,558 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x7fd4bc530f80>\r\n2021-06-15 16:23:21,560 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.2.8 Python/3.8.8 Linux/4.19.128-microsoft-standard exe/x86_64.debian.10 prompt/off\r\n2021-06-15 16:23:21,560 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['ec2', 'describe-client-vpn-endpoints', '--debug']\r\n2021-06-15 16:23:21,561 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7fd4bc60b3a0>\r\n2021-06-15 16:23:21,561 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fd4bd0aa670>\r\n2021-06-15 16:23:21,561 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7fd4bc5791f0>\r\n2021-06-15 16:23:21,561 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x7fd4bd0a5af0>\r\n2021-06-15 16:23:21,561 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fd4bd00b310>\r\n2021-06-15 16:23:21,562 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2021-06-15 16:23:21,565 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fd4bc790820>\r\n2021-06-15 16:23:21,565 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7fd4bc7c39d0>\r\n2021-06-15 16:23:21,587 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.8/dist/botocore/data/ec2/2016-11-15/service-2.json\r\n2021-06-15 16:23:21,652 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler functools.partial(<function _remove_commands at 0x7fd4bc6e0dc0>, commands_to_remove=['import-instance', 'import-volume'])\r\n2021-06-15 16:23:21,653 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-instance\r\n2021-06-15 16:23:21,653 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-volume\r\n2021-06-15 16:23:21,653 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <function add_waiters at 0x7fd4bc6109d0>\r\n2021-06-15 16:23:21,674 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.8/dist/botocore/data/ec2/2016-11-15/waiters-2.json\r\n2021-06-15 16:23:21,677 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('client-vpn-endpoint-ids', <awscli.arguments.ListArgument object at 0x7fd4bb738700>), ('max-results', <awscli.arguments.CLIArgument object at 0x7fd4bb738640>), ('next-token', <awscli.arguments.CLIArgument object at 0x7fd4bb738610>), ('filters', <awscli.arguments.ListArgument object at 0x7fd4bb7385b0>), ('dry-run', <awscli.arguments.BooleanArgument object at 0x7fd4bb738580>), ('no-dry-run', <awscli.arguments.BooleanArgument object at 0x7fd4bb738550>)])\r\n2021-06-15 16:23:21,677 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler <function add_streaming_output_arg at 0x7fd4bc60b940>\r\n2021-06-15 16:23:21,677 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler <function rename_arg.<locals>._rename_arg at 0x7fd4bc57e430>\r\n2021-06-15 16:23:21,677 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler <function rename_arg.<locals>._rename_arg at 0x7fd4bc57e4c0>\r\n2021-06-15 16:23:21,677 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler functools.partial(<function pull_up_bool at 0x7fd4bc610430>, event_handler=<botocore.hooks.HierarchicalEmitter object at 0x7fd4bd099850>)\r\n2021-06-15 16:23:21,677 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler <function add_cli_input_json at 0x7fd4bd00bb80>\r\n2021-06-15 16:23:21,678 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler <function add_cli_input_yaml at 0x7fd4bd00be50>\r\n2021-06-15 16:23:21,678 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler <function unify_paging_params at 0x7fd4bc7d5160>\r\n2021-06-15 16:23:21,710 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.8/dist/botocore/data/ec2/2016-11-15/paginators-1.json\r\n2021-06-15 16:23:21,711 - MainThread - awscli.customizations.paginate - DEBUG - Modifying paging parameters for operation: DescribeClientVpnEndpoints\r\n2021-06-15 16:23:21,712 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-client-vpn-endpoints: calling handler <function add_generate_skeleton at 0x7fd4bc6b5ee0>\r\n2021-06-15 16:23:21,713 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.describe-client-vpn-endpoints: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7fd4bb738940>>\r\n2021-06-15 16:23:21,713 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.describe-client-vpn-endpoints: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7fd4bb738910>>\r\n2021-06-15 16:23:21,713 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.describe-client-vpn-endpoints: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fd4bb738df0>>\r\n2021-06-15 16:23:21,715 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.ec2.describe-client-vpn-endpoints: calling handler functools.partial(<function validate_boolean_mutex_groups at 0x7fd4bc6104c0>, boolean_pairs=[])\r\n2021-06-15 16:23:21,715 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.ec2.describe-client-vpn-endpoints: calling handler functools.partial(<function check_should_enable_pagination at 0x7fd4bc7d5280>, ['next-token', 'max-results'], {}, OrderedDict([('client-vpn-endpoint-ids', <awscli.arguments.ListArgument object at 0x7fd4bb738700>), ('max-results', <awscli.arguments.CLIArgument object at 0x7fd4bb738640>), ('next-token', <awscli.arguments.CLIArgument object at 0x7fd4bb738610>), ('filters', <awscli.arguments.ListArgument object at 0x7fd4bb7385b0>), ('dry-run', <awscli.arguments.BooleanArgument object at 0x7fd4bb738580>), ('no-dry-run', <awscli.arguments.BooleanArgument object at 0x7fd4bb738550>), ('cli-input-json', <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7fd4bb738940>), ('cli-input-yaml', <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7fd4bb738910>), ('starting-token', <awscli.customizations.paginate.PageArgument object at 0x7fd4bb738af0>), ('page-size', <awscli.customizations.paginate.PageArgument object at 0x7fd4bb738970>), ('max-items', <awscli.customizations.paginate.PageArgument object at 0x7fd4bb738c40>), ('generate-cli-skeleton', <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fd4bb738df0>)]))\r\n2021-06-15 16:23:21,716 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.client-vpn-endpoint-ids: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,716 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.max-results: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,716 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.next-token: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,716 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.filters: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,717 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.dry-run: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,717 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,717 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,717 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.starting-token: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,717 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,718 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.max-items: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,718 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-client-vpn-endpoints.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd4bc561490>\r\n2021-06-15 16:23:21,718 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-client-vpn-endpoints: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7fd4bb738940>>\r\n2021-06-15 16:23:21,718 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-client-vpn-endpoints: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7fd4bb738910>>\r\n2021-06-15 16:23:21,718 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-client-vpn-endpoints: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fd4bb738df0>>\r\n2021-06-15 16:23:21,718 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-client-vpn-endpoints: calling handler functools.partial(<function check_should_enable_pagination_call_parameters at 0x7fd4bc7d5670>, ['NextToken', 'MaxResults'])\r\n2021-06-15 16:23:21,721 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2021-06-15 16:23:21,721 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2021-06-15 16:23:21,722 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2021-06-15 16:23:21,722 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2021-06-15 16:23:21,722 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2021-06-15 16:23:21,722 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2021-06-15 16:23:21,723 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.8/dist/botocore/data/endpoints.json\r\n2021-06-15 16:23:21,734 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fd4be980310>\r\n2021-06-15 16:23:21,751 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x7fd4be9ad5e0>\r\n2021-06-15 16:23:21,755 - MainThread - botocore.endpoint - DEBUG - Setting ec2 timeout as (60, 60)\r\n2021-06-15 16:23:21,758 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.ec2.DescribeClientVpnEndpoints: calling handler <function base64_decode_input_blobs at 0x7fd4bc579940>\r\n2021-06-15 16:23:21,758 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ec2.DescribeClientVpnEndpoints: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x7fd4be997ee0>>\r\n2021-06-15 16:23:21,758 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ec2.DescribeClientVpnEndpoints: calling handler <function generate_idempotent_uuid at 0x7fd4be9a53a0>\r\n2021-06-15 16:23:21,758 - MainThread - botocore.hooks - DEBUG - Event before-call.ec2.DescribeClientVpnEndpoints: calling handler <function inject_api_version_header_if_needed at 0x7fd4be92ac10>\r\n2021-06-15 16:23:21,758 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=DescribeClientVpnEndpoints) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'aws-cli/2.2.8 Python/3.8.8 Linux/4.19.128-microsoft-standard exe/x86_64.debian.10 prompt/off command/ec2.describe-client-vpn-endpoints'}, 'body': {'Action': 'DescribeClientVpnEndpoints', 'Version': '2016-11-15'}, 'url': 'https://ec2.us-east-1.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fd4bb0cc9a0>, 'has_streaming_input': False, 'auth_type': None}}\r\n2021-06-15 16:23:21,759 - MainThread - botocore.hooks - DEBUG - Event request-created.ec2.DescribeClientVpnEndpoints: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fd4bb0cca60>>\r\n2021-06-15 16:23:21,759 - MainThread - botocore.hooks - DEBUG - Event choose-signer.ec2.DescribeClientVpnEndpoints: calling handler <function set_operation_specific_signer at 0x7fd4be9a5280>\r\n2021-06-15 16:23:21,760 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2021-06-15 16:23:21,760 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-www-form-urlencoded; charset=utf-8\r\nhost:ec2.us-east-1.amazonaws.com\r\nx-amz-date:20210615T162321Z\r\n\r\ncontent-type;host;x-amz-date\r\n862cdbcacf2a972d31ba22e8d62d7ffce7b0b01310122764a7f7a5ece572b6e5\r\n2021-06-15 16:23:21,760 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20210615T162321Z\r\n20210615/us-east-1/ec2/aws4_request\r\n0356d61abe7ebc9a69392422b75a752c6161ed09fec6d455b634daddfdc4e40e\r\n2021-06-15 16:23:21,760 - MainThread - botocore.auth - DEBUG - Signature:\r\n0534068f61a8c3746d226cece5014733177ba990f88983c1cf70873531b92a3b\r\n2021-06-15 16:23:21,760 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.us-east-1.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'aws-cli/2.2.8 Python/3.8.8 Linux/4.19.128-microsoft-standard exe/x86_64.debian.10 prompt/off command/ec2.describe-client-vpn-endpoints', 'X-Amz-Date': b'20210615T162321Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=<snipped>/20210615/us-east-1/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=0534068f61a8c3746d226cece5014733177ba990f88983c1cf70873531b92a3b', 'Content-Length': '52'}>\r\n2021-06-15 16:23:21,761 - MainThread - botocore.httpsession - DEBUG - Certificate path: /usr/local/aws-cli/v2/2.2.8/dist/botocore/cacert.pem\r\n2021-06-15 16:23:21,762 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): ec2.us-east-1.amazonaws.com:443\r\n2021-06-15 16:23:22,471 - MainThread - urllib3.connectionpool - DEBUG - https://ec2.us-east-1.amazonaws.com:443 \"POST / HTTP/1.1\" 200 None\r\n2021-06-15 16:23:22,480 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': 'a70b7974-15b2-4140-9ff8-9a31f1585166', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'vary': 'accept-encoding', 'Date': 'Tue, 15 Jun 2021 16:23:21 GMT', 'Server': 'AmazonEC2'}\r\n2021-06-15 16:23:22,480 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<DescribeClientVpnEndpointsResponse xmlns=\"http://ec2.amazonaws.com/doc/2016-11-15/\">\\n    <requestId>a70b7974-15b2-4140-9ff8-9a31f1585166</requestId>\\n    <clientVpnEndpoint>\\n        <item>\\n            <authenticationOptions>\\n                <item>\\n                    <federatedAuthentication>\\n\r\n       <samlProviderArn>arn:aws:iam::082902060548:saml-provider/JumpCloudVPN</samlProviderArn>\\n\r\n<selfServiceSamlProviderArn>arn:aws:iam::082902060548:saml-provider/JumpCloudVPN</selfServiceSamlProviderArn>\\n\r\n           </federatedAuthentication>\\n                    <type>federated-authentication</type>\\n                </item>\\n            </authenticationOptions>\\n            <clientCidrBlock>10.0.28.0/22</clientCidrBlock>\\n            <clientConnectOptions>\\n                <enabled>false</enabled>\\n                <status>\\n                    <code>applied</code>\\n                </status>\\n            </clientConnectOptions>\\n            <connectionLogOptions>\\n\r\n    <CloudwatchLogGroup>vpn-access</CloudwatchLogGroup>\\n                <CloudwatchLogStream>vpn-access-stream</CloudwatchLogStream>\\n                <Enabled>true</Enabled>\\n            </connectionLogOptions>\\n            <creationTime>2021-06-04T15:55:57</creationTime>\\n            <description>Dev VPN Client endpoint.</description>\\n            <dnsName>*.cvpn-endpoint-0e92679ba78655579.prod.clientvpn.us-east-1.amazonaws.com</dnsName>\\n            <dnsServer>\\n\r\n      <item>10.0.0.2</item>\\n            </dnsServer>\\n            <clientVpnEndpointId>cvpn-endpoint-0e92679ba78655579</clientVpnEndpointId>\\n            <status>\\n                <code>available</code>\\n            </status>\\n\r\n<securityGroupIdSet>\\n                <item>sg-00e47102894e814fa</item>\\n            </securityGroupIdSet>\\n\r\n<selfServicePortalUrl>https://self-service.clientvpn.amazonaws.com/endpoints/cvpn-endpoint-0e92679ba78655579</selfServicePortalUrl>\\n            <serverCertificateArn>arn:aws:acm:us-east-1:082902060548:certificate/8d874f1c-dde6-42eb-b89c-757d5c31685b</serverCertificateArn>\\n            <splitTunnel>false</splitTunnel>\\n            <tagSet>\\n                <item>\\n                    <key>Environment</key>\\n                    <value>dev</value>\\n                </item>\\n                <item>\\n                    <key>Name</key>\\n                    <value>use-dev-vpn-client1</value>\\n                </item>\\n            </tagSet>\\n            <transportProtocol>udp</transportProtocol>\\n            <vpcId>vpc-20a36945</vpcId>\\n            <vpnPort>443</vpnPort>\\n            <vpnProtocol>openvpn</vpnProtocol>\\n        </item>\\n        <item>\\n            <authenticationOptions>\\n                <item>\\n                    <federatedAuthentication>\\n                        <samlProviderArn>arn:aws:iam::082902060548:saml-provider/JumpCloudVPN</samlProviderArn>\\n                        <selfServiceSamlProviderArn>arn:aws:iam::082902060548:saml-provider/JumpCloudVPN</selfServiceSamlProviderArn>\\n                    </federatedAuthentication>\\n                    <type>federated-authentication</type>\\n                </item>\\n            </authenticationOptions>\\n            <clientCidrBlock>10.0.28.0/22</clientCidrBlock>\\n            <clientConnectOptions>\\n                <enabled>false</enabled>\\n                <status>\\n\r\n      <code>applied</code>\\n                </status>\\n            </clientConnectOptions>\\n            <connectionLogOptions>\\n                <CloudwatchLogGroup>vpn-access</CloudwatchLogGroup>\\n                <CloudwatchLogStream>vpn-access-stream</CloudwatchLogStream>\\n                <Enabled>true</Enabled>\\n            </connectionLogOptions>\\n            <creationTime>2021-03-17T18:12:41</creationTime>\\n            <description>Dev VPN Client endpoint.</description>\\n            <dnsName>*.cvpn-endpoint-0cf74b948e1e34bf1.prod.clientvpn.us-east-1.amazonaws.com</dnsName>\\n            <dnsServer>\\n                <item>10.0.0.2</item>\\n            </dnsServer>\\n            <clientVpnEndpointId>cvpn-endpoint-0cf74b948e1e34bf1</clientVpnEndpointId>\\n            <status>\\n                <code>available</code>\\n            </status>\\n            <securityGroupIdSet>\\n                <item>sg-00e47102894e814fa</item>\\n            </securityGroupIdSet>\\n            <selfServicePortalUrl>https://self-service.clientvpn.amazonaws.com/endpoints/cvpn-endpoint-0cf74b948e1e34bf1</selfServicePortalUrl>\\n            <serverCertificateArn>arn:aws:acm:us-east-1:082902060548:certificate/8d874f1c-dde6-42eb-b89c-757d5c31685b</serverCertificateArn>\\n            <splitTunnel>false</splitTunnel>\\n            <tagSet>\\n                <item>\\n                    <key>Environment</key>\\n                    <value>dev</value>\\n\r\n       </item>\\n                <item>\\n                    <key>Name</key>\\n                    <value>use-dev-vpn-client1</value>\\n                </item>\\n            </tagSet>\\n            <transportProtocol>udp</transportProtocol>\\n            <vpcId>vpc-20a36945</vpcId>\\n            <vpnPort>443</vpnPort>\\n            <vpnProtocol>openvpn</vpnProtocol>\\n        </item>\\n        <item>\\n            <authenticationOptions>\\n                <item>\\n                    <federatedAuthentication>\\n                        <samlProviderArn>arn:aws:iam::082902060548:saml-provider/JumpCloudVPN</samlProviderArn>\\n                        <selfServiceSamlProviderArn>arn:aws:iam::082902060548:saml-provider/JumpCloudVPN</selfServiceSamlProviderArn>\\n                    </federatedAuthentication>\\n                    <type>federated-authentication</type>\\n                </item>\\n            </authenticationOptions>\\n            <clientCidrBlock>10.0.28.0/22</clientCidrBlock>\\n            <clientConnectOptions>\\n                <enabled>false</enabled>\\n                <status>\\n                    <code>applied</code>\\n                </status>\\n            </clientConnectOptions>\\n            <connectionLogOptions>\\n                <CloudwatchLogGroup>vpn-access</CloudwatchLogGroup>\\n                <CloudwatchLogStream>vpn-access-stream</CloudwatchLogStream>\\n                <Enabled>true</Enabled>\\n            </connectionLogOptions>\\n            <creationTime>2021-03-05T18:54:46</creationTime>\\n            <description>Prod VPN Client endpoint.</description>\\n            <dnsName>*.cvpn-endpoint-029b0a43e65187c67.prod.clientvpn.us-east-1.amazonaws.com</dnsName>\\n            <dnsServer>\\n                <item>10.0.0.2</item>\\n            </dnsServer>\\n            <clientVpnEndpointId>cvpn-endpoint-029b0a43e65187c67</clientVpnEndpointId>\\n            <status>\\n                <code>available</code>\\n            </status>\\n            <securityGroupIdSet>\\n                <item>sg-05b75f8903f47d014</item>\\n            </securityGroupIdSet>\\n            <serverCertificateArn>arn:aws:acm:us-east-1:082902060548:certificate/8d874f1c-dde6-42eb-b89c-757d5c31685b</serverCertificateArn>\\n            <splitTunnel>false</splitTunnel>\\n            <tagSet>\\n                <item>\\n                    <key>Environment</key>\\n                    <value>prod</value>\\n\r\n    </item>\\n                <item>\\n                    <key>Name</key>\\n                    <value>use-prod-vpn-client1</value>\\n                </item>\\n            </tagSet>\\n            <transportProtocol>udp</transportProtocol>\\n            <vpcId>vpc-20a36945</vpcId>\\n            <vpnPort>443</vpnPort>\\n            <vpnProtocol>openvpn</vpnProtocol>\\n        </item>\\n    </clientVpnEndpoint>\\n</DescribeClientVpnEndpointsResponse>'\r\n2021-06-15 16:23:22,483 - MainThread - botocore.hooks - DEBUG - Event needs-retry.ec2.DescribeClientVpnEndpoints: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7fd4bb092490>>\r\n2021-06-15 16:23:22,483 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2021-06-15 16:23:22,483 - MainThread - botocore.hooks - DEBUG - Event after-call.ec2.DescribeClientVpnEndpoints: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7fd4bb0ccfa0>>\r\nroot@90267f045968:/source/provisioning$\r\nroot@90267f045968:/source/provisioning$ exit\r\nexit\r\nmtaylor@taylorm02:~/olympus/client$\r\n```\r\n**Additional context**\r\nDoesn't appear to be an issue with the general stdout utility `print()` in the python version we're using.\r\n\r\n```\r\n\r\nroot@90267f045968:/source/provisioning$ which python\r\n/usr/local/bin/python\r\nroot@90267f045968:/source/provisioning$ python --version\r\nPython 3.7.10\r\nroot@90267f045968:/source/provisioning$ python\r\nPython 3.7.10 (default, May 12 2021, 16:05:48)\r\n[GCC 8.3.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> print(\"Hello\")\r\nHello\r\n>>> exit\r\nUse exit() or Ctrl-D (i.e. EOF) to exit\r\n>>> exit()\r\nroot@90267f045968:/source/provisioning$ \r\n```\r\n\r\nI reverted to 2.1.39, and it printed to `less` directly (I had to install less to visualize the results), but it did work in 2.1.x", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6197", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6197/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6197/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6197/events", "html_url": "https://github.com/aws/aws-cli/issues/6197", "id": 906340840, "node_id": "MDU6SXNzdWU5MDYzNDA4NDA=", "number": 6197, "title": "aws codeartifact login fails in CircleCI pipeline", "user": {"login": "coherent-andyaaz", "id": 83568880, "node_id": "MDQ6VXNlcjgzNTY4ODgw", "avatar_url": "https://avatars.githubusercontent.com/u/83568880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coherent-andyaaz", "html_url": "https://github.com/coherent-andyaaz", "followers_url": "https://api.github.com/users/coherent-andyaaz/followers", "following_url": "https://api.github.com/users/coherent-andyaaz/following{/other_user}", "gists_url": "https://api.github.com/users/coherent-andyaaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/coherent-andyaaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coherent-andyaaz/subscriptions", "organizations_url": "https://api.github.com/users/coherent-andyaaz/orgs", "repos_url": "https://api.github.com/users/coherent-andyaaz/repos", "events_url": "https://api.github.com/users/coherent-andyaaz/events{/privacy}", "received_events_url": "https://api.github.com/users/coherent-andyaaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2395293551, "node_id": "MDU6TGFiZWwyMzk1MjkzNTUx", "url": "https://api.github.com/repos/aws/aws-cli/labels/codeartifact%20login", "name": "codeartifact login", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}, {"id": 4723087688, "node_id": "LA_kwDOAGd3X88AAAABGYSZSA", "url": "https://api.github.com/repos/aws/aws-cli/labels/p3", "name": "p3", "color": "F5DEB3", "default": false, "description": "This is a minor priority issue"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-05-29T04:10:57Z", "updated_at": "2023-01-09T17:59:39Z", "closed_at": "2023-01-09T17:59:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nrunning `aws codeartifact login` results in \"list index out of range\" error\r\n\r\n**SDK version number**\r\n2.2.6\r\n\r\n**Platform/OS/Hardware/Device**\r\nLinux/4.15.0-1102-aws exe/x86_64.ubuntu.20\r\n\r\n**To Reproduce (observed behavior)**\r\nrun the following as after setting up aws credentials in circieci workflow\r\n`aws codeartifact login --tool dotnet --domain **** --domain-owner ******* --repository dotnet --debug`\r\n\r\n**Expected behavior**\r\nsuccessfully sign in\r\n\r\n**Logs/output**\r\n```\r\n2021-05-27 03:03:25,145 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.2.6 Python/3.8.8 Linux/4.15.0-1102-aws exe/x86_64.ubuntu.20\r\n2021-05-27 03:03:25,145 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['codeartifact', 'login', '--tool', 'dotnet', '--domain', '***', '--domain-owner', '******', '--repository', 'dotnet', '--debug']\r\n2021-05-27 03:03:25,156 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x7f2140d67b80>\r\n2021-05-27 03:03:25,156 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x7f2140f24940>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7f2140f4e160>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x7f2140f53280>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x7f2140d765e0>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x7f2140eed790>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x7f2140dbb820>\r\n2021-05-27 03:03:25,157 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.6/dist/awscli/data/cli.json\r\n2021-05-27 03:03:25,159 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x7f2140e1f790>\r\n2021-05-27 03:03:25,159 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x7f2140e22310>\r\n2021-05-27 03:03:25,159 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x7f2140e22280>\r\n2021-05-27 03:03:25,159 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x7f2140e22430>\r\n2021-05-27 03:03:25,160 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x7f2140e223a0>\r\n2021-05-27 03:03:25,160 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x7f2140c8f8c0>\r\n2021-05-27 03:03:25,160 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.2.6 Python/3.8.8 Linux/4.15.0-1102-aws exe/x86_64.ubuntu.20 prompt/off\r\n2021-05-27 03:03:25,160 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['codeartifact', 'login', '--tool', 'dotnet', '--domain', '****', '--domain-owner', '*********', '--repository', 'dotnet', '--debug']\r\n2021-05-27 03:03:25,160 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f2140d691f0>\r\n2021-05-27 03:03:25,160 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f21418074c0>\r\n2021-05-27 03:03:25,160 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f2140cd6040>\r\n2021-05-27 03:03:25,161 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x7f21418038b0>\r\n2021-05-27 03:03:25,161 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f2141766160>\r\n2021-05-27 03:03:25,161 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2021-05-27 03:03:25,163 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f2140eed670>\r\n2021-05-27 03:03:25,163 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f2140f1f820>\r\n2021-05-27 03:03:25,174 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.6/dist/botocore/data/codeartifact/2018-09-22/service-2.json\r\n2021-05-27 03:03:25,179 - MainThread - botocore.hooks - DEBUG - Event building-command-table.codeartifact: calling handler <function inject_commands at 0x7f2140f9db80>\r\n2021-05-27 03:03:25,179 - MainThread - botocore.hooks - DEBUG - Event building-command-table.codeartifact: calling handler <function add_waiters at 0x7f2140dbb820>\r\n2021-05-27 03:03:25,191 - MainThread - botocore.hooks - DEBUG - Event building-command-table.codeartifact_login: calling handler <function add_waiters at 0x7f2140dbb820>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.tool: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f214044c1f0>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f21417ada30>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.domain: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f214044c1f0>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f21417ada30>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.domain-owner: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f214044c1f0>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f21417ada30>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.namespace: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f214044c1f0>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.duration-seconds: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f214044c1f0>\r\n2021-05-27 03:03:25,192 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.repository: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f214044c1f0>\r\n2021-05-27 03:03:25,193 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f21417ada30>\r\n2021-05-27 03:03:25,193 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.login.dry-run: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f214044c1f0>\r\n2021-05-27 03:03:25,193 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f21417ada30>\r\n2021-05-27 03:03:25,193 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2021-05-27 03:03:25,193 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\r\n2021-05-27 03:03:25,193 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.2.6/dist/botocore/data/endpoints.json\r\n2021-05-27 03:03:25,200 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f21430eb0d0>\r\n2021-05-27 03:03:25,201 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.codeartifact: calling handler <function add_generate_presigned_url at 0x7f21431093a0>\r\n2021-05-27 03:03:25,203 - MainThread - botocore.endpoint - DEBUG - Setting codeartifact timeout as (60, 60)\r\n2021-05-27 03:03:25,204 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.codeartifact.GetAuthorizationToken: calling handler <function base64_decode_input_blobs at 0x7f2140cd6790>\r\n2021-05-27 03:03:25,204 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.codeartifact.GetAuthorizationToken: calling handler <function generate_idempotent_uuid at 0x7f2143102160>\r\n2021-05-27 03:03:25,204 - MainThread - botocore.hooks - DEBUG - Event before-call.codeartifact.GetAuthorizationToken: calling handler <function inject_api_version_header_if_needed at 0x7f21430859d0>\r\n2021-05-27 03:03:25,204 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetAuthorizationToken) with params: {'url_path': '/v1/authorization-token', 'query_string': {'domain': '****', 'domain-owner': '*********'}, 'method': 'POST', 'headers': {'User-Agent': 'aws-cli/2.2.6 Python/3.8.8 Linux/4.15.0-1102-aws exe/x86_64.ubuntu.20 prompt/off command/codeartifact.login'}, 'body': b'', 'url': 'https://codeartifact.**************.amazonaws.com/v1/authorization-token?domain=test&domain-owner=*', 'context': {'client_region': '**************', 'client_config': <botocore.config.Config object at 0x7f2140139490>, 'has_streaming_input': False, 'auth_type': None}}\r\n2021-05-27 03:03:25,205 - MainThread - botocore.hooks - DEBUG - Event request-created.codeartifact.GetAuthorizationToken: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f2140139550>>\r\n2021-05-27 03:03:25,205 - MainThread - botocore.hooks - DEBUG - Event choose-signer.codeartifact.GetAuthorizationToken: calling handler <function set_operation_specific_signer at 0x7f2143102040>\r\n2021-05-27 03:03:25,205 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2021-05-27 03:03:25,205 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/v1/authorization-token\r\ndomain=test&domain-owner=****\r\nhost:codeartifact.**************.amazonaws.com\r\nx-amz-date:20210527T030325Z\r\n\r\nhost;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2021-05-27 03:03:25,205 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20210527T030325Z\r\n20210527/**************/codeartifact/aws4_request\r\nd3b4d29845e306fe92afe4ccf77c67ef4dec958fc1f2f3e351d4084970e3a52e\r\n2021-05-27 03:03:25,205 - MainThread - botocore.auth - DEBUG - Signature:\r\nf3610804d0018be5a306ddbe228eb37667a9f2749c246ad6e294b7da3f544302\r\n2021-05-27 03:03:25,205 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://codeartifact.**************.amazonaws.com/v1/authorization-token?domain=test&domain-owner=*******, headers={'User-Agent': b'aws-cli/2.2.6 Python/3.8.8 Linux/4.15.0-1102-aws exe/x86_64.ubuntu.20 prompt/off command/codeartifact.login', 'X-Amz-Date': b'20210527T030325Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=********************/20210527/**************/codeartifact/aws4_request, SignedHeaders=host;x-amz-date, Signature=f3610804d0018be5a306ddbe228eb37667a9f2749c246ad6e294b7da3f544302', 'Content-Length': '0'}>\r\n2021-05-27 03:03:25,206 - MainThread - botocore.httpsession - DEBUG - Certificate path: /usr/local/aws-cli/v2/2.2.6/dist/botocore/cacert.pem\r\n2021-05-27 03:03:25,206 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): codeartifact.**************.amazonaws.com:443\r\n2021-05-27 03:03:26,145 - MainThread - urllib3.connectionpool - DEBUG - https://codeartifact.**************.amazonaws.com:443 \"POST /v1/authorization-token?domain=test&domain-owner=**** HTTP/1.1\" 200 1262\r\n2021-05-27 03:03:26,146 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Thu, 27 May 2021 03:03:26 GMT', 'Content-Type': 'application/json', 'Content-Length': '1262', 'Connection': 'keep-alive', 'x-amzn-RequestId': '5f114a70-6c65-4d0b-875d-94fa4b906fe4'}\r\n2021-05-27 03:03:26,146 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"authorizationToken\":\"eyJ2ZXIiOjEsImlzdSI6MTYyMjA4NDYwNiwiZW5jIjoiQTEyOEdDTSIsInRhZyI6ImhneUM0U3RWcndjazVVM2pEakNPd3ciLCJleHAiOjE2MjIxMjc4MDYsImFsZyI6IkExMjhHQ01LVyIsIml2Ijoic21aOGdDMk1aYkVQS29tMiJ9.416-9zq1ZSN_1b62GB9FMw.C-rB8hPiSKSKy38w.dWerZX-Nxd7uZUTA3CTVGz0BbMqhwXX-paE1F0cG_ypYn5h9OHFGBoR7yFBVvWMBzqL2t2rQwyEMgGi4ajsuiYP6JYnrKEDrzegM4QRelKZWlkLgEoLXnyzj_R9GngJf2R708DpywHEeDwWX_PpQDjRqQciEjrRsjngfcqJGtD62PNC6oI5CW2pnRAvjLj7k2p0SMZpZB0YLvPTyMyOG_aWHCGRUOjEOPk2TV7HOB1-drop1yilTiXIhobH1VQ5Fmeh9H0ilz4wb8TVbYKs0yx7TH0UE2uCzNCMEZY9KRqfXDroVkW-eYd8KzSewupdL1mRkqxFpl8qUMBuMiYfxzV6ovGsYbbq751_FHeI0tzIgR2SEaQ_8lX_POBYvY01Aer1lS9ENci8bc6YpWYggrSoX8ZdNXiht8LEc7ZhN3yoz2gYiXl7S98qZU1WBjkz7VtlHcBZWVlENXLOGOmZXqiQ28VoBAifDiwrXIcsD9zVoxXLoDgLe856bjKw4cqYXrfFfxlcYGP2h-hffbStmADAz3B65CjfeVy3RJAWQZH0TsXy4FrG7DlILMo4fmW1CbaS0Zc3_ebnXANQE8OU8NpnaANS1VLmfZm4E6UmmJ0rHt6J2ePjA_5-Slx29RmsBke1YuT25camS9ROLs4zSFhAqSKB0vzmvx-yAKYM8eYzYH0_yJg6tmIWP1ImnZaMjtDykUlCDfPPKd5EdYULNH7sMbChzZNCWsDuPjumgbDYeIwWgLK2nX5y0HLG--lolEHS_YWvb_qXpvk_WXyGEGq9x9Ym5VqHP7hkZVrQYOWG3VUMNu02aalpj2kt4S5-m0MT6ttHjE0TCluidnYt2v-cDisngW0Oxo0YJDZQ26_SgaQ8OYAN54WbcYKmVAwe4GT8kEaGEkEuIxpJM5fa8IvjmC2PWGQVpPXlADOCJ9Quhb1i5S6W12hJOhj5rlhSyvam2nYRhvQ.tGaSJNV7GjD7U9WWI7wghw\",\"expiration\":1.622127806E9}'\r\n2021-05-27 03:03:26,148 - MainThread - botocore.hooks - DEBUG - Event needs-retry.codeartifact.GetAuthorizationToken: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f2140139fa0>>\r\n2021-05-27 03:03:26,148 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2021-05-27 03:03:26,148 - MainThread - botocore.hooks - DEBUG - Event after-call.codeartifact.GetAuthorizationToken: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f2140139b20>>\r\n2021-05-27 03:03:26,148 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.codeartifact.GetRepositoryEndpoint: calling handler <function base64_decode_input_blobs at 0x7f2140cd6790>\r\n2021-05-27 03:03:26,148 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.codeartifact.GetRepositoryEndpoint: calling handler <function generate_idempotent_uuid at 0x7f2143102160>\r\n2021-05-27 03:03:26,148 - MainThread - botocore.hooks - DEBUG - Event before-call.codeartifact.GetRepositoryEndpoint: calling handler <function inject_api_version_header_if_needed at 0x7f21430859d0>\r\n2021-05-27 03:03:26,149 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetRepositoryEndpoint) with params: {'url_path': '/v1/repository/endpoint', 'query_string': {'domain': '****', 'repository': 'dotnet', 'format': 'nuget', 'domain-owner': '******'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.2.6 Python/3.8.8 Linux/4.15.0-1102-aws exe/x86_64.ubuntu.20 prompt/off command/codeartifact.login'}, 'body': b'', 'url': 'https://codeartifact.**************.amazonaws.com/v1/repository/endpoint?domain=*&repository=dotnet&format=nuget&domain-owner=********', 'context': {'client_region': '**************', 'client_config': <botocore.config.Config object at 0x7f2140139490>, 'has_streaming_input': False, 'auth_type': None}}\r\n2021-05-27 03:03:26,149 - MainThread - botocore.hooks - DEBUG - Event request-created.codeartifact.GetRepositoryEndpoint: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f2140139550>>\r\n2021-05-27 03:03:26,149 - MainThread - botocore.hooks - DEBUG - Event choose-signer.codeartifact.GetRepositoryEndpoint: calling handler <function set_operation_specific_signer at 0x7f2143102040>\r\n2021-05-27 03:03:26,149 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2021-05-27 03:03:26,149 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/v1/repository/endpoint\r\ndomain=*****&domain-owner=***********&format=nuget&repository=dotnet\r\nhost:codeartifact.**************.amazonaws.com\r\nx-amz-date:20210527T030326Z\r\n\r\nhost;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2021-05-27 03:03:26,149 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20210527T030326Z\r\n20210527/**************/codeartifact/aws4_request\r\n6391eccb49eeb4c009deb1dec05f319d84dd9517ceaafeabc14e9b17df887ad1\r\n2021-05-27 03:03:26,149 - MainThread - botocore.auth - DEBUG - Signature:\r\n01f49e15d304156eaba18ca2fe13d06f8865796a30470c573c2335bd02a648f9\r\n2021-05-27 03:03:26,149 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://codeartifact.**************.amazonaws.com/v1/repository/endpoint?domain=****&repository=dotnet&format=nuget&domain-owner=**********, headers={'User-Agent': b'aws-cli/2.2.6 Python/3.8.8 Linux/4.15.0-1102-aws exe/x86_64.ubuntu.20 prompt/off command/codeartifact.login', 'X-Amz-Date': b'20210527T030326Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=********************/20210527/**************/codeartifact/aws4_request, SignedHeaders=host;x-amz-date, Signature=01f49e15d304156eaba18ca2fe13d06f8865796a30470c573c2335bd02a648f9'}>\r\n2021-05-27 03:03:26,150 - MainThread - botocore.httpsession - DEBUG - Certificate path: /usr/local/aws-cli/v2/2.2.6/dist/botocore/cacert.pem\r\n2021-05-27 03:03:26,431 - MainThread - urllib3.connectionpool - DEBUG - https://codeartifact.**************.amazonaws.com:443 \"GET /v1/repository/endpoint?domain=****&repository=dotnet&format=nuget&domain-owner=********* HTTP/1.1\" 200 108\r\n2021-05-27 03:03:26,432 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Thu, 27 May 2021 03:03:26 GMT', 'Content-Type': 'application/json', 'Content-Length': '108', 'Connection': 'keep-alive', 'x-amzn-RequestId': '1638397d-b2ee-401a-aba6-8c169c9be5ac'}\r\n2021-05-27 03:03:26,432 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"repositoryEndpoint\":\"https://******.d.codeartifact.**************.amazonaws.com/nuget/dotnet/\"}'\r\n2021-05-27 03:03:26,432 - MainThread - botocore.hooks - DEBUG - Event needs-retry.codeartifact.GetRepositoryEndpoint: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f2140139fa0>>\r\n2021-05-27 03:03:26,432 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2021-05-27 03:03:26,432 - MainThread - botocore.hooks - DEBUG - Event after-call.codeartifact.GetRepositoryEndpoint: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f2140139b20>>\r\n2021-05-27 03:03:26,965 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 459, in main\r\n  File \"awscli/clidriver.py\", line 594, in __call__\r\n  File \"awscli/customizations/commands.py\", line 191, in __call__\r\n  File \"awscli/customizations/codeartifact/login.py\", line 663, in _run_main\r\n  File \"awscli/customizations/codeartifact/login.py\", line 122, in login\r\n  File \"awscli/customizations/codeartifact/login.py\", line 200, in _get_source_to_url_dict\r\n  File \"awscli/customizations/codeartifact/login.py\", line 213, in _parse_source_name\r\nIndexError: list index out of range\r\n\r\nlist index out of range\r\n\r\nExited with code exit status 255\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6197/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6175", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6175/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6175/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6175/events", "html_url": "https://github.com/aws/aws-cli/issues/6175", "id": 893625448, "node_id": "MDU6SXNzdWU4OTM2MjU0NDg=", "number": 6175, "title": "SignatureDoesNotMatch error report", "user": {"login": "tsinha", "id": 1165535, "node_id": "MDQ6VXNlcjExNjU1MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1165535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsinha", "html_url": "https://github.com/tsinha", "followers_url": "https://api.github.com/users/tsinha/followers", "following_url": "https://api.github.com/users/tsinha/following{/other_user}", "gists_url": "https://api.github.com/users/tsinha/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsinha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsinha/subscriptions", "organizations_url": "https://api.github.com/users/tsinha/orgs", "repos_url": "https://api.github.com/users/tsinha/repos", "events_url": "https://api.github.com/users/tsinha/events{/privacy}", "received_events_url": "https://api.github.com/users/tsinha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-17T19:08:35Z", "updated_at": "2021-08-18T18:10:43Z", "closed_at": "2021-08-18T18:10:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you have encountered an error message like the following, you're in the right place! If not, please file a standard bug report (https://github.com/aws/aws-cli/issues/new/choose).\r\n\r\n> `A client error (SignatureDoesNotMatch) occurred when calling the <ApiCall> operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.`\r\n\r\nwhere `<ApiCall>` changes depending on what command you ran.\r\n\r\n## Do this first!\r\n\r\nIf you have encountered this error, please do the following FIRST (change the [] boxes to [x]):\r\n\r\n- [x] Read the user guide troubleshooting chapter (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-troubleshooting.html) to check for known issues like clock skew.\r\n- [x] Confirm that the error occurs even if you use one of the supported installation methods (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html).\r\n\r\nIf possible, try using the credentials with another non-Python SDK, like Javascript (http://aws.amazon.com/javascript).\r\n\r\n## Required information\r\n\r\nIf you have done these things, please fill out the following sections:\r\n\r\n### Command line version\r\n\r\naws-cli/1.19.70 Python/3.8.8 Darwin/20.4.0 botocore/1.20.71\r\n\r\n### Operating system\r\n\r\nMacOS v11.3.1\r\n\r\n### Installation method\r\n\r\npip\r\n\r\n### Command being run and output\r\n\r\nPlease provide the full command the output with debug mode on (`aws --debug ...`)\r\n```\r\n(base) \u279c  Analysis git:(master) aws s3 ls s3://XXX --debug\r\n2021-05-17 12:00:26,273 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.19.70 Python/3.8.8 Darwin/20.4.0 botocore/1.20.71\r\n2021-05-17 12:00:26,273 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'ls', 's3://XXX', '--debug']\r\n2021-05-17 12:00:26,273 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7fd2c20d7430>\r\n2021-05-17 12:00:26,273 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fd2c1b2dc10>\r\n2021-05-17 12:00:26,274 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fd2c1b8e430>\r\n2021-05-17 12:00:26,274 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2021-05-17 12:00:26,281 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fd2c1f88040>\r\n2021-05-17 12:00:26,281 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x7fd2c20dcaf0>\r\n2021-05-17 12:00:26,282 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2c21a5df0>\r\n2021-05-17 12:00:26,282 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ls: calling handler <function add_waiters at 0x7fd2c20dcaf0>\r\n2021-05-17 12:00:26,282 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2c21a5df0>\r\n2021-05-17 12:00:26,283 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2c21a5df0>\r\n2021-05-17 12:00:26,283 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2c21a5df0>\r\n2021-05-17 12:00:26,283 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.human-readable: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2c21a5df0>\r\n2021-05-17 12:00:26,283 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fd2c1b4dfa0>\r\n2021-05-17 12:00:26,283 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.summarize: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2c21a5df0>\r\n2021-05-17 12:00:26,283 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fd2c1b4dfa0>\r\n2021-05-17 12:00:26,283 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2c21a5df0>\r\n2021-05-17 12:00:26,284 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2021-05-17 12:00:26,284 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\r\n2021-05-17 12:00:26,285 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/data/endpoints.json\r\n2021-05-17 12:00:26,290 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fd2c14e0670>\r\n2021-05-17 12:00:26,293 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json\r\n2021-05-17 12:00:26,300 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7fd2c148a430>\r\n2021-05-17 12:00:26,300 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7fd2c148a1f0>\r\n2021-05-17 12:00:26,338 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2021-05-17 12:00:26,339 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/data/_retry.json\r\n2021-05-17 12:00:26,340 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3\r\n2021-05-17 12:00:26,357 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/paginators-1.json\r\n2021-05-17 12:00:26,358 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x7fd2c1507c10>\r\n2021-05-17 12:00:26,358 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x7fd2c1505940>\r\n2021-05-17 12:00:26,358 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7fd2c31316d0>>\r\n2021-05-17 12:00:26,358 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7fd2c3131790>>\r\n2021-05-17 12:00:26,358 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x7fd2c1505790>\r\n2021-05-17 12:00:26,359 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x7fd2c1505ca0>\r\n2021-05-17 12:00:26,359 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7fd2c31316d0>>\r\n2021-05-17 12:00:26,359 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x7fd2c150b040>\r\n2021-05-17 12:00:26,359 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '/XXX?list-type=2', 'query_string': {'prefix': '', 'delimiter': '/', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/1.19.70 Python/3.8.8 Darwin/20.4.0 botocore/1.20.71'}, 'body': b'', 'url': 'https://s3.us-west-2.amazonaws.com/XXX?list-type=2&prefix=&delimiter=%2F&encoding-type=url', 'context': {'client_region': 'us-west-2', 'client_config': <botocore.config.Config object at 0x7fd2c30ebbb0>, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'XXX'}}}\r\n2021-05-17 12:00:26,359 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fd2c30eb9d0>>\r\n2021-05-17 12:00:26,359 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7fd2c1b1a340>>\r\n2021-05-17 12:00:26,359 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x7fd2c1505670>\r\n2021-05-17 12:00:26,360 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7fd2c3131820>>\r\n2021-05-17 12:00:26,360 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2021-05-17 12:00:26,360 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.us-west-2.amazonaws.com/XXX?list-type=2&prefix=&delimiter=%2F&encoding-type=url\r\n2021-05-17 12:00:26,360 - MainThread - botocore.utils - DEBUG - URI updated to: https://XXX.s3.us-west-2.amazonaws.com/?list-type=2&prefix=&delimiter=%2F&encoding-type=url\r\n2021-05-17 12:00:26,360 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2021-05-17 12:00:26,360 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/\r\ndelimiter=%2F&encoding-type=url&list-type=2&prefix=\r\nhost:XXX.s3.us-west-2.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20210517T190026Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2021-05-17 12:00:26,360 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20210517T190026Z\r\n20210517/us-west-2/s3/aws4_request\r\n81f9a9618af6e67f13d246dff5ef230ad711cd57d479f4ceccc965a00ffef9e3\r\n2021-05-17 12:00:26,360 - MainThread - botocore.auth - DEBUG - Signature:\r\nbbacee761ff1e92bc5fd5cf6fb31502de67968c7762a5a8ec461c7355f8b79fc\r\n2021-05-17 12:00:26,360 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://XXX.s3.us-west-2.amazonaws.com/?list-type=2&prefix=&delimiter=%2F&encoding-type=url, headers={'User-Agent': b'aws-cli/1.19.70 Python/3.8.8 Darwin/20.4.0 botocore/1.20.71', 'X-Amz-Date': b'20210517T190026Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAR3WBHAJNAOYS2JG3/20210517/us-west-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=bbacee761ff1e92bc5fd5cf6fb31502de67968c7762a5a8ec461c7355f8b79fc'}>\r\n2021-05-17 12:00:26,361 - MainThread - botocore.httpsession - DEBUG - Certificate path: /Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/certifi/cacert.pem\r\n2021-05-17 12:00:26,361 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): XXX.s3.us-west-2.amazonaws.com:443\r\n2021-05-17 12:00:26,554 - MainThread - urllib3.connectionpool - DEBUG - https://XXX.s3.us-west-2.amazonaws.com:443 \"GET /?list-type=2&prefix=&delimiter=%2F&encoding-type=url HTTP/1.1\" 403 None\r\n2021-05-17 12:00:26,555 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-bucket-region': 'us-west-2', 'x-amz-request-id': '45MATTVRDPZNT2W3', 'x-amz-id-2': 'gM67n6q22BFHY/w+sh8+GZnC6dWBj2e8QaI/A+IclN1fnxyqXC0nywLlbTxWTKo+Cynxp/0CshA=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 May 2021 19:00:26 GMT', 'Server': 'AmazonS3'}\r\n2021-05-17 12:00:26,555 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>SignatureDoesNotMatch</Code><Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message><AWSAccessKeyId>AKIAR3WBHAJNAOYS2JG3</AWSAccessKeyId><StringToSign>AWS4-HMAC-SHA256\\n20210517T190026Z\\n20210517/us-west-2/s3/aws4_request\\n81f9a9618af6e67f13d246dff5ef230ad711cd57d479f4ceccc965a00ffef9e3</StringToSign><SignatureProvided>bbacee761ff1e92bc5fd5cf6fb31502de67968c7762a5a8ec461c7355f8b79fc</SignatureProvided><StringToSignBytes>41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 0a 32 30 32 31 30 35 31 37 54 31 39 30 30 32 36 5a 0a 32 30 32 31 30 35 31 37 2f 75 73 2d 77 65 73 74 2d 32 2f 73 33 2f 61 77 73 34 5f 72 65 71 75 65 73 74 0a 38 31 66 39 61 39 36 31 38 61 66 36 65 36 37 66 31 33 64 32 34 36 64 66 66 35 65 66 32 33 30 61 64 37 31 31 63 64 35 37 64 34 37 39 66 34 63 65 63 63 63 39 36 35 61 30 30 66 66 65 66 39 65 33</StringToSignBytes><CanonicalRequest>GET\\n/\\ndelimiter=%2F&amp;encoding-type=url&amp;list-type=2&amp;prefix=\\nhost:XXX.s3.us-west-2.amazonaws.com\\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\\nx-amz-date:20210517T190026Z\\n\\nhost;x-amz-content-sha256;x-amz-date\\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</CanonicalRequest><CanonicalRequestBytes>47 45 54 0a 2f 0a 64 65 6c 69 6d 69 74 65 72 3d 25 32 46 26 65 6e 63 6f 64 69 6e 67 2d 74 79 70 65 3d 75 72 6c 26 6c 69 73 74 2d 74 79 70 65 3d 32 26 70 72 65 66 69 78 3d 0a 68 6f 73 74 3a 72 69 76 61 2d 61 72 74 69 66 61 63 74 73 2d 64 65 76 2e 73 33 2e 75 73 2d 77 65 73 74 2d 32 2e 61 6d 61 7a 6f 6e 61 77 73 2e 63 6f 6d 0a 78 2d 61 6d 7a 2d 63 6f 6e 74 65 6e 74 2d 73 68 61 32 35 36 3a 65 33 62 30 63 34 34 32 39 38 66 63 31 63 31 34 39 61 66 62 66 34 63 38 39 39 36 66 62 39 32 34 32 37 61 65 34 31 65 34 36 34 39 62 39 33 34 63 61 34 39 35 39 39 31 62 37 38 35 32 62 38 35 35 0a 78 2d 61 6d 7a 2d 64 61 74 65 3a 32 30 32 31 30 35 31 37 54 31 39 30 30 32 36 5a 0a 0a 68 6f 73 74 3b 78 2d 61 6d 7a 2d 63 6f 6e 74 65 6e 74 2d 73 68 61 32 35 36 3b 78 2d 61 6d 7a 2d 64 61 74 65 0a 65 33 62 30 63 34 34 32 39 38 66 63 31 63 31 34 39 61 66 62 66 34 63 38 39 39 36 66 62 39 32 34 32 37 61 65 34 31 65 34 36 34 39 62 39 33 34 63 61 34 39 35 39 39 31 62 37 38 35 32 62 38 35 35</CanonicalRequestBytes><RequestId>45MATTVRDPZNT2W3</RequestId><HostId>gM67n6q22BFHY/w+sh8+GZnC6dWBj2e8QaI/A+IclN1fnxyqXC0nywLlbTxWTKo+Cynxp/0CshA=</HostId></Error>'\r\n2021-05-17 12:00:26,558 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x7fd2c3131670>\r\n2021-05-17 12:00:26,559 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2021-05-17 12:00:26,559 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x7fd2c31316d0>>\r\n2021-05-17 12:00:26,559 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x7fd2c1507d30>\r\n2021-05-17 12:00:26,559 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function enhance_error_msg at 0x7fd2c20d2f70>\r\n2021-05-17 12:00:26,559 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/awscli/clidriver.py\", line 218, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/awscli/customizations/commands.py\", line 189, in __call__\r\n    return self.subcommand_table[parsed_args.subcommand](remaining,\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/awscli/customizations/commands.py\", line 187, in __call__\r\n    return self._run_main(parsed_args, parsed_globals)\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/awscli/customizations/s3/subcommands.py\", line 484, in _run_main\r\n    self._list_all_objects(\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/awscli/customizations/s3/subcommands.py\", line 512, in _list_all_objects\r\n    for response_data in iterator:\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/paginate.py\", line 255, in __iter__\r\n    response = self._make_request(current_kwargs)\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/paginate.py\", line 332, in _make_request\r\n    return self._method(**current_kwargs)\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/tsinha/.pyenv/versions/miniconda3-latest/lib/python3.8/site-packages/botocore/client.py\", line 676, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (SignatureDoesNotMatch) when calling the ListObjectsV2 operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\r\n2021-05-17 12:00:26,566 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\nAn error occurred (SignatureDoesNotMatch) when calling the ListObjectsV2 operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\r\n(base) \u279c  Analysis git:(master) \r\n```\r\n### Other environment details\r\n\r\nconda 4.10.1\r\n\r\n### Does the secret key you are using have special characters, like \u2018+\u2019 or \u2018/\u2019, in it?\r\n\r\nYes\r\n*If possible, do not delete the credentials that are failing so that we can follow up with further debugging commands.*\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6152", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6152/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6152/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6152/events", "html_url": "https://github.com/aws/aws-cli/issues/6152", "id": 882234250, "node_id": "MDU6SXNzdWU4ODIyMzQyNTA=", "number": 6152, "title": "aws s3 sync throws an IllegalLocationConstraintException even with source region set", "user": {"login": "mvanholsteijn", "id": 576619, "node_id": "MDQ6VXNlcjU3NjYxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/576619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvanholsteijn", "html_url": "https://github.com/mvanholsteijn", "followers_url": "https://api.github.com/users/mvanholsteijn/followers", "following_url": "https://api.github.com/users/mvanholsteijn/following{/other_user}", "gists_url": "https://api.github.com/users/mvanholsteijn/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvanholsteijn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvanholsteijn/subscriptions", "organizations_url": "https://api.github.com/users/mvanholsteijn/orgs", "repos_url": "https://api.github.com/users/mvanholsteijn/repos", "events_url": "https://api.github.com/users/mvanholsteijn/events{/privacy}", "received_events_url": "https://api.github.com/users/mvanholsteijn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-05-09T12:09:31Z", "updated_at": "2021-05-18T14:31:32Z", "closed_at": "2021-05-18T14:31:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\naws s3 sync throws an IllegalLocationConstraintException even with source region set.\r\n\r\n**SDK version number**\r\n```\r\nboto3/__init__.py\r\n\r\n__author__ = 'Amazon Web Services'\r\n__version__ = '1.17.54'\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\naws-cli/2.2.3 Python/3.9.5 Darwin/20.4.0 source/arm64 prompt/off\r\n\r\n**To Reproduce (observed behavior)**\r\n```\r\n$ aws s3 mb --region eu-central-1 s3://x-eu-central-1 \r\nmake_bucket: x-eu-central-1\r\n$ aws s3 mb --region eu-west-1 s3://x-eu-west-1    \r\nmake_bucket: x-eu-west-1\r\n$ aws s3 mb --region af-south-1 s3://x-af-south-1 \r\nmake_bucket: x-af-south-1\r\n$ aws s3 sync --region eu-west-1 --source-region eu-central-1 s3://x-eu-central-1 s3://x-eu-west-1\r\n\r\n$ aws s3 sync --region af-south-1 --source-region eu-central-1 s3://x-eu-central-1 s3://x-af-south-1\r\nfatal error: An error occurred (IllegalLocationConstraintException) when calling the ListObjectsV2 operation: The eu-central-1 location constraint is incompatible for the region specific endpoint this request was sent to.\r\n\r\n```\r\n\r\n**Expected behavior**\r\nthe sync would complete in a normal fashion.\r\n\r\n**Logs/output**\r\n```\r\n2021-05-09 14:06:44,788 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.2.3 Python/3.9.5 Darwin/20.4.0 source/arm64\r\n2021-05-09 14:06:44,788 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'sync', '--region', 'af-south-1', '--source-region', 'eu-central-1', 's3://x-eu-central-1', 's3://x-af-south-1', '--debug']\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x1031d0550>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x1030004c0>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x102f98a60>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x102fa29d0>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x1031ddee0>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x1030500d0>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x1031dd160>\r\n2021-05-09 14:06:44,797 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/awscli/data/cli.json\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x103107d30>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x10310a8b0>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x10310a820>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x10310a9d0>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x10310a940>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x103280980>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.session - DEBUG - Setting config variable for region to 'af-south-1'\r\n2021-05-09 14:06:44,799 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.2.3 Python/3.9.5 Darwin/20.4.0 source/arm64 prompt/off\r\n2021-05-09 14:06:44,799 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'sync', '--region', 'af-south-1', '--source-region', 'eu-central-1', 's3://x-eu-central-1', 's3://x-af-south-1', '--debug']\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x1031d0b80>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x102c925e0>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x103243550>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x102c8c820>\r\n2021-05-09 14:06:44,799 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x102d0d0d0>\r\n2021-05-09 14:06:44,800 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x10304bf70>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x102ffe3a0>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x1031dd160>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3_sync: calling handler <function register_sync_strategies at 0x1031d03a0>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3_sync: calling handler <function add_waiters at 0x1031dd160>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.s3_sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x1032bf280>>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.s3_sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x1032bf250>>\r\n2021-05-09 14:06:44,805 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.s3_sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x1032bf1f0>>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.dryrun: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.quiet: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.acl: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.follow-symlinks: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-kms-key-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-copy-source: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-copy-source-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.storage-class: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.grants: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.website-redirect: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-type: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.cache-control: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-disposition: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-encoding: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-language: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.expires: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.source-region: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.only-show-errors: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,806 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.ignore-glacier-warnings: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.force-glacier-transfer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.metadata: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.copy-props: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.metadata-directive: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.size-only: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.exact-timestamps: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.delete: calling handler <awscli.paramfile.URIArgumentHandler object at 0x1032c6b20>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x102cb3f70>\r\n2021-05-09 14:06:44,807 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2021-05-09 14:06:44,807 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2021-05-09 14:06:44,807 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2021-05-09 14:06:44,807 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2021-05-09 14:06:44,807 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2021-05-09 14:06:44,808 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2021-05-09 14:06:44,808 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/data/endpoints.json\r\n2021-05-09 14:06:44,810 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1021ee5e0>\r\n2021-05-09 14:06:44,819 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/data/s3/2006-03-01/service-2.json\r\n2021-05-09 14:06:44,823 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1021923a0>\r\n2021-05-09 14:06:44,823 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x102192160>\r\n2021-05-09 14:06:44,825 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2021-05-09 14:06:44,826 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1021ee5e0>\r\n2021-05-09 14:06:44,826 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1021923a0>\r\n2021-05-09 14:06:44,826 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x102192160>\r\n2021-05-09 14:06:44,827 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2021-05-09 14:06:44,828 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1021ee5e0>\r\n2021-05-09 14:06:44,828 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1021923a0>\r\n2021-05-09 14:06:44,828 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x102192160>\r\n2021-05-09 14:06:44,830 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2021-05-09 14:06:44,830 - MainThread - awscli.customizations.s3.factory - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\r\n2021-05-09 14:06:44,830 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x1032bf280>>\r\n2021-05-09 14:06:44,830 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x1032bf250>>\r\n2021-05-09 14:06:44,830 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x1032bf1f0>>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/data/s3/2006-03-01/paginators-1.json\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.ListObjectsV2: calling handler <function base64_decode_input_blobs at 0x103243ca0>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x102213b80>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x10220f8b0>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x1078a46a0>>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x1078a4700>>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x10220f700>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x10220fc10>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x1078a46a0>>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x102213f70>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '/x-eu-central-1?list-type=2', 'query_string': {'prefix': '', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.2.3 Python/3.9.5 Darwin/20.4.0 source/arm64 prompt/off command/s3.sync'}, 'body': b'', 'url': 'https://s3.af-south-1.amazonaws.com/x-eu-central-1?list-type=2&prefix=&encoding-type=url', 'context': {'client_region': 'af-south-1', 'client_config': <botocore.config.Config object at 0x107863be0>, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'x-eu-central-1'}}}\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <function signal_not_transferring at 0x102e55550>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x107863bb0>>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x10220f5e0>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x1078a47c0>>\r\n2021-05-09 14:06:44,839 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2021-05-09 14:06:44,839 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.af-south-1.amazonaws.com/x-eu-central-1?list-type=2&prefix=&encoding-type=url\r\n2021-05-09 14:06:44,840 - MainThread - botocore.utils - DEBUG - URI updated to: https://x-eu-central-1.s3.af-south-1.amazonaws.com/?list-type=2&prefix=&encoding-type=url\r\n2021-05-09 14:06:44,840 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2021-05-09 14:06:44,840 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/\r\nencoding-type=url&list-type=2&prefix=\r\nhost:x-eu-central-1.s3.af-south-1.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20210509T120644Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2021-05-09 14:06:44,840 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20210509T120644Z\r\n20210509/af-south-1/s3/aws4_request\r\n8319d76cfc5a625184b64bf811ccd6905d3afefb5d48f2877a90d6f41ec7abab\r\n2021-05-09 14:06:44,840 - MainThread - botocore.auth - DEBUG - Signature:\r\na5f96d342071a748ca6a18040bc26b7d79c716948d4a33057fc3d49a44ae7c27\r\n2021-05-09 14:06:44,840 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <function signal_transferring at 0x102e555e0>\r\n2021-05-09 14:06:44,840 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://x-eu-central-1.s3.af-south-1.amazonaws.com/?list-type=2&prefix=&encoding-type=url, headers={'User-Agent': b'aws-cli/2.2.3 Python/3.9.5 Darwin/20.4.0 source/arm64 prompt/off command/s3.sync', 'X-Amz-Date': b'20210509T120644Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAIQDHBKVW2SOAPDQQ/20210509/af-south-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a5f96d342071a748ca6a18040bc26b7d79c716948d4a33057fc3d49a44ae7c27'}>\r\n2021-05-09 14:06:44,840 - MainThread - botocore.httpsession - DEBUG - Certificate path: /opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/cacert.pem\r\n2021-05-09 14:06:44,840 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): x-eu-central-1.s3.af-south-1.amazonaws.com:443\r\n2021-05-09 14:06:45,463 - MainThread - urllib3.connectionpool - DEBUG - https://x-eu-central-1.s3.af-south-1.amazonaws.com:443 \"GET /?list-type=2&prefix=&encoding-type=url HTTP/1.1\" 400 None\r\n2021-05-09 14:06:45,465 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-bucket-region': 'eu-central-1', 'x-amz-request-id': 'VK4J8MMA39VD9QRS', 'x-amz-id-2': 'BHpRh4lePPvvlH2DzU0MOiVgb8Vf+X2M47fXW1oE4YPtIIy3+972FpVOJtAA+QnERLMIuuFTO2w=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Sun, 09 May 2021 12:06:44 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}\r\n2021-05-09 14:06:45,465 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>IllegalLocationConstraintException</Code><Message>The eu-central-1 location constraint is incompatible for the region specific endpoint this request was sent to.</Message><RequestId>VK4J8MMA39VD9QRS</RequestId><HostId>BHpRh4lePPvvlH2DzU0MOiVgb8Vf+X2M47fXW1oE4YPtIIy3+972FpVOJtAA+QnERLMIuuFTO2w=</HostId></Error>'\r\n2021-05-09 14:06:45,469 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x1078a4670>>\r\n2021-05-09 14:06:45,469 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2021-05-09 14:06:45,469 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x1078a46a0>>\r\n2021-05-09 14:06:45,470 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x102213ca0>\r\n2021-05-09 14:06:45,470 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function enhance_error_msg at 0x1031d0790>\r\n2021-05-09 14:06:45,470 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x1078a41f0>>\r\n2021-05-09 14:06:45,470 - MainThread - awscli.customizations.s3.results - DEBUG - Exception caught during command execution: An error occurred (IllegalLocationConstraintException) when calling the ListObjectsV2 operation: The eu-central-1 location constraint is incompatible for the region specific endpoint this request was sent to.\r\nTraceback (most recent call last):\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/awscli/customizations/s3/s3handler.py\", line 149, in call\r\n    for fileinfo in fileinfos:\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/awscli/customizations/s3/fileinfobuilder.py\", line 31, in call\r\n    for file_base in files:\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/awscli/customizations/s3/comparator.py\", line 79, in call\r\n    src_file = advance_iterator(src_files)\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/awscli/customizations/s3/filegenerator.py\", line 142, in call\r\n    for src_path, extra_information in file_iterator:\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/awscli/customizations/s3/filegenerator.py\", line 322, in list_objects\r\n    for key in lister.list_objects(bucket=bucket, prefix=prefix,\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/awscli/customizations/s3/utils.py\", line 412, in list_objects\r\n    for page in pages:\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/paginate.py\", line 255, in __iter__\r\n    response = self._make_request(current_kwargs)\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/paginate.py\", line 332, in _make_request\r\n    return self._method(**current_kwargs)\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/client.py\", line 249, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/opt/homebrew/Cellar/awscli/2.2.3/libexec/lib/python3.9/site-packages/botocore/client.py\", line 568, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (IllegalLocationConstraintException) when calling the ListObjectsV2 operation: The eu-central-1 location constraint is incompatible for the region specific endpoint this request was sent to.\r\nfatal error: An error occurred (IllegalLocationConstraintException) when calling the ListObjectsV2 operation: The eu-central-1 location constraint is incompatible for the region specific endpoint this request was sent to.\r\n2021-05-09 14:06:45,472 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.\r\n```\r\n\r\n**Additional context**\r\n- The problem occurs with the regions af-south-1, eu-south-1, me-south-1, ap-east-1\r\n- the problem does *not* occur with aws cli v1.\r\n- In the debug log you can see the list objects for the bucket `x-eu-central-1` is sent to the `af-south-1` endpoint `https://x-eu-central-1.s3.af-south-1.amazonaws.com:443` instead of  `https://x-eu-central-1.s3.eu-central-1.amazonaws.com:443` AFAIK.\r\n- I tried to create a PR. but the code is very hard to understand.\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6132", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6132/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6132/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6132/events", "html_url": "https://github.com/aws/aws-cli/issues/6132", "id": 871491478, "node_id": "MDU6SXNzdWU4NzE0OTE0Nzg=", "number": 6132, "title": "Need to display ALL availability zones regardless of opt-in status and even if the Region is not enabled", "user": {"login": "henrylsu", "id": 60517901, "node_id": "MDQ6VXNlcjYwNTE3OTAx", "avatar_url": "https://avatars.githubusercontent.com/u/60517901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henrylsu", "html_url": "https://github.com/henrylsu", "followers_url": "https://api.github.com/users/henrylsu/followers", "following_url": "https://api.github.com/users/henrylsu/following{/other_user}", "gists_url": "https://api.github.com/users/henrylsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/henrylsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henrylsu/subscriptions", "organizations_url": "https://api.github.com/users/henrylsu/orgs", "repos_url": "https://api.github.com/users/henrylsu/repos", "events_url": "https://api.github.com/users/henrylsu/events{/privacy}", "received_events_url": "https://api.github.com/users/henrylsu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 81772671, "node_id": "MDU6TGFiZWw4MTc3MjY3MQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}, {"id": 311028377, "node_id": "MDU6TGFiZWwzMTEwMjgzNzc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ec2", "name": "ec2", "color": "ff5500", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-04-29T20:40:16Z", "updated_at": "2021-05-24T17:07:14Z", "closed_at": "2021-05-24T17:06:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nThe documentation says that: aws ec2 describe-availability-zones --all-availability-zones\r\nwill describe the Availability Zones regardless of the opt-in status.\r\n\r\nHowever when I run this commands, it only shows the wavelength and local zones.  I am specifically looking for the AZ's in:\r\naf-south-1\r\nap-northeast-3\r\neu-south-1 \r\n\r\n**SDK version number**\r\na483e7108f6a:~ henrsu$ aws --version\r\naws-cli/1.16.296 Python/2.7.16 Darwin/18.7.0 botocore/1.13.32\r\n\r\n**Platform/OS/Hardware/Device**\r\nI've tried a Cloud9 IDE environment, my EC2 instance (Linux 8), and my Macbook terminal\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior:\r\naws ec2 describe-availability-zones --all-availability-zones\r\naws ec2 describe-availability-zones --region eu-south-1\r\nAn error occurred (AuthFailure) when calling the DescribeAvailabilityZones operation: AWS was not able to validate the provided access credentials\r\naws ec2 describe-availability-zones --endpoint-url \"https://ec2.me-south-1.amazonaws.com\"\r\nAn error occurred (AuthFailure) when calling the DescribeAvailabilityZones operation: AWS was not able to validate the provided access credentials\r\n\r\n**Expected behavior**\r\nWe want to see a list of all the Availability Zones for EVERY region, ie. \r\naws ec2 describe-regions --all-regions\r\n\r\nThe newer regions make you enable it but we don't want to do that to generate a simple list of all the Availability Zones\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\na483e7108f6a:~ henrsu$ aws ec2 describe-availability-zones --region eu-south-1 --debug\r\n2021-04-29 16:38:31,947 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.16.296 Python/2.7.16 Darwin/18.7.0 botocore/1.13.32\r\n2021-04-29 16:38:31,947 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['ec2', 'describe-availability-zones', '--region', 'eu-south-1', '--debug']\r\n2021-04-29 16:38:31,947 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x103a27668>\r\n2021-04-29 16:38:31,947 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x1032e3488>\r\n2021-04-29 16:38:31,947 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x10333fde8>\r\n2021-04-29 16:38:31,951 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x1035f8938>\r\n2021-04-29 16:38:31,958 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws/lib/python2.7/site-packages/botocore/data/ec2/2016-11-15/service-2.json\r\n2021-04-29 16:38:32,093 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <functools.partial object at 0x1031c1fc8>\r\n2021-04-29 16:38:32,093 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-instance\r\n2021-04-29 16:38:32,093 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-volume\r\n2021-04-29 16:38:32,093 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <function add_waiters at 0x103a2e668>\r\n2021-04-29 16:38:32,101 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws/lib/python2.7/site-packages/botocore/data/ec2/2016-11-15/waiters-2.json\r\n2021-04-29 16:38:32,104 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'filters', <awscli.arguments.ListArgument object at 0x10601d050>), (u'zone-names', <awscli.arguments.ListArgument object at 0x10601d190>), (u'zone-ids', <awscli.arguments.ListArgument object at 0x10601d1d0>), (u'all-availability-zones', <awscli.arguments.BooleanArgument object at 0x10601d210>), (u'no-all-availability-zones', <awscli.arguments.BooleanArgument object at 0x10601d250>), (u'dry-run', <awscli.arguments.BooleanArgument object at 0x10601d290>), (u'no-dry-run', <awscli.arguments.BooleanArgument object at 0x10601d2d0>)])\r\n2021-04-29 16:38:32,105 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-availability-zones: calling handler <function add_streaming_output_arg at 0x103a27938>\r\n2021-04-29 16:38:32,105 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-availability-zones: calling handler <function _rename_arg at 0x103a5a8c0>\r\n2021-04-29 16:38:32,105 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-availability-zones: calling handler <function _rename_arg at 0x103a68758>\r\n2021-04-29 16:38:32,105 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-availability-zones: calling handler <functools.partial object at 0x103a440a8>\r\n2021-04-29 16:38:32,105 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-availability-zones: calling handler <function add_cli_input_json at 0x10334e578>\r\n2021-04-29 16:38:32,106 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-availability-zones: calling handler <function unify_paging_params at 0x1039ab488>\r\n2021-04-29 16:38:32,114 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws/lib/python2.7/site-packages/botocore/data/ec2/2016-11-15/paginators-1.json\r\n2021-04-29 16:38:32,117 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-availability-zones: calling handler <function add_generate_skeleton at 0x103689d70>\r\n2021-04-29 16:38:32,117 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.describe-availability-zones: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x103b5cb50>>\r\n2021-04-29 16:38:32,117 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.describe-availability-zones: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x10601d790>>\r\n2021-04-29 16:38:32,118 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.ec2.describe-availability-zones: calling handler <functools.partial object at 0x105fe93c0>\r\n2021-04-29 16:38:32,118 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-availability-zones.filters: calling handler <awscli.paramfile.URIArgumentHandler object at 0x103b5c390>\r\n2021-04-29 16:38:32,119 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-availability-zones.zone-names: calling handler <awscli.paramfile.URIArgumentHandler object at 0x103b5c390>\r\n2021-04-29 16:38:32,119 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-availability-zones.zone-ids: calling handler <awscli.paramfile.URIArgumentHandler object at 0x103b5c390>\r\n2021-04-29 16:38:32,119 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-availability-zones.all-availability-zones: calling handler <awscli.paramfile.URIArgumentHandler object at 0x103b5c390>\r\n2021-04-29 16:38:32,119 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-availability-zones.dry-run: calling handler <awscli.paramfile.URIArgumentHandler object at 0x103b5c390>\r\n2021-04-29 16:38:32,119 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-availability-zones.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x103b5c390>\r\n2021-04-29 16:38:32,119 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-availability-zones.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x103b5c390>\r\n2021-04-29 16:38:32,120 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-availability-zones: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x103b5cb50>>\r\n2021-04-29 16:38:32,120 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-availability-zones: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x10601d790>>\r\n2021-04-29 16:38:32,120 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2021-04-29 16:38:32,120 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2021-04-29 16:38:32,120 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2021-04-29 16:38:32,120 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2021-04-29 16:38:32,120 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2021-04-29 16:38:32,121 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws/lib/python2.7/site-packages/botocore/data/endpoints.json\r\n2021-04-29 16:38:32,151 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x102e8f848>\r\n2021-04-29 16:38:32,162 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x102e27f50>\r\n2021-04-29 16:38:32,162 - MainThread - botocore.regions - DEBUG - Creating a regex based endpoint for ec2, eu-south-1\r\n2021-04-29 16:38:32,165 - MainThread - botocore.endpoint - DEBUG - Setting ec2 timeout as (60, 60)\r\n2021-04-29 16:38:32,166 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws/lib/python2.7/site-packages/botocore/data/_retry.json\r\n2021-04-29 16:38:32,168 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: ec2\r\n2021-04-29 16:38:32,170 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ec2.DescribeAvailabilityZones: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x102e54e90>>\r\n2021-04-29 16:38:32,170 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ec2.DescribeAvailabilityZones: calling handler <function generate_idempotent_uuid at 0x102e8faa0>\r\n2021-04-29 16:38:32,170 - MainThread - botocore.hooks - DEBUG - Event before-call.ec2.DescribeAvailabilityZones: calling handler <function inject_api_version_header_if_needed at 0x102e921b8>\r\n2021-04-29 16:38:32,170 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=DescribeAvailabilityZones) with params: {'body': {'Action': u'DescribeAvailabilityZones', 'Version': u'2016-11-15'}, 'url': u'https://ec2.eu-south-1.amazonaws.com/', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'aws-cli/1.16.296 Python/2.7.16 Darwin/18.7.0 botocore/1.13.32'}, 'context': {'auth_type': None, 'client_region': u'eu-south-1', 'has_streaming_input': False, 'client_config': <botocore.config.Config object at 0x106512f10>}, 'query_string': '', 'url_path': '/', 'method': u'POST'}\r\n2021-04-29 16:38:32,170 - MainThread - botocore.hooks - DEBUG - Event request-created.ec2.DescribeAvailabilityZones: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x106512ed0>>\r\n2021-04-29 16:38:32,170 - MainThread - botocore.hooks - DEBUG - Event choose-signer.ec2.DescribeAvailabilityZones: calling handler <function set_operation_specific_signer at 0x102e8f9b0>\r\n2021-04-29 16:38:32,171 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2021-04-29 16:38:32,171 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-www-form-urlencoded; charset=utf-8\r\nhost:ec2.eu-south-1.amazonaws.com\r\nx-amz-date:20210429T203832Z\r\n\r\ncontent-type;host;x-amz-date\r\n2bd59c58bf8c2bcc1c39ea3a5a38bb7cd5a643758cbd1b78a746d3a3aa5c1580\r\n2021-04-29 16:38:32,171 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20210429T203832Z\r\n20210429/eu-south-1/ec2/aws4_request\r\n1008b239006f3169bd8de57409bae7ad4f7c3b2eb2564ea412e97577a6884614\r\n2021-04-29 16:38:32,171 - MainThread - botocore.auth - DEBUG - Signature:\r\ne0352133eb3f4c3fdbcf85c92a7df78a17019c674e3a14fb7cb38344ed5ae23b\r\n2021-04-29 16:38:32,171 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.eu-south-1.amazonaws.com/, headers={'Content-Length': '51', 'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'Authorization': 'AWS4-HMAC-SHA256 Credential=AKIATLXUEIZWFVBHE55P/20210429/eu-south-1/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=e0352133eb3f4c3fdbcf85c92a7df78a17019c674e3a14fb7cb38344ed5ae23b', 'X-Amz-Date': '20210429T203832Z', 'User-Agent': 'aws-cli/1.16.296 Python/2.7.16 Darwin/18.7.0 botocore/1.13.32'}>\r\n2021-04-29 16:38:32,172 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): ec2.eu-south-1.amazonaws.com:443\r\n2021-04-29 16:38:32,608 - MainThread - urllib3.connectionpool - DEBUG - https://ec2.eu-south-1.amazonaws.com:443 \"POST / HTTP/1.1\" 401 None\r\n2021-04-29 16:38:32,609 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-requestid': '61209d0c-a53a-495c-af84-4e6738311253', 'Transfer-Encoding': 'chunked', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Server': 'AmazonEC2', 'Cache-Control': 'no-cache, no-store', 'Date': 'Thu, 29 Apr 2021 20:38:31 GMT'}\r\n2021-04-29 16:38:32,609 - MainThread - botocore.parsers - DEBUG - Response body:\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<Response><Errors><Error><Code>AuthFailure</Code><Message>AWS was not able to validate the provided access credentials</Message></Error></Errors><RequestID>61209d0c-a53a-495c-af84-4e6738311253</RequestID></Response>\r\n2021-04-29 16:38:32,610 - MainThread - botocore.hooks - DEBUG - Event needs-retry.ec2.DescribeAvailabilityZones: calling handler <botocore.retryhandler.RetryHandler object at 0x106521ed0>\r\n2021-04-29 16:38:32,610 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2021-04-29 16:38:32,625 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 358, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 530, in __call__\r\n    call_parameters, parsed_globals)\r\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 650, in invoke\r\n    client, operation_name, parameters, parsed_globals)\r\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 662, in _make_client_call\r\n    **parameters)\r\n  File \"/usr/local/aws/lib/python2.7/site-packages/botocore/client.py\", line 272, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/aws/lib/python2.7/site-packages/botocore/client.py\", line 576, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nClientError: An error occurred (AuthFailure) when calling the DescribeAvailabilityZones operation: AWS was not able to validate the provided access credentials\r\n2021-04-29 16:38:32,628 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\nAn error occurred (AuthFailure) when calling the DescribeAvailabilityZones operation: AWS was not able to validate the provided access credentials\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6132/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6132/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6121", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6121/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6121/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6121/events", "html_url": "https://github.com/aws/aws-cli/issues/6121", "id": 867365760, "node_id": "MDU6SXNzdWU4NjczNjU3NjA=", "number": 6121, "title": "Bug in filtering in  aws greengrassv2 list-core-devices with multiple thing group memberships", "user": {"login": "FredrikMeyer", "id": 1738405, "node_id": "MDQ6VXNlcjE3Mzg0MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1738405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FredrikMeyer", "html_url": "https://github.com/FredrikMeyer", "followers_url": "https://api.github.com/users/FredrikMeyer/followers", "following_url": "https://api.github.com/users/FredrikMeyer/following{/other_user}", "gists_url": "https://api.github.com/users/FredrikMeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/FredrikMeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FredrikMeyer/subscriptions", "organizations_url": "https://api.github.com/users/FredrikMeyer/orgs", "repos_url": "https://api.github.com/users/FredrikMeyer/repos", "events_url": "https://api.github.com/users/FredrikMeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/FredrikMeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2949400450, "node_id": "MDU6TGFiZWwyOTQ5NDAwNDUw", "url": "https://api.github.com/repos/aws/aws-cli/labels/greengrass", "name": "greengrass", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-04-26T07:30:48Z", "updated_at": "2022-11-14T21:27:10Z", "closed_at": "2022-11-14T21:26:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\r\nI have two IoT things that are in a different groups `A`, `B`, and I created a new one `C `and added both things to that group.\r\n\r\nWhen I try\r\n```\r\naws greengrassv2 list-core-devices --thing-group-arn arn:aws:iot:eu-west-1:123:thinggroup/C\r\n```\r\n\r\nI get an empty list, even though the group `C` contains two members.\r\n\r\n\r\n**SDK version number**\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\n```\r\naws-cli/2.1.32 Python/3.8.8 Darwin/20.3.0 exe/x86_64 prompt/off\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6106", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6106/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6106/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6106/events", "html_url": "https://github.com/aws/aws-cli/issues/6106", "id": 862940044, "node_id": "MDU6SXNzdWU4NjI5NDAwNDQ=", "number": 6106, "title": "AWS cloudformation deploy command unable to create changeset when deleting and recreating dynamic reference", "user": {"login": "tongak", "id": 43419461, "node_id": "MDQ6VXNlcjQzNDE5NDYx", "avatar_url": "https://avatars.githubusercontent.com/u/43419461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tongak", "html_url": "https://github.com/tongak", "followers_url": "https://api.github.com/users/tongak/followers", "following_url": "https://api.github.com/users/tongak/following{/other_user}", "gists_url": "https://api.github.com/users/tongak/gists{/gist_id}", "starred_url": "https://api.github.com/users/tongak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tongak/subscriptions", "organizations_url": "https://api.github.com/users/tongak/orgs", "repos_url": "https://api.github.com/users/tongak/repos", "events_url": "https://api.github.com/users/tongak/events{/privacy}", "received_events_url": "https://api.github.com/users/tongak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2021-04-20T15:27:53Z", "updated_at": "2021-07-20T17:53:19Z", "closed_at": "2021-07-20T17:52:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nUpdating a dynamic reference in cloudformation stored in parameter store by deleting and recreating the parameter causes the aws cloudformation deploy command to throw the following error when try to create a changeset.\r\n\r\nFailed to create the changeset: Waiter ChangeSetCreateComplete failed: Waiter encountered a terminal failure state: For expression \"Status\" we matched expected path: \"FAILED\" Status: FAILED. Reason: Parameters: [ssm:parameter:1:16188..] were updated before values were used\r\n\r\n**SDK version number**\r\naws-cli/2.1.19 Python/3.7.3\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nLinux/WSL Windows Surface Laptop\r\nAlso not working in our codebuild project using the image aws/codebuild/standard:4.0.\r\n\r\n**To Reproduce (observed behavior)**\r\n1. Deploy a cloudformation template that has a dynamic reference to a parameter stored in parameter store using the aws cloudformation deploy command. (i.e. '{{resolve:ssm:/test/parameter:1}}')\r\n2. Delete the parameter in parameter store and recreate the same parameter with the same name\r\n3. Update the stack using the aws cloudformation deploy command. (You must update a property in one of the resources or cloudformation will think that nothing has changed.)\r\n4. The command will start a changeset and then return the error above.\r\n\r\n**Expected behavior**\r\nThe aws cloudformation deploy commands updates the stack with the new parameters without any errors.\r\n\r\n**Logs/output**\r\nThe output is long with the debug command. I am pasting the last bit of the log.\r\n2021-04-20 09:16:45,463 - MainThread - awscli.customizations.cloudformation.deployer - DEBUG - Create changeset waiter exception\r\nTraceback (most recent call last):\r\n  File \"awscli/customizations/cloudformation/deployer.py\", line 163, in wait_for_changeset\r\n  File \"botocore/waiter.py\", line 53, in wait\r\n  File \"botocore/waiter.py\", line 346, in wait\r\nbotocore.exceptions.WaiterError: Waiter ChangeSetCreateComplete failed: Waiter encountered a terminal failure state: For expression \"Status\" we matched expected path: \"FAILED\"\r\n2021-04-20 09:16:45,469 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"awscli/customizations/cloudformation/deployer.py\", line 163, in wait_for_changeset\r\n  File \"botocore/waiter.py\", line 53, in wait\r\n  File \"botocore/waiter.py\", line 346, in wait\r\nbotocore.exceptions.WaiterError: Waiter ChangeSetCreateComplete failed: Waiter encountered a terminal failure state: For expression \"Status\" we matched expected path: \"FAILED\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 457, in main\r\n  File \"awscli/clidriver.py\", line 586, in __call__\r\n  File \"awscli/customizations/commands.py\", line 191, in __call__\r\n  File \"awscli/customizations/cloudformation/deploy.py\", line 357, in _run_main\r\n  File \"awscli/customizations/cloudformation/deploy.py\", line 372, in deploy\r\n  File \"awscli/customizations/cloudformation/deployer.py\", line 227, in create_and_wait_for_changeset\r\n  File \"awscli/customizations/cloudformation/deployer.py\", line 178, in wait_for_changeset\r\nRuntimeError: Failed to create the changeset: Waiter ChangeSetCreateComplete failed: Waiter encountered a terminal failure state: For expression \"Status\" we matched expected path: \"FAILED\" Status: FAILED. Reason: Parameters: [ssm:/test/parameter:1:1618.....] were updated before values were used\r\n\r\n**Additional context**\r\nThis might be related to the new release of allowing dynamic reference in parameter store to not require a version number. I also used the --no-execute-changeset flag in the command and it still returned the same error.\r\nUsing the aws cloudformation update-stack does not cause this error. The error seems to happens when a changeset it required first before deployment.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6106/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6106/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/6073", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/6073/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/6073/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/6073/events", "html_url": "https://github.com/aws/aws-cli/issues/6073", "id": 852635045, "node_id": "MDU6SXNzdWU4NTI2MzUwNDU=", "number": 6073, "title": "Appflow Error on ValidationException", "user": {"login": "gtjones73", "id": 19311744, "node_id": "MDQ6VXNlcjE5MzExNzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/19311744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtjones73", "html_url": "https://github.com/gtjones73", "followers_url": "https://api.github.com/users/gtjones73/followers", "following_url": "https://api.github.com/users/gtjones73/following{/other_user}", "gists_url": "https://api.github.com/users/gtjones73/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtjones73/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtjones73/subscriptions", "organizations_url": "https://api.github.com/users/gtjones73/orgs", "repos_url": "https://api.github.com/users/gtjones73/repos", "events_url": "https://api.github.com/users/gtjones73/events{/privacy}", "received_events_url": "https://api.github.com/users/gtjones73/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2896717781, "node_id": "MDU6TGFiZWwyODk2NzE3Nzgx", "url": "https://api.github.com/repos/aws/aws-cli/labels/appflow", "name": "appflow", "color": "FCF340", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-04-07T17:30:19Z", "updated_at": "2021-09-20T19:18:44Z", "closed_at": "2021-09-20T19:18:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "The command behaves inconsistent with my reading of the documentation.\r\n\r\nFAILS\r\naws appflow list-flows  --profile qaedp --region us-east-2\r\nAn error occurred (ValidationException) when calling the ListFlows operation: The request object must be non-null\r\n\r\nWORKS\r\naws appflow list-flows  --profile qaedp --region us-east-2 --max-result 1\r\n{\r\n    \"flows\": [\r\n        {...", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/6073/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/6073/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5997", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5997/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5997/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5997/events", "html_url": "https://github.com/aws/aws-cli/issues/5997", "id": 824030915, "node_id": "MDU6SXNzdWU4MjQwMzA5MTU=", "number": 5997, "title": "MFA prompt not displayed with certain CLI commands", "user": {"login": "Pl4nky", "id": 12206675, "node_id": "MDQ6VXNlcjEyMjA2Njc1", "avatar_url": "https://avatars.githubusercontent.com/u/12206675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pl4nky", "html_url": "https://github.com/Pl4nky", "followers_url": "https://api.github.com/users/Pl4nky/followers", "following_url": "https://api.github.com/users/Pl4nky/following{/other_user}", "gists_url": "https://api.github.com/users/Pl4nky/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pl4nky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pl4nky/subscriptions", "organizations_url": "https://api.github.com/users/Pl4nky/orgs", "repos_url": "https://api.github.com/users/Pl4nky/repos", "events_url": "https://api.github.com/users/Pl4nky/events{/privacy}", "received_events_url": "https://api.github.com/users/Pl4nky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-07T21:53:30Z", "updated_at": "2021-05-06T17:28:19Z", "closed_at": "2021-05-06T17:27:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "aws-cli/2.1.18 Python/3.7.9 Windows/7 exe/AMD64 prompt/off\r\n\r\nCertain CLI commands will not display an MFA prompt, when MFA is configured in the .aws\\config file.  For example,  I have the following configured in .aws\\config\r\n\r\n```\r\n[profile TEST]\r\nrole_arn = arn:aws:iam::1234567890:role/myrole\r\nsource_profile = master\r\nmfa_serial = arn:aws:iam::1234567890:mfa/testmfa\r\nregion = ap-southeast-2\r\n```\r\n\r\nI run the following command:\r\n\r\n`aws cloudwatch describe-alarms --profile TEST`\r\n\r\nThis result in a blinking cursor, no prompt. I had assumed the cmd had hung, as it would never timeout or display an error.  Pressing ctrl + c doesn't appear to do anything, but I found you had to press enter to be returned back to the prompt. \r\n\r\nThe expected behavior is for the following text to be displayed:\r\n\r\n`Enter MFA code for arn:aws:iam::1234567890:mfa/testmfa`\r\n\r\nThere are two workarounds:\r\n\r\n1. The mfa code can still be entered despite the prompt text not being displayed and the results returned. \r\n2. Add --no-cli-pager to the the cli command, which then displays the MFA prompt correctly. \r\n\r\nOther commands (such as AWS S3 LS --profile TEST) correctly displays the prompt (assuming MFA auth is required again, which you can force by clearing the .aws\\cli\\cache folder or wait for the session to timeout)\r\n\r\nTested on Windows 7 and Windows 10 and same behavior occurs. ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5986", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5986/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5986/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5986/events", "html_url": "https://github.com/aws/aws-cli/issues/5986", "id": 821404039, "node_id": "MDU6SXNzdWU4MjE0MDQwMzk=", "number": 5986, "title": "\"aws eks update-kubeconfig\" generates invalid yaml when existing configuration is updated.", "user": {"login": "krunalnsoni", "id": 58085026, "node_id": "MDQ6VXNlcjU4MDg1MDI2", "avatar_url": "https://avatars.githubusercontent.com/u/58085026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krunalnsoni", "html_url": "https://github.com/krunalnsoni", "followers_url": "https://api.github.com/users/krunalnsoni/followers", "following_url": "https://api.github.com/users/krunalnsoni/following{/other_user}", "gists_url": "https://api.github.com/users/krunalnsoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/krunalnsoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krunalnsoni/subscriptions", "organizations_url": "https://api.github.com/users/krunalnsoni/orgs", "repos_url": "https://api.github.com/users/krunalnsoni/repos", "events_url": "https://api.github.com/users/krunalnsoni/events{/privacy}", "received_events_url": "https://api.github.com/users/krunalnsoni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-03-03T19:12:07Z", "updated_at": "2021-03-03T23:27:17Z", "closed_at": "2021-03-03T23:26:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version:\r\nTested on `1.19.19` and `1.19.1` for Linux.\r\n\r\nThis is a duplicate of https://github.com/aws/aws-cli/issues/5854 with further details.\r\n\r\nRunning `aws eks update-kubeconfig` command second time creates invalid yaml. \r\n\r\nHere is the output of commands showing invalid yaml. See the last line `:[REDACTED]:role/[REDACTED]` which has AWS account number and role name redacted.\r\n\r\nOutput for 1.19.19 \r\n```\r\n> aws --version\r\naws-cli/1.19.19 Python/3.8.2 Linux/4.19.121-linuxkit botocore/1.20.19\r\n```\r\n\r\n```\r\n> aws eks update-kubeconfig --name [REDACTED] --verbose\r\nUpdated context arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED] in /root/.kube/config\r\nEntries:\r\n\r\ncontext:\r\n  cluster: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\n  user: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\nname: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\n\r\nname: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\nuser:\r\n  exec:\r\n    apiVersion: client.authentication.k8s.io/v1alpha1\r\n    args:\r\n    - --region\r\n    - us-west-2\r\n    - eks\r\n    - get-token\r\n    - --cluster-name\r\n    - [REDACTED]\r\n    command: aws\r\n    env:\r\n    - name: AWS_PROFILE\r\n      value: arn:aws:iam::[REDACTED]:role/[REDACTED]\r\n\r\ncluster:\r\n  certificate-authority-data: [REDACTED]\r\n  server: https://[REDACTED].us-west-2.eks.amazonaws.com\r\nname: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\n\r\n> kubectl version \r\nerror: error loading config file \"/root/.kube/config\": yaml: line 32: could not find expected ':'\r\n\r\n> more ~/.kube/config \r\napiVersion: v1\r\nclusters:\r\n- cluster:\r\n    certificate-authority-data: [REDACTED]\r\n  name: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\ncontexts:\r\n- context:\r\n    cluster: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\n    user: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\n  name: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\ncurrent-context: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\nkind: Config\r\npreferences: {}\r\nusers:\r\n- name: arn:aws:eks:us-west-2:[REDACTED]:cluster/[REDACTED]\r\n  user:\r\n    exec:\r\n      apiVersion: client.authentication.k8s.io/v1alpha1\r\n      args:\r\n      - --region\r\n      - us-west-2\r\n      - eks\r\n      - get-token\r\n      - --cluster-name\r\n      - [REDACTED]\r\n      command: aws\r\n      env:\r\n      - name: AWS_PROFILE\r\n        value: arn:aws:iam::[REDACTED]:role/[REDACTED]\r\n:[REDACTED]:role/[REDACTED]\r\n```\r\nDeleting `~/.kube/config` and retrying the command produces valid yaml file.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5986/reactions", "total_count": 5, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5985", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5985/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5985/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5985/events", "html_url": "https://github.com/aws/aws-cli/issues/5985", "id": 820663358, "node_id": "MDU6SXNzdWU4MjA2NjMzNTg=", "number": 5985, "title": "AWS CLI v2 aws glacier get-job-output fails if job ID starts with hyphen", "user": {"login": "phistrom", "id": 1495504, "node_id": "MDQ6VXNlcjE0OTU1MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1495504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phistrom", "html_url": "https://github.com/phistrom", "followers_url": "https://api.github.com/users/phistrom/followers", "following_url": "https://api.github.com/users/phistrom/following{/other_user}", "gists_url": "https://api.github.com/users/phistrom/gists{/gist_id}", "starred_url": "https://api.github.com/users/phistrom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phistrom/subscriptions", "organizations_url": "https://api.github.com/users/phistrom/orgs", "repos_url": "https://api.github.com/users/phistrom/repos", "events_url": "https://api.github.com/users/phistrom/events{/privacy}", "received_events_url": "https://api.github.com/users/phistrom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-03-03T04:07:23Z", "updated_at": "2021-03-03T21:18:42Z", "closed_at": "2021-03-03T21:18:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nThe following command gives the error `aws.exe: error: argument --job-id: expected one argument`\r\nIt seems to be related to the fact that the job ID starts with a hyphen.\r\n```\r\naws glacier get-job-output --vault-name Some-Vault --account-id - --job-id \"-0Bl0xNXREb7Y-xJAdqPitPZ28ehLPom-Gd_8m5aTyoujAtu-MlKuaBqZQh1oAzGj7GIcXNMUjfssKg0vSA-CLwr1X8B\" output.json\r\n```\r\n\r\n**SDK version number**\r\n`aws-cli/2.1.27 Python/3.7.9 Windows/10 exe/AMD64 prompt/off`\r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows 10 Pro 20H2 x64\r\n\r\n**To Reproduce (observed behavior)**\r\nSee above command\r\n\r\n**Expected behavior**\r\nFor the CLI to not complain about a missing argument\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n```\r\n2021-03-02 21:40:25,801 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.1.27 Python/3.7.9 Windows/10 exe/AMD64\r\n2021-03-02 21:40:25,801 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['glacier', 'get-job-output', '--debug', '--vault-name', 'Some-Vault', '--account-id', '-', '--job-id', '-0Bl0xNXREb7Y-xJAdqPitPZ28ehLPom-Gd_8m5aTyoujAtu-MlKuaBqZQh1oAzGj7GIcXNMUjfssKg0vSA-CLwr1X8B']\r\n2021-03-02 21:40:25,847 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_s3 at 0x0000014EABBFB3A8>\r\n2021-03-02 21:40:25,847 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_ddb at 0x0000014EAB266F78>\r\n2021-03-02 21:40:25,847 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.configure.configure.ConfigureCommand'>>\r\n2021-03-02 21:40:25,847 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x0000014EAB205EE8>\r\n2021-03-02 21:40:25,847 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function change_name at 0x0000014EAB20F678>\r\n2021-03-02 21:40:25,847 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function alias_opsworks_cm at 0x0000014EABC0C3A8>\r\n2021-03-02 21:40:25,848 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_history_commands at 0x0000014EAB2B14C8>\r\n2021-03-02 21:40:25,848 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <bound method BasicCommand.add_command of <class 'awscli.customizations.devcommands.CLIDevCommand'>>\r\n2021-03-02 21:40:25,848 - MainThread - botocore.hooks - DEBUG - Event building-command-table.main: calling handler <function add_waiters at 0x0000014EABC0CA68>\r\n2021-03-02 21:40:25,848 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\awscli\\data\\cli.json\r\n2021-03-02 21:40:25,850 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_types at 0x0000014EAB369708>\r\n2021-03-02 21:40:25,850 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function no_sign_request at 0x0000014EAB3699D8>\r\n2021-03-02 21:40:25,850 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_verify_ssl at 0x0000014EAB369948>\r\n2021-03-02 21:40:25,850 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_read_timeout at 0x0000014EAB369AF8>\r\n2021-03-02 21:40:25,850 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <function resolve_cli_connect_timeout at 0x0000014EAB369A68>\r\n2021-03-02 21:40:25,850 - MainThread - botocore.hooks - DEBUG - Event top-level-args-parsed: calling handler <built-in method update of dict object at 0x0000014EABCB6E58>\r\n2021-03-02 21:40:25,851 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.1.27 Python/3.7.9 Windows/10 exe/AMD64 prompt/off\r\n2021-03-02 21:40:25,851 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['glacier', 'get-job-output', '--debug', '--vault-name', 'Some-Vault', '--account-id', '-', '--job-id', '-0Bl0xNXREb7Y-xJAdqPitPZ28ehLPom-Gd_8m5aTyoujAtu-MlKuaBqZQh1oAzGj7GIcXNMUjfssKg0vSA-CLwr1X8B']\r\n2021-03-02 21:40:25,852 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x0000014EABBFBF78>\r\n2021-03-02 21:40:25,852 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x0000014EAB008048>\r\n2021-03-02 21:40:25,852 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x0000014EABC6D828>\r\n2021-03-02 21:40:25,852 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function no_pager_handler at 0x0000014EAAFAADC8>\r\n2021-03-02 21:40:25,853 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x0000014EAB02DB88>\r\n2021-03-02 21:40:25,854 - MainThread - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/\r\n2021-03-02 21:40:25,855 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x0000014EAB2B1558>\r\n2021-03-02 21:40:25,855 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x0000014EAB257EE8>\r\n2021-03-02 21:40:25,900 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\glacier\\2012-06-01\\service-2.json\r\n2021-03-02 21:40:25,903 - MainThread - botocore.hooks - DEBUG - Event building-command-table.glacier: calling handler <function add_waiters at 0x0000014EABC0CA68>\r\n2021-03-02 21:40:25,940 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\glacier\\2012-06-01\\waiters-2.json\r\n2021-03-02 21:40:25,940 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('account-id', <awscli.arguments.CLIArgument object at 0x0000014EABDA7A48>), ('vault-name', <awscli.arguments.CLIArgument object at 0x0000014EABDA7B08>), ('job-id', <awscli.arguments.CLIArgument object at 0x0000014EABDA7B88>), ('range', <awscli.arguments.CLIArgument object at 0x0000014EABDA7B48>)])\r\n2021-03-02 21:40:25,941 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_streaming_output_arg at 0x0000014EABC04168>\r\n2021-03-02 21:40:25,943 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_cli_input_json at 0x0000014EAB034DC8>\r\n2021-03-02 21:40:25,943 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_cli_input_yaml at 0x0000014EAB0345E8>\r\n2021-03-02 21:40:25,944 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function unify_paging_params at 0x0000014EAB26E678>\r\n2021-03-02 21:40:25,988 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\glacier\\2012-06-01\\paginators-1.json\r\n2021-03-02 21:40:25,988 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_generate_skeleton at 0x0000014EAB361708>\r\n2021-03-02 21:40:25,989 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"argparse.py\", line 1787, in parse_known_args\r\n  File \"argparse.py\", line 1993, in _parse_known_args\r\n  File \"argparse.py\", line 1923, in consume_optional\r\n  File \"argparse.py\", line 2088, in _match_argument\r\nargparse.ArgumentError: argument --job-id: expected one argument\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\awscli\\clidriver.py\", line 457, in main\r\n  File \"lib\\site-packages\\awscli\\clidriver.py\", line 586, in __call__\r\n  File \"lib\\site-packages\\awscli\\clidriver.py\", line 721, in __call__\r\n  File \"lib\\site-packages\\awscli\\argparser.py\", line 209, in parse_known_args\r\n  File \"lib\\site-packages\\awscli\\argparser.py\", line 95, in parse_known_args\r\n  File \"argparse.py\", line 1794, in parse_known_args\r\n  File \"lib\\site-packages\\awscli\\argparser.py\", line 128, in error\r\nawscli.argparser.ArgParseException: usage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\n\r\naws: error: argument --job-id: expected one argument\r\n\r\n\r\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\n\r\naws: error: argument --job-id: expected one argument\r\n```\r\n**Additional context**\r\nNow that I see it with the `--debug` flag, it's using argparse under the hood. [Looks like it will work with an = sign.](https://stackoverflow.com/a/52636344/489667)\r\n`aws glacier get-job-output --vault-name Some-Vault --account-id - --job-id=-0Bl0xNXREb7Y-xJAdqPitPZ28ehLPom-Gd_8m5aTyoujAtu-MlKuaBqZQh1oAzGj7GIcXNMUjfssKg0vSA-CLwr1X8B output.json`\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5985/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5981", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5981/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5981/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5981/events", "html_url": "https://github.com/aws/aws-cli/pull/5981", "id": 816951194, "node_id": "MDExOlB1bGxSZXF1ZXN0NTgwNTI1NTY0", "number": 5981, "title": "Pass O_TRUNC when rewriting kubeconfig", "user": {"login": "jcaesar", "id": 1753388, "node_id": "MDQ6VXNlcjE3NTMzODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1753388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcaesar", "html_url": "https://github.com/jcaesar", "followers_url": "https://api.github.com/users/jcaesar/followers", "following_url": "https://api.github.com/users/jcaesar/following{/other_user}", "gists_url": "https://api.github.com/users/jcaesar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcaesar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcaesar/subscriptions", "organizations_url": "https://api.github.com/users/jcaesar/orgs", "repos_url": "https://api.github.com/users/jcaesar/repos", "events_url": "https://api.github.com/users/jcaesar/events{/privacy}", "received_events_url": "https://api.github.com/users/jcaesar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 272109619, "node_id": "MDU6TGFiZWwyNzIxMDk2MTk=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:ready-to-merge", "name": "pr:ready-to-merge", "color": "358F18", "default": false, "description": "This PR is ready to be merged."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-02-26T01:48:28Z", "updated_at": "2021-03-11T00:54:36Z", "closed_at": "2021-03-10T18:44:04Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/5981", "html_url": "https://github.com/aws/aws-cli/pull/5981", "diff_url": "https://github.com/aws/aws-cli/pull/5981.diff", "patch_url": "https://github.com/aws/aws-cli/pull/5981.patch", "merged_at": "2021-03-10T18:44:03Z"}, "body": "*Issue #, if available:*\r\nThe symptoms I'm seeing are the same as in #5854, but I think it was introduced by #5905, so... probably none.\r\n[Edit:] Added after the PR: #5986 \r\n\r\n*Description of changes:*\r\nUpdating `~/.kube/config` with commands like `aws eks --region ap-northeast-1 update-kubeconfig --name foobar` may produce invalid YAML due to an improperly truncated config file, e.g.:\r\n```yaml\r\n- name: zing\r\n  user:\r\n    exec:\r\n      apiVersion: client.authentication.k8s.io/v1alpha1\r\n      args: [] # zing\r\n      env:\r\n      - name: AWS_STS_REGIONAL_ENDPOINTS\r\n        value: regional\r\n      provideClusterInfo: false\r\ne: AWS_STS_REGIONAL_ENDPOINTS\r\n        value: regional\r\n      provideClusterInfo: false\r\n```\r\nor\r\n```yaml\r\n- name: zing\r\n  user:\r\n    exec:\r\n      apiVersion: client.authentication.k8s.io/v1alpha1\r\n      args: [] # zing\r\n      command: aws\r\n      env:\r\n      - name: AWS_STS_REGIONAL_ENDPOINTS\r\n        value: regional\r\nional\r\n```\r\nThis PR fixes that.\r\n\r\nNote: It is possible that another instance of this behavior is at [`configure/writer.py`](https://github.com/aws/aws-cli/blob/19acfed0a6978d717845a0e134e080997bffaa1d/awscli/customizations/configure/writer.py#L76), but I have little idea what the intention of that file is and leave investigating it to someone else.\r\n\r\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5981/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5981/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5974", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5974/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5974/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5974/events", "html_url": "https://github.com/aws/aws-cli/issues/5974", "id": 814489510, "node_id": "MDU6SXNzdWU4MTQ0ODk1MTA=", "number": 5974, "title": "V2.1.28 is being flagged by Windows Security for containing a Trojan", "user": {"login": "xdc7", "id": 4679343, "node_id": "MDQ6VXNlcjQ2NzkzNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4679343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xdc7", "html_url": "https://github.com/xdc7", "followers_url": "https://api.github.com/users/xdc7/followers", "following_url": "https://api.github.com/users/xdc7/following{/other_user}", "gists_url": "https://api.github.com/users/xdc7/gists{/gist_id}", "starred_url": "https://api.github.com/users/xdc7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xdc7/subscriptions", "organizations_url": "https://api.github.com/users/xdc7/orgs", "repos_url": "https://api.github.com/users/xdc7/repos", "events_url": "https://api.github.com/users/xdc7/events{/privacy}", "received_events_url": "https://api.github.com/users/xdc7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 289130201, "node_id": "MDU6TGFiZWwyODkxMzAyMDE=", "url": "https://api.github.com/repos/aws/aws-cli/labels/windows", "name": "windows", "color": "0F81D1", "default": false, "description": ""}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-02-23T13:58:20Z", "updated_at": "2021-03-17T23:24:28Z", "closed_at": "2021-03-17T23:24:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to install v2.1.28 today and It got this trojan alert from Windows Security:\r\n\r\n![image](https://user-images.githubusercontent.com/4679343/108854114-19f1c880-75ad-11eb-839a-5aadbd12d69c.png)\r\n\r\n\r\n\r\nHopefully it's a false positive but just wanted to see if anyone has experienced this before", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5974/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5974/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5973", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5973/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5973/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5973/events", "html_url": "https://github.com/aws/aws-cli/issues/5973", "id": 814323309, "node_id": "MDU6SXNzdWU4MTQzMjMzMDk=", "number": 5973, "title": "AWS-CLI v2.1.28 do not support UTF8 caracters in YAML file anymore", "user": {"login": "shavounet", "id": 2323369, "node_id": "MDQ6VXNlcjIzMjMzNjk=", "avatar_url": "https://avatars.githubusercontent.com/u/2323369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shavounet", "html_url": "https://github.com/shavounet", "followers_url": "https://api.github.com/users/shavounet/followers", "following_url": "https://api.github.com/users/shavounet/following{/other_user}", "gists_url": "https://api.github.com/users/shavounet/gists{/gist_id}", "starred_url": "https://api.github.com/users/shavounet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shavounet/subscriptions", "organizations_url": "https://api.github.com/users/shavounet/orgs", "repos_url": "https://api.github.com/users/shavounet/repos", "events_url": "https://api.github.com/users/shavounet/events{/privacy}", "received_events_url": "https://api.github.com/users/shavounet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289140250, "node_id": "MDU6TGFiZWwyODkxNDAyNTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/unicode", "name": "unicode", "color": "eb6420", "default": false, "description": null}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-02-23T10:22:31Z", "updated_at": "2021-03-04T17:41:40Z", "closed_at": "2021-03-04T17:41:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nIn my CI, a `aws cloudformation deploy` job with an ECS Yaml template that was ok yesterday is failing now with the exact same git commit, and same environment variables.\r\n\r\nError message is `'ascii' codec can't decode byte 0xc3 in position 9868: ordinal not in range(128)`.\r\n\r\nIn my ECS file contains this (1st line only)\r\n```\r\n        Cooldown: 60 # D\u00e9lai d'attente avant une nouvelle op\u00e9ration d'Auto Scaling\r\n                        ^ character 9868\r\n```\r\n\r\n**SDK version number**\r\n- v2.1.28\r\n\r\n**Platform/OS/Hardware/Device**\r\n- Docker image `amazon/aws-cli:latest` (at the time of the writing : v2.1.28)\r\n\r\n**To Reproduce (observed behavior)**\r\n- Create some ECS template with a `\u00e9` character in a comment (or any other non ascii comment ?)\r\n- Trigger the deploy procedure with `docker-compose run aws cloudformation deploy --template ${AWS_ECS_FILE} ...` (supposing you have a docker compose file with service `aws` using image `amazon/aws-cli:2.1.28` )\r\n\r\n**Expected behavior**\r\nCLI output in v2.1.27 with the _exact same file and environment_ is \r\n```\r\nWaiting for changeset to be created..\r\nWaiting for stack create/update to complete\r\nSuccessfully created/updated stack - ECSP\r\n```\r\n\r\n**Logs/output**\r\nNot available due to CI context.\r\n\r\n**Additional context**\r\nNothing else to add\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5973/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5973/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5912", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5912/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5912/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5912/events", "html_url": "https://github.com/aws/aws-cli/issues/5912", "id": 799687357, "node_id": "MDU6SXNzdWU3OTk2ODczNTc=", "number": 5912, "title": "`aws logs tail` timestamp seconds truncated when microseconds would be \"000000\"", "user": {"login": "forevermatt", "id": 6233204, "node_id": "MDQ6VXNlcjYyMzMyMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6233204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/forevermatt", "html_url": "https://github.com/forevermatt", "followers_url": "https://api.github.com/users/forevermatt/followers", "following_url": "https://api.github.com/users/forevermatt/following{/other_user}", "gists_url": "https://api.github.com/users/forevermatt/gists{/gist_id}", "starred_url": "https://api.github.com/users/forevermatt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/forevermatt/subscriptions", "organizations_url": "https://api.github.com/users/forevermatt/orgs", "repos_url": "https://api.github.com/users/forevermatt/repos", "events_url": "https://api.github.com/users/forevermatt/events{/privacy}", "received_events_url": "https://api.github.com/users/forevermatt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2395127410, "node_id": "MDU6TGFiZWwyMzk1MTI3NDEw", "url": "https://api.github.com/repos/aws/aws-cli/labels/logs", "name": "logs", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2021-02-02T21:05:46Z", "updated_at": "2022-04-25T23:23:51Z", "closed_at": "2022-04-25T23:23:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nThe timestamps printed out by `aws logs tail` are inconsistent lengths when the microseconds are exactly 0.\r\n\r\n**SDK version number**\r\naws-cli/2.0.12 Python/3.7.4 Darwin/18.7.0 botocore/2.0.0dev16\r\n\r\n**Platform/OS/Hardware/Device**\r\nMacBook Pro (13-inch, 2016)\r\nmacOS Mojave 10.14.6\r\n\r\n**To Reproduce (observed behavior)**\r\nRun `aws logs tail --since 3h <your log group name>` for a log group with lots of log messages. Scroll through the output looking for entries where the timestamp length is shorter.\r\n\r\nExample of the unexpected output:\r\n```\r\n2021-02-02T19:41:34.553000+00:00 ... log message...\r\n2021-02-02T19:41:35+00:00 ... log message...\r\n2021-02-02T19:41:35.592000+00:00 ... log message...\r\n2021-02-02T19:41:36.088000+00:00 ... log message...\r\n```\r\n\r\n**Expected behavior**\r\nI expected the timestamps to be a consistent length regardless of whether they represent an exact second (no microseconds) or not.\r\n\r\nExample of expected output:\r\n```\r\n2021-02-02T19:41:34.553000+00:00 ... log message...\r\n2021-02-02T19:41:35.000000+00:00 ... log message...\r\n2021-02-02T19:41:35.592000+00:00 ... log message...\r\n2021-02-02T19:41:36.088000+00:00 ... log message...\r\n```\r\n\r\n**Logs/output**\r\nThis seems unnecessary, and would be very hard to provide without exposing a lot of production log messages. If you need some piece of the debug output, please let me know and I will try to provide it.\r\n\r\n**Additional context**\r\n(none)\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5909", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5909/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5909/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5909/events", "html_url": "https://github.com/aws/aws-cli/issues/5909", "id": 799067570, "node_id": "MDU6SXNzdWU3OTkwNjc1NzA=", "number": 5909, "title": "Poor error message when tmp dir is mounted as noexec with CLIv2", "user": {"login": "ctaintor", "id": 113958, "node_id": "MDQ6VXNlcjExMzk1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/113958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctaintor", "html_url": "https://github.com/ctaintor", "followers_url": "https://api.github.com/users/ctaintor/followers", "following_url": "https://api.github.com/users/ctaintor/following{/other_user}", "gists_url": "https://api.github.com/users/ctaintor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctaintor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctaintor/subscriptions", "organizations_url": "https://api.github.com/users/ctaintor/orgs", "repos_url": "https://api.github.com/users/ctaintor/repos", "events_url": "https://api.github.com/users/ctaintor/events{/privacy}", "received_events_url": "https://api.github.com/users/ctaintor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-02-02T08:47:37Z", "updated_at": "2021-09-29T22:01:57Z", "closed_at": "2021-09-29T22:01:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nCurrently if you try to run the CLIv2 in an environment where the tmp directory is mounted `noexec` you get a very confusing error message. This makes it hard to figure out how to fix the issue and also leads to question on why the CLI _needs_ to have tmp mounted with `exec`.\r\n\r\nThis bug is reported in #5047 but it was unfortunately closed since there is a workaround. I opened this to track the poor error message\r\n\r\n**SDK version number**\r\n```\r\naws-cli/2.1.22 Python/3.7.3 Linux/4.14.214-160.339.amzn2.x86_64 exe/x86_64.amzn.2 prompt/off\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\n* Amazon Linux 2 - EC2 (but really any Linux)\r\n\r\n**To Reproduce (observed behavior)**\r\n* create a docker image or EC2 instance that has tmpdir mounted `noexec`. Example can be found in #5047\r\n* run `aws` - you will get output like this\r\n\r\n```shell\r\n$ aws\r\nTraceback (most recent call last):\r\n  File \"PyInstaller/loader/pyiboot01_bootstrap.py\", line 127, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"/codebuild/output/src893450325/src/repos/awscli/.tox/exe/lib/python3.7/site-packages/PyInstaller/loader/pyimod03_importers.py\", line 627, in exec_module\r\n  File \"ctypes/__init__.py\", line 543, in <module>\r\n  File \"ctypes/__init__.py\", line 273, in _reset_cache\r\nMemoryError\r\n[19632] Failed to execute script pyiboot01_bootstrap\r\n```\r\n\r\nthe workaround for now is to set `$TMPDIR` (or `$HOME` since Python will fallback to this for tmpdir)\r\n\r\n```shell\r\n$ TMPDIR=/root aws\r\n\r\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\n\r\naws: error: the following arguments are required: command\r\n```\r\n\r\n**Expected behavior**\r\nI'd expect either:\r\n* the AWS CLI works even when tmpdir is mounted `noexec`\r\nOR\r\n* the error message clearly states the \r\n\r\n**Logs/output**\r\n\r\n\r\n**Additional context**\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5909/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5909/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5902", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5902/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5902/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5902/events", "html_url": "https://github.com/aws/aws-cli/issues/5902", "id": 796085466, "node_id": "MDU6SXNzdWU3OTYwODU0NjY=", "number": 5902, "title": "AWS CLI Docker shows failed for aws cli command without any proper debug message", "user": {"login": "tan31989", "id": 3784194, "node_id": "MDQ6VXNlcjM3ODQxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3784194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tan31989", "html_url": "https://github.com/tan31989", "followers_url": "https://api.github.com/users/tan31989/followers", "following_url": "https://api.github.com/users/tan31989/following{/other_user}", "gists_url": "https://api.github.com/users/tan31989/gists{/gist_id}", "starred_url": "https://api.github.com/users/tan31989/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tan31989/subscriptions", "organizations_url": "https://api.github.com/users/tan31989/orgs", "repos_url": "https://api.github.com/users/tan31989/repos", "events_url": "https://api.github.com/users/tan31989/events{/privacy}", "received_events_url": "https://api.github.com/users/tan31989/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 2220923061, "node_id": "MDU6TGFiZWwyMjIwOTIzMDYx", "url": "https://api.github.com/repos/aws/aws-cli/labels/docker", "name": "docker", "color": "c7ddfc", "default": false, "description": "Issue involves the AWS CLI Docker container image"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-01-28T15:01:49Z", "updated_at": "2021-02-09T05:17:44Z", "closed_at": "2021-02-09T05:16:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen we use the latest dockerhub image for `docker pull amazon/aws-cli`, i.e. the latest at this point being: `docker pull amazon/aws-cli:2.1.21`, we get a message like\r\n\r\n`sh: line 1: 6 Killed aws s3 sync s3://bucket/prefix/ . --debug`\r\n\r\n---\r\n**SDK version number**\r\n\r\n**Platform/OS/Hardware/Device**\r\nRunning a docker\r\n\r\n**To Reproduce (observed behavior)**\r\nPull the docker version 2.1.21 and run the command `s3 sync s3://bucket/prefix/ . --debug`\r\n\r\n**Expected behavior**\r\nShould successfully sync the folder\r\n\r\n---\r\n**Logs/output**\r\nEven after adding `--debug`, I see just the following error:\r\n\r\n`sh: line 1: 6 Killed aws s3 sync s3://bucket/prefix/ . --debug`\r\n\r\n---\r\n\r\n**Additional context**\r\n*After reverting the docker version to 1.2.0, it started working properly*", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5876", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5876/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5876/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5876/events", "html_url": "https://github.com/aws/aws-cli/issues/5876", "id": 788619199, "node_id": "MDU6SXNzdWU3ODg2MTkxOTk=", "number": 5876, "title": "s3 cp \"Cannot allocate memory\" error", "user": {"login": "tthyer", "id": 1972488, "node_id": "MDQ6VXNlcjE5NzI0ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1972488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tthyer", "html_url": "https://github.com/tthyer", "followers_url": "https://api.github.com/users/tthyer/followers", "following_url": "https://api.github.com/users/tthyer/following{/other_user}", "gists_url": "https://api.github.com/users/tthyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/tthyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tthyer/subscriptions", "organizations_url": "https://api.github.com/users/tthyer/orgs", "repos_url": "https://api.github.com/users/tthyer/repos", "events_url": "https://api.github.com/users/tthyer/events{/privacy}", "received_events_url": "https://api.github.com/users/tthyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 37, "created_at": "2021-01-19T00:31:09Z", "updated_at": "2023-04-14T16:22:48Z", "closed_at": "2021-09-29T22:03:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [x] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nECS via Batch. awscliv2 is installed via a launch template.\r\n\r\n**Describe the question**\r\nIntermittently, I get the following error when trying to download a large file (~45-50GB): `download failed...[Errno 12] Cannot allocate memory` as part of a workflow of batch jobs. This is occurring for batch jobs that each have >=3GB of memory specified for each; the last time this occurred, the batch job had 7GB memory allocated.\r\n\r\nThe command being executed looks something like `/usr/local/aws-cli/v2/current/bin/aws s3 cp --no-progress s3://my-s3-bucket/etc/etc/1000.unmapped.unmerged.bam /tmp/scratch/my-s3-bucket/etc/etc/1000.unmapped.unmerged.bam`\r\n\r\nIs the python subprocess causing this? What do you recommend to avoid this while running on AWS Batch/ECS?\r\n\r\n**Logs/output**\r\nThere are no more informative logs atm -- I will put debugging in so that the next time this happens the debug flag is passed.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5866", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5866/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5866/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5866/events", "html_url": "https://github.com/aws/aws-cli/issues/5866", "id": 784763919, "node_id": "MDU6SXNzdWU3ODQ3NjM5MTk=", "number": 5866, "title": "workspaces  list-available-management-cidr-ranges token pattern exception", "user": {"login": "mjavadi", "id": 4448773, "node_id": "MDQ6VXNlcjQ0NDg3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4448773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjavadi", "html_url": "https://github.com/mjavadi", "followers_url": "https://api.github.com/users/mjavadi/followers", "following_url": "https://api.github.com/users/mjavadi/following{/other_user}", "gists_url": "https://api.github.com/users/mjavadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjavadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjavadi/subscriptions", "organizations_url": "https://api.github.com/users/mjavadi/orgs", "repos_url": "https://api.github.com/users/mjavadi/repos", "events_url": "https://api.github.com/users/mjavadi/events{/privacy}", "received_events_url": "https://api.github.com/users/mjavadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 1180550227, "node_id": "MDU6TGFiZWwxMTgwNTUwMjI3", "url": "https://api.github.com/repos/aws/aws-cli/labels/paginator", "name": "paginator", "color": "c7ddfc", "default": false, "description": ""}, {"id": 2661146623, "node_id": "MDU6TGFiZWwyNjYxMTQ2NjIz", "url": "https://api.github.com/repos/aws/aws-cli/labels/workspaces", "name": "workspaces", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-01-13T03:51:21Z", "updated_at": "2021-04-27T02:55:06Z", "closed_at": "2021-04-26T21:07:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nUnable to get the output of the command.\r\n\r\n**SDK version number**\r\naws --version\r\naws-cli/1.18.213 Python/3.8.0 Darwin/19.6.0 botocore/1.19.53\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nOSX Catalina.  can be reproduced in the console cloud shell as well\r\n\r\n**To Reproduce (observed behavior)**\r\naws workspaces list-available-management-cidr-ranges --management-cidr-range-constraint 172.16.0.0/12\r\n\r\nAn error occurred (ValidationException) when calling the ListAvailableManagementCidrRanges operation: 1 validation error detected: Value 'b8eace04-787e-4eff-adfd-eb8845e6b47e' at 'nextToken' failed to satisfy constraint: Member must satisfy regular expression pattern: [A-Za-z0-9+/=]+\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nGet a list of available mgmt cdirs\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5858", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5858/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5858/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5858/events", "html_url": "https://github.com/aws/aws-cli/issues/5858", "id": 782670490, "node_id": "MDU6SXNzdWU3ODI2NzA0OTA=", "number": 5858, "title": "aws wellarchitected list-milestones fails with validation error", "user": {"login": "yossi2cohen", "id": 25908888, "node_id": "MDQ6VXNlcjI1OTA4ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/25908888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yossi2cohen", "html_url": "https://github.com/yossi2cohen", "followers_url": "https://api.github.com/users/yossi2cohen/followers", "following_url": "https://api.github.com/users/yossi2cohen/following{/other_user}", "gists_url": "https://api.github.com/users/yossi2cohen/gists{/gist_id}", "starred_url": "https://api.github.com/users/yossi2cohen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yossi2cohen/subscriptions", "organizations_url": "https://api.github.com/users/yossi2cohen/orgs", "repos_url": "https://api.github.com/users/yossi2cohen/repos", "events_url": "https://api.github.com/users/yossi2cohen/events{/privacy}", "received_events_url": "https://api.github.com/users/yossi2cohen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2652605240, "node_id": "MDU6TGFiZWwyNjUyNjA1MjQw", "url": "https://api.github.com/repos/aws/aws-cli/labels/wellarchitected", "name": "wellarchitected", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-01-09T19:28:08Z", "updated_at": "2021-04-01T22:33:01Z", "closed_at": "2021-04-01T19:35:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nThe wellarchitected service fails on attempt to list all milestones (for a workload, which has two saved milestones).\r\nIt generates this error message:\r\n\"An error occurred (ValidationException) when calling the ListMilestones operation: [Validation] [Unknown error parsing request body]\"\r\n\r\n**SDK version number**\r\naws-cli/2.1.17 Python/3.7.9 Windows/10 exe/AMD64 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\naws-cli/2.1.17 Python/3.7.9 Windows/10 exe/AMD64 prompt/off\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n1. Create a workload in AWS Well-Architected-Tool with all LENS included\r\n2. answer a few questions and save-and-exit\r\n3. save a milestone\r\n4. Type in the following CLI command:\r\naws wellarchitected list-milestones --workload-id <your-workload-id>\r\n\r\n**Expected behavior**\r\nreturns a list of milestones for the specified workload in json format as defined in here:\r\nhttps://docs.aws.amazon.com/cli/latest/reference/wellarchitected/list-milestones.html\r\n\r\n**Logs/output**\r\ncontains sensitive information.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5858/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5854", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5854/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5854/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5854/events", "html_url": "https://github.com/aws/aws-cli/issues/5854", "id": 781173668, "node_id": "MDU6SXNzdWU3ODExNzM2Njg=", "number": 5854, "title": "\"aws eks update-kubeconfig\" runs into \"YamlError while loading kubeconfig: while scanning a simple key\"", "user": {"login": "Mierpo", "id": 22058951, "node_id": "MDQ6VXNlcjIyMDU4OTUx", "avatar_url": "https://avatars.githubusercontent.com/u/22058951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mierpo", "html_url": "https://github.com/Mierpo", "followers_url": "https://api.github.com/users/Mierpo/followers", "following_url": "https://api.github.com/users/Mierpo/following{/other_user}", "gists_url": "https://api.github.com/users/Mierpo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mierpo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mierpo/subscriptions", "organizations_url": "https://api.github.com/users/Mierpo/orgs", "repos_url": "https://api.github.com/users/Mierpo/repos", "events_url": "https://api.github.com/users/Mierpo/events{/privacy}", "received_events_url": "https://api.github.com/users/Mierpo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-07T09:39:28Z", "updated_at": "2021-03-03T23:18:48Z", "closed_at": "2021-01-08T07:55:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to setup AWS commandline tool to access an eks cluster from a local ubuntu installation. The following command runs into an error:\r\n\r\n```\r\n$ aws eks update-kubeconfig --name \"[REDACTED]\" --region=[REDACTED]\r\n\r\nYamlError while loading kubeconfig: while scanning a simple key\r\n  in \"/home/[REDACTED]/.kube/config\", line 30, column 1\r\ncould not find expected ':'\r\n  in \"/home/[REDACTED]/.kube/config\", line 32, column 1\r\n```\r\n\r\nThe following command also runs into the same issue:\r\n\r\n```\r\n$ kubectl get all\r\n\r\nerror: error loading config file \"/home/[REDACTED]/.kube/config\": yaml: line 32: could not find expected ':'\r\n```\r\n\r\nVersion information:\r\n\r\n```\r\n$ aws --version\r\n\r\naws-cli/2.1.16 Python/3.7.3 Linux/4.4.0-19041-Microsoft exe/x86_64.ubuntu.20 prompt/off\r\n\r\n$ kubectl version --client\r\n\r\nClient Version: version.Info{Major:\"1\", Minor:\"18+\", GitVersion:\"v1.18.9-eks-d1db3c\", GitCommit:\"d1db3c46e55f95d6a7d3e5578689371318f95ff9\", GitTreeState:\"clean\", BuildDate:\"2020-10-20T22:21:03Z\", GoVersion:\"go1.13.15\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n```\r\n\r\nKubeConfig (redacted contents):\r\n\r\n```\r\nkubectl_config = apiVersion: v1\r\npreferences: {}\r\nkind: Config\r\n\r\nclusters:\r\n- cluster:\r\n    server: [REDACTED]\r\n    certificate-authority-data: [REDACTED]\r\n  name: [REDACTED]\r\n\r\ncontexts:\r\n- context:\r\n    cluster: [REDACTED]\r\n    user: [REDACTED]\r\n  name: [REDACTED]\r\n\r\ncurrent-context: [REDACTED]\r\n\r\nusers:\r\n- name: [REDACTED]\r\n  user:\r\n    exec:\r\n      apiVersion: client.authentication.k8s.io/v1alpha1\r\n      command: aws-iam-authenticator\r\n      args:\r\n        - \"token\"\r\n        - \"-i\"\r\n        - \"[REDACTED]\"\r\n\r\nregion = [REDACTED]\r\n```\r\n\r\nThe problem does not occur on my windows machine with the following versions:\r\n\r\n```\r\n$ aws --version\r\n\r\naws-cli/2.0.26 Python/3.7.7 Windows/10 botocore/2.0.0dev30\r\n\r\n$ kubectl version --client\r\n\r\nClient Version: version.Info{Major:\"1\", Minor:\"19\", GitVersion:\"v1.19.3\", GitCommit:\"1e11e4a2108024935ecfcb2912226cedeafd99df\", GitTreeState:\"clean\", BuildDate:\"2020-10-14T12:50:19Z\", GoVersion:\"go1.15.2\", Compiler:\"gc\", Platform:\"windows/amd64\"}\r\n```\r\n\r\nHowever, the contents of the kubeconfig file is also entirely different (much more content) with the version I have on windows:\r\n\r\n```\r\napiVersion: v1\r\nclusters:\r\n- cluster:\r\n    certificate-authority-data: [REDACTED]\r\n    server: [REDACTED]\r\n  name: [REDACTED]\r\n- cluster:\r\n    certificate-authority-data: [REDACTED]\r\n    server: [REDACTED]\r\n  name: [REDACTED]\r\ncontexts:\r\n- context:\r\n    cluster: [REDACTED]\r\n    user: [REDACTED]\r\n  name: [REDACTED]\r\n- context:\r\n    cluster: [REDACTED]\r\n    user: [REDACTED]\r\n  name: [REDACTED]\r\ncurrent-context: [REDACTED]\r\nkind: Config\r\npreferences: {}\r\nusers:\r\n- name: [REDACTED]\r\n  user:\r\n    client-certificate-data: [REDACTED]\r\n    client-key-data: [REDACTED]\r\n- name: [REDACTED]\r\n  user:\r\n    exec:\r\n      apiVersion: client.authentication.k8s.io/v1alpha1\r\n      args:\r\n      - --region\r\n      - [REDACTED]\r\n      - eks\r\n      - get-token\r\n      - --cluster-name\r\n      - [REDACTED]\r\n      command: aws\r\n```\r\n\r\n**Expected behaviour**\r\n\r\nThe aws eks update-kubeconfig command should work  the same for different versions and different operating systems.\r\n\r\n**Actual behaviour**\r\naws eks update-kubeconfig produces an invalid kube config file on ubuntu, aws version aws-cli/2.1.16\r\n\r\n**Work-around**\r\n\r\nCopy the config file created in windows to ubuntu.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5854/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5823", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5823/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5823/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5823/events", "html_url": "https://github.com/aws/aws-cli/issues/5823", "id": 770203091, "node_id": "MDU6SXNzdWU3NzAyMDMwOTE=", "number": 5823, "title": "aws eks update-kubeconfig using --role-arn param gives not authorized to perform: eks:DescribeCluster", "user": {"login": "hanfi", "id": 1167124, "node_id": "MDQ6VXNlcjExNjcxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1167124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hanfi", "html_url": "https://github.com/hanfi", "followers_url": "https://api.github.com/users/hanfi/followers", "following_url": "https://api.github.com/users/hanfi/following{/other_user}", "gists_url": "https://api.github.com/users/hanfi/gists{/gist_id}", "starred_url": "https://api.github.com/users/hanfi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hanfi/subscriptions", "organizations_url": "https://api.github.com/users/hanfi/orgs", "repos_url": "https://api.github.com/users/hanfi/repos", "events_url": "https://api.github.com/users/hanfi/events{/privacy}", "received_events_url": "https://api.github.com/users/hanfi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "fbca04", "default": false, "description": "This issue needs reproduction."}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2020-12-17T16:45:01Z", "updated_at": "2022-12-06T17:55:48Z", "closed_at": "2021-02-07T01:35:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n- i'm using an IAM user (lets say myUser) that can assume a Role (called myRole) : tested and it's working\r\n- myRole has adminAccess but myUser can only assume myRole (tested and working everywhere)\r\n\r\nwhen creating a kube config while i'm myUser :\r\n`aws eks update-kubeconfig --name MyCluster --region eu-west-1 --role-arn arn:aws:iam::XXXXXXXXX:role/myRole`\r\nit's supposed to build the kubeconfig and add the params \r\n\r\nbut i have this error : \r\n`An error occurred (AccessDeniedException) when calling the DescribeCluster operation: User: arn:aws:iam::XXXXXXXXX:role:user/myUser is not authorized to perform: eks:DescribeCluster on resource: arn:aws:eks:eu-west-1:XXXXXXX:cluster/cluster_name`\r\n\r\nthe user running that command is not supposed to have any access, everything should be done by the role \r\n\r\n**SDK version number**\r\naws-cli/2.1.10 Python/3.9.1 Darwin/19.6.0 source/x86_64 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\nmac Os 10.15.7\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\n1. create a role that has all the needed access to the eks cluster\r\n2. create a user with no access but assume the role\r\n3. try aws eks update-kubeconfig with --role-name yourRole\r\n\r\n**Expected behavior**\r\nthe command should just build your kubeconfig or use the provided role to describeCluster\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5823/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5823/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5820", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5820/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5820/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5820/events", "html_url": "https://github.com/aws/aws-cli/issues/5820", "id": 769737253, "node_id": "MDU6SXNzdWU3Njk3MzcyNTM=", "number": 5820, "title": "When running logs tail with a named profile referencing a different account, the auto-complete of log-groups is incorrect.", "user": {"login": "cdarlast", "id": 2657551, "node_id": "MDQ6VXNlcjI2NTc1NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2657551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdarlast", "html_url": "https://github.com/cdarlast", "followers_url": "https://api.github.com/users/cdarlast/followers", "following_url": "https://api.github.com/users/cdarlast/following{/other_user}", "gists_url": "https://api.github.com/users/cdarlast/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdarlast/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdarlast/subscriptions", "organizations_url": "https://api.github.com/users/cdarlast/orgs", "repos_url": "https://api.github.com/users/cdarlast/repos", "events_url": "https://api.github.com/users/cdarlast/events{/privacy}", "received_events_url": "https://api.github.com/users/cdarlast/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}, {"id": 2445376448, "node_id": "MDU6TGFiZWwyNDQ1Mzc2NDQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/auto-prompt-mode", "name": "auto-prompt-mode", "color": "c7ddff", "default": false, "description": "Issues related to CLI auto-prompt mode"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-12-17T09:10:19Z", "updated_at": "2021-01-04T17:13:46Z", "closed_at": "2021-01-04T17:13:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nUsing Version 2 of the CLI and the Auto Prompt Mode. When using a named profile with a role in a different account and auto prompt mode for the logs tail command, I am presented with the list of log-groups from the default account not the profile account. \r\n\r\n**SDK version number**\r\naws-cli/2.1.12 Python/3.7.4 Darwin/19.6.0 exe/x86_64 prompt/off\r\n\r\n**Platform/OS/Hardware/Device**\r\nMacOS Catalina\r\n\r\n**To Reproduce (observed behavior)**\r\nUse the command:\r\n`aws --profile <NAMED_PROFILE> logs tail` \r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nI would expect to see  the list of log groups from the account referenced in the named_profile.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nThis behaviour works as expected when using the EC2 stop-instances command with profiles and auto-prompt. \r\n( `aws --profile <NAMED_PROFILE> ec2 stop-instances --instance-ids` )", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5758", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5758/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5758/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5758/events", "html_url": "https://github.com/aws/aws-cli/issues/5758", "id": 750936039, "node_id": "MDU6SXNzdWU3NTA5MzYwMzk=", "number": 5758, "title": "AWS cli plugin session-manager-plugin cannot be used on macOS without workaround", "user": {"login": "programmer04", "id": 9593424, "node_id": "MDQ6VXNlcjk1OTM0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/9593424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/programmer04", "html_url": "https://github.com/programmer04", "followers_url": "https://api.github.com/users/programmer04/followers", "following_url": "https://api.github.com/users/programmer04/following{/other_user}", "gists_url": "https://api.github.com/users/programmer04/gists{/gist_id}", "starred_url": "https://api.github.com/users/programmer04/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/programmer04/subscriptions", "organizations_url": "https://api.github.com/users/programmer04/orgs", "repos_url": "https://api.github.com/users/programmer04/repos", "events_url": "https://api.github.com/users/programmer04/events{/privacy}", "received_events_url": "https://api.github.com/users/programmer04/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311948145, "node_id": "MDU6TGFiZWwzMTE5NDgxNDU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ssm", "name": "ssm", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-11-25T15:56:43Z", "updated_at": "2021-11-03T11:04:29Z", "closed_at": "2021-11-03T11:04:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nAWS cli plugin  [session-manager-plugin](https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html) is not notarized by Apple, so after fresh installation, it cannot be open:\r\n![image](https://user-images.githubusercontent.com/9593424/100250078-8ec94e00-2f3d-11eb-9d86-54ceda7c9d6f.png)\r\nThe workaround described [here](https://github.com/hashicorp/terraform/issues/23033#issuecomment-542302933) solves the issue and the program works, but basically, the user has to bypass macOS default security checks to get it run, which is not nice.\r\n\r\n\r\n**SDK version number**\r\nI tried with two last versions of [session-manager-plugin](https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html):\r\n- `1.2.30.0`\r\n- `1.2.7.0`\r\n\r\n\r\n\r\n\r\n**Platform/OS/Hardware/Device**\r\n- macOS Big Sur Version 11.0.1 (but I'm sure that on Catalina would be the same)\r\n\r\n**To Reproduce (observed behavior)**\r\nJust try to run `session-manager-plugin` after fresh installation (without workaround) e.g.\r\n```bash\r\nsession-manager-plugin --version\r\n```\r\n\r\n**Expected behavior**\r\nThis binary should work out of the box.\r\n\r\n**Additional context**\r\nMany other projects resolved it in the past e.g.:\r\n- [Hashicorp](https://twitter.com/mitchellh/status/1208130549933461504)\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5758/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5740", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5740/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5740/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5740/events", "html_url": "https://github.com/aws/aws-cli/issues/5740", "id": 746839751, "node_id": "MDU6SXNzdWU3NDY4Mzk3NTE=", "number": 5740, "title": "kafka create-configuration for v2 needs to indicate base64-encoding of server-properties parameter", "user": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}, {"id": 2519011434, "node_id": "MDU6TGFiZWwyNTE5MDExNDM0", "url": "https://api.github.com/repos/aws/aws-cli/labels/kafka", "name": "kafka", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-19T18:54:29Z", "updated_at": "2020-11-19T20:56:19Z", "closed_at": "2020-11-19T20:55:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nAs raised in #5729, the examples in the documentation for the V2 client for `aws kafka create-configuration` are incorrect - the `--server-properties` needs to be passed in with `fileb://`.\r\n\r\n**SDK version number**\r\n\r\nAWS CLI v2\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5740/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5701", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5701/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5701/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5701/events", "html_url": "https://github.com/aws/aws-cli/issues/5701", "id": 738570588, "node_id": "MDU6SXNzdWU3Mzg1NzA1ODg=", "number": 5701, "title": "Missing metadata causing dependency resolution slowdown", "user": {"login": "l0b0", "id": 168301, "node_id": "MDQ6VXNlcjE2ODMwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/168301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l0b0", "html_url": "https://github.com/l0b0", "followers_url": "https://api.github.com/users/l0b0/followers", "following_url": "https://api.github.com/users/l0b0/following{/other_user}", "gists_url": "https://api.github.com/users/l0b0/gists{/gist_id}", "starred_url": "https://api.github.com/users/l0b0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l0b0/subscriptions", "organizations_url": "https://api.github.com/users/l0b0/orgs", "repos_url": "https://api.github.com/users/l0b0/repos", "events_url": "https://api.github.com/users/l0b0/events{/privacy}", "received_events_url": "https://api.github.com/users/l0b0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-11-08T22:41:15Z", "updated_at": "2021-10-15T22:26:01Z", "closed_at": "2021-10-15T22:25:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/) *(Not applicable)*\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\r\nFrom [a Poetry issue](https://github.com/python-poetry/poetry/issues/1173#issuecomment-503159879):\r\n\r\n> Apparently the `awscli` packages are not published with metadata about its dependencies so `poetry` literally has to download each version to figure out what it depends on. This is amplified by the fact that there are hundreds of releases of `awscli` on PyPI. The resolution time is greatly reduced if you give `poetry` a starting point for `awscli`.\r\n\r\n**SDK version number** N/A\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on? Ubuntu 20.04\r\n\r\n**To Reproduce (observed behavior)**\r\n1. Add `awscli = \"*\"` to Poetry dependencies\r\n1. Run `poetry update`\r\n1. Wait for a so far undetermined amount of time (many minutes at least) for Poetry to resolve dependencies:\r\n   ```\r\n   1: fact: awscli (1.18.173) depends on botocore (1.19.13)\r\n   1: fact: awscli (1.18.173) depends on docutils (>=0.10,<0.16)\r\n   1: fact: awscli (1.18.173) depends on s3transfer (>=0.3.0,<0.4.0)\r\n   1: fact: awscli (1.18.173) depends on PyYAML (>=3.10,<5.4)\r\n   1: fact: awscli (1.18.173) depends on colorama (>=0.2.5,<0.4.4)\r\n   1: fact: awscli (1.18.173) depends on rsa (>=3.1.2,<=4.5.0)\r\n   1: derived: not awscli (1.18.173)\r\n   [\u2026]\r\n   1: fact: awscli (1.16.194) depends on botocore (1.12.184)\r\n   1: fact: awscli (1.16.194) depends on colorama (>=0.2.5,<=0.3.9)\r\n   1: fact: awscli (1.16.194) depends on docutils (>=0.10)\r\n   1: fact: awscli (1.16.194) depends on rsa (>=3.1.2,<=3.5.0)\r\n   1: fact: awscli (1.16.194) depends on PyYAML (>=3.10,<=5.1)\r\n   1: fact: awscli (1.16.194) depends on s3transfer (>=0.2.0,<0.3.0)\r\n   1: derived: not awscli (1.16.194)\r\n   [\u2026]\r\n   ```\r\n**Expected behavior**\r\nDependencies should resolve in at most a couple seconds.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5701/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5654", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5654/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5654/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5654/events", "html_url": "https://github.com/aws/aws-cli/issues/5654", "id": 724469195, "node_id": "MDU6SXNzdWU3MjQ0NjkxOTU=", "number": 5654, "title": "Describe-instances prints additional `None` with `--output text`, `--query` and `--max-items`", "user": {"login": "nicojs", "id": 1828233, "node_id": "MDQ6VXNlcjE4MjgyMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1828233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicojs", "html_url": "https://github.com/nicojs", "followers_url": "https://api.github.com/users/nicojs/followers", "following_url": "https://api.github.com/users/nicojs/following{/other_user}", "gists_url": "https://api.github.com/users/nicojs/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicojs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicojs/subscriptions", "organizations_url": "https://api.github.com/users/nicojs/orgs", "repos_url": "https://api.github.com/users/nicojs/repos", "events_url": "https://api.github.com/users/nicojs/events{/privacy}", "received_events_url": "https://api.github.com/users/nicojs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-19T10:06:28Z", "updated_at": "2021-03-02T02:03:25Z", "closed_at": "2021-03-02T02:02:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\r\nRunning `aws ec2 describe-instances` with `--output text`, `--query` and `--max-items` results in a final `None` being printed. \r\n\r\nFor example:\r\n\r\n```sh\r\n$  aws ec2 describe-instances --output text --query 'Reservations[*].Instances[*].InstanceId' --max-items 1\r\ni-xxxxxxxxxxxxxxxx\r\nNone # <-- didn't expect this.\r\n```\r\n\r\nWithout `--output text`\r\n\r\n```sh\r\n$  aws ec2 describe-instances --query 'Reservations[*].Instances[*].InstanceId' --max-items 1\r\n[\r\n    [\r\n        \"i-0f42fd05fb607fc2d\"\r\n    ]\r\n]\r\n```\r\n\r\n**SDK version number**\r\n\r\n```\r\n$ aws --version\r\naws-cli/2.0.38 Python/3.7.7 Windows/10 exe/AMD64\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\n```\r\n$ aws --version\r\naws-cli/2.0.38 Python/3.7.7 Windows/10 exe/AMD64\r\n```\r\n\r\n**To Reproduce (observed behavior)**\r\nRun `aws ec2 describe-instances --output text --query 'Reservations[*].Instances[*].InstanceId' --max-items 1`\r\n\r\n**Expected behavior**\r\n\r\n```\r\ni-xxxxxxxxxxxxxxxx\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5654/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5644", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5644/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5644/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5644/events", "html_url": "https://github.com/aws/aws-cli/issues/5644", "id": 722682599, "node_id": "MDU6SXNzdWU3MjI2ODI1OTk=", "number": 5644, "title": "When calling redshift-data describe-statement on a failed query, exits with AttributeError: 'str' object has no attribute 'get'", "user": {"login": "dominics", "id": 97427, "node_id": "MDQ6VXNlcjk3NDI3", "avatar_url": "https://avatars.githubusercontent.com/u/97427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dominics", "html_url": "https://github.com/dominics", "followers_url": "https://api.github.com/users/dominics/followers", "following_url": "https://api.github.com/users/dominics/following{/other_user}", "gists_url": "https://api.github.com/users/dominics/gists{/gist_id}", "starred_url": "https://api.github.com/users/dominics/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dominics/subscriptions", "organizations_url": "https://api.github.com/users/dominics/orgs", "repos_url": "https://api.github.com/users/dominics/repos", "events_url": "https://api.github.com/users/dominics/events{/privacy}", "received_events_url": "https://api.github.com/users/dominics/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2432194804, "node_id": "MDU6TGFiZWwyNDMyMTk0ODA0", "url": "https://api.github.com/repos/aws/aws-cli/labels/redshift-data", "name": "redshift-data", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-10-15T21:17:33Z", "updated_at": "2020-11-18T18:42:09Z", "closed_at": "2020-11-18T18:41:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Description**\r\n\r\nI issued a malformed SQL statement to my Redshift cluster using `aws redshift-data execute-statement`. When I then follow up with a `aws redshift-data describe-statement`, the command fails, throwing an uncaught `AttributeError: 'str' object has no attribute 'get'` from within `needs_retry`\r\n\r\n**Version/Platform**\r\n\r\n```\r\n$ aws --version\r\naws-cli/2.0.56 Python/3.9.0 Darwin/19.6.0 source/x86_64\r\n```\r\n\r\nMac OS, installed from homebrew\r\n\r\n**Reproduction**\r\n\r\n- `aws --profile foo redshift-data execute-statement  --database some_db --cluster-identifier some_cluster --db-user iam_user --sql \"unload (select * from some_table) to 's3://some_bucket/key' iam_role 'arn:aws:sts::123456789:assumed-role/some-role/1234567890221684000';\"`\r\n  - NB: not a valid statement, will fail on Redshift\r\n- `aws --profile foo redshift-data describe-statement --id <id from execute-statement output> --debug`\r\n\r\n**Logs/output**\r\n\r\nSome detail anonymized\r\n\r\n```\r\n[...]\r\n2020-10-16 09:32:24,625 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): redshift-data.us-west-2.amazonaws.com:443\r\n2020-10-16 09:32:25,327 - MainThread - urllib3.connectionpool - DEBUG - https://redshift-data.us-west-2.amazonaws.com:443 \"POST / HTTP/1.1\" 200 476\r\n2020-10-16 09:32:25,328 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': 'b4f6a7f4-d597-494a-9622-9f0fca555161', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '476', 'Date': 'Thu, 15 Oct 2020 20:32:25 GMT'}\r\n2020-10-16 09:32:25,328 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"ClusterIdentifier\":\"some_cluster\",\"CreatedAt\":1.60279372614E9,\"Duration\":-1,\"Error\":\"ERROR: syntax error at or near \\\\\"select\\\\\"\\\\n  Position: 9\",\"Id\":\"b79e5383-47a1-4155-b7d8-abc950ca601b\",\"QueryString\":\"unload (select * from some_table) to \\'s3://some_bucket/file\\' iam_role \\'\\';\",\"RedshiftPid\":10752,\"RedshiftQueryId\":-1,\"ResultRows\":-1,\"ResultSize\":-1,\"Status\":\"FAILED\",\"UpdatedAt\":1.602793726954E9}'\r\n2020-10-16 09:32:25,329 - MainThread - botocore.hooks - DEBUG - Event needs-retry.redshift-data.DescribeStatement: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x10f164550>>\r\n2020-10-16 09:32:25,329 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/awscli/clidriver.py\", line 386, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/awscli/clidriver.py\", line 558, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/awscli/clidriver.py\", line 735, in __call__\r\n    return self._operation_caller.invoke(\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/awscli/clidriver.py\", line 866, in invoke\r\n    response = self._make_client_call(\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/awscli/clidriver.py\", line 878, in _make_client_call\r\n    response = getattr(client, xform_name(operation_name))(\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/client.py\", line 249, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/client.py\", line 554, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/client.py\", line 574, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/endpoint.py\", line 136, in _send_request\r\n    while self._needs_retry(attempts, operation_model, request_dict,\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/endpoint.py\", line 253, in _needs_retry\r\n    responses = self._event_emitter.emit(\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/hooks.py\", line 227, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/hooks.py\", line 210, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/retries/standard.py\", line 79, in needs_retry\r\n    if self._retry_policy.should_retry(context):\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/retries/standard.py\", line 224, in should_retry\r\n    return self._retry_checker.is_retryable(context)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/retries/standard.py\", line 431, in is_retryable\r\n    self._additional_checkers.is_retryable(context))\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/retries/standard.py\", line 439, in is_retryable\r\n    return any(checker.is_retryable(context) for checker in self._checkers)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/retries/standard.py\", line 439, in <genexpr>\r\n    return any(checker.is_retryable(context) for checker in self._checkers)\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/retries/standard.py\", line 298, in is_retryable\r\n    if context.get_error_code() in self._transient_error_codes:\r\n  File \"/usr/local/Cellar/awscli/2.0.56_1/libexec/lib/python3.9/site-packages/botocore/retries/standard.py\", line 201, in get_error_code\r\n    return self.parsed_response.get('Error', {}).get('Code')\r\nAttributeError: 'str' object has no attribute 'get'\r\n2020-10-16 09:32:25,333 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\n'str' object has no attribute 'get'\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5641", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5641/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5641/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5641/events", "html_url": "https://github.com/aws/aws-cli/issues/5641", "id": 722371352, "node_id": "MDU6SXNzdWU3MjIzNzEzNTI=", "number": 5641, "title": "`aws sesv2 put-account-details --website-url https://example.com` shouldn't download the contents of example.com", "user": {"login": "ankon", "id": 1210641, "node_id": "MDQ6VXNlcjEyMTA2NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1210641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ankon", "html_url": "https://github.com/ankon", "followers_url": "https://api.github.com/users/ankon/followers", "following_url": "https://api.github.com/users/ankon/following{/other_user}", "gists_url": "https://api.github.com/users/ankon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ankon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ankon/subscriptions", "organizations_url": "https://api.github.com/users/ankon/orgs", "repos_url": "https://api.github.com/users/ankon/repos", "events_url": "https://api.github.com/users/ankon/events{/privacy}", "received_events_url": "https://api.github.com/users/ankon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}, {"id": 2432203690, "node_id": "MDU6TGFiZWwyNDMyMjAzNjkw", "url": "https://api.github.com/repos/aws/aws-cli/labels/sesv2", "name": "sesv2", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-15T14:08:04Z", "updated_at": "2020-11-20T18:20:30Z", "closed_at": "2020-11-20T18:20:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) ~and didn't find any solution~ and found a similar problem from 2015.\r\n  \r\n**Describe the bug**\r\n\r\nI'm trying to use the CLI to move my SES region out of the sandbox.\r\n\r\n```sh\r\naws --debug sesv2 put-account-details --production-access-enabled --mail-type TRANSACTIONAL --website-url \"https://example.com\" --use-case-description \"...\" --contact-language EN\r\n```\r\n\r\nThis produces a very odd message:\r\n~~~~\r\nAn error occurred (BadRequestException) when calling the PutAccountDetails operation: 2 validation errors detected: Value at 'websiteURL' failed to satisfy constraint: Member must satisfy regular expression pattern: ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?; Value at 'websiteURL' failed to satisfy constraint: Member must have length less than or equal to 1000\r\n~~~~\r\n\r\nUsing `--debug` shows that it actually queryied my URL:\r\n~~~~\r\n2020-10-15 15:51:55,756 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.put-account-details.website-url to load-cli-arg.ses.put-account-details.website-url\r\n2020-10-15 15:51:55,756 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.put-account-details.website-url: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f06e95e3940>\r\n2020-10-15 15:51:55,757 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): example.com:443\r\n2020-10-15 15:51:55,836 - MainThread - urllib3.connectionpool - DEBUG - https://example.com:443 \"GET / HTTP/1.1\" 200 1454225\r\n[...]\r\n~~~~\r\n\r\n**SDK version number**\r\naws-cli/1.18.157 Python/3.8.6 Linux/5.8.11-200.fc32.x86_64 botocore/1.18.16\r\n\r\n**Platform/OS/Hardware/Device**\r\nFedora 32, amd64\r\n\r\n**Additional context**\r\n\r\nThis looks similar to https://github.com/aws/aws-cli/issues/1130, so I suspect the correct fix is to modify https://github.com/aws/aws-cli/blob/develop/awscli/paramfile.py accordingly for this parameter.\r\n\r\nA work-around: I couldn't find a way to quote this in a way that would disable the downloading, BUT the regexp points to the solution: Remove the `https://` and use `--website-url example.com`. \r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5611", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5611/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5611/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5611/events", "html_url": "https://github.com/aws/aws-cli/issues/5611", "id": 716089129, "node_id": "MDU6SXNzdWU3MTYwODkxMjk=", "number": 5611, "title": "SSL issue? awscli site is down", "user": {"login": "graemecode", "id": 36094097, "node_id": "MDQ6VXNlcjM2MDk0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/36094097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graemecode", "html_url": "https://github.com/graemecode", "followers_url": "https://api.github.com/users/graemecode/followers", "following_url": "https://api.github.com/users/graemecode/following{/other_user}", "gists_url": "https://api.github.com/users/graemecode/gists{/gist_id}", "starred_url": "https://api.github.com/users/graemecode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graemecode/subscriptions", "organizations_url": "https://api.github.com/users/graemecode/orgs", "repos_url": "https://api.github.com/users/graemecode/repos", "events_url": "https://api.github.com/users/graemecode/events{/privacy}", "received_events_url": "https://api.github.com/users/graemecode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-10-06T23:33:51Z", "updated_at": "2020-10-20T20:52:54Z", "closed_at": "2020-10-07T01:24:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seems like https://awscli.amazonaws.com is down, which affects downloads - notably the command:\r\n\r\n```\r\ncurl -sSL \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\r\n````", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5611/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5558", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5558/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5558/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5558/events", "html_url": "https://github.com/aws/aws-cli/issues/5558", "id": 704834620, "node_id": "MDU6SXNzdWU3MDQ4MzQ2MjA=", "number": 5558, "title": "Getting the instance serial console log produces encoding error", "user": {"login": "rabits", "id": 1093323, "node_id": "MDQ6VXNlcjEwOTMzMjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1093323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rabits", "html_url": "https://github.com/rabits", "followers_url": "https://api.github.com/users/rabits/followers", "following_url": "https://api.github.com/users/rabits/following{/other_user}", "gists_url": "https://api.github.com/users/rabits/gists{/gist_id}", "starred_url": "https://api.github.com/users/rabits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rabits/subscriptions", "organizations_url": "https://api.github.com/users/rabits/orgs", "repos_url": "https://api.github.com/users/rabits/repos", "events_url": "https://api.github.com/users/rabits/events{/privacy}", "received_events_url": "https://api.github.com/users/rabits/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289140250, "node_id": "MDU6TGFiZWwyODkxNDAyNTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/unicode", "name": "unicode", "color": "eb6420", "default": false, "description": null}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-09-19T08:24:01Z", "updated_at": "2022-11-02T19:49:06Z", "closed_at": "2022-11-02T19:48:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nSerial console sometimes contains weird chars and on Windows it could be an issue, because default decoder/encoder could vary.\r\n\r\n**SDK version number**\r\naws-cli/2.0.50 Python/3.7.7 Windows/10 exe/AMD64\r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows 10\r\n\r\n**To Reproduce (observed behavior)**\r\n1. Create instance\r\n2. Request serial console log: `aws.exe --output json --region us-west-1 ec2 get-console-output --instance-id i-064f866083905a5bd`\r\n\r\n**Expected behavior**\r\nI think setting the encoding/decoding to utf-8 should fix the issue with cross-platform differences.\r\n\r\n**Logs/output**\r\n```\r\naws.exe --output json --region us-west-1 ec2 get-console-output --instance-id i-064f866083905a5bd\r\n{\r\n    \"InstanceId\": \"i-064f866083905a5bd\",\r\n    \"Output\":\r\n'charmap' codec can't encode character '\\u2192' in position 66745: character maps to <undefined>\r\n```\r\n\r\n**Additional context**\r\nActually produced with any output - json or text doesn't matter.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5546", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5546/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5546/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5546/events", "html_url": "https://github.com/aws/aws-cli/issues/5546", "id": 703129607, "node_id": "MDU6SXNzdWU3MDMxMjk2MDc=", "number": 5546, "title": "[v2] `aws configure list-profiles` errors when an invalid profile is configured, despite not relying on that information", "user": {"login": "benkehoe", "id": 1650723, "node_id": "MDQ6VXNlcjE2NTA3MjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1650723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benkehoe", "html_url": "https://github.com/benkehoe", "followers_url": "https://api.github.com/users/benkehoe/followers", "following_url": "https://api.github.com/users/benkehoe/following{/other_user}", "gists_url": "https://api.github.com/users/benkehoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/benkehoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benkehoe/subscriptions", "organizations_url": "https://api.github.com/users/benkehoe/orgs", "repos_url": "https://api.github.com/users/benkehoe/repos", "events_url": "https://api.github.com/users/benkehoe/events{/privacy}", "received_events_url": "https://api.github.com/users/benkehoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-09-16T23:04:17Z", "updated_at": "2021-04-09T22:15:49Z", "closed_at": "2021-04-09T22:12:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n`aws configure list-profiles` should not be affected by invalid session configuration, like an invalid profile, because it doesn't actually use the profile information. However, because it creates a session to read the config, an invalid profile causes errors.\r\n\r\n**SDK version number**\r\naws-cli/2.0.48 Python/3.7.3 Linux/4.4.0-18362-Microsoft exe/x86_64.ubuntu.18\r\n\r\n**To Reproduce (observed behavior)**\r\n```bash\r\n$ export AWS_PROFILE=invalid_profile\r\n$ aws configure list-profiles\r\nThe config profile (invalid_profile) could not be found\r\n```\r\nNo additional information is printed with `--debug`\r\n\r\nThis can't be worked around by explicitly providing `--profile` because of https://github.com/aws/aws-cli/issues/5016\r\n\r\n**Expected behavior**\r\nIt should not be affected by invalid session configuration.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5546/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5539", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5539/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5539/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5539/events", "html_url": "https://github.com/aws/aws-cli/issues/5539", "id": 701398903, "node_id": "MDU6SXNzdWU3MDEzOTg5MDM=", "number": 5539, "title": "AWS CLI v2 sso login browser redirects are broken in the latest version of Chrome", "user": {"login": "nfplatzke", "id": 9468900, "node_id": "MDQ6VXNlcjk0Njg5MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/9468900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfplatzke", "html_url": "https://github.com/nfplatzke", "followers_url": "https://api.github.com/users/nfplatzke/followers", "following_url": "https://api.github.com/users/nfplatzke/following{/other_user}", "gists_url": "https://api.github.com/users/nfplatzke/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfplatzke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfplatzke/subscriptions", "organizations_url": "https://api.github.com/users/nfplatzke/orgs", "repos_url": "https://api.github.com/users/nfplatzke/repos", "events_url": "https://api.github.com/users/nfplatzke/events{/privacy}", "received_events_url": "https://api.github.com/users/nfplatzke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-09-14T20:20:30Z", "updated_at": "2020-09-17T16:12:45Z", "closed_at": "2020-09-17T16:12:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nThe command \"aws sso login\" fails and hangs during the redirects when the latest version of chrome is set as the default browser. I have verified this issue with the latest version of AWS CLIv2 (aws-cli/2.0.48 Python/3.7.4 Darwin/17.7.0 exe/x86_64). During the failed redirect chain the token is consumed so you can not even follow the manual steps that are displayed in the output.\r\n\r\nThe bug can be worked around by setting a different default browser. I am not sure if this is something that can be worked around in the CLI tool, but it is browser specific. However I wanted to open this bug because it could be avoided if https://github.com/aws/aws-cli/issues/5533 was implemented.\r\n\r\n**SDK version number**\r\naws-cli/2.0.48 Python/3.7.4 Darwin/17.7.0 exe/x86_64\r\n\r\n**Platform/OS/Hardware/Device**\r\nOSX\r\n\r\n**To Reproduce (observed behavior)**\r\nRun \"aws sso login\" with the latest version of chrome. The redirect chain stops and hangs at a blank screen. The token is consumed so you can't even manually finish the process.\r\n\r\n**Expected behavior**\r\nNormal login.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5504", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5504/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5504/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5504/events", "html_url": "https://github.com/aws/aws-cli/issues/5504", "id": 688992761, "node_id": "MDU6SXNzdWU2ODg5OTI3NjE=", "number": 5504, "title": "Quicksight create-analysis not applying permissions from json file when using --cli-input-json", "user": {"login": "SybaseWrangling", "id": 56572707, "node_id": "MDQ6VXNlcjU2NTcyNzA3", "avatar_url": "https://avatars.githubusercontent.com/u/56572707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SybaseWrangling", "html_url": "https://github.com/SybaseWrangling", "followers_url": "https://api.github.com/users/SybaseWrangling/followers", "following_url": "https://api.github.com/users/SybaseWrangling/following{/other_user}", "gists_url": "https://api.github.com/users/SybaseWrangling/gists{/gist_id}", "starred_url": "https://api.github.com/users/SybaseWrangling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SybaseWrangling/subscriptions", "organizations_url": "https://api.github.com/users/SybaseWrangling/orgs", "repos_url": "https://api.github.com/users/SybaseWrangling/repos", "events_url": "https://api.github.com/users/SybaseWrangling/events{/privacy}", "received_events_url": "https://api.github.com/users/SybaseWrangling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 2376442078, "node_id": "MDU6TGFiZWwyMzc2NDQyMDc4", "url": "https://api.github.com/repos/aws/aws-cli/labels/quicksight", "name": "quicksight", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-08-31T07:39:39Z", "updated_at": "2021-02-04T19:17:15Z", "closed_at": "2021-02-04T19:16:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen ever I attempt to run the new command `aws quicksight create-analysis.....` it appears that the permission options that I supply in the appropriate json file are not being applied.\r\n\r\n**SDK version number**\r\naws-cli/2.0.41 Python/3.7.7 \r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows/10 exe/AMD64\r\n\r\n**To Reproduce (observed behavior)**\r\nThe command I have been running is as follows:\r\n`aws quicksight create-analysis --aws-account-id 9999999999 --cli-input-json file://my_file.json --region ap-southeast-2`\r\n\r\nExample of the json:\r\n```{\r\n    \"AwsAccountId\": \"9999999999\",\r\n    \"AnalysisId\": \"My-New-Analysis\",\r\n    \"Name\": \"My New Analysis\",\r\n    \"Permissions\": [\r\n        {\r\n            \"Principal\": \"arn:aws:quicksight:ap-southeast-2:9999999999:user/default/MyRole/myuser\",\r\n            \"Actions\": [\r\n                \"quicksight:RestoreAnalysis\",\r\n                \"quicksight:UpdateAnalysisPermissions\",\r\n                \"quicksight:DeleteAnalysis\",\r\n                \"quicksight:DescribeAnalysisPermissions\",\r\n                \"quicksight:QueryAnalysis\",\r\n                \"quicksight:DescribeAnalysis\",\r\n                \"quicksight:UpdateAnalysis\"\r\n            ]\r\n        }\r\n    ],\r\n    \"SourceEntity\": {\r\n        \"SourceTemplate\": {\r\n            \"DataSetReferences\": [\r\n                {\r\n                    \"DataSetPlaceholder\": \"ds-1\",\r\n                    \"DataSetArn\": \"arn:aws:quicksight:ap-southeast-2:9999999999:dataset/data-set-a\"\r\n                },\r\n                {\r\n                    \"DataSetPlaceholder\": \"ds-2\",\r\n                    \"DataSetArn\": \"arn:aws:quicksight:ap-southeast-2:9999999999:dataset/data-set-b\"\r\n                }\r\n            ],\r\n            \"Arn\": \"arn:aws:quicksight:ap-southeast-2:8888888888:template/My-Template\"\r\n        }\r\n    },\r\n    \"Tags\": [\r\n        {\r\n            \"Key\": \"Environment\",\r\n            \"Value\": \"Development\"\r\n        },\r\n        {\r\n            \"Key\": \"Product\",\r\n            \"Value\": \"My Product\"\r\n        },\r\n        {\r\n            \"Key\": \"Customer\",\r\n            \"Value\": \"My Customer\"\r\n        }\r\n    ]\r\n}```\r\n\r\n\r\n**Expected behavior**\r\nAppropriate permissions should be applied to the analysis.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nIf I run `aws quicksight update-analysis-permissions.....` with the appropriate string using the option `--grant-permissions` and the appropriate string `Principal=string,Actions=string,string ...` I can successfully update the permissions\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5496", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5496/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5496/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5496/events", "html_url": "https://github.com/aws/aws-cli/issues/5496", "id": 685549685, "node_id": "MDU6SXNzdWU2ODU1NDk2ODU=", "number": 5496, "title": "AWS SSM (session-manager-plugin) start-session command doesn't work in Git Bash on Windows", "user": {"login": "aryak007", "id": 6023820, "node_id": "MDQ6VXNlcjYwMjM4MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6023820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aryak007", "html_url": "https://github.com/aryak007", "followers_url": "https://api.github.com/users/aryak007/followers", "following_url": "https://api.github.com/users/aryak007/following{/other_user}", "gists_url": "https://api.github.com/users/aryak007/gists{/gist_id}", "starred_url": "https://api.github.com/users/aryak007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aryak007/subscriptions", "organizations_url": "https://api.github.com/users/aryak007/orgs", "repos_url": "https://api.github.com/users/aryak007/repos", "events_url": "https://api.github.com/users/aryak007/events{/privacy}", "received_events_url": "https://api.github.com/users/aryak007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289130201, "node_id": "MDU6TGFiZWwyODkxMzAyMDE=", "url": "https://api.github.com/repos/aws/aws-cli/labels/windows", "name": "windows", "color": "0F81D1", "default": false, "description": ""}, {"id": 311948145, "node_id": "MDU6TGFiZWwzMTE5NDgxNDU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ssm", "name": "ssm", "color": "ff5500", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-08-25T14:46:02Z", "updated_at": "2022-11-08T22:37:00Z", "closed_at": "2022-11-08T22:36:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhile running `start-session` in [Git Bash](https://www.atlassian.com/git/tutorials/git-bash#:~:text=Git%20Bash%20is%20an%20application,operating%20system%20through%20written%20commands.), the Git-bash **freezes**. This occurs only for `Git-bash` and works fine in `CMD` or `POWERSHELL`\r\nUse `Git Bash` on Windows and run:\r\n```\r\naws ssm start-session --target i-xxxxxxx\r\nStarting session with SessionId: xxxxxx@xxxxxx.gaia.kosmos-00f4a5082a34f7da5\r\nsh-4.2$ ls -la\r\n```\r\nThe `terminal` **freezes** at this point and needs to killed. \r\n\r\n**SDK version number**\r\n`aws-cli/1.16.230 Python/3.6.0 Windows/10 botocore/1.12.220`\r\n```\r\nsession-manager-plugin --version\r\n1.1.61.0\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nOS Name    Microsoft Windows 10 Enterprise\r\nVersion    10.0.17134 Build 17134\r\n\r\nWhat are you running the cli on?\r\n[Git Bash](https://www.atlassian.com/git/tutorials/git-bash#:~:text=Git%20Bash%20is%20an%20application,operating%20system%20through%20written%20commands.)\r\n\r\n**To Reproduce (observed behavior)**\r\n*Same as above*\r\nUse `Git Bash` on Windows and run:\r\n```\r\naws ssm start-session --target i-xxxxxxx\r\nsh-4.2$ ls -la\r\n^C\r\n```\r\nThe `Git bash` freezes after running `ls -la` on the SSM started shell: `sh-4.2$` \r\n**Expected behavior**\r\nThe `start-session` should create a `session` and allow running commands on that shell (instead of freezing the `bash`(`Windows`)) normally as it does for `CMD`  and `POWERSHELL`\r\n\r\n**Logs/output**\r\nAWS CLI output:\r\n```\r\nStarting session with SessionId: xxxxxx@xxxxxx.gaia.kosmos-00f4a5082a34f7da5\r\n```\r\nsession-manager-plugin.log\r\n```\r\n2020-08-25 19:25:29 DEBUG [Start @ config_watcher.go.41] Start Watcher on directory: C:\\Program Files\\Amazon\\SessionManagerPlugin\r\n2020-08-25 19:25:29 ERROR [InitDisplayMode @ sessionutil_windows.go.41] error getting console mode: The handle is invalid.\r\n2020-08-25 19:25:29 ERROR [InitDisplayMode @ sessionutil_windows.go.50] error setting console mode: The handle is invalid.\r\n2020-08-25 19:25:29 DEBUG [Initialize @ streaming.go.137] Calling Initialize Datachannel for role: publish_subscribe\r\n2020-08-25 19:25:29 INFO [OpenConnection @ websocketutil.go.48] Opening websocket connection to: %!(EXTRA string=wss://ssmmessages.us-east-2.amazonaws.com/v1/data-channel/xxxxxx@xxxxxx.gaia.kosmos-00f4a5082a34f7da5?role=publish_subscribe)\r\n2020-08-25 19:25:30 ERROR [func1 @ shellsession.go.101] Could not get size of the terminal: The handle is invalid., using width 300 height 100\r\n2020-08-25 19:25:30 ERROR [func1 @ shellsession.go.101] Could not get size of the terminal: The handle is invalid., using width 300 height 100\r\n2020-08-25 19:25:31 INFO [OpenConnection @ websocketutil.go.56] Successfully opened websocket connection to: %!(EXTRA string=wss://ssmmessages.us-east-2.amazonaws.com/v1/data-channel/xxxxxx@xxxxxx.gaia.kosmos-00f4a5082a34f7da5?role=publish_subscribe)\r\n2020-08-25 19:25:31 INFO [FinalizeDataChannelHandshake @ streaming.go.175] Sending token through data channel wss://ssmmessages.us-east-2.amazonaws.com/v1/data-channel/xxxxxx@xxxxxx.gaia.kosmos-00f4a5082a34f7da5?role=publish_subscribe to acknowledge connection\r\n2020-08-25 19:25:31 DEBUG [func1 @ websocketchannel.go.83] WebsocketChannel: Send ping. Message.\r\n2020-08-25 19:25:31 ERROR [func1 @ shellsession.go.101] Could not get size of the terminal: The handle is invalid., using width 300 height 100\r\n2020-08-25 19:25:31 DEBUG [OutputMessageHandler @ streaming.go.377] Processing stream data message of type: output_stream_data\r\n2020-08-25 19:25:31 DEBUG [HandleOutputMessage @ streaming.go.613] Process new incoming stream data message. Sequence Number: 0\r\n2020-08-25 19:25:31 WARN [ProcessFirstMessage @ sessionhandler.go.71] Setting session type to shell based on PayloadType!\r\n2020-08-25 19:25:31 ERROR [func1 @ shellsession.go.101] Could not get size of the terminal: The handle is invalid., using width 300 height 100\r\n```\r\nsession-manager-plugin command output:\r\n```\r\nThe Session Manager plugin was installed successfully. Use the AWS CLI to start a session.\r\n```\r\n\r\n\r\n**Additional context**\r\n*Mentioned above also*\r\nThis error ` Could not get size of the terminal: The handle is invalid., using width 300 height 100` is thrown only for `Git-bash`. For `CMD` and `POWERSHELL`,`aws ssm start-session i-xxxxxxx` works perfectly fine. \r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5496/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5496/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5402", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5402/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5402/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5402/events", "html_url": "https://github.com/aws/aws-cli/issues/5402", "id": 664630986, "node_id": "MDU6SXNzdWU2NjQ2MzA5ODY=", "number": 5402, "title": "Credential file on win 10 adding \"profile\" to the name of the profile unexpectedly.", "user": {"login": "NM-HBK", "id": 56163889, "node_id": "MDQ6VXNlcjU2MTYzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/56163889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NM-HBK", "html_url": "https://github.com/NM-HBK", "followers_url": "https://api.github.com/users/NM-HBK/followers", "following_url": "https://api.github.com/users/NM-HBK/following{/other_user}", "gists_url": "https://api.github.com/users/NM-HBK/gists{/gist_id}", "starred_url": "https://api.github.com/users/NM-HBK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NM-HBK/subscriptions", "organizations_url": "https://api.github.com/users/NM-HBK/orgs", "repos_url": "https://api.github.com/users/NM-HBK/repos", "events_url": "https://api.github.com/users/NM-HBK/events{/privacy}", "received_events_url": "https://api.github.com/users/NM-HBK/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 400462978, "node_id": "MDU6TGFiZWw0MDA0NjI5Nzg=", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-discussion", "name": "needs-discussion", "color": "fbca04", "default": false, "description": ""}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "fbca04", "default": false, "description": "This issue needs reproduction."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-23T16:59:05Z", "updated_at": "2021-03-02T23:39:47Z", "closed_at": "2021-03-02T23:38:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen creating a credential profile manually,I try:\r\n```\r\n[test-profile-1]\r\naws_access_key_id = XXX\r\naws_secret_access_key = XXX\r\nregion = us-east-1\r\n```\r\nThen when trying to use the profile, `aws s3 ls --profile test-profile-1`, the cli complains that \"The config profile (test-profile-1) could not be found\"\r\n\r\nHowever,\r\nWhen creating using the aws cli (aws configure --profile test-profile-2) the entry in the credentials file looks similar to:\r\n```\r\n[profile test-profile-2]\r\naws_access_key_id = XXX\r\naws_secret_access_key = XXX\r\nregion = us-east-1\r\n```\r\nNOTE the \"profile\" at the beginning of the name of the profile.\r\nNow the entry works with  `aws s3 ls --profile test-profile-2`.\r\n\r\nThe strangest part is that I am only seeing this on one machine. When I try this on several others with the same version and same OS version, I do not see the \"profile\" added to the name.\r\n\r\n**SDK version number**\r\naws --version\r\naws-cli/1.18.79 Python/3.7.1 Windows/10 botocore/1.17.2\r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows 10\r\n\r\n**To Reproduce (observed behavior)**\r\nI can't reproduce this on any other machine\r\n\r\n**Expected behavior**\r\nThat I would not see \"profile\" in the the profile name and creating the profile manually would also work\r\n\r\n**Logs/output**\r\nn/a\r\n\r\n**Additional context**\r\nn/a\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5402/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5387", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5387/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5387/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5387/events", "html_url": "https://github.com/aws/aws-cli/issues/5387", "id": 657720062, "node_id": "MDU6SXNzdWU2NTc3MjAwNjI=", "number": 5387, "title": "codeartifact login broken in v1.18.98", "user": {"login": "zoellner", "id": 2665319, "node_id": "MDQ6VXNlcjI2NjUzMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2665319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoellner", "html_url": "https://github.com/zoellner", "followers_url": "https://api.github.com/users/zoellner/followers", "following_url": "https://api.github.com/users/zoellner/following{/other_user}", "gists_url": "https://api.github.com/users/zoellner/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoellner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoellner/subscriptions", "organizations_url": "https://api.github.com/users/zoellner/orgs", "repos_url": "https://api.github.com/users/zoellner/repos", "events_url": "https://api.github.com/users/zoellner/events{/privacy}", "received_events_url": "https://api.github.com/users/zoellner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 2169783451, "node_id": "MDU6TGFiZWwyMTY5NzgzNDUx", "url": "https://api.github.com/repos/aws/aws-cli/labels/codeartifact", "name": "codeartifact", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-15T23:16:28Z", "updated_at": "2020-07-27T20:29:16Z", "closed_at": "2020-07-20T18:17:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nI am using the command `aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012` on AWS CodeBuild after running `pip3 install awscli --upgrade --user` to login to our own npm repo. \r\nThis was working fine in v1.18.97 but is broken in 1.18.98.\r\n\r\nI think the relevant part in below log is \"relativedelta only diffs datetime/date\"\r\n\r\n**SDK version number**\r\n1.18.98\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nAWS CodeBuild\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\nin CodeBuild run `pip3 install awscli --upgrade --user` followed by `aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012`\r\n(need to change names, accountId, and setup repos etc)\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nlogin to codeartifact as it does in v1.18.97\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n```\r\n[Container] 2020/07/15 23:02:05 Running command aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012\r\n\r\nrelativedelta only diffs datetime/date\r\n\r\n[Container] 2020/07/15 23:02:07 Command did not exit successfully aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012 exit status 255\r\n[Container] 2020/07/15 23:02:07 Phase complete: INSTALL State: FAILED\r\n[Container] 2020/07/15 23:02:07 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012. Reason: exit status 255\r\n```\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5387/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5375", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5375/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5375/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5375/events", "html_url": "https://github.com/aws/aws-cli/issues/5375", "id": 656787331, "node_id": "MDU6SXNzdWU2NTY3ODczMzE=", "number": 5375, "title": "Sync / copy is broken in aws v2.x", "user": {"login": "gnithinfb", "id": 68295778, "node_id": "MDQ6VXNlcjY4Mjk1Nzc4", "avatar_url": "https://avatars.githubusercontent.com/u/68295778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnithinfb", "html_url": "https://github.com/gnithinfb", "followers_url": "https://api.github.com/users/gnithinfb/followers", "following_url": "https://api.github.com/users/gnithinfb/following{/other_user}", "gists_url": "https://api.github.com/users/gnithinfb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnithinfb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnithinfb/subscriptions", "organizations_url": "https://api.github.com/users/gnithinfb/orgs", "repos_url": "https://api.github.com/users/gnithinfb/repos", "events_url": "https://api.github.com/users/gnithinfb/events{/privacy}", "received_events_url": "https://api.github.com/users/gnithinfb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-07-14T17:45:31Z", "updated_at": "2021-01-28T22:30:08Z", "closed_at": "2020-07-20T18:17:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nAws copy functionality is broken and is not able to copy files of size > 1mb. It gives you access denied error. \r\nwhile files of smaller size gets copied. (Not an access issue) \r\n\r\n**SDK version number**\r\nv2.0.29\r\n\r\n**To Reproduce (observed behavior)**\r\nTry aws copy \r\naws s3 cp  s3://{source_file_address} s3://{destination_directory}/ --request-payer\r\n\r\n**Expected behavior**\r\nfile is expected to copy from source s3 to destination s3. \r\n**Logs/output**\r\n[ngopidi@devvm502.ftw3 /data/users/ngopidi/configerator] aws s3 cp s3://source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz s3://destination_bucket/ --request-payer --debug>log2>&1\r\n2020-07-09 15:34:36,433 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33\r\n2020-07-09 15:34:36,434 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'cp', 's3://source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz', 's3://destination_bucket/', '--request-payer', '--debug']\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f37c21df378>\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f37c2b07400>\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f37c21a38c8>\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f37c2adc950>\r\n2020-07-09 15:34:36,438 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f37c2328d90>\r\n2020-07-09 15:34:36,438 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f37c2355730>\r\n2020-07-09 15:34:36,438 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x7f37c21e57b8>\r\n2020-07-09 15:34:36,439 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,439 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cp: calling handler <function add_waiters at 0x7f37c21e57b8>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.dryrun: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.quiet: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.acl: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.follow-symlinks: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-kms-key-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.storage-class: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.grants: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.website-redirect: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-type: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.cache-control: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-disposition: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-encoding: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-language: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expires: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.source-region: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.only-show-errors: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.ignore-glacier-warnings: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.force-glacier-transfer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.copy-props: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata-directive: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expected-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,446 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): fwdproxy:8080\r\n2020-07-09 15:34:36,448 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"PUT http://169.254.169.254/latest/api/token HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,449 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,450 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"GET http://169.254.169.254/latest/meta-data/placement/availability-zone/ HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,450 - MainThread - botocore.utils - DEBUG - Metadata service returned non-200 response with status code of 502 for url: http://169.254.169.254/latest/meta-data/placement/availability-zone/, content body: b'kErrorAddressPrivate'\r\n2020-07-09 15:34:36,451 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-09 15:34:36,451 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-09 15:34:36,451 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\r\n2020-07-09 15:34:36,452 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.29/dist/botocore/data/endpoints.json\r\n2020-07-09 15:34:36,459 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f37c3aec048>\r\n2020-07-09 15:34:36,469 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.29/dist/botocore/data/s3/2006-03-01/service-2.json\r\n2020-07-09 15:34:36,475 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.29/dist/botocore/data/s3/2006-03-01/service-2.sdk-extras.json\r\n2020-07-09 15:34:36,478 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f37c3b2d0d0>\r\n2020-07-09 15:34:36,478 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f37c3b29e18>\r\n2020-07-09 15:34:36,482 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-09 15:34:36,484 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,486 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"PUT http://169.254.169.254/latest/api/token HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,486 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,487 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"GET http://169.254.169.254/latest/meta-data/placement/availability-zone/ HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,488 - MainThread - botocore.utils - DEBUG - Metadata service returned non-200 response with status code of 502 for url: http://169.254.169.254/latest/meta-data/placement/availability-zone/, content body: b'kErrorAddressPrivate'\r\n2020-07-09 15:34:36,488 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-09 15:34:36,488 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f37c3aec048>\r\n2020-07-09 15:34:36,491 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f37c3b2d0d0>\r\n2020-07-09 15:34:36,491 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f37c3b29e18>\r\n2020-07-09 15:34:36,494 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-09 15:34:36,496 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,497 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"PUT http://169.254.169.254/latest/api/token HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,498 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,499 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"GET http://169.254.169.254/latest/meta-data/placement/availability-zone/ HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,499 - MainThread - botocore.utils - DEBUG - Metadata service returned non-200 response with status code of 502 for url: http://169.254.169.254/latest/meta-data/placement/availability-zone/, content body: b'kErrorAddressPrivate'\r\n2020-07-09 15:34:36,499 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-09 15:34:36,499 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f37c3aec048>\r\n2020-07-09 15:34:36,501 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f37c3b2d0d0>\r\n2020-07-09 15:34:36,501 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f37c3b29e18>\r\n2020-07-09 15:34:36,504 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-09 15:34:36,506 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\r\n2020-07-09 15:34:36,506 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.HeadObject: calling handler <function base64_decode_input_blobs at 0x7f37c21a7158>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f37c3af9158>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f37c3af90d0>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f37c19de438>>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f37c19de748>>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f37c3af6ea0>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f37c3af9400>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.HeadObject: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f37c19de438>>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f37c3afa6a8>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=HeadObject) with params: {'url_path': '/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz', 'query_string': {}, 'method': 'HEAD', 'headers': {'x-amz-request-payer': 'requester', 'User-Agent': 'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33'}, 'body': b'', 'url': 'https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x7f37c1baef28>, 'has_streaming_input': False, 'auth_type': None, 'signing': {'bucket': 'source_bucket'}}}\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f37c1baeeb8>>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f37c3af6d90>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.HeadObject: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f37c19de7b8>>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-07-09 15:34:36,509 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\n2020-07-09 15:34:36,509 - MainThread - botocore.utils - DEBUG - URI updated to: https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nHEAD\r\n/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\n\r\nhost:source_bucket.s3.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20200709T223436Z\r\nx-amz-request-payer:requester\r\nx-amz-security-token:TOKEN\r\n\r\nhost;x-amz-content-sha256;x-amz-date;x-amz-request-payer;x-amz-security-token\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200709T223436Z\r\n20200709/us-east-1/s3/aws4_request\r\nf66b557da4be005c1c493ab58574c1c57426fd8e91722f831359fb4871d97b63\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - Signature:\r\n5d1652d302195960003e423cbc2deaa25daacbe55291bb99cefc0ac33fe7cdd7\r\n2020-07-09 15:34:36,510 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz, headers={'x-amz-request-payer': b'requester', 'User-Agent': b'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33', 'X-Amz-Date': b'20200709T223436Z', 'X-Amz-Security-Token': b'FwoGZXIvYXdzEIf//////////wEaDIeMw5u+hS2aR6BK4CKpAXM5Oaiyt1LxUFHC0aLESwylSI+IQcCfsaar1NLm2arD9FL6y37F9DW0S0jAPcrOKDHd2KkOvcNDIhpNCtUu7lemvAZMUvpS4tFg5Bro5szBh/Waub/QcpVUm0kCtZO2IV8TDpMRQ6bntJ92hqex807Cmc9hFSBtwwKdJ/fLXMaAfJUHo+OTfFr8tdsJDpdRkl6aKZkiG9Y4FbVYWWYRZazCCU9+pOeaFT0o26Ce+AUyLbAmG4SVLSrgnYwN0vH4EWvf5fPb16pzI1vn2t/sa1BDCrrpZ1Mjdd/gRcrKXw==', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=ASIA4JG3IYP2O3T2VS2K/20200709/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-request-payer;x-amz-security-token, Signature=5d1652d302195960003e423cbc2deaa25daacbe55291bb99cefc0ac33fe7cdd7'}>\r\n2020-07-09 15:34:36,511 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): source_bucket.s3.amazonaws.com:443\r\n2020-07-09 15:34:36,721 - MainThread - urllib3.connectionpool - DEBUG - https://source_bucket.s3.amazonaws.com:443 \"HEAD /2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz HTTP/1.1\" 200 0\r\n2020-07-09 15:34:36,722 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-id-2': '4VD/dX9PHxnf1+/C8VNbx+PS6hGx/dD85HtuxBaMo4G/nEkO2Jyx8KGIetO/pTfOfZjKyKlvYbA=', 'x-amz-request-id': '812F940A8F345D59', 'Date': 'Thu, 09 Jul 2020 22:34:37 GMT', 'x-amz-request-charged': 'requester', 'Last-Modified': 'Tue, 23 Jun 2020 22:21:20 GMT', 'x-amz-expiration': 'expiry-date=\"Mon, 07 Sep 2020 00:00:00 GMT\", rule-id=\"auto-delete-after-60-days\"', 'ETag': '\"3c0515b80b6626bcab4a147f1a5b638e\"', 'x-amz-tagging-count': '2', 'x-amz-version-id': 'null', 'Accept-Ranges': 'bytes', 'Content-Type': 'application/octet-stream', 'Content-Length': '120464449', 'Server': 'AmazonS3'}\r\n2020-07-09 15:34:36,722 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb''\r\n2020-07-09 15:34:36,723 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.HeadObject: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f37c19de710>>\r\n2020-07-09 15:34:36,723 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-09 15:34:36,723 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x7f37c19de438>>\r\n2020-07-09 15:34:36,724 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.HeadObject: calling handler <function enhance_error_msg at 0x7f37c21d9f28>\r\n2020-07-09 15:34:36,724 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.HeadObject: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f37c19de390>>\r\n2020-07-09 15:34:36,725 - MainThread - s3transfer.utils - DEBUG - Acquiring 0\r\n2020-07-09 15:34:36,726 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - CopySubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}) about to wait for the following futures []\r\n2020-07-09 15:34:36,726 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - CopySubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}) done waiting for dependent futures\r\n2020-07-09 15:34:36,726 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - Executing task CopySubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}) with kwargs {'client': <botocore.client.S3 object at 0x7f37c1c50c50>, 'config': <s3transfer.manager.TransferConfig object at 0x7f37c19de9e8>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f37c19dea58>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f37c19debe0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event provide-client-params.s3.GetObjectTagging: calling handler <function base64_decode_input_blobs at 0x7f37c21a7158>\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <function validate_bucket_name at 0x7f37c3af90d0>\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f37c1b982b0>>\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f37c1b985c0>>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <function generate_idempotent_uuid at 0x7f37c3af6ea0>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-call.s3.GetObjectTagging: calling handler <function add_expect_header at 0x7f37c3af9400>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-call.s3.GetObjectTagging: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f37c1b982b0>>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-call.s3.GetObjectTagging: calling handler <function inject_api_version_header_if_needed at 0x7f37c3afa6a8>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetObjectTagging) with params: {'url_path': '/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33'}, 'body': b'', 'url': 'https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x7f37c1c50da0>, 'has_streaming_input': False, 'auth_type': None, 'signing': {'bucket': 'source_bucket'}}}\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event request-created.s3.GetObjectTagging: calling handler <function signal_not_transferring at 0x7f37c272fae8>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event request-created.s3.GetObjectTagging: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f37c1c50d30>>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event choose-signer.s3.GetObjectTagging: calling handler <function set_operation_specific_signer at 0x7f37c3af6d90>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-sign.s3.GetObjectTagging: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f37c1b98630>>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.utils - DEBUG - URI updated to: https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\ntagging=\r\nhost:source_bucket.s3.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20200709T223436Z\r\nx-amz-security-token:FwoGZXIvYXdzEIf//////////wEaDIeMw5u+hS2aR6BK4CKpAXM5Oaiyt1LxUFHC0aLESwylSI+IQcCfsaar1NLm2arD9FL6y37F9DW0S0jAPcrOKDHd2KkOvcNDIhpNCtUu7lemvAZMUvpS4tFg5Bro5szBh/Waub/QcpVUm0kCtZO2IV8TDpMRQ6bntJ92hqex807Cmc9hFSBtwwKdJ/fLXMaAfJUHo+OTfFr8tdsJDpdRkl6aKZkiG9Y4FbVYWWYRZazCCU9+pOeaFT0o26Ce+AUyLbAmG4SVLSrgnYwN0vH4EWvf5fPb16pzI1vn2t/sa1BDCrrpZ1Mjdd/gRcrKXw==\r\n\r\nhost;x-amz-content-sha256;x-amz-date;x-amz-security-token\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200709T223436Z\r\n20200709/us-east-1/s3/aws4_request\r\n1aedc07bb96bbaf4088507c03de8480ce973b4c3794fda3afc14f8a78ae37689\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - Signature:\r\n3400362811933c40cb96c7bfbd15160bab801a4f1012511c00030ccdb940c9ac\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event request-created.s3.GetObjectTagging: calling handler <function signal_transferring at 0x7f37c272fb70>\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging, headers={'User-Agent': b'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33', 'X-Amz-Date': b'20200709T223436Z', 'X-Amz-Security-Token': b'FwoGZXIvYXdzEIf//////////wEaDIeMw5u+hS2aR6BK4CKpAXM5Oaiyt1LxUFHC0aLESwylSI+IQcCfsaar1NLm2arD9FL6y37F9DW0S0jAPcrOKDHd2KkOvcNDIhpNCtUu7lemvAZMUvpS4tFg5Bro5szBh/Waub/QcpVUm0kCtZO2IV8TDpMRQ6bntJ92hqex807Cmc9hFSBtwwKdJ/fLXMaAfJUHo+OTfFr8tdsJDpdRkl6aKZkiG9Y4FbVYWWYRZazCCU9+pOeaFT0o26Ce+AUyLbAmG4SVLSrgnYwN0vH4EWvf5fPb16pzI1vn2t/sa1BDCrrpZ1Mjdd/gRcrKXw==', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=ASIA4JG3IYP2O3T2VS2K/20200709/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-security-token, Signature=3400362811933c40cb96c7bfbd15160bab801a4f1012511c00030ccdb940c9ac'}>\r\n2020-07-09 15:34:36,733 - ThreadPoolExecutor-1_0 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): source_bucket.s3.amazonaws.com:443\r\n2020-07-09 15:34:36,950 - ThreadPoolExecutor-1_0 - urllib3.connectionpool - DEBUG - https://source_bucket.s3.amazonaws.com:443 \"GET /2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging HTTP/1.1\" 403 None\r\n2020-07-09 15:34:36,950 - ThreadPoolExecutor-1_0 - botocore.parsers - DEBUG - Response headers: {'x-amz-request-id': '5042096AE1CD6529', 'x-amz-id-2': 'kCHMzneOvDKrU0bW2vOkZls88+8c8ISNESD3/FEDmM+NNCKp2NqG1Zmt+9FwlTpk55DTRGqUYdY=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 09 Jul 2020 22:34:36 GMT', 'Server': 'AmazonS3'}\r\n2020-07-09 15:34:36,950 - ThreadPoolExecutor-1_0 - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>AccessDenied</Code><Message>Access Denied</Message><RequestId>5042096AE1CD6529</RequestId><HostId>kCHMzneOvDKrU0bW2vOkZls88+8c8ISNESD3/FEDmM+NNCKp2NqG1Zmt+9FwlTpk55DTRGqUYdY=</HostId></Error>'\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event needs-retry.s3.GetObjectTagging: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f37c1b98588>>\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event needs-retry.s3.GetObjectTagging: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x7f37c1b982b0>>\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event after-call.s3.GetObjectTagging: calling handler <function enhance_error_msg at 0x7f37c21d9f28>\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event after-call.s3.GetObjectTagging: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f37c1b98208>>\r\n2020-07-09 15:34:36,954 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - Exception raised.\r\nTraceback (most recent call last):\r\n  File \"s3transfer/tasks.py\", line 248, in _main\r\n  File \"awscli/customizations/s3/subscribers.py\", line 295, in on_queued\r\n  File \"awscli/customizations/s3/subscribers.py\", line 337, in _get_tags\r\n  File \"botocore/client.py\", line 208, in _api_call\r\n  File \"botocore/client.py\", line 527, in _make_api_call\r\nbotocore.exceptions.ClientError: An error occurred (AccessDenied) when calling the GetObjectTagging operation: Access Denied\r\n2020-07-09 15:34:36,955 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None\r\ncopy failed: s3://source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz to s3://destination_bucket/part-09228.gz An error occurred (AccessDenied) when calling the GetObjectTagging operation: Access Denied\r\n2020-07-09 15:34:36,955 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.\r\n\r\n**Additional context**\r\nsync works fine in v1.18.97", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5375/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5375/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5333", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5333/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5333/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5333/events", "html_url": "https://github.com/aws/aws-cli/issues/5333", "id": 649689665, "node_id": "MDU6SXNzdWU2NDk2ODk2NjU=", "number": 5333, "title": "--profile option not prioritised when AWS_PROFILE is invalid profile name", "user": {"login": "LomaxOnTheRun", "id": 19788249, "node_id": "MDQ6VXNlcjE5Nzg4MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/19788249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LomaxOnTheRun", "html_url": "https://github.com/LomaxOnTheRun", "followers_url": "https://api.github.com/users/LomaxOnTheRun/followers", "following_url": "https://api.github.com/users/LomaxOnTheRun/following{/other_user}", "gists_url": "https://api.github.com/users/LomaxOnTheRun/gists{/gist_id}", "starred_url": "https://api.github.com/users/LomaxOnTheRun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LomaxOnTheRun/subscriptions", "organizations_url": "https://api.github.com/users/LomaxOnTheRun/orgs", "repos_url": "https://api.github.com/users/LomaxOnTheRun/repos", "events_url": "https://api.github.com/users/LomaxOnTheRun/events{/privacy}", "received_events_url": "https://api.github.com/users/LomaxOnTheRun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-02T07:04:06Z", "updated_at": "2021-03-26T22:50:52Z", "closed_at": "2021-03-26T22:50:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\nThe `AWS_PROFILE` env var overrides the `--profile` option when `AWS_PROFILE` is set to a non-existent profile.\r\n\r\n**SDK version number**\r\n\r\n`aws-cli/2.0.25 Python/3.7.3 Linux/5.4.0-37-generic botocore/2.0.0dev29`\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nUbuntu 20.04 LTS laptop\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n\r\n1. Unset `AWS_PROFILE`\r\n2. Run a command with `--profile` set (expected success)\r\n3. Set `AWS_PROFILE` to a valid profile name\r\n4. Run the command with `--profile` set to a valid value (expected success)\r\n5. Set `AWS_PROFILE` to an invalid profile name\r\n6. Run the command with `--profile` set to a valid value (unexpected failure)\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\nThe `--profile` option should override the `AWS_PROFILE` env var, even if the env var points to a non-existent profile.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n```\r\n$ unset AWS_PROFILE\r\n$ aws configure list-profiles\r\ndefault\r\nuser1\r\n$ export AWS_PROFILE=user1\r\n$ aws configure list-profiles --profile=default\r\ndefault\r\nuser1\r\n$ export AWS_PROFILE=user2\r\n$ aws configure list-profiles --profile=default --debug\r\n\r\nThe config profile (user2) could not be found\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\r\nI have the profile defined in `~/.aws/credentials`, and it doesn't matter if it's also defined in `~/.aws/config` (unexpected failure if it's defined or not).", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5333/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5327", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5327/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5327/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5327/events", "html_url": "https://github.com/aws/aws-cli/issues/5327", "id": 647290518, "node_id": "MDU6SXNzdWU2NDcyOTA1MTg=", "number": 5327, "title": "aws configure sso is not documented in awscli documentation site", "user": {"login": "heikkis", "id": 1392264, "node_id": "MDQ6VXNlcjEzOTIyNjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1392264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heikkis", "html_url": "https://github.com/heikkis", "followers_url": "https://api.github.com/users/heikkis/followers", "following_url": "https://api.github.com/users/heikkis/following{/other_user}", "gists_url": "https://api.github.com/users/heikkis/gists{/gist_id}", "starred_url": "https://api.github.com/users/heikkis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heikkis/subscriptions", "organizations_url": "https://api.github.com/users/heikkis/orgs", "repos_url": "https://api.github.com/users/heikkis/repos", "events_url": "https://api.github.com/users/heikkis/events{/privacy}", "received_events_url": "https://api.github.com/users/heikkis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}, {"id": 2221263953, "node_id": "MDU6TGFiZWwyMjIxMjYzOTUz", "url": "https://api.github.com/repos/aws/aws-cli/labels/sso", "name": "sso", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-29T11:33:34Z", "updated_at": "2021-04-21T21:26:40Z", "closed_at": "2021-04-21T21:26:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\"aws configure sso\" options are not documented in awscli documentation site.\r\n\r\nhttps://awscli.amazonaws.com/v2/documentation/api/latest/reference/configure/index.html\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5245", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5245/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5245/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5245/events", "html_url": "https://github.com/aws/aws-cli/issues/5245", "id": 627535909, "node_id": "MDU6SXNzdWU2Mjc1MzU5MDk=", "number": 5245, "title": "YAML format mismatch between aws-cli and CloudFormation service", "user": {"login": "iamed2", "id": 3131001, "node_id": "MDQ6VXNlcjMxMzEwMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3131001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamed2", "html_url": "https://github.com/iamed2", "followers_url": "https://api.github.com/users/iamed2/followers", "following_url": "https://api.github.com/users/iamed2/following{/other_user}", "gists_url": "https://api.github.com/users/iamed2/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamed2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamed2/subscriptions", "organizations_url": "https://api.github.com/users/iamed2/orgs", "repos_url": "https://api.github.com/users/iamed2/repos", "events_url": "https://api.github.com/users/iamed2/events{/privacy}", "received_events_url": "https://api.github.com/users/iamed2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-29T21:01:15Z", "updated_at": "2020-11-12T22:38:17Z", "closed_at": "2020-10-06T20:19:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nA comment in a previous issue mentioned this but the issue itself was unrelated.\r\n\r\n**Describe the bug**\r\n`aws cloudformation package` generates YAML 1.2, but the CloudFormation service expects YAML 1.1. This results in `aws cloudformation package` changing the string `\"yes\"` to the bare word `yes`, which is then interpreted by the CloudFormation service as `true`.\r\n\r\n**SDK version number**\r\n`aws-cli 2.0.17`\r\n\r\n**Platform/OS/Hardware/Device**\r\nmacOS 10.14.6\r\n\r\n**To Reproduce (observed behavior)**\r\nAttached is a simple template [`yes-repro.yaml`](https://github.com/aws/aws-cli/files/4704307/yes-repro.yaml.txt) that will produce the problematic output when run through `aws cloudformation package`. Deploying the packaged template will result in the custom resource failing, and deploying the template without packaging will successfully create the stack.\r\n\r\n**Expected behavior**\r\nI expect a `\"yes\"` to stay quoted in the output of `aws cloudformation package`. \r\n\r\n**Logs/output**\r\nI've attached [template output](https://github.com/aws/aws-cli/files/4704312/yes-repro-packaged.yaml.txt) from `aws cloudformation package`.\r\n\r\n**Additional context**\r\nThis was not an issue with awscli v1 because it generated YAML 1.1 and maintained the quoting of `\"yes\"`. \r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5245/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5241", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5241/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5241/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5241/events", "html_url": "https://github.com/aws/aws-cli/issues/5241", "id": 626627863, "node_id": "MDU6SXNzdWU2MjY2Mjc4NjM=", "number": 5241, "title": "<string>:270: (WARNING/2) Inline literal start-string without end-string.", "user": {"login": "andres-lowrie", "id": 6182700, "node_id": "MDQ6VXNlcjYxODI3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6182700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andres-lowrie", "html_url": "https://github.com/andres-lowrie", "followers_url": "https://api.github.com/users/andres-lowrie/followers", "following_url": "https://api.github.com/users/andres-lowrie/following{/other_user}", "gists_url": "https://api.github.com/users/andres-lowrie/gists{/gist_id}", "starred_url": "https://api.github.com/users/andres-lowrie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andres-lowrie/subscriptions", "organizations_url": "https://api.github.com/users/andres-lowrie/orgs", "repos_url": "https://api.github.com/users/andres-lowrie/repos", "events_url": "https://api.github.com/users/andres-lowrie/events{/privacy}", "received_events_url": "https://api.github.com/users/andres-lowrie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-28T16:02:59Z", "updated_at": "2021-04-01T19:39:10Z", "closed_at": "2021-04-01T19:38:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nRunning `aws cloudformation create-stack help` prints a warning\r\n\r\n**SDK version number**\r\n`aws-cli/2.0.13 Python/3.7.4 Darwin/18.6.0 botocore/2.0.0dev17`\r\n\r\n**Platform/OS/Hardware/Device**\r\nOSX\r\n\r\n**To Reproduce (observed behavior)**\r\nrun `aws cloudformation create-stack help`\r\n\r\n**Expected behavior**\r\nReturn of command without warnings\r\n\r\n**Logs/output**\r\n```\r\n\u276f aws cloudformation create-stack help --debug\r\n2020-05-28 10:58:19,351 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.13 Python/3.7.4 Darwin/18.6.0 botocore/2.0.0dev17\r\n2020-05-28 10:58:19,351 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['cloudformation', 'create-stack', 'help', '--debug']\r\n2020-05-28 10:58:19,351 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x105c97a70>\r\n2020-05-28 10:58:19,351 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x105338f80>\r\n2020-05-28 10:58:19,351 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x105ce1560>\r\n2020-05-28 10:58:19,352 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x1055c29e0>\r\n2020-05-28 10:58:19,361 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x105b2ab90>\r\n2020-05-28 10:58:19,361 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x105ace8c0>\r\n2020-05-28 10:58:19,371 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/cloudformation/2010-05-15/service-2.json\r\n2020-05-28 10:58:19,383 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cloudformation: calling handler <function inject_commands at 0x1056bff80>\r\n2020-05-28 10:58:19,383 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cloudformation: calling handler <function add_waiters at 0x105ca6680>\r\n2020-05-28 10:58:19,393 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/cloudformation/2010-05-15/waiters-2.json\r\n2020-05-28 10:58:19,394 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('stack-name', <awscli.arguments.CLIArgument object at 0x1077e6f50>), ('template-body', <awscli.arguments.CLIArgument object at 0x1077e6fd0>), ('template-url', <awscli.arguments.CLIArgument object at 0x1077e6f90>), ('parameters', <awscli.arguments.ListArgument object at 0x1077ef050>), ('disable-rollback', <awscli.arguments.BooleanArgument object at 0x1077ef090>), ('no-disable-rollback', <awscli.arguments.BooleanArgument object at 0x1077ef110>), ('rollback-configuration', <awscli.arguments.CLIArgument object at 0x105025ad0>), ('timeout-in-minutes', <awscli.arguments.CLIArgument object at 0x1077ef150>), ('notification-arns', <awscli.arguments.ListArgument object at 0x1077ef190>), ('capabilities', <awscli.arguments.ListArgument object at 0x1077ef1d0>), ('resource-types', <awscli.arguments.ListArgument object at 0x1077ef310>), ('role-arn', <awscli.arguments.CLIArgument object at 0x1077ef3d0>), ('on-failure', <awscli.arguments.CLIArgument object at 0x1077ef390>), ('stack-policy-body', <awscli.arguments.CLIArgument object at 0x1077ef350>), ('stack-policy-url', <awscli.arguments.CLIArgument object at 0x1077ef510>), ('tags', <awscli.arguments.ListArgument object at 0x1077ef450>), ('client-request-token', <awscli.arguments.CLIArgument object at 0x1077ef490>), ('enable-termination-protection', <awscli.arguments.BooleanArgument object at 0x1077ef4d0>), ('no-enable-termination-protection', <awscli.arguments.BooleanArgument object at 0x1077ef550>)])\r\n2020-05-28 10:58:19,394 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cloudformation.create-stack: calling handler <function add_streaming_output_arg at 0x105c9ac20>\r\n2020-05-28 10:58:19,394 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cloudformation.create-stack: calling handler <function add_cli_input_json at 0x1055c9c20>\r\n2020-05-28 10:58:19,395 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cloudformation.create-stack: calling handler <function add_cli_input_yaml at 0x1055c9440>\r\n2020-05-28 10:58:19,395 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cloudformation.create-stack: calling handler <function unify_paging_params at 0x105ae8e60>\r\n2020-05-28 10:58:19,404 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/cloudformation/2010-05-15/paginators-1.json\r\n2020-05-28 10:58:19,405 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cloudformation.create-stack: calling handler <function add_generate_skeleton at 0x105bd8b90>\r\n2020-05-28 10:58:19,405 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cloudformation.create-stack: calling handler <function add_auto_prompt at 0x105ce2710>\r\n2020-05-28 10:58:19,405 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.cloudformation.create-stack: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x105025610>>\r\n2020-05-28 10:58:19,405 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.cloudformation.create-stack: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x1077ef650>>\r\n2020-05-28 10:58:19,405 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.cloudformation.create-stack: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x1077fb310>>\r\n2020-05-28 10:58:19,405 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.cloudformation.create-stack: calling handler <bound method AutoPromptArgument.override_required_args of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x1077fe9d0>>\r\n2020-05-28 10:58:19,407 - MainThread - botocore.hooks - DEBUG - Event doc-breadcrumbs.cloudformation.create-stack: calling handler <bound method CLIDocumentEventHandler.doc_breadcrumbs of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,407 - MainThread - botocore.hooks - DEBUG - Event doc-title.cloudformation.create-stack: calling handler <bound method CLIDocumentEventHandler.doc_title of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,407 - MainThread - botocore.hooks - DEBUG - Event doc-description.cloudformation.create-stack: calling handler <bound method OperationDocumentEventHandler.doc_description of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-description.cloudformation.create-stack: calling handler <function add_paging_description at 0x105ae8dd0>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-start.cloudformation.create-stack: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_start of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.stack-name: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.template-body: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.template-url: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.parameters: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.disable-rollback: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.no-disable-rollback: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.rollback-configuration: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.timeout-in-minutes: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.notification-arns: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.capabilities: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.resource-types: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.role-arn: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,408 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.on-failure: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.stack-policy-body: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.stack-policy-url: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.tags: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.client-request-token: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.enable-termination-protection: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.no-enable-termination-protection: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.cli-input-json: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.cli-input-yaml: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.generate-cli-skeleton: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-option.cloudformation.create-stack.cli-auto-prompt: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-end.cloudformation.create-stack: calling handler <bound method CLIDocumentEventHandler.doc_synopsis_end of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-options-start.cloudformation.create-stack: calling handler <bound method CLIDocumentEventHandler.doc_options_start of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.stack-name: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,409 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.stack-name: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,410 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.template-body: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,410 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.template-body: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,410 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.template-url: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,410 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.template-url: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,410 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.parameters: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,411 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.parameters: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,411 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.disable-rollback: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,412 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.disable-rollback: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,412 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.no-disable-rollback: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,412 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.no-disable-rollback: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,412 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.rollback-configuration: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,413 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.rollback-configuration: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,413 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.timeout-in-minutes: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,413 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.timeout-in-minutes: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,413 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.notification-arns: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,413 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.notification-arns: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,414 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.capabilities: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,416 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.capabilities: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,416 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.resource-types: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,417 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.resource-types: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,417 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.role-arn: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,417 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.role-arn: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,417 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.on-failure: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,418 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.on-failure: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,418 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.stack-policy-body: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,418 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.stack-policy-body: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,418 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.stack-policy-url: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,419 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.stack-policy-url: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,419 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.tags: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,419 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.tags: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,419 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.client-request-token: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.client-request-token: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.enable-termination-protection: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.enable-termination-protection: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.no-enable-termination-protection: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.no-enable-termination-protection: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.cli-input-json: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.cli-input-json: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,420 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.cli-input-yaml: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.cli-input-yaml: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.generate-cli-skeleton: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.generate-cli-skeleton: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-option.cloudformation.create-stack.cli-auto-prompt: calling handler <bound method CLIDocumentEventHandler.doc_option of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-option-example.cloudformation.create-stack.cli-auto-prompt: calling handler <bound method OperationDocumentEventHandler.doc_option_example of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-options-end.cloudformation.create-stack: calling handler <bound method OperationDocumentEventHandler.doc_options_end of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-examples.cloudformation.create-stack: calling handler <function add_examples at 0x1054ba950>\r\n2020-05-28 10:58:19,421 - MainThread - awscli.customizations.addexamples - DEBUG - Looking for example file at: /usr/local/aws-cli/awscli/examples/cloudformation/create-stack.rst\r\n2020-05-28 10:58:19,421 - MainThread - botocore.hooks - DEBUG - Event doc-output.cloudformation.create-stack: calling handler <bound method OperationDocumentEventHandler.doc_output of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n2020-05-28 10:58:19,422 - MainThread - botocore.hooks - DEBUG - Event doc-relateditems-start.cloudformation.create-stack: calling handler <bound method CLIDocumentEventHandler.doc_relateditems_start of <awscli.clidocs.OperationDocumentEventHandler object at 0x107809210>>\r\n<string>:270: (WARNING/2) Inline literal start-string without end-string.\r\n2020-05-28 10:58:19,496 - MainThread - awscli.help - DEBUG - Running command: ['groff', '-m', 'man', '-T', 'ascii']\r\n2020-05-28 10:58:19,518 - MainThread - awscli.help - DEBUG - Running command: ['less']\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5239", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5239/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5239/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5239/events", "html_url": "https://github.com/aws/aws-cli/issues/5239", "id": 626467218, "node_id": "MDU6SXNzdWU2MjY0NjcyMTg=", "number": 5239, "title": "[v2] aws configure corrupts configuration if value contains square brackets", "user": {"login": "vngx", "id": 618186, "node_id": "MDQ6VXNlcjYxODE4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/618186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vngx", "html_url": "https://github.com/vngx", "followers_url": "https://api.github.com/users/vngx/followers", "following_url": "https://api.github.com/users/vngx/following{/other_user}", "gists_url": "https://api.github.com/users/vngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/vngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vngx/subscriptions", "organizations_url": "https://api.github.com/users/vngx/orgs", "repos_url": "https://api.github.com/users/vngx/repos", "events_url": "https://api.github.com/users/vngx/events{/privacy}", "received_events_url": "https://api.github.com/users/vngx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-28T12:24:44Z", "updated_at": "2020-06-11T19:00:33Z", "closed_at": "2020-06-11T19:00:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nIf the `aws configure set` command is used to set any values which contain a pair of square brackets ('[', ']'), the configuration may become corrupted and break the AWS CLI. The issue appears to be caused by the [`ConfigFileWriter::_update_section_contents`](https://github.com/aws/aws-cli/blob/4ff0cbacbac69a21d4dd701921fe0759cf7852ed/awscli/customizations/configure/writer.py#L115) method which uses a regular expression to identify the end of the current section by searching if a line contains square brackets; it will incorrectly identify a property value containing brackets as the start of a new section and attempt to insert a duplicate property key.\r\n\r\nThe scenario was uncovered when attempting to store the session expiration timestamp in ISO 8601 format with a named zone ID (see [Java DateTimeFormatter#ISO_DATE_TIME](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME)) which formats date strings as `2020-05-28T08:00:13.431-04:00[America/New_York]`. The first `set` command works correctly by inserting a new key/value pair; a subsequent `set` command to update the value will insert a duplicate key instead of updating the existing value. The duplicate keys corrupts the configuration and all future AWS CLI commands will fail until the configuration is fixed.\r\n\r\n**SDK version number**\r\n```\r\n$> aws --version\r\naws-cli/2.0.10 Python/3.7.5 Windows/10 botocore/2.0.0dev14\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows/OSX\r\n\r\n**To Reproduce (observed behavior)**\r\nFirst `set` a key/value pair which contains square brackets:\r\n```\r\n$> aws configure set session_expiration 2020-05-28T08:00:13.431-04:00[America/New_York]\r\n```\r\nThen `set` the same key again to attempt an update:\r\n```\r\n$> aws configure set session_expiration 2020-05-28T09:00:13.431-04:00[America/New_York]\r\n```\r\nThe `~/.aws/config` is corrupted due to duplicate values; running any additional `aws` commands will fail as follows:\r\n```\r\n$> aws --version\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\configloader.py\", line 149, in raw_config_parse\r\n  File \"configparser.py\", line 696, in read\r\n  File \"configparser.py\", line 1091, in _read\r\nconfigparser.DuplicateOptionError: While reading from 'C:\\\\redacted/.aws/config' [line  4]: option 'session_expiration' in section 'default' already exists\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"aws\", line 27, in <module>\r\n  File \"aws\", line 23, in main\r\n  File \"lib\\site-packages\\awscli\\clidriver.py\", line 90, in main\r\n  File \"lib\\site-packages\\awscli\\clidriver.py\", line 99, in create_clidriver\r\n  File \"lib\\site-packages\\botocore\\session.py\", line 350, in full_config\r\n  File \"lib\\site-packages\\botocore\\configloader.py\", line 106, in load_config\r\n  File \"lib\\site-packages\\botocore\\configloader.py\", line 152, in raw_config_parse\r\nbotocore.exceptions.ConfigParseError: Unable to parse config file: C:\\redacted/.aws/config\r\n[11360] Failed to execute script aws\r\n```\r\n\r\n**Expected behavior**\r\nA subsequent `set` command for an existing property key should update the existing property value containing square brackets instead of inserting a duplicate key. Alternatively, if property values containing square brackets are not supported, then the `set` command could return an error when attempting to specify a property value with square brackets to avoid corrupting the configuration.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5228", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5228/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5228/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5228/events", "html_url": "https://github.com/aws/aws-cli/issues/5228", "id": 622875352, "node_id": "MDU6SXNzdWU2MjI4NzUzNTI=", "number": 5228, "title": "Content-Type not correctly stored for tar.gz files when uploading with CLI vs Console", "user": {"login": "alanwill", "id": 1929792, "node_id": "MDQ6VXNlcjE5Mjk3OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1929792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanwill", "html_url": "https://github.com/alanwill", "followers_url": "https://api.github.com/users/alanwill/followers", "following_url": "https://api.github.com/users/alanwill/following{/other_user}", "gists_url": "https://api.github.com/users/alanwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanwill/subscriptions", "organizations_url": "https://api.github.com/users/alanwill/orgs", "repos_url": "https://api.github.com/users/alanwill/repos", "events_url": "https://api.github.com/users/alanwill/events{/privacy}", "received_events_url": "https://api.github.com/users/alanwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-22T00:50:44Z", "updated_at": "2021-12-16T18:15:34Z", "closed_at": "2021-12-16T18:15:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n`Content-Type` isn't accurately applied when copying `tar.gz` files to S3 using the CLI. Works as expected from the Console\r\n\r\n**Platform/OS/Hardware/Device**\r\nReproduced on both Linux and macOS\r\naws-cli/2.0.10 Python/3.8.2 Darwin/19.4.0 botocore/2.0.0dev14\r\n\r\n**To Reproduce (observed behavior)**\r\n`aws s3 cp somefile.tar.gz s3://mybucket`\r\n\r\n**Expected behavior**\r\nI'd expect the Content-Type to be `application/x-gzip` but instead it's `application/x-tar`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5202", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5202/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5202/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5202/events", "html_url": "https://github.com/aws/aws-cli/issues/5202", "id": 618541495, "node_id": "MDU6SXNzdWU2MTg1NDE0OTU=", "number": 5202, "title": "s3 ls and sync might work differently with object listing due delimiter variable", "user": {"login": "imrehg", "id": 38863, "node_id": "MDQ6VXNlcjM4ODYz", "avatar_url": "https://avatars.githubusercontent.com/u/38863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imrehg", "html_url": "https://github.com/imrehg", "followers_url": "https://api.github.com/users/imrehg/followers", "following_url": "https://api.github.com/users/imrehg/following{/other_user}", "gists_url": "https://api.github.com/users/imrehg/gists{/gist_id}", "starred_url": "https://api.github.com/users/imrehg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imrehg/subscriptions", "organizations_url": "https://api.github.com/users/imrehg/orgs", "repos_url": "https://api.github.com/users/imrehg/repos", "events_url": "https://api.github.com/users/imrehg/events{/privacy}", "received_events_url": "https://api.github.com/users/imrehg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-05-14T21:17:41Z", "updated_at": "2022-11-03T18:04:30Z", "closed_at": "2022-11-03T18:04:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on? Linux\r\n\r\n**Describe the question**\r\n\r\n[Based on this AWS blogpost](https://aws.amazon.com/blogs/security/writing-iam-policies-grant-access-to-user-specific-folders-in-an-amazon-s3-bucket/) I've set up an S3 bucket with a policy that a given IAM user can only read objects at certain prefixes, which is something like this:\r\n\r\n```json\r\n...\r\n{\r\n     \"Sid\": \"AllowRootAndHomeListingOfCompanyBucket\",\r\n     \"Action\": [\"s3:ListBucket\"],\r\n     \"Effect\": \"Allow\",\r\n     \"Resource\": [\"arn:aws:s3:::my-company\"],\r\n     \"Condition\":{\"StringEquals\":{\"s3:prefix\":[\"\",\"home/\", \"home/David\"],\"s3:delimiter\":[\"/\"]}}\r\n},\r\n...\r\n```\r\n\r\nWhen I try to list contents of that prefix with `aws s3 ls ...` it all works.\r\nBut when using `aws s3 sync ...` with the same path, it fails, with\r\n```\r\nfatal error: An error occurred (AccessDenied) when calling the ListObjectsV2 operation: Access Denied\r\n``` \r\n\r\nWhen debugging this, turns out, that:\r\n* when `s3 ls` sends a list request to a prefix, it automatically adds `delimiter=/` to the query besides `prefix=...`\r\n* when `s3 sync` sends a list request, it does not add `delimiter=/` automatically, only sends `prefix=...` and thus fails the condition check (which looks for both prefix and delimiter)\r\n\r\nWhy might be there this difference of the handling of object listing in the two case? Or am I misunderstanding something?\r\n\r\nI'd prefer keeping the delimiter in the condition for more certainty, but this prevents me using `sync`.\r\n\r\n**Debug output**\r\n\r\nThe policy in my case was \r\n```json\r\n...\r\n{\r\n     \"Sid\": \"AllowRootAndHomeListingOfCompanyBucket\",\r\n     \"Action\": [\"s3:ListBucket\"],\r\n     \"Effect\": \"Allow\",\r\n     \"Resource\": [\"arn:aws:s3:::REDACTED\"],\r\n     \"Condition\":{\"StringEquals\":{\"s3:prefix\":[\"training/value/*\"],\"s3:delimiter\":[\"/\"]}}\r\n},\r\n...\r\n```\r\n\r\nThe log from `aws s3 ls --debug s3://REDACTED/training/value/`:\r\n```\r\n[snip]\r\n2020-05-14 21:09:38,379 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://REDACTED/?list-type=2&prefix=training%2Fvalue%2F&delimiter=%2F&encoding-type=url, headers={'User-Agent': b'aws-cli/1.18.60 Python/3.6.10 Linux/4.9.0-11-amd64 botocore/1.16.10', 'X-Amz-Date': b'20200514T210938Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=REDACTED/20200514/eu-west-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=e3092f32b9c811de8271586777c59caf328599512e88bad07c3aa730023f687b'}>\r\n2020-05-14 21:09:38,380 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): REDACTED:443\r\n2020-05-14 21:09:38,560 - MainThread - urllib3.connectionpool - DEBUG - https://nccid-data-warehouse-villain.s3.eu-west-2.amazonaws.com:443 \"GET /?list-type=2&prefix=training%2Fvalue%2F&delimiter=%2F&encoding-type=url HTTP/1.1\" 200 None\r\n2020-05-14 21:09:38,560 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-id-2': 'DCLEhoOme145TflKIlBuRVtvkjdK6q5RqNQUKiFcg5kotFrKwE+cDwf0T1966Sq48r/8CRD6Zq4=', 'x-amz-request-id': 'D5ED3ACA65438AB8', 'Date': 'Thu, 14 May 2020 21:09:39 GMT', 'x-amz-bucket-region': 'eu-west-2', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Server': 'AmazonS3'}\r\n2020-05-14 21:09:38,560 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<ListBucketResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\">.....</ListBucketResult>'\r\n[snip]\r\n```\r\n\r\nThe log from `aws s3 sync --debug s3://REDACTED/training/value/ /tmp/value`:\r\n```\r\n[snip]\r\n2020-05-14 21:06:26,753 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://REDACTED/?list-type=2&prefix=training%2Fvalue%2F&encoding-type=url, headers={'User-Agent': b'aws-cli/1.18.60 Python/3.6.10 Linux/4.9.0-11-amd64 botocore/1.16.10', 'X-Amz-Date': b'20200514T210626Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=REDACTED/20200514/eu-west-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8db9d9ccd2f3547b6369d9e115367c7cf384d2a45fe2780646057d7a0020608f'}>\r\n2020-05-14 21:06:26,753 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): nccid-data-warehouse-villain.s3.eu-west-2.amazonaws.com:443\r\n2020-05-14 21:06:26,797 - MainThread - urllib3.connectionpool - DEBUG - https://REDACTED:443 \"GET /?list-type=2&prefix=training%2Fvalue%2F&encoding-type=url HTTP/1.1\" 403 None\r\n2020-05-14 21:06:26,797 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-bucket-region': 'eu-west-2', 'x-amz-request-id': 'F4CC66F95F1AB499', 'x-amz-id-2': 'VDdxGsg2Adc29T1Nj9z1paTEZXdoyXhCQky1xbbalk06flfeMByrV0vLftfwZXjTg7LdaoNTRtM=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 14 May 2020 21:06:26 GMT', 'Server': 'AmazonS3'}\r\n2020-05-14 21:06:26,797 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>AccessDenied</Code><Message>Access Denied</Message><RequestId>F4CC66F95F1AB499</RequestId><HostId>VDdxGsg2Adc29T1Nj9z1paTEZXdoyXhCQky1xbbalk06flfeMByrV0vLftfwZXjTg7LdaoNTRtM=</HostId></Error>'\r\n[snip]\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5192", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5192/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5192/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5192/events", "html_url": "https://github.com/aws/aws-cli/issues/5192", "id": 615633828, "node_id": "MDU6SXNzdWU2MTU2MzM4Mjg=", "number": 5192, "title": "Upload fails for empty files (Object lock + default retention period)", "user": {"login": "jschuldes", "id": 22750934, "node_id": "MDQ6VXNlcjIyNzUwOTM0", "avatar_url": "https://avatars.githubusercontent.com/u/22750934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jschuldes", "html_url": "https://github.com/jschuldes", "followers_url": "https://api.github.com/users/jschuldes/followers", "following_url": "https://api.github.com/users/jschuldes/following{/other_user}", "gists_url": "https://api.github.com/users/jschuldes/gists{/gist_id}", "starred_url": "https://api.github.com/users/jschuldes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jschuldes/subscriptions", "organizations_url": "https://api.github.com/users/jschuldes/orgs", "repos_url": "https://api.github.com/users/jschuldes/repos", "events_url": "https://api.github.com/users/jschuldes/events{/privacy}", "received_events_url": "https://api.github.com/users/jschuldes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-05-11T06:48:03Z", "updated_at": "2021-09-07T14:35:31Z", "closed_at": "2021-03-02T00:44:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI want to copy a directory from the local filesystem to an S3 Bucket using the following command: \"aws s3 cp /my-files/ s3://my-bucket/ --recursive\". The directory I want to copy also contains empty files (0 byte).\r\nThis works if I have a Bucket in which the default retention period (Object Lock) is disabled. Since I want to prevent the content from being deleted, I have to activate the object lock with a retention period set by default.\r\nWith this configuration, the copy command treats 0-byte files incorrectly and the following error occurs:\r\n_An error occurred (InvalidRequest) when calling the PutObject operation: Content-MD5 HTTP header is required for Put Object requests with Object Lock parameters_\r\n\r\n**CLI version number**\r\naws-cli/1.16.215 Python/2.7.16 Linux/4.15.0-99-generic botocore/1.12.205\r\naws-cli/2.0.10 Python/3.7.3 Linux/4.15.0-99-generic botocore/2.0.0dev14\r\n\r\n**Platform/OS/Hardware/Device**\r\nUbuntu 18.04.4 LTS\r\n\r\n**To Reproduce (observed behavior)**\r\n- Create an empty file\r\n- Create a new S3 Bucket with Object Lock enabled\r\n- Configure Object Lock for compliance mode and a retention period e.g. 1 day\r\n- Try to copy the empty file: \"aws s3 cp ./empty-file.txt s3://MY-BUCKET\r\n\r\n**Expected behavior**\r\nThe empty file is copied to the bucket. The Put Object request contains the Content-MD5 HTTP header for the zero byte file.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5144", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5144/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5144/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5144/events", "html_url": "https://github.com/aws/aws-cli/issues/5144", "id": 604964429, "node_id": "MDU6SXNzdWU2MDQ5NjQ0Mjk=", "number": 5144, "title": "pager invoked even when there is no output", "user": {"login": "stickystyle", "id": 858414, "node_id": "MDQ6VXNlcjg1ODQxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/858414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stickystyle", "html_url": "https://github.com/stickystyle", "followers_url": "https://api.github.com/users/stickystyle/followers", "following_url": "https://api.github.com/users/stickystyle/following{/other_user}", "gists_url": "https://api.github.com/users/stickystyle/gists{/gist_id}", "starred_url": "https://api.github.com/users/stickystyle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stickystyle/subscriptions", "organizations_url": "https://api.github.com/users/stickystyle/orgs", "repos_url": "https://api.github.com/users/stickystyle/repos", "events_url": "https://api.github.com/users/stickystyle/events{/privacy}", "received_events_url": "https://api.github.com/users/stickystyle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 2256475524, "node_id": "MDU6TGFiZWwyMjU2NDc1NTI0", "url": "https://api.github.com/repos/aws/aws-cli/labels/pager", "name": "pager", "color": "c7ddfc", "default": false, "description": "issues related to AWS_PAGER, cli_pager, or other client-side paging (not API pagination)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-22T18:19:03Z", "updated_at": "2021-05-06T17:27:38Z", "closed_at": "2021-05-06T17:27:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\nConfirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nPR https://github.com/aws/aws-cli/pull/4702 introduced a default pager for output, however this pager gets invoked even when there is no output, such as writing to a file. This results in the pager getting opened with empty content.\r\n\r\n**SDK version number**\r\naws-cli/2.0.8 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev12\r\n\r\n**Platform/OS/Hardware/Device**\r\nOS X 10.14.6\r\n\r\n**To Reproduce (observed behavior)**\r\nRun a command that supports writing to a file.\r\n`$ aws appsync get-introspection-schema --api-id $API_ID --include-directives --format SDL .api.graphql`\r\n\r\n**Expected behavior**\r\nThe pager should not start\r\n\r\n**Additional context**\r\nThe pager can of course be disabled with `AWS_PAGER=\"\"`, but it doesn't make sense to even call the pager when there is nothing to display.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5144/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5144/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5086", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5086/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5086/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5086/events", "html_url": "https://github.com/aws/aws-cli/issues/5086", "id": 588899009, "node_id": "MDU6SXNzdWU1ODg4OTkwMDk=", "number": 5086, "title": "Unable to load file:// with non-English char in UTF-8 encoding on Windows", "user": {"login": "Zeeeeta", "id": 26813698, "node_id": "MDQ6VXNlcjI2ODEzNjk4", "avatar_url": "https://avatars.githubusercontent.com/u/26813698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zeeeeta", "html_url": "https://github.com/Zeeeeta", "followers_url": "https://api.github.com/users/Zeeeeta/followers", "following_url": "https://api.github.com/users/Zeeeeta/following{/other_user}", "gists_url": "https://api.github.com/users/Zeeeeta/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zeeeeta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zeeeeta/subscriptions", "organizations_url": "https://api.github.com/users/Zeeeeta/orgs", "repos_url": "https://api.github.com/users/Zeeeeta/repos", "events_url": "https://api.github.com/users/Zeeeeta/events{/privacy}", "received_events_url": "https://api.github.com/users/Zeeeeta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289140250, "node_id": "MDU6TGFiZWwyODkxNDAyNTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/unicode", "name": "unicode", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2020-03-27T05:32:36Z", "updated_at": "2021-02-24T22:18:21Z", "closed_at": "2020-06-24T19:10:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "**OS**: Win10\r\n**CLI**: aws-cli/2.0.5 Python/3.7.5 Windows/10 botocore/2.0.0dev9\r\nNot sure if this is relevant since AWSCLI2 uses own copy of python, but I have Python 3.7.6 installed as well\r\n\r\nI got the following error when calling `aws dynamodb batch-write-item --request-items file://xxx.json` in a windows .bat where the json file contains non-English char.\r\n```\r\nError parsing parameter '--request-items': Unable to load paramfile (xxx.json), text contents could not be decoded.  If this is a binary file, please use the fileb:// prefix instead of the file:// prefix.\r\n```\r\n\r\nAdding --debug shows the following\r\n```\r\n2020-03-27 12:23:08,369 - MainThread - awscli.clidriver - DEBUG - Client side parameter validation failed\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\awscli\\paramfile.py\", line 86, in get_file\r\nUnicodeDecodeError: 'cp950' codec can't decode byte 0x96 in position 218: illegal multibyte sequence\r\n```\r\nTried adding the following in the batch session but none of them helps\r\n```\r\nCHCP 65001\r\nset PYTHONUTF8=1\r\nset PYTHONIOENCODING=UTF-8\r\n```\r\n\r\nObviously I should **NOT** try to modify the python script and add ```, encoding='utf8'``` to the params of open(), and I would avoid modifying Windows' system variable or registry.\r\n\r\nAny help would be much appreciated, thanks.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5086/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5086/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5037", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5037/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5037/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5037/events", "html_url": "https://github.com/aws/aws-cli/issues/5037", "id": 575796783, "node_id": "MDU6SXNzdWU1NzU3OTY3ODM=", "number": 5037, "title": "Resource completion fails with missing region but region is defined in profile", "user": {"login": "ccayg-sainsburys", "id": 28563209, "node_id": "MDQ6VXNlcjI4NTYzMjA5", "avatar_url": "https://avatars.githubusercontent.com/u/28563209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccayg-sainsburys", "html_url": "https://github.com/ccayg-sainsburys", "followers_url": "https://api.github.com/users/ccayg-sainsburys/followers", "following_url": "https://api.github.com/users/ccayg-sainsburys/following{/other_user}", "gists_url": "https://api.github.com/users/ccayg-sainsburys/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccayg-sainsburys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccayg-sainsburys/subscriptions", "organizations_url": "https://api.github.com/users/ccayg-sainsburys/orgs", "repos_url": "https://api.github.com/users/ccayg-sainsburys/repos", "events_url": "https://api.github.com/users/ccayg-sainsburys/events{/privacy}", "received_events_url": "https://api.github.com/users/ccayg-sainsburys/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}, {"id": 371679656, "node_id": "MDU6TGFiZWwzNzE2Nzk2NTY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/confusing-error", "name": "confusing-error", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stobrien89", "id": 60306702, "node_id": "MDQ6VXNlcjYwMzA2NzAy", "avatar_url": "https://avatars.githubusercontent.com/u/60306702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stobrien89", "html_url": "https://github.com/stobrien89", "followers_url": "https://api.github.com/users/stobrien89/followers", "following_url": "https://api.github.com/users/stobrien89/following{/other_user}", "gists_url": "https://api.github.com/users/stobrien89/gists{/gist_id}", "starred_url": "https://api.github.com/users/stobrien89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stobrien89/subscriptions", "organizations_url": "https://api.github.com/users/stobrien89/orgs", "repos_url": "https://api.github.com/users/stobrien89/repos", "events_url": "https://api.github.com/users/stobrien89/events{/privacy}", "received_events_url": "https://api.github.com/users/stobrien89/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-04T21:36:48Z", "updated_at": "2021-02-25T01:19:09Z", "closed_at": "2021-02-25T01:18:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\naws --version\r\naws-cli/2.0.0 Python/3.8.1 Darwin/19.3.0 botocore/2.0.0dev4\r\n```\r\n\r\nWith this:\r\n```\r\naws --profile PROFILENAME configure list\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile           PROFILENAME           manual    --profile\r\naccess_key     ******************** shared-credentials-file\r\nsecret_key     ******************** shared-credentials-file\r\n    region                eu-west-1      config-file    ~/.aws/config\r\n```\r\n\r\nThis works:\r\n```\r\naws --profile PROFILENAME dynamodb list-tables\r\n```\r\n\r\nAs does this:\r\n```\r\naws --profile PROFILENAME dynamodb describe-table --table-name TABLENAME\r\n```\r\n\r\nBut:\r\n```\r\naws --profile PROFILENAME dynamodb describe-table --table-name <TAB>\r\n```\r\n\r\nfails with\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/aws_completer\", line 36, in <module>\r\n    main()\r\n  File \"/usr/local/bin/aws_completer\", line 28, in main\r\n    autocomplete(command_line, command_index)\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/awscli/autocomplete/main.py\", line 61, in autocomplete\r\n    results = completer.autocomplete(command_line, position)\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/awscli/autocomplete/completer.py\", line 44, in autocomplete\r\n    result = completer.complete(parsed)\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/awscli/autocomplete/serverside/servercomp.py\", line 94, in complete\r\n    raw_results = self._retrieve_remote_completion_data(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/awscli/autocomplete/serverside/servercomp.py\", line 112, in _retrieve_remote_completion_data\r\n    client = self._client_creator.create_client(service_name)\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/awscli/autocomplete/serverside/servercomp.py\", line 58, in create_client\r\n    return self._session.create_client(service_name, **kwargs)\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/session.py\", line 807, in create_client\r\n    client = client_creator.create_client(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/client.py\", line 78, in create_client\r\n    client_args = self._get_client_args(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/client.py\", line 170, in _get_client_args\r\n    return args_creator.get_client_args(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/args.py\", line 47, in get_client_args\r\n    final_args = self.compute_client_args(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/args.py\", line 123, in compute_client_args\r\n    endpoint_config = self._compute_endpoint_config(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/args.py\", line 192, in _compute_endpoint_config\r\n    return self._resolve_endpoint(**resolve_endpoint_kwargs)\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/args.py\", line 214, in _resolve_endpoint\r\n    return endpoint_bridge.resolve(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/client.py\", line 245, in resolve\r\n    resolved = self.endpoint_resolver.construct_endpoint(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/regions.py\", line 121, in construct_endpoint\r\n    result = self._endpoint_for_partition(\r\n  File \"/usr/local/Cellar/awscli/2.0.0/libexec/lib/python3.8/site-packages/botocore/regions.py\", line 135, in _endpoint_for_partition\r\n    raise NoRegionError()\r\nbotocore.exceptions.NoRegionError: You must specify a region.\r\n```\r\n\r\nThe same is not true if this is done:\r\n```\r\nexport AWS_PROFILE=PROFILENAME\r\naws dynamodb describe-table --table-name <TAB>\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5020", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5020/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5020/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5020/events", "html_url": "https://github.com/aws/aws-cli/issues/5020", "id": 573683944, "node_id": "MDU6SXNzdWU1NzM2ODM5NDQ=", "number": 5020, "title": "awscli-cwlogs module is unable to parse timestamps on February 29 when the format does not contain a year (e.g. syslog format)", "user": {"login": "dmason-atlassian", "id": 54616459, "node_id": "MDQ6VXNlcjU0NjE2NDU5", "avatar_url": "https://avatars.githubusercontent.com/u/54616459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmason-atlassian", "html_url": "https://github.com/dmason-atlassian", "followers_url": "https://api.github.com/users/dmason-atlassian/followers", "following_url": "https://api.github.com/users/dmason-atlassian/following{/other_user}", "gists_url": "https://api.github.com/users/dmason-atlassian/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmason-atlassian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmason-atlassian/subscriptions", "organizations_url": "https://api.github.com/users/dmason-atlassian/orgs", "repos_url": "https://api.github.com/users/dmason-atlassian/repos", "events_url": "https://api.github.com/users/dmason-atlassian/events{/privacy}", "received_events_url": "https://api.github.com/users/dmason-atlassian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-02T02:55:34Z", "updated_at": "2022-12-30T00:57:41Z", "closed_at": "2021-04-22T13:40:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "As soon as the date ticked over to Feb 29 we noticed that the cwlogs module began failing to parse syslog messages, showing an error like this:\r\n\r\n```Feb 29 00:00:02 ip-XXX-XXX-XXX-XXX aws[PID]: 2020-02-29 00:00:02,402 - cwlogs.push.reader - WARNING - PID - Thread-NN - Fall back to previous event time: {'timestamp': 1582934397000, 'start_position': NNNNNL, 'end_position': NNNNNL}, previousEventTime: 1582934397000, reason: timestamp could not be parsed from message.```\r\n\r\nDigging into the code for this, it looks like the cwlogs module uses strptime, which will always fail to parse February 29 unless it's explicitly passed a leap year in the format. There is some handling for a missing year, but this does not occur until after the strptime call, so it would have already bailed out with a `ValueError: day is out of range for month` before reaching that point.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5020/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5016", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5016/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5016/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5016/events", "html_url": "https://github.com/aws/aws-cli/issues/5016", "id": 572107476, "node_id": "MDU6SXNzdWU1NzIxMDc0NzY=", "number": 5016, "title": "Precedence of --profile CLI argument vs AWS_PROFILE env var is broken", "user": {"login": "mvallaly-rally", "id": 55113549, "node_id": "MDQ6VXNlcjU1MTEzNTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/55113549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvallaly-rally", "html_url": "https://github.com/mvallaly-rally", "followers_url": "https://api.github.com/users/mvallaly-rally/followers", "following_url": "https://api.github.com/users/mvallaly-rally/following{/other_user}", "gists_url": "https://api.github.com/users/mvallaly-rally/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvallaly-rally/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvallaly-rally/subscriptions", "organizations_url": "https://api.github.com/users/mvallaly-rally/orgs", "repos_url": "https://api.github.com/users/mvallaly-rally/repos", "events_url": "https://api.github.com/users/mvallaly-rally/events{/privacy}", "received_events_url": "https://api.github.com/users/mvallaly-rally/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}, {"id": 371679656, "node_id": "MDU6TGFiZWwzNzE2Nzk2NTY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/confusing-error", "name": "confusing-error", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-02-27T14:04:59Z", "updated_at": "2021-04-09T22:14:18Z", "closed_at": "2021-04-09T22:13:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to the docs (and in accordance with most unix tools) command line arguments generally override environment variables. https://amzn.to/2tglZeS\r\n\r\nThis seems to be broken or the docs are wrong.\r\n\r\naws --version\r\naws-cli/1.17.9 Python/3.8.1 Darwin/19.3.0 botocore/1.14.9\r\n\r\nYou can easily confirm this behavior via:\r\n\r\nAWS_PROFILE=foo aws --profile bar --version\r\n\r\n```\r\n$ AWS_PROFILE=foo aws --profile bar --version\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/aws\", line 27, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/bin/aws\", line 23, in main\r\n    return awscli.clidriver.main()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 69, in main\r\n    rc = driver.main()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 203, in main\r\n    command_table = self._get_command_table()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 112, in _get_command_table\r\n    self._command_table = self._build_command_table()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 129, in _build_command_table\r\n    self.session.emit('building-command-table.main',\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/session.py\", line 674, in emit\r\n    return self._events.emit(event_name, **kwargs)\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/awscli/customizations/preview.py\", line 69, in mark_as_preview\r\n    service_name=original_command.service_model.service_name,\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 328, in service_model\r\n    return self._get_service_model()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 345, in _get_service_model\r\n    api_version = self.session.get_config_variable('api_versions').get(\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/session.py\", line 237, in get_config_variable\r\n    return self.get_component('config_store').get_config_variable(\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/configprovider.py\", line 290, in get_config_variable\r\n    return provider.provide()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/configprovider.py\", line 387, in provide\r\n    value = provider.provide()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/configprovider.py\", line 448, in provide\r\n    scoped_config = self._session.get_scoped_config()\r\n  File \"/usr/local/Cellar/awscli/1.17.9/libexec/lib/python3.8/site-packages/botocore/session.py\", line 337, in get_scoped_config\r\n    raise ProfileNotFound(profile=profile_name)\r\nbotocore.exceptions.ProfileNotFound: The config profile (foo) could not be found\r\n```\r\n\r\nDespite the traceback, the last line contains \"The config profile (foo) could not be found\" this should be using the \"bar\" profile as specified by the command line argument (--profile bar) passed. ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/5016/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/5016/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4955", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4955/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4955/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4955/events", "html_url": "https://github.com/aws/aws-cli/issues/4955", "id": 564606433, "node_id": "MDU6SXNzdWU1NjQ2MDY0MzM=", "number": 4955, "title": "Bug in v2: \"aws cloudformation package\" result in \"YAML not well-formed\"", "user": {"login": "matsev", "id": 234505, "node_id": "MDQ6VXNlcjIzNDUwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/234505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matsev", "html_url": "https://github.com/matsev", "followers_url": "https://api.github.com/users/matsev/followers", "following_url": "https://api.github.com/users/matsev/following{/other_user}", "gists_url": "https://api.github.com/users/matsev/gists{/gist_id}", "starred_url": "https://api.github.com/users/matsev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matsev/subscriptions", "organizations_url": "https://api.github.com/users/matsev/orgs", "repos_url": "https://api.github.com/users/matsev/repos", "events_url": "https://api.github.com/users/matsev/events{/privacy}", "received_events_url": "https://api.github.com/users/matsev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-13T11:06:38Z", "updated_at": "2020-03-18T07:23:03Z", "closed_at": "2020-03-17T20:06:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "`aws cloudformation package` produces \"not well-formed yaml\" for `Fn::Join` together with `Fn::FindInMap` (when using serverless transform)\r\n\r\n\r\n### Step by step\r\n\r\nGiven the following template:\r\n\r\n```yaml\r\nAWSTemplateFormatVersion: 2010-09-09\r\nTransform: AWS::Serverless-2016-10-31\r\n\r\nMappings:\r\n  AccountMap:\r\n    dev:\r\n      AccountId: '112233445566'\r\n    prod:\r\n      AccountId: '1111222233333'\r\n\r\nParameters:\r\n  Environment:\r\n    Type: String\r\n    Description: The environment name\r\n    AllowedValues:\r\n      - test\r\n      - prod\r\n\r\nResources:\r\n  MyLambda:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Runtime: nodejs12.x\r\n      CodeUri: ./my-lambda\r\n      Handler: index.handler\r\n      Policies:\r\n        - Version: 2012-10-17\r\n          Statement:\r\n            - Effect: Allow\r\n              Action:\r\n                - sts:AssumeRole\r\n              Resource:\r\n                - !Join ['', ['arn:aws:iam::', !FindInMap [AccountMap, test, AccountId], ':role/InvokeLambdaRole']]\r\n                - !Join ['', ['arn:aws:iam::', !FindInMap [AccountMap, prod, AccountId], ':role/InvokeLambdaRole']]\r\n```\r\n\r\nExecute \r\n\r\n```bash\r\n$ aws cloudformation package --template-file test.yaml --s3-bucket [bucket name] > test-out.yaml\r\n```\r\n\r\nAttempt to deploy:\r\n```\r\n$  aws cloudformation deploy --template-file test-out.yaml --stack-name test\r\n```\r\n\r\n### Expected result\r\nThe stack should be deployed successfully\r\n\r\n### Actual result\r\n> An error occurred (ValidationError) when calling the CreateChangeSet operation: Template format error: YAML not well-formed. (line 36, column 35)\r\n\r\n----\r\n\r\nThe error is because the `Fn::Join` together with `Fn::FindInMap` is incorrect:\r\n\r\n```yaml\r\nResources:\r\n  MyLambda:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Runtime: nodejs12.x\r\n      CodeUri: s3://[bucket name]/[hash]\r\n      Handler: index.handler\r\n      Policies:\r\n      - Version: 2012-10-17\r\n        Statement:\r\n        - Effect: Allow\r\n          Action:\r\n          - sts:AssumeRole\r\n          Resource:\r\n          - Fn::Join:\r\n            - ''\r\n            - ['arn:aws:iam::', Fn::FindInMap: [AccountMap, test, AccountId], :role/InvokeLambdaRole]\r\n          - Fn::Join:\r\n            - ''\r\n            - ['arn:aws:iam::', Fn::FindInMap: [AccountMap, prod, AccountId], :role/InvokeLambdaRole]\r\n```\r\n\r\n----\r\n```bash\r\n$ aws --version\r\naws-cli/2.0.0 Python/3.7.4 Darwin/19.3.0 botocore/2.0.0dev4\r\n\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4955/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4955/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4949", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4949/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4949/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4949/events", "html_url": "https://github.com/aws/aws-cli/issues/4949", "id": 563668786, "node_id": "MDU6SXNzdWU1NjM2Njg3ODY=", "number": 4949, "title": "aws-cli v2 bash auto_completer does not suggest `--cli-auto-prompt` as an option", "user": {"login": "ehammond", "id": 531159, "node_id": "MDQ6VXNlcjUzMTE1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/531159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehammond", "html_url": "https://github.com/ehammond", "followers_url": "https://api.github.com/users/ehammond/followers", "following_url": "https://api.github.com/users/ehammond/following{/other_user}", "gists_url": "https://api.github.com/users/ehammond/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehammond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehammond/subscriptions", "organizations_url": "https://api.github.com/users/ehammond/orgs", "repos_url": "https://api.github.com/users/ehammond/repos", "events_url": "https://api.github.com/users/ehammond/events{/privacy}", "received_events_url": "https://api.github.com/users/ehammond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-12T01:14:01Z", "updated_at": "2020-02-27T22:57:09Z", "closed_at": "2020-02-27T22:57:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "The aws-cli v2 bash completion does not suggest `--cli-auto-prompt` as an option.\r\n\r\n```\r\n$ aws dynamodb delete-table --cli-<TAB><TAB>\r\n--cli-connect-timeout  --cli-input-json       --cli-read-timeout\r\n\r\n$ aws --version\r\naws-cli/2.0.0 Python/3.7.3 Linux/5.0.0-37-generic botocore/2.0.0dev4\r\n\r\n$ echo $SHELL\r\n/bin/bash\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4949/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4894", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4894/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4894/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4894/events", "html_url": "https://github.com/aws/aws-cli/issues/4894", "id": 557706265, "node_id": "MDU6SXNzdWU1NTc3MDYyNjU=", "number": 4894, "title": "max_bandwidth doesn't work with sync", "user": {"login": "g3ntry", "id": 36801240, "node_id": "MDQ6VXNlcjM2ODAxMjQw", "avatar_url": "https://avatars.githubusercontent.com/u/36801240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/g3ntry", "html_url": "https://github.com/g3ntry", "followers_url": "https://api.github.com/users/g3ntry/followers", "following_url": "https://api.github.com/users/g3ntry/following{/other_user}", "gists_url": "https://api.github.com/users/g3ntry/gists{/gist_id}", "starred_url": "https://api.github.com/users/g3ntry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/g3ntry/subscriptions", "organizations_url": "https://api.github.com/users/g3ntry/orgs", "repos_url": "https://api.github.com/users/g3ntry/repos", "events_url": "https://api.github.com/users/g3ntry/events{/privacy}", "received_events_url": "https://api.github.com/users/g3ntry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-30T19:37:09Z", "updated_at": "2021-05-13T20:48:05Z", "closed_at": "2021-05-13T20:47:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Setting max_bandwidth works fine with cp (probably as designed), but doesn't work with sync. This is a limitation when trying to use both features, ie using cp and sync concurrently. While this may be a subtle issue it sure can wreck some havoc.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4894/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4864", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4864/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4864/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4864/events", "html_url": "https://github.com/aws/aws-cli/issues/4864", "id": 553713137, "node_id": "MDU6SXNzdWU1NTM3MTMxMzc=", "number": 4864, "title": "AWS resource completion not completing", "user": {"login": "wscarano", "id": 802368, "node_id": "MDQ6VXNlcjgwMjM2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/802368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wscarano", "html_url": "https://github.com/wscarano", "followers_url": "https://api.github.com/users/wscarano/followers", "following_url": "https://api.github.com/users/wscarano/following{/other_user}", "gists_url": "https://api.github.com/users/wscarano/gists{/gist_id}", "starred_url": "https://api.github.com/users/wscarano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wscarano/subscriptions", "organizations_url": "https://api.github.com/users/wscarano/orgs", "repos_url": "https://api.github.com/users/wscarano/repos", "events_url": "https://api.github.com/users/wscarano/events{/privacy}", "received_events_url": "https://api.github.com/users/wscarano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-22T18:21:09Z", "updated_at": "2021-04-21T21:45:10Z", "closed_at": "2021-04-21T21:44:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "complete -c aws2_completer aws2\r\n\r\naws2 dy<tab>\r\ndoes a partial complete\r\naws2 dynam\r\ninstead of displaying resource options\r\ndynamodb dynamodbstreams", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4864/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4859", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4859/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4859/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4859/events", "html_url": "https://github.com/aws/aws-cli/issues/4859", "id": 553037229, "node_id": "MDU6SXNzdWU1NTMwMzcyMjk=", "number": 4859, "title": "Lightsail --ca-certificate-identifier missing option", "user": {"login": "shivamgulati1991", "id": 14206806, "node_id": "MDQ6VXNlcjE0MjA2ODA2", "avatar_url": "https://avatars.githubusercontent.com/u/14206806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivamgulati1991", "html_url": "https://github.com/shivamgulati1991", "followers_url": "https://api.github.com/users/shivamgulati1991/followers", "following_url": "https://api.github.com/users/shivamgulati1991/following{/other_user}", "gists_url": "https://api.github.com/users/shivamgulati1991/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivamgulati1991/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivamgulati1991/subscriptions", "organizations_url": "https://api.github.com/users/shivamgulati1991/orgs", "repos_url": "https://api.github.com/users/shivamgulati1991/repos", "events_url": "https://api.github.com/users/shivamgulati1991/events{/privacy}", "received_events_url": "https://api.github.com/users/shivamgulati1991/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-21T17:56:43Z", "updated_at": "2021-04-06T00:47:42Z", "closed_at": "2021-04-06T00:47:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Modification of Lightsail database works with AWS CLI1 to update SSL Certificate, but shows unknown options with CLI2\r\n\r\naws2 lightsail update-relational-database --relational-database-name test --ca-certificate-identifier rds-ca-2019 --apply-immediately\r\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\n\r\nUnknown options: --ca-certificate-identifier, rds-ca-2019", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4839", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4839/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4839/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4839/events", "html_url": "https://github.com/aws/aws-cli/issues/4839", "id": 549648335, "node_id": "MDU6SXNzdWU1NDk2NDgzMzU=", "number": 4839, "title": "[v2] SSO login not launching browser", "user": {"login": "ericmillinder", "id": 80532, "node_id": "MDQ6VXNlcjgwNTMy", "avatar_url": "https://avatars.githubusercontent.com/u/80532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ericmillinder", "html_url": "https://github.com/ericmillinder", "followers_url": "https://api.github.com/users/ericmillinder/followers", "following_url": "https://api.github.com/users/ericmillinder/following{/other_user}", "gists_url": "https://api.github.com/users/ericmillinder/gists{/gist_id}", "starred_url": "https://api.github.com/users/ericmillinder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ericmillinder/subscriptions", "organizations_url": "https://api.github.com/users/ericmillinder/orgs", "repos_url": "https://api.github.com/users/ericmillinder/repos", "events_url": "https://api.github.com/users/ericmillinder/events{/privacy}", "received_events_url": "https://api.github.com/users/ericmillinder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-14T15:38:18Z", "updated_at": "2020-10-23T07:34:55Z", "closed_at": "2020-03-05T18:35:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\nWhen using the packaged aws2 distributed at https://d1vvhvl2y92vvt.cloudfront.net/awscli-exe-linux-x86_64.zip, running the sso login fails to open the webbrowser. \r\n\r\n`$ /usr/local/aws-cli/v2/current/bin/aws2 sso login --profile <my profile> --debug`\r\n\r\n```\r\n2020-01-14 09:34:08,942 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.0dev3 Python/3.7.3 Linux/5.4.8-200.fc31.x86_64 botocore/2.0.0dev2\r\n2020-01-14 09:34:08,942 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['sso', 'login', '--profile', 'appdev-admin', '--debug']\r\n2020-01-14 09:34:08,943 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7fa442bde950>\r\n2020-01-14 09:34:08,943 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fa4434af048>\r\n2020-01-14 09:34:08,943 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7fa442b2a158>\r\n2020-01-14 09:34:08,944 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fa4434cdbf8>\r\n2020-01-14 09:34:08,947 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\r\n2020-01-14 09:34:08,947 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fa442d4dd08>\r\n2020-01-14 09:34:08,947 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7fa442d8a730>\r\n2020-01-14 09:34:08,957 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/sso/2019-06-10/service-2.json\r\n2020-01-14 09:34:08,960 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sso: calling handler <function add_sso_commands at 0x7fa442d78378>\r\n2020-01-14 09:34:08,960 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sso: calling handler <function add_waiters at 0x7fa442b6bea0>\r\n2020-01-14 09:34:08,970 - MainThread - botocore.hooks - DEBUG - Event building-command-table.login: calling handler <function add_waiters at 0x7fa442b6bea0>\r\n2020-01-14 09:34:08,972 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/endpoints.json\r\n2020-01-14 09:34:08,982 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fa444532510>\r\n2020-01-14 09:34:08,982 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/sso-oidc/2019-06-10/service-2.json\r\n2020-01-14 09:34:08,983 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.sso-oidc: calling handler <function add_generate_presigned_url at 0x7fa444517d90>\r\n2020-01-14 09:34:08,992 - MainThread - botocore.endpoint - DEBUG - Setting oidc timeout as (60, 60)\r\n2020-01-14 09:34:08,993 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/_retry.json\r\n2020-01-14 09:34:08,994 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: sso-oidc\r\n2020-01-14 09:34:08,995 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.sso-oidc.StartDeviceAuthorization: calling handler <function base64_decode_input_blobs at 0x7fa442b2a950>\r\n2020-01-14 09:34:08,996 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.sso-oidc.StartDeviceAuthorization: calling handler <function generate_idempotent_uuid at 0x7fa4444de400>\r\n2020-01-14 09:34:08,996 - MainThread - botocore.hooks - DEBUG - Event before-call.sso-oidc.StartDeviceAuthorization: calling handler <function inject_api_version_header_if_needed at 0x7fa4444dbd90>\r\n2020-01-14 09:34:08,996 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=StartDeviceAuthorization) with params: {'url_path': '/device_authorization', 'query_string': {}, 'method': 'POST', 'headers': {'User-Agent': 'aws-cli/2.0.0dev3 Python/3.7.3 Linux/5.4.8-200.fc31.x86_64 botocore/2.0.0dev2'}, 'body': b'{\"clientId\": \"RQPD_rAU6psh-0jampS8CXVzLWVhc3QtMQ\", \"clientSecret\": \"eyJraWQiOiJrZXktMTU2NDAyODA5OSIsImFsZyI6IkhTMzg0In0.eyJzZXJpYWxpemVkIjoie1wiZXhwaXJlZFwiOmZhbHNlLFwiY2xpZW50SWRcIjp7XCJ2YWx1ZVwiOlwiUlFQRF9yQVU2cHNoLTBqYW1wUzhDWFZ6TFdWaGMzUXRNUVwifSxcImNsaWVudE5hbWVcIjpcImJvdG9jb3JlLWNsaWVudC0xNTc4MzM5MTAyXCIsXCJjbGllbnRUeXBlXCI6XCJQVUJMSUNcIixcInRlbXBsYXRlQXJuXCI6bnVsbCxcInRlbXBsYXRlQ29udGV4dFwiOm51bGwsXCJleHBpcmF0aW9uVGltZXN0YW1wXCI6MTU4NjExNTEyOC4xNDQwMDAwMDAsXCJjcmVhdGVkVGltZXN0YW1wXCI6MTU3ODMzOTEyOC4xNDQwMDAwMDAsXCJ1cGRhdGVkVGltZXN0YW1wXCI6MTU3ODMzOTEyOC4xNDQwMDAwMDAsXCJjcmVhdGVkQnlcIjpudWxsLFwidXBkYXRlZEJ5XCI6bnVsbH0ifQ.XRupcgH-58uQf8-BX9WqprgpAIVuyYm-zGGG_QlplWLrGPgkzsGWGTrdPTzEq06Z\", \"startUrl\": \"<STARTURL>\"}', 'url': 'https://oidc.us-east-1.amazonaws.com/device_authorization', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fa4428f04e0>, 'has_streaming_input': False, 'auth_type': 'none'}}\r\n2020-01-14 09:34:08,997 - MainThread - botocore.hooks - DEBUG - Event request-created.sso-oidc.StartDeviceAuthorization: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fa4428f04a8>>\r\n2020-01-14 09:34:08,997 - MainThread - botocore.hooks - DEBUG - Event choose-signer.sso-oidc.StartDeviceAuthorization: calling handler <function set_operation_specific_signer at 0x7fa4444de2f0>\r\n2020-01-14 09:34:08,998 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://oidc.us-east-1.amazonaws.com/device_authorization, headers={'User-Agent': b'aws-cli/2.0.0dev3 Python/3.7.3 Linux/5.4.8-200.fc31.x86_64 botocore/2.0.0dev2', 'Content-Length': '750'}>\r\n2020-01-14 09:34:08,999 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): oidc.us-east-1.amazonaws.com:443\r\n2020-01-14 09:34:09,183 - MainThread - urllib3.connectionpool - DEBUG - https://oidc.us-east-1.amazonaws.com:443 \"POST /device_authorization HTTP/1.1\" 200 311\r\n2020-01-14 09:34:09,183 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Tue, 14 Jan 2020 14:34:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '311', 'Connection': 'keep-alive', 'x-amzn-RequestId': '4f4cae3e-cfff-47cf-97c2-b39ac215ca52'}\r\n2020-01-14 09:34:09,184 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"deviceCode\":\"zLQp_Y21lZEobo8jGb9u9E1LH9zSzT1CoeBMaWqO05-qefgFFtvAcubdxjjxdPYRjttECfWLIPdGt9sO41RtCw\",\"expiresIn\":600,\"interval\":1,\"userCode\":\"THE-CODE\",\"verificationUri\":\"https://device.sso.us-east-1.amazonaws.com/\",\"verificationUriComplete\":\"https://device.sso.us-east-1.amazonaws.com/?user_code=THE-CODE\"}'\r\n2020-01-14 09:34:09,184 - MainThread - botocore.hooks - DEBUG - Event needs-retry.sso-oidc.StartDeviceAuthorization: calling handler <botocore.retryhandler.RetryHandler object at 0x7fa4428f07b8>\r\n2020-01-14 09:34:09,184 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\nAttempting to automatically open the SSO authorization page in your default browser.\r\nIf the browser does not open or you wish to use a different device to authorize this request, open the following URL:\r\n\r\nhttps://device.sso.us-east-1.amazonaws.com/\r\n\r\nThen enter the code:\r\n\r\nTHE-CODE\r\n2020-01-14 09:34:09,262 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.sso-oidc.CreateToken: calling handler <function base64_decode_input_blobs at 0x7fa442b2a950>\r\n2020-01-14 09:34:09,263 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.sso-oidc.CreateToken: calling handler <function generate_idempotent_uuid at 0x7fa4444de400>\r\n2020-01-14 09:34:09,263 - MainThread - botocore.hooks - DEBUG - Event before-call.sso-oidc.CreateToken: calling handler <function inject_api_version_header_if_needed at 0x7fa4444dbd90>\r\n2020-01-14 09:34:09,263 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=CreateToken) with params: {'url_path': '/token', 'query_string': {}, 'method': 'POST', 'headers': {'User-Agent': 'aws-cli/2.0\r\n```\r\nNo logs indicating an exception from the browser launch are apparent. I was expecting to see the log from the try block in utils.py.\r\n```\r\ntry:\r\n\treturn self._open_browser(verificationUriComplete)\r\nexcept Exception:\r\n\tLOG.debug('Failed to open browser:', exc_info=True)\r\n```\r\n\r\nHOWEVER when I clone the aws-cli repo, switch to v2 branch, install and run `aws-cli/bin/aws sso login --profile appdev-admin`, the browser DOES launch as expected. \r\n\r\nThis appears to be happening across multiple linux installations as no one on my team is getting the browser to launch. ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4839/reactions", "total_count": 5, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4839/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4761", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4761/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4761/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4761/events", "html_url": "https://github.com/aws/aws-cli/issues/4761", "id": 537249245, "node_id": "MDU6SXNzdWU1MzcyNDkyNDU=", "number": 4761, "title": "[v2] Doc formatter for v2 doesn't work on py27", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-12T22:32:38Z", "updated_at": "2020-02-05T18:43:56Z", "closed_at": "2020-02-05T18:43:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nFile \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/clidriver.py\", line 313, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/clidriver.py\", line 462, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/clidriver.py\", line 619, in __call__\r\n    parsed_globals=parsed_globals\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/clidriver.py\", line 717, in _emit_first_non_none_response\r\n    name, **kwargs)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/venv/lib/python2.7/site-packages/botocore/session.py\", line 675, in emit_first_non_none_response\r\n    responses = self._events.emit(event_name, **kwargs)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/venv/lib/python2.7/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/venv/lib/python2.7/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/venv/lib/python2.7/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/customizations/generatecliskeleton.py\", line 95, in generate_skeleton\r\n    call_parameters=call_parameters, parsed_globals=parsed_globals\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/customizations/generatecliskeleton.py\", line 105, in _generate_yaml_input_skeleton\r\n    skeleton = argument_generator.generate_skeleton(input_shape)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/venv/lib/python2.7/site-packages/botocore/utils.py\", line 777, in generate_skeleton\r\n    return self._generate_skeleton(shape, stack)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/customizations/generatecliskeleton.py\", line 172, in _generate_skeleton\r\n    shape, stack, name\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/venv/lib/python2.7/site-packages/botocore/utils.py\", line 783, in _generate_skeleton\r\n    return self._generate_type_structure(shape, stack)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/customizations/generatecliskeleton.py\", line 184, in _generate_type_structure\r\n    skeleton, member_name, member_shape, is_required)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/customizations/generatecliskeleton.py\", line 192, in _add_member_comments\r\n    comment_components.append(get_shape_doc_overview(member_shape))\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/customizations/utils.py\", line 199, in get_shape_doc_overview\r\n    content = _strip_xml_from_documentation(content)\r\n  File \"/codebuild/output/src930074720/src/github.com/aws/aws-cli/awscli/customizations/utils.py\", line 216, in _strip_xml_from_documentation\r\n    xml_dom = xml.dom.minidom.parseString(xml_doc)\r\n  File \"/usr/local/lib/python2.7/xml/dom/minidom.py\", line 1928, in parseString\r\n    return expatbuilder.parseString(string)\r\n  File \"/usr/local/lib/python2.7/xml/dom/expatbuilder.py\", line 940, in parseString\r\n    return builder.parseString(string)\r\n  File \"/usr/local/lib/python2.7/xml/dom/expatbuilder.py\", line 223, in parseString\r\n    parser.Parse(string, True)\r\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u2019' in position 825: ordinal not in range(128)\r\nawscli.clidriver: DEBUG: Exiting with rc 255\r\n```\r\n\r\nTest failure on py27.  Might also be worth re-evaluating py27 support for v2.\r\n\r\ncc @kyleknap ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4758", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4758/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4758/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4758/events", "html_url": "https://github.com/aws/aws-cli/issues/4758", "id": 537123582, "node_id": "MDU6SXNzdWU1MzcxMjM1ODI=", "number": 4758, "title": "Docker - local variable 'process' referenced before assignment", "user": {"login": "josephwibowo", "id": 14351650, "node_id": "MDQ6VXNlcjE0MzUxNjUw", "avatar_url": "https://avatars.githubusercontent.com/u/14351650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josephwibowo", "html_url": "https://github.com/josephwibowo", "followers_url": "https://api.github.com/users/josephwibowo/followers", "following_url": "https://api.github.com/users/josephwibowo/following{/other_user}", "gists_url": "https://api.github.com/users/josephwibowo/gists{/gist_id}", "starred_url": "https://api.github.com/users/josephwibowo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josephwibowo/subscriptions", "organizations_url": "https://api.github.com/users/josephwibowo/orgs", "repos_url": "https://api.github.com/users/josephwibowo/repos", "events_url": "https://api.github.com/users/josephwibowo/events{/privacy}", "received_events_url": "https://api.github.com/users/josephwibowo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-12-12T17:45:26Z", "updated_at": "2020-01-06T18:45:50Z", "closed_at": "2020-01-06T18:45:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running a local docker container (which is built from python3.7) that installs the v2 AWS CLI using CURL, unzip, `.aws/install` as indicated by the guide. I am also mounting my IAM role credentials as a volume. `aws2 configure` seems to locate it correctly.\r\n\r\nI am able to get output from `aws2 --version`, but when I try to run any command such as `aws2 iam get-user`, it returns the following:\r\n\r\n\r\n```\r\n\r\nlocal variable 'process' referenced before assignment\r\n```\r\n\r\nThere is a new line if that helps in debugging. Cannot figure out why this would ever happen...", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4742", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4742/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4742/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4742/events", "html_url": "https://github.com/aws/aws-cli/issues/4742", "id": 534919912, "node_id": "MDU6SXNzdWU1MzQ5MTk5MTI=", "number": 4742, "title": "Configure SSO with Proxy and SSL Inspection", "user": {"login": "lazize", "id": 10844307, "node_id": "MDQ6VXNlcjEwODQ0MzA3", "avatar_url": "https://avatars.githubusercontent.com/u/10844307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazize", "html_url": "https://github.com/lazize", "followers_url": "https://api.github.com/users/lazize/followers", "following_url": "https://api.github.com/users/lazize/following{/other_user}", "gists_url": "https://api.github.com/users/lazize/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazize/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazize/subscriptions", "organizations_url": "https://api.github.com/users/lazize/orgs", "repos_url": "https://api.github.com/users/lazize/repos", "events_url": "https://api.github.com/users/lazize/events{/privacy}", "received_events_url": "https://api.github.com/users/lazize/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}, {"id": 2221263953, "node_id": "MDU6TGFiZWwyMjIxMjYzOTUz", "url": "https://api.github.com/repos/aws/aws-cli/labels/sso", "name": "sso", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tim-finnigan", "id": 87778557, "node_id": "MDQ6VXNlcjg3Nzc4NTU3", "avatar_url": "https://avatars.githubusercontent.com/u/87778557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-finnigan", "html_url": "https://github.com/tim-finnigan", "followers_url": "https://api.github.com/users/tim-finnigan/followers", "following_url": "https://api.github.com/users/tim-finnigan/following{/other_user}", "gists_url": "https://api.github.com/users/tim-finnigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-finnigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-finnigan/subscriptions", "organizations_url": "https://api.github.com/users/tim-finnigan/orgs", "repos_url": "https://api.github.com/users/tim-finnigan/repos", "events_url": "https://api.github.com/users/tim-finnigan/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-finnigan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 23, "created_at": "2019-12-09T13:09:13Z", "updated_at": "2022-11-07T23:25:20Z", "closed_at": "2022-11-07T23:24:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "At our company we use proxy with SSL Inspection, which means the certificate from any URL is an certificate from our company (internal one).\r\n\r\nUsing v2 I am getting this error when I try to configure SSO.\r\n```\r\nSSL validation failed for https://oidc.sa-east-1.amazonaws.com/client/register EOF occurred in violation of protocol (_ssl.c:1056)\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4742/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4737", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4737/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4737/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4737/events", "html_url": "https://github.com/aws/aws-cli/issues/4737", "id": 532998859, "node_id": "MDU6SXNzdWU1MzI5OTg4NTk=", "number": 4737, "title": "[v2] \u201caws2\u201d cannot be opened because the developer cannot be verified. MacOS Catalina", "user": {"login": "furikake", "id": 304671, "node_id": "MDQ6VXNlcjMwNDY3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/304671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/furikake", "html_url": "https://github.com/furikake", "followers_url": "https://api.github.com/users/furikake/followers", "following_url": "https://api.github.com/users/furikake/following{/other_user}", "gists_url": "https://api.github.com/users/furikake/gists{/gist_id}", "starred_url": "https://api.github.com/users/furikake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/furikake/subscriptions", "organizations_url": "https://api.github.com/users/furikake/orgs", "repos_url": "https://api.github.com/users/furikake/repos", "events_url": "https://api.github.com/users/furikake/events{/privacy}", "received_events_url": "https://api.github.com/users/furikake/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-04T23:18:38Z", "updated_at": "2020-02-07T02:42:56Z", "closed_at": "2020-02-07T02:42:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I work in an organisation that has Mac MDM.  The security policy doesn't allow unsigned apps to run.\r\n\r\nThe only way to get it running is to do a horrible hack (which gets remediated eventually by MDM)\r\n\r\n```\r\nsudo spctl --master-disable\r\n```\r\n\r\nTrying to allow the app via \"System Preferences\" -> \"Security & Privacy\" -> \"Allow apps downloaded from\" doesn't work as it seems every package/module needs an approval.\r\n\r\nExample of what you see when you try to install `aws2` or run it.\r\n\r\n<img width=\"454\" alt=\"Screen Shot 2019-12-05 at 10 05 40 am\" src=\"https://user-images.githubusercontent.com/304671/70189607-d9a7ef80-1747-11ea-84aa-e80ea7b5d6df.png\">\r\n\r\nUnlike other apps that only require one approval, we need to approve Python and all the packages/modules used.\r\n\r\n<img width=\"672\" alt=\"Screen Shot 2019-12-05 at 9 57 59 am\" src=\"https://user-images.githubusercontent.com/304671/70189618-e0cefd80-1747-11ea-8294-e89028a22907.png\">\r\n\r\n<img width=\"479\" alt=\"Screen Shot 2019-12-05 at 9 57 01 am\" src=\"https://user-images.githubusercontent.com/304671/70189631-e75d7500-1747-11ea-9798-6c8f53646e37.png\">\r\n\r\nThe error we see when your patience runs out or the approval doesn't stick for some reason\r\n\r\n<img width=\"2035\" alt=\"Screen Shot 2019-12-05 at 9 58 44 am\" src=\"https://user-images.githubusercontent.com/304671/70189637-ed535600-1747-11ea-9516-cd1a241b23d9.png\">\r\n\r\nCan you please sign `aws2` so that we can run it without disabling security features?  I can't do this anyway due to company policies.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4737/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4688", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4688/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4688/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4688/events", "html_url": "https://github.com/aws/aws-cli/issues/4688", "id": 525869624, "node_id": "MDU6SXNzdWU1MjU4Njk2MjQ=", "number": 4688, "title": "docdb describe commands return rds instances", "user": {"login": "joshmccleery", "id": 29604636, "node_id": "MDQ6VXNlcjI5NjA0NjM2", "avatar_url": "https://avatars.githubusercontent.com/u/29604636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshmccleery", "html_url": "https://github.com/joshmccleery", "followers_url": "https://api.github.com/users/joshmccleery/followers", "following_url": "https://api.github.com/users/joshmccleery/following{/other_user}", "gists_url": "https://api.github.com/users/joshmccleery/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshmccleery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshmccleery/subscriptions", "organizations_url": "https://api.github.com/users/joshmccleery/orgs", "repos_url": "https://api.github.com/users/joshmccleery/repos", "events_url": "https://api.github.com/users/joshmccleery/events{/privacy}", "received_events_url": "https://api.github.com/users/joshmccleery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}, {"id": 1180550238, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM4", "url": "https://api.github.com/repos/aws/aws-cli/labels/wontfix", "name": "wontfix", "color": "d85658", "default": true, "description": "We have determined that we will not resolve the issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-20T15:18:25Z", "updated_at": "2020-02-27T16:39:04Z", "closed_at": "2020-02-26T00:38:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run:\r\n`aws docdb describe-db-instances`\r\nor\r\n`aws docdb describe-db-clusters`\r\nI get back all of my RDS and DocumentDB instances or clusters, respectively.\r\n\r\npip -V: pip 19.2.3\r\naws --version: aws-cli/1.16.285 Python/2.7.12 Linux/4.4.0-18362-Microsoft botocore/1.13.21", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4688/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4682", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4682/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4682/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4682/events", "html_url": "https://github.com/aws/aws-cli/issues/4682", "id": 525292846, "node_id": "MDU6SXNzdWU1MjUyOTI4NDY=", "number": 4682, "title": "awscli 1.16.285 changed how to find credentials on EC2 endpoint", "user": {"login": "scottschreckengaust", "id": 345885, "node_id": "MDQ6VXNlcjM0NTg4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/345885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottschreckengaust", "html_url": "https://github.com/scottschreckengaust", "followers_url": "https://api.github.com/users/scottschreckengaust/followers", "following_url": "https://api.github.com/users/scottschreckengaust/following{/other_user}", "gists_url": "https://api.github.com/users/scottschreckengaust/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottschreckengaust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottschreckengaust/subscriptions", "organizations_url": "https://api.github.com/users/scottschreckengaust/orgs", "repos_url": "https://api.github.com/users/scottschreckengaust/repos", "events_url": "https://api.github.com/users/scottschreckengaust/events{/privacy}", "received_events_url": "https://api.github.com/users/scottschreckengaust/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-11-19T21:59:54Z", "updated_at": "2019-11-20T02:53:39Z", "closed_at": "2019-11-20T02:53:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "The meta data endpoint seems to have changed from `/latest/meta-data/iam/security-credentials/` -> `/latest/api/token` and can no longer get an EC2 instance role.  \r\n\r\nThe below are snippets from a `aws s3 ls --debug` command running within a docker (Docker version 19.03.4, build 9013bf583a) on ubuntu \"Ubuntu 16.04.6 LTS\" EC2 instance:\r\n\r\n* Prior version (1.16.284):\r\n```\r\n2019-11-19 21:25:24,502 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 169.254.169.254:80\r\n2019-11-19 21:25:24,503 - MainThread - urllib3.connectionpool - DEBUG - http://169.254.169.254:80  \"GET /latest/meta-data/iam/security-credentials/ HTTP/1.1\" 200 23\r\n2019-11-19 21:25:24,504 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: 169.254.169.254\r\n2019-11-19 21:25:24,504 - MainThread - urllib3.connectionpool - DEBUG - http://169.254.169.254:80  \"GET /latest/meta-data/iam/security-credentials/ec2-example-role HTTP/1.1\" 200 1322\r\n2019-11-19 21:25:24,505 - MainThread - botocore.credentials - DEBUG - Found credentials from IAM Role: ec2-example-role\r\n```\r\n\r\n* Current version (1.16.285):\r\n```\r\n2019-11-19 21:11:48,998 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 169.254.169.254:80\r\n2019-11-19 21:11:50,000 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/api/token:  Read timeout on endpoint URL: \"http://169.254.169.254/latest/api/token \"\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 421, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 416, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/local/lib/python3.7/http/client.py\", line 1344, in getresponse\r\n    response.begin()\r\n  File \"/usr/local/lib/python3.7/http/client.py\", line 306, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/local/lib/python3.7/http/client.py\", line 267, in _read_status\r\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\r\n  File \"/usr/local/lib/python3.7/socket.py\", line 589, in readinto\r\n    return self._sock.recv_into(b)\r\nsocket.timeout: timed out\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/httpsession.py\", line 263, in send\r\n    chunked=self._chunked(request.headers),\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 720, in urlopen\r\n    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/util/retry.py\", line 376, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/packages/six.py\", line 735, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 672, in urlopen\r\n    chunked=chunked,\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 423, in _make_request\r\n    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\r\n  File \"/usr/local/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 331, in _raise_timeout\r\n    self, url, \"Read timed out. (read timeout=%s)\" % timeout_value\r\nurllib3.exceptions.ReadTimeoutError: AWSHTTPConnectionPool(host='169.254.169.254', port=80): Read timed out. (read timeout=1)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/utils.py\", line 295, in _fetch_metadata_token\r\n    response = self._session.send(request.prepare())\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/httpsession.py\", line 289, in send\r\n    raise ReadTimeoutError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.ReadTimeoutError: Read timeout on endpoint URL: \"http://169.254.169.254/latest/api/token \"\r\n2019-11-19 21:11:50,002 - MainThread - botocore.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4682/reactions", "total_count": 27, "+1": 27, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4656", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4656/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4656/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4656/events", "html_url": "https://github.com/aws/aws-cli/issues/4656", "id": 522549060, "node_id": "MDU6SXNzdWU1MjI1NDkwNjA=", "number": 4656, "title": "[V2] Command completion doesn't work", "user": {"login": "furikake", "id": 304671, "node_id": "MDQ6VXNlcjMwNDY3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/304671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/furikake", "html_url": "https://github.com/furikake", "followers_url": "https://api.github.com/users/furikake/followers", "following_url": "https://api.github.com/users/furikake/following{/other_user}", "gists_url": "https://api.github.com/users/furikake/gists{/gist_id}", "starred_url": "https://api.github.com/users/furikake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/furikake/subscriptions", "organizations_url": "https://api.github.com/users/furikake/orgs", "repos_url": "https://api.github.com/users/furikake/repos", "events_url": "https://api.github.com/users/furikake/events{/privacy}", "received_events_url": "https://api.github.com/users/furikake/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 309837655, "node_id": "MDU6TGFiZWwzMDk4Mzc2NTU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/autocomplete", "name": "autocomplete", "color": "fad8c7", "default": false, "description": null}, {"id": 1062678913, "node_id": "MDU6TGFiZWwxMDYyNjc4OTEz", "url": "https://api.github.com/repos/aws/aws-cli/labels/v2", "name": "v2", "color": "98db34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2019-11-14T00:20:09Z", "updated_at": "2021-03-04T02:20:58Z", "closed_at": "2021-03-04T02:20:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running version on MacOS with iTerm2 and Oh My Zsh/Bash.  Installed as per https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-macOS.html\r\n\r\n```\r\n\u276f aws2 --version\r\naws-cli/2.0.0dev0 Python/3.7.4 Darwin/18.7.0 botocore/2.0.0dev0\r\n```\r\n\r\nInstalled to:\r\n\r\n```\r\n\u276f find /usr/local/bin -name \"aws*\"\r\n/usr/local/bin/aws2\r\n/usr/local/bin/aws2_completer\r\n/usr/local/bin/aws\r\n/usr/local/bin/aws_completer\r\n```\r\n\r\n`aws2_completer` is in path\r\n\r\n```\r\n\u276f which aws2_completer\r\n/usr/local/bin/aws2_completer\r\n\u276f which aws_completer\r\n/usr/local/bin/aws_completer\r\n```\r\n\r\nTyping `aws2 s3 <TAB>` doesn't complete.  Doing so with `aws s3 <TAB>` does.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4656/reactions", "total_count": 15, "+1": 15, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4656/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4626", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4626/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4626/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4626/events", "html_url": "https://github.com/aws/aws-cli/issues/4626", "id": 519225804, "node_id": "MDU6SXNzdWU1MTkyMjU4MDQ=", "number": 4626, "title": "aws configure --profile \"profilename\" prompts \"The config profile (profilename) could not be found\"", "user": {"login": "BruceWangNo1", "id": 8055536, "node_id": "MDQ6VXNlcjgwNTU1MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/8055536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BruceWangNo1", "html_url": "https://github.com/BruceWangNo1", "followers_url": "https://api.github.com/users/BruceWangNo1/followers", "following_url": "https://api.github.com/users/BruceWangNo1/following{/other_user}", "gists_url": "https://api.github.com/users/BruceWangNo1/gists{/gist_id}", "starred_url": "https://api.github.com/users/BruceWangNo1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BruceWangNo1/subscriptions", "organizations_url": "https://api.github.com/users/BruceWangNo1/orgs", "repos_url": "https://api.github.com/users/BruceWangNo1/repos", "events_url": "https://api.github.com/users/BruceWangNo1/events{/privacy}", "received_events_url": "https://api.github.com/users/BruceWangNo1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "joguSD", "id": 1935727, "node_id": "MDQ6VXNlcjE5MzU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1935727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joguSD", "html_url": "https://github.com/joguSD", "followers_url": "https://api.github.com/users/joguSD/followers", "following_url": "https://api.github.com/users/joguSD/following{/other_user}", "gists_url": "https://api.github.com/users/joguSD/gists{/gist_id}", "starred_url": "https://api.github.com/users/joguSD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joguSD/subscriptions", "organizations_url": "https://api.github.com/users/joguSD/orgs", "repos_url": "https://api.github.com/users/joguSD/repos", "events_url": "https://api.github.com/users/joguSD/events{/privacy}", "received_events_url": "https://api.github.com/users/joguSD/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joguSD", "id": 1935727, "node_id": "MDQ6VXNlcjE5MzU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1935727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joguSD", "html_url": "https://github.com/joguSD", "followers_url": "https://api.github.com/users/joguSD/followers", "following_url": "https://api.github.com/users/joguSD/following{/other_user}", "gists_url": "https://api.github.com/users/joguSD/gists{/gist_id}", "starred_url": "https://api.github.com/users/joguSD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joguSD/subscriptions", "organizations_url": "https://api.github.com/users/joguSD/orgs", "repos_url": "https://api.github.com/users/joguSD/repos", "events_url": "https://api.github.com/users/joguSD/events{/privacy}", "received_events_url": "https://api.github.com/users/joguSD/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2019-11-07T12:05:27Z", "updated_at": "2021-03-06T01:29:31Z", "closed_at": "2021-03-06T01:29:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "```bash\r\naws --version\r\n```\r\naws-cli/1.16.276  Python/2.7.14 Darwin/18.0.0 botocore/1.13.12\r\n\r\nAccording to https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html#cli-quick-configuration-multi-profiles , this configure command should work. However, error message reads: \"The config profile (profilename) could not be found\"\r\n\r\nTemporary fix:\r\n```bash\r\nvim ~/.aws/config\r\n```\r\nand add \"[profilename]\" and then rerun the configure command\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4626/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4577", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4577/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4577/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4577/events", "html_url": "https://github.com/aws/aws-cli/issues/4577", "id": 504867588, "node_id": "MDU6SXNzdWU1MDQ4Njc1ODg=", "number": 4577, "title": "awscli-bundle 1.6.256 does not install with Python 2.6 (colorama dependency not met)", "user": {"login": "DRLDoom", "id": 27694722, "node_id": "MDQ6VXNlcjI3Njk0NzIy", "avatar_url": "https://avatars.githubusercontent.com/u/27694722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DRLDoom", "html_url": "https://github.com/DRLDoom", "followers_url": "https://api.github.com/users/DRLDoom/followers", "following_url": "https://api.github.com/users/DRLDoom/following{/other_user}", "gists_url": "https://api.github.com/users/DRLDoom/gists{/gist_id}", "starred_url": "https://api.github.com/users/DRLDoom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DRLDoom/subscriptions", "organizations_url": "https://api.github.com/users/DRLDoom/orgs", "repos_url": "https://api.github.com/users/DRLDoom/repos", "events_url": "https://api.github.com/users/DRLDoom/events{/privacy}", "received_events_url": "https://api.github.com/users/DRLDoom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-09T20:11:08Z", "updated_at": "2019-10-11T15:30:40Z", "closed_at": "2019-10-11T15:30:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "On-going issue with colorama dependency.\r\n\r\nprevious closed issue: https://github.com/aws/aws-cli/issues/4563\r\n\r\n```\r\nsudo awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws\r\n...\r\nRunning cmd: /usr/bin/python virtualenv.py --no-download --python /usr/bin/python /usr/local/aws\r\nRunning cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///root/aws-install/awscli-bundle/packages/setup setuptools_scm-1.15.7.tar.gz\r\nRunning cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///root/aws-install/awscli-bundle/packages awscli-1.16.256.tar.gz\r\nRunning cmd: /usr/bin/python virtualenv.py --no-download --python /usr/bin/python /usr/local/aws\r\nRunning cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///root/aws-install/awscli-bundle/packages/setup setuptools_scm-1.15.7.tar.gz\r\nRunning cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///root/aws-install/awscli-bundle/packages awscli-1.16.256.tar.gz\r\nSTDERR: Traceback (most recent call last):\r\n  File \"./awscli-bundle/install\", line 162, in <module>\r\n    main()\r\n  File \"./awscli-bundle/install\", line 151, in main\r\n    pip_install_packages(opts.install_dir)\r\n  File \"./awscli-bundle/install\", line 119, in pip_install_packages\r\n    pip_script, PACKAGES_DIR, cli_tarball))\r\n  File \"./awscli-bundle/install\", line 49, in run\r\n    p.returncode, cmd, stdout + stderr))\r\n__main__.BadRCError: Bad rc (1) for cmd '/usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///root/aws-install/awscli-bundle/packages awscli-1.16.256.tar.gz': Processing ./awscli-1.16.256.tar.gz\r\nCollecting botocore==1.12.246 (from awscli==1.16.256)\r\nCollecting docutils<0.16,>=0.10 (from awscli==1.16.256)\r\nCollecting rsa<=3.5.0,>=3.1.2 (from awscli==1.16.256)\r\nCollecting s3transfer<0.3.0,>=0.2.0 (from awscli==1.16.256)\r\nRequirement already satisfied: argparse>=1.1 in /usr/local/aws/lib/python2.6/site-packages (from awscli==1.16.256)\r\nCollecting PyYAML<=3.13,>=3.10 (from awscli==1.16.256)\r\nCollecting colorama<0.3.9,>=0.2.5 (from awscli==1.16.256)\r\nDEPRECATION: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of pip will drop support for Python 2.6\r\n  Could not find a version that satisfies the requirement colorama<0.3.9,>=0.2.5 (from awscli==1.16.256) (from versions: 0.3.9, 0.4.1)\r\nNo matching distribution found for colorama<0.3.9,>=0.2.5 (from awscli==1.16.256)\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4577/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4563", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4563/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4563/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4563/events", "html_url": "https://github.com/aws/aws-cli/issues/4563", "id": 503509419, "node_id": "MDU6SXNzdWU1MDM1MDk0MTk=", "number": 4563, "title": "awscli-bundle 1.16.253 does not install with Python 2.6 (colorama dependency not met)", "user": {"login": "alewando", "id": 569485, "node_id": "MDQ6VXNlcjU2OTQ4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/569485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alewando", "html_url": "https://github.com/alewando", "followers_url": "https://api.github.com/users/alewando/followers", "following_url": "https://api.github.com/users/alewando/following{/other_user}", "gists_url": "https://api.github.com/users/alewando/gists{/gist_id}", "starred_url": "https://api.github.com/users/alewando/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alewando/subscriptions", "organizations_url": "https://api.github.com/users/alewando/orgs", "repos_url": "https://api.github.com/users/alewando/repos", "events_url": "https://api.github.com/users/alewando/events{/privacy}", "received_events_url": "https://api.github.com/users/alewando/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-10-07T15:00:18Z", "updated_at": "2019-10-09T15:52:36Z", "closed_at": "2019-10-07T20:16:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like awscli-bundle-1.16.253 includes colorama-0.4.1, but this version cannot satisfy a dependency constraint, which has recently been changed to require colorama<0.3.9 (I think due to #4545).\r\n\r\n```\r\nCould not find a version that satisfies the requirement colorama<0.3.9,>=0.2.5 (from awscli==1.16.253) (from versions: 0.4.1)\r\n```\r\n\r\n\r\nMore detailed log:\r\n```\r\nsudo awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws\r\ninflating: awscli-bundle/packages/setup/setuptools_scm-1.15.7.tar.gz\r\nRunning cmd: /usr/bin/python virtualenv.py --no-download --python /usr/bin/python /usr/local/aws\r\nTraceback (most recent call last):\r\nFile \"awscli-bundle/install\", line 162, in <module>\r\nRunning cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///home/centos/awscli-bundle/packages/setup setuptools_scm-1.15.7.tar.gz\r\nRunning cmd: /usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///home/centos/awscli-bundle/packages awscli-1.16.253.tar.gz\r\n        main()\r\n        File \"awscli-bundle/install\", line 151, in main\r\n        pip_install_packages(opts.install_dir)\r\n        File \"awscli-bundle/install\", line 119, in pip_install_packages\r\n        pip_script, PACKAGES_DIR, cli_tarball))\r\n        File \"awscli-bundle/install\", line 49, in run\r\n        p.returncode, cmd, stdout + stderr))\r\n        __main__.BadRCError: Bad rc (1) for cmd '/usr/local/aws/bin/pip install --no-cache-dir --no-index --find-links file:///home/centos/awscli-bundle/packages awscli-1.16.253.tar.gz': Processing ./awscli-1.16.253.tar.gz\r\n...\r\nCollecting colorama<0.3.9,>=0.2.5 (from awscli==1.16.253)\r\nDEPRECATION: Python 2.6 is no longer supported by the Python core team, please upgrade your Python. A future version of pip will drop support for Python 2.6\r\n  Could not find a version that satisfies the requirement colorama<0.3.9,>=0.2.5 (from awscli==1.16.253) (from versions: 0.4.1)\r\nNo matching distribution found for colorama<0.3.9,>=0.2.5 (from awscli==1.16.253)\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4563/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4332", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4332/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4332/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4332/events", "html_url": "https://github.com/aws/aws-cli/issues/4332", "id": 470761624, "node_id": "MDU6SXNzdWU0NzA3NjE2MjQ=", "number": 4332, "title": "Broken docutils==0.15", "user": {"login": "alexpekurovsky", "id": 8087891, "node_id": "MDQ6VXNlcjgwODc4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/8087891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexpekurovsky", "html_url": "https://github.com/alexpekurovsky", "followers_url": "https://api.github.com/users/alexpekurovsky/followers", "following_url": "https://api.github.com/users/alexpekurovsky/following{/other_user}", "gists_url": "https://api.github.com/users/alexpekurovsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexpekurovsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexpekurovsky/subscriptions", "organizations_url": "https://api.github.com/users/alexpekurovsky/orgs", "repos_url": "https://api.github.com/users/alexpekurovsky/repos", "events_url": "https://api.github.com/users/alexpekurovsky/events{/privacy}", "received_events_url": "https://api.github.com/users/alexpekurovsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-07-21T09:28:49Z", "updated_at": "2020-04-01T06:26:41Z", "closed_at": "2019-07-21T18:01:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi community,\r\n\r\nToday docutils were updated to 0.15 (https://pypi.org/project/docutils/#history) and it breaks awscli running on Python 2.\r\n\r\n```\r\n# aws --version\r\nTraceback (most recent call last):\r\n  File \"/bin/aws\", line 19, in <module>\r\n    import awscli.clidriver\r\n  File \"/usr/lib/python2.7/site-packages/awscli/clidriver.py\", line 36, in <module>\r\n    from awscli.help import ProviderHelpCommand\r\n  File \"/usr/lib/python2.7/site-packages/awscli/help.py\", line 20, in <module>\r\n    from docutils.core import publish_string\r\n  File \"/usr/lib/python2.7/site-packages/docutils/core.py\", line 246\r\n    print('\\n::: Runtime settings:', file=self._stderr)\r\n                                         ^\r\nSyntaxError: invalid syntax\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4332/reactions", "total_count": 44, "+1": 44, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4306", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4306/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4306/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4306/events", "html_url": "https://github.com/aws/aws-cli/issues/4306", "id": 466915843, "node_id": "MDU6SXNzdWU0NjY5MTU4NDM=", "number": 4306, "title": "aws emr create-cluster help command returns error", "user": {"login": "VitSkakun", "id": 15109385, "node_id": "MDQ6VXNlcjE1MTA5Mzg1", "avatar_url": "https://avatars.githubusercontent.com/u/15109385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VitSkakun", "html_url": "https://github.com/VitSkakun", "followers_url": "https://api.github.com/users/VitSkakun/followers", "following_url": "https://api.github.com/users/VitSkakun/following{/other_user}", "gists_url": "https://api.github.com/users/VitSkakun/gists{/gist_id}", "starred_url": "https://api.github.com/users/VitSkakun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VitSkakun/subscriptions", "organizations_url": "https://api.github.com/users/VitSkakun/orgs", "repos_url": "https://api.github.com/users/VitSkakun/repos", "events_url": "https://api.github.com/users/VitSkakun/events{/privacy}", "received_events_url": "https://api.github.com/users/VitSkakun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-11T14:07:29Z", "updated_at": "2019-07-12T01:05:20Z", "closed_at": "2019-07-12T01:05:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "how to reproduce \r\n\r\n1. upgrade to awscli 1.16.190 or 1.16.194 or 1.16.196\r\nat the moment it's enough to install via pip either on macOS(1.16.194) or on linux(1.16.196), or using Homebrew(1.16.190) on macOS\r\n```\r\n# on Ubuntu 16.04 linux \r\n$ pip install --upgrade awscli\r\n<... output skipped - but it was successful, no errors ...>\r\n\r\n$ aws --version\r\naws-cli/1.16.196 Python/2.7.12 Linux/4.4.0-97-generic botocore/1.12.186\r\n\r\n$ aws emr create-cluster help\r\n\r\n[Errno 2] No such file or directory: '/usr/local/lib/python2.7/dist-packages/awscli/examples/emr/create-cluster-synopsis.txt'\r\n\r\n\r\n\r\n#or on macOS just for example using the one installed via Homebrew\r\n$ brew install awscli\r\n<... output skipped - but it was successful, no errors ...>\r\n\r\n$ aws --version\r\naws-cli/1.16.190 Python/3.7.4 Darwin/18.6.0 botocore/1.12.180\r\n\r\n$ aws emr create-cluster help\r\n[Errno 2] No such file or directory: '/usr/local/Cellar/awscli/1.16.190/libexec/lib/python3.7/site-packages/awscli/examples/emr/create-cluster-synopsis.txt'\r\n\r\n#or on macOS using aws installed via pip3\r\n$ aws emr create-cluster help\r\n\r\n[Errno 2] No such file or directory: '/usr/local/lib/python3.7/site-packages/awscli/examples/emr/create-cluster-synopsis.txt'\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4247", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4247/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4247/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4247/events", "html_url": "https://github.com/aws/aws-cli/issues/4247", "id": 457486382, "node_id": "MDU6SXNzdWU0NTc0ODYzODI=", "number": 4247, "title": "s3 cp \"unknown encoding: idna\"", "user": {"login": "oturpe", "id": 5121186, "node_id": "MDQ6VXNlcjUxMjExODY=", "avatar_url": "https://avatars.githubusercontent.com/u/5121186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oturpe", "html_url": "https://github.com/oturpe", "followers_url": "https://api.github.com/users/oturpe/followers", "following_url": "https://api.github.com/users/oturpe/following{/other_user}", "gists_url": "https://api.github.com/users/oturpe/gists{/gist_id}", "starred_url": "https://api.github.com/users/oturpe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oturpe/subscriptions", "organizations_url": "https://api.github.com/users/oturpe/orgs", "repos_url": "https://api.github.com/users/oturpe/repos", "events_url": "https://api.github.com/users/oturpe/events{/privacy}", "received_events_url": "https://api.github.com/users/oturpe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-18T13:34:57Z", "updated_at": "2019-08-12T12:24:54Z", "closed_at": "2019-08-07T17:51:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using the msi installed aws cli on Windows (from [Install the AWS CLI on Windows](https://docs.aws.amazon.com/cli/latest/userguide/install-windows.html)) that reports the following versions:\r\n`\r\nPS > aws --version                                                                                                                                                                                                       aws-cli/1.16.180 Python/3.6.0 Windows/10 botocore/1.12.170    \r\n`\r\n\r\nI have a folder called `build` that I am trying to upload to a s3 bucket using the following command:\r\n`\r\nPS > aws s3 cp --recursive build s3://my-s3-bucket/\r\n`\r\n\r\nThis results in most of the files copied successfully, but one or two (the exact situation varies between executions) fail with the following error:\r\n`\r\nupload failed: build\\myfile.ext to s3://my-s3-bucket/myfile.ext An HTTP Client raised and unhandled exception: unknown encoding: idna\r\n`\r\n\r\nUploading the files one by one like this succeeds:\r\n`\r\nPS > aws s3 cp build\\myfile.ext s3://my-s3-bucket/\r\n`\r\n\r\nAlso, adding the `--debug` flag seems to make it succeed.\r\n\r\nThere is a [pull request #4073](https://github.com/aws/aws-cli/pull/4073) in this same repository that seems related. However, it is already merged, but I still encounter the problem.\r\n\r\nThere is also [some discussion in Stack Overflow](https://stackoverflow.com/questions/53144254/aws-cli-upload-failed-unknown-encoding-idna/54337242). The workaround of installing the aws cli with pip instead of msi is not easily applicable for me, due to conflicting dependency versions with other pip packages that I need.\r\n\r\nThe other fix from the mentioned Stack Overflow discussion, adding `import encodings.idna` to file `C:\\Program Files\\Amazon\\AWSCLI\\bin\\aws-scipt.py`, seems to fix the issue for me.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4242", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4242/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4242/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4242/events", "html_url": "https://github.com/aws/aws-cli/issues/4242", "id": 456403502, "node_id": "MDU6SXNzdWU0NTY0MDM1MDI=", "number": 4242, "title": "awscli-bundle install on Python 2.6 fails at PyYAML (3.x dependency vs. 5.x bundled)", "user": {"login": "Trinition", "id": 3984963, "node_id": "MDQ6VXNlcjM5ODQ5NjM=", "avatar_url": "https://avatars.githubusercontent.com/u/3984963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Trinition", "html_url": "https://github.com/Trinition", "followers_url": "https://api.github.com/users/Trinition/followers", "following_url": "https://api.github.com/users/Trinition/following{/other_user}", "gists_url": "https://api.github.com/users/Trinition/gists{/gist_id}", "starred_url": "https://api.github.com/users/Trinition/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Trinition/subscriptions", "organizations_url": "https://api.github.com/users/Trinition/orgs", "repos_url": "https://api.github.com/users/Trinition/repos", "events_url": "https://api.github.com/users/Trinition/events{/privacy}", "received_events_url": "https://api.github.com/users/Trinition/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-14T19:37:16Z", "updated_at": "2019-06-18T18:52:43Z", "closed_at": "2019-06-18T18:52:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "As of awscli-bundle version 1.16.178 it is no longer installable with Python 2.6 (e.g. CentOS6 EC2 instance).\r\n\r\nThe failure is:\r\n`Could not find a version that satisfies the requirement PyYAML<=3.13,>=3.10 (from awscli==1.16.178) (from versions: 5.1)`\r\n\r\nThe problem appears to be that the bundle includes the PyYAML 5.1 files, but the dependency is set to use PyYAML 3.10-3.13.  I can independently `pip install PyYAML==3.13` on such an instance just fine, but the `awscli-bundle/install` script seems to take special steps to leverage only the bundled items when installing itself, and can't find a 3.x PyYAML in the 5.1 artifact.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4242/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4241", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4241/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4241/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4241/events", "html_url": "https://github.com/aws/aws-cli/issues/4241", "id": 456388603, "node_id": "MDU6SXNzdWU0NTYzODg2MDM=", "number": 4241, "title": "GovCloud Route53 Support", "user": {"login": "spstratis", "id": 725610, "node_id": "MDQ6VXNlcjcyNTYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/725610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spstratis", "html_url": "https://github.com/spstratis", "followers_url": "https://api.github.com/users/spstratis/followers", "following_url": "https://api.github.com/users/spstratis/following{/other_user}", "gists_url": "https://api.github.com/users/spstratis/gists{/gist_id}", "starred_url": "https://api.github.com/users/spstratis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spstratis/subscriptions", "organizations_url": "https://api.github.com/users/spstratis/orgs", "repos_url": "https://api.github.com/users/spstratis/repos", "events_url": "https://api.github.com/users/spstratis/events{/privacy}", "received_events_url": "https://api.github.com/users/spstratis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2019-06-14T18:54:34Z", "updated_at": "2020-12-09T20:13:14Z", "closed_at": "2019-08-20T18:41:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just looking to see if the GovCloud Route53 api Url is supported in the aws-cli yet. When I attempt to create a private zone, I get the following error.\r\n\r\n```\r\nCould not connect to the endpoint URL: \"https://route53.us-gov-west-1.amazonaws.com/2013-04-01/hostedzone\"\r\n```\r\n\r\nMy aws cli version is: \r\naws-cli/1.16.79 Python/2.7.10 Darwin/18.6.0 botocore/1.12.69\r\n\r\nNot sure if this is an issue due to Route53 support in GovCloud being so new, or an issue with me using my IAM role creds. It seems the Route53 calls are the only ones that are giving me an issue right now. \r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4241/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4163", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4163/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4163/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4163/events", "html_url": "https://github.com/aws/aws-cli/issues/4163", "id": 445592348, "node_id": "MDU6SXNzdWU0NDU1OTIzNDg=", "number": 4163, "title": "aws eks get-token doesn't work with --profile", "user": {"login": "streetmapp", "id": 2141830, "node_id": "MDQ6VXNlcjIxNDE4MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2141830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/streetmapp", "html_url": "https://github.com/streetmapp", "followers_url": "https://api.github.com/users/streetmapp/followers", "following_url": "https://api.github.com/users/streetmapp/following{/other_user}", "gists_url": "https://api.github.com/users/streetmapp/gists{/gist_id}", "starred_url": "https://api.github.com/users/streetmapp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/streetmapp/subscriptions", "organizations_url": "https://api.github.com/users/streetmapp/orgs", "repos_url": "https://api.github.com/users/streetmapp/repos", "events_url": "https://api.github.com/users/streetmapp/events{/privacy}", "received_events_url": "https://api.github.com/users/streetmapp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-05-17T19:48:37Z", "updated_at": "2020-06-22T19:54:26Z", "closed_at": "2019-06-21T21:47:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "When going to use `aws --profile profilename eks get-token --cluster-name eksClusterName` I receive the following error `Unable to locate credentials. You can configure credentials by running \"aws configure\".`. However, when I set the ENVVAR of AWS_DEFAULT_PROFILE to the profile I want, the command works fine.\r\n\r\nI verified other eks commands work fine with the --profile option. For example: `aws --profile profilename eks describe-cluster --name eksClusterName` works as expected.\r\n\r\n\r\naws --version                                             \r\naws-cli/1.16.160 Python/3.7.0 Darwin/18.2.0 botocore/1.12.150", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4087", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4087/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4087/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4087/events", "html_url": "https://github.com/aws/aws-cli/issues/4087", "id": 435339587, "node_id": "MDU6SXNzdWU0MzUzMzk1ODc=", "number": 4087, "title": "'dict' object has no attribute 'startswith' in cloudformation package", "user": {"login": "jimcatts", "id": 311121, "node_id": "MDQ6VXNlcjMxMTEyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/311121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimcatts", "html_url": "https://github.com/jimcatts", "followers_url": "https://api.github.com/users/jimcatts/followers", "following_url": "https://api.github.com/users/jimcatts/following{/other_user}", "gists_url": "https://api.github.com/users/jimcatts/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimcatts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimcatts/subscriptions", "organizations_url": "https://api.github.com/users/jimcatts/orgs", "repos_url": "https://api.github.com/users/jimcatts/repos", "events_url": "https://api.github.com/users/jimcatts/events{/privacy}", "received_events_url": "https://api.github.com/users/jimcatts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2019-04-20T00:48:53Z", "updated_at": "2020-11-12T22:38:15Z", "closed_at": "2019-06-11T17:14:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "After updating to the latest version of the aws cli (1.16.144), CI/CD processes that had been stable for over a year are now consistently failing with the following error:\r\n\r\n'dict' object has no attribute 'startswith'\r\n\r\nwhen running:\r\n\r\naws cloudformation package --template-file ./foo.yaml --output-template-file ./bar.yaml --s3-bucket foo --s3-prefix bar --region us-east-1", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4087/reactions", "total_count": 11, "+1": 11, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4087/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4081", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4081/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4081/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4081/events", "html_url": "https://github.com/aws/aws-cli/pull/4081", "id": 433990117, "node_id": "MDExOlB1bGxSZXF1ZXN0MjcxMDc3OTAw", "number": 4081, "title": "Support Chinese regions in the S3Uploader", "user": {"login": "joguSD", "id": 1935727, "node_id": "MDQ6VXNlcjE5MzU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1935727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joguSD", "html_url": "https://github.com/joguSD", "followers_url": "https://api.github.com/users/joguSD/followers", "following_url": "https://api.github.com/users/joguSD/following{/other_user}", "gists_url": "https://api.github.com/users/joguSD/gists{/gist_id}", "starred_url": "https://api.github.com/users/joguSD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joguSD/subscriptions", "organizations_url": "https://api.github.com/users/joguSD/orgs", "repos_url": "https://api.github.com/users/joguSD/repos", "events_url": "https://api.github.com/users/joguSD/events{/privacy}", "received_events_url": "https://api.github.com/users/joguSD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-16T21:19:43Z", "updated_at": "2019-04-19T20:41:41Z", "closed_at": "2019-04-19T20:41:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/4081", "html_url": "https://github.com/aws/aws-cli/pull/4081", "diff_url": "https://github.com/aws/aws-cli/pull/4081.diff", "patch_url": "https://github.com/aws/aws-cli/pull/4081.patch", "merged_at": "2019-04-19T20:41:23Z"}, "body": "This updates the S3Uploader customization to support creating path style URLs to objects in the Chinese regions (or any region we support, really).\r\n\r\nFixes #3635 ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4081/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4081/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4072", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4072/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4072/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4072/events", "html_url": "https://github.com/aws/aws-cli/issues/4072", "id": 432165572, "node_id": "MDU6SXNzdWU0MzIxNjU1NzI=", "number": 4072, "title": "aws eks update-cluster-config throwing InvalidParameterException", "user": {"login": "gandhiamarnadh", "id": 31552540, "node_id": "MDQ6VXNlcjMxNTUyNTQw", "avatar_url": "https://avatars.githubusercontent.com/u/31552540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gandhiamarnadh", "html_url": "https://github.com/gandhiamarnadh", "followers_url": "https://api.github.com/users/gandhiamarnadh/followers", "following_url": "https://api.github.com/users/gandhiamarnadh/following{/other_user}", "gists_url": "https://api.github.com/users/gandhiamarnadh/gists{/gist_id}", "starred_url": "https://api.github.com/users/gandhiamarnadh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gandhiamarnadh/subscriptions", "organizations_url": "https://api.github.com/users/gandhiamarnadh/orgs", "repos_url": "https://api.github.com/users/gandhiamarnadh/repos", "events_url": "https://api.github.com/users/gandhiamarnadh/events{/privacy}", "received_events_url": "https://api.github.com/users/gandhiamarnadh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1077036848, "node_id": "MDU6TGFiZWwxMDc3MDM2ODQ4", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks-kubeconfig", "name": "eks-kubeconfig", "color": "b60205", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-04-11T18:08:47Z", "updated_at": "2019-04-30T14:53:08Z", "closed_at": "2019-04-29T07:26:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "trying updateupdate-cluster-config command to update subnets and it throws\r\n`An error occurred (InvalidParameterException) when calling the UpdateClusterConfig operation: Invalid type for cluster update.`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/4039", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/4039/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/4039/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/4039/events", "html_url": "https://github.com/aws/aws-cli/issues/4039", "id": 428317321, "node_id": "MDU6SXNzdWU0MjgzMTczMjE=", "number": 4039, "title": "aws s3 sync and glacier deep archive - InvalidObjectState", "user": {"login": "nokiomanz", "id": 17622903, "node_id": "MDQ6VXNlcjE3NjIyOTAz", "avatar_url": "https://avatars.githubusercontent.com/u/17622903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nokiomanz", "html_url": "https://github.com/nokiomanz", "followers_url": "https://api.github.com/users/nokiomanz/followers", "following_url": "https://api.github.com/users/nokiomanz/following{/other_user}", "gists_url": "https://api.github.com/users/nokiomanz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nokiomanz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nokiomanz/subscriptions", "organizations_url": "https://api.github.com/users/nokiomanz/orgs", "repos_url": "https://api.github.com/users/nokiomanz/repos", "events_url": "https://api.github.com/users/nokiomanz/events{/privacy}", "received_events_url": "https://api.github.com/users/nokiomanz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-04-02T16:09:02Z", "updated_at": "2020-05-26T12:07:36Z", "closed_at": "2020-05-26T12:07:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFollowing the announcement of glacier deep archives. I modified my lifecycle policy to first move to glacier and then move to deep archives. On the following day. Object older than x days had been moved to deep archive.\r\n\r\nI have a script that run on that bucket that rsync file back locally for double backup. For object that were glacier I added to my command --ignore-glacier-warnings which made my script run fine and return without error. Like this\r\naws s3 sync --delete --ignore-glacier-warnings s3://mybucket/myfolder/ /localbackup/\r\n\r\nWith the addition of deep archive, I get the following message.\r\nAn error occurred (InvalidObjectState) when calling the GetObject operation: The operation is not valid for the object's storage class\r\nMy script still runs fine. But I get a bunch of this error for each object in glacier deep arvice.\r\n\r\nI tried updating my awscli to latest version following this\r\nhttps://docs.aws.amazon.com/cli/latest/userguide/install-bundle.html\r\nStill with the same result.\r\n\r\nIf I run my rsync command on a specific object that is under glacier deep archives I don't get any message and it does nothing since it just can't.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/4039/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/4039/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3995", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3995/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3995/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3995/events", "html_url": "https://github.com/aws/aws-cli/issues/3995", "id": 418965373, "node_id": "MDU6SXNzdWU0MTg5NjUzNzM=", "number": 3995, "title": "Using ecs create-service --generate-cli-skeleton with output fails", "user": {"login": "GriffinMeyer", "id": 10680373, "node_id": "MDQ6VXNlcjEwNjgwMzcz", "avatar_url": "https://avatars.githubusercontent.com/u/10680373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GriffinMeyer", "html_url": "https://github.com/GriffinMeyer", "followers_url": "https://api.github.com/users/GriffinMeyer/followers", "following_url": "https://api.github.com/users/GriffinMeyer/following{/other_user}", "gists_url": "https://api.github.com/users/GriffinMeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/GriffinMeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GriffinMeyer/subscriptions", "organizations_url": "https://api.github.com/users/GriffinMeyer/orgs", "repos_url": "https://api.github.com/users/GriffinMeyer/repos", "events_url": "https://api.github.com/users/GriffinMeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/GriffinMeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-08T21:32:07Z", "updated_at": "2019-03-15T17:28:44Z", "closed_at": "2019-03-15T17:28:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running ```aws ecs create-service``` with any configuration and ```--generate-cli-skeleton output``` results in the failure: ```Parameter validation failed:\r\nInvalid type for parameter service.taskSets[0].scale.value, value: None, type: <class 'NoneType'>, valid types: <class 'float'>, <class 'decimal.Decimal'>, <class 'int'>```\r\n\r\nExample (From the docs): ```aws ecs create-service --service-name ecs-simple-service --task-definition ecs-demo --desired-count 10 --generate-cli-skeleton output```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3976", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3976/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3976/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3976/events", "html_url": "https://github.com/aws/aws-cli/issues/3976", "id": 415692521, "node_id": "MDU6SXNzdWU0MTU2OTI1MjE=", "number": 3976, "title": "Elasticsearch documentation incorrectly states a domain can start with a letter or number", "user": {"login": "DaveHewy", "id": 370650, "node_id": "MDQ6VXNlcjM3MDY1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/370650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DaveHewy", "html_url": "https://github.com/DaveHewy", "followers_url": "https://api.github.com/users/DaveHewy/followers", "following_url": "https://api.github.com/users/DaveHewy/following{/other_user}", "gists_url": "https://api.github.com/users/DaveHewy/gists{/gist_id}", "starred_url": "https://api.github.com/users/DaveHewy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DaveHewy/subscriptions", "organizations_url": "https://api.github.com/users/DaveHewy/orgs", "repos_url": "https://api.github.com/users/DaveHewy/repos", "events_url": "https://api.github.com/users/DaveHewy/events{/privacy}", "received_events_url": "https://api.github.com/users/DaveHewy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": {"login": "klaytaybai", "id": 21030068, "node_id": "MDQ6VXNlcjIxMDMwMDY4", "avatar_url": "https://avatars.githubusercontent.com/u/21030068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klaytaybai", "html_url": "https://github.com/klaytaybai", "followers_url": "https://api.github.com/users/klaytaybai/followers", "following_url": "https://api.github.com/users/klaytaybai/following{/other_user}", "gists_url": "https://api.github.com/users/klaytaybai/gists{/gist_id}", "starred_url": "https://api.github.com/users/klaytaybai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klaytaybai/subscriptions", "organizations_url": "https://api.github.com/users/klaytaybai/orgs", "repos_url": "https://api.github.com/users/klaytaybai/repos", "events_url": "https://api.github.com/users/klaytaybai/events{/privacy}", "received_events_url": "https://api.github.com/users/klaytaybai/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "klaytaybai", "id": 21030068, "node_id": "MDQ6VXNlcjIxMDMwMDY4", "avatar_url": "https://avatars.githubusercontent.com/u/21030068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klaytaybai", "html_url": "https://github.com/klaytaybai", "followers_url": "https://api.github.com/users/klaytaybai/followers", "following_url": "https://api.github.com/users/klaytaybai/following{/other_user}", "gists_url": "https://api.github.com/users/klaytaybai/gists{/gist_id}", "starred_url": "https://api.github.com/users/klaytaybai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klaytaybai/subscriptions", "organizations_url": "https://api.github.com/users/klaytaybai/orgs", "repos_url": "https://api.github.com/users/klaytaybai/repos", "events_url": "https://api.github.com/users/klaytaybai/events{/privacy}", "received_events_url": "https://api.github.com/users/klaytaybai/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-02-28T15:52:23Z", "updated_at": "2019-05-29T20:33:18Z", "closed_at": "2019-05-29T20:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "When infact only the former is true. It fails the regex if a passed domain_name does not start with a letter.\r\n\r\n```\r\nDomain names must start with a letter or number and can contain the following characters: a-z (lowercase), 0-9, and - (hyphen).\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3962", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3962/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3962/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3962/events", "html_url": "https://github.com/aws/aws-cli/issues/3962", "id": 413326480, "node_id": "MDU6SXNzdWU0MTMzMjY0ODA=", "number": 3962, "title": "--output text results in \"None\" while --output json gives correct result on cloudformation changesets", "user": {"login": "konstantinj", "id": 4353187, "node_id": "MDQ6VXNlcjQzNTMxODc=", "avatar_url": "https://avatars.githubusercontent.com/u/4353187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/konstantinj", "html_url": "https://github.com/konstantinj", "followers_url": "https://api.github.com/users/konstantinj/followers", "following_url": "https://api.github.com/users/konstantinj/following{/other_user}", "gists_url": "https://api.github.com/users/konstantinj/gists{/gist_id}", "starred_url": "https://api.github.com/users/konstantinj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/konstantinj/subscriptions", "organizations_url": "https://api.github.com/users/konstantinj/orgs", "repos_url": "https://api.github.com/users/konstantinj/repos", "events_url": "https://api.github.com/users/konstantinj/events{/privacy}", "received_events_url": "https://api.github.com/users/konstantinj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 554638524, "node_id": "MDU6TGFiZWw1NTQ2Mzg1MjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation", "name": "cloudformation", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-02-22T09:56:33Z", "updated_at": "2023-03-29T14:27:16Z", "closed_at": "2019-04-19T02:07:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nthe following gives \"CREATE_COMPLETE\" which is correct\r\n\r\n`aws cloudformation describe-change-set --change-set-name website-production-alb-a-1-0-7 --stack-name website-production-alb-a`\r\n\r\nwhile this gives \"None\" which is incorrect\r\n\r\n`aws cloudformation describe-change-set --change-set-name website-production-alb-a-1-0-7 --stack-name website-production-alb-a --output text`\r\n\r\n`aws --version`\r\n`aws-cli/1.16.110 Python/3.7.2 Darwin/18.2.0 botocore/1.12.100`\r\n\r\ncolleague has aws-cli/1.16.1 which also gives correct result on text.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3962/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3926", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3926/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3926/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3926/events", "html_url": "https://github.com/aws/aws-cli/issues/3926", "id": 409961670, "node_id": "MDU6SXNzdWU0MDk5NjE2NzA=", "number": 3926, "title": "list-identity-providers documentation does not show required params correctly", "user": {"login": "TDA", "id": 432707, "node_id": "MDQ6VXNlcjQzMjcwNw==", "avatar_url": "https://avatars.githubusercontent.com/u/432707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TDA", "html_url": "https://github.com/TDA", "followers_url": "https://api.github.com/users/TDA/followers", "following_url": "https://api.github.com/users/TDA/following{/other_user}", "gists_url": "https://api.github.com/users/TDA/gists{/gist_id}", "starred_url": "https://api.github.com/users/TDA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TDA/subscriptions", "organizations_url": "https://api.github.com/users/TDA/orgs", "repos_url": "https://api.github.com/users/TDA/repos", "events_url": "https://api.github.com/users/TDA/events{/privacy}", "received_events_url": "https://api.github.com/users/TDA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 289138853, "node_id": "MDU6TGFiZWwyODkxMzg4NTM=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cognito", "name": "cognito", "color": "ff5500", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "klaytaybai", "id": 21030068, "node_id": "MDQ6VXNlcjIxMDMwMDY4", "avatar_url": "https://avatars.githubusercontent.com/u/21030068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klaytaybai", "html_url": "https://github.com/klaytaybai", "followers_url": "https://api.github.com/users/klaytaybai/followers", "following_url": "https://api.github.com/users/klaytaybai/following{/other_user}", "gists_url": "https://api.github.com/users/klaytaybai/gists{/gist_id}", "starred_url": "https://api.github.com/users/klaytaybai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klaytaybai/subscriptions", "organizations_url": "https://api.github.com/users/klaytaybai/orgs", "repos_url": "https://api.github.com/users/klaytaybai/repos", "events_url": "https://api.github.com/users/klaytaybai/events{/privacy}", "received_events_url": "https://api.github.com/users/klaytaybai/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "klaytaybai", "id": 21030068, "node_id": "MDQ6VXNlcjIxMDMwMDY4", "avatar_url": "https://avatars.githubusercontent.com/u/21030068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klaytaybai", "html_url": "https://github.com/klaytaybai", "followers_url": "https://api.github.com/users/klaytaybai/followers", "following_url": "https://api.github.com/users/klaytaybai/following{/other_user}", "gists_url": "https://api.github.com/users/klaytaybai/gists{/gist_id}", "starred_url": "https://api.github.com/users/klaytaybai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klaytaybai/subscriptions", "organizations_url": "https://api.github.com/users/klaytaybai/orgs", "repos_url": "https://api.github.com/users/klaytaybai/repos", "events_url": "https://api.github.com/users/klaytaybai/events{/privacy}", "received_events_url": "https://api.github.com/users/klaytaybai/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-02-13T19:22:14Z", "updated_at": "2019-02-14T15:19:59Z", "closed_at": "2019-02-14T15:19:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the documentation for the [ListIdentityProviders](https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_ListIdentityProviders.html) command,  `MaxResults` needs to be marked as a required field, because when we dont pass it in, it results in\r\n\r\n```\r\naws cognito-idp list-identity-providers --user-pool-id USER_POOL_ID\r\n\r\nAn error occurred (InvalidParameterException) when calling the ListIdentityProviders operation: 1 validation error detected: Value '0' at 'maxResults' failed to satisfy constraint: Member must have value greater than or equal to 1\r\n```\r\n\r\nI believe this happens because it defaults to 0, and that fails validation. If we mark the field as required, this can be avoided.  This happens with both the CLI and the JS SDK, and needs documentation to be fixed at both places.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3926/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3902", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3902/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3902/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3902/events", "html_url": "https://github.com/aws/aws-cli/issues/3902", "id": 405539381, "node_id": "MDU6SXNzdWU0MDU1MzkzODE=", "number": 3902, "title": "s3 ls/cp  unicode problem", "user": {"login": "dawnfantasy", "id": 24688043, "node_id": "MDQ6VXNlcjI0Njg4MDQz", "avatar_url": "https://avatars.githubusercontent.com/u/24688043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dawnfantasy", "html_url": "https://github.com/dawnfantasy", "followers_url": "https://api.github.com/users/dawnfantasy/followers", "following_url": "https://api.github.com/users/dawnfantasy/following{/other_user}", "gists_url": "https://api.github.com/users/dawnfantasy/gists{/gist_id}", "starred_url": "https://api.github.com/users/dawnfantasy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dawnfantasy/subscriptions", "organizations_url": "https://api.github.com/users/dawnfantasy/orgs", "repos_url": "https://api.github.com/users/dawnfantasy/repos", "events_url": "https://api.github.com/users/dawnfantasy/events{/privacy}", "received_events_url": "https://api.github.com/users/dawnfantasy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-02-01T03:42:06Z", "updated_at": "2020-08-20T14:44:13Z", "closed_at": "2020-08-20T14:44:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "for s3 ls\r\ndisplay is fine, but after redirect/pipe every Chinese character becomes \"?\" question mark.\r\nReproduce:\r\n$ aws s3 ls s3://bucketname\r\n                           PRE \u5065\u8eab/\r\n                           PRE \u624b\u5de5\u5236\u4f5c\u6c34\u6676\u77f3\u5934\u7b49/\r\n                           PRE \u83dc\u8c31/\r\n$ aws s3 ls s3://bucketname > x.txt\r\n$ cat x.txt\r\n                           PRE ??/\r\n                           PRE ?????????/\r\n                           PRE ??/\r\n\r\nFAILED: aws-cli/1.16.96 Python/2.7.15rc1 Linux/4.15.0-1031-aws botocore/1.12.86\r\nSUCCESS: aws-cli/1.14.44 Python/3.6.7 Linux/4.15.0-1031-aws botocore/1.8.48    (ubuntu 18.04 LTS apt install)\r\nSUCCESS: aws-cli/1.15.71 Python/3.5.2 Linux/4.15.0-1031-aws botocore/1.10.70   (ubuntu 18.04 LTS snap install)\r\nfiles generated with version 1.14.44 and 1.15.71 are correct.\r\n\r\nfor s3 cp\r\none version works fine and another fails.\r\nFAILED: version: aws-cli/1.15.71 Python/3.5.2 Linux/4.15.0-1031-aws botocore/1.10.70   (ubuntu 18.04 LTS snap install) \r\n$ aws s3 cp s3://buck1/\u6210\u90fd/006.JPG s3://buck2/\u6210\u90fd/006.JPG\r\nfatal error: 'utf-8' codec can't encode character '\\udce6' in position 11: surrogates not allowed\r\n\r\nSUCCESS: version aws-cli/1.14.44 Python/3.6.7 Linux/4.15.0-1031-aws botocore/1.8.48    (ubuntu 18.04 LTS apt install)\r\n$ aws s3 cp s3://buck1/\u6210\u90fd/006.JPG s3://buck2/\u6210\u90fd/006.JPG\r\ncopy: s3://buck1/\u6210\u90fd/006.JPG to s3://buck2/\u6210\u90fd/006.JPG\r\n$ echo $?\r\n0\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3902/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3834", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3834/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3834/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3834/events", "html_url": "https://github.com/aws/aws-cli/issues/3834", "id": 396796334, "node_id": "MDU6SXNzdWUzOTY3OTYzMzQ=", "number": 3834, "title": "Invalid AWS_PROFILE (or AWS_DEFAULT_PROFILE) will cause traceback", "user": {"login": "kallu", "id": 154476, "node_id": "MDQ6VXNlcjE1NDQ3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/154476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kallu", "html_url": "https://github.com/kallu", "followers_url": "https://api.github.com/users/kallu/followers", "following_url": "https://api.github.com/users/kallu/following{/other_user}", "gists_url": "https://api.github.com/users/kallu/gists{/gist_id}", "starred_url": "https://api.github.com/users/kallu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kallu/subscriptions", "organizations_url": "https://api.github.com/users/kallu/orgs", "repos_url": "https://api.github.com/users/kallu/repos", "events_url": "https://api.github.com/users/kallu/events{/privacy}", "received_events_url": "https://api.github.com/users/kallu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 371679656, "node_id": "MDU6TGFiZWwzNzE2Nzk2NTY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/confusing-error", "name": "confusing-error", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-08T08:27:09Z", "updated_at": "2021-03-06T01:52:48Z", "closed_at": "2021-03-06T01:52:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "When AWS_PROFILE (or AWS_DEFAULT_PROFILE) is set to invalid (non-existing) value, aws cli will fail instead of graceful exit with error msg.\r\n\r\n```\r\n$ aws --version\r\naws-cli/1.16.84 Python/2.7.10 Darwin/18.2.0 botocore/1.12.74\r\n\r\n$ export AWS_PROFILE=foobar\r\n$ aws sts get-caller-identity\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/aws\", line 27, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/bin/aws\", line 23, in main\r\n    return awscli.clidriver.main()\r\n  File \"/Library/Python/2.7/site-packages/awscli/clidriver.py\", line 59, in main\r\n    rc = driver.main()\r\n  File \"/Library/Python/2.7/site-packages/awscli/clidriver.py\", line 193, in main\r\n    command_table = self._get_command_table()\r\n  File \"/Library/Python/2.7/site-packages/awscli/clidriver.py\", line 102, in _get_command_table\r\n    self._command_table = self._build_command_table()\r\n  File \"/Library/Python/2.7/site-packages/awscli/clidriver.py\", line 122, in _build_command_table\r\n    command_object=self)\r\n  File \"/Library/Python/2.7/site-packages/botocore/session.py\", line 671, in emit\r\n    return self._events.emit(event_name, **kwargs)\r\n  File \"/Library/Python/2.7/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/Library/Python/2.7/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/Library/Python/2.7/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/Library/Python/2.7/site-packages/awscli/customizations/preview.py\", line 69, in mark_as_preview\r\n    service_name=original_command.service_model.service_name,\r\n  File \"/Library/Python/2.7/site-packages/awscli/clidriver.py\", line 318, in service_model\r\n    return self._get_service_model()\r\n  File \"/Library/Python/2.7/site-packages/awscli/clidriver.py\", line 335, in _get_service_model\r\n    api_version = self.session.get_config_variable('api_versions').get(\r\n  File \"/Library/Python/2.7/site-packages/botocore/session.py\", line 233, in get_config_variable\r\n    logical_name)\r\n  File \"/Library/Python/2.7/site-packages/botocore/configprovider.py\", line 226, in get_config_variable\r\n    return provider.provide()\r\n  File \"/Library/Python/2.7/site-packages/botocore/configprovider.py\", line 323, in provide\r\n    value = provider.provide()\r\n  File \"/Library/Python/2.7/site-packages/botocore/configprovider.py\", line 382, in provide\r\n    config = self._session.get_scoped_config()\r\n  File \"/Library/Python/2.7/site-packages/botocore/session.py\", line 334, in get_scoped_config\r\n    raise ProfileNotFound(profile=profile_name)\r\nbotocore.exceptions.ProfileNotFound: The config profile (foobar) could not be found\r\n```\r\n\r\nExpected behaviour would be graceful exit, similar to --profile with non-existing profile\r\n\r\n```\r\n$ unset AWS_PROFILE\r\n$ aws --profile foobar sts get-caller-identity\r\n\r\nThe config profile (foobar) could not be found\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3834/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 1}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3834/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3788", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3788/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3788/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3788/events", "html_url": "https://github.com/aws/aws-cli/issues/3788", "id": 388972671, "node_id": "MDU6SXNzdWUzODg5NzI2NzE=", "number": 3788, "title": "The aws-cli bundle package uses an insecure version of PyYAML", "user": {"login": "echoboomer", "id": 19732751, "node_id": "MDQ6VXNlcjE5NzMyNzUx", "avatar_url": "https://avatars.githubusercontent.com/u/19732751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/echoboomer", "html_url": "https://github.com/echoboomer", "followers_url": "https://api.github.com/users/echoboomer/followers", "following_url": "https://api.github.com/users/echoboomer/following{/other_user}", "gists_url": "https://api.github.com/users/echoboomer/gists{/gist_id}", "starred_url": "https://api.github.com/users/echoboomer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/echoboomer/subscriptions", "organizations_url": "https://api.github.com/users/echoboomer/orgs", "repos_url": "https://api.github.com/users/echoboomer/repos", "events_url": "https://api.github.com/users/echoboomer/events{/privacy}", "received_events_url": "https://api.github.com/users/echoboomer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-09T00:20:49Z", "updated_at": "2018-12-10T20:42:49Z", "closed_at": "2018-12-10T20:42:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### awscli version:<br>\r\n`aws-cli/1.16.52 Python/2.7.15 Linux/4.14.77-69.57.amzn1.x86_64 exec-env/AWS_ECS_EC2 botocore/1.12.42`\r\n\r\n[NVD entry](https://nvd.nist.gov/vuln/detail/CVE-2017-18342)\r\n\r\nThis issue was found when vulnerability alerts started appearing in Twistlock in response to scans of Docker images that we are using in several applications. The generic error found in these outlines is as such:<br>\r\n\r\n```\r\nImpacted versions: <=3.13\r\nIn PyYAML before 4.1, the yaml.load() API could execute arbitrary code. In other words, yaml.safe_load is not used.\r\n```\r\n\r\nThese images are not natively using PyYAML, so this led us to a Docker `RUN` line in a Dockerfile that executed a script that contains a line of code that executes the installation of the `aws-cli` bundle using the following URL:<br>\r\n\r\n`https://s3.amazonaws.com/aws-cli/awscli-bundle.zip`\r\n\r\nUnpacking this archive shows a list of package dependencies that includes the vulnerable version of PyYAML:<br>\r\n\r\n`awscli-bundle/packages/PyYAML-3.13.tar.gz`\r\n\r\nThe latest (and actually secure) version of PyYAML appears to be 4.1 according to the developer via the [GitHub repo](https://github.com/yaml/pyyaml).\r\n\r\n### Request\r\n\r\nIs it possible to have the patched version of PyYAML added to this bundle to avoid this vulnerability?\r\n\r\nThank you!", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3788/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3704", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3704/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3704/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3704/events", "html_url": "https://github.com/aws/aws-cli/issues/3704", "id": 377723791, "node_id": "MDU6SXNzdWUzNzc3MjM3OTE=", "number": 3704, "title": "aws configure list doesn't work properly with botocore/1.12.38", "user": {"login": "kurochan", "id": 591247, "node_id": "MDQ6VXNlcjU5MTI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/591247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kurochan", "html_url": "https://github.com/kurochan", "followers_url": "https://api.github.com/users/kurochan/followers", "following_url": "https://api.github.com/users/kurochan/following{/other_user}", "gists_url": "https://api.github.com/users/kurochan/gists{/gist_id}", "starred_url": "https://api.github.com/users/kurochan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kurochan/subscriptions", "organizations_url": "https://api.github.com/users/kurochan/orgs", "repos_url": "https://api.github.com/users/kurochan/repos", "events_url": "https://api.github.com/users/kurochan/events{/privacy}", "received_events_url": "https://api.github.com/users/kurochan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-11-06T07:33:04Z", "updated_at": "2018-11-08T01:23:48Z", "closed_at": "2018-11-07T00:01:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I found `aws configure list` doesn't work properly with botocore/1.12.38 .\r\n\r\n`aws-cli version`\r\n```\r\n$ aws --version\r\naws-cli/1.16.48 Python/2.7.12 Linux/4.9.93-linuxkit-aufs botocore/1.12.38\r\n```\r\n\r\n`aws configure list` with environment variables.\r\n```\r\n$ export AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX\r\n$  export AWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n$  export AWS_DEFAULT_REGION=ap-northeast-1\r\n$ aws configure list\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile                <not set>             None    None\r\naccess_key     ****************XXXX              env\r\nsecret_key     ****************XXXX              env\r\n\r\n'region'\r\n```\r\nLast line of `'region'` is printed into as stdout (maybe it comes from botocore), and the command exits with status 255.\r\n\r\n`aws configure list` with no environment variables and no configuration file.\r\n\r\n```\r\n$ env | grep AWS\r\n$ aws configure list\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile                <not set>             None    None\r\naccess_key                <not set>             None    None\r\nsecret_key                <not set>             None    None\r\n    region                <not set>             None    None\r\n```\r\nworks properly.\r\n\r\nI also tried with botocore/1.12.37.\r\n```\r\n$ export AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX\r\n$  export AWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n$  export AWS_DEFAULT_REGION=ap-northeast-1\r\n$ aws configure list\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile                <not set>             None    None\r\naccess_key     ****************XXXX              env\r\nsecret_key     ****************XXXX              env\r\n    region           ap-northeast-1              env    AWS_DEFAULT_REGION\r\n```\r\nworks properly.\r\n\r\nSo, It seems that this behavior caused by botocore between `1.12.37` ~ `1.12.38`. (maybe it comes from the changes which is https://github.com/boto/botocore/pull/1591 )\r\n\r\nhere is print debug code on https://github.com/aws/aws-cli/blob/develop/awscli/customizations/configure/list.py#L110-L112 .\r\n\r\n```\r\n110         value = self._session.get_config_variable(name, methods=('env',))\r\n111         if value is not None:\r\n112             print(self._session.session_var_map.items())\r\n113             return ConfigValue(value, 'env', self._session.session_var_map[name][1])\r\n```\r\n\r\n`boto/1.12.38`\r\n```\r\n[('output', ('output', 'AWS_DEFAULT_OUTPUT', 'json', None)), ('ca_bundle', ('ca_bundle', 'AWS_CA_BUNDLE', None, None))]\r\n```\r\n\r\n`boto/1.12.37`\r\n```\r\n[('profile', (None, ['AWS_DEFAULT_PROFILE', 'AWS_PROFILE'], None, None)), ('api_versions', ('api_versions', None, {}, None)), ('config_file', (None, 'AWS_CONFIG_FILE', '~/.aws/config', None)), ('parameter_validation', ('parameter_validation', None, True, None)), ('metadata_service_num_attempts', ('metadata_service_num_attempts', 'AWS_METADATA_SERVICE_NUM_ATTEMPTS', 1, <type 'int'>)), ('region', ('region', 'AWS_DEFAULT_REGION', None, None)), ('data_path', ('data_path', 'AWS_DATA_PATH', None, None)), ('ca_bundle', ('ca_bundle', 'AWS_CA_BUNDLE', None, None)), ('credentials_file', (None, 'AWS_SHARED_CREDENTIALS_FILE', '~/.aws/credentials', None)), ('output', ('output', 'AWS_DEFAULT_OUTPUT', 'json', None)), ('metadata_service_timeout', ('metadata_service_timeout', 'AWS_METADATA_SERVICE_TIMEOUT', 1, <type 'int'>))]\r\n```\r\n\r\nI found `self._session.session_var_map` returns different values between two versions. \r\nHowever, I could not identify any further cause.\r\n\r\nIs there anything I can do?", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3704/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3671", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3671/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3671/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3671/events", "html_url": "https://github.com/aws/aws-cli/issues/3671", "id": 372891346, "node_id": "MDU6SXNzdWUzNzI4OTEzNDY=", "number": 3671, "title": "S3 Sync : Warning about skipping socket file despite --exclude that socket file", "user": {"login": "plittlefield", "id": 8265704, "node_id": "MDQ6VXNlcjgyNjU3MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8265704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plittlefield", "html_url": "https://github.com/plittlefield", "followers_url": "https://api.github.com/users/plittlefield/followers", "following_url": "https://api.github.com/users/plittlefield/following{/other_user}", "gists_url": "https://api.github.com/users/plittlefield/gists{/gist_id}", "starred_url": "https://api.github.com/users/plittlefield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plittlefield/subscriptions", "organizations_url": "https://api.github.com/users/plittlefield/orgs", "repos_url": "https://api.github.com/users/plittlefield/repos", "events_url": "https://api.github.com/users/plittlefield/events{/privacy}", "received_events_url": "https://api.github.com/users/plittlefield/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-10-23T09:11:43Z", "updated_at": "2019-03-27T20:05:31Z", "closed_at": "2019-03-27T20:05:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why do I receive a warning message about a BackupPC socket file when I have specifically excluded it from the command line?\r\n\r\nCommand...\r\n\r\n`/usr/local/bin/aws s3 sync --exclude \"/home/backuppc/log/BackupPC.sock\" --only-show-errors --storage-class STANDARD_IA /home/backuppc/ s3://myserver/home/backuppc/`\r\n\r\nOutput...\r\n\r\n`warning: Skipping file /home/backuppc/log/BackupPC.sock. File is character special device, block special device, FIFO, or socket.`\r\n\r\nPaul\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3671/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3662", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3662/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3662/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3662/events", "html_url": "https://github.com/aws/aws-cli/issues/3662", "id": 372076419, "node_id": "MDU6SXNzdWUzNzIwNzY0MTk=", "number": 3662, "title": "Windows AWSCLI64PY3 MSI not shipping aws.exe anymore breaks scripts", "user": {"login": "DanielLaberge", "id": 3459916, "node_id": "MDQ6VXNlcjM0NTk5MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3459916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DanielLaberge", "html_url": "https://github.com/DanielLaberge", "followers_url": "https://api.github.com/users/DanielLaberge/followers", "following_url": "https://api.github.com/users/DanielLaberge/following{/other_user}", "gists_url": "https://api.github.com/users/DanielLaberge/gists{/gist_id}", "starred_url": "https://api.github.com/users/DanielLaberge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DanielLaberge/subscriptions", "organizations_url": "https://api.github.com/users/DanielLaberge/orgs", "repos_url": "https://api.github.com/users/DanielLaberge/repos", "events_url": "https://api.github.com/users/DanielLaberge/events{/privacy}", "received_events_url": "https://api.github.com/users/DanielLaberge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 43, "created_at": "2018-10-19T18:54:43Z", "updated_at": "2019-02-25T20:40:28Z", "closed_at": "2019-02-25T20:40:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "The new CLI version on Windows does not install the 'aws.exe' file anymore, instead it's aws.cmd.\r\n\r\nThis breaks bash scripts running in Windows because bash does not resolve .cmd files as executable.\r\n\r\nWould you consider shipping an .exe wrapper?\r\n\r\nIt's nice being able to execute .sh scripts on Linux and Windows unchanged, but now this forces us to change our calls to 'aws.cmd' rather than just 'aws'", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3662/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3661", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3661/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3661/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3661/events", "html_url": "https://github.com/aws/aws-cli/issues/3661", "id": 371282931, "node_id": "MDU6SXNzdWUzNzEyODI5MzE=", "number": 3661, "title": "Could not find a version that satisfies the requirement botocore==1.12.26 (from awscli) ", "user": {"login": "AlekseyKorzun", "id": 109622, "node_id": "MDQ6VXNlcjEwOTYyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/109622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlekseyKorzun", "html_url": "https://github.com/AlekseyKorzun", "followers_url": "https://api.github.com/users/AlekseyKorzun/followers", "following_url": "https://api.github.com/users/AlekseyKorzun/following{/other_user}", "gists_url": "https://api.github.com/users/AlekseyKorzun/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlekseyKorzun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlekseyKorzun/subscriptions", "organizations_url": "https://api.github.com/users/AlekseyKorzun/orgs", "repos_url": "https://api.github.com/users/AlekseyKorzun/repos", "events_url": "https://api.github.com/users/AlekseyKorzun/events{/privacy}", "received_events_url": "https://api.github.com/users/AlekseyKorzun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 17, "created_at": "2018-10-17T21:56:50Z", "updated_at": "2019-02-18T07:24:08Z", "closed_at": "2019-02-18T07:24:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Flagging that our deployments just started to get hit with this gem:\r\n\r\n```bash\r\nDownloading awscli-1.16.36-py2.py3-none-any.whl (1.4MB):   Downloading a  Downloading awscli-1.16.36-py2.py3-none-any.whl (1.4MB): 1.4MB downloaded\r\nDownloading/unpacking PyYAML>=3.10,<=3.13 (from awscli)\r\n  Downloading PyYAML-3.13.tar.gz (270kB):   Downloading PyYAML-3.13.tar.gz (270kB): 270kB downloaded\r\n  Running setup.py (path:/tmp/pip-build-0pjrE6/PyYAML/setup.py) egg_info for package PyYAML\r\n    \r\nDownloading/unpacking botocore==1.12.26 (from awscli)\r\n  Could not find a version that satisfies the requirement botocore==1.12.26 (from awscli) (from versions: 0.4.1, 0.4.2, 0.5.0, 0.5.1, 0.5.2, 0.5.3, 0.5.4, 0.6.0, 0.7.0, 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.2, 0.10.0, 0.11.0, 0.12.0, 0.13.0, 0.13.1, 0.14.0, 0.15.0, 0.15.1, 0.16.0, 0.17.0, 0.18.0, 0.19.0, 0.20.0, 0.21.0, 0.22.0, 0.23.0, 0.24.0, 0.25.0, 0.26.0, 0.27.0, 0.28.0, 0.29.0, 0.30.0, 0.31.0, 0.32.0, 0.33.0, 0.34.0, 0.35.0, 0.36.0, 0.37.0, 0.38.0, 0.39.0, 0.40.0, 0.41.0, 0.42.0, 0.43.0, 0.44.0, 0.45.0, 0.46.0, 0.47.0, 0.48.0, 0.49.0, 0.50.0, 0.51.0, 0.52.0, 0.53.0, 0.54.0, 0.55.0, 0.56.0, 0.57.0, 0.58.0, 0.59.0, 0.60.0, 0.61.0, 0.62.0, 0.63.0, 0.64.0, 0.65.0, 0.66.0, 0.67.0, 0.68.0, 0.69.0, 0.70.0, 0.71.0, 0.72.0, 0.73.0, 0.74.0, 0.75.0, 0.76.0, 0.77.0, 0.78.0, 0.79.0, 0.80.0, 0.81.0, 0.82.0, 0.83.0, 0.84.0, 0.85.0, 0.86.0, 0.87.0, 0.88.0, 0.89.0, 0.90.0, 0.91.0, 0.92.0, 0.93.0, 0.94.0, 0.95.0, 0.96.0, 0.97.0, 0.98.0, 0.99.0, 0.100.0, 0.101.0, 0.102.0, 0.103.0, 0.104.0, 0.105.0, 0.106.0, 0.107.0, 0.108.0, 0.109.0, 1.0.0a1, 1.0.0a2, 1.0.0a3, 1.0.0b1, 1.0.0b2, 1.0.0b3, 1.0.0rc1, 1.0.0rc1, 1.0.0, 1.0.0, 1.0.1, 1.0.1, 1.1.0, 1.1.0, 1.1.1, 1.1.1, 1.1.2, 1.1.2, 1.1.3, 1.1.3, 1.1.4, 1.1.4, 1.1.5, 1.1.5, 1.1.6, 1.1.6, 1.1.7, 1.1.7, 1.1.8, 1.1.8, 1.1.9, 1.1.9, 1.1.10, 1.1.10, 1.1.11, 1.1.11, 1.1.12, 1.1.12, 1.2.0, 1.2.0, 1.2.1, 1.2.1, 1.2.2, 1.2.2, 1.2.3, 1.2.3, 1.2.4, 1.2.4, 1.2.5, 1.2.5, 1.2.6, 1.2.6, 1.2.7, 1.2.7, 1.2.8, 1.2.8, 1.2.9, 1.2.9, 1.2.10, 1.2.10, 1.2.11, 1.2.11, 1.3.0, 1.3.0, 1.3.1, 1.3.1, 1.3.2, 1.3.2, 1.3.3, 1.3.3, 1.3.4, 1.3.4, 1.3.5, 1.3.5, 1.3.6, 1.3.6, 1.3.7, 1.3.7, 1.3.8, 1.3.8, 1.3.9, 1.3.9, 1.3.10, 1.3.10, 1.3.11, 1.3.11, 1.3.12, 1.3.12, 1.3.13, 1.3.13, 1.3.14, 1.3.14, 1.3.15, 1.3.15, 1.3.16, 1.3.16, 1.3.17, 1.3.17, 1.3.18, 1.3.18, 1.3.19, 1.3.19, 1.3.20, 1.3.20, 1.3.21, 1.3.21, 1.3.22, 1.3.22, 1.3.23, 1.3.23, 1.3.24, 1.3.24, 1.3.25, 1.3.25, 1.3.26, 1.3.26, 1.3.27, 1.3.27, 1.3.28, 1.3.28, 1.3.29, 1.3.29, 1.3.30, 1.3.30, 1.4.0, 1.4.0, 1.4.1, 1.4.1, 1.4.2, 1.4.2, 1.4.3, 1.4.3, 1.4.4, 1.4.4, 1.4.5, 1.4.5, 1.4.6, 1.4.6, 1.4.7, 1.4.7, 1.4.8, 1.4.8, 1.4.9, 1.4.9, 1.4.10, 1.4.10, 1.4.11, 1.4.11, 1.4.12, 1.4.12, 1.4.13, 1.4.13, 1.4.14, 1.4.14, 1.4.15, 1.4.15, 1.4.16, 1.4.16, 1.4.17, 1.4.17, 1.4.18, 1.4.18, 1.4.19, 1.4.19, 1.4.20, 1.4.20, 1.4.21, 1.4.21, 1.4.22, 1.4.22, 1.4.23, 1.4.23, 1.4.24, 1.4.24, 1.4.25, 1.4.25, 1.4.26, 1.4.26, 1.4.27, 1.4.27, 1.4.28, 1.4.28, 1.4.29, 1.4.29, 1.4.30, 1.4.30, 1.4.31, 1.4.31, 1.4.32, 1.4.32, 1.4.33, 1.4.33, 1.4.34, 1.4.34, 1.4.35, 1.4.35, 1.4.36, 1.4.36, 1.4.37, 1.4.37, 1.4.38, 1.4.38, 1.4.39, 1.4.39, 1.4.40, 1.4.40, 1.4.41, 1.4.41, 1.4.42, 1.4.42, 1.4.43, 1.4.43, 1.4.44, 1.4.44, 1.4.46, 1.4.46, 1.4.47, 1.4.47, 1.4.48, 1.4.48, 1.4.49, 1.4.49, 1.4.50, 1.4.50, 1.4.51, 1.4.51, 1.4.52, 1.4.52, 1.4.53, 1.4.53, 1.4.54, 1.4.54, 1.4.55, 1.4.55, 1.4.56, 1.4.56, 1.4.57, 1.4.57, 1.4.58, 1.4.58, 1.4.59, 1.4.59, 1.4.60, 1.4.60, 1.4.61, 1.4.61, 1.4.62, 1.4.62, 1.4.63, 1.4.63, 1.4.64, 1.4.64, 1.4.65, 1.4.65, 1.4.66, 1.4.66, 1.4.67, 1.4.67, 1.4.68, 1.4.68, 1.4.69, 1.4.69, 1.4.70, 1.4.70, 1.4.71, 1.4.71, 1.4.72, 1.4.72, 1.4.73, 1.4.73, 1.4.74, 1.4.74, 1.4.75, 1.4.75, 1.4.76, 1.4.76, 1.4.77, 1.4.77, 1.4.78, 1.4.78, 1.4.79, 1.4.79, 1.4.80, 1.4.80, 1.4.81, 1.4.81, 1.4.82, 1.4.82, 1.4.83, 1.4.83, 1.4.84, 1.4.84, 1.4.85, 1.4.85, 1.4.86, 1.4.86, 1.4.87, 1.4.87, 1.4.88, 1.4.88, 1.4.89, 1.4.89, 1.4.90, 1.4.90, 1.4.91, 1.4.91, 1.4.92, 1.4.92, 1.4.93, 1.4.93, 1.5.0, 1.5.0, 1.5.1, 1.5.1, 1.5.2, 1.5.2, 1.5.3, 1.5.3, 1.5.4, 1.5.4, 1.5.5, 1.5.5, 1.5.6, 1.5.6, 1.5.7, 1.5.7, 1.5.8, 1.5.8, 1.5.9, 1.5.9, 1.5.10, 1.5.10, 1.5.11, 1.5.11, 1.5.12, 1.5.12, 1.5.13, 1.5.13, 1.5.14, 1.5.14, 1.5.15, 1.5.15, 1.5.16, 1.5.16, 1.5.17, 1.5.17, 1.5.18, 1.5.18, 1.5.19, 1.5.19, 1.5.20, 1.5.20, 1.5.21, 1.5.21, 1.5.22, 1.5.22, 1.5.23, 1.5.23, 1.5.24, 1.5.24, 1.5.25, 1.5.25, 1.5.26, 1.5.26, 1.5.27, 1.5.27, 1.5.28, 1.5.28, 1.5.29, 1.5.29, 1.5.30, 1.5.30, 1.5.31, 1.5.31, 1.5.32, 1.5.32, 1.5.33, 1.5.33, 1.5.34, 1.5.34, 1.5.35, 1.5.35, 1.5.36, 1.5.36, 1.5.37, 1.5.37, 1.5.38, 1.5.38, 1.5.39, 1.5.39, 1.5.40, 1.5.40, 1.5.41, 1.5.41, 1.5.42, 1.5.42, 1.5.43, 1.5.43, 1.5.44, 1.5.44, 1.5.45, 1.5.45, 1.5.46, 1.5.46, 1.5.47, 1.5.47, 1.5.48, 1.5.48, 1.5.49, 1.5.49, 1.5.50, 1.5.50, 1.5.51, 1.5.51, 1.5.52, 1.5.52, 1.5.53, 1.5.53, 1.5.54, 1.5.54, 1.5.55, 1.5.55, 1.5.56, 1.5.56, 1.5.57, 1.5.57, 1.5.58, 1.5.58, 1.5.59, 1.5.59, 1.5.60, 1.5.60, 1.5.61, 1.5.61, 1.5.62, 1.5.62, 1.5.63, 1.5.63, 1.5.64, 1.5.64, 1.5.65, 1.5.65, 1.5.66, 1.5.66, 1.5.67, 1.5.67, 1.5.68, 1.5.68, 1.5.69, 1.5.69, 1.5.70, 1.5.70, 1.5.71, 1.5.71, 1.5.72, 1.5.72, 1.5.73, 1.5.73, 1.5.74, 1.5.74, 1.5.75, 1.5.75, 1.5.76, 1.5.76, 1.5.77, 1.5.77, 1.5.78, 1.5.78, 1.5.79, 1.5.79, 1.5.80, 1.5.80, 1.5.81, 1.5.81, 1.5.82, 1.5.82, 1.5.83, 1.5.83, 1.5.84, 1.5.84, 1.5.85, 1.5.85, 1.5.86, 1.5.86, 1.5.87, 1.5.87, 1.5.88, 1.5.88, 1.5.89, 1.5.89, 1.5.90, 1.5.90, 1.5.91, 1.5.91, 1.5.92, 1.5.92, 1.5.93, 1.5.93, 1.5.94, 1.5.94, 1.5.95, 1.5.95, 1.6.0, 1.6.0, 1.6.1, 1.6.1, 1.6.2, 1.6.2, 1.6.3, 1.6.3, 1.6.4, 1.6.4, 1.6.5, 1.6.5, 1.6.6, 1.6.6, 1.6.7, 1.6.7, 1.6.8, 1.6.8, 1.7.0, 1.7.0, 1.7.1, 1.7.1, 1.7.2, 1.7.2, 1.7.3, 1.7.3, 1.7.4, 1.7.4, 1.7.5, 1.7.5, 1.7.6, 1.7.6, 1.7.7, 1.7.7, 1.7.8, 1.7.8, 1.7.9, 1.7.9, 1.7.10, 1.7.10, 1.7.11, 1.7.11, 1.7.12, 1.7.12, 1.7.13, 1.7.13, 1.7.14, 1.7.14, 1.7.15, 1.7.15, 1.7.16, 1.7.16, 1.7.17, 1.7.17, 1.7.18, 1.7.18, 1.7.19, 1.7.19, 1.7.20, 1.7.20, 1.7.21, 1.7.21, 1.7.22, 1.7.22, 1.7.23, 1.7.23, 1.7.24, 1.7.24, 1.7.25, 1.7.25, 1.7.26, 1.7.26, 1.7.27, 1.7.27, 1.7.28, 1.7.28, 1.7.29, 1.7.29, 1.7.30, 1.7.30, 1.7.31, 1.7.31, 1.7.32, 1.7.32, 1.7.33, 1.7.33, 1.7.34, 1.7.34, 1.7.35, 1.7.35, 1.7.36, 1.7.36, 1.7.37, 1.7.37, 1.7.38, 1.7.38, 1.7.39, 1.7.39, 1.7.40, 1.7.40, 1.7.41, 1.7.41, 1.7.42, 1.7.42, 1.7.43, 1.7.43, 1.7.44, 1.7.44, 1.7.45, 1.7.45, 1.7.46, 1.7.46, 1.7.47, 1.7.47, 1.7.48, 1.7.48, 1.8.0, 1.8.0, 1.8.1, 1.8.1, 1.8.2, 1.8.2, 1.8.3, 1.8.3, 1.8.4, 1.8.4, 1.8.5, 1.8.5, 1.8.6, 1.8.6, 1.8.7, 1.8.7, 1.8.8, 1.8.8, 1.8.9, 1.8.9, 1.8.10, 1.8.10, 1.8.11, 1.8.11, 1.8.12, 1.8.12, 1.8.13, 1.8.13, 1.8.14, 1.8.14, 1.8.15, 1.8.15, 1.8.16, 1.8.16, 1.8.17, 1.8.17, 1.8.18, 1.8.18, 1.8.19, 1.8.19, 1.8.20, 1.8.20, 1.8.21, 1.8.21, 1.8.22, 1.8.22, 1.8.23, 1.8.23, 1.8.24, 1.8.24, 1.8.25, 1.8.25, 1.8.26, 1.8.26, 1.8.27, 1.8.27, 1.8.28, 1.8.28, 1.8.29, 1.8.29, 1.8.30, 1.8.30, 1.8.31, 1.8.31, 1.8.32, 1.8.32, 1.8.33, 1.8.33, 1.8.34, 1.8.34, 1.8.35, 1.8.35, 1.8.36, 1.8.36, 1.8.37, 1.8.37, 1.8.38, 1.8.38, 1.8.39, 1.8.39, 1.8.40, 1.8.40, 1.8.41, 1.8.41, 1.8.42, 1.8.42, 1.8.43, 1.8.43, 1.8.44, 1.8.44, 1.8.45, 1.8.45, 1.8.46, 1.8.46, 1.8.47, 1.8.47, 1.8.48, 1.8.48, 1.8.49, 1.8.49, 1.8.50, 1.8.50, 1.9.0, 1.9.0, 1.9.1, 1.9.1, 1.9.2, 1.9.2, 1.9.3, 1.9.3, 1.9.4, 1.9.4, 1.9.5, 1.9.5, 1.9.6, 1.9.6, 1.9.7, 1.9.7, 1.9.8, 1.9.8, 1.9.9, 1.9.9, 1.9.10, 1.9.10, 1.9.11, 1.9.11, 1.9.12, 1.9.12, 1.9.13, 1.9.13, 1.9.14, 1.9.14, 1.9.15, 1.9.15, 1.9.16, 1.9.16, 1.9.17, 1.9.17, 1.9.18, 1.9.18, 1.9.19, 1.9.19, 1.9.20, 1.9.20, 1.9.21, 1.9.21, 1.9.22, 1.9.22, 1.9.23, 1.9.23, 1.10.0, 1.10.0, 1.10.1, 1.10.1, 1.10.2, 1.10.2, 1.10.3, 1.10.3, 1.10.4, 1.10.4, 1.10.5, 1.10.5, 1.10.6, 1.10.6, 1.10.7, 1.10.7, 1.10.8, 1.10.8, 1.10.9, 1.10.9, 1.10.10, 1.10.10, 1.10.11, 1.10.11, 1.10.12, 1.10.12, 1.10.13, 1.10.13, 1.10.14, 1.10.14, 1.10.15, 1.10.15, 1.10.16, 1.10.16, 1.10.17, 1.10.17, 1.10.18, 1.10.18, 1.10.19, 1.10.19, 1.10.20, 1.10.20, 1.10.21, 1.10.21, 1.10.22, 1.10.22, 1.10.23, 1.10.23, 1.10.24, 1.10.24, 1.10.25, 1.10.25, 1.10.26, 1.10.26, 1.10.27, 1.10.27, 1.10.28, 1.10.28, 1.10.29, 1.10.29, 1.10.30, 1.10.30, 1.10.31, 1.10.31, 1.10.32, 1.10.32, 1.10.33, 1.10.33, 1.10.34, 1.10.34, 1.10.35, 1.10.35, 1.10.36, 1.10.36, 1.10.37, 1.10.37, 1.10.38, 1.10.38, 1.10.39, 1.10.39, 1.10.40, 1.10.40, 1.10.41, 1.10.41, 1.10.42, 1.10.42, 1.10.43, 1.10.43, 1.10.44, 1.10.44, 1.10.45, 1.10.45, 1.10.46, 1.10.46, 1.10.47, 1.10.47, 1.10.48, 1.10.48, 1.10.49, 1.10.49, 1.10.50, 1.10.50, 1.10.51, 1.10.51, 1.10.52, 1.10.52, 1.10.53, 1.10.53, 1.10.54, 1.10.54, 1.10.55, 1.10.55, 1.10.56, 1.10.56, 1.10.57, 1.10.57, 1.10.58, 1.10.58, 1.10.59, 1.10.59, 1.10.60, 1.10.60, 1.10.61, 1.10.61, 1.10.62, 1.10.62, 1.10.63, 1.10.63, 1.10.64, 1.10.64, 1.10.65, 1.10.65, 1.10.66, 1.10.66, 1.10.67, 1.10.67, 1.10.68, 1.10.68, 1.10.69, 1.10.69, 1.10.70, 1.10.70, 1.10.71, 1.10.71, 1.10.72, 1.10.72, 1.10.73, 1.10.73, 1.10.74, 1.10.74, 1.10.75, 1.10.75, 1.10.76, 1.10.76, 1.10.77, 1.10.77, 1.10.78, 1.10.78, 1.10.79, 1.10.79, 1.10.80, 1.10.80, 1.10.81, 1.10.81, 1.10.82, 1.10.82, 1.10.83, 1.10.83, 1.10.84, 1.10.84, 1.11.0, 1.11.0, 1.11.1, 1.11.1, 1.11.2, 1.11.2, 1.11.3, 1.11.3, 1.11.4, 1.11.4, 1.11.5, 1.11.5, 1.11.6, 1.11.6, 1.11.7, 1.11.7, 1.11.8, 1.11.8, 1.11.9, 1.11.9, 1.12.0, 1.12.0, 1.12.1, 1.12.1, 1.12.2, 1.12.2, 1.12.3, 1.12.3, 1.12.4, 1.12.4, 1.12.5, 1.12.5, 1.12.6, 1.12.6, 1.12.7, 1.12.7, 1.12.8, 1.12.8, 1.12.9, 1.12.9, 1.12.10, 1.12.10, 1.12.11, 1.12.11, 1.12.12, 1.12.12, 1.12.13, 1.12.13, 1.12.14, 1.12.14, 1.12.15, 1.12.15, 1.12.16, 1.12.16, 1.12.17, 1.12.17, 1.12.18, 1.12.18, 1.12.19, 1.12.19, 1.12.20, 1.12.20, 1.12.21, 1.12.21, 1.12.22, 1.12.22, 1.12.23, 1.12.23, 1.12.24, 1.12.24, 1.12.25, 1.12.25)\r\nCleaning up...\r\nNo distributions matching the version for botocore==1.12.26 (from awscli)\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3661/reactions", "total_count": 7, "+1": 7, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3659", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3659/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3659/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3659/events", "html_url": "https://github.com/aws/aws-cli/issues/3659", "id": 370877544, "node_id": "MDU6SXNzdWUzNzA4Nzc1NDQ=", "number": 3659, "title": "aws s3 cp silently fails when destination doesn't exist", "user": {"login": "mtopolski", "id": 7154150, "node_id": "MDQ6VXNlcjcxNTQxNTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7154150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtopolski", "html_url": "https://github.com/mtopolski", "followers_url": "https://api.github.com/users/mtopolski/followers", "following_url": "https://api.github.com/users/mtopolski/following{/other_user}", "gists_url": "https://api.github.com/users/mtopolski/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtopolski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtopolski/subscriptions", "organizations_url": "https://api.github.com/users/mtopolski/orgs", "repos_url": "https://api.github.com/users/mtopolski/repos", "events_url": "https://api.github.com/users/mtopolski/events{/privacy}", "received_events_url": "https://api.github.com/users/mtopolski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-10-17T02:55:25Z", "updated_at": "2021-08-13T20:20:58Z", "closed_at": "2021-08-13T20:20:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Made the derp of muscle memory-ing a command I use on a different machine. If the target destination of an s3 cp is specified in a nonexistent directory, you get a silent failure. Not sure if this is intended to punish me for the 30 seconds it took to realize I was on a different box with different dirs, but it would have been nice to have been told off by the cli.\r\n\r\n(on Mac OS High Sierra)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3635", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3635/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3635/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3635/events", "html_url": "https://github.com/aws/aws-cli/issues/3635", "id": 367336242, "node_id": "MDU6SXNzdWUzNjczMzYyNDI=", "number": 3635, "title": "aws cloudformation package creates wrong URIs when working in china regions", "user": {"login": "rscheumann", "id": 193919, "node_id": "MDQ6VXNlcjE5MzkxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/193919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rscheumann", "html_url": "https://github.com/rscheumann", "followers_url": "https://api.github.com/users/rscheumann/followers", "following_url": "https://api.github.com/users/rscheumann/following{/other_user}", "gists_url": "https://api.github.com/users/rscheumann/gists{/gist_id}", "starred_url": "https://api.github.com/users/rscheumann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rscheumann/subscriptions", "organizations_url": "https://api.github.com/users/rscheumann/orgs", "repos_url": "https://api.github.com/users/rscheumann/repos", "events_url": "https://api.github.com/users/rscheumann/events{/privacy}", "received_events_url": "https://api.github.com/users/rscheumann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-05T19:18:59Z", "updated_at": "2020-11-12T22:38:13Z", "closed_at": "2019-04-19T20:41:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Context\r\nI am deploying CloudFormation stacks into the Chinese regions; these are managed by AWS China, which support a subset of the services provided by AWS US, but is a separate entity and not AWS US.\r\n\r\n### Action taken\r\nThe command\r\n\r\n`aws cloudformation package --profile my-china-region-credentials --template master.yml --s3-bucket unique-bucket-name --output-template-file master-packaged.yml`\r\n\r\nwill package the master.yml template. It will rewrite TemplateURLs (to nested stacks) from local paths to an URI to an S3 bucket:\r\n\r\n`TemplateURL: \"./vpc.yml\"`\r\n\r\nbecomes\r\n\r\n`TemplateURL: https://s3.amazonaws.com/unique-bucket-name/0fa1483ed8df2859b23935c875861a2b.template`\r\n\r\n### Expected result\r\nAs can be seen packaging does not take care of the China regions in Beijing and Ningxia. The URIs for S3 bucket in those regions start with `https://s3.cn-northwest-1.amazonaws.com.cn` instead of `https://s3.amazonaws.com`. \r\n\r\nIf the packaged template gets deployed, CloudFormation will fail and issue the error message\r\n\r\n`S3 error: The specified bucket does not exist`\r\n\r\nwhich is expectable since the URIs are just wrong.\r\n\r\n`aws cloudformaton package` should detect if a Chinese region is targeted and use a different URI pattern.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3635/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3533", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3533/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3533/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3533/events", "html_url": "https://github.com/aws/aws-cli/issues/3533", "id": 356100737, "node_id": "MDU6SXNzdWUzNTYxMDA3Mzc=", "number": 3533, "title": "Requiring a 32 byte ascii key is a bug, it cannot have 256 bits of entropy of a real key.", "user": {"login": "rfielding", "id": 89911, "node_id": "MDQ6VXNlcjg5OTEx", "avatar_url": "https://avatars.githubusercontent.com/u/89911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rfielding", "html_url": "https://github.com/rfielding", "followers_url": "https://api.github.com/users/rfielding/followers", "following_url": "https://api.github.com/users/rfielding/following{/other_user}", "gists_url": "https://api.github.com/users/rfielding/gists{/gist_id}", "starred_url": "https://api.github.com/users/rfielding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rfielding/subscriptions", "organizations_url": "https://api.github.com/users/rfielding/orgs", "repos_url": "https://api.github.com/users/rfielding/repos", "events_url": "https://api.github.com/users/rfielding/events{/privacy}", "received_events_url": "https://api.github.com/users/rfielding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-08-31T19:35:11Z", "updated_at": "2018-09-28T17:39:38Z", "closed_at": "2018-09-28T16:49:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "At this spot here, the AWS CLI requires a 32 byte string as a key.  A true, correctly-generated AES256 key has a one in 18 quintillion chance of being valid base64 (and a similar chance of being ascii).  This is because a true random AES key has each character take on a random value `0..255` uniformly, with 32 such bytes to make 256 bits.  If a true 32 bytes of randomness is converted to base64 to get printable ASCII characters, then truncating the (44) bytes of base64 of the real key to 32 bytes, then 64 bits of the key have effectively been chopped off.  In effect, you have a 192-bit AES key inefficiently represented in 256-bits; not an AES-256 key.\r\n\r\nhttps://github.com/aws/aws-cli/blob/4ff0cbacbac69a21d4dd701921fe0759cf7852ed/awscli/customizations/s3/subcommands.py#L199\r\n\r\nThe current workaround is to supply a binary argument to `--sse-customer-key=fileb://theKey` to reference a key on disk.  Writing the key to disk may be worse than having a key that is effectively shortened to 192 bits.\r\n\r\nIn detail, I had started writing about it here:\r\n\r\nhttps://github.com/aws/aws-sdk-go/issues/1726\r\n\r\nThe real, and backwards compatible, fix is to just look at the length of the key. \r\n- If it's length 32, then assume that it will be cast to a literal byte array.  In this case, even though an AES256 cipher is used, the key only has 192 bits of entropy.\r\n- If it's 64 bytes and looks like hex, then it is hex (because it will decode to an arbitrary array of 32 bytes.  \r\n- If it looks like base64, then decode it as base64 and verify that it's 32 bytes at that point.  It might be 44 bytes.  Some encoders include spurious `==` on the end.  What is important is that the base64 decode is 32 bytes.\r\n\r\n\r\nThe key is NOT a valid \"string\" in most languages.  It is a byte array.  In Golang, embedded null chars in strings are ok.  In other languages they are not.  But from Go, Java, etc, it is possible to generate keys with zeroes in them.  It should be possible to use all valid AES keys from the command-line; because real AES keys are completely random, with almost no chance that they will ever be printable ASCII.\r\n\r\nBeing printable ASCII, be warned that it's an approximately 192-bit key in reality.  ie: No high bit (low ASCII), no embedded nulls in string, no spaces, no tabs, no bell chars, etc.  Base64 is effectively `0..64` per character, rather than `0..255` of full bytes.\r\n\r\n> 2^64 is 18quintillion.  Using an AES256 key that is known to be valid printable ASCII speeds up a brute-force search for the key by 18quintillion.  Also, if a user generated a real AES key, there is only a one in 18quintillion chance that it can be represented as valid base64.  So, keys properly generated cannot even be passed in unless they can be base64, or base16 (hexadecimal).  If the key is not length 32, we know unambiguously that we need to decode it.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3320", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3320/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3320/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3320/events", "html_url": "https://github.com/aws/aws-cli/issues/3320", "id": 322599689, "node_id": "MDU6SXNzdWUzMjI1OTk2ODk=", "number": 3320, "title": "How to set SMS attributes when using SNS publish", "user": {"login": "starkshaw", "id": 9618357, "node_id": "MDQ6VXNlcjk2MTgzNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/9618357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/starkshaw", "html_url": "https://github.com/starkshaw", "followers_url": "https://api.github.com/users/starkshaw/followers", "following_url": "https://api.github.com/users/starkshaw/following{/other_user}", "gists_url": "https://api.github.com/users/starkshaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/starkshaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/starkshaw/subscriptions", "organizations_url": "https://api.github.com/users/starkshaw/orgs", "repos_url": "https://api.github.com/users/starkshaw/repos", "events_url": "https://api.github.com/users/starkshaw/events{/privacy}", "received_events_url": "https://api.github.com/users/starkshaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-05-13T14:44:21Z", "updated_at": "2021-06-06T20:32:53Z", "closed_at": "2021-06-06T20:32:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\n\r\nI am confused when trying to set the sender ID using the AWS CLI SNS publish. How can I achieve this?\r\n\r\nI used command like this:\r\n\r\n```\r\n$ aws sns publish --message \"Hello world.\" --phone-number +1xxxxxxxxx --message-attributes \"file:///home/ec2-user/sms.json\"\r\n```\r\n\r\nAnd in the `sms.json` I have something like,\r\n\r\n```\r\n{\"entry\":{\r\n        \"N\":{\r\n            \"DefaultSenderID\": \"HelloWorld\",\r\n            \"DefaultSMSType\": \"Promotional\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nActually I am not sure about the format of the JSON or shorthand syntax stated here: https://docs.aws.amazon.com/cli/latest/reference/sns/publish.html\r\n\r\nI am trying to implement the attributes here: https://docs.aws.amazon.com/cli/latest/reference/sns/set-sms-attributes.html\r\n\r\nThe error I received from the previous command is\r\n```\r\nParameter validation failed:\r\nMissing required parameter in MessageAttributes.entry: \"DataType\"\r\nUnknown parameter in MessageAttributes.entry: \"N\", must be one of: DataType, StringValue, BinaryValue\r\n```\r\n\r\nIt seems it only accept these three types.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3320/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3314", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3314/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3314/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3314/events", "html_url": "https://github.com/aws/aws-cli/issues/3314", "id": 321492121, "node_id": "MDU6SXNzdWUzMjE0OTIxMjE=", "number": 3314, "title": "aws configure get and aws configure set with multiword profile names are inconsistent", "user": {"login": "atbentley", "id": 5869437, "node_id": "MDQ6VXNlcjU4Njk0Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5869437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atbentley", "html_url": "https://github.com/atbentley", "followers_url": "https://api.github.com/users/atbentley/followers", "following_url": "https://api.github.com/users/atbentley/following{/other_user}", "gists_url": "https://api.github.com/users/atbentley/gists{/gist_id}", "starred_url": "https://api.github.com/users/atbentley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atbentley/subscriptions", "organizations_url": "https://api.github.com/users/atbentley/orgs", "repos_url": "https://api.github.com/users/atbentley/repos", "events_url": "https://api.github.com/users/atbentley/events{/privacy}", "received_events_url": "https://api.github.com/users/atbentley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}, {"id": 2012159198, "node_id": "MDU6TGFiZWwyMDEyMTU5MTk4", "url": "https://api.github.com/repos/aws/aws-cli/labels/automation-exempt", "name": "automation-exempt", "color": "675ce0", "default": false, "description": "Issue will not be subject to stale-bot"}, {"id": 2763968170, "node_id": "MDU6TGFiZWwyNzYzOTY4MTcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/has-pr", "name": "has-pr", "color": "358F18", "default": false, "description": "This issue has a PR associated with it."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-09T09:14:59Z", "updated_at": "2021-03-31T23:33:08Z", "closed_at": "2021-03-31T23:32:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that `aws configure set --profile \"two words\"` will add single quotes around the profile name, but `aws configure get --profile \"two words\"` will search for a profile name that does not have single quotes around the profile name.\r\n\r\nThese two methods should behave in a similar manner.\r\n\r\nTo reproduce:\r\n\r\n```\r\n$ aws --version\r\naws-cli/1.15.10 Python/3.6.5 Darwin/17.4.0 botocore/1.10.10\r\n$ aws configure set aws_access_key_id test --profile \"test profile\"\r\n$ aws configure get aws_access_key_id --profile \"test profile\"\r\nThe config profile (test profile) could not be found\r\n$ aws configure get aws_access_key_id --profile \"'test profile'\"\r\ntest\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3217", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3217/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3217/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3217/events", "html_url": "https://github.com/aws/aws-cli/issues/3217", "id": 308251191, "node_id": "MDU6SXNzdWUzMDgyNTExOTE=", "number": 3217, "title": "datapipeline error when 3 params with same id in CLI args, PR included", "user": {"login": "fffergal", "id": 148789, "node_id": "MDQ6VXNlcjE0ODc4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/148789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fffergal", "html_url": "https://github.com/fffergal", "followers_url": "https://api.github.com/users/fffergal/followers", "following_url": "https://api.github.com/users/fffergal/following{/other_user}", "gists_url": "https://api.github.com/users/fffergal/gists{/gist_id}", "starred_url": "https://api.github.com/users/fffergal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fffergal/subscriptions", "organizations_url": "https://api.github.com/users/fffergal/orgs", "repos_url": "https://api.github.com/users/fffergal/repos", "events_url": "https://api.github.com/users/fffergal/events{/privacy}", "received_events_url": "https://api.github.com/users/fffergal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-24T11:04:50Z", "updated_at": "2018-12-07T08:25:15Z", "closed_at": "2018-04-09T23:44:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nWhen using the datapipeline commands, if you pass a list parameter value by specifying the same parameter id 3 times with different values, there is an error. 1 or 2 values with the same id work fine.\r\n\r\nExample:\r\n```\r\naws datapipeline activate-pipeline --pipeline-id df-0864740YN3DQ8BJXV0R --parameter-values myConversionsDates=2018-01-01 myConversionsDates=2018-01-02 myConversionDates=2018-01-03\r\n```\r\n\r\nA workaround is to use a file to pass parameters instead.\r\n\r\nI made a PR to fix and test the problem #3177.\r\n\r\nIf there is anything else I can do to help, please let me know.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3196", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3196/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3196/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3196/events", "html_url": "https://github.com/aws/aws-cli/issues/3196", "id": 304856538, "node_id": "MDU6SXNzdWUzMDQ4NTY1Mzg=", "number": 3196, "title": "Bundle install is broken with python 2.6 due to dateutil", "user": {"login": "thebearmayor", "id": 4573701, "node_id": "MDQ6VXNlcjQ1NzM3MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/4573701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thebearmayor", "html_url": "https://github.com/thebearmayor", "followers_url": "https://api.github.com/users/thebearmayor/followers", "following_url": "https://api.github.com/users/thebearmayor/following{/other_user}", "gists_url": "https://api.github.com/users/thebearmayor/gists{/gist_id}", "starred_url": "https://api.github.com/users/thebearmayor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thebearmayor/subscriptions", "organizations_url": "https://api.github.com/users/thebearmayor/orgs", "repos_url": "https://api.github.com/users/thebearmayor/repos", "events_url": "https://api.github.com/users/thebearmayor/events{/privacy}", "received_events_url": "https://api.github.com/users/thebearmayor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-03-13T17:12:22Z", "updated_at": "2018-03-15T14:01:09Z", "closed_at": "2018-03-13T22:47:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installing from the bundle per [these docs](https://docs.aws.amazon.com/cli/latest/userguide/awscli-install-bundle.html) is currently broken with python 2.6. [awscli-bundle.zip](https://s3.amazonaws.com/aws-cli/awscli-bundle.zip) contains python-dateutil-2.7.0.tar.gz which is not compatible with python 2.6. See [here](https://pypi.python.org/pypi/python-dateutil/2.7.0).", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3194", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3194/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3194/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3194/events", "html_url": "https://github.com/aws/aws-cli/issues/3194", "id": 304422933, "node_id": "MDU6SXNzdWUzMDQ0MjI5MzM=", "number": 3194, "title": "\"Unable to locate credentials\" Error Thrown Sporadically for Recursive, Cross-Account S3 Copying", "user": {"login": "kjdowney", "id": 9757611, "node_id": "MDQ6VXNlcjk3NTc2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9757611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjdowney", "html_url": "https://github.com/kjdowney", "followers_url": "https://api.github.com/users/kjdowney/followers", "following_url": "https://api.github.com/users/kjdowney/following{/other_user}", "gists_url": "https://api.github.com/users/kjdowney/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjdowney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjdowney/subscriptions", "organizations_url": "https://api.github.com/users/kjdowney/orgs", "repos_url": "https://api.github.com/users/kjdowney/repos", "events_url": "https://api.github.com/users/kjdowney/events{/privacy}", "received_events_url": "https://api.github.com/users/kjdowney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-03-12T15:35:06Z", "updated_at": "2018-05-01T07:23:58Z", "closed_at": "2018-03-29T23:32:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "After attending the \"AWS CLI: 2017 and Beyond\" session at re:Invent 2017, I was excited about utilizing the `credential_source=Ec2InstanceMetadata` option in the AWS-CLI configuration file along with `role_arn` values for performing cross-account S3 copies using roles.\r\n\r\nPrior to this, a stub configuration file was being used that would be populated with the temporary credentials from the instance role and accessed using the `source_profile` option. I was eager to drop this logic in favor of using a built-in capability.\r\n\r\nUpgrading to 1.14.x and using the `credential_source` version of the configuration file started sporadically logging `upload failed: <file> Unable to locate credentials` errors when performing a recursive copy to from the EC2 instance filesystem to S3 buckets hosted in a different account.\r\n\r\nAfter some investigation and testing, the following discoveries were made:\r\n- The issue only occurs when performing a cross-account copy.\r\n- The issue isn't readily reproducible, leading to the suspicion that it's a race condition somewhere.\r\n  - It's run without problems for a week at a time, then start generating errors on every attempt.\r\n- The issue causes the same `Unable to locate credentials` errors for the legacy logic that was populating the stub configuration file, which has never been seen prior to upgrades.\r\n- The issue occurs on any version >= 1.12.0, meaning that the CLI can't be updated beyond version 1.11.190.\r\n\r\nHas anyone else seen anything like this?", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/3100", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/3100/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/3100/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/3100/events", "html_url": "https://github.com/aws/aws-cli/issues/3100", "id": 290289157, "node_id": "MDU6SXNzdWUyOTAyODkxNTc=", "number": 3100, "title": "cloudformation --generate-cli-skeleton fails", "user": {"login": "davidham", "id": 64705, "node_id": "MDQ6VXNlcjY0NzA1", "avatar_url": "https://avatars.githubusercontent.com/u/64705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidham", "html_url": "https://github.com/davidham", "followers_url": "https://api.github.com/users/davidham/followers", "following_url": "https://api.github.com/users/davidham/following{/other_user}", "gists_url": "https://api.github.com/users/davidham/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidham/subscriptions", "organizations_url": "https://api.github.com/users/davidham/orgs", "repos_url": "https://api.github.com/users/davidham/repos", "events_url": "https://api.github.com/users/davidham/events{/privacy}", "received_events_url": "https://api.github.com/users/davidham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-21T17:19:19Z", "updated_at": "2021-03-12T01:30:45Z", "closed_at": "2021-03-12T01:30:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to get the output of `aws cloudformation wait stack-update-complete`. I ran the following:\r\n\r\n```\r\naws cloudformation wait stack-update-complete --generate-cli-skeleton output\r\n```\r\n\r\n**Expected result**: I expected to see an example of the JSON that this command will output, [as described in the docs](https://docs.aws.amazon.com/cli/latest/reference/cloudformation/wait/stack-update-complete.html). \r\n\r\n**Actual result**:\r\n```\r\n$ aws cloudformation wait stack-update-complete --generate-cli-skeleton output\r\n\r\nParameter validation failed:\r\nInvalid range for parameter Stacks[0].TimeoutInMinutes, value: 0, valid range: 1-inf\r\nInvalid length for parameter Stacks[0].RoleARN, value: 7, valid range: 20-inf\r\n```\r\n\r\nMay be related to #2337?", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/3100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/3100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2983", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2983/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2983/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2983/events", "html_url": "https://github.com/aws/aws-cli/issues/2983", "id": 276442389, "node_id": "MDU6SXNzdWUyNzY0NDIzODk=", "number": 2983, "title": "aws cli commands failing: File name too long", "user": {"login": "jaymell", "id": 12889625, "node_id": "MDQ6VXNlcjEyODg5NjI1", "avatar_url": "https://avatars.githubusercontent.com/u/12889625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaymell", "html_url": "https://github.com/jaymell", "followers_url": "https://api.github.com/users/jaymell/followers", "following_url": "https://api.github.com/users/jaymell/following{/other_user}", "gists_url": "https://api.github.com/users/jaymell/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaymell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaymell/subscriptions", "organizations_url": "https://api.github.com/users/jaymell/orgs", "repos_url": "https://api.github.com/users/jaymell/repos", "events_url": "https://api.github.com/users/jaymell/events{/privacy}", "received_events_url": "https://api.github.com/users/jaymell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-23T17:27:25Z", "updated_at": "2018-02-20T23:42:10Z", "closed_at": "2017-11-28T00:10:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using this version of aws cli:\r\n```aws-cli/1.12.0 Python/3.5.2 Linux/4.10.0-40-generic botocore/1.8.0```\r\n\r\nRunning this command:\r\n```aws --profile $PROFILE --region $REGION ecr get-login```\r\n\r\nI get this error:\r\n```\r\n[Errno 36] File name too long: '/home/[USER]/.aws/cli/cache/arn_aws_iam__[ACCOUNT]_role_Shared\r\narn_aws_iam__[ACCOUNT]_role_Shared-AWSInfrastructure-iam-AdministratorRole-XH3BAT16UUN3--1fe66b30cdcedbbf3b034e9ea829f19bad18d9a86d747fcef5efb766f82977d9.json'\r\n```\r\n\r\nThis is on an Ubuntu 16.04 system running ext4 file system.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2978", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2978/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2978/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2978/events", "html_url": "https://github.com/aws/aws-cli/issues/2978", "id": 276142494, "node_id": "MDU6SXNzdWUyNzYxNDI0OTQ=", "number": 2978, "title": "Cannot use assume role after update to version 1.12", "user": {"login": "migueljoao", "id": 33906795, "node_id": "MDQ6VXNlcjMzOTA2Nzk1", "avatar_url": "https://avatars.githubusercontent.com/u/33906795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/migueljoao", "html_url": "https://github.com/migueljoao", "followers_url": "https://api.github.com/users/migueljoao/followers", "following_url": "https://api.github.com/users/migueljoao/following{/other_user}", "gists_url": "https://api.github.com/users/migueljoao/gists{/gist_id}", "starred_url": "https://api.github.com/users/migueljoao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/migueljoao/subscriptions", "organizations_url": "https://api.github.com/users/migueljoao/orgs", "repos_url": "https://api.github.com/users/migueljoao/repos", "events_url": "https://api.github.com/users/migueljoao/events{/privacy}", "received_events_url": "https://api.github.com/users/migueljoao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-22T17:04:12Z", "updated_at": "2017-11-22T21:31:02Z", "closed_at": "2017-11-22T21:31:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nAfter updating aws cli to version 1.12 in a Windows 10, my assume role credentials with MFA no longer work, generating the following error on any aws cli command\r\n\r\n> [Errno 2] No such file or directory: 'D:\\\\<user_profile>\\\\.aws\\\\cli\\\\cache\\\\arn_aws_iam__08888888888_role/Administrator--56\r\ncdeaiu23he8723de87h23e22f47b0fec7ab51e9daf458bfb530292f0eeb1fee.json'\r\n\r\nThe release notes refers to added features for credentials with assume role. Do I need to change the aws configuration for assume role with MFA?\r\n\r\nHere's a sample of by profile\r\n\r\n> role_arn = arn:aws:iam::08888888888:role/Administrator\r\n> source_profile = default\r\n> mfa_serial = arn:aws:iam::0666666666666:mfa/user\r\n\r\nThe aws cli version\r\n\r\n> aws-cli/1.12.0 Python/2.7.9 Windows/2012Server botocore/1.8.0\r\n\r\nThanks\r\n\r\nCheers", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2972", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2972/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2972/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2972/events", "html_url": "https://github.com/aws/aws-cli/pull/2972", "id": 275500683, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUzNzM1NTAz", "number": 2972, "title": " Use the session profile to write when running aws configure ", "user": {"login": "joguSD", "id": 1935727, "node_id": "MDQ6VXNlcjE5MzU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1935727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joguSD", "html_url": "https://github.com/joguSD", "followers_url": "https://api.github.com/users/joguSD/followers", "following_url": "https://api.github.com/users/joguSD/following{/other_user}", "gists_url": "https://api.github.com/users/joguSD/gists{/gist_id}", "starred_url": "https://api.github.com/users/joguSD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joguSD/subscriptions", "organizations_url": "https://api.github.com/users/joguSD/orgs", "repos_url": "https://api.github.com/users/joguSD/repos", "events_url": "https://api.github.com/users/joguSD/events{/privacy}", "received_events_url": "https://api.github.com/users/joguSD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-20T21:13:14Z", "updated_at": "2017-11-28T00:10:17Z", "closed_at": "2017-11-28T00:10:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/2972", "html_url": "https://github.com/aws/aws-cli/pull/2972", "diff_url": "https://github.com/aws/aws-cli/pull/2972.diff", "patch_url": "https://github.com/aws/aws-cli/pull/2972.patch", "merged_at": "2017-11-28T00:10:17Z"}, "body": "Previously the command `aws configure` would only use the profile present in the parsed globals to pass to the `ConfigFileWriter`, but sourced the profile from the session everywhere else. This would cause issues when the profile is set via an environment variable as the updated values would be written to the wrong section. This updates the configure command to consistently use the profile on the session and updates the unit test to rely on the session rather than the parsed globals.\r\n\r\nFixes #2970 ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2972/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2970", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2970/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2970/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2970/events", "html_url": "https://github.com/aws/aws-cli/issues/2970", "id": 275211005, "node_id": "MDU6SXNzdWUyNzUyMTEwMDU=", "number": 2970, "title": "AWS CLI configuration does not respect profile variable", "user": {"login": "aahaselgrove", "id": 2556805, "node_id": "MDQ6VXNlcjI1NTY4MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2556805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aahaselgrove", "html_url": "https://github.com/aahaselgrove", "followers_url": "https://api.github.com/users/aahaselgrove/followers", "following_url": "https://api.github.com/users/aahaselgrove/following{/other_user}", "gists_url": "https://api.github.com/users/aahaselgrove/gists{/gist_id}", "starred_url": "https://api.github.com/users/aahaselgrove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aahaselgrove/subscriptions", "organizations_url": "https://api.github.com/users/aahaselgrove/orgs", "repos_url": "https://api.github.com/users/aahaselgrove/repos", "events_url": "https://api.github.com/users/aahaselgrove/events{/privacy}", "received_events_url": "https://api.github.com/users/aahaselgrove/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-20T01:05:02Z", "updated_at": "2017-11-28T00:10:17Z", "closed_at": "2017-11-28T00:10:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to use the command aws ec2 describe-spot-price-history in the CLI and received the error 'You must specify a region. You can also configure your region by running \"aws configure\".' When I first installed the CLI, I configured my credentials and region.\r\n\r\nRunning 'aws configure', I try to re-enter my details (they are listed as blank), but they do not save. I assume this is because I am using a profile. I have the environment variable AWS_DEFAULT_PROFILE set to 'internal', and have attached my configuration files (with .txt extension added and sensitive data redacted).\r\n\r\n[config.txt](https://github.com/aws/aws-cli/files/1486174/config.txt)\r\n[credentials.txt](https://github.com/aws/aws-cli/files/1486175/credentials.txt)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2960", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2960/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2960/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2960/events", "html_url": "https://github.com/aws/aws-cli/issues/2960", "id": 273979564, "node_id": "MDU6SXNzdWUyNzM5Nzk1NjQ=", "number": 2960, "title": "aws s3 sync racing with local files", "user": {"login": "groner", "id": 47317, "node_id": "MDQ6VXNlcjQ3MzE3", "avatar_url": "https://avatars.githubusercontent.com/u/47317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/groner", "html_url": "https://github.com/groner", "followers_url": "https://api.github.com/users/groner/followers", "following_url": "https://api.github.com/users/groner/following{/other_user}", "gists_url": "https://api.github.com/users/groner/gists{/gist_id}", "starred_url": "https://api.github.com/users/groner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/groner/subscriptions", "organizations_url": "https://api.github.com/users/groner/orgs", "repos_url": "https://api.github.com/users/groner/repos", "events_url": "https://api.github.com/users/groner/events{/privacy}", "received_events_url": "https://api.github.com/users/groner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-14T23:22:26Z", "updated_at": "2017-12-15T19:23:43Z", "closed_at": "2017-12-15T19:23:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having an issue with S3 sync bombing when local files (which would be excluded anyway) are removed by another process.\r\n\r\nI found issue #2333, and updated to the latest release, but the issue persists.  I think there is more that needs to be done to avoid these races.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2960/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2883", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2883/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2883/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2883/events", "html_url": "https://github.com/aws/aws-cli/issues/2883", "id": 264443716, "node_id": "MDU6SXNzdWUyNjQ0NDM3MTY=", "number": 2883, "title": "SigV4 fails when standard port included in --endpoint-url", "user": {"login": "Diggs", "id": 1029312, "node_id": "MDQ6VXNlcjEwMjkzMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1029312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Diggs", "html_url": "https://github.com/Diggs", "followers_url": "https://api.github.com/users/Diggs/followers", "following_url": "https://api.github.com/users/Diggs/following{/other_user}", "gists_url": "https://api.github.com/users/Diggs/gists{/gist_id}", "starred_url": "https://api.github.com/users/Diggs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Diggs/subscriptions", "organizations_url": "https://api.github.com/users/Diggs/orgs", "repos_url": "https://api.github.com/users/Diggs/repos", "events_url": "https://api.github.com/users/Diggs/events{/privacy}", "received_events_url": "https://api.github.com/users/Diggs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-11T03:13:56Z", "updated_at": "2017-10-18T22:15:04Z", "closed_at": "2017-10-18T22:15:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "If the `--endpoint-url` includes a port that is the default for the specified scheme (e.g. 80 for HTTP, and 443 for HTTPS), then SigV4 includes this port in the host header used when generating the string to sign, however the port is stripped from the host header before being sent to the server. This results in a 403 as the client and server generate different strings to sign.\r\n\r\nThis can be reproduced using:\r\n```\r\nexport AWS_DEFAULT_REGION=us-east-2\r\naws --debug --endpoint-url http://s3.us-east-2.amazonaws.com:80 s3 ls s3://`\r\n```\r\n\r\nWe have tested this on our s3-compatible service, as well as the real s3 and both servers behave the same. When testing with a non-standard port, the aws cli includes the port in the string to sign AND sends it in the host header, ensuring the client and server generate the same string to sign.\r\n\r\nRFC 2616 (https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.23) says `A \"host\" without any trailing port information implies the default port for the service requested (e.g., \"80\" for an HTTP URL)` so I'm assuming the underlying HTTP implementation is stripping it out of the host header because it's not technically required, however by this point it has already been included in the string to sign.\r\n\r\nIncluded below is debug output and corresponding tcpdump packet trace outputs that show this behaviour. We tested on v1.11.132 and v1.11.168. We believe this used to behave differently in earlier releases.\r\n\r\n### v1.11.168 - Standard port (80) - tested against the real S3 service:\r\n\r\nAWS CLI debug:\r\n```\r\n2017-10-11 02:33:12,971 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/\r\n\r\nhost:s3.us-east-2.amazonaws.com:80\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20171011T023312Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2017-10-11 02:33:12,971 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20171011T023312Z\r\n20171011/us-east-2/s3/aws4_request\r\n8ca4947bf0ced90c3de7062d50152206671a964e6f944b788a6c25faae67dac2\r\n2017-10-11 02:33:12,971 - MainThread - botocore.auth - DEBUG - Signature:\r\n8484d1fded73c7fe256dbe32a91d44cd81875951fe0417b60fc3537aa3ebb1ab\r\n```\r\n\r\nPacket trace:\r\n```\r\nGET / HTTP/1.1\r\nHost: s3.us-east-2.amazonaws.com\r\nAccept-Encoding: identity\r\nX-Amz-Content-SHA256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nX-Amz-Date: 20171011T023312Z\r\nAuthorization: AWS4-HMAC-SHA256 Credential=AKIAJDSRKO5FJFY4XBBA/20171011/us-east-2/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8484d1fded73c7fe256dbe32a91d44cd81875951fe0417b60fc3537aa3ebb1ab\r\nUser-Agent: aws-cli/1.11.168 Python/2.7.12 Linux/4.9.51-10.52.amzn1.x86_64 botocore/1.7.26\r\n```\r\n\r\n### v1.11.168 - Standard port (80) - tested against our s3-compatible service:\r\n\r\nAWS CLI debug:\r\n```\r\n2017-10-11 02:23:41,645 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/test\r\ndelimiter=%2F&encoding-type=url&prefix=\r\nhost:ip-172-31-27-129.us-west-2.compute.internal:80\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20171011T022341Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2017-10-11 02:23:41,645 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20171011T022341Z\r\n20171011/us-east-1/s3/aws4_request\r\n88fe3b577c5805f459721019eaa898325b730990822d07fe9b9dde774f9f819f\r\n2017-10-11 02:23:41,646 - MainThread - botocore.auth - DEBUG - Signature:\r\n4082a2084a676d76637cd5ac8a322909033b3b736dcd7cb6632934af7dca5348\r\n```\r\n\r\nPacket trace:\r\n```\r\nGET /test?delimiter=%2F&prefix=&encoding-type=url HTTP/1.1\r\nHost: ip-172-31-27-129.us-west-2.compute.internal\r\nAccept-Encoding: identity\r\nX-Amz-Content-SHA256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nX-Amz-Date: 20171011T022341Z\r\nAuthorization: AWS4-HMAC-SHA256 Credential=0HM3763OLNVDTNEHKMAD/20171011/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=4082a2084a676d76637cd5ac8a322909033b3b736dcd7cb6632934af7dca5348\r\nUser-Agent: aws-cli/1.11.168 Python/2.7.12 Linux/4.9.51-10.52.amzn1.x86_64 botocore/1.7.26\r\n```\r\n\r\n### v1.11.132 - Non-standard port (8080) - tested against our s3-compatible service:\r\n\r\nAWS CLI debug:\r\n```\r\n2017-10-11 02:15:41,251 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/test\r\ndelimiter=%2F&encoding-type=url&prefix=\r\nhost:ip-172-31-27-129.us-west-2.compute.internal:8080\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20171011T021541Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2017-10-11 02:15:41,251 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20171011T021541Z\r\n20171011/us-east-1/s3/aws4_request\r\n6ec513327cd2637fc3b9b800f445828afa2d290550e47287fc83d75db67732e4\r\n2017-10-11 02:15:41,251 - MainThread - botocore.auth - DEBUG - Signature:\r\n2ff28009983318a01c8a0ca5021b6975c954099a13167136174ed6acf927109d\r\n```\r\n\r\nPacket trace:\r\n```\r\nGET /test?delimiter=%2F&prefix=&encoding-type=url HTTP/1.1\r\nHost: ip-172-31-27-129.us-west-2.compute.internal:8080\r\nAccept-Encoding: identity\r\nX-Amz-Content-SHA256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nX-Amz-Date: 20171011T021541Z\r\nAuthorization: AWS4-HMAC-SHA256 Credential=0HM3763OLNVDTNEHKMAD/20171011/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=2ff28009983318a01c8a0ca5021b6975c954099a13167136174ed6acf927109d\r\nUser-Agent: aws-cli/1.11.132 Python/2.7.12 Linux/4.9.51-10.52.amzn1.x86_64 botocore/1.5.95\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2883/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2883/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2855", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2855/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2855/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2855/events", "html_url": "https://github.com/aws/aws-cli/issues/2855", "id": 260783345, "node_id": "MDU6SXNzdWUyNjA3ODMzNDU=", "number": 2855, "title": "Windows CLI -- SSLError: [Errno 2] No such file or directory", "user": {"login": "deargle", "id": 1174653, "node_id": "MDQ6VXNlcjExNzQ2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1174653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deargle", "html_url": "https://github.com/deargle", "followers_url": "https://api.github.com/users/deargle/followers", "following_url": "https://api.github.com/users/deargle/following{/other_user}", "gists_url": "https://api.github.com/users/deargle/gists{/gist_id}", "starred_url": "https://api.github.com/users/deargle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deargle/subscriptions", "organizations_url": "https://api.github.com/users/deargle/orgs", "repos_url": "https://api.github.com/users/deargle/repos", "events_url": "https://api.github.com/users/deargle/events{/privacy}", "received_events_url": "https://api.github.com/users/deargle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-26T21:58:06Z", "updated_at": "2017-09-27T19:06:23Z", "closed_at": "2017-09-27T19:06:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting the below error with the windows aws cli, downloaded from [here](https://s3.amazonaws.com/aws-cli/AWSCLI64.msi). Version from pip works fine on linux.\r\n\r\nEdit: Installing from pip onto Windows works, too. So it's just the msi's.\r\n\r\n```\r\naws iam create-role --role-name vmimport --assume-role-policy-document --debug file://trust-policy.json\r\n2017-09-26 15:52:11,137 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.11.160 Python/2.7.9 Windows/8 botocore/1.7.18\r\n2017-09-26 15:52:11,137 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['iam', 'create-role', '--role-name', 'vmimport', '--assume-role-policy-document', '--debug', 'file://trust-policy.json']\r\n2017-09-26 15:52:11,138 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x035C9C30>\r\n2017-09-26 15:52:11,138 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,138 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x033E26B0>\r\n2017-09-26 15:52:11,140 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,140 - MainThread - botocore.session - DEBUG - Loading variable credentials_file from defaults.\r\n2017-09-26 15:52:11,140 - MainThread - botocore.session - DEBUG - Loading variable config_file from defaults.\r\n2017-09-26 15:52:11,141 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,141 - MainThread - botocore.session - DEBUG - Loading variable metadata_service_timeout from defaults.\r\n2017-09-26 15:52:11,141 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,141 - MainThread - botocore.session - DEBUG - Loading variable metadata_service_num_attempts from defaults.\r\n2017-09-26 15:52:11,141 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,141 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,142 - MainThread - botocore.session - DEBUG - Loading variable api_versions from defaults.\r\n2017-09-26 15:52:11,144 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\iam\\2010-05-08\\service-2.json\r\n2017-09-26 15:52:11,170 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.iam: calling handler <function register_retries_for_service at 0x02FD49B0>\r\n2017-09-26 15:52:11,171 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: iam\r\n2017-09-26 15:52:11,174 - MainThread - botocore.hooks - DEBUG - Event building-command-table.iam: calling handler <function add_waiters at 0x035D17B0>\r\n2017-09-26 15:52:11,187 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\iam\\2010-05-08\\waiters-2.json\r\n2017-09-26 15:52:11,190 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'path', <awscli.arguments.CLIArgument object at 0x03BC8C90>), (u'role-name', <awscli.arguments.CLIArgument object at 0x03BC8C70>), (u'assume-role-policy-document', <awscli.arguments.CLIArgument object at 0x03BC8C10>), (u'description', <awscli.arguments.CLIArgument object at 0x03BC8BF0>)])\r\n2017-09-26 15:52:11,193 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function add_streaming_output_arg at 0x035D10F0>\r\n2017-09-26 15:52:11,193 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function add_cli_input_json at 0x033EC2F0>\r\n2017-09-26 15:52:11,198 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function unify_paging_params at 0x0356F570>\r\n2017-09-26 15:52:11,211 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\iam\\2010-05-08\\paginators-1.json\r\n2017-09-26 15:52:11,213 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function add_generate_skeleton at 0x0355EBF0>\r\n2017-09-26 15:52:11,213 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.iam.create-role: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x03BC8B30>>\r\n2017-09-26 15:52:11,220 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.iam.create-role: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x03BC8F10>>\r\n2017-09-26 15:52:11,223 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.path: calling handler <function uri_param at 0x0317AD30>\r\n2017-09-26 15:52:11,223 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.role-name: calling handler <function uri_param at 0x0317AD30>\r\n2017-09-26 15:52:11,229 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.iam.create-role: calling handler <awscli.argprocess.ParamShorthandParser object at 0x0328A8B0>\r\n2017-09-26 15:52:11,230 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'vmimport' for parameter \"role_name\": u'vmimport'\r\n2017-09-26 15:52:11,233 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.assume-role-policy-document: calling handler <function uri_param at 0x0317AD30>\r\n2017-09-26 15:52:11,233 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.iam.create-role: calling handler <awscli.argprocess.ParamShorthandParser object at 0x0328A8B0>\r\n2017-09-26 15:52:11,240 - MainThread - awscli.argprocess - DEBUG - Param assume_role_policy_document looks like JSON, not considered for param shorthand.\r\n2017-09-26 15:52:11,243 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'{\\n   \"Version\": \"2012-10-17\",\\n   \"Statement\": [\\n      {\\n         \"Effect\": \"Allow\",\\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\\n         \"Action\": \"sts:AssumeRole\",\\n         \"Condition\": {\\n            \"StringEquals\":{\\n               \"sts:Externalid\": \"vmimport\"\\n            }\\n         }\\n      }\\n   ]\\n}' for parameter \"assume_role_policy_document\": u'{\\n   \"Version\": \"2012-10-17\",\\n   \"Statement\": [\\n      {\\n         \"Effect\": \"Allow\",\\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\\n         \"Action\": \"sts:AssumeRole\",\\n         \"Condition\": {\\n            \"StringEquals\":{\\n               \"sts:Externalid\": \"vmimport\"\\n            }\\n         }\\n      }\\n   ]\\n}'\r\n2017-09-26 15:52:11,243 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.description: calling handler <function uri_param at 0x0317AD30>\r\n2017-09-26 15:52:11,250 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.cli-input-json: calling handler <function uri_param at 0x0317AD30>\r\n2017-09-26 15:52:11,250 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.generate-cli-skeleton: calling handler <function uri_param at 0x0317AD30>\r\n2017-09-26 15:52:11,255 - MainThread - botocore.hooks - DEBUG - Event calling-command.iam.create-role: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x03BC8B30>>\r\n2017-09-26 15:52:11,260 - MainThread - botocore.hooks - DEBUG - Event calling-command.iam.create-role: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x03BC8F10>>\r\n2017-09-26 15:52:11,260 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,266 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,266 - MainThread - botocore.session - DEBUG - Loading variable region from config file with value 'us-west-2'.\r\n2017-09-26 15:52:11,273 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,275 - MainThread - botocore.session - DEBUG - Loading variable ca_bundle from defaults.\r\n2017-09-26 15:52:11,276 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,282 - MainThread - botocore.session - DEBUG - Loading variable api_versions from defaults.\r\n2017-09-26 15:52:11,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2017-09-26 15:52:11,286 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2017-09-26 15:52:11,286 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2017-09-26 15:52:11,292 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2017-09-26 15:52:11,293 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\endpoints.json\r\n2017-09-26 15:52:11,308 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:11,312 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.iam: calling handler <function add_generate_presigned_url at 0x02FB22F0>\r\n2017-09-26 15:52:11,313 - MainThread - botocore.regions - DEBUG - Using partition endpoint for iam, us-west-2: aws-global\r\n2017-09-26 15:52:11,316 - MainThread - botocore.args - DEBUG - The s3 config key is not a dictionary type, ignoring its value of: None\r\n2017-09-26 15:52:11,326 - MainThread - botocore.endpoint - DEBUG - Setting iam timeout as (60, 60)\r\n2017-09-26 15:52:11,328 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: iam\r\n2017-09-26 15:52:11,328 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.iam.CreateRole: calling handler <function generate_idempotent_uuid at 0x02FD46B0>\r\n2017-09-26 15:52:11,334 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=CreateRole) (verify_ssl=True) with params: {'body': {'Action': u'CreateRole', u'RoleName': u'vmimport', 'Version': u'2010-05-08', u'AssumeRolePolicyDocument': u'{\\n   \"Version\": \"2012-10-17\",\\n   \"Statement\": [\\n      {\\n         \"Effect\": \"Allow\",\\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\\n         \"Action\": \"sts:AssumeRole\",\\n         \"Condition\": {\\n            \"StringEquals\":{\\n               \"sts:Externalid\": \"vmimport\"\\n            }\\n         }\\n      }\\n   ]\\n}'}, 'url': u'https://iam.amazonaws.com/', 'headers': {'User-Agent': 'aws-cli/1.11.160 Python/2.7.9 Windows/8 botocore/1.7.18'}, 'context': {'auth_type': None, 'client_region': u'aws-global', 'has_streaming_input': False, 'client_config': <botocore.config.Config object at 0x03D22DD0>}, 'query_string': '', 'url_path': '/', 'method': u'POST'}\r\n2017-09-26 15:52:11,336 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03D22DF0>>\r\n2017-09-26 15:52:11,338 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02FD4630>\r\n2017-09-26 15:52:11,344 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:11,345 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215211Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:11,345 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215211Z\r\n20170926/us-east-1/iam/aws4_request\r\nd5494f9d6cd1d94377a12ebb6f6f9037fc5d6197683da5102e378abbf2579c50\r\n2017-09-26 15:52:11,349 - MainThread - botocore.auth - DEBUG - Signature:\r\n480b2f290e52fe942b42791bb5ebff132f5703c36952a55ca9baf3bf89c5a699\r\n2017-09-26 15:52:11,357 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:11,358 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): iam.amazonaws.com\r\n2017-09-26 15:52:11,970 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:11,970 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03B55CD0>\r\n2017-09-26 15:52:11,970 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:11,971 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 0.260558852334\r\n2017-09-26 15:52:11,973 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.260558852334 seconds\r\n2017-09-26 15:52:12,233 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03D22DF0>>\r\n2017-09-26 15:52:12,233 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02FD4630>\r\n2017-09-26 15:52:12,236 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:12,236 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215212Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:12,236 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215212Z\r\n20170926/us-east-1/iam/aws4_request\r\n2feedd3e4d9194acfd3c85ca9ade399179eea05a15d38b599f13859af2cff47c\r\n2017-09-26 15:52:12,237 - MainThread - botocore.auth - DEBUG - Signature:\r\n5acfeb60c88e8b5dc5131a85f163b32a717e37cb27d7fe527ddc61d7c90b7b51\r\n2017-09-26 15:52:12,239 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:12,239 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (2): iam.amazonaws.com\r\n2017-09-26 15:52:12,286 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:12,286 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03B55CD0>\r\n2017-09-26 15:52:12,286 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:12,288 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 1.15722557731\r\n2017-09-26 15:52:12,289 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 1.15722557731 seconds\r\n2017-09-26 15:52:13,447 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03D22DF0>>\r\n2017-09-26 15:52:13,447 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02FD4630>\r\n2017-09-26 15:52:13,448 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:13,450 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215213Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:13,450 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215213Z\r\n20170926/us-east-1/iam/aws4_request\r\nfaee1715a4e60c33f218e3f95b68d900892de590fe3773a4d4c936f4f2660905\r\n2017-09-26 15:52:13,451 - MainThread - botocore.auth - DEBUG - Signature:\r\n6b9b7b0be7597d1ae8cc33cd1d1a18821c734fc15ee0e88795c820e99d952de2\r\n2017-09-26 15:52:13,453 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:13,453 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (3): iam.amazonaws.com\r\n2017-09-26 15:52:13,499 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:13,500 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03B55CD0>\r\n2017-09-26 15:52:13,500 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:13,500 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 1.66295833967\r\n2017-09-26 15:52:13,502 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 1.66295833967 seconds\r\n2017-09-26 15:52:15,165 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03D22DF0>>\r\n2017-09-26 15:52:15,165 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02FD4630>\r\n2017-09-26 15:52:15,167 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:15,168 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215215Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:15,170 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215215Z\r\n20170926/us-east-1/iam/aws4_request\r\n37c4799f9676ecef758d855be76c048747704e6d2ee90f99191e979655c74b00\r\n2017-09-26 15:52:15,170 - MainThread - botocore.auth - DEBUG - Signature:\r\n4813a860cc2645903fd26bf780952d58a718ede377a7296aa94b2e38f74c04cb\r\n2017-09-26 15:52:15,171 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:15,171 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (4): iam.amazonaws.com\r\n2017-09-26 15:52:15,217 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:15,217 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03B55CD0>\r\n2017-09-26 15:52:15,217 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:15,219 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 1.17463021653\r\n2017-09-26 15:52:15,220 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 1.17463021653 seconds\r\n\r\n\r\nC:\\Users\\deargle>aws iam create-role --role-name vmimport --assume-role-policy-document --debug file://trust-policy.json > debug.txt\r\n2017-09-26 15:52:19,249 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.11.160 Python/2.7.9 Windows/8 botocore/1.7.18\r\n2017-09-26 15:52:19,249 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['iam', 'create-role', '--role-name', 'vmimport', '--assume-role-policy-document', '--debug', 'file://trust-policy.json']\r\n2017-09-26 15:52:19,250 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x034F9C30>\r\n2017-09-26 15:52:19,250 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,250 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x033116B0>\r\n2017-09-26 15:52:19,250 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,252 - MainThread - botocore.session - DEBUG - Loading variable credentials_file from defaults.\r\n2017-09-26 15:52:19,253 - MainThread - botocore.session - DEBUG - Loading variable config_file from defaults.\r\n2017-09-26 15:52:19,253 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,255 - MainThread - botocore.session - DEBUG - Loading variable metadata_service_timeout from defaults.\r\n2017-09-26 15:52:19,255 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,256 - MainThread - botocore.session - DEBUG - Loading variable metadata_service_num_attempts from defaults.\r\n2017-09-26 15:52:19,256 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,256 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,259 - MainThread - botocore.session - DEBUG - Loading variable api_versions from defaults.\r\n2017-09-26 15:52:19,266 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\iam\\2010-05-08\\service-2.json\r\n2017-09-26 15:52:19,292 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.iam: calling handler <function register_retries_for_service at 0x02F049B0>\r\n2017-09-26 15:52:19,293 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: iam\r\n2017-09-26 15:52:19,296 - MainThread - botocore.hooks - DEBUG - Event building-command-table.iam: calling handler <function add_waiters at 0x035017B0>\r\n2017-09-26 15:52:19,309 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\iam\\2010-05-08\\waiters-2.json\r\n2017-09-26 15:52:19,311 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'path', <awscli.arguments.CLIArgument object at 0x03B58C70>), (u'role-name', <awscli.arguments.CLIArgument object at 0x03B58C50>), (u'assume-role-policy-document', <awscli.arguments.CLIArgument object at 0x03B58BF0>), (u'description', <awscli.arguments.CLIArgument object at 0x03B58BD0>)])\r\n2017-09-26 15:52:19,312 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function add_streaming_output_arg at 0x035010F0>\r\n2017-09-26 15:52:19,325 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function add_cli_input_json at 0x0331C2F0>\r\n2017-09-26 15:52:19,325 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function unify_paging_params at 0x0349F570>\r\n2017-09-26 15:52:19,345 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\iam\\2010-05-08\\paginators-1.json\r\n2017-09-26 15:52:19,345 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.create-role: calling handler <function add_generate_skeleton at 0x0348EBF0>\r\n2017-09-26 15:52:19,345 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.iam.create-role: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x03B58B10>>\r\n2017-09-26 15:52:19,346 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.iam.create-role: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x03B58EF0>>\r\n2017-09-26 15:52:19,348 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.path: calling handler <function uri_param at 0x030AAD30>\r\n2017-09-26 15:52:19,348 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.role-name: calling handler <function uri_param at 0x030AAD30>\r\n2017-09-26 15:52:19,348 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.iam.create-role: calling handler <awscli.argprocess.ParamShorthandParser object at 0x031BA890>\r\n2017-09-26 15:52:19,349 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'vmimport' for parameter \"role_name\": u'vmimport'\r\n2017-09-26 15:52:19,349 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.assume-role-policy-document: calling handler <function uri_param at 0x030AAD30>\r\n2017-09-26 15:52:19,351 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.iam.create-role: calling handler <awscli.argprocess.ParamShorthandParser object at 0x031BA890>\r\n2017-09-26 15:52:19,351 - MainThread - awscli.argprocess - DEBUG - Param assume_role_policy_document looks like JSON, not considered for param shorthand.\r\n2017-09-26 15:52:19,355 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'{\\n   \"Version\": \"2012-10-17\",\\n   \"Statement\": [\\n      {\\n         \"Effect\": \"Allow\",\\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\\n         \"Action\": \"sts:AssumeRole\",\\n         \"Condition\": {\\n            \"StringEquals\":{\\n               \"sts:Externalid\": \"vmimport\"\\n            }\\n         }\\n      }\\n   ]\\n}' for parameter \"assume_role_policy_document\": u'{\\n   \"Version\": \"2012-10-17\",\\n   \"Statement\": [\\n      {\\n         \"Effect\": \"Allow\",\\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\\n         \"Action\": \"sts:AssumeRole\",\\n         \"Condition\": {\\n            \"StringEquals\":{\\n               \"sts:Externalid\": \"vmimport\"\\n            }\\n         }\\n      }\\n   ]\\n}'\r\n2017-09-26 15:52:19,361 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.description: calling handler <function uri_param at 0x030AAD30>\r\n2017-09-26 15:52:19,361 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.cli-input-json: calling handler <function uri_param at 0x030AAD30>\r\n2017-09-26 15:52:19,361 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.create-role.generate-cli-skeleton: calling handler <function uri_param at 0x030AAD30>\r\n2017-09-26 15:52:19,362 - MainThread - botocore.hooks - DEBUG - Event calling-command.iam.create-role: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x03B58B10>>\r\n2017-09-26 15:52:19,362 - MainThread - botocore.hooks - DEBUG - Event calling-command.iam.create-role: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x03B58EF0>>\r\n2017-09-26 15:52:19,364 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,367 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,372 - MainThread - botocore.session - DEBUG - Loading variable region from config file with value 'us-west-2'.\r\n2017-09-26 15:52:19,374 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,375 - MainThread - botocore.session - DEBUG - Loading variable ca_bundle from defaults.\r\n2017-09-26 15:52:19,375 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,377 - MainThread - botocore.session - DEBUG - Loading variable api_versions from defaults.\r\n2017-09-26 15:52:19,382 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2017-09-26 15:52:19,384 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2017-09-26 15:52:19,384 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2017-09-26 15:52:19,388 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2017-09-26 15:52:19,388 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files (x86)\\Amazon\\AWSCLI\\botocore\\data\\endpoints.json\r\n2017-09-26 15:52:19,407 - MainThread - botocore.session - DEBUG - Loading variable profile from defaults.\r\n2017-09-26 15:52:19,411 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.iam: calling handler <function add_generate_presigned_url at 0x02EE22F0>\r\n2017-09-26 15:52:19,413 - MainThread - botocore.regions - DEBUG - Using partition endpoint for iam, us-west-2: aws-global\r\n2017-09-26 15:52:19,413 - MainThread - botocore.args - DEBUG - The s3 config key is not a dictionary type, ignoring its value of: None\r\n2017-09-26 15:52:19,417 - MainThread - botocore.endpoint - DEBUG - Setting iam timeout as (60, 60)\r\n2017-09-26 15:52:19,418 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: iam\r\n2017-09-26 15:52:19,424 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.iam.CreateRole: calling handler <function generate_idempotent_uuid at 0x02F046B0>\r\n2017-09-26 15:52:19,426 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=CreateRole) (verify_ssl=True) with params: {'body': {'Action': u'CreateRole', u'RoleName': u'vmimport', 'Version': u'2010-05-08', u'AssumeRolePolicyDocument': u'{\\n   \"Version\": \"2012-10-17\",\\n   \"Statement\": [\\n      {\\n         \"Effect\": \"Allow\",\\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\\n         \"Action\": \"sts:AssumeRole\",\\n         \"Condition\": {\\n            \"StringEquals\":{\\n               \"sts:Externalid\": \"vmimport\"\\n            }\\n         }\\n      }\\n   ]\\n}'}, 'url': u'https://iam.amazonaws.com/', 'headers': {'User-Agent': 'aws-cli/1.11.160 Python/2.7.9 Windows/8 botocore/1.7.18'}, 'context': {'auth_type': None, 'client_region': u'aws-global', 'has_streaming_input': False, 'client_config': <botocore.config.Config object at 0x03CB6DB0>}, 'query_string': '', 'url_path': '/', 'method': u'POST'}\r\n2017-09-26 15:52:19,427 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03CB6DD0>>\r\n2017-09-26 15:52:19,427 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02F04630>\r\n2017-09-26 15:52:19,434 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:19,434 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215219Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:19,438 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215219Z\r\n20170926/us-east-1/iam/aws4_request\r\n8580264612cae940824de83c73e54fabba8e8951f01515b0dd68d4824ce10ca7\r\n2017-09-26 15:52:19,444 - MainThread - botocore.auth - DEBUG - Signature:\r\n461ff4a8410b1ad922e1228287314a04af1776609540868339e2c83ad0725905\r\n2017-09-26 15:52:19,447 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:19,450 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): iam.amazonaws.com\r\n2017-09-26 15:52:20,069 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:20,069 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03AE5CB0>\r\n2017-09-26 15:52:20,071 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:20,072 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 0.408437319099\r\n2017-09-26 15:52:20,072 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.408437319099 seconds\r\n2017-09-26 15:52:20,480 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03CB6DD0>>\r\n2017-09-26 15:52:20,480 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02F04630>\r\n2017-09-26 15:52:20,483 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:20,483 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215220Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:20,483 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215220Z\r\n20170926/us-east-1/iam/aws4_request\r\nc9c5fd8d3dd3247fae77f2fb36b2c1843592528a47c8574f092b1d6739526e71\r\n2017-09-26 15:52:20,486 - MainThread - botocore.auth - DEBUG - Signature:\r\ndb7a353affda0ff95769fb12736f49746a682224be5cf2add2a7024088c67b98\r\n2017-09-26 15:52:20,486 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:20,486 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (2): iam.amazonaws.com\r\n2017-09-26 15:52:20,532 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:20,533 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03AE5CB0>\r\n2017-09-26 15:52:20,535 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:20,536 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 0.245834718757\r\n2017-09-26 15:52:20,536 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.245834718757 seconds\r\n2017-09-26 15:52:20,782 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03CB6DD0>>\r\n2017-09-26 15:52:20,782 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02F04630>\r\n2017-09-26 15:52:20,783 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:20,783 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215220Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:20,785 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215220Z\r\n20170926/us-east-1/iam/aws4_request\r\nc9c5fd8d3dd3247fae77f2fb36b2c1843592528a47c8574f092b1d6739526e71\r\n2017-09-26 15:52:20,786 - MainThread - botocore.auth - DEBUG - Signature:\r\ndb7a353affda0ff95769fb12736f49746a682224be5cf2add2a7024088c67b98\r\n2017-09-26 15:52:20,786 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:20,788 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (3): iam.amazonaws.com\r\n2017-09-26 15:52:20,834 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:20,834 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03AE5CB0>\r\n2017-09-26 15:52:20,835 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:20,835 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 1.87492494244\r\n2017-09-26 15:52:20,836 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 1.87492494244 seconds\r\n2017-09-26 15:52:22,711 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03CB6DD0>>\r\n2017-09-26 15:52:22,711 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02F04630>\r\n2017-09-26 15:52:22,713 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:22,713 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215222Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:22,714 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215222Z\r\n20170926/us-east-1/iam/aws4_request\r\nd362c81d92db9169a4a39ac1012e6b7ee9bbb023d575778224a0e9da34631e01\r\n2017-09-26 15:52:22,716 - MainThread - botocore.auth - DEBUG - Signature:\r\n50926ae290f4e7b8139f151cda15f916854db4042928b46500bae57a9eda8bae\r\n2017-09-26 15:52:22,716 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:22,717 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (4): iam.amazonaws.com\r\n2017-09-26 15:52:22,763 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:22,763 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03AE5CB0>\r\n2017-09-26 15:52:22,765 - MainThread - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: [Errno 2] No such file or directory\r\nTraceback (most recent call last):\r\n  File \"botocore\\retryhandler.pyc\", line 269, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:22,766 - MainThread - botocore.retryhandler - DEBUG - Retry needed, action of: 1.21131880222\r\n2017-09-26 15:52:22,766 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 1.21131880222 seconds\r\n2017-09-26 15:52:23,977 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.CreateRole: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x03CB6DD0>>\r\n2017-09-26 15:52:23,977 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.CreateRole: calling handler <function set_operation_specific_signer at 0x02F04630>\r\n2017-09-26 15:52:23,980 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2017-09-26 15:52:23,980 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\nhost:iam.amazonaws.com\r\nx-amz-date:20170926T215223Z\r\n\r\nhost;x-amz-date\r\n3ed8472676ac2cb05d01623689d8be011098f62c37667b5d5bc31c8bd400cd43\r\n2017-09-26 15:52:23,980 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20170926T215223Z\r\n20170926/us-east-1/iam/aws4_request\r\n22594a3fe762a982b1044d4388d7c500c8a1375f6687e6c17f3311bd7fc609b4\r\n2017-09-26 15:52:23,982 - MainThread - botocore.auth - DEBUG - Signature:\r\n60439d2587a301dc77a85532808d29fbd0af7f6089ec3b7ab708709123b69e50\r\n2017-09-26 15:52:23,983 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\r\n2017-09-26 15:52:23,983 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (5): iam.amazonaws.com\r\n2017-09-26 15:52:24,030 - MainThread - botocore.endpoint - DEBUG - ConnectionError received when sending HTTP request.\r\nTraceback (most recent call last):\r\n  File \"botocore\\endpoint.pyc\", line 204, in _get_response\r\n  File \"botocore\\vendored\\requests\\sessions.pyc\", line 573, in send\r\n  File \"botocore\\vendored\\requests\\adapters.pyc\", line 431, in send\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:24,032 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.CreateRole: calling handler <botocore.retryhandler.RetryHandler object at 0x03AE5CB0>\r\n2017-09-26 15:52:24,032 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"awscli\\clidriver.pyc\", line 200, in main\r\n  File \"awscli\\clidriver.pyc\", line 338, in __call__\r\n  File \"awscli\\clidriver.pyc\", line 508, in __call__\r\n  File \"awscli\\clidriver.pyc\", line 627, in invoke\r\n  File \"awscli\\clidriver.pyc\", line 639, in _make_client_call\r\n  File \"botocore\\client.pyc\", line 312, in _api_call\r\n  File \"botocore\\client.pyc\", line 588, in _make_api_call\r\n  File \"botocore\\endpoint.pyc\", line 141, in make_request\r\n  File \"botocore\\endpoint.pyc\", line 170, in _send_request\r\n  File \"botocore\\endpoint.pyc\", line 249, in _needs_retry\r\n  File \"botocore\\hooks.pyc\", line 227, in emit\r\n  File \"botocore\\hooks.pyc\", line 210, in _emit\r\n  File \"botocore\\retryhandler.pyc\", line 183, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 251, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 277, in _should_retry\r\n  File \"botocore\\retryhandler.pyc\", line 317, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 223, in __call__\r\n  File \"botocore\\retryhandler.pyc\", line 359, in _check_caught_exception\r\nSSLError: [Errno 2] No such file or directory\r\n2017-09-26 15:52:24,033 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\n[Errno 2] No such file or directory\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2855/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2835", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2835/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2835/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2835/events", "html_url": "https://github.com/aws/aws-cli/pull/2835", "id": 258185871, "node_id": "MDExOlB1bGxSZXF1ZXN0MTQxNDE3NzQx", "number": 2835, "title": "Make configure/set command properly handle spaces in profiles", "user": {"login": "joguSD", "id": 1935727, "node_id": "MDQ6VXNlcjE5MzU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1935727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joguSD", "html_url": "https://github.com/joguSD", "followers_url": "https://api.github.com/users/joguSD/followers", "following_url": "https://api.github.com/users/joguSD/following{/other_user}", "gists_url": "https://api.github.com/users/joguSD/gists{/gist_id}", "starred_url": "https://api.github.com/users/joguSD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joguSD/subscriptions", "organizations_url": "https://api.github.com/users/joguSD/orgs", "repos_url": "https://api.github.com/users/joguSD/repos", "events_url": "https://api.github.com/users/joguSD/events{/privacy}", "received_events_url": "https://api.github.com/users/joguSD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-15T23:08:20Z", "updated_at": "2020-12-04T23:30:29Z", "closed_at": "2017-09-26T22:39:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/2835", "html_url": "https://github.com/aws/aws-cli/pull/2835", "diff_url": "https://github.com/aws/aws-cli/pull/2835.diff", "patch_url": "https://github.com/aws/aws-cli/pull/2835.patch", "merged_at": "2017-09-26T22:39:11Z"}, "body": "Fixes #2806\r\n A big thanks to @gtseres for submitting the fix.\r\n\r\nI refactored his fix a little bit to make it a function so we can unit test it and apply it to the `set` command as well.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2835/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2835/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2812", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2812/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2812/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2812/events", "html_url": "https://github.com/aws/aws-cli/pull/2812", "id": 255418182, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM5NDI4MTkx", "number": 2812, "title": "Fix issue #2806: Support for section names that contain spaces", "user": {"login": "gtseres", "id": 8204987, "node_id": "MDQ6VXNlcjgyMDQ5ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/8204987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtseres", "html_url": "https://github.com/gtseres", "followers_url": "https://api.github.com/users/gtseres/followers", "following_url": "https://api.github.com/users/gtseres/following{/other_user}", "gists_url": "https://api.github.com/users/gtseres/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtseres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtseres/subscriptions", "organizations_url": "https://api.github.com/users/gtseres/orgs", "repos_url": "https://api.github.com/users/gtseres/repos", "events_url": "https://api.github.com/users/gtseres/events{/privacy}", "received_events_url": "https://api.github.com/users/gtseres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-05T21:44:14Z", "updated_at": "2017-09-15T23:10:14Z", "closed_at": "2017-09-15T23:10:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/2812", "html_url": "https://github.com/aws/aws-cli/pull/2812", "diff_url": "https://github.com/aws/aws-cli/pull/2812.diff", "patch_url": "https://github.com/aws/aws-cli/pull/2812.patch", "merged_at": null}, "body": "Fixes issue #2806 \r\n\r\n## Testing\r\n```\r\n(aws-cli) ubuntu@ubuntu-xenial:~/workspace/aws-cli/aws-cli$ cat ~/.aws/config\r\ncat: /home/ubuntu/.aws/config: No such file or directory\r\n(aws-cli) ubuntu@ubuntu-xenial:~/workspace/aws-cli/aws-cli$ aws configure --profile 'Foo Bar'\r\nAWS Access Key ID [None]: foo\r\nAWS Secret Access Key [None]: bar\r\nDefault region name [None]: us-west-1\r\nDefault output format [None]: json\r\n(aws-cli) ubuntu@ubuntu-xenial:~/workspace/aws-cli/aws-cli$ aws autoscaling describe-auto-scaling-groups --auto-scaling-group-names group_name --profile 'Foo Bar'\r\n\r\nAn error occurred (InvalidClientTokenId) when calling the DescribeAutoScalingGroups operation: The security token included in the request is invalid.\r\n(aws-cli) ubuntu@ubuntu-xenial:~/workspace/aws-cli/aws-cli$ cat ~/.aws/config\r\n[profile 'Foo Bar']\r\noutput = json\r\nregion = us-west-1\r\n(aws-cli) ubuntu@ubuntu-xenial:~/workspace/aws-cli/aws-cli$\r\n```\r\n\r\nThis indicates that the section has been successfully fetched from the profile.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2812/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2806", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2806/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2806/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2806/events", "html_url": "https://github.com/aws/aws-cli/issues/2806", "id": 254577164, "node_id": "MDU6SXNzdWUyNTQ1NzcxNjQ=", "number": 2806, "title": "Profile does not return region or output format if it contains a SPACE character", "user": {"login": "CliveJL", "id": 12729326, "node_id": "MDQ6VXNlcjEyNzI5MzI2", "avatar_url": "https://avatars.githubusercontent.com/u/12729326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CliveJL", "html_url": "https://github.com/CliveJL", "followers_url": "https://api.github.com/users/CliveJL/followers", "following_url": "https://api.github.com/users/CliveJL/following{/other_user}", "gists_url": "https://api.github.com/users/CliveJL/gists{/gist_id}", "starred_url": "https://api.github.com/users/CliveJL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CliveJL/subscriptions", "organizations_url": "https://api.github.com/users/CliveJL/orgs", "repos_url": "https://api.github.com/users/CliveJL/repos", "events_url": "https://api.github.com/users/CliveJL/events{/privacy}", "received_events_url": "https://api.github.com/users/CliveJL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-01T08:53:39Z", "updated_at": "2017-09-26T22:39:11Z", "closed_at": "2017-09-26T22:39:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "The AWS CLI tool allows you to create a profile name with a space character in it, and writes the values to the credentials and config file as expected. However when getting that config using the quoted profile name, it doesn't return the region or default output format.\r\n\r\nSetting the profile credentials and config:\r\n\r\n    $ aws configure --profile 'Foo Bar'\r\n    AWS Access Key ID [None]: foo\r\n    AWS Secret Access Key [None]: bar\r\n    Default region name [None]: eu-west-1\r\n    Default output format [None]: json\r\n\r\n    $ cat .aws/config\r\n    [profile Foo Bar]\r\n    output = json\r\n    region = eu-west-1\r\n\r\n    $ cat .aws/credentials\r\n    [Foo Bar]\r\n    aws_access_key_id = foo\r\n    aws_secret_access_key = bar\r\n\r\n\r\nChecking the profile credentials and config:\r\n\r\n    $ aws configure --profile 'Foo Bar'\r\n    AWS Access Key ID [****************foo]:\r\n    AWS Secret Access Key [****************bar]:\r\n    Default region name [None]:\r\n    Default output format [None]:\r\n\r\nCLI commands then prompt for a region when using the profile name. The **credentials** do still work, and are retrieved from the profile, but the **config** ,e.g. the region, has to be specified on the command line still:\r\n\r\n    $ aws autoscaling describe-auto-scaling-groups --auto-scaling-group-names group_name --profile 'Foo Bar'\r\n    You must specify a region. You can also configure your region by running \"aws configure\".\r\n\r\nWhen performing the same steps above with a profile name without a space character (Foo_Bar), everything works as expected.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2806/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2786", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2786/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2786/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2786/events", "html_url": "https://github.com/aws/aws-cli/issues/2786", "id": 251919360, "node_id": "MDU6SXNzdWUyNTE5MTkzNjA=", "number": 2786, "title": "'aws apigateway get-method help' does not work", "user": {"login": "edmundcraske", "id": 1419739, "node_id": "MDQ6VXNlcjE0MTk3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1419739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmundcraske", "html_url": "https://github.com/edmundcraske", "followers_url": "https://api.github.com/users/edmundcraske/followers", "following_url": "https://api.github.com/users/edmundcraske/following{/other_user}", "gists_url": "https://api.github.com/users/edmundcraske/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmundcraske/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmundcraske/subscriptions", "organizations_url": "https://api.github.com/users/edmundcraske/orgs", "repos_url": "https://api.github.com/users/edmundcraske/repos", "events_url": "https://api.github.com/users/edmundcraske/events{/privacy}", "received_events_url": "https://api.github.com/users/edmundcraske/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-22T11:04:30Z", "updated_at": "2017-08-22T16:04:45Z", "closed_at": "2017-08-22T16:04:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I run 'aws apigateway get-method help' to see the help for the get-method command for apigateway, instead of getting the documentation for the command, I get the following:\r\n\r\n`<string>:8: (WARNING/2) Duplicate explicit target name: \"aws cli\".`\r\n\r\nI then have to press ctrl-c to get back to the command prompt.\r\n\r\nEnvironment: Mac OS X El Capitan, awscli installed from homebrew, version 1.11.137.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2758", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2758/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2758/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2758/events", "html_url": "https://github.com/aws/aws-cli/issues/2758", "id": 249767664, "node_id": "MDU6SXNzdWUyNDk3Njc2NjQ=", "number": 2758, "title": "Getting error/warning output just before showing rds help man page", "user": {"login": "michael-gracy", "id": 21319707, "node_id": "MDQ6VXNlcjIxMzE5NzA3", "avatar_url": "https://avatars.githubusercontent.com/u/21319707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michael-gracy", "html_url": "https://github.com/michael-gracy", "followers_url": "https://api.github.com/users/michael-gracy/followers", "following_url": "https://api.github.com/users/michael-gracy/following{/other_user}", "gists_url": "https://api.github.com/users/michael-gracy/gists{/gist_id}", "starred_url": "https://api.github.com/users/michael-gracy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michael-gracy/subscriptions", "organizations_url": "https://api.github.com/users/michael-gracy/orgs", "repos_url": "https://api.github.com/users/michael-gracy/repos", "events_url": "https://api.github.com/users/michael-gracy/events{/privacy}", "received_events_url": "https://api.github.com/users/michael-gracy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-11T23:05:28Z", "updated_at": "2017-08-14T20:26:49Z", "closed_at": "2017-08-14T20:26:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "> 15:40 $ aws --profile prod rds describe-db-instances help\r\n\r\n```\r\n<string>:158: (ERROR/3) Unexpected indentation.\r\n<string>:165: (ERROR/3) Unexpected indentation.\r\n<string>:168: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\r\n<string>:169: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:173: (ERROR/3) Unexpected indentation.\r\n<string>:176: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\r\n<string>:177: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:184: (ERROR/3) Unexpected indentation.\r\n<string>:187: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\r\n<string>:188: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:192: (ERROR/3) Unexpected indentation.\r\n<string>:197: (ERROR/3) Unexpected indentation.\r\n<string>:198: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:199: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\r\n<string>:201: (ERROR/3) Unexpected indentation.\r\n<string>:204: (ERROR/3) Unexpected indentation.\r\n<string>:205: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:206: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:208: (ERROR/3) Unexpected indentation.\r\n<string>:211: (ERROR/3) Unexpected indentation.\r\n<string>:212: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:213: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:215: (ERROR/3) Unexpected indentation.\r\n<string>:218: (ERROR/3) Unexpected indentation.\r\n<string>:219: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:220: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:221: (WARNING/2) Definition list ends without a blank line; unexpected unindent.\r\n<string>:226: (WARNING/2) Block quote ends without a blank line; unexpected unindent.\r\n<string>:233: (ERROR/3) Unexpected indentation.\r\n```\r\n\r\n15:59 $ aws --version\r\naws-cli/1.11.131 Python/2.7.10 Darwin/16.7.0 botocore/1.5.94\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2756", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2756/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2756/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2756/events", "html_url": "https://github.com/aws/aws-cli/issues/2756", "id": 249305905, "node_id": "MDU6SXNzdWUyNDkzMDU5MDU=", "number": 2756, "title": "aws athena get-query-results  NextToken is not provided", "user": {"login": "jguerrero77", "id": 11535200, "node_id": "MDQ6VXNlcjExNTM1MjAw", "avatar_url": "https://avatars.githubusercontent.com/u/11535200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jguerrero77", "html_url": "https://github.com/jguerrero77", "followers_url": "https://api.github.com/users/jguerrero77/followers", "following_url": "https://api.github.com/users/jguerrero77/following{/other_user}", "gists_url": "https://api.github.com/users/jguerrero77/gists{/gist_id}", "starred_url": "https://api.github.com/users/jguerrero77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jguerrero77/subscriptions", "organizations_url": "https://api.github.com/users/jguerrero77/orgs", "repos_url": "https://api.github.com/users/jguerrero77/repos", "events_url": "https://api.github.com/users/jguerrero77/events{/privacy}", "received_events_url": "https://api.github.com/users/jguerrero77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "joguSD", "id": 1935727, "node_id": "MDQ6VXNlcjE5MzU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1935727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joguSD", "html_url": "https://github.com/joguSD", "followers_url": "https://api.github.com/users/joguSD/followers", "following_url": "https://api.github.com/users/joguSD/following{/other_user}", "gists_url": "https://api.github.com/users/joguSD/gists{/gist_id}", "starred_url": "https://api.github.com/users/joguSD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joguSD/subscriptions", "organizations_url": "https://api.github.com/users/joguSD/orgs", "repos_url": "https://api.github.com/users/joguSD/repos", "events_url": "https://api.github.com/users/joguSD/events{/privacy}", "received_events_url": "https://api.github.com/users/joguSD/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "joguSD", "id": 1935727, "node_id": "MDQ6VXNlcjE5MzU3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1935727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joguSD", "html_url": "https://github.com/joguSD", "followers_url": "https://api.github.com/users/joguSD/followers", "following_url": "https://api.github.com/users/joguSD/following{/other_user}", "gists_url": "https://api.github.com/users/joguSD/gists{/gist_id}", "starred_url": "https://api.github.com/users/joguSD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joguSD/subscriptions", "organizations_url": "https://api.github.com/users/joguSD/orgs", "repos_url": "https://api.github.com/users/joguSD/repos", "events_url": "https://api.github.com/users/joguSD/events{/privacy}", "received_events_url": "https://api.github.com/users/joguSD/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2017-08-10T10:43:43Z", "updated_at": "2017-08-23T23:04:56Z", "closed_at": "2017-08-23T23:04:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there!\r\nI just updated from aws cli 1.11.89 to 1.11.131\r\n\r\nIt turns out that the athena command get-query-results is not giving back any NextToken. According to the documentation we should be expecting it, but nothing is provided.\r\nAny hints?\r\n\r\nThanks in advance.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2756/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2754", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2754/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2754/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2754/events", "html_url": "https://github.com/aws/aws-cli/issues/2754", "id": 248964306, "node_id": "MDU6SXNzdWUyNDg5NjQzMDY=", "number": 2754, "title": "aws cloudformation deploy command could not wait stack create/update more than 10 minutes", "user": {"login": "mvinii94", "id": 10740326, "node_id": "MDQ6VXNlcjEwNzQwMzI2", "avatar_url": "https://avatars.githubusercontent.com/u/10740326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvinii94", "html_url": "https://github.com/mvinii94", "followers_url": "https://api.github.com/users/mvinii94/followers", "following_url": "https://api.github.com/users/mvinii94/following{/other_user}", "gists_url": "https://api.github.com/users/mvinii94/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvinii94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvinii94/subscriptions", "organizations_url": "https://api.github.com/users/mvinii94/orgs", "repos_url": "https://api.github.com/users/mvinii94/repos", "events_url": "https://api.github.com/users/mvinii94/events{/privacy}", "received_events_url": "https://api.github.com/users/mvinii94/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-09T09:04:56Z", "updated_at": "2020-11-12T22:38:32Z", "closed_at": "2017-09-13T16:30:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am doing some tests by my side and I've run the aws cli in debug mode trying to find why the aws cli commands hangs up on long CloudFormation create/update processes,  I could find that the 'aws cloudformation deploy' command checks the CloudFormation Stack status every 5 seconds and then, after approximately 10 minutes and 30 seconds the code returns the error:\r\n\r\n--- Error ---\r\n\"WaiterError: Waiter StackCreateComplete failed: Max attempts exceeded\"\r\n--- Error ---\r\n\r\nI think the check period could be greater, then the aws cli command could wait more time, or increase the number of max attempts, but I think the first option it's better. Could you please take a look at this?\r\n\r\ntests:\r\n\r\n> time aws cloudformation deploy --template-file cfn-rolling-deployment.yaml --stack-name rollindeployment-test --capabilities CAPABILITY_NAMED_IAM\r\nWaiting for changeset to be created..\r\nWaiting for stack create/update to complete\r\n\r\nFailed to create/update the stack. Run the following command\r\nto fetch the list of events leading up to the failure\r\naws cloudformation describe-stack-events --stack-name rollindeployment-test\r\naws cloudformation deploy --template-file cfn-rolling-deployment.yaml          0.90s user 0.13s system 0% cpu 10:29.37 total\r\n\r\n---\r\nTraceback:\r\n---\r\n2017-08-09 10:48:41,571 - MainThread - botocore.hooks - DEBUG - Event needs-retry.cloudformation.DescribeStacks: calling handler <botocore.retryhandler.RetryHandler object at 0x10e3ac550>\r\n2017-08-09 10:48:41,571 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2017-08-09 10:48:41,571 - MainThread - awscli.customizations.cloudformation.deployer - DEBUG - Execute changeset waiter exception\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/awscli/customizations/cloudformation/deployer.py\", line 177, in wait_for_execute\r\n    waiter.wait(StackName=stack_name)\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/botocore/waiter.py\", line 53, in wait\r\n    Waiter.wait(self, **kwargs)\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/botocore/waiter.py\", line 327, in wait\r\n    last_response=response\r\nWaiterError: Waiter StackCreateComplete failed: Max attempts exceeded\r\n2017-08-09 10:48:41,573 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 200, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 338, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/awscli/customizations/commands.py\", line 187, in __call__\r\n    return self._run_main(parsed_args, parsed_globals)\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/awscli/customizations/cloudformation/deploy.py\", line 160, in _run_main\r\n    parsed_args.execute_changeset)\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/awscli/customizations/cloudformation/deploy.py\", line 172, in deploy\r\n    deployer.wait_for_execute(stack_name, result.changeset_type)\r\n  File \"/usr/local/Cellar/awscli/1.11.129/libexec/lib/python2.7/site-packages/awscli/customizations/cloudformation/deployer.py\", line 181, in wait_for_execute\r\n    raise exceptions.DeployFailedError(stack_name=stack_name)\r\nDeployFailedError: Failed to create/update the stack. Run the following command\r\nto fetch the list of events leading up to the failure\r\naws cloudformation describe-stack-events --stack-name rollindeployment-test2\r\n2017-08-09 10:48:41,575 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\nFailed to create/update the stack. Run the following command\r\nto fetch the list of events leading up to the failure\r\naws cloudformation describe-stack-events --stack-name rollindeployment-test2\r\naws cloudformation deploy --template-file cfn-rolling-deployment.yaml      0   1.21s user 0.16s system 0% cpu 10:31.42 total\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2754/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2754/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2746", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2746/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2746/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2746/events", "html_url": "https://github.com/aws/aws-cli/pull/2746", "id": 247716322, "node_id": "MDExOlB1bGxSZXF1ZXN0MTMzOTUxODc0", "number": 2746, "title": "Condition function doesn't support \"Fn::\" prefix", "user": {"login": "pmarques", "id": 441283, "node_id": "MDQ6VXNlcjQ0MTI4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/441283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmarques", "html_url": "https://github.com/pmarques", "followers_url": "https://api.github.com/users/pmarques/followers", "following_url": "https://api.github.com/users/pmarques/following{/other_user}", "gists_url": "https://api.github.com/users/pmarques/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmarques/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmarques/subscriptions", "organizations_url": "https://api.github.com/users/pmarques/orgs", "repos_url": "https://api.github.com/users/pmarques/repos", "events_url": "https://api.github.com/users/pmarques/events{/privacy}", "received_events_url": "https://api.github.com/users/pmarques/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-03T14:00:41Z", "updated_at": "2017-08-04T21:26:02Z", "closed_at": "2017-08-04T21:18:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/2746", "html_url": "https://github.com/aws/aws-cli/pull/2746", "diff_url": "https://github.com/aws/aws-cli/pull/2746.diff", "patch_url": "https://github.com/aws/aws-cli/pull/2746.patch", "merged_at": "2017-08-04T21:18:22Z"}, "body": "# Summary\r\n\r\nFix the AWS CLI cloudformation package command\r\n\r\n# Details\r\n\r\nWhen we use CLI tools to package a template it adds the function prefix *Fn::*. If we try to create a stack using the *package* cloudformation template it will thrown an error:\r\n\r\n```\r\nTemplate validation error: Template Error: Encountered unsupported function: Fn::Condition Supported functions are: [Fn::Base64, Fn::GetAtt, Fn::GetAZs, Fn::ImportValue, Fn::Join, Fn::Split, Fn::FindInMap, Fn::Select, Ref, Fn::Equals, Fn::If, Fn::Not, Condition, Fn::And, Fn::Or, Fn::Contains, Fn::EachMemberEquals, Fn::EachMemberIn, Fn::ValueOf, Fn::ValueOfAll, Fn::RefAll, Fn::Sub]\r\n```\r\n\r\n# References: \r\n * [AWS Condition Documentation](http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-conditions.html)", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2746/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2738", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2738/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2738/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2738/events", "html_url": "https://github.com/aws/aws-cli/issues/2738", "id": 246502576, "node_id": "MDU6SXNzdWUyNDY1MDI1NzY=", "number": 2738, "title": "Sync to s3 hangs forever - 'ascii' codec can't encode character", "user": {"login": "jasonsturges", "id": 1213591, "node_id": "MDQ6VXNlcjEyMTM1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1213591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonsturges", "html_url": "https://github.com/jasonsturges", "followers_url": "https://api.github.com/users/jasonsturges/followers", "following_url": "https://api.github.com/users/jasonsturges/following{/other_user}", "gists_url": "https://api.github.com/users/jasonsturges/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonsturges/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonsturges/subscriptions", "organizations_url": "https://api.github.com/users/jasonsturges/orgs", "repos_url": "https://api.github.com/users/jasonsturges/repos", "events_url": "https://api.github.com/users/jasonsturges/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonsturges/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289140250, "node_id": "MDU6TGFiZWwyODkxNDAyNTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/unicode", "name": "unicode", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-29T06:09:48Z", "updated_at": "2018-08-31T12:57:37Z", "closed_at": "2017-08-02T20:35:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Think I'm experiencing an issue similar to #2575 attempting to sync from my Mac's local filesystem to s3:\r\n\r\n    UnicodeEncodeError: 'ascii' codec can't encode character u'\\u0303' in position 11: ordinal not in range(128)\r\n    2017-07-29 00:49:40,775 - Thread-1 - awscli.customizations.s3.results - DEBUG - Error processing result QueuedResult(transfer_type='upload'\r\n\r\n    Traceback (most recent call last):\r\n    File \"/Users/jasonsturges/Library/Python/2.7/lib/python/site-packages/awscli/customizations/s3/results.py\", line 604, in _process_result\r\n        result_handler(result)\r\n    File \"/Users/jasonsturges/Library/Python/2.7/lib/python/site-packages/awscli/customizations/s3/results.py\", line 241, in __call__\r\n        result=result)\r\n    File \"/Users/jasonsturges/Library/Python/2.7/lib/python/site-packages/awscli/customizations/s3/results.py\", line 267, in _record_queued_result\r\n        self._get_ongoing_dict_key(result)] = total_transfer_size\r\n    File \"/Users/jasonsturges/Library/Python/2.7/lib/python/site-packages/awscli/customizations/s3/results.py\", line 250, in _get_ongoing_dict_key\r\n        str(el) for el in [result.transfer_type, result.src, result.dest])\r\n    File \"/Users/jasonsturges/Library/Python/2.7/lib/python/site-packages/awscli/customizations/s3/results.py\", line 250, in <genexpr>\r\n        str(el) for el in [result.transfer_type, result.src, result.dest])\r\n\r\nWithout the `--debug` option, it appears to hang forever at \"0 files\", repeatedly trying the same operations while pummeling the network.\r\n\r\nWithin the folder I'm attempting to sync, there's a folder with the 'n\u0303' character in the name.\r\n\r\nSync command is simply:\r\n\r\n    aws s3 sync . s3://[bucket]/\r\n\r\nStrange, as this folder exists in s3 - though I can't recall, it is possible that I initially uploaded it using the aws `cp` command instead of `sync` in the past.\r\n\r\nAlso strange is that adding `--dryrun` with sync works perfectly fine, correctly indicating a list of files to be uploaded.\r\n\r\nVersions:\r\n\r\n- aws-cli/1.11.94 Python/2.7.10 Darwin/15.6.0 botocore/1.5.57\r\n- OS X El Capitan (10.11.6)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2738/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2719", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2719/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2719/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2719/events", "html_url": "https://github.com/aws/aws-cli/issues/2719", "id": 244097575, "node_id": "MDU6SXNzdWUyNDQwOTc1NzU=", "number": 2719, "title": "aws package incorrectly parses \"!GetAtt VPC.Outputs.VpcId\"", "user": {"login": "romaninsh", "id": 453929, "node_id": "MDQ6VXNlcjQ1MzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/453929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romaninsh", "html_url": "https://github.com/romaninsh", "followers_url": "https://api.github.com/users/romaninsh/followers", "following_url": "https://api.github.com/users/romaninsh/following{/other_user}", "gists_url": "https://api.github.com/users/romaninsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/romaninsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romaninsh/subscriptions", "organizations_url": "https://api.github.com/users/romaninsh/orgs", "repos_url": "https://api.github.com/users/romaninsh/repos", "events_url": "https://api.github.com/users/romaninsh/events{/privacy}", "received_events_url": "https://api.github.com/users/romaninsh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-19T16:19:40Z", "updated_at": "2021-04-02T21:13:59Z", "closed_at": "2021-04-02T21:13:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per documentation: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html , this is a valid code:\r\n\r\n\r\n``` yml\r\n    Parameters:\r\n        VpcId: !GetAtt VPC.Outputs.VpcId\r\n```\r\n\r\nWhen this is parsed by `aws package` it is converted into:\r\n\r\n``` yml\r\n      Parameters:\r\n        VpcId:\r\n          Fn::GetAtt:\r\n          - VPC\r\n          - Outputs\r\n          - VpcId\r\n```\r\n\r\nWhich is invalid, because GetAtt supports only two arguments producing error:\r\n\r\n\"every Fn::GetAtt object requires two non-empty parameters, the resource name and the resource attribut\"\r\n\r\nThe expected output is:\r\n\r\n``` yml\r\n      Parameters:\r\n        VpcId:\r\n          Fn::GetAtt:\r\n          - VPC\r\n          - Outputs.VpcId\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2719/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2719/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2663", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2663/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2663/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2663/events", "html_url": "https://github.com/aws/aws-cli/issues/2663", "id": 235801043, "node_id": "MDU6SXNzdWUyMzU4MDEwNDM=", "number": 2663, "title": "cloudformation deploy does not honour tabs in JSON templates", "user": {"login": "galaxy4public", "id": 8364154, "node_id": "MDQ6VXNlcjgzNjQxNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8364154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/galaxy4public", "html_url": "https://github.com/galaxy4public", "followers_url": "https://api.github.com/users/galaxy4public/followers", "following_url": "https://api.github.com/users/galaxy4public/following{/other_user}", "gists_url": "https://api.github.com/users/galaxy4public/gists{/gist_id}", "starred_url": "https://api.github.com/users/galaxy4public/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/galaxy4public/subscriptions", "organizations_url": "https://api.github.com/users/galaxy4public/orgs", "repos_url": "https://api.github.com/users/galaxy4public/repos", "events_url": "https://api.github.com/users/galaxy4public/events{/privacy}", "received_events_url": "https://api.github.com/users/galaxy4public/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-14T08:28:23Z", "updated_at": "2020-11-12T22:38:32Z", "closed_at": "2017-07-13T19:02:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Most of our templates are using tabs for the indentation and everything was fine until we tried to feed the template to `aws cloudformation deploy` which did not like the template despite that every other function in AWS CLI works with the template just fine:\r\n\r\n```\r\n[galaxy@athena templates]$ aws cloudformation validate-template --template-body file://codepipeline.template\r\n{\r\n    \"CapabilitiesReason\": \"The following resource(s) require capabilities: [AWS::IAM::Role]\", \r\n    \"Description\": \"Playing with CodeCommit, CodeBuild, and CodeDeploy\", \r\n    \"Parameters\": [\r\n```\r\nand the only function that fails to parse the template is:\r\n```\r\n[galaxy@athena templates]$ aws cloudformation deploy --stack-name \"galaxy-ccc\" --template-file codepipeline.template --capabilities CAPABILITY_IAM\r\n\r\nwhile scanning for the next token\r\nfound character '\\t' that cannot start any token\r\n  in \"<string>\", line 2, column 1:\r\n    \t\"AWSTemplateFormatVersion\": \"20 ... \r\n    ^\r\n```\r\nA quick fix is to replace tabs with spaces:\r\n```\r\n[galaxy@athena templates]$ sed 's,\\t, ,g' codepipeline.template > c.template\r\n[galaxy@athena templates]$ aws cloudformation deploy --stack-name \"galaxy-ccc\" --template-file c.template --capabilities CAPABILITY_IAM\r\nWaiting for changeset to be created..\r\nWaiting for stack create/update to complete\r\n```\r\n\r\n... but it would mean that we would need to fix all our templates which are valid JSON just to workaround a bug in the tool! :(", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2659", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2659/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2659/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2659/events", "html_url": "https://github.com/aws/aws-cli/pull/2659", "id": 235181248, "node_id": "MDExOlB1bGxSZXF1ZXN0MTI1MDk5NTEx", "number": 2659, "title": "don't set UsePreviousValue if parameters doesn't exist (fixes #2599)", "user": {"login": "tbhi", "id": 878258, "node_id": "MDQ6VXNlcjg3ODI1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/878258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbhi", "html_url": "https://github.com/tbhi", "followers_url": "https://api.github.com/users/tbhi/followers", "following_url": "https://api.github.com/users/tbhi/following{/other_user}", "gists_url": "https://api.github.com/users/tbhi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbhi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbhi/subscriptions", "organizations_url": "https://api.github.com/users/tbhi/orgs", "repos_url": "https://api.github.com/users/tbhi/repos", "events_url": "https://api.github.com/users/tbhi/events{/privacy}", "received_events_url": "https://api.github.com/users/tbhi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-12T09:58:50Z", "updated_at": "2018-01-23T17:59:02Z", "closed_at": "2018-01-23T17:59:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/2659", "html_url": "https://github.com/aws/aws-cli/pull/2659", "diff_url": "https://github.com/aws/aws-cli/pull/2659.diff", "patch_url": "https://github.com/aws/aws-cli/pull/2659.patch", "merged_at": "2018-01-23T17:59:02Z"}, "body": "fixes #2599", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2659/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2659/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2653", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2653/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2653/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2653/events", "html_url": "https://github.com/aws/aws-cli/issues/2653", "id": 234769769, "node_id": "MDU6SXNzdWUyMzQ3Njk3Njk=", "number": 2653, "title": "Alias does not pass quoted parameters correctly to the external command (shell)", "user": {"login": "otanner", "id": 1271401, "node_id": "MDQ6VXNlcjEyNzE0MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1271401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/otanner", "html_url": "https://github.com/otanner", "followers_url": "https://api.github.com/users/otanner/followers", "following_url": "https://api.github.com/users/otanner/following{/other_user}", "gists_url": "https://api.github.com/users/otanner/gists{/gist_id}", "starred_url": "https://api.github.com/users/otanner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/otanner/subscriptions", "organizations_url": "https://api.github.com/users/otanner/orgs", "repos_url": "https://api.github.com/users/otanner/repos", "events_url": "https://api.github.com/users/otanner/events{/privacy}", "received_events_url": "https://api.github.com/users/otanner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-06-09T09:21:26Z", "updated_at": "2017-07-10T14:09:01Z", "closed_at": "2017-07-07T19:15:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nWhen using a shell function in aliases the parameters are not quoted correctly.\r\n\r\nHere is a simple alias for testing (~/.aws/cli/alias):\r\n```\r\n[toplevel]\r\n\r\ntest-quotes =\r\n  !f() {\r\n    for i in \"$@\"; do\r\n        echo \"$i\"\r\n    done\r\n  }; f\r\n```\r\n\r\nTesting the alias with `aws test-quotes foo bar \"foo bar\"`:\r\n\r\nDesired output:\r\n```\r\nfoo\r\nbar\r\nfoo bar\r\n```\r\n\r\nActual output:\r\n```\r\nfoo\r\nbar\r\nfoo\r\nbar\r\n```\r\n\r\nWhen debugging the `ExternalAliasCommand`'s `__call__` method the `command_components` variable contains `['f() {\\nfor i in \"$@\"; do\\necho \"$i\"\\ndone\\n}; f', 'foo', 'bar', 'foo bar']` so the quoted parameter with a space is parsed correctly on input.\r\n\r\nHowever when making the actual function call the parameter is not quoted correctly: `Using external alias 'test-quotes' with value: '!f() {\\nfor i in \"$@\"; do\\necho \"$i\"\\ndone\\n}; f' to run: 'f() {\\nfor i in \"$@\"; do\\necho \"$i\"\\ndone\\n}; f foo bar foo bar'`\r\n\r\nOne fix could be to use `quote` function from https://pypi.python.org/pypi/shellescape (backport of Python `shlex.quote` for Python versions 2.x & < 3.3) for `args` to get arguments escaped correctly but this creates a new dependency. (something like `command_components.extend(map(quote, args))`)\r\n\r\nVersion info: `CLI version: aws-cli/1.11.101 Python/2.7.13 Darwin/16.5.0 botocore/1.5.64`", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2653/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2653/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2599", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2599/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2599/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2599/events", "html_url": "https://github.com/aws/aws-cli/issues/2599", "id": 228268157, "node_id": "MDU6SXNzdWUyMjgyNjgxNTc=", "number": 2599, "title": "cloudformation deploy fails if new parameters are not overridden even if they have default value", "user": {"login": "kskory", "id": 3630301, "node_id": "MDQ6VXNlcjM2MzAzMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3630301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kskory", "html_url": "https://github.com/kskory", "followers_url": "https://api.github.com/users/kskory/followers", "following_url": "https://api.github.com/users/kskory/following{/other_user}", "gists_url": "https://api.github.com/users/kskory/gists{/gist_id}", "starred_url": "https://api.github.com/users/kskory/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kskory/subscriptions", "organizations_url": "https://api.github.com/users/kskory/orgs", "repos_url": "https://api.github.com/users/kskory/repos", "events_url": "https://api.github.com/users/kskory/events{/privacy}", "received_events_url": "https://api.github.com/users/kskory/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2017-05-12T11:47:46Z", "updated_at": "2022-02-17T08:15:16Z", "closed_at": "2018-01-23T17:59:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "After adding new parameters to the template, it has to be deployed with --parameters-override for all the new parameters even if they have default value, otherwise deploy fails with: \r\n\r\n> An error occurred (ValidationError) when calling the CreateChangeSet operation: Invalid input for parameter key Param2. Cannot specify usePreviousValue as true for a parameter key not in the previous template\r\n\r\nTo reproduce, deploy simple template:\r\n```\r\nAWSTemplateFormatVersion : '2010-09-09'\r\nTransform: AWS::Serverless-2016-10-31\r\nDescription: A hello world application.\r\nParameters:\r\n  Param1:\r\n    Default: 123\r\n    Type: String\r\nResources:\r\n  HelloWorldFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Handler: index.handler\r\n      Runtime: nodejs4.3\r\n      CodeUri: ./hello.zip\r\n```\r\n\r\nadd some parameter to it:\r\n\r\n```\r\n...\r\nParameters:\r\n  Param1:\r\n    Default: 123\r\n    Type: String\r\n  Param2:\r\n    Default: 123\r\n    Type: String\r\n...\r\n```\r\n\r\nTry to deploy again, it fails with aforementioned error. ", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2599/reactions", "total_count": 23, "+1": 23, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2599/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2564", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2564/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2564/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2564/events", "html_url": "https://github.com/aws/aws-cli/issues/2564", "id": 223979231, "node_id": "MDU6SXNzdWUyMjM5NzkyMzE=", "number": 2564, "title": "Cloudformation Package does not work with already uploaded templates in nested stacks", "user": {"login": "jrstarke", "id": 46070, "node_id": "MDQ6VXNlcjQ2MDcw", "avatar_url": "https://avatars.githubusercontent.com/u/46070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrstarke", "html_url": "https://github.com/jrstarke", "followers_url": "https://api.github.com/users/jrstarke/followers", "following_url": "https://api.github.com/users/jrstarke/following{/other_user}", "gists_url": "https://api.github.com/users/jrstarke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrstarke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrstarke/subscriptions", "organizations_url": "https://api.github.com/users/jrstarke/orgs", "repos_url": "https://api.github.com/users/jrstarke/repos", "events_url": "https://api.github.com/users/jrstarke/events{/privacy}", "received_events_url": "https://api.github.com/users/jrstarke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-24T23:29:20Z", "updated_at": "2020-11-12T22:38:31Z", "closed_at": "2017-06-08T17:20:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using Cloudformation Stacks and SubStacks to deploy large parts of our infrastructural components, in combination with `aws cloudformation package` to package up the SubStack resources for deployment. \r\n\r\nRecently, we've started pushing AWS WAF out with our CloudFront distributions. To this, the stack for these distributions has a `AWS::CloudFormation::Stack` resource, which deploys the AWS WAF Preconfigured Protections (https://aws.amazon.com/answers/security/aws-waf-security-automations/). These protections include a CloudFormation template available at https://s3.amazonaws.com/solutions-reference/aws-waf-security-automations/latest/aws-waf-security-automations.template for creating the WAF WebACL and the associated rules.\r\n\r\nThe problem is, when I run `cloudformation package` on my top level stack, I get the error \r\n\r\n`TemplateURL parameter of AppFirewall resource is invalid. It must be a S3 URL or path to CloudFormation template file. Actual: /Users/jstarke/<redacted>/https:/s3.amazonaws.com/solutions-reference/aws-waf-security-automations/latest/aws-waf-security-automations.template`\r\n\r\nLooking into this specific command, it appears that it checks if the template_path in the `TemplateURL` is an s3 url (https://github.com/aws/aws-cli/blob/develop/awscli/customizations/cloudformation/artifact_exporter.py#L64), but it only considers urls starting with `s3://`, where as the Cloudformation Stack documentation specifically requires TemplateURLs for existing resources to start with `https://s3.amazonaws.com/` (http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stack.html#cfn-cloudformation-stack-templateurl).\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2536", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2536/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2536/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2536/events", "html_url": "https://github.com/aws/aws-cli/issues/2536", "id": 220521375, "node_id": "MDU6SXNzdWUyMjA1MjEzNzU=", "number": 2536, "title": "Reading/writing EMR key_pair_file configuration options behaves oddly", "user": {"login": "muz", "id": 26672, "node_id": "MDQ6VXNlcjI2Njcy", "avatar_url": "https://avatars.githubusercontent.com/u/26672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muz", "html_url": "https://github.com/muz", "followers_url": "https://api.github.com/users/muz/followers", "following_url": "https://api.github.com/users/muz/following{/other_user}", "gists_url": "https://api.github.com/users/muz/gists{/gist_id}", "starred_url": "https://api.github.com/users/muz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muz/subscriptions", "organizations_url": "https://api.github.com/users/muz/orgs", "repos_url": "https://api.github.com/users/muz/repos", "events_url": "https://api.github.com/users/muz/events{/privacy}", "received_events_url": "https://api.github.com/users/muz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-10T02:19:40Z", "updated_at": "2019-01-04T20:06:06Z", "closed_at": "2017-04-12T22:44:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version:\r\n\r\n```\r\n$ aws --version\r\naws-cli/1.11.75 Python/2.7.10 Darwin/15.6.0 botocore/1.5.38\r\n```\r\n\r\n[It's suggested that one can set a default key_pair_file argument here](https://github.com/aws/aws-cli/blob/master/awscli/customizations/emr/ssh.py#L25) by running `aws configure set emr.key_pair_file <value>`\r\n\r\nBy that token, I would expect `aws configure get emr.key_pair_file` to retrieve this item and to exit with a exit code of 0.\r\n\r\n```\r\n$ aws configure set emr.key_pair_file /tmp/foo\r\n\r\n$ cat config\r\n[default]\r\nemr =\r\n    key_pair_file = /tmp/foo\r\n\r\n$ aws configure get emr.key_pair_file\r\n\r\n$ echo $?\r\n1\r\n```\r\n\r\nAs you can see, setting this and trying to retrieve it exits with a non-zero exit code which makes it a pain to check for this config item being set as part of shell scripts prior to do other EMR-based commands (such as create-cluster).\r\n\r\nAs an aside, trying to get the top level `emr` config item fails too;\r\n\r\n```\r\n$ aws configure get emr\r\n\r\nexpected a character buffer object\r\n```\r\n\r\nAdditionally this item doesn't show up when `aws configure list` is run either;\r\n\r\n```\r\n$ aws configure list\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile                <not set>             None    None\r\naccess_key     REDACTED                    shared-credentials-file\r\nsecret_key      REDACTED                    shared-credentials-file\r\n    region                <not set>             None    None\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2494", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2494/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2494/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2494/events", "html_url": "https://github.com/aws/aws-cli/issues/2494", "id": 214690421, "node_id": "MDU6SXNzdWUyMTQ2OTA0MjE=", "number": 2494, "title": "Cannot delete s3 object with custom sse encryption", "user": {"login": "omencl", "id": 26458786, "node_id": "MDQ6VXNlcjI2NDU4Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/26458786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omencl", "html_url": "https://github.com/omencl", "followers_url": "https://api.github.com/users/omencl/followers", "following_url": "https://api.github.com/users/omencl/following{/other_user}", "gists_url": "https://api.github.com/users/omencl/gists{/gist_id}", "starred_url": "https://api.github.com/users/omencl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omencl/subscriptions", "organizations_url": "https://api.github.com/users/omencl/orgs", "repos_url": "https://api.github.com/users/omencl/repos", "events_url": "https://api.github.com/users/omencl/events{/privacy}", "received_events_url": "https://api.github.com/users/omencl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-03-16T12:36:39Z", "updated_at": "2017-06-19T17:15:06Z", "closed_at": "2017-06-19T17:15:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using command `aws --profile some_profile s3 cp /some_file s3://bucket/some_file --sse-c AES256 --sse-c-key XXX` file is successfully uploaded to server. Also copy back from bucket to local server works.\r\nBut this command `aws --profile some_profile s3 rm s3://bucket/some_file` returns\r\n>  fatal error: An error occurred (400) when calling the HeadObject operation: Bad Request\r\n\r\nSame object uploaded without sse-c can be deleted normally.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2466", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2466/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2466/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2466/events", "html_url": "https://github.com/aws/aws-cli/issues/2466", "id": 210719040, "node_id": "MDU6SXNzdWUyMTA3MTkwNDA=", "number": 2466, "title": "CloudFormation deploy does not use previous value as expected", "user": {"login": "mbp", "id": 77322, "node_id": "MDQ6VXNlcjc3MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/77322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbp", "html_url": "https://github.com/mbp", "followers_url": "https://api.github.com/users/mbp/followers", "following_url": "https://api.github.com/users/mbp/following{/other_user}", "gists_url": "https://api.github.com/users/mbp/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbp/subscriptions", "organizations_url": "https://api.github.com/users/mbp/orgs", "repos_url": "https://api.github.com/users/mbp/repos", "events_url": "https://api.github.com/users/mbp/events{/privacy}", "received_events_url": "https://api.github.com/users/mbp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-28T08:30:56Z", "updated_at": "2020-11-12T22:38:31Z", "closed_at": "2017-03-16T22:46:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I already got this confirmed as a bug in AWS Support Case, but I don't see any issue here.\r\n\r\nFor the parameter overrides, the documentation state the following:\r\n\r\n> If you're updating a stack and you don't specify a parameter, the command uses the stack's exisiting value. For new stacks, you must specify parameters that don't have a default value\"\r\n\r\nHowever, when you don't provide a value, it will go back to the default value.\r\n\r\nIt can be reproduced with this CloudFormation template:\r\n\r\n```\r\n{\r\n    \"AWSTemplateFormatVersion\" : \"2010-09-09\",\r\n    \"Description\"              : \"Test stack\",\r\n    \"Parameters\"               : {\r\n        \"TestParam1\" : {\r\n            \"Description\" : \"Test param 1\",\r\n            \"Type\"        : \"String\"\r\n        },\r\n        \"TestParam2\" : {\r\n            \"Description\" : \"Test param 2\",\r\n            \"Type\"        : \"String\",\r\n            \"Default\": \"exampledefault\"\r\n        }\r\n    },\r\n    \"Resources\" : {\r\n        \"examplebucket\" : {\r\n            \"Type\" : \"AWS::S3::Bucket\",\r\n            \"Properties\": {\r\n                \"BucketName\": { \"Ref\" : \"TestParam2\" }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFirst call:\r\n\r\n    aws cloudformation deploy --template-file test.template --stack-name example --parameter-overrides TestParam1=valueOnCreate\r\n\r\nBucket 'exampledefault' was created\r\n\r\nThen go to CloudFormation console and change the value of `TestParam2` to some other value. The bucket name now changed.\r\n\r\nFinally call:\r\n\r\n    aws cloudformation deploy --template-file test.template --stack-name example --parameter-overrides TestParam1=valueOnUpdate\r\n\r\nNow the bucket is (mistakenly) renamed back to \"exampledefault\".", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2466/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2460", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2460/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2460/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2460/events", "html_url": "https://github.com/aws/aws-cli/issues/2460", "id": 209696146, "node_id": "MDU6SXNzdWUyMDk2OTYxNDY=", "number": 2460, "title": "aws cloudformation deploy not maintain stack parameters", "user": {"login": "agutierrezdapda", "id": 11226308, "node_id": "MDQ6VXNlcjExMjI2MzA4", "avatar_url": "https://avatars.githubusercontent.com/u/11226308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agutierrezdapda", "html_url": "https://github.com/agutierrezdapda", "followers_url": "https://api.github.com/users/agutierrezdapda/followers", "following_url": "https://api.github.com/users/agutierrezdapda/following{/other_user}", "gists_url": "https://api.github.com/users/agutierrezdapda/gists{/gist_id}", "starred_url": "https://api.github.com/users/agutierrezdapda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agutierrezdapda/subscriptions", "organizations_url": "https://api.github.com/users/agutierrezdapda/orgs", "repos_url": "https://api.github.com/users/agutierrezdapda/repos", "events_url": "https://api.github.com/users/agutierrezdapda/events{/privacy}", "received_events_url": "https://api.github.com/users/agutierrezdapda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-02-23T08:35:35Z", "updated_at": "2020-11-12T22:38:30Z", "closed_at": "2017-04-28T20:43:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "With latest version of awscli, cloudformation deploy not maintain stack parameters.\r\naws cloudformation deploy get template defaults instead of stack parameters.\r\n\r\nWith aws-cli/1.11.19 and botocore/1.4.83 are working correctly.\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2460/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2452", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2452/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2452/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2452/events", "html_url": "https://github.com/aws/aws-cli/issues/2452", "id": 208710265, "node_id": "MDU6SXNzdWUyMDg3MTAyNjU=", "number": 2452, "title": "Version 1.11.17 and above breaks EC2 describe volumes with JSON input", "user": {"login": "stephanwehr", "id": 15262082, "node_id": "MDQ6VXNlcjE1MjYyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/15262082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephanwehr", "html_url": "https://github.com/stephanwehr", "followers_url": "https://api.github.com/users/stephanwehr/followers", "following_url": "https://api.github.com/users/stephanwehr/following{/other_user}", "gists_url": "https://api.github.com/users/stephanwehr/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephanwehr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephanwehr/subscriptions", "organizations_url": "https://api.github.com/users/stephanwehr/orgs", "repos_url": "https://api.github.com/users/stephanwehr/repos", "events_url": "https://api.github.com/users/stephanwehr/events{/privacy}", "received_events_url": "https://api.github.com/users/stephanwehr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-19T11:01:38Z", "updated_at": "2017-03-28T16:37:55Z", "closed_at": "2017-03-28T16:37:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Related Issue: #1976 \r\n\r\nJSON File:\r\n```json\r\n{\r\n  \"VolumeIds\": [\r\n    \"vol-<id>\"\r\n  ]\r\n}\r\n```\r\n\r\nCommand:\r\n```\r\naws ec2 describe-volumes --region <region> --cli-input-json file://<file-name>.json\r\n```\r\n\r\nError Message:\r\n```\r\nAn error occurred (InvalidParameterCombination) when calling the DescribeVolumes operation: The parameter volumeSet cannot be used with the parameter maxResults\r\n```\r\n\r\nOS Release:\r\n```\r\nNAME=\"Amazon Linux AMI\"\r\nVERSION=\"2016.09\"\r\nID=\"amzn\"\r\nID_LIKE=\"rhel fedora\"\r\nVERSION_ID=\"2016.09\"\r\nPRETTY_NAME=\"Amazon Linux AMI 2016.09\"\r\nANSI_COLOR=\"0;33\"\r\nCPE_NAME=\"cpe:/o:amazon:linux:2016.09:ga\"\r\nHOME_URL=\"http://aws.amazon.com/amazon-linux-ami/\"\r\n```\r\n\r\nWorks:\r\n```\r\npython27-botocore-1.4.46-1.58.amzn1.noarch\r\naws-cli-1.10.56-1.41.amzn1.noarch\r\n```\r\n\r\nBreaks:\r\n```\r\npython27-botocore-1.4.74-1.60.amzn1.noarch\r\naws-cli-1.11.17-1.43.amzn1.noarch\r\n```\r\n```\r\npython27-botocore-1.4.86-1.62.amzn1.noarch\r\naws-cli-1.11.29-1.45.amzn1.noarch\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2452/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2435", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2435/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2435/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2435/events", "html_url": "https://github.com/aws/aws-cli/issues/2435", "id": 206382670, "node_id": "MDU6SXNzdWUyMDYzODI2NzA=", "number": 2435, "title": "aws cloudformation deploy  'list' object has no attribute 'split'", "user": {"login": "Jormundir", "id": 2193814, "node_id": "MDQ6VXNlcjIxOTM4MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2193814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jormundir", "html_url": "https://github.com/Jormundir", "followers_url": "https://api.github.com/users/Jormundir/followers", "following_url": "https://api.github.com/users/Jormundir/following{/other_user}", "gists_url": "https://api.github.com/users/Jormundir/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jormundir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jormundir/subscriptions", "organizations_url": "https://api.github.com/users/Jormundir/orgs", "repos_url": "https://api.github.com/users/Jormundir/repos", "events_url": "https://api.github.com/users/Jormundir/events{/privacy}", "received_events_url": "https://api.github.com/users/Jormundir/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-02-09T02:02:52Z", "updated_at": "2020-11-12T22:38:30Z", "closed_at": "2017-02-09T19:24:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\naws --version\r\naws-cli/1.11.45 Python/2.7.13 Darwin/15.6.0 botocore/1.5.8\r\n```\r\n\r\nAfter creating a cloudformation template, when I attempt to deploy it, I get the python error in the title:\r\n```\r\naws cloudformation deploy --template-file _build/cloudformation.yaml --stack-name lambda\r\n\r\n'list' object has no attribute 'split'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2406", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2406/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2406/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2406/events", "html_url": "https://github.com/aws/aws-cli/issues/2406", "id": 202617807, "node_id": "MDU6SXNzdWUyMDI2MTc4MDc=", "number": 2406, "title": "list-instance-profiles --generate-cli-skeleton output does not work", "user": {"login": "tchia04", "id": 1467223, "node_id": "MDQ6VXNlcjE0NjcyMjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1467223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tchia04", "html_url": "https://github.com/tchia04", "followers_url": "https://api.github.com/users/tchia04/followers", "following_url": "https://api.github.com/users/tchia04/following{/other_user}", "gists_url": "https://api.github.com/users/tchia04/gists{/gist_id}", "starred_url": "https://api.github.com/users/tchia04/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tchia04/subscriptions", "organizations_url": "https://api.github.com/users/tchia04/orgs", "repos_url": "https://api.github.com/users/tchia04/repos", "events_url": "https://api.github.com/users/tchia04/events{/privacy}", "received_events_url": "https://api.github.com/users/tchia04/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-23T18:48:38Z", "updated_at": "2017-01-23T21:48:29Z", "closed_at": "2017-01-23T21:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "The input parameter works\r\n\r\n<pre>\r\ntonychia@blueapple ~ $ aws iam list-instance-profiles --generate-cli-skeleton input\r\n{\r\n    \"PathPrefix\": \"\",\r\n    \"Marker\": \"\",\r\n    \"MaxItems\": 0\r\n}\r\n</pre>\r\n\r\nRunning aws iam list-instance-profiles works too\r\n<pre>\r\naws iam list-instance-profiles  | head\r\n{\r\n    \"InstanceProfiles\": [\r\n        {\r\n            \"InstanceProfileId\": \"AIPAJDK6PAFW6FO7F4JTQ\",\r\n            \"Roles\": [\r\n                {\r\n                    \"AssumeRolePolicyDocument\": {\r\n                        \"Version\": \"2012-10-17\",\r\n                        \"Statement\": [\r\n                            {\r\n\r\n</pre>\r\n\r\nHowever running with the output parameter doesn't work.  I was expecting an sample output template\r\n\r\n<pre>\r\ntonychia@blueapple ~ $ aws iam list-instance-profiles --generate-cli-skeleton output\r\n\r\nParameter validation failed:\r\nInvalid length for parameter InstanceProfiles[0].Arn, value: 3, valid range: 20-inf\r\nInvalid length for parameter InstanceProfiles[0].Roles[0].RoleId, value: 6, valid range: 16-inf\r\nInvalid length for parameter InstanceProfiles[0].Roles[0].Arn, value: 3, valid range: 20-inf\r\ntonychia@blueapple ~ $ \r\ntonychia@blueapple ~ $ aws --version\r\naws-cli/1.11.41 Python/2.7.10 Darwin/16.3.0 botocore/1.5.4\r\n</pre>", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2395", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2395/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2395/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2395/events", "html_url": "https://github.com/aws/aws-cli/issues/2395", "id": 201874743, "node_id": "MDU6SXNzdWUyMDE4NzQ3NDM=", "number": 2395, "title": "Unicode issues with non-ascii chars in home path", "user": {"login": "alex88", "id": 436888, "node_id": "MDQ6VXNlcjQzNjg4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/436888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex88", "html_url": "https://github.com/alex88", "followers_url": "https://api.github.com/users/alex88/followers", "following_url": "https://api.github.com/users/alex88/following{/other_user}", "gists_url": "https://api.github.com/users/alex88/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex88/subscriptions", "organizations_url": "https://api.github.com/users/alex88/orgs", "repos_url": "https://api.github.com/users/alex88/repos", "events_url": "https://api.github.com/users/alex88/events{/privacy}", "received_events_url": "https://api.github.com/users/alex88/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-01-19T14:27:07Z", "updated_at": "2017-03-24T21:49:28Z", "closed_at": "2017-03-24T21:49:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had to install aws-cli on a Turkish pc running windows 7 with the user's home folder called `\u0130K` and I get this output\r\n\r\n```\r\nC:\\Users\\\u0130K>aws\r\nTraceback (most recent call last):\r\n  File \"aws\", line 27, in <module>\r\n  File \"aws\", line 23, in main\r\n  File \"awscli\\clidriver.pyc\", line 53, in main\r\n  File \"awscli\\clidriver.pyc\", line 61, in create_clidriver\r\n  File \"botocore\\session.pyc\", line 375, in full_config\r\n  File \"botocore\\configloader.pyc\", line 105, in load_config\r\n  File \"botocore\\configloader.pyc\", line 145, in raw_config_parse\r\n  File \"botocore\\exceptions.pyc\", line 27, in __init__\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xdd in position 9: ordinal not in range(128)\r\n```\r\ncould it be something related to the user's folder name?\r\n\r\nI've tried also with --debug but I've the same issue", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2372", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2372/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2372/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2372/events", "html_url": "https://github.com/aws/aws-cli/issues/2372", "id": 199609962, "node_id": "MDU6SXNzdWUxOTk2MDk5NjI=", "number": 2372, "title": "ImportError on any CLI command on Windows", "user": {"login": "AndreLouisCaron", "id": 135974, "node_id": "MDQ6VXNlcjEzNTk3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/135974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreLouisCaron", "html_url": "https://github.com/AndreLouisCaron", "followers_url": "https://api.github.com/users/AndreLouisCaron/followers", "following_url": "https://api.github.com/users/AndreLouisCaron/following{/other_user}", "gists_url": "https://api.github.com/users/AndreLouisCaron/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreLouisCaron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreLouisCaron/subscriptions", "organizations_url": "https://api.github.com/users/AndreLouisCaron/orgs", "repos_url": "https://api.github.com/users/AndreLouisCaron/repos", "events_url": "https://api.github.com/users/AndreLouisCaron/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreLouisCaron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-01-09T17:18:32Z", "updated_at": "2018-02-09T12:57:02Z", "closed_at": "2017-05-02T16:18:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nI just ran `pip install awscli` in a new Python 2.7 virtual environment on Windows.  It installed successfully, but any command I run gives output like this:\r\n\r\n```\r\n$ aws ecr get-login --region us-east-1\r\nTraceback (most recent call last):\r\n  File \"...\\.tox\\tools\\Scripts\\aws.cmd\", line 50, in <module>\r\n    import awscli.clidriver\r\nImportError: No module named awscli.clidriver\r\n```\r\n\r\nThe package in the virtual environment seems fine and I can run this command successfully (no `ImportError`):\r\n\r\n```\r\n$ python -c \"from awscli.clidriver import main; main()\" ecr get-login --region us-east-1\r\nUnable to locate credentials. You can configure credentials by running \"aws configure\".\r\n```\r\n\r\nAny idea what's wrong?\r\n\r\nI'm using this version:\r\n\r\n```\r\n$ pip freeze | grep awscli\r\nawscli==1.11.36\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2372/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2369", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2369/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2369/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2369/events", "html_url": "https://github.com/aws/aws-cli/issues/2369", "id": 199368429, "node_id": "MDU6SXNzdWUxOTkzNjg0Mjk=", "number": 2369, "title": "awscli requires python-six but does not declare it", "user": {"login": "Fale", "id": 77888, "node_id": "MDQ6VXNlcjc3ODg4", "avatar_url": "https://avatars.githubusercontent.com/u/77888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fale", "html_url": "https://github.com/Fale", "followers_url": "https://api.github.com/users/Fale/followers", "following_url": "https://api.github.com/users/Fale/following{/other_user}", "gists_url": "https://api.github.com/users/Fale/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fale/subscriptions", "organizations_url": "https://api.github.com/users/Fale/orgs", "repos_url": "https://api.github.com/users/Fale/repos", "events_url": "https://api.github.com/users/Fale/events{/privacy}", "received_events_url": "https://api.github.com/users/Fale/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-01-07T15:50:25Z", "updated_at": "2017-03-13T20:52:16Z", "closed_at": "2017-03-13T20:52:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Also, it would be nice to know which minimum version of six is required", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2366", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2366/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2366/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2366/events", "html_url": "https://github.com/aws/aws-cli/issues/2366", "id": 199192548, "node_id": "MDU6SXNzdWUxOTkxOTI1NDg=", "number": 2366, "title": "CLI doesn't work on windows with unicode profile names", "user": {"login": "soukicz", "id": 1814750, "node_id": "MDQ6VXNlcjE4MTQ3NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1814750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soukicz", "html_url": "https://github.com/soukicz", "followers_url": "https://api.github.com/users/soukicz/followers", "following_url": "https://api.github.com/users/soukicz/following{/other_user}", "gists_url": "https://api.github.com/users/soukicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/soukicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soukicz/subscriptions", "organizations_url": "https://api.github.com/users/soukicz/orgs", "repos_url": "https://api.github.com/users/soukicz/repos", "events_url": "https://api.github.com/users/soukicz/events{/privacy}", "received_events_url": "https://api.github.com/users/soukicz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-06T13:03:47Z", "updated_at": "2017-04-11T00:51:49Z", "closed_at": "2017-04-11T00:51:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nCLI is using credentials from home directory but it doesn't work if this directory has unicode characters:\r\n\r\n```\r\nC:\\Users\\Ren\u00e9 Winkler>aws --version\r\nTraceback (most recent call last):\r\nFile \"aws\", line 27, in <module>\r\nFile \"aws\", line 23, in main\r\nFile \"awscli\\clidriver.pyc\", line 49, in main\r\nFile \"awscli\\clidriver.pyc\", line 57, in create_clidriver\r\nFile \"botocore\\session.pyc\", line 368, in full_config\r\nFile \"botocore\\configloader.pyc\", line 105, in load_config\r\nFile \"botocore\\configloader.pyc\", line 126, in raw_config_parse\r\nFile \"botocore\\exceptions.pyc\", line 27, in __init__\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe9 in position 12:   ordinal not in range(128)\r\n```\r\nhttps://stackoverflow.com/questions/37904689/unicodedecodeerror-when-calling-aws-cli", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2333", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2333/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2333/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2333/events", "html_url": "https://github.com/aws/aws-cli/pull/2333", "id": 196484638, "node_id": "MDExOlB1bGxSZXF1ZXN0OTg2MTQxMDc=", "number": 2333, "title": "Handle race conditions in s3 sync a little better", "user": {"login": "2rs2ts", "id": 578891, "node_id": "MDQ6VXNlcjU3ODg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/578891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2rs2ts", "html_url": "https://github.com/2rs2ts", "followers_url": "https://api.github.com/users/2rs2ts/followers", "following_url": "https://api.github.com/users/2rs2ts/following{/other_user}", "gists_url": "https://api.github.com/users/2rs2ts/gists{/gist_id}", "starred_url": "https://api.github.com/users/2rs2ts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2rs2ts/subscriptions", "organizations_url": "https://api.github.com/users/2rs2ts/orgs", "repos_url": "https://api.github.com/users/2rs2ts/repos", "events_url": "https://api.github.com/users/2rs2ts/events{/privacy}", "received_events_url": "https://api.github.com/users/2rs2ts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2016-12-19T18:18:05Z", "updated_at": "2017-02-24T00:39:30Z", "closed_at": "2017-02-23T22:44:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/2333", "html_url": "https://github.com/aws/aws-cli/pull/2333", "diff_url": "https://github.com/aws/aws-cli/pull/2333.diff", "patch_url": "https://github.com/aws/aws-cli/pull/2333.patch", "merged_at": "2017-02-23T22:44:13Z"}, "body": "The LBYL approach with `should_ignore_file` checking if `triggers_warning`\r\nis `True` is susceptible to rare race conditions in which a file is\r\ndeleted after `should_ignore_file` calls `triggers_warning` but before\r\n`get_file_stat` calls `os.stat`. When that happens, an `OSError` is raised.\r\nThis doesn't affect most people, but when you are using `s3 sync` on a\r\nlarge directory that is constantly shifting (for example, a logging\r\ndirectory being managed by logrotate, or a directory with a ton of tmp\r\nfiles that come and go) this has a much higher chance of happening.\r\n\r\nWhile my solution here does not address every possible error case, it\r\ndoes address a few. I'm not sure how I can create a robust blanket\r\nsolution, but a little improvement is better than none at all, right?\r\n\r\nFixes #1841", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2333/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2333/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2332", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2332/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2332/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2332/events", "html_url": "https://github.com/aws/aws-cli/pull/2332", "id": 196455146, "node_id": "MDExOlB1bGxSZXF1ZXN0OTg1OTQ1MjA=", "number": 2332, "title": "Fixed yaml parsing error for !GetAtt", "user": {"login": "dtimberlake", "id": 10684722, "node_id": "MDQ6VXNlcjEwNjg0NzIy", "avatar_url": "https://avatars.githubusercontent.com/u/10684722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtimberlake", "html_url": "https://github.com/dtimberlake", "followers_url": "https://api.github.com/users/dtimberlake/followers", "following_url": "https://api.github.com/users/dtimberlake/following{/other_user}", "gists_url": "https://api.github.com/users/dtimberlake/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtimberlake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtimberlake/subscriptions", "organizations_url": "https://api.github.com/users/dtimberlake/orgs", "repos_url": "https://api.github.com/users/dtimberlake/repos", "events_url": "https://api.github.com/users/dtimberlake/events{/privacy}", "received_events_url": "https://api.github.com/users/dtimberlake/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-19T16:19:58Z", "updated_at": "2017-01-06T23:51:00Z", "closed_at": "2017-01-06T23:51:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/2332", "html_url": "https://github.com/aws/aws-cli/pull/2332", "diff_url": "https://github.com/aws/aws-cli/pull/2332.diff", "patch_url": "https://github.com/aws/aws-cli/pull/2332.patch", "merged_at": "2017-01-06T23:51:00Z"}, "body": "When parsing `!GetAtt`, attributes should not be split on periods.\r\n\r\n## Example:\r\n\r\n### Original:\r\n`!GetAtt MyStack.Outputs.Arn`\r\n\r\n### Parses to:\r\n`{ \"Fn::GetAtt\": [ \"MyStack\", \"Outputs\", \"Arn\" ] }`\r\n\r\n### Should be:\r\n`{ \"Fn::GetAtt\": [ \"MyStack\", \"Outputs.Arn\" ] }`", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2332/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2332/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2314", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2314/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2314/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2314/events", "html_url": "https://github.com/aws/aws-cli/issues/2314", "id": 194662517, "node_id": "MDU6SXNzdWUxOTQ2NjI1MTc=", "number": 2314, "title": "`aws cloudformation package` generates invalid `TemplateURL`", "user": {"login": "jkit", "id": 2326, "node_id": "MDQ6VXNlcjIzMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkit", "html_url": "https://github.com/jkit", "followers_url": "https://api.github.com/users/jkit/followers", "following_url": "https://api.github.com/users/jkit/following{/other_user}", "gists_url": "https://api.github.com/users/jkit/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkit/subscriptions", "organizations_url": "https://api.github.com/users/jkit/orgs", "repos_url": "https://api.github.com/users/jkit/repos", "events_url": "https://api.github.com/users/jkit/events{/privacy}", "received_events_url": "https://api.github.com/users/jkit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 502294270, "node_id": "MDU6TGFiZWw1MDIyOTQyNzA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloudformation%20package-deploy", "name": "cloudformation package-deploy", "color": "b60205", "default": false, "description": ""}, {"id": 2395357355, "node_id": "MDU6TGFiZWwyMzk1MzU3MzU1", "url": "https://api.github.com/repos/aws/aws-cli/labels/customization", "name": "customization", "color": "b60205", "default": false, "description": "Issues related to CLI customizations (located in /awscli/customizations)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-09T18:17:19Z", "updated_at": "2020-11-12T22:38:29Z", "closed_at": "2017-01-06T23:54:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Description\r\n\r\nThe `aws cloudformation package` replaces local paths with an `s3://` URL, however, nested stacks in a CloudFormation template require that the `TemplateURL` is specified as a `https://s3.amazonaws.com/...` URL.\r\n\r\n# Environment\r\n\r\n```sh\r\naws --version\r\naws-cli/1.11.27 Python/2.7.10 Darwin/16.1.0 botocore/1.4.84\r\n```\r\n\r\n# Repro Steps\r\n\r\n## 1. Create A Simple Stack\r\n```yaml\r\n# simple-bucket.yml\r\nResources:\r\n  SimpleBucket:\r\n    Properties:\r\n      AccessControl: Private\r\n      BucketName: some-bucket\r\n    Type: AWS::S3::Bucket\r\n```\r\n\r\n## 2. Create A Stack With a Nested Stack\r\n```yaml\r\n# nested-bucket.yml\r\nResources:\r\n  NestedBucket:\r\n    Type: \"AWS::CloudFormation::Stack\"\r\n    Properties:\r\n      TemplateURL: simple-bucket.yml\r\n```\r\n\r\n## 3. Generate New Template with `aws cloudformation package` \r\n```sh\r\naws cloudformation package \\\r\n  --template-file nested-bucket.yml \\\r\n  --s3-bucket templates \\\r\n  --output-template-file package-template.yml\r\n```\r\n\r\nThis generates `package-template.yml`:\r\n\r\n```yml\r\nResources:\r\n  NestedBucket:\r\n    Properties:\r\n      TemplateURL: s3://templates/2605eb3b081bda5a3e38952c8e4b70a4.template\r\n    Type: AWS::CloudFormation::Stack\r\n```\r\n\r\n## 4. Deploy Generated Template\r\n\r\n```sh\r\naws cloudformation deploy \\\r\n  --template-file package-template.yml \\\r\n  --stack-name TestStack\r\n```\r\n\r\nThis fails with:\r\n```\r\nThe specified url must be an Amazon S3 URL.\r\n```\r\n\r\n# Workaround\r\n\r\nIf I change `TemplateURL` from `s3://templates/2605eb3b081bda5a3e38952c8e4b70a4.template` to `https://s3.amazonaws.com/templates/f8b1a0b3844e6eea8ff045565f5b0b7e.template` and rerun the `deploy` command. It works fine.", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2309", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2309/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2309/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2309/events", "html_url": "https://github.com/aws/aws-cli/issues/2309", "id": 193878879, "node_id": "MDU6SXNzdWUxOTM4Nzg4Nzk=", "number": 2309, "title": "Error when using the \"aws opsworks register\" command", "user": {"login": "ramesh4046", "id": 7357832, "node_id": "MDQ6VXNlcjczNTc4MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/7357832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramesh4046", "html_url": "https://github.com/ramesh4046", "followers_url": "https://api.github.com/users/ramesh4046/followers", "following_url": "https://api.github.com/users/ramesh4046/following{/other_user}", "gists_url": "https://api.github.com/users/ramesh4046/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramesh4046/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramesh4046/subscriptions", "organizations_url": "https://api.github.com/users/ramesh4046/orgs", "repos_url": "https://api.github.com/users/ramesh4046/repos", "events_url": "https://api.github.com/users/ramesh4046/events{/privacy}", "received_events_url": "https://api.github.com/users/ramesh4046/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-06T20:44:33Z", "updated_at": "2016-12-08T23:23:37Z", "closed_at": "2016-12-08T23:23:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to register an instance using the CLI, it failed with a message as\r\n \"the JSON object must be str, not 'bytes'\". \r\n\r\nThe command that was ran:\r\n\r\naws opsworks register --region $REGION --infrastructure-class ec2 --stack-id $STACK_ID --local --override-hostname $INSTANCE_NAME\r\n\r\nthe JSON object must be str, not 'bytes'\r\n\r\naws --version\r\naws-cli/1.10.12 Python/3.4.3 Linux/3.13.0-101-generic botocore/1.4.3\r\n\r\necho $REGION\r\nus-east-1\r\n\r\necho $STACK_ID\r\nxx-xx-xx (removed the stack ID)\r\n\r\n$ echo $INSTANCE_NAME\r\nxxx (removed the instance name)\r\n\r\nuname -a\r\nLinux ip-172-16-7-149 3.13.0-101-generic #148-Ubuntu SMP Thu Oct 20 22:08:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nAdditionally after further testing it had been figured out the issue is on this ( https://github.com/aws/aws-cli/blob/develop/awscli/customizations/opsworks.py ) and the suggested fix is as in the attached file. \r\n[opsworks.txt](https://github.com/aws/aws-cli/files/634993/opsworks.txt)\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2247", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2247/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2247/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2247/events", "html_url": "https://github.com/aws/aws-cli/issues/2247", "id": 184646848, "node_id": "MDU6SXNzdWUxODQ2NDY4NDg=", "number": 2247, "title": "Local Opsworks EC2 register fail on check because urlopen() returning type", "user": {"login": "valter-lisboa", "id": 679158, "node_id": "MDQ6VXNlcjY3OTE1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/679158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valter-lisboa", "html_url": "https://github.com/valter-lisboa", "followers_url": "https://api.github.com/users/valter-lisboa/followers", "following_url": "https://api.github.com/users/valter-lisboa/following{/other_user}", "gists_url": "https://api.github.com/users/valter-lisboa/gists{/gist_id}", "starred_url": "https://api.github.com/users/valter-lisboa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valter-lisboa/subscriptions", "organizations_url": "https://api.github.com/users/valter-lisboa/orgs", "repos_url": "https://api.github.com/users/valter-lisboa/repos", "events_url": "https://api.github.com/users/valter-lisboa/events{/privacy}", "received_events_url": "https://api.github.com/users/valter-lisboa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "stealthycoin", "id": 1010634, "node_id": "MDQ6VXNlcjEwMTA2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1010634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stealthycoin", "html_url": "https://github.com/stealthycoin", "followers_url": "https://api.github.com/users/stealthycoin/followers", "following_url": "https://api.github.com/users/stealthycoin/following{/other_user}", "gists_url": "https://api.github.com/users/stealthycoin/gists{/gist_id}", "starred_url": "https://api.github.com/users/stealthycoin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stealthycoin/subscriptions", "organizations_url": "https://api.github.com/users/stealthycoin/orgs", "repos_url": "https://api.github.com/users/stealthycoin/repos", "events_url": "https://api.github.com/users/stealthycoin/events{/privacy}", "received_events_url": "https://api.github.com/users/stealthycoin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stealthycoin", "id": 1010634, "node_id": "MDQ6VXNlcjEwMTA2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1010634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stealthycoin", "html_url": "https://github.com/stealthycoin", "followers_url": "https://api.github.com/users/stealthycoin/followers", "following_url": "https://api.github.com/users/stealthycoin/following{/other_user}", "gists_url": "https://api.github.com/users/stealthycoin/gists{/gist_id}", "starred_url": "https://api.github.com/users/stealthycoin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stealthycoin/subscriptions", "organizations_url": "https://api.github.com/users/stealthycoin/orgs", "repos_url": "https://api.github.com/users/stealthycoin/repos", "events_url": "https://api.github.com/users/stealthycoin/events{/privacy}", "received_events_url": "https://api.github.com/users/stealthycoin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2016-10-22T18:42:46Z", "updated_at": "2016-12-08T20:38:54Z", "closed_at": "2016-12-08T20:38:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI using register/unregister with last version of awscli to add and remove EC2 instances on an OpsWorks stack and I finding a error using the command bellow:\n\n```\naws --debug opsworks register --infrastructure-class ec2 --override-hostname 'somehostname' --region us-east-1 --stack-id 'some-stack-id' --local --use-instance-profile\n2016-10-22 18:05:56,267 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.11.8 Python/3.5.2 Linux/4.4.0-45-generic botocore/1.4.65\n2016-10-22 18:05:56,267 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', 'opsworks', 'register', '--infrastructure-class', 'ec2', '--override-hostname', 'somehostname', '--region', 'us-east-1', '--stack-id', 'some-stack-id', '--local', '--use-instance-profile']\n2016-10-22 18:05:56,268 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f10955af8c8>\n2016-10-22 18:05:56,268 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f109443b1e0>\n2016-10-22 18:05:56,268 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\n2016-10-22 18:05:56,269 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.5/dist-packages/botocore/data/opsworks/2013-02-18/service-2.json\n2016-10-22 18:05:56,274 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.opsworks: calling handler <function register_retries_for_service at 0x7f109481d840>\n2016-10-22 18:05:56,275 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: opsworks\n2016-10-22 18:05:56,276 - MainThread - botocore.hooks - DEBUG - Event building-command-table.opsworks: calling handler <function inject_commands at 0x7f1094040ea0>\n2016-10-22 18:05:56,277 - MainThread - botocore.hooks - DEBUG - Event building-command-table.opsworks: calling handler <function add_waiters at 0x7f10955b5c80>\n2016-10-22 18:05:56,278 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.5/dist-packages/botocore/data/opsworks/2013-02-18/waiters-2.json\n2016-10-22 18:05:56,279 - MainThread - botocore.hooks - DEBUG - Event building-command-table.register: calling handler <function add_waiters at 0x7f10955b5c80>\n2016-10-22 18:05:56,280 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.stack-id: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,280 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.register: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f109447acc0>\n2016-10-22 18:05:56,280 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.anonymous: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,280 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.anonymous: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,280 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.anonymous: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.target: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.infrastructure-class: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.register: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f109447acc0>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.local: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.register: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f109447acc0>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.anonymous: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.use-instance-profile: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.register: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f109447acc0>\n2016-10-22 18:05:56,281 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.anonymous: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,282 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.register.anonymous: calling handler <function uri_param at 0x7f109446ac80>\n2016-10-22 18:05:56,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2016-10-22 18:05:56,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2016-10-22 18:05:56,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2016-10-22 18:05:56,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: config-file\n2016-10-22 18:05:56,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: ec2-credentials-file\n2016-10-22 18:05:56,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: boto-config\n2016-10-22 18:05:56,282 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: container-role\n2016-10-22 18:05:56,283 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: iam-role\n2016-10-22 18:05:56,286 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTP connection (1): 169.254.169.254\n2016-10-22 18:05:56,287 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"GET /latest/meta-data/iam/security-credentials/ HTTP/1.1\" 200 17\n2016-10-22 18:05:56,289 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTP connection (1): 169.254.169.254\n2016-10-22 18:05:56,290 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"GET /latest/meta-data/iam/security-credentials/openvpn-acme-test HTTP/1.1\" 200 846\n2016-10-22 18:05:56,290 - MainThread - botocore.credentials - INFO - Found credentials from IAM Role: openvpn-acme-test\n2016-10-22 18:05:56,291 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.5/dist-packages/botocore/data/endpoints.json\n2016-10-22 18:05:56,293 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.5/dist-packages/botocore/data/iam/2010-05-08/service-2.json\n2016-10-22 18:05:56,300 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: iam\n2016-10-22 18:05:56,304 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.iam: calling handler <function add_generate_presigned_url at 0x7f1094cc9b70>\n2016-10-22 18:05:56,304 - MainThread - botocore.args - DEBUG - The s3 config key is not a dictionary type, ignoring its value of: None\n2016-10-22 18:05:56,307 - MainThread - botocore.endpoint - DEBUG - Setting iam timeout as (60, 60)\n2016-10-22 18:05:56,307 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: opsworks\n2016-10-22 18:05:56,309 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.opsworks: calling handler <function add_generate_presigned_url at 0x7f1094cc9b70>\n2016-10-22 18:05:56,309 - MainThread - botocore.args - DEBUG - The s3 config key is not a dictionary type, ignoring its value of: None\n2016-10-22 18:05:56,311 - MainThread - botocore.endpoint - DEBUG - Setting opsworks timeout as (60, 60)\n2016-10-22 18:05:56,311 - MainThread - awscli.customizations.opsworks - DEBUG - Retrieving stack and provisioning parameters\n2016-10-22 18:05:56,312 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=DescribeStacks) (verify_ssl=True) with params: {'url': 'https://opsworks.us-east-1.amazonaws.com/', 'method': 'POST', 'url_path': '/', 'query_string': '', 'context': {'client_region': 'us-east-1', 'has_streaming_input': False, 'client_config': <botocore.config.Config object at 0x7f1093c325c0>}, 'headers': {'User-Agent': 'aws-cli/1.11.8 Python/3.5.2 Linux/4.4.0-45-generic botocore/1.4.65', 'Content-Type': 'application/x-amz-json-1.1', 'X-Amz-Target': 'OpsWorks_20130218.DescribeStacks'}, 'body': b'{\"StackIds\": [\"some-stack-id\"]}'}\n2016-10-22 18:05:56,312 - MainThread - botocore.hooks - DEBUG - Event request-created.opsworks.DescribeStacks: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f1093c32550>>\n2016-10-22 18:05:56,312 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2016-10-22 18:05:56,312 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\ncontent-type:application/x-amz-json-1.1\nhost:opsworks.us-east-1.amazonaws.com\nx-amz-date:20161022T180556Z\nx-amz-security-token: some-token\nx-amz-target:OpsWorks_20130218.DescribeStacks\n\ncontent-type;host;x-amz-date;x-amz-security-token;x-amz-target\n2bb6d9079ddc2fa0bb8fbf907d068de54083ba642ec1716e25ae9144e448fd33\n2016-10-22 18:05:56,313 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20161022T180556Z\n20161022/us-east-1/opsworks/aws4_request\nbf2d221183683f7af42044ddfd0807ee49bf5fa822f65162ce75f8efb45c32a0\n2016-10-22 18:05:56,313 - MainThread - botocore.auth - DEBUG - Signature:\n6484214817d02cc9ca02450aea527c1c14eb00aafa476c177dc2edd7920f38da\n2016-10-22 18:05:56,313 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2016-10-22 18:05:56,314 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): opsworks.us-east-1.amazonaws.com\n2016-10-22 18:05:56,429 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 1106\n2016-10-22 18:05:56,430 - MainThread - botocore.parsers - DEBUG - Response headers: {'content-type': 'application/x-amz-json-1.1', 'date': 'Sat, 22 Oct 2016 18:05:56 GMT', 'x-amzn-requestid': '2dd31f64-9882-11e6-8835-01c3aa973fc7', 'content-length': '1106'}\n2016-10-22 18:05:56,430 - MainThread - botocore.parsers - DEBUG - Response body:\nb'{\"Stacks\":[{\"AgentVersion\":\"LATEST\",\"Arn\":\"arn:aws:opsworks:us-east-1:some-aws-id:stack/some-stack-id/\",\"Attributes\":{\"Color\":null},\"ChefConfiguration\":{\"BerkshelfVersion\":\"3.2.0\",\"ManageBerkshelf\":false},\"ConfigurationManager\":{\"Name\":\"Chef\",\"Version\":\"12\"},\"CreatedAt\":\"2016-10-22T17:08:38+00:00\",\"CustomCookbooksSource\":{\"Type\":\"s3\",\"Url\":\"http://cookbooks2-openvpn-acme-test.s3-website-us-east-1.amazonaws.com/chef/stacks/networking/cookbooks.zip\"},\"CustomJson\":\"{}\",\"DefaultAvailabilityZone\":\"us-east-1a\",\"DefaultInstanceProfileArn\":\"arn:aws:iam::some-aws-id:instance-profile/ec2-infrastructure-openvpn-acme-test\",\"DefaultOs\":\"Ubuntu 16.04 LTS\",\"DefaultRootDeviceType\":\"instance-store\",\"DefaultSshKeyName\":\"openvpn-acme-test\",\"DefaultSubnetId\":\"subnet-141d9e5d\",\"HostnameTheme\":\"Layer_Dependent\",\"Name\":\"infrastructure-openvpn-acme-test\",\"Region\":\"us-east-1\",\"ServiceRoleArn\":\"arn:aws:iam::some-aws-id:role/infrastructure-openvpn-acme-test\",\"StackId\":\"some-stack-id\",\"UseCustomCookbooks\":true,\"UseOpsworksSecurityGroups\":false,\"VpcId\":\"vpc-8fbeb0e8\"}]}'\n2016-10-22 18:05:56,431 - MainThread - botocore.hooks - DEBUG - Event needs-retry.opsworks.DescribeStacks: calling handler <botocore.retryhandler.RetryHandler object at 0x7f1093da9470>\n2016-10-22 18:05:56,431 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2016-10-22 18:05:56,431 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=DescribeStackProvisioningParameters) (verify_ssl=True) with params: {'url': 'https://opsworks.us-east-1.amazonaws.com/', 'method': 'POST', 'url_path': '/', 'query_string': '', 'context': {'client_region': 'us-east-1', 'has_streaming_input': False, 'client_config': <botocore.config.Config object at 0x7f1093c325c0>}, 'headers': {'User-Agent': 'aws-cli/1.11.8 Python/3.5.2 Linux/4.4.0-45-generic botocore/1.4.65', 'Content-Type': 'application/x-amz-json-1.1', 'X-Amz-Target': 'OpsWorks_20130218.DescribeStackProvisioningParameters'}, 'body': b'{\"StackId\": \"some-stack-id\"}'}\n2016-10-22 18:05:56,431 - MainThread - botocore.hooks - DEBUG - Event request-created.opsworks.DescribeStackProvisioningParameters: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f1093c32550>>\n2016-10-22 18:05:56,432 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2016-10-22 18:05:56,432 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\ncontent-type:application/x-amz-json-1.1\nhost:opsworks.us-east-1.amazonaws.com\nx-amz-date:20161022T180556Z\nx-amz-security-token:some-token\nx-amz-target:OpsWorks_20130218.DescribeStackProvisioningParameters\n\ncontent-type;host;x-amz-date;x-amz-security-token;x-amz-target\nccf31206ea969d241cc87b22035e2e3ad196d6c996ec070531b946fc65753d88\n2016-10-22 18:05:56,432 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20161022T180556Z\n20161022/us-east-1/opsworks/aws4_request\nd9e2299fc5c70b002be0a7069931417b432f5e95a50c6f6b5f077af3c802dd01\n2016-10-22 18:05:56,432 - MainThread - botocore.auth - DEBUG - Signature:\n97edbd6285455316bbf83e77d0504c9af16d0ca8bac776accdaf91d7f29a8599\n2016-10-22 18:05:56,433 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2016-10-22 18:05:56,550 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 1287\n2016-10-22 18:05:56,551 - MainThread - botocore.parsers - DEBUG - Response headers: {'content-type': 'application/x-amz-json-1.1', 'date': 'Sat, 22 Oct 2016 18:05:56 GMT', 'x-amzn-requestid': '2de2af8d-9882-11e6-954b-3362066917b5', 'content-length': '1287'}\n2016-10-22 18:05:56,551 - MainThread - botocore.parsers - DEBUG - Response body:\nb'{\"AgentInstallerUrl\":\"https://opsworks-instance-agent-us-east-1.s3.amazonaws.com/4018-20160825092619/opsworks-agent-installer.tgz\",\"Parameters\":{\"agent_installer_base_url\":\"https://opsworks-instance-agent-us-east-1.s3.amazonaws.com\",\"agent_installer_tgz\":\"opsworks-agent-installer.tgz\",\"assets_download_bucket\":\"opsworks-instance-assets-us-east-1.s3.amazonaws.com\",\"charlie_public_key\":\"-----BEGIN PUBLIC KEY-----\\\\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAni7eKdm34oaCvGiw96Fk\\\\nlyLX+aPfInYzilkk+AY3pXF6nijpQ2cm3ZeM2EoqZFTv3a/meosNBAs3Q3Sy1e4G\\\\n7Ibn/xwMof+iSBvimx3PGKFzNP0BhY9yS6AMEMxtmqksHb0glwmFeJcomdhxZV1F\\\\nziWTtL6ZEyvCg0I7rxGm1ceQmD25eK90VcZVh4LJtNfnwcZRM4eC+KK9Qllxw5hW\\\\nvB4Z52JMMZbEG9MYCLydWSY9rnVkAyQ0ngJUaJ3q7JsbkBV/J5BcrGgcbioR1k+h\\\\nINRoHwBQU9WnT/x8W+N6vwJb4o6v2hBR1H2GSDLwyZ7wC8EVH+XafWYpU1g/nSEe\\\\naQIDAQAB\\\\n-----END PUBLIC KEY-----\",\"instance_service_endpoint\":\"opsworks-instance-service.us-east-1.amazonaws.com\",\"instance_service_port\":\"443\",\"instance_service_region\":\"us-east-1\",\"instance_service_ssl_verify_peer\":\"true\",\"instance_service_use_ssl\":\"true\",\"ops_works_endpoint\":\"opsworks.us-east-1.amazonaws.com\",\"ops_works_port\":\"443\",\"ops_works_region\":\"us-east-1\",\"ops_works_ssl_verify_peer\":\"true\",\"ops_works_use_ssl\":\"true\",\"verbose\":\"false\",\"wait_between_runs\":\"30\"}}'\n2016-10-22 18:05:56,552 - MainThread - botocore.hooks - DEBUG - Event needs-retry.opsworks.DescribeStackProvisioningParameters: calling handler <botocore.retryhandler.RetryHandler object at 0x7f1093da9470>\n2016-10-22 18:05:56,552 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2016-10-22 18:05:56,552 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=DescribeInstances) (verify_ssl=True) with params: {'url': 'https://opsworks.us-east-1.amazonaws.com/', 'method': 'POST', 'url_path': '/', 'query_string': '', 'context': {'client_region': 'us-east-1', 'has_streaming_input': False, 'client_config': <botocore.config.Config object at 0x7f1093c325c0>}, 'headers': {'User-Agent': 'aws-cli/1.11.8 Python/3.5.2 Linux/4.4.0-45-generic botocore/1.4.65', 'Content-Type': 'application/x-amz-json-1.1', 'X-Amz-Target': 'OpsWorks_20130218.DescribeInstances'}, 'body': b'{\"StackId\": \"some-stack-id\"}'}\n2016-10-22 18:05:56,552 - MainThread - botocore.hooks - DEBUG - Event request-created.opsworks.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f1093c32550>>\n2016-10-22 18:05:56,553 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2016-10-22 18:05:56,553 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\ncontent-type:application/x-amz-json-1.1\nhost:opsworks.us-east-1.amazonaws.com\nx-amz-date:20161022T180556Z\nx-amz-security-token:some-token\nx-amz-target:OpsWorks_20130218.DescribeInstances\n\ncontent-type;host;x-amz-date;x-amz-security-token;x-amz-target\nccf31206ea969d241cc87b22035e2e3ad196d6c996ec070531b946fc65753d88\n2016-10-22 18:05:56,553 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20161022T180556Z\n20161022/us-east-1/opsworks/aws4_request\na30847fe72cbf9f6a813d492fbf1e6fb30a36d9a76bd1ba43e38db982b03c429\n2016-10-22 18:05:56,553 - MainThread - botocore.auth - DEBUG - Signature:\nb658ca9d578704199b5d528aa3bda0bbee78f3d82e3cce5b06c940ff8b2f6834\n2016-10-22 18:05:56,553 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2016-10-22 18:05:56,665 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 16\n2016-10-22 18:05:56,666 - MainThread - botocore.parsers - DEBUG - Response headers: {'content-type': 'application/x-amz-json-1.1', 'date': 'Sat, 22 Oct 2016 18:05:55 GMT', 'x-amzn-requestid': '2df52610-9882-11e6-9c94-bbbf2061570e', 'content-length': '16'}\n2016-10-22 18:05:56,666 - MainThread - botocore.parsers - DEBUG - Response body:\nb'{\"Instances\":[]}'\n2016-10-22 18:05:56,666 - MainThread - botocore.hooks - DEBUG - Event needs-retry.opsworks.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x7f1093da9470>\n2016-10-22 18:05:56,666 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2016-10-22 18:05:56,669 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/awscli/clidriver.py\", line 186, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/lib/python3.5/dist-packages/awscli/clidriver.py\", line 381, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/lib/python3.5/dist-packages/awscli/customizations/commands.py\", line 187, in __call__\n    return self._run_main(parsed_args, parsed_globals)\n  File \"/usr/local/lib/python3.5/dist-packages/awscli/customizations/opsworks.py\", line 144, in _run_main\n    self.validate_arguments(args)\n  File \"/usr/local/lib/python3.5/dist-packages/awscli/customizations/opsworks.py\", line 281, in validate_arguments\n    region = json.loads(urlopen(IDENTITY_URL).read())['region']\n  File \"/usr/lib/python3.5/json/__init__.py\", line 312, in loads\n    s.__class__.__name__))\nTypeError: the JSON object must be str, not 'bytes'\n2016-10-22 18:05:56,671 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\nthe JSON object must be str, not 'bytes'\n```\n\nThis appears to be related with this [behavior in Python 3](http://stackoverflow.com/questions/6862770/python-3-let-json-object-accept-bytes-or-let-urlopen-output-strings): \n\nThen I try to change the code manually on file /usr/local/lib/python3.5/dist-packages/awscli/customizations/opsworks.py line 281 I change this:\n\n`region = json.loads(urlopen(IDENTITY_URL).read())['region']\n`\nto this:\n\n`region = json.loads(urlopen(IDENTITY_URL).read().decode('utf-8'))['region']`\n\nAnd the error disapear, althought I am not sure if this is the correct path to solve the issue.\n\nAwscli version:\n\n```\n# aws --version\naws-cli/1.11.8 Python/3.5.2 Linux/4.4.0-45-generic botocore/1.4.65\n```\n\nThe Linux distribution is an 'Ubuntu 16.04.1 LTS' from the Canonical default public AMI with all updates applied. I install botocore, boto3 and awsli via pip:\n\n```\n# apt install python3-pip -y\n# pip3 install awscli boto3 botocore --upgrade\n```\n\nBest Regards\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2233", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2233/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2233/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2233/events", "html_url": "https://github.com/aws/aws-cli/issues/2233", "id": 182992245, "node_id": "MDU6SXNzdWUxODI5OTIyNDU=", "number": 2233, "title": "[awscli/1.11.4] `aws s3 sync` failed to delete any local files", "user": {"login": "yoheimuta", "id": 1223268, "node_id": "MDQ6VXNlcjEyMjMyNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1223268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoheimuta", "html_url": "https://github.com/yoheimuta", "followers_url": "https://api.github.com/users/yoheimuta/followers", "following_url": "https://api.github.com/users/yoheimuta/following{/other_user}", "gists_url": "https://api.github.com/users/yoheimuta/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoheimuta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoheimuta/subscriptions", "organizations_url": "https://api.github.com/users/yoheimuta/orgs", "repos_url": "https://api.github.com/users/yoheimuta/repos", "events_url": "https://api.github.com/users/yoheimuta/events{/privacy}", "received_events_url": "https://api.github.com/users/yoheimuta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-10-14T08:31:07Z", "updated_at": "2016-10-15T02:18:21Z", "closed_at": "2016-10-14T22:11:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think this issue is a bug or a breaking compatibility change (not describing anywhere), so please response it \ud83d\ude47 \n\nI read https://github.com/aws/aws-cli/blob/develop/CONTRIBUTING.rst#reporting-issues.\n\n> A description of the problem/suggestion.\n\nOur aws s3 sync command could not work well as before, after upgrading awscli from 1.11.3(any previous ones) to 1.11.4.\n\n> The specific AWS CLI commands you are running. Please include debug logs for these commands by appending the --debug option to each command. Be sure to remove any sensitive information from the debug logs.\n\n```\n# Contents between the bucket and the local are different.\n$ aws s3 ls s3://mtburn-test # empty\n$ ll /tmp/test\ntotal 0\n0 -rw-r--r--  1 great  wheel     0B 10 14 17:00 will_be_delete.txt\n\n# Expected to delete a local file, but failed\n$ aws s3 sync \\\ns3://mtburn-test \\\n/tmp/test \\\n--delete; echo $?\ndelete failed: s3:///tmp/test/will_be_delete.txt Parameter validation failed:\nInvalid bucket name \"\": Bucket name must match the regex \"^[a-zA-Z0-9.\\-_]{1,255}$\"\n1\n```\n\n> The AWS CLI version you are using aws --version.\n\n```\n$ aws --version\naws-cli/1.11.4 Python/2.7.9 Darwin/15.6.0 botocore/1.4.62\n```\n- To be sure, I could reproduce this issue in Ubuntu 14.04 and MacOSX 10.11.6.\n\n> The first thing an AWS CLI developer will do is try to reproduce the issue you are seeing, so try to reduce your issue to the smallest possible set of steps that demonstrate the issue. This will lead to quicker resolution of your issue.\n\n```\n# Create a test bucket\n$ aws s3 mb s3://mtburn-test\nmake_bucket: mtburn-test\n\n# Create a local file\n$ touch /tmp/test/will_be_delete.txt\n$ ll /tmp/test/\ntotal 0\n0 -rw-r--r--  1 great  wheel     0B 10 14 17:00 will_be_delete.txt\n\n# Install v1.11.3\n$ sudo pip install awscli==1.11.3\n...\n$ aws s3 sync \\\ns3://mtburn-test \\\n/tmp/test \\\n--delete; echo $?\ndelete: ../../../tmp/test/will_be_delete.txt\n0\n\n# Install v1.11.4\n$ sudo pip install awscli==1.11.4\n...\n$ touch /tmp/test/will_be_delete.txt\n$ aws s3 sync \\\ns3://mtburn-test \\\n/tmp/test \\\n--delete; echo $?\ndelete failed: s3:///tmp/test/will_be_delete.txt Parameter validation failed:\nInvalid bucket name \"\": Bucket name must match the regex \"^[a-zA-Z0-9.\\-_]{1,255}$\"\n1\n$ ll /tmp/test/\ntotal 0\n0 -rw-r--r--  1 great  wheel     0B 10 14 17:00 will_be_delete.txt\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2233/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2217", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2217/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2217/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2217/events", "html_url": "https://github.com/aws/aws-cli/issues/2217", "id": 180671531, "node_id": "MDU6SXNzdWUxODA2NzE1MzE=", "number": 2217, "title": "pipe output of aws s3 cp fails", "user": {"login": "daanemanz", "id": 1002090, "node_id": "MDQ6VXNlcjEwMDIwOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1002090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daanemanz", "html_url": "https://github.com/daanemanz", "followers_url": "https://api.github.com/users/daanemanz/followers", "following_url": "https://api.github.com/users/daanemanz/following{/other_user}", "gists_url": "https://api.github.com/users/daanemanz/gists{/gist_id}", "starred_url": "https://api.github.com/users/daanemanz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daanemanz/subscriptions", "organizations_url": "https://api.github.com/users/daanemanz/orgs", "repos_url": "https://api.github.com/users/daanemanz/repos", "events_url": "https://api.github.com/users/daanemanz/events{/privacy}", "received_events_url": "https://api.github.com/users/daanemanz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 334572444, "node_id": "MDU6TGFiZWwzMzQ1NzI0NDQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3transfer", "name": "s3transfer", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-10-03T15:32:55Z", "updated_at": "2018-12-11T16:55:05Z", "closed_at": "2016-10-10T21:50:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to pipe a file to `openssl` we encountered the following issue when using `awscli 1.11.0`\n\n```\naws s3 cp s3://path/to/encrypted/file >(openssl aes-256-cbc -a -d -out decrypted_file -pass file:/path/to/password/file )\ndownload failed: s3://path/to/encrypted/file to ../dev/fd/63 [Errno 29] Illegal seek\nerror reading input file\n```\n\nOn version `1.10.67` we did not encounter this failure, and the encrypted file was decrypted just fine.\n\nRelevant system info:\n\n```\n# uname -a\nLinux ip-10-10-5-219 3.13.0-36-generic #63-Ubuntu SMP Wed Sep 3 21:30:07 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\n```\n\n```\n# openssl version\nOpenSSL 1.0.1f 6 Jan 2014\n```\n\n```\n# aws --version\naws-cli/1.11.0 Python/2.7.6 Linux/3.13.0-36-generic botocore/1.4.58\n```\n\n**Workaround**: downgrade `awscli` to `1.10.67`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2187", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2187/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2187/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2187/events", "html_url": "https://github.com/aws/aws-cli/issues/2187", "id": 178300562, "node_id": "MDU6SXNzdWUxNzgzMDA1NjI=", "number": 2187, "title": "error in stdout not stderr", "user": {"login": "andreineculau", "id": 708161, "node_id": "MDQ6VXNlcjcwODE2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/708161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreineculau", "html_url": "https://github.com/andreineculau", "followers_url": "https://api.github.com/users/andreineculau/followers", "following_url": "https://api.github.com/users/andreineculau/following{/other_user}", "gists_url": "https://api.github.com/users/andreineculau/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreineculau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreineculau/subscriptions", "organizations_url": "https://api.github.com/users/andreineculau/orgs", "repos_url": "https://api.github.com/users/andreineculau/repos", "events_url": "https://api.github.com/users/andreineculau/events{/privacy}", "received_events_url": "https://api.github.com/users/andreineculau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-09-21T09:58:29Z", "updated_at": "2016-10-06T20:09:01Z", "closed_at": "2016-10-06T20:09:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have discovered that a failing \"aws s3 cp\" for instance that ends up in error \"Transfer failed: An error occurred (404)..\" outputs that line in stdout, not stderr. The same might apply to other aws-cli commands.\n\nContext: `aws s3 cp s3://... -` i.e. outputting the object to stdout\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2187/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2092", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2092/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2092/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2092/events", "html_url": "https://github.com/aws/aws-cli/issues/2092", "id": 170253649, "node_id": "MDU6SXNzdWUxNzAyNTM2NDk=", "number": 2092, "title": "CodeCommit credential helper does not work on Python 3 in Windows", "user": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 422173418, "node_id": "MDU6TGFiZWw0MjIxNzM0MTg=", "url": "https://api.github.com/repos/aws/aws-cli/labels/codecommit", "name": "codecommit", "color": "ff5500", "default": false, "description": ""}, {"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-09T19:45:15Z", "updated_at": "2020-05-06T21:04:40Z", "closed_at": "2020-05-06T21:04:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Git wants unix style line endings from its credential helpers, but Python converts unix style line endings to windows-style line endings when writing strings to stdout. There is currently a fix for that behavior for python 2, which is to use `msvcrt.setmode` to set the line ending translation mode to `O_Binary`. That fix no longer works in python 3, so the cli will need to write to `stdout.buffer`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2092/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2092/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2048", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2048/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2048/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2048/events", "html_url": "https://github.com/aws/aws-cli/issues/2048", "id": 163200374, "node_id": "MDU6SXNzdWUxNjMyMDAzNzQ=", "number": 2048, "title": "aws cli 1.10.43 has a problem with emr create-default-roles. Error: 'ClientError' object has no attribute 'error_message'", "user": {"login": "gwsu2008", "id": 11874389, "node_id": "MDQ6VXNlcjExODc0Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/11874389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gwsu2008", "html_url": "https://github.com/gwsu2008", "followers_url": "https://api.github.com/users/gwsu2008/followers", "following_url": "https://api.github.com/users/gwsu2008/following{/other_user}", "gists_url": "https://api.github.com/users/gwsu2008/gists{/gist_id}", "starred_url": "https://api.github.com/users/gwsu2008/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gwsu2008/subscriptions", "organizations_url": "https://api.github.com/users/gwsu2008/orgs", "repos_url": "https://api.github.com/users/gwsu2008/repos", "events_url": "https://api.github.com/users/gwsu2008/events{/privacy}", "received_events_url": "https://api.github.com/users/gwsu2008/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-06-30T15:51:56Z", "updated_at": "2016-07-22T20:42:36Z", "closed_at": "2016-07-22T20:42:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nAfter upgrading to latest aws cli 1.10.43, the command to emr create-default-roles is failing with error: 'ClientError' object has no attribute 'error_message'. The command was working in version 1.10.38.\n\ndebug logging:\n\n```\n2016-06-30 09:15:56,212 - MainThread - botocore.hooks - DEBUG - Event after-call.iam.GetRole: calling handler <function json_decode_policies at 0x1eb6140>\n2016-06-30 09:15:56,213 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 186, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 379, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/customizations/commands.py\", line 187, in __call__\n    return self._run_main(parsed_args, parsed_globals)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/customizations/emr/command.py\", line 45, in _run_main\n    return self._run_main_command(parsed_args, parsed_globals)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/customizations/emr/createdefaultroles.py\", line 151, in _run_main_command\n    if self._check_if_role_exists(role_name, parsed_globals):\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/customizations/emr/createdefaultroles.py\", line 225, in _check_if_role_exists\n    if role_not_found_msg in e.error_message:\nAttributeError: 'ClientError' object has no attribute 'error_message'\n2016-06-30 09:15:56,217 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n```\n\nThanks\n\nGuang \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2043", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2043/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2043/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2043/events", "html_url": "https://github.com/aws/aws-cli/issues/2043", "id": 162840580, "node_id": "MDU6SXNzdWUxNjI4NDA1ODA=", "number": 2043, "title": "pip raises a pkg_resources.VersionConflict exception because colorama is 0.3.7 instead of 0.3.3", "user": {"login": "jeffsilverm", "id": 549255, "node_id": "MDQ6VXNlcjU0OTI1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/549255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeffsilverm", "html_url": "https://github.com/jeffsilverm", "followers_url": "https://api.github.com/users/jeffsilverm/followers", "following_url": "https://api.github.com/users/jeffsilverm/following{/other_user}", "gists_url": "https://api.github.com/users/jeffsilverm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeffsilverm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeffsilverm/subscriptions", "organizations_url": "https://api.github.com/users/jeffsilverm/orgs", "repos_url": "https://api.github.com/users/jeffsilverm/repos", "events_url": "https://api.github.com/users/jeffsilverm/events{/privacy}", "received_events_url": "https://api.github.com/users/jeffsilverm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-29T04:53:14Z", "updated_at": "2016-07-12T21:39:17Z", "closed_at": "2016-07-12T21:39:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to install awscli under Ubuntu 16.04 and python 3.5.1 (pip3) or python 2.7.11 (pip)  I get the VersionConflict  exception raised:\n\n```\nroot@jeff-desktop:~# pip install awscli\nCollecting awscli\n  Downloading awscli-1.10.43-py2.py3-none-any.whl (969kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 972kB 1.9MB/s \nException:\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/pip/req/req_install.py\", line 1006, in check_if_exists\n    self.satisfied_by = pkg_resources.get_distribution(str(no_marker))\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 535, in get_distribution\n    dist = get_provider(dist)\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 415, in get_provider\n    return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 695, in find\n    raise VersionConflict(dist, req)\npkg_resources.VersionConflict: (colorama 0.3.7 (/usr/lib/python3/dist-packages), Requirement.parse('colorama<=0.3.3,>=0.2.5'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/pip/basecommand.py\", line 209, in main\n    status = self.run(options, args)\n  File \"/usr/lib/python3/dist-packages/pip/commands/install.py\", line 328, in run\n    wb.build(autobuilding=True)\n  File \"/usr/lib/python3/dist-packages/pip/wheel.py\", line 748, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"/usr/lib/python3/dist-packages/pip/req/req_set.py\", line 360, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/usr/lib/python3/dist-packages/pip/req/req_set.py\", line 448, in _prepare_file\n    req_to_install, finder)\n  File \"/usr/lib/python3/dist-packages/pip/req/req_set.py\", line 387, in _check_skip_installed\n    req_to_install.check_if_exists()\n  File \"/usr/lib/python3/dist-packages/pip/req/req_install.py\", line 1011, in check_if_exists\n    self.req.project_name\nAttributeError: 'Requirement' object has no attribute 'project_name'\nYou are using pip version 8.1.1, however version 8.1.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\nroot@jeff-desktop:~# \n```\n\nI looked at colorama, it's up to 0.3.7  and it's kinda frustrating that this should crash over such a minor feature.  I got version 0.3.3 from https://pypi.python.org/pypi/colorama/0.3.3, untar'd it, ran \n`python setup.py install`.  Then I ran `pip install awscli`   and that worked properly.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2043/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2030", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2030/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2030/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2030/events", "html_url": "https://github.com/aws/aws-cli/issues/2030", "id": 161111343, "node_id": "MDU6SXNzdWUxNjExMTEzNDM=", "number": 2030, "title": "s3api list-objects-v2 does not honour `fetch-owner` parameter", "user": {"login": "quiver", "id": 266641, "node_id": "MDQ6VXNlcjI2NjY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/266641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quiver", "html_url": "https://github.com/quiver", "followers_url": "https://api.github.com/users/quiver/followers", "following_url": "https://api.github.com/users/quiver/following{/other_user}", "gists_url": "https://api.github.com/users/quiver/gists{/gist_id}", "starred_url": "https://api.github.com/users/quiver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quiver/subscriptions", "organizations_url": "https://api.github.com/users/quiver/orgs", "repos_url": "https://api.github.com/users/quiver/repos", "events_url": "https://api.github.com/users/quiver/events{/privacy}", "received_events_url": "https://api.github.com/users/quiver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289055120, "node_id": "MDU6TGFiZWwyODkwNTUxMjA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3api", "name": "s3api", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-20T03:36:53Z", "updated_at": "2016-08-01T16:08:55Z", "closed_at": "2016-08-01T16:08:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "API http://docs.aws.amazon.com/cli/latest/reference/s3api/list-objects-v2.html\n\n`s3api list-objects-v2` API has a `--fetch-owner`/`--no-fetch-owner` boolean switch and the default is `--no-fetch-owner`.\n\nIf you pass  `--fetch-owner`parameter, owner field is not included in the response body.\n\n```\n$ aws --version\naws-cli/1.10.34 Python/2.7.11 Darwin/15.5.0 botocore/1.4.24\n$ aws s3api list-objects-v2 --bucket YOURBUCKET --fetch-owner --prefix cd --debug\n...\n2016-06-20 12:23:58,863 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) (verify_ssl=True) with params: {'body': '', 'url': u'https://s3-ap-northeast-1.amazonaws.com/YOURBUCKET?list-type=2&prefix=cd&fetch-owner=True', 'headers': {'User-Agent': 'aws-cli/1.10.34 Python/2.7.11 Darwin/15.5.0 botocore/1.4.24'}, 'query_string': {u'prefix': u'cd', u'fetch-owner': True}, 'url_path': u'/YOURBUCKET?list-type=2', 'method': u'GET'}\n...\n{\n    \"Contents\": [\n        {\n            \"LastModified\": \"2016-04-09T12:12:21.000Z\", \n            \"ETag\": \"\\\"1bcb8d0f5ee0a08adf958d3c0fe78281\\\"\", \n            \"StorageClass\": \"STANDARD\", \n            \"Key\": \"cd/03.zip\", \n            \"Size\": 333\n        }\n    ]\n}\n```\n\nI think the problem is the request URL parameter `fetch-owner=True`:\n\n  https://s3-ap-northeast-1.amazonaws.com/YOURBUCKET?list-type=2&prefix=cd&fetch-owner=True'\n\nIsn't this supposed to be `fetch-owner=true`, i.e. `true` should be lowercase?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2030/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2028", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2028/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2028/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2028/events", "html_url": "https://github.com/aws/aws-cli/issues/2028", "id": 160991792, "node_id": "MDU6SXNzdWUxNjA5OTE3OTI=", "number": 2028, "title": "Configure List command shows wrong source from profile from env", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289128527, "node_id": "MDU6TGFiZWwyODkxMjg1Mjc=", "url": "https://api.github.com/repos/aws/aws-cli/labels/configuration", "name": "configuration", "color": "c7ddff", "default": false, "description": ""}, {"id": 2012159198, "node_id": "MDU6TGFiZWwyMDEyMTU5MTk4", "url": "https://api.github.com/repos/aws/aws-cli/labels/automation-exempt", "name": "automation-exempt", "color": "675ce0", "default": false, "description": "Issue will not be subject to stale-bot"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-17T23:19:27Z", "updated_at": "2021-04-28T20:54:09Z", "closed_at": "2021-04-28T20:53:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I noticed in later versions of the CLI, if I have `export AWS_DEFAULT_PROFILE=name` set, then `aws configure list` will show the profile coming from the `--profile` arg.  I tracked this down to a change in the 1.7.x versions but haven't dug into what changed:\n\n```\n~ $ env | grep AWS_\nAWS_DEFAULT_PROFILE=profile-from-env\n\n\n~ $ aws-1.7.36 configure list\n      Name                    Value             Type    Location\n      ----                    -----             ----    --------\n   profile         profile-from-env           manual    --profile\naccess_key      ****************foo      config-file\nsecret_key      ****************bar      config-file\n    region                <not set>             None    None\n~ $ aws-1.7.35 configure list\n      Name                    Value             Type    Location\n      ----                    -----             ----    --------\n   profile         profile-from-env              env    ['AWS_DEFAULT_PROFILE', 'AWS_PROFILE']\naccess_key      ****************foo      config-file\nsecret_key      ****************bar      config-file\n    region                <not set>             None    None\n~ $ aws-1.7.34 configure list\n      Name                    Value             Type    Location\n      ----                    -----             ----    --------\n   profile         profile-from-env              env    AWS_DEFAULT_PROFILE\naccess_key      ****************foo      config-file\nsecret_key      ****************bar      config-file\n    region                <not set>             None    None\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2028/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/2001", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/2001/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/2001/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/2001/events", "html_url": "https://github.com/aws/aws-cli/issues/2001", "id": 158450715, "node_id": "MDU6SXNzdWUxNTg0NTA3MTU=", "number": 2001, "title": "Query Kinesis stream ARN in text mode", "user": {"login": "majidfn", "id": 1800401, "node_id": "MDQ6VXNlcjE4MDA0MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1800401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majidfn", "html_url": "https://github.com/majidfn", "followers_url": "https://api.github.com/users/majidfn/followers", "following_url": "https://api.github.com/users/majidfn/following{/other_user}", "gists_url": "https://api.github.com/users/majidfn/gists{/gist_id}", "starred_url": "https://api.github.com/users/majidfn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majidfn/subscriptions", "organizations_url": "https://api.github.com/users/majidfn/orgs", "repos_url": "https://api.github.com/users/majidfn/repos", "events_url": "https://api.github.com/users/majidfn/events{/privacy}", "received_events_url": "https://api.github.com/users/majidfn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2493108664, "node_id": "MDU6TGFiZWwyNDkzMTA4NjY0", "url": "https://api.github.com/repos/aws/aws-cli/labels/kinesis", "name": "kinesis", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-06-03T20:42:33Z", "updated_at": "2021-04-08T08:07:24Z", "closed_at": "2021-04-08T00:09:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nThe following command gives back the Stream ARN: \n\n```\n$ aws kinesis describe-stream --stream-name $STREAM_NAME --query \"StreamDescription.StreamARN\"\n\"arn:aws:kinesis:us-east-1:44444444444:stream/something_something-something\"\n```\n\nBut if you specify output to be `text` (to avoid the double quoted returned result), it gives back nothing.\n\n```\n$ aws kinesis describe-stream --stream-name $STREAM_NAME --query \"StreamDescription.StreamARN\" --output text\nNone\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/2001/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/2001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1993", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1993/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1993/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1993/events", "html_url": "https://github.com/aws/aws-cli/issues/1993", "id": 157304167, "node_id": "MDU6SXNzdWUxNTczMDQxNjc=", "number": 1993, "title": "Using `--no-paginate` with `aws cloudformation describe-stacks` throws error", "user": {"login": "jszwedko", "id": 316880, "node_id": "MDQ6VXNlcjMxNjg4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/316880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jszwedko", "html_url": "https://github.com/jszwedko", "followers_url": "https://api.github.com/users/jszwedko/followers", "following_url": "https://api.github.com/users/jszwedko/following{/other_user}", "gists_url": "https://api.github.com/users/jszwedko/gists{/gist_id}", "starred_url": "https://api.github.com/users/jszwedko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jszwedko/subscriptions", "organizations_url": "https://api.github.com/users/jszwedko/orgs", "repos_url": "https://api.github.com/users/jszwedko/repos", "events_url": "https://api.github.com/users/jszwedko/events{/privacy}", "received_events_url": "https://api.github.com/users/jszwedko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-05-27T22:57:00Z", "updated_at": "2016-06-06T16:49:25Z", "closed_at": "2016-06-06T16:49:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: `aws-cli/1.10.34 Python/2.7.9 Linux/3.16.0-4-amd64 botocore/1.4.24`\n\nWhen I attempt to run `aws cloudformation describe-stacks --no-paginate --region us-west-2` I receive:\n\n```\n'Namespace' object has no attribute 'page_size'\n```\n\nThis does not happen if I do not use the `--no-paginate` flag.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1993/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1993/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1976", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1976/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1976/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1976/events", "html_url": "https://github.com/aws/aws-cli/issues/1976", "id": 155402268, "node_id": "MDU6SXNzdWUxNTU0MDIyNjg=", "number": 1976, "title": "Version 1.10.29 breaks EC2 searches with tags (by specifying MaxResults)", "user": {"login": "hashbrowncipher", "id": 124699, "node_id": "MDQ6VXNlcjEyNDY5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/124699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hashbrowncipher", "html_url": "https://github.com/hashbrowncipher", "followers_url": "https://api.github.com/users/hashbrowncipher/followers", "following_url": "https://api.github.com/users/hashbrowncipher/following{/other_user}", "gists_url": "https://api.github.com/users/hashbrowncipher/gists{/gist_id}", "starred_url": "https://api.github.com/users/hashbrowncipher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hashbrowncipher/subscriptions", "organizations_url": "https://api.github.com/users/hashbrowncipher/orgs", "repos_url": "https://api.github.com/users/hashbrowncipher/repos", "events_url": "https://api.github.com/users/hashbrowncipher/events{/privacy}", "received_events_url": "https://api.github.com/users/hashbrowncipher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-05-18T02:11:25Z", "updated_at": "2016-09-26T20:29:31Z", "closed_at": "2016-05-18T08:41:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following works in version 1.10.28:\n\n```\naws ec2 describe-instances --region=us-west-1 --filters \"Name=tag:aws:autoscaling:groupName,Values=consul\"\n```\n\nIt does not work in 1.10.29. Instead, this result is returned:\n\n```\nA client error (InvalidParameterCombination) occurred when calling the DescribeInstances operation: The parameter 'maxResults' cannot be used with tag filters in the parameter 'filterSet'. Remove either the tag filters from 'filterSet' or the 'maxResults' parameter and try again.\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1967", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1967/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1967/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1967/events", "html_url": "https://github.com/aws/aws-cli/issues/1967", "id": 153754610, "node_id": "MDU6SXNzdWUxNTM3NTQ2MTA=", "number": 1967, "title": "completer doesn't work with file redirection in bash", "user": {"login": "qfissler", "id": 16902035, "node_id": "MDQ6VXNlcjE2OTAyMDM1", "avatar_url": "https://avatars.githubusercontent.com/u/16902035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qfissler", "html_url": "https://github.com/qfissler", "followers_url": "https://api.github.com/users/qfissler/followers", "following_url": "https://api.github.com/users/qfissler/following{/other_user}", "gists_url": "https://api.github.com/users/qfissler/gists{/gist_id}", "starred_url": "https://api.github.com/users/qfissler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qfissler/subscriptions", "organizations_url": "https://api.github.com/users/qfissler/orgs", "repos_url": "https://api.github.com/users/qfissler/repos", "events_url": "https://api.github.com/users/qfissler/events{/privacy}", "received_events_url": "https://api.github.com/users/qfissler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 309837655, "node_id": "MDU6TGFiZWwzMDk4Mzc2NTU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/autocomplete", "name": "autocomplete", "color": "fad8c7", "default": false, "description": null}, {"id": 2012159198, "node_id": "MDU6TGFiZWwyMDEyMTU5MTk4", "url": "https://api.github.com/repos/aws/aws-cli/labels/automation-exempt", "name": "automation-exempt", "color": "675ce0", "default": false, "description": "Issue will not be subject to stale-bot"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-05-09T11:17:52Z", "updated_at": "2021-04-08T08:37:20Z", "closed_at": "2021-04-08T00:28:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "`aws ec2 describe-instances > <TAB><TAB>` \n\ndoesn't let me choose a file.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1929", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1929/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1929/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1929/events", "html_url": "https://github.com/aws/aws-cli/issues/1929", "id": 149647605, "node_id": "MDU6SXNzdWUxNDk2NDc2MDU=", "number": 1929, "title": "\"EnhancedMonitoring\" not displayed for `kinesis describe-stream` command output", "user": {"login": "quiver", "id": 266641, "node_id": "MDQ6VXNlcjI2NjY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/266641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quiver", "html_url": "https://github.com/quiver", "followers_url": "https://api.github.com/users/quiver/followers", "following_url": "https://api.github.com/users/quiver/following{/other_user}", "gists_url": "https://api.github.com/users/quiver/gists{/gist_id}", "starred_url": "https://api.github.com/users/quiver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quiver/subscriptions", "organizations_url": "https://api.github.com/users/quiver/orgs", "repos_url": "https://api.github.com/users/quiver/repos", "events_url": "https://api.github.com/users/quiver/events{/privacy}", "received_events_url": "https://api.github.com/users/quiver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-20T03:30:16Z", "updated_at": "2016-04-22T20:19:42Z", "closed_at": "2016-04-22T20:19:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is related new feature, shard level metrics.\n\nhttps://aws.amazon.com/blogs/aws/amazon-kinesis-update-amazon-elasticsearch-service-integration-shard-level-metrics-time-based-iterators/\n\nFor `describe-stream` API calls, `EnhancedMonitoring` is included in the response body, but CLI output does not include them.\nSee the following sessions:\n\n```\n$ aws --version\naws-cli/1.10.21 Python/2.7.10 Linux/4.4.5-15.26.amzn1.x86_64 botocore/1.4.12\n$ aws kinesis create-stream --stream-name foo --shard-count 1\n$ aws kinesis describe-stream --stream-name foo --debug\n...\n2016-04-20 03:24:40,538 - MainThread - botocore.parsers - DEBUG - Response body:\n{\"StreamDescription\":{\"EnhancedMonitoring\":[{\"ShardLevelMetrics\":[]}],\"HasMoreShards\":false,\"RetentionPeriodHours\":24,\"Shards\":[{\"HashKeyRange\":{\"EndingHashKey\":\"340282366920938463463374607431768211455\",\"StartingHashKey\":\"0\"},\"SequenceNumberRange\":{\"StartingSequenceNumber\":\"49561203237286696357221491199423707957921949335917953026\"},\"ShardId\":\"shardId-000000000000\"}],\"StreamARN\":\"arn:aws:kinesis:ap-northeast-1:123456789012:stream/foo\",\"StreamName\":\"foo\",\"StreamStatus\":\"ACTIVE\"}}\n...\n2016-04-20 03:24:40,540 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n{\n    \"StreamDescription\": {\n        \"RetentionPeriodHours\": 24,\n        \"StreamStatus\": \"ACTIVE\",\n        \"StreamName\": \"foo\",\n        \"StreamARN\": \"arn:aws:kinesis:ap-northeast-1:123456789012:stream/foo\",\n        \"Shards\": [\n            {\n                \"ShardId\": \"shardId-000000000000\",\n                \"HashKeyRange\": {\n                    \"EndingHashKey\": \"340282366920938463463374607431768211455\",\n                    \"StartingHashKey\": \"0\"\n                },\n                \"SequenceNumberRange\": {\n                    \"StartingSequenceNumber\": \"49561203237286696357221491199423707957921949335917953026\"\n                }\n            }\n        ]\n    }\n}\n$ aws kinesis enable-enhanced-monitoring --stream-name foo --shard-level-metrics ALL\n{\n    \"StreamName\": \"foo\",\n    \"CurrentShardLevelMetrics\": [],\n    \"DesiredShardLevelMetrics\": [\n        \"IncomingBytes\",\n        \"OutgoingRecords\",\n        \"IteratorAgeMilliseconds\",\n        \"IncomingRecords\",\n        \"ReadProvisionedThroughputExceeded\",\n        \"WriteProvisionedThroughputExceeded\",\n        \"OutgoingBytes\"\n    ]\n}\n\n$ aws kinesis describe-stream --stream-name foo --debug\n...\n2016-04-20 03:36:21,892 - MainThread - botocore.parsers - DEBUG - Response body:\n{\"StreamDescription\":{\"EnhancedMonitoring\":[{\"ShardLevelMetrics\":[\"IncomingBytes\",\"OutgoingRecords\",\"IteratorAgeMilliseconds\",\"IncomingRecords\",\"ReadProvisionedThroughputExceeded\",\"WriteProvisionedThroughputExceeded\",\"OutgoingBytes\"]}],\"HasMoreShards\":false,\"RetentionPeriodHours\":24,\"Shards\":[{\"HashKeyRange\":{\"EndingHashKey\":\"340282366920938463463374607431768211455\",\"StartingHashKey\":\"0\"},\"SequenceNumberRange\":{\"StartingSequenceNumber\":\"49561203237286696357221491199423707957921949335917953026\"},\"ShardId\":\"shardId-000000000000\"}],\"StreamARN\":\"arn:aws:kinesis:ap-northeast-1:123456789012:stream/foo\",\"StreamName\":\"foo\",\"StreamStatus\":\"ACTIVE\"}}\n...\n2016-04-20 03:36:21,894 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n{\n    \"StreamDescription\": {\n        \"RetentionPeriodHours\": 24,\n        \"StreamStatus\": \"ACTIVE\",\n        \"StreamName\": \"foo\",\n        \"StreamARN\": \"arn:aws:kinesis:ap-northeast-1:123456789012:stream/foo\",\n        \"Shards\": [\n            {\n                \"ShardId\": \"shardId-000000000000\",\n                \"HashKeyRange\": {\n                    \"EndingHashKey\": \"340282366920938463463374607431768211455\",\n                    \"StartingHashKey\": \"0\"\n                },\n                \"SequenceNumberRange\": {\n                    \"StartingSequenceNumber\": \"49561203237286696357221491199423707957921949335917953026\"\n                }\n            }\n        ]\n    }\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1929/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1925", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1925/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1925/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1925/events", "html_url": "https://github.com/aws/aws-cli/issues/1925", "id": 149489893, "node_id": "MDU6SXNzdWUxNDk0ODk4OTM=", "number": 1925, "title": "Not properly outputting in MINGW", "user": {"login": "stramel", "id": 855184, "node_id": "MDQ6VXNlcjg1NTE4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/855184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stramel", "html_url": "https://github.com/stramel", "followers_url": "https://api.github.com/users/stramel/followers", "following_url": "https://api.github.com/users/stramel/following{/other_user}", "gists_url": "https://api.github.com/users/stramel/gists{/gist_id}", "starred_url": "https://api.github.com/users/stramel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stramel/subscriptions", "organizations_url": "https://api.github.com/users/stramel/orgs", "repos_url": "https://api.github.com/users/stramel/repos", "events_url": "https://api.github.com/users/stramel/events{/privacy}", "received_events_url": "https://api.github.com/users/stramel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289130201, "node_id": "MDU6TGFiZWwyODkxMzAyMDE=", "url": "https://api.github.com/repos/aws/aws-cli/labels/windows", "name": "windows", "color": "0F81D1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-19T15:07:32Z", "updated_at": "2016-05-03T21:26:28Z", "closed_at": "2016-05-03T20:59:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "System: Windows 7 64bit\n\nsteps to reproduce:\n1. Open mingw64 (git bash) \n2. Run `aws configure`\n3. Observe no output\n4. Hit enter 4 times\n5. Observe output\n\nIt looks as if AWS CLI is thinking it is outputting text however it actually isn't.\n\n![image](https://cloud.githubusercontent.com/assets/855184/14644114/86f4eb30-0616-11e6-835c-21cb94db9eb4.png)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1925/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1901", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1901/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1901/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1901/events", "html_url": "https://github.com/aws/aws-cli/issues/1901", "id": 147033306, "node_id": "MDU6SXNzdWUxNDcwMzMzMDY=", "number": 1901, "title": "Doc strings for custom arguments are not being generated", "user": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-04-08T20:37:56Z", "updated_at": "2016-04-14T21:01:43Z", "closed_at": "2016-04-14T21:01:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Something seems to have broken our doc strings for custom arguments. See [cp](http://docs.aws.amazon.com/cli/latest/reference/s3/cp.html) as an example vs [wayback machine](https://web.archive.org/web/20150809022927/http://docs.aws.amazon.com/cli/latest/reference/s3/cp.html?).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1848", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1848/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1848/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1848/events", "html_url": "https://github.com/aws/aws-cli/issues/1848", "id": 140474971, "node_id": "MDU6SXNzdWUxNDA0NzQ5NzE=", "number": 1848, "title": "shorthand does not allow hash(#) in key, used by dynamodb, regression from 1.7.47", "user": {"login": "crowe1", "id": 4195833, "node_id": "MDQ6VXNlcjQxOTU4MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/4195833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crowe1", "html_url": "https://github.com/crowe1", "followers_url": "https://api.github.com/users/crowe1/followers", "following_url": "https://api.github.com/users/crowe1/following{/other_user}", "gists_url": "https://api.github.com/users/crowe1/gists{/gist_id}", "starred_url": "https://api.github.com/users/crowe1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crowe1/subscriptions", "organizations_url": "https://api.github.com/users/crowe1/orgs", "repos_url": "https://api.github.com/users/crowe1/repos", "events_url": "https://api.github.com/users/crowe1/events{/privacy}", "received_events_url": "https://api.github.com/users/crowe1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-13T10:53:45Z", "updated_at": "2016-03-14T20:45:38Z", "closed_at": "2016-03-14T20:45:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "note: this is a regression from (v1.7.47 to v1.8.0+)\n\ndynamodb placeholders have a hash(#) in their name:\nhttp://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ExpressionPlaceholders.html\n\nthis comes into play when passing in the --expression-attribute-names argument:\nhttp://docs.aws.amazon.com/cli/latest/reference/dynamodb/put-item.html\n\npreviously (v1.7.47 and earlier), this was allowed:\n`--expression-attribute-names='#k=version'`\n\nnow (v1.8.0 through v.1.10.12), it is not.\nthe error message is:\n\n> Error parsing parameter '--expression-attribute-names': Expected: '=', received: '#' for input:\n> # k=version\n> \n> ^\n\nit appears due to the code in shorthand.py (lines 164-166):\n\n```\n    def _key(self):\n        # key = 1*(alpha / %x30-39 / %x5f / %x2e)  ; [a-zA-Z0-9\\-_.]\n        valid_chars = string.ascii_letters + string.digits + '-_.'\n\n```\n\nthe valid_chars does not allow for '#'\n\npassing in the argument via json works:\n`--expression-attribute-names='{\"#k\":\"id\"}'`\n\nsteps to reproduce:\n\n```\n## create a table\naws dynamodb create-table --table-name table --key-schema AttributeName=id,KeyType=HASH --attribute-definitions AttributeName=id,AttributeType=S --provisioned-throughput ReadCapacityUnits=1,WriteCapacityUnits=1 --output json\n\n## add an item\naws dynamodb put-item --table-name table --item '{\"id\":{\"S\":\"x\"},\"version\":{\"S\":\"0\"}}' --output json\n\n## conditionally update the item using shorthand (fails)\naws dynamodb put-item --table-name table --item '{\"id\":{\"S\":\"x\"},\"version\":{\"S\":\"1\"}}' --condition-expression '#k <= :k' --expression-attribute-name '#k=version' --expression-attribute-values '{\":k\":{\"S\":\"0\"}}' --output json\n\n## conditionally update the item using json (works)\naws dynamodb put-item --table-name table --item '{\"id\":{\"S\":\"x\"},\"version\":{\"S\":\"1\"}}' --condition-expression '#k <= :k' --expression-attribute-name '{\"#k\":\"version\"}' --expression-attribute-values '{\":k\":{\"S\":\"0\"}}' --output json\n```\n\nthe simplest fix would be to add '#' to the valid_chars, however it seems that maybe it is only a valid_char for dynamodb and only when it is the first char, so i'll leave it to you to decide what is appropriate.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1848/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1842", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1842/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1842/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1842/events", "html_url": "https://github.com/aws/aws-cli/issues/1842", "id": 139754097, "node_id": "MDU6SXNzdWUxMzk3NTQwOTc=", "number": 1842, "title": "Exception thrown if uploaded file size > 5TB", "user": {"login": "Diggs", "id": 1029312, "node_id": "MDQ6VXNlcjEwMjkzMTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1029312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Diggs", "html_url": "https://github.com/Diggs", "followers_url": "https://api.github.com/users/Diggs/followers", "following_url": "https://api.github.com/users/Diggs/following{/other_user}", "gists_url": "https://api.github.com/users/Diggs/gists{/gist_id}", "starred_url": "https://api.github.com/users/Diggs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Diggs/subscriptions", "organizations_url": "https://api.github.com/users/Diggs/orgs", "repos_url": "https://api.github.com/users/Diggs/repos", "events_url": "https://api.github.com/users/Diggs/events{/privacy}", "received_events_url": "https://api.github.com/users/Diggs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-10T01:29:16Z", "updated_at": "2016-03-23T23:15:41Z", "closed_at": "2016-03-23T23:15:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "We recently hit an exception when uploading a large file that by the looks of it should instead be reported to the user as a helpful message. The exception is being raised attempting to create that helpful message.\n\nVersion: aws-cli/1.10.11 Python/2.7.9 Windows/2012Server botocore/1.4.2\n\non: create_warning() got an unexpected keyword argument 'message' \nTraceback (most recent call last): \nFile \"awscli\\customizations\\s3\\s3handler.pyc\", line 99, in call \nFile \"awscli\\customizations\\s3\\s3handler.pyc\", line 186, in _enqueue_tasks \nTypeError: create_warning() got an unexpected keyword argument 'message'\n\nLooks like it is happening here:\n\nhttps://github.com/aws/aws-cli/blob/c5fb60e1b49667d6f689bb8f8670ed4a1c01791a/awscli/customizations/s3/s3handler.py#L185\n\nI think message= should be error_message= (although I don't know Python, so could be reading it wrong.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1842/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1835", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1835/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1835/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1835/events", "html_url": "https://github.com/aws/aws-cli/issues/1835", "id": 139034515, "node_id": "MDU6SXNzdWUxMzkwMzQ1MTU=", "number": 1835, "title": "Incorrect documentation for downloading RDS logs", "user": {"login": "cbandy", "id": 106560, "node_id": "MDQ6VXNlcjEwNjU2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/106560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbandy", "html_url": "https://github.com/cbandy", "followers_url": "https://api.github.com/users/cbandy/followers", "following_url": "https://api.github.com/users/cbandy/following{/other_user}", "gists_url": "https://api.github.com/users/cbandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbandy/subscriptions", "organizations_url": "https://api.github.com/users/cbandy/orgs", "repos_url": "https://api.github.com/users/cbandy/repos", "events_url": "https://api.github.com/users/cbandy/events{/privacy}", "received_events_url": "https://api.github.com/users/cbandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-03-07T17:07:59Z", "updated_at": "2016-03-28T23:35:44Z", "closed_at": "2016-03-28T22:32:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since #1617, the documentation indicates that the following command will download an entire RDS log file. However, it errors without downloading anything.\n\n```\n$ aws --version\naws-cli/1.10.8 Python/2.7.10 Darwin/15.3.0 botocore/1.3.28\n\n$ aws rds download-db-log-file-portion --db-instance-identifier myinstance \\\n--starting-token 0 --log-file-name error/postgresql.log.2016-02-29-00 \\\n--output text\n\nBad starting token: 0\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1835/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1824", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1824/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1824/events", "html_url": "https://github.com/aws/aws-cli/issues/1824", "id": 137769657, "node_id": "MDU6SXNzdWUxMzc3Njk2NTc=", "number": 1824, "title": "Query for binary values", "user": {"login": "fakraemer", "id": 310399, "node_id": "MDQ6VXNlcjMxMDM5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/310399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fakraemer", "html_url": "https://github.com/fakraemer", "followers_url": "https://api.github.com/users/fakraemer/followers", "following_url": "https://api.github.com/users/fakraemer/following{/other_user}", "gists_url": "https://api.github.com/users/fakraemer/gists{/gist_id}", "starred_url": "https://api.github.com/users/fakraemer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fakraemer/subscriptions", "organizations_url": "https://api.github.com/users/fakraemer/orgs", "repos_url": "https://api.github.com/users/fakraemer/repos", "events_url": "https://api.github.com/users/fakraemer/events{/privacy}", "received_events_url": "https://api.github.com/users/fakraemer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 335130062, "node_id": "MDU6TGFiZWwzMzUxMzAwNjI=", "url": "https://api.github.com/repos/aws/aws-cli/labels/dynamodb", "name": "dynamodb", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-02T04:24:32Z", "updated_at": "2016-03-02T22:47:10Z", "closed_at": "2016-03-02T18:43:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I struggle to understand how I am supposed to query for binary values with the aws-cli. My sort key, `seq`, is of type binary. When I use the AWS console I can just input the base64 encoded value: [\n![selection_212](https://cloud.githubusercontent.com/assets/310399/13450497/190a28da-e08a-11e5-8e80-1ff12fb8fd5c.png)\n](url)\nI tried to write the same query with the AWS CLI (`aws-cli/1.10.9 Python/2.7.9 Linux/3.16.0-30-generic botocore/1.4.0`):\n\n```\naws dynamodb query --table-name <mytable> --key-condition-expression '#mykey = :keyval AND seq = :seqval' --expression-attribute-values '{ \":keyval\":{\"S\":\"1\"}, \":seqval\": {\"B\":\"AAAAAAAAbR4AAAAAAAAAAA==\"}}' --expression-attribute-names '{ \"#mykey\":\"key\" }'\n{\n    \"Count\": 0, \n    \"Items\": [], \n    \"ScannedCount\": 0, \n    \"ConsumedCapacity\": null\n}\n```\n\nWhen I look at the tcpdump, I can see that the binary value is base64 encoded again:\n\n```\n{\n  \"KeyConditionExpression\": \"#mykey =:keyval AND seq =:seqval\",\n  \"TableName\": \"<mytable>\",\n  \"ExpressionAttributeValues\": {\n    \":seqval\": {\n      \"B\": \"QUFBQUFBQUFiUjRBQUFBQUFBQUFBQT09\"\n    },\n    \":keyval\": {\n      \"S\": \"1\"\n    }\n  },\n  \"ExpressionAttributeNames\": {\n    \"#mykey\": \"key\"\n  }\n}\n```\n\nHow am I supposed to communicate binary values on the CLI?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1791", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1791/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1791/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1791/events", "html_url": "https://github.com/aws/aws-cli/pull/1791", "id": 132866912, "node_id": "MDExOlB1bGxSZXF1ZXN0NTg5ODE1Njc=", "number": 1791, "title": "Now aws configure set foo http://www.example.com can store the url as-is", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-02-11T01:24:37Z", "updated_at": "2016-02-18T20:24:45Z", "closed_at": "2016-02-18T20:24:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/1791", "html_url": "https://github.com/aws/aws-cli/pull/1791", "diff_url": "https://github.com/aws/aws-cli/pull/1791.diff", "patch_url": "https://github.com/aws/aws-cli/pull/1791.patch", "merged_at": "2016-02-18T20:24:41Z"}, "body": "This is not immediately needed, but it will be useful when in future we add new setting which expects a URL.\n\nWithout this fix, setting URL will cause the content of that URL be written into the config file, which typically breaks the config file too. In the config file context, this is unlikely the desired behavior, so this is probably considered as a potential bug.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1791/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1790", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1790/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1790/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1790/events", "html_url": "https://github.com/aws/aws-cli/issues/1790", "id": 132789742, "node_id": "MDU6SXNzdWUxMzI3ODk3NDI=", "number": 1790, "title": "storagegateway commands having to do with volumes fail", "user": {"login": "grimm26", "id": 127401, "node_id": "MDQ6VXNlcjEyNzQwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/127401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grimm26", "html_url": "https://github.com/grimm26", "followers_url": "https://api.github.com/users/grimm26/followers", "following_url": "https://api.github.com/users/grimm26/following{/other_user}", "gists_url": "https://api.github.com/users/grimm26/gists{/gist_id}", "starred_url": "https://api.github.com/users/grimm26/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grimm26/subscriptions", "organizations_url": "https://api.github.com/users/grimm26/orgs", "repos_url": "https://api.github.com/users/grimm26/repos", "events_url": "https://api.github.com/users/grimm26/events{/privacy}", "received_events_url": "https://api.github.com/users/grimm26/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-10T19:07:15Z", "updated_at": "2016-03-02T22:05:11Z", "closed_at": "2016-03-02T22:05:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "It can't decide whether it wants `--volume-arns` or `--volume-ar-ns`\n\n```\n% aws --version                                                                                                                                                                                           \naws-cli/1.10.1 Python/2.7.10 Darwin/15.2.0 botocore/1.3.23\n% aws storagegateway describe-stored-iscsi-volumes --volume-arns 'arn:aws:storagegateway:us-west-2:xxxxxxxxxx:gateway/sgw-xxxxxxxxxx/volume/vol-xxxxxxx'\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\nTo see help text, you can run:\n\n  aws help\n  aws <command> help\n  aws <command> <subcommand> help\naws: error: argument --volume-ar-ns is required\n% aws storagegateway describe-stored-iscsi-volumes --volume-ar-ns 'arn:aws:storagegateway:us-west-2:xxxxxxxxxx:gateway/sgw-xxxxxxx/volume/vol-xxxxxxx'                                                \nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\nTo see help text, you can run:\n\n  aws help\n  aws <command> help\n  aws <command> <subcommand> help\naws: error: argument --volume-arns is required\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1771", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1771/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1771/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1771/events", "html_url": "https://github.com/aws/aws-cli/issues/1771", "id": 131164426, "node_id": "MDU6SXNzdWUxMzExNjQ0MjY=", "number": 1771, "title": "aws s3 cp errors when \"-\" stream to stdout option is used with a prefix", "user": {"login": "davidwarshaw", "id": 10197719, "node_id": "MDQ6VXNlcjEwMTk3NzE5", "avatar_url": "https://avatars.githubusercontent.com/u/10197719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidwarshaw", "html_url": "https://github.com/davidwarshaw", "followers_url": "https://api.github.com/users/davidwarshaw/followers", "following_url": "https://api.github.com/users/davidwarshaw/following{/other_user}", "gists_url": "https://api.github.com/users/davidwarshaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidwarshaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidwarshaw/subscriptions", "organizations_url": "https://api.github.com/users/davidwarshaw/orgs", "repos_url": "https://api.github.com/users/davidwarshaw/repos", "events_url": "https://api.github.com/users/davidwarshaw/events{/privacy}", "received_events_url": "https://api.github.com/users/davidwarshaw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289130394, "node_id": "MDU6TGFiZWwyODkxMzAzOTQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3stream", "name": "s3stream", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-02-03T21:46:20Z", "updated_at": "2016-03-07T23:29:23Z", "closed_at": "2016-03-07T23:29:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "aws-cli/1.10.1 Python/2.7.6 Darwin/14.3.0 botocore/1.3.23\n\nWhen used with a prefix, \"-\" stream to stdout option errors with a 404, with or without `--recursive` flag.\n\n```\n> aws s3 ls s3://my-bucket/my-prefix --recursive\nmy-prefix/_SUCCESS\nmy-prefix/part-00000\nmy-prefix/part-00001\n...\n```\n\n```\n> aws s3 cp s3://my-bucket/my-prefix/part-00000 -\nMy data row 1\nMy data row 2\nMy data row 3\n...\n```\n\n```\n> aws s3 cp s3://my-bucket/my-prefix -\nA client error (404) occurred when calling the HeadObject operation: Not Found\n```\n\n```\n> aws s3 cp s3://my-bucket/my-prefix - --recursive\nA client error (404) occurred when calling the HeadObject operation: Not Found\n```\n\nIf this use of the option is not allowed, perhaps the documentation should be updated to reflect.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1771/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1729", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1729/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1729/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1729/events", "html_url": "https://github.com/aws/aws-cli/issues/1729", "id": 126746785, "node_id": "MDU6SXNzdWUxMjY3NDY3ODU=", "number": 1729, "title": "ssm doesn't handle longer instance ID's", "user": {"login": "jerm", "id": 442138, "node_id": "MDQ6VXNlcjQ0MjEzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/442138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jerm", "html_url": "https://github.com/jerm", "followers_url": "https://api.github.com/users/jerm/followers", "following_url": "https://api.github.com/users/jerm/following{/other_user}", "gists_url": "https://api.github.com/users/jerm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jerm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jerm/subscriptions", "organizations_url": "https://api.github.com/users/jerm/orgs", "repos_url": "https://api.github.com/users/jerm/repos", "events_url": "https://api.github.com/users/jerm/events{/privacy}", "received_events_url": "https://api.github.com/users/jerm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 311948145, "node_id": "MDU6TGFiZWwzMTE5NDgxNDU=", "url": "https://api.github.com/repos/aws/aws-cli/labels/ssm", "name": "ssm", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-01-14T20:59:23Z", "updated_at": "2017-02-09T04:47:15Z", "closed_at": "2016-01-28T23:59:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "$ aws ssm send-command --instance-ids i-065d9ed12b63cd03d --document AWS-UpdateSSMAgent\n\nParameter validation failed:\nInvalid length for parameter InstanceIds[0], value: 19, valid range: 10-10\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1729/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1715", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1715/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1715/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1715/events", "html_url": "https://github.com/aws/aws-cli/issues/1715", "id": 125961168, "node_id": "MDU6SXNzdWUxMjU5NjExNjg=", "number": 1715, "title": "`aws sqs get-queue-url` returns deprecated SQS queue url", "user": {"login": "rbroemeling", "id": 149464, "node_id": "MDQ6VXNlcjE0OTQ2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/149464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbroemeling", "html_url": "https://github.com/rbroemeling", "followers_url": "https://api.github.com/users/rbroemeling/followers", "following_url": "https://api.github.com/users/rbroemeling/following{/other_user}", "gists_url": "https://api.github.com/users/rbroemeling/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbroemeling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbroemeling/subscriptions", "organizations_url": "https://api.github.com/users/rbroemeling/orgs", "repos_url": "https://api.github.com/users/rbroemeling/repos", "events_url": "https://api.github.com/users/rbroemeling/events{/privacy}", "received_events_url": "https://api.github.com/users/rbroemeling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-01-11T14:50:49Z", "updated_at": "2019-10-11T04:11:51Z", "closed_at": "2016-01-12T22:49:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a straight repost/migration of the problem report that was originally made at https://forums.aws.amazon.com/thread.jspa?messageID=688330.\n\nWhen we fetch an SQS queue url via `aws sqs get-queue-url`, we receive a deprecated URL.\n\nTo whit:\n\n```\n$ aws sqs get-queue-url --queue-name MY_QUEUE --region us-west-2 --output text\nhttps://us-west-2.queue.amazonaws.com/MY_ACCOUNT_ID/MY_QUEUE\n```\n\nAccording to the SQS web interface, the URL for this queue is actually:\nhttps://sqs.us-west-2.amazonaws.com/MY_ACCOUNT_ID/MY_QUEUE\n\nNormally we wouldn't particularly care about this, except for that when we take the old/deprecated style queue URL (the one that is returned from the `aws sqs get-queue-url` command) and try to use it from an Amazon EC2 instance, we get the following error:\n\n```\n[Aws::SQS::Client 403 0.143666 0 retries] receive_message(max_number_of_messages:1,queue_url:\"https://us-west-2.queue.amazonaws.com/MY_ACCOUNT_ID/MY_QUEUE\",wait_time_seconds:20) Aws::SQS::Errors::SignatureDoesNotMatch Credential should be scoped to a valid region, not 'queue'.\n```\n\nSo, basically, we have the aws-cli tools spitting out an SQS queue URL that is invalid/unsable in at least some cases.\n\nWe work-around the problem by \"crafting\" our own queue url as it is currently pretty predictable, but we really think that this should be fixed with aws-cli being updated to return a correct/usable queue url. The Amazon documentation explicitly warns about crafting our own URL, but at this point we don't have a lot of reasonable options left.\n\nFor the reference that makes me claim that the queue.amazonaws.com style has been deprecated, see this thread (specifically, look for the post by joel@AWS on 25-Feb-2013): https://forums.aws.amazon.com/thread.jspa?messageID=425255\n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1715/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1684", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1684/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1684/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1684/events", "html_url": "https://github.com/aws/aws-cli/issues/1684", "id": 122832421, "node_id": "MDU6SXNzdWUxMjI4MzI0MjE=", "number": 1684, "title": "JSON Cache for AssumeRoleProvider not truncating files", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289138824, "node_id": "MDU6TGFiZWwyODkxMzg4MjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/credential-provider", "name": "credential-provider", "color": "c7ddff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2015-12-17T22:03:52Z", "updated_at": "2016-02-04T00:01:55Z", "closed_at": "2016-02-04T00:01:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When we open a file for writing, if we're reusing the same file (same cache key) we don't truncate the file before writing.  If the second JSON response is smaller it will result in extra data at the end of the JSON document.\n\nThis will trigger a json parsing error, which raises a KeyError, which causes the cred provider to retrieve a new set of temporary credentials because it thinks the file is not in the cache.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1684/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1679", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1679/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1679/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1679/events", "html_url": "https://github.com/aws/aws-cli/issues/1679", "id": 122144957, "node_id": "MDU6SXNzdWUxMjIxNDQ5NTc=", "number": 1679, "title": "HTTP 502 errors not causing exception and retry", "user": {"login": "gefair", "id": 1120445, "node_id": "MDQ6VXNlcjExMjA0NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1120445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gefair", "html_url": "https://github.com/gefair", "followers_url": "https://api.github.com/users/gefair/followers", "following_url": "https://api.github.com/users/gefair/following{/other_user}", "gists_url": "https://api.github.com/users/gefair/gists{/gist_id}", "starred_url": "https://api.github.com/users/gefair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gefair/subscriptions", "organizations_url": "https://api.github.com/users/gefair/orgs", "repos_url": "https://api.github.com/users/gefair/repos", "events_url": "https://api.github.com/users/gefair/events{/privacy}", "received_events_url": "https://api.github.com/users/gefair/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-14T22:20:34Z", "updated_at": "2016-03-24T21:06:27Z", "closed_at": "2016-03-24T21:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to use AWS CLI through a proxy.  Things are generally working.  \n\nOccasionally, this proxy will return a 502 error, which does not get translated into an exception in the call to http_session.send() from _get_response() in botocore\\endpoint.py.  Therefore, the retry mechanisms never get attempted.  \n\nIt appears that a call to http_response.raise_for_status() needs to be made immediately after the send() call.  However, even if I add that to the code, the resulting exception doesn't get re-tried for reasons I don't fully understand.  The exception ends up getting re-throw in ExceptionRaiser _check_caught_exception() in botocore\\retryhandler.py\n\nAm I doing something wrong?  Does my raise_for_status() fix make sense, and if so what additional code changes or config edit are needed so that the HTTPStatusCodeChecker causes a retry?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1671", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1671/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1671/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1671/events", "html_url": "https://github.com/aws/aws-cli/issues/1671", "id": 120997273, "node_id": "MDU6SXNzdWUxMjA5OTcyNzM=", "number": 1671, "title": "Copying between S3 regions throws signature error on specific filename", "user": {"login": "mikeedw", "id": 11356665, "node_id": "MDQ6VXNlcjExMzU2NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/11356665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeedw", "html_url": "https://github.com/mikeedw", "followers_url": "https://api.github.com/users/mikeedw/followers", "following_url": "https://api.github.com/users/mikeedw/following{/other_user}", "gists_url": "https://api.github.com/users/mikeedw/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeedw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeedw/subscriptions", "organizations_url": "https://api.github.com/users/mikeedw/orgs", "repos_url": "https://api.github.com/users/mikeedw/repos", "events_url": "https://api.github.com/users/mikeedw/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeedw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-08T12:33:22Z", "updated_at": "2016-02-27T00:51:50Z", "closed_at": "2016-02-27T00:51:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "`aws-cli/1.9.11 Python/2.7.10 Linux/4.1.10-17.31.amzn1.x86_64 botocore/1.3.11`\n\nSteps to reproduce:\n\nCreate bucket1 in eu-west-1\nCreate bucket2 in eu-central-1\nCreate a file in bucket1 called \"#test  test\" (note there are 2 spaces in the middle)\n\n`aws s3 cp \"s3://bucket1/#test  test\" s3://bucket2/ --region eu-central-1 --source-region eu-west-1`\n\nThis results in the following error:\n\n`A client error (SignatureDoesNotMatch) occurred when calling the CopyObject operation: The request signature we calculated does not match the signature you provided. Check your key and signing method`\n\nIf you remove the \"#\" and/or the extra space the command works.\n\nI tried setting the default S3 signature version in the config but this had no effect.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1645", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1645/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1645/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1645/events", "html_url": "https://github.com/aws/aws-cli/issues/1645", "id": 117232755, "node_id": "MDU6SXNzdWUxMTcyMzI3NTU=", "number": 1645, "title": "S3 command fails silently when copying large file to location without permission", "user": {"login": "phss", "id": 6550, "node_id": "MDQ6VXNlcjY1NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/6550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phss", "html_url": "https://github.com/phss", "followers_url": "https://api.github.com/users/phss/followers", "following_url": "https://api.github.com/users/phss/following{/other_user}", "gists_url": "https://api.github.com/users/phss/gists{/gist_id}", "starred_url": "https://api.github.com/users/phss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phss/subscriptions", "organizations_url": "https://api.github.com/users/phss/orgs", "repos_url": "https://api.github.com/users/phss/repos", "events_url": "https://api.github.com/users/phss/events{/privacy}", "received_events_url": "https://api.github.com/users/phss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-11-16T22:25:10Z", "updated_at": "2015-11-18T02:16:30Z", "closed_at": "2015-11-18T02:16:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This only happens when copying files larger than a certain size, but not sure what is the threshold. For smaller files, when copying to a directory I don't have permission, I correctly see the permission denied error and the command exits with status 1. But for large files the command just stops, without printing to the output and the exit status is 0.\n\nSteps to reproduce:\n\n```\nmkdir access-denied\nsudo chown root:wheel access-denied/\naws s3 cp s3://some-bucket/large-file.gz access-denied/\n# Result: nothing in the output and exit code is 0\n# Expected: exit code of 1 and output showing premission denied\n```\n\nLooking at the code, it seems the S3 copy command behaves differently depending on the size of the file being copied. For smaller files it seem to just download the file in a single thread. But for larger files it starts multiple threads, each downloading parts of the file. The single threaded process correctly output the error, but the multi-threaded doesn't.\n\nI suspect this might affect other S3 commands as well.\n\nPull request to follow.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1615", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1615/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1615/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1615/events", "html_url": "https://github.com/aws/aws-cli/issues/1615", "id": 114885408, "node_id": "MDU6SXNzdWUxMTQ4ODU0MDg=", "number": 1615, "title": "Elasticsearch Service `--advanced-options` Parsing Broken", "user": {"login": "bsandrow", "id": 72231, "node_id": "MDQ6VXNlcjcyMjMx", "avatar_url": "https://avatars.githubusercontent.com/u/72231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bsandrow", "html_url": "https://github.com/bsandrow", "followers_url": "https://api.github.com/users/bsandrow/followers", "following_url": "https://api.github.com/users/bsandrow/following{/other_user}", "gists_url": "https://api.github.com/users/bsandrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/bsandrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bsandrow/subscriptions", "organizations_url": "https://api.github.com/users/bsandrow/orgs", "repos_url": "https://api.github.com/users/bsandrow/repos", "events_url": "https://api.github.com/users/bsandrow/events{/privacy}", "received_events_url": "https://api.github.com/users/bsandrow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-03T18:58:21Z", "updated_at": "2016-05-18T00:14:56Z", "closed_at": "2015-11-06T23:21:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Per the documentation, I should be able to run this:\n\n``` console\n$ aws es update-elasticsearch-domain-config --domain-name mylogs --region us-east-1 --advanced-options indices.fielddata.cache.size=35\n```\n\nWhat I get is this:\n\n``` console\n$ aws es update-elasticsearch-domain-config --domain-name mylogs --region us-east-1 --advanced-options indices.fielddata.cache.size=35\nError parsing parameter '--advanced-options': Expected: '=', received: '.' for input:\nindices.fielddata.cache.size=35\n```\n\nRight now, setting Advanced Options via the CLI only works if you use the `--cli-input-json` option (e.g.):\n\n``` console\n$ aws es update-elasticsearch-domain-config --domain-name mylogs --region us-east-1 --cli-input-json '{\"AdvancedOptions\": {\"indices.fielddata.cache.size\": \"35\"}}'\n```\n\nAlso, the documentation says that I should be pass `--advanced-options` like so:\n\n```\n--advanced-options indices.fielddata.cache.size=35 rest.action.multi.allow_explicit=false\n```\n\nBut adding the second option (separated by a space) results in this error:\n\n```\nUnknown options: rest.action.multi.allow_explicit=false\n```\n\n(Running Version: `aws-cli/1.8.12 Python/2.7.10 Darwin/15.0.0`)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1614", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1614/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1614/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1614/events", "html_url": "https://github.com/aws/aws-cli/issues/1614", "id": 114749732, "node_id": "MDU6SXNzdWUxMTQ3NDk3MzI=", "number": 1614, "title": "sync command get fails : timestamp for one file is 'out of range' ", "user": {"login": "dduleep", "id": 14990589, "node_id": "MDQ6VXNlcjE0OTkwNTg5", "avatar_url": "https://avatars.githubusercontent.com/u/14990589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dduleep", "html_url": "https://github.com/dduleep", "followers_url": "https://api.github.com/users/dduleep/followers", "following_url": "https://api.github.com/users/dduleep/following{/other_user}", "gists_url": "https://api.github.com/users/dduleep/gists{/gist_id}", "starred_url": "https://api.github.com/users/dduleep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dduleep/subscriptions", "organizations_url": "https://api.github.com/users/dduleep/orgs", "repos_url": "https://api.github.com/users/dduleep/repos", "events_url": "https://api.github.com/users/dduleep/events{/privacy}", "received_events_url": "https://api.github.com/users/dduleep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-03T06:11:24Z", "updated_at": "2015-11-04T20:44:00Z", "closed_at": "2015-11-04T20:43:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "In aws 1.9.1 in the windows environment stop script if any of files has invalided \"modified date\" \nThis is image i try to upload \n\n![image](https://cloud.githubusercontent.com/assets/14990589/10902098/1906ef50-820a-11e5-9bc4-cb822c4c2856.png)\n\n```\naws s3 sync C:\\Users\\Desktop\\test\\fitur09.jpg s3://mybucket\n```\n\nonce i try above command \nthat gave to me error has \n\n```\nCould not retrieve file stat of \"C:\\Users\\Desktop\\test\\fitur09.jpg\"\n: timestamp out of range for platform localtime()/gmtime() function\nCompleted 1 part(s) with ... file(s) remaining\n```\n\n```\n2015-11-02 17:48:23,687 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.9.2 Python/2.7.9 Windows/7 botocore/1.3.2\n2015-11-02 17:48:23,687 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'sync', 'D:\\\\Users\\\\myuser\\\\Desktop\\\\SES\\\\', 's3://duleeptest', '--debug']\n2015-11-02 17:48:23,687 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x027ED530>\n2015-11-02 17:48:23,687 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x027CF7F0>\n2015-11-02 17:48:23,688 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\n2015-11-02 17:48:23,688 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x027CFDB0>\n2015-11-02 17:48:23,688 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,688 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sync: calling handler <function register_sync_strategies at 0x02608F70>\n2015-11-02 17:48:23,688 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sync: calling handler <function add_waiters at 0x027CFDB0>\n2015-11-02 17:48:23,688 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method SizeOnlySync.add_sync_argument of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x02A57850>>\n2015-11-02 17:48:23,688 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method ExactTimestampsSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x02A57810>>\n2015-11-02 17:48:23,688 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method DeleteSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x02A576D0>>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.grants: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-language: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.page-size: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.exact-timestamps: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.paths: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.source-region: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-encoding: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-disposition: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.cache-control: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.dryrun: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,690 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.expires: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-type: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.only-show-errors: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.size-only: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.quiet: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.acl: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.storage-class: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.website-redirect: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.follow-symlinks: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.delete: calling handler <function uri_param at 0x024CF1B0>\n2015-11-02 17:48:23,691 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthand object at 0x0144E270>\n2015-11-02 17:48:23,693 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2015-11-02 17:48:23,693 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2015-11-02 17:48:23,693 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2015-11-02 17:48:23,693 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\n2015-11-02 17:48:23,710 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3\n2015-11-02 17:48:23,711 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x02307BF0>\n2015-11-02 17:48:23,711 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x022F74F0>\n2015-11-02 17:48:23,736 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\n2015-11-02 17:48:23,736 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3\n2015-11-02 17:48:23,739 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x02307BF0>\n2015-11-02 17:48:23,739 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x022F74F0>\n2015-11-02 17:48:23,750 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\n2015-11-02 17:48:23,750 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3\n2015-11-02 17:48:23,750 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x02307BF0>\n2015-11-02 17:48:23,750 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x022F74F0>\n2015-11-02 17:48:23,756 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\n2015-11-02 17:48:23,757 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\n2015-11-02 17:48:23,757 - MainThread - awscli.customizations.s3.executor - DEBUG - Using max queue size for s3 tasks of: 1000\n2015-11-02 17:48:23,757 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\n2015-11-02 17:48:23,757 - MainThread - awscli.customizations.s3.executor - DEBUG - Using max queue size for s3 tasks of: 2\n2015-11-02 17:48:23,757 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method SizeOnlySync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x02A57850>>\n2015-11-02 17:48:23,757 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method ExactTimestampsSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x02A57810>>\n2015-11-02 17:48:23,759 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method DeleteSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x02A576D0>>\n2015-11-02 17:48:23,759 - MainThread - awscli.customizations.s3.executor - DEBUG - Using a threadpool size of: 10\n2015-11-02 17:48:23,763 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function validate_bucket_name at 0x02313FB0>\n2015-11-02 17:48:23,763 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <function add_expect_header at 0x0231A1B0>\n2015-11-02 17:48:23,763 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x03567350> (verify_ssl=True) with params: {'body': '', 'url': u'https://s3-us-west-2.amazonaws.com/duleeptest?prefix=&encoding-type=url', 'headers': {'User-Agent': 'aws-cli/1.9.2 Python/2.7.9 Windows/7 botocore/1.3.2'}, 'query_string': {u'prefix': u'', u'encoding-type': 'url'}, 'url_path': u'/duleeptest', 'method': u'GET'}\n2015-11-02 17:48:23,763 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjects: calling handler <bound method S3._sign_request of <botocore.client.S3 object at 0x03567E90>>\n2015-11-02 17:48:23,763 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjects: calling handler <function fix_s3_host at 0x02034170>\n2015-11-02 17:48:23,763 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3-us-west-2.amazonaws.com/duleeptest?prefix=&encoding-type=url\n2015-11-02 17:48:23,765 - MainThread - botocore.utils - DEBUG - URI updated to: https://duleeptest.s3.amazonaws.com/?prefix=&encoding-type=url\n2015-11-02 17:48:23,765 - MainThread - botocore.auth - DEBUG - Calculating signature using hmacv1 auth.\n2015-11-02 17:48:23,765 - MainThread - botocore.auth - DEBUG - HTTP request method: GET\n2015-11-02 17:48:23,765 - MainThread - botocore.auth - DEBUG - StringToSign:\nGET\n\n\nMon, 02 Nov 2015 14:48:23 GMT\n/duleeptest/\n2015-11-02 17:48:23,766 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [GET]>\n2015-11-02 17:48:23,766 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): duleeptest.s3.amazonaws.com\n2015-11-02 17:48:26,624 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"GET /?prefix=&encoding-type=url HTTP/1.1\" 200 None\n2015-11-02 17:48:27,174 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-bucket-region': 'us-west-2', 'x-amz-id-2': 'e7NQtH5SkwiyfDKCLCti8OIyHJI/dfVdSEfqa6Vy6w+OvEbCUEKhH+9izKQWs5S+uvq+jjaD1ts=', 'server': 'AmazonS3', 'transfer-encoding': 'chunked', 'x-amz-request-id': '1A31EC4516A24354', 'date': 'Mon, 02 Nov 2015 14:48:27 GMT', 'content-type': 'application/xml'}\n2015-11-02 17:48:27,174 - MainThread - botocore.parsers - DEBUG - Response body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ListBucketResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Name>duleeptest</Name><Prefix></Prefix><Marker></Marker><MaxKeys>1000</MaxKeys><EncodingType>url</EncodingType><IsTruncated>false</IsTruncated><Contents><Key>abc.txt</Key><LastModified>2015-11-02T14:38:28.000Z</LastModified><ETag>&quot;ef86dfc8a37b0348ea2431ab55e1428c&quot;</ETag><Size>213</Size><Owner><ID>8dbdaad5c56f21f0daca66ca4dbb36dc80db6d671a9539ea5103103ac2774df6</ID><DisplayName>gvarughese</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-10-26-02-27-37-D6E399A4D2E9FA64</Key><LastModified>2015-10-26T02:27:39.000Z</LastModified><ETag>&quot;18fb7cb303aaa24301e529e3bd038368&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-17-36-4CACF04F20878275</Key><LastModified>2015-11-02T05:17:37.000Z</LastModified><ETag>&quot;b7598e16d0af1a7dbca65dcfa9101c10&quot;</ETag><Size>8099</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-17-57-FBB77DDAD1FF01BB</Key><LastModified>2015-11-02T05:17:58.000Z</LastModified><ETag>&quot;e160431e651a528d50b0800adbcfb373&quot;</ETag><Size>4026</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-18-19-D8983AB6929FC306</Key><LastModified>2015-11-02T05:18:20.000Z</LastModified><ETag>&quot;889df9dce06fabf9c30ff8abbe67274c&quot;</ETag><Size>43284</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-18-19-E248F106D6227769</Key><LastModified>2015-11-02T05:18:20.000Z</LastModified><ETag>&quot;3b654e3b45f251fbfa283ae71f698c4a&quot;</ETag><Size>30810</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-20-38-67ABC8EB47ED9F17</Key><LastModified>2015-11-02T05:20:39.000Z</LastModified><ETag>&quot;3c12fb53ecdb33583bcea9c4d1b543f4&quot;</ETag><Size>35185</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-21-11-C0F3E1F85B054BFD</Key><LastModified>2015-11-02T05:21:12.000Z</LastModified><ETag>&quot;2bf42448a8e1b4b16bb2a9a5daa1854e&quot;</ETag><Size>34404</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-21-47-267BF382C240B97A</Key><LastModified>2015-11-02T05:21:48.000Z</LastModified><ETag>&quot;ddb122f17abe868a7cb7333e9276937a&quot;</ETag><Size>297</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-23-44-DB0F70CD814A6EC3</Key><LastModified>2015-11-02T05:23:45.000Z</LastModified><ETag>&quot;0ca9227bfac884d4bd66b3ad7ebfd0a2&quot;</ETag><Size>3103</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-24-02-A0ADFDC697074225</Key><LastModified>2015-11-02T05:24:03.000Z</LastModified><ETag>&quot;0554b27b6781b53d3f1f561f536537b8&quot;</ETag><Size>34435</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-24-03-2563A1979A57F651</Key><LastModified>2015-11-02T05:24:04.000Z</LastModified><ETag>&quot;54d2d690781bc2aef8cf24e982592094&quot;</ETag><Size>21009</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-24-31-1924AF325606BFCB</Key><LastModified>2015-11-02T05:24:32.000Z</LastModified><ETag>&quot;98c58df86bf73e12425e8189e31dfe4b&quot;</ETag><Size>12909</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-25-14-80FF57670CA04CCD</Key><LastModified>2015-11-02T05:25:15.000Z</LastModified><ETag>&quot;2568a2cd284d749ba2ebdd5e801751f1&quot;</ETag><Size>85575</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-28-06-E1782B1A6FE8A7E6</Key><LastModified>2015-11-02T05:28:07.000Z</LastModified><ETag>&quot;e230485fcd95ee9b2fa78070e9a3ef4a&quot;</ETag><Size>10361</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-28-38-568C1B8FD54C9217</Key><LastModified>2015-11-02T05:28:39.000Z</LastModified><ETag>&quot;c19d42e32d04962cf26f922407a4bd6e&quot;</ETag><Size>35260</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-28-50-6A5E5802D7204499</Key><LastModified>2015-11-02T05:28:51.000Z</LastModified><ETag>&quot;aaae701465f2a463107910ace0a04842&quot;</ETag><Size>47143</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-29-01-545F8C89E27D4DB8</Key><LastModified>2015-11-02T05:29:02.000Z</LastModified><ETag>&quot;d312e6de008f6f13e788b312ec352d41&quot;</ETag><Size>13331</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-32-38-3433D462D0137957</Key><LastModified>2015-11-02T05:32:39.000Z</LastModified><ETag>&quot;836ec61caf45bf48f3e31bab306e447d&quot;</ETag><Size>297</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-35-37-ED45AF45265E7375</Key><LastModified>2015-11-02T05:35:38.000Z</LastModified><ETag>&quot;9f9ae0e1fb38ac8829af0e1eb4495b19&quot;</ETag><Size>284</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-38-43-2DB6F135E08D4EA7</Key><LastModified>2015-11-02T05:38:44.000Z</LastModified><ETag>&quot;2a92f6b70740e37e6f5320575f6407a0&quot;</ETag><Size>974</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-38-55-669B108D689B56B5</Key><LastModified>2015-11-02T05:38:56.000Z</LastModified><ETag>&quot;c15d4bd2882427cceb70aa6fbe014c63&quot;</ETag><Size>38575</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-41-22-930BD5218BAA1CC8</Key><LastModified>2015-11-02T05:41:23.000Z</LastModified><ETag>&quot;dd561f1ef6e9a605f40995bc16688929&quot;</ETag><Size>894</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-41-41-6BE9D3A553CF0E94</Key><LastModified>2015-11-02T05:41:42.000Z</LastModified><ETag>&quot;3546a996ec6cf31f735df8d562dd5969&quot;</ETag><Size>8514</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-41-49-67D4BA32C177F8FD</Key><LastModified>2015-11-02T05:41:50.000Z</LastModified><ETag>&quot;3281cd89355f6f0a6ed6afbf15f4c716&quot;</ETag><Size>61299</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-42-59-C2114C9EE74B237E</Key><LastModified>2015-11-02T05:43:00.000Z</LastModified><ETag>&quot;7dff061ec2a0da73281c761e1c1a6cf4&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-43-04-91602CE569E73EEA</Key><LastModified>2015-11-02T05:43:05.000Z</LastModified><ETag>&quot;1d15c8ec107936b8bdc9774bdd8b11cb&quot;</ETag><Size>20571</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-44-21-2B75FC445EF41D52</Key><LastModified>2015-11-02T05:44:22.000Z</LastModified><ETag>&quot;5966e8ffe43859ec9147a776c0e81a32&quot;</ETag><Size>110207</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-44-29-3226EC286FD668D6</Key><LastModified>2015-11-02T05:44:30.000Z</LastModified><ETag>&quot;589488fa6579add2478f73526c012578&quot;</ETag><Size>64515</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-44-32-868903CC3983DFDB</Key><LastModified>2015-11-02T05:44:33.000Z</LastModified><ETag>&quot;108c4241165add9273caa35f04990302&quot;</ETag><Size>12089</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-45-54-90312EABDF979450</Key><LastModified>2015-11-02T05:45:55.000Z</LastModified><ETag>&quot;c2854c182ff8362f4dacb72c1dbd5985&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-45-59-E7EC1D08EB240C5C</Key><LastModified>2015-11-02T05:46:00.000Z</LastModified><ETag>&quot;9d0d9acca95e8e03cca004fc370c4b8f&quot;</ETag><Size>7705</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-05-47-33-975833B20B44EF0E</Key><LastModified>2015-11-02T05:47:34.000Z</LastModified><ETag>&quot;2f6332080b4b18ce906863b3ab62e21c&quot;</ETag><Size>21444</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-17-36-C12A0D512F3BC335</Key><LastModified>2015-11-02T06:17:37.000Z</LastModified><ETag>&quot;166a0fb2cd6e0588154ea66a42536922&quot;</ETag><Size>68415</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-17-37-25D2F2BECC3D4627</Key><LastModified>2015-11-02T06:17:39.000Z</LastModified><ETag>&quot;4f1a0d914793489a817a476c3b45de4d&quot;</ETag><Size>90767</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-17-40-A726AAC4E78364DC</Key><LastModified>2015-11-02T06:17:41.000Z</LastModified><ETag>&quot;916f4b8cc8ec362d642a6910f2bad804&quot;</ETag><Size>16152</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-17-41-4271189F646695E1</Key><LastModified>2015-11-02T06:17:42.000Z</LastModified><ETag>&quot;3b9d8daf69600de908c4017c350a55ae&quot;</ETag><Size>191451</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-17-41-5C8A2E5343C5BF3F</Key><LastModified>2015-11-02T06:17:42.000Z</LastModified><ETag>&quot;2128e410a3fef6a6ba203a4433ec48cf&quot;</ETag><Size>142628</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-17-43-93436F788E5D466C</Key><LastModified>2015-11-02T06:17:44.000Z</LastModified><ETag>&quot;928d767b7039fbaec0ab6bc3e147aa6d&quot;</ETag><Size>134235</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-17-45-6D074FAB1E294D73</Key><LastModified>2015-11-02T06:17:46.000Z</LastModified><ETag>&quot;52f1d8603269e19589d8a26d46050dd3&quot;</ETag><Size>119474</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-18-14-D798194F9E201BDA</Key><LastModified>2015-11-02T06:18:16.000Z</LastModified><ETag>&quot;7f4b38b094ad0c8cd544e30fb3b9c430&quot;</ETag><Size>31315</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-20-33-616B17EF3FC751D0</Key><LastModified>2015-11-02T06:20:34.000Z</LastModified><ETag>&quot;5406680cd7cc3c28adcc5bcc1ac88264&quot;</ETag><Size>64848</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-20-35-AFD9AA1243292188</Key><LastModified>2015-11-02T06:20:36.000Z</LastModified><ETag>&quot;6e49902cda31e7c0e67d8b02956c9b54&quot;</ETag><Size>38901</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-21-17-4D370FCF7F1BA72E</Key><LastModified>2015-11-02T06:21:18.000Z</LastModified><ETag>&quot;2218bcfbec147276cbfb4b258fdc5d0e&quot;</ETag><Size>72809</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-22-15-7E4CB8FDEFF4D009</Key><LastModified>2015-11-02T06:22:16.000Z</LastModified><ETag>&quot;6c3fd01d1f17d8e41fb7f9a69334a739&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-23-27-25A19AF6CD8DA254</Key><LastModified>2015-11-02T06:23:28.000Z</LastModified><ETag>&quot;17020c22700afaac5ab01a3a9f2a6a10&quot;</ETag><Size>89443</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-23-27-AEA86EE8C48C2B2F</Key><LastModified>2015-11-02T06:23:28.000Z</LastModified><ETag>&quot;88c79e5f3c311de995c3f4f1ed40a1dc&quot;</ETag><Size>446</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-23-56-DB0DB2A38681E65E</Key><LastModified>2015-11-02T06:23:57.000Z</LastModified><ETag>&quot;c6358fdf69de97b35cbab4b4cc9930d8&quot;</ETag><Size>43038</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-24-28-40FBE51B7FA6A86D</Key><LastModified>2015-11-02T06:24:29.000Z</LastModified><ETag>&quot;d421a0512bb627d81f8631698dafe4ff&quot;</ETag><Size>12987</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-24-55-874A7B299CC3D5B4</Key><LastModified>2015-11-02T06:24:56.000Z</LastModified><ETag>&quot;98364ae61a5a417435e58e93150f412a&quot;</ETag><Size>371</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-25-40-BD79C2A9A4574357</Key><LastModified>2015-11-02T06:25:41.000Z</LastModified><ETag>&quot;0bb817b0af8a3ac28087a5a8d6d997b0&quot;</ETag><Size>1109</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-26-18-99175F347C886E72</Key><LastModified>2015-11-02T06:26:19.000Z</LastModified><ETag>&quot;20dd8c47995ec3389084833996c858c2&quot;</ETag><Size>6250</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-26-31-5408B4888D28BF61</Key><LastModified>2015-11-02T06:26:32.000Z</LastModified><ETag>&quot;7d21f53c7a4c0a7c1437e154d7d65759&quot;</ETag><Size>644</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-26-54-09FE2881CFA479AB</Key><LastModified>2015-11-02T06:26:55.000Z</LastModified><ETag>&quot;e92469d6a03818904f42c1f8067b5f85&quot;</ETag><Size>3576</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-27-43-506D47334CCA6D2F</Key><LastModified>2015-11-02T06:27:44.000Z</LastModified><ETag>&quot;fb5d859dfb26a6dea636e7cf25739e79&quot;</ETag><Size>448</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-28-48-9AA38B9327C2713A</Key><LastModified>2015-11-02T06:28:49.000Z</LastModified><ETag>&quot;41ffb00ad93d0a78eab776db539b2d2e&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-29-13-72DE34DCBD6C656F</Key><LastModified>2015-11-02T06:29:14.000Z</LastModified><ETag>&quot;1a9a504a8509b64f20eaae1166f07254&quot;</ETag><Size>741</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-29-24-116E0CBE468E59DE</Key><LastModified>2015-11-02T06:29:25.000Z</LastModified><ETag>&quot;3515e712caaddd587b6012a59e84a2a2&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-29-39-1C6A28EB1371DFBF</Key><LastModified>2015-11-02T06:29:40.000Z</LastModified><ETag>&quot;9e265e41b01006954f5ecd2a32854bd7&quot;</ETag><Size>1340</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-29-52-3E230B7712831277</Key><LastModified>2015-11-02T06:29:53.000Z</LastModified><ETag>&quot;2baf9a0d970dd51076b5ae9e9c03c97f&quot;</ETag><Size>372</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-32-02-A4D267AEFCB7C2A9</Key><LastModified>2015-11-02T06:32:03.000Z</LastModified><ETag>&quot;e781f8ce00243907622e0d9ade780d03&quot;</ETag><Size>371</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-32-46-53DC51AE588E01D6</Key><LastModified>2015-11-02T06:32:47.000Z</LastModified><ETag>&quot;5829f68c9129eda11e1db2fc963f81e3&quot;</ETag><Size>736</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-35-37-AFFEFBFC8FBB402C</Key><LastModified>2015-11-02T06:35:38.000Z</LastModified><ETag>&quot;8fa8a507fc9e22681c952748087d7365&quot;</ETag><Size>742</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-35-49-A8C6F5C73DFE2FAA</Key><LastModified>2015-11-02T06:35:50.000Z</LastModified><ETag>&quot;4fda332c9e2e402e3efa45751a558ada&quot;</ETag><Size>740</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-38-53-7D6DDE7661353078</Key><LastModified>2015-11-02T06:38:54.000Z</LastModified><ETag>&quot;c20a00513643a3dc1278a2aef534e715&quot;</ETag><Size>3128</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-39-11-271D28236CCAEBF9</Key><LastModified>2015-11-02T06:39:12.000Z</LastModified><ETag>&quot;d7c2f5b608d3d001a223c0be02515d1c&quot;</ETag><Size>1340</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-39-14-0B8C9DCD75DBF059</Key><LastModified>2015-11-02T06:39:15.000Z</LastModified><ETag>&quot;dab49e7cf551bf9ffe93b1b93a7f941c&quot;</ETag><Size>106688</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-40-36-D1B2E4F8336E2F5B</Key><LastModified>2015-11-02T06:40:37.000Z</LastModified><ETag>&quot;cf95be1584bb723769612afc1c25953d&quot;</ETag><Size>4919</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-41-02-A589EE710BCFB72F</Key><LastModified>2015-11-02T06:41:03.000Z</LastModified><ETag>&quot;bce88f06c9885dfb4283e5021b3672ef&quot;</ETag><Size>20591</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-41-14-6C644C342C90F650</Key><LastModified>2015-11-02T06:41:15.000Z</LastModified><ETag>&quot;71f4eba26090d72dd1bd8198ec5c61ec&quot;</ETag><Size>112193</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-41-47-078E7E1028FFC914</Key><LastModified>2015-11-02T06:41:48.000Z</LastModified><ETag>&quot;ef9c2fca23318505a848c883c863ba20&quot;</ETag><Size>16088</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-42-13-A98D92AB7075E9DB</Key><LastModified>2015-11-02T06:42:14.000Z</LastModified><ETag>&quot;d037822a84a832873ce85f331c99dbb5&quot;</ETag><Size>63325</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-42-45-422E66027C0195ED</Key><LastModified>2015-11-02T06:42:46.000Z</LastModified><ETag>&quot;aa14d0688fc3873d870d5544c5537049&quot;</ETag><Size>1341</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-43-13-6BFF0D38BBB4F5FE</Key><LastModified>2015-11-02T06:43:14.000Z</LastModified><ETag>&quot;96963067bd4eba36a517fe242f307ebd&quot;</ETag><Size>138013</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-43-22-9B7FF75901A582B8</Key><LastModified>2015-11-02T06:43:23.000Z</LastModified><ETag>&quot;540cbd47fd3cf48036f77eb03f82ea62&quot;</ETag><Size>69563</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-43-28-6D9A0E661272B9DD</Key><LastModified>2015-11-02T06:43:30.000Z</LastModified><ETag>&quot;401e89c2ec00011afb0ef0ca27d0ba00&quot;</ETag><Size>102277</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-43-29-832ECEFE4D5326A5</Key><LastModified>2015-11-02T06:43:30.000Z</LastModified><ETag>&quot;45c9d0d3ab442de7f8bed204992412a7&quot;</ETag><Size>62167</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-44-03-664D0915ABD1299E</Key><LastModified>2015-11-02T06:44:04.000Z</LastModified><ETag>&quot;a16afad184c42aee8ac0123811dfaf33&quot;</ETag><Size>309106</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-44-08-11313D771C0ADD03</Key><LastModified>2015-11-02T06:44:09.000Z</LastModified><ETag>&quot;503661b042045d1b04e01a5e85c81b4a&quot;</ETag><Size>1340</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-44-47-72A7C2935BE30FE1</Key><LastModified>2015-11-02T06:44:48.000Z</LastModified><ETag>&quot;5fa89c15a7fa24c7470341181ec0be8e&quot;</ETag><Size>14224</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-45-46-CC71D3F280085A26</Key><LastModified>2015-11-02T06:45:47.000Z</LastModified><ETag>&quot;0010901b7b800fe7ebc4120c095a9ade&quot;</ETag><Size>30764</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-46-13-EA4B5D2A44910874</Key><LastModified>2015-11-02T06:46:14.000Z</LastModified><ETag>&quot;8a181e66eb2b1e1a20efa3bd9675230e&quot;</ETag><Size>124279</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-46-33-DA0BBB08F51BFA4C</Key><LastModified>2015-11-02T06:46:34.000Z</LastModified><ETag>&quot;e9cffc4de90735d3939990f9abc0b4f7&quot;</ETag><Size>5812</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-47-01-47F93714BBCF824D</Key><LastModified>2015-11-02T06:47:02.000Z</LastModified><ETag>&quot;b1574a21772a5d4ef0ac8bce35d4d901&quot;</ETag><Size>1342</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-47-50-E96DF5299AF0E258</Key><LastModified>2015-11-02T06:47:51.000Z</LastModified><ETag>&quot;984ea606f6c2910df2d711eb79efe58b&quot;</ETag><Size>175381</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-49-27-E4975183B66E2C22</Key><LastModified>2015-11-02T06:49:28.000Z</LastModified><ETag>&quot;f23bdef6cba00c286e820565792c95e1&quot;</ETag><Size>17435</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-06-49-51-2D38C9AC58E230A9</Key><LastModified>2015-11-02T06:49:52.000Z</LastModified><ETag>&quot;da1e1b62b2c81eef254d02e3c0c0ad48&quot;</ETag><Size>3576</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-17-27-1E7180B0E4BE94DF</Key><LastModified>2015-11-02T07:17:28.000Z</LastModified><ETag>&quot;482c1f49a0d2a2beb75ac36fd205b593&quot;</ETag><Size>737</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-17-40-3790096317AD0AE4</Key><LastModified>2015-11-02T07:17:41.000Z</LastModified><ETag>&quot;648f1e3b58b1f430b2622dbc293e8531&quot;</ETag><Size>734</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-17-41-159DC2B7FBC38F95</Key><LastModified>2015-11-02T07:17:42.000Z</LastModified><ETag>&quot;6491c841f7c7b1de357c0aeba9f9f36b&quot;</ETag><Size>1112</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-17-48-CCE84DD2EB489305</Key><LastModified>2015-11-02T07:17:49.000Z</LastModified><ETag>&quot;c9d39cdf188d2016d4a6bb6f4a17c2e4&quot;</ETag><Size>738</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-18-35-828559DD35ADB398</Key><LastModified>2015-11-02T07:18:36.000Z</LastModified><ETag>&quot;52bbb34917eb6b1181a46228a55884e2&quot;</ETag><Size>373</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-23-09-EB21F4985DFEC83B</Key><LastModified>2015-11-02T07:23:10.000Z</LastModified><ETag>&quot;a005db92041eba0dc553ac0cc3d54874&quot;</ETag><Size>371</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-25-00-C9B2FE8F7A128B3C</Key><LastModified>2015-11-02T07:25:01.000Z</LastModified><ETag>&quot;053861aca41afce3186a32947ef5f03a&quot;</ETag><Size>371</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-25-21-C0137E5BB7357219</Key><LastModified>2015-11-02T07:25:22.000Z</LastModified><ETag>&quot;cdcaf0970c4b635d66968fc3fe1e68c9&quot;</ETag><Size>736</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-25-25-A1DA17C869CBD489</Key><LastModified>2015-11-02T07:25:26.000Z</LastModified><ETag>&quot;b373de76e0895288b477a3654466650a&quot;</ETag><Size>737</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-27-42-7362A231BF9C7816</Key><LastModified>2015-11-02T07:27:43.000Z</LastModified><ETag>&quot;ece6dbf297f75c1c3ab5d90091156a63&quot;</ETag><Size>737</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-28-39-0CD18F2DDFD536B2</Key><LastModified>2015-11-02T07:28:41.000Z</LastModified><ETag>&quot;ccb9ff0337b267e546c03b49fb422740&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-28-52-47BD33A93C5020A5</Key><LastModified>2015-11-02T07:28:53.000Z</LastModified><ETag>&quot;f732f547cb30490000678b95f9775f1d&quot;</ETag><Size>744</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-29-04-46654A46F53C47F3</Key><LastModified>2015-11-02T07:29:05.000Z</LastModified><ETag>&quot;d1888061ae6df3bdbc4785860b15a865&quot;</ETag><Size>733</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-29-51-FF608DE38A572F33</Key><LastModified>2015-11-02T07:29:52.000Z</LastModified><ETag>&quot;4e13a6ccdc1ae3f44c1c7670887b7be3&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-30-15-1F6A54894BF8BE18</Key><LastModified>2015-11-02T07:30:16.000Z</LastModified><ETag>&quot;3303752408b3976ca60d94249989c784&quot;</ETag><Size>740</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-31-47-3F047B3282842C0F</Key><LastModified>2015-11-02T07:31:48.000Z</LastModified><ETag>&quot;8f0f9969e703ec148b58fa3c644e4bbb&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-33-15-4F838C87B4F2F20A</Key><LastModified>2015-11-02T07:33:16.000Z</LastModified><ETag>&quot;9330dc866394800d045a702fb910b3bb&quot;</ETag><Size>372</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-35-44-CA1608FAA0DE4A0D</Key><LastModified>2015-11-02T07:35:45.000Z</LastModified><ETag>&quot;68d9a115467edfccc53d80a3fd856451&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-36-16-08F3E1FEE554C332</Key><LastModified>2015-11-02T07:36:17.000Z</LastModified><ETag>&quot;492d0fb068cc23533fbb0a773eae6828&quot;</ETag><Size>371</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-36-58-4D0BD867D4825FEC</Key><LastModified>2015-11-02T07:36:59.000Z</LastModified><ETag>&quot;e46c0ab3b72c08935562744f1d58b5a4&quot;</ETag><Size>372</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-37-38-4C63A7878CC160F3</Key><LastModified>2015-11-02T07:37:39.000Z</LastModified><ETag>&quot;90df644d9a5ea4783d77abd7103e53fc&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-42-36-9B7B2FCC7E2A9503</Key><LastModified>2015-11-02T07:42:37.000Z</LastModified><ETag>&quot;60bffcb01ac1fbecc47f0dced19f5f48&quot;</ETag><Size>1851</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-43-19-D0EEED961311265E</Key><LastModified>2015-11-02T07:43:20.000Z</LastModified><ETag>&quot;15c93cc14dba35fd14a7f3f6fb58e857&quot;</ETag><Size>373</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-44-25-FD8EA32ACAE6F6D9</Key><LastModified>2015-11-02T07:44:26.000Z</LastModified><ETag>&quot;ddbe7fb8f4b014fab01e5b30905ba7f7&quot;</ETag><Size>372</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-44-48-E89EF3F50C90FCBA</Key><LastModified>2015-11-02T07:44:49.000Z</LastModified><ETag>&quot;f0ba29c1af1d9eeb176b94499fc5572b&quot;</ETag><Size>1107</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-45-41-9D9E6F0D220E4F4C</Key><LastModified>2015-11-02T07:45:42.000Z</LastModified><ETag>&quot;e33c78cf2b983ca902e8d0cf5d65b092&quot;</ETag><Size>371</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-46-54-1164D9E37B46CC42</Key><LastModified>2015-11-02T07:46:55.000Z</LastModified><ETag>&quot;a982dd40302be00c2faf691b5919242c&quot;</ETag><Size>2961</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-47-32-8EF0428AF9D9FE58</Key><LastModified>2015-11-02T07:47:33.000Z</LastModified><ETag>&quot;692a0acbfd241526714e2db19d579a6c&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-48-55-76604E82A6E6A91F</Key><LastModified>2015-11-02T07:48:56.000Z</LastModified><ETag>&quot;92dcbcb7820b32d4d290b551bbfb8bdf&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-07-50-47-93E85320379A3752</Key><LastModified>2015-11-02T07:50:48.000Z</LastModified><ETag>&quot;d41602c97a2d5cdd63c892289560a8bc&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-17-40-99F9E8018CA9021D</Key><LastModified>2015-11-02T08:17:41.000Z</LastModified><ETag>&quot;0f6efc05e433d332bbd5230002e3a75f&quot;</ETag><Size>738</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-18-06-BFFED8FF7911201F</Key><LastModified>2015-11-02T08:18:07.000Z</LastModified><ETag>&quot;2906eb362308a82642cd80270c11c4ad&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-18-11-DBFAE5BFC46D4F34</Key><LastModified>2015-11-02T08:18:12.000Z</LastModified><ETag>&quot;7ee745a1c7ae03ebecc30a70b8c8dcae&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-18-15-92287598A56EECF5</Key><LastModified>2015-11-02T08:18:16.000Z</LastModified><ETag>&quot;46248a5afa247d4721470b361e0527d9&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-20-41-C31F3AC1789E53A6</Key><LastModified>2015-11-02T08:20:42.000Z</LastModified><ETag>&quot;f906c1207275a5c83e582b2e5e91e4df&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-22-58-2131037EE734BC86</Key><LastModified>2015-11-02T08:22:59.000Z</LastModified><ETag>&quot;c6208c5413ff5b5e5c8358483e2ec486&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-23-57-973AD6A668CF2552</Key><LastModified>2015-11-02T08:23:58.000Z</LastModified><ETag>&quot;33f8cec55b52bdeb72733bb52390dc18&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-24-10-2DDA6BA592A587DA</Key><LastModified>2015-11-02T08:24:11.000Z</LastModified><ETag>&quot;e2142275ca478bb67fd06d718b75fed9&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-26-50-4FFBDE6449F696E8</Key><LastModified>2015-11-02T08:26:51.000Z</LastModified><ETag>&quot;6e3c2ef8e506b6d6b5959cb25c24e74b&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-35-37-391C3C6E87A6850A</Key><LastModified>2015-11-02T08:35:38.000Z</LastModified><ETag>&quot;5d3981adb591228355d94a393ec8a333&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-35-57-1E60D7FD378FBD97</Key><LastModified>2015-11-02T08:35:58.000Z</LastModified><ETag>&quot;d93029945acc2ff9c22732441d3827e7&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-36-19-1C1BFD63F20895CB</Key><LastModified>2015-11-02T08:36:20.000Z</LastModified><ETag>&quot;e60bfdd6f4b319d62fa41ea277dc57a4&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-38-53-A3E21B286FA3534B</Key><LastModified>2015-11-02T08:38:55.000Z</LastModified><ETag>&quot;a5a1c4190bc884fe9af17774fbcfda9e&quot;</ETag><Size>736</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-39-08-67CAA868FD626C24</Key><LastModified>2015-11-02T08:39:09.000Z</LastModified><ETag>&quot;e813e2a11e9f9dfb35517683073f734e&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-40-09-FEAEE65D6560F546</Key><LastModified>2015-11-02T08:40:10.000Z</LastModified><ETag>&quot;868523844d9826d1deb9f46f465e7556&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-41-44-EAF5D9F2846CFA8D</Key><LastModified>2015-11-02T08:41:45.000Z</LastModified><ETag>&quot;9382e63bed9d8597903771649b7683fb&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-42-32-284605589AF1AF9B</Key><LastModified>2015-11-02T08:42:33.000Z</LastModified><ETag>&quot;290db13eaf498e9c5015fc524caf1d14&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-44-39-7949FD9437BC0E6C</Key><LastModified>2015-11-02T08:44:40.000Z</LastModified><ETag>&quot;aa3c98f1a9a0ab0dbc35cc668e94b4c5&quot;</ETag><Size>1106</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-45-41-97D826C845CE7089</Key><LastModified>2015-11-02T08:45:42.000Z</LastModified><ETag>&quot;b877ad2b8a72e233e17ec9fdb9386aad&quot;</ETag><Size>738</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-46-01-1B98F9A6E84ED8D7</Key><LastModified>2015-11-02T08:46:02.000Z</LastModified><ETag>&quot;6c7d5887f17a0cc1a83086cb279fc99f&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-46-59-17D7E52A978476D8</Key><LastModified>2015-11-02T08:47:00.000Z</LastModified><ETag>&quot;050f27b9ebc38d89456c88f00c00aa30&quot;</ETag><Size>366</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-47-38-8530514438DC8519</Key><LastModified>2015-11-02T08:47:39.000Z</LastModified><ETag>&quot;03f6897259c40f38d561690812c78923&quot;</ETag><Size>1106</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-08-49-42-2B42820B33578364</Key><LastModified>2015-11-02T08:49:43.000Z</LastModified><ETag>&quot;b174b8989d7ed0969927c4b18952eb70&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-17-59-60AE8E56E8121DED</Key><LastModified>2015-11-02T09:18:00.000Z</LastModified><ETag>&quot;e54e679976d500922f218588ef9fa4d6&quot;</ETag><Size>737</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-18-06-8DEF8BFD216D94D4</Key><LastModified>2015-11-02T09:18:07.000Z</LastModified><ETag>&quot;ac67755930f2b189ac54f08de1a837d0&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-23-28-B43A451A07DB2A84</Key><LastModified>2015-11-02T09:23:29.000Z</LastModified><ETag>&quot;279d275aa24700a28ae4b25748dad0ac&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-26-54-0F0E034BC4FEB405</Key><LastModified>2015-11-02T09:26:55.000Z</LastModified><ETag>&quot;eab688baa51fe43542b2fe706b0330f0&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-26-59-57D24A4D7AB66A84</Key><LastModified>2015-11-02T09:27:00.000Z</LastModified><ETag>&quot;1843b72373c1d40b81af67ebfef61cd9&quot;</ETag><Size>735</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-27-24-8E4290697D7313F8</Key><LastModified>2015-11-02T09:27:25.000Z</LastModified><ETag>&quot;9ec8c96fdce57d8d01729d23daed6a02&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-32-43-C45166232CB246B1</Key><LastModified>2015-11-02T09:32:44.000Z</LastModified><ETag>&quot;9802c12b62a98fbe27d6ab5909ce173f&quot;</ETag><Size>735</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-35-38-C10D3E60C4DADFD1</Key><LastModified>2015-11-02T09:35:39.000Z</LastModified><ETag>&quot;8746de8115d9e68c76b8af446f760a57&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-36-29-E9ADA4137836F247</Key><LastModified>2015-11-02T09:36:30.000Z</LastModified><ETag>&quot;7d638ec9695d10c0bf3278ebbef757c8&quot;</ETag><Size>1105</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-36-35-5959CD8856969E7D</Key><LastModified>2015-11-02T09:36:36.000Z</LastModified><ETag>&quot;1ff84a1e61c3a809824a742a34d7b844&quot;</ETag><Size>738</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-38-40-CDA84CEAF70F9F69</Key><LastModified>2015-11-02T09:38:41.000Z</LastModified><ETag>&quot;c3982e3d8a63fc013ced121aba216f8e&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-43-35-B10D02A5E03EBDEA</Key><LastModified>2015-11-02T09:43:36.000Z</LastModified><ETag>&quot;e65cfb4785b1ca0130e831552c03ede1&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-43-58-0B30E323384C93A4</Key><LastModified>2015-11-02T09:43:59.000Z</LastModified><ETag>&quot;784cbac87c6fc9fcae1f342a25094f37&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-46-53-415C98854CD78C4E</Key><LastModified>2015-11-02T09:46:54.000Z</LastModified><ETag>&quot;159ffafb1b16baac1205c12f67a0f08b&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-47-13-5C3AC92A5A7B8BB8</Key><LastModified>2015-11-02T09:47:14.000Z</LastModified><ETag>&quot;94b943a0de08c6c7b7cf56be6b1ca272&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-09-47-51-DEAE313A25547C6E</Key><LastModified>2015-11-02T09:47:52.000Z</LastModified><ETag>&quot;971ec11c6ed45cf56b85c35a9b9367e1&quot;</ETag><Size>737</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-18-06-EAED3BCD8B6A6ADF</Key><LastModified>2015-11-02T10:18:07.000Z</LastModified><ETag>&quot;b862f063000310799c1c1c4cead7fcd1&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-26-12-FA79818DE10775D6</Key><LastModified>2015-11-02T10:26:13.000Z</LastModified><ETag>&quot;af607193f861fd8fd6002aec3c4b42f1&quot;</ETag><Size>739</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-26-52-C86B3969355B97D2</Key><LastModified>2015-11-02T10:26:53.000Z</LastModified><ETag>&quot;2ce7f278b517ea8a33cd66bf893d4f2f&quot;</ETag><Size>739</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-38-31-ECF22DD43297F3AC</Key><LastModified>2015-11-02T10:38:32.000Z</LastModified><ETag>&quot;a679fd9041f3ad3b9a694b8601d34029&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-38-38-9EB57583A478F8BC</Key><LastModified>2015-11-02T10:38:39.000Z</LastModified><ETag>&quot;2ac22c87043d5ffe3fd823afb22315e4&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-39-33-4C17C503895F15B5</Key><LastModified>2015-11-02T10:39:34.000Z</LastModified><ETag>&quot;d2795f288a6441a4384f8824a7e9de07&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-41-38-CADEF38AE1E79BF9</Key><LastModified>2015-11-02T10:41:39.000Z</LastModified><ETag>&quot;d52ca07cea9afe66b75e7495d4995c2e&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-41-53-CC55FCC03C2A85AF</Key><LastModified>2015-11-02T10:41:54.000Z</LastModified><ETag>&quot;ce8d8494215f34856eaa37394564d4ce&quot;</ETag><Size>736</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-43-28-5F753DF167D21B18</Key><LastModified>2015-11-02T10:43:29.000Z</LastModified><ETag>&quot;dd4fd1f9b9f1a6e1a7de69a1008d31a7&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-47-26-F7C3E29F8C353BEF</Key><LastModified>2015-11-02T10:47:27.000Z</LastModified><ETag>&quot;b5d351def058e5ad959174a741ba4cac&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-49-38-80B3F2897F914488</Key><LastModified>2015-11-02T10:49:39.000Z</LastModified><ETag>&quot;007efa9cad8ca1a44bc86b68d6d1e6ff&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-51-20-D62DE0853C475753</Key><LastModified>2015-11-02T10:51:21.000Z</LastModified><ETag>&quot;89b5a0e30dd64065f74ee242bf38978b&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-10-52-23-58A77929A303721C</Key><LastModified>2015-11-02T10:52:24.000Z</LastModified><ETag>&quot;57479cd00adcd24dd56c0408fd11604a&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-17-30-E714FEEC497E653A</Key><LastModified>2015-11-02T11:17:31.000Z</LastModified><ETag>&quot;f5c38417a84e503841f840c50116c943&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-20-24-E53D1EBCA036EF46</Key><LastModified>2015-11-02T11:20:25.000Z</LastModified><ETag>&quot;b47ad3983662db4c443a3e873445e259&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-24-22-FF08372A641C6BB3</Key><LastModified>2015-11-02T11:24:23.000Z</LastModified><ETag>&quot;728e7a1345f64d4716c89e72f19c1d7e&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-29-37-273FC25367524CC5</Key><LastModified>2015-11-02T11:29:38.000Z</LastModified><ETag>&quot;bdc6b19d89722dc9d46efa858b8b6184&quot;</ETag><Size>738</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-35-58-ECFF2F837B08F806</Key><LastModified>2015-11-02T11:35:59.000Z</LastModified><ETag>&quot;e98b8f997c905e7288c5cbb6990b9dbb&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-39-08-BF6C5F72ABF6E3C0</Key><LastModified>2015-11-02T11:39:09.000Z</LastModified><ETag>&quot;d2a1c5250cf168ef24274b66c9eaf1e0&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-40-28-16D0262116BEB843</Key><LastModified>2015-11-02T11:40:29.000Z</LastModified><ETag>&quot;365670f67ba5a679f20b402bad3867d7&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-42-04-174316583293B0AA</Key><LastModified>2015-11-02T11:42:05.000Z</LastModified><ETag>&quot;0b83907223a5d2692a10dc769fd57d57&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-42-44-6473072EA531BFF7</Key><LastModified>2015-11-02T11:42:45.000Z</LastModified><ETag>&quot;d0b6646e9017493c7423577a9929b775&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-46-45-B6AD6CC50B4D1893</Key><LastModified>2015-11-02T11:46:46.000Z</LastModified><ETag>&quot;c6e6a8e39d8ad600f67772b2ac9aeb87&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-49-38-F50559562FD27572</Key><LastModified>2015-11-02T11:49:39.000Z</LastModified><ETag>&quot;f6f108d535a470b406162b92719c2889&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-11-50-19-C685211F9AD0D6AF</Key><LastModified>2015-11-02T11:50:20.000Z</LastModified><ETag>&quot;1820c108f7ac79d00589650fd8ec1e05&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-17-52-7561E4BF1C5C7F75</Key><LastModified>2015-11-02T12:17:53.000Z</LastModified><ETag>&quot;07e2e7d239ed889cb0465c8c9c962f6d&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-20-29-9351DF5AA47A1699</Key><LastModified>2015-11-02T12:20:30.000Z</LastModified><ETag>&quot;5b4fcc8d6250c70054865548f2563328&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-26-18-C7F2A599210AF78F</Key><LastModified>2015-11-02T12:26:19.000Z</LastModified><ETag>&quot;bbd23e572afe596b2b56a8edc8ff6969&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-29-19-8F33B2A7524FCBD2</Key><LastModified>2015-11-02T12:29:20.000Z</LastModified><ETag>&quot;6e8e83877ed3d843b6af51d16a3f11e4&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-32-00-B804507F17AA8CFF</Key><LastModified>2015-11-02T12:32:01.000Z</LastModified><ETag>&quot;992727035c4cf26a16767c469b664eed&quot;</ETag><Size>738</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-32-19-A27DCE117A0DD44D</Key><LastModified>2015-11-02T12:32:20.000Z</LastModified><ETag>&quot;83f39c851cd4db0aa115bdb9de88a1ef&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-34-47-915259BD98AEFBA9</Key><LastModified>2015-11-02T12:34:49.000Z</LastModified><ETag>&quot;1018c2f204f80cc31ac9a1f94f59a7d5&quot;</ETag><Size>581</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-38-10-417D26D84B41642A</Key><LastModified>2015-11-02T12:38:11.000Z</LastModified><ETag>&quot;450ac54f9de2b7d43ec9945aa098260a&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-41-37-825F7F156723966D</Key><LastModified>2015-11-02T12:41:38.000Z</LastModified><ETag>&quot;c3c5b66c2d9c745487024447024d6489&quot;</ETag><Size>737</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-45-22-1813FA37B5D1CCA5</Key><LastModified>2015-11-02T12:45:23.000Z</LastModified><ETag>&quot;1ae3e388601a1782c713bcb631729f40&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-12-45-49-A35DFA824A09EEB6</Key><LastModified>2015-11-02T12:45:50.000Z</LastModified><ETag>&quot;043efb2635d3fe5ce35a24b74cf50d4c&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-17-45-E1A28C367652D7B9</Key><LastModified>2015-11-02T13:17:46.000Z</LastModified><ETag>&quot;28d202bfdddfe43f0648f42e68bce2a1&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-18-29-C1C37641CC37D94A</Key><LastModified>2015-11-02T13:18:30.000Z</LastModified><ETag>&quot;89fa6c11f8a78246ee45027a4940f053&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-41-04-75A468BF5EC4C4E9</Key><LastModified>2015-11-02T13:41:05.000Z</LastModified><ETag>&quot;a5dd8c419bb40f5521dbbd6258f0027a&quot;</ETag><Size>366</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-43-48-94D04F38F7341846</Key><LastModified>2015-11-02T13:43:49.000Z</LastModified><ETag>&quot;ae7ccd2f3d44a569535c13989d44901d&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-45-07-DB2DF61D6BEB31D0</Key><LastModified>2015-11-02T13:45:08.000Z</LastModified><ETag>&quot;ee5741734616524e0119b932785b7414&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-47-00-0833E7C7E5B4260F</Key><LastModified>2015-11-02T13:47:01.000Z</LastModified><ETag>&quot;2ea732e9e1841d4faa62e04e9d51b6c6&quot;</ETag><Size>737</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-47-03-84C1635056145C83</Key><LastModified>2015-11-02T13:47:04.000Z</LastModified><ETag>&quot;1d3aa6eae4b30c6b6a229c88c2a3027d&quot;</ETag><Size>367</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-47-38-505CD6CBF19D0669</Key><LastModified>2015-11-02T13:47:39.000Z</LastModified><ETag>&quot;704ccce2dff4e043614390b3e52209b8&quot;</ETag><Size>735</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-13-50-02-2635667850C28054</Key><LastModified>2015-11-02T13:50:03.000Z</LastModified><ETag>&quot;651770d5a81433cd8042a193f000efd8&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-17-52-0A239D5D468FB884</Key><LastModified>2015-11-02T14:17:53.000Z</LastModified><ETag>&quot;416be71873d0adb7f95f3445eec60375&quot;</ETag><Size>370</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-25-03-6C9AB67807A710E1</Key><LastModified>2015-11-02T14:25:05.000Z</LastModified><ETag>&quot;81d3e01391dc980e9d64e212db6d6f9b&quot;</ETag><Size>297</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-26-43-B3142331F2AC585E</Key><LastModified>2015-11-02T14:26:45.000Z</LastModified><ETag>&quot;2062e9c4e38dd75abeb18c14cf0fc83e&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-35-52-A9651347A3AE57E7</Key><LastModified>2015-11-02T14:35:53.000Z</LastModified><ETag>&quot;d3e1ecb22a05049fca7702588b4e5b3c&quot;</ETag><Size>368</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-43-26-ECD43967D7359018</Key><LastModified>2015-11-02T14:43:27.000Z</LastModified><ETag>&quot;f4f2e5f7e0c650786d286f1b1dad4f18&quot;</ETag><Size>735</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-43-52-DA14399B4B6F1BC5</Key><LastModified>2015-11-02T14:43:53.000Z</LastModified><ETag>&quot;04e9bddbe7abeec6c443cce2f3abadfd&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-44-26-90C8A1A8A48CD48A</Key><LastModified>2015-11-02T14:44:27.000Z</LastModified><ETag>&quot;5513acc1c005e5883f8dc00de7041d67&quot;</ETag><Size>369</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>logs/2015-11-02-14-45-26-62C54095F9407A18</Key><LastModified>2015-11-02T14:45:27.000Z</LastModified><ETag>&quot;12b9b1c38603fbd407f04c5686aaa7d9&quot;</ETag><Size>736</Size><Owner><ID>3272ee65a908a7677109fedda345db8d9554ba26398b2ca10581de88777e2b61</ID><DisplayName>s3-log-service</DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents></ListBucketResult>\n2015-11-02 17:48:27,203 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjects: calling handler <botocore.retryhandler.RetryHandler object at 0x036C30D0>\n2015-11-02 17:48:27,203 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2015-11-02 17:48:27,203 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <bound method BucketLister._decode_keys of <awscli.customizations.s3.utils.BucketLister object at 0x037194F0>>\n2015-11-02 17:48:27,203 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <function enhance_error_msg at 0x027CB370>\n2015-11-02 17:48:27,203 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <awscli.errorhandler.ErrorHandler object at 0x027FE690>\n2015-11-02 17:48:27,203 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2015-11-02 17:48:27,203 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Exception caught during task execution: Could not retrieve file stat of \"D:\\Users\\myuser\\Desktop\\SES\\fitur09.jpg\": timestamp out of range for platform localtime()/gmtime() function\nTraceback (most recent call last):\n  File \"awscli\\customizations\\s3\\s3handler.pyc\", line 97, in call\n  File \"awscli\\customizations\\s3\\s3handler.pyc\", line 175, in _enqueue_tasks\n  File \"awscli\\customizations\\s3\\fileinfobuilder.pyc\", line 31, in call\n  File \"awscli\\customizations\\s3\\comparator.pyc\", line 79, in call\n  File \"awscli\\customizations\\s3\\filegenerator.pyc\", line 138, in call\n  File \"awscli\\customizations\\s3\\filegenerator.pyc\", line 193, in list_files\n  File \"awscli\\customizations\\s3\\utils.pyc\", line 223, in get_file_stat\nValueError: Could not retrieve file stat of \"D:\\Users\\myuser\\Desktop\\SES\\fitur09.jpg\": timestamp out of range for platform localtime()/gmtime() function\n2015-11-02 17:48:27,203 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,204 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,204 - Thread-1 - awscli.customizations.s3.executor - DEBUG - Received print task: PrintTask(message='Could not retrieve file stat of \"D:\\\\Users\\\\myuser\\\\Desktop\\\\SES\\\\fitur09.jpg\": timestamp out of range for platform localtime()/gmtime() function', error=True, total_parts=None, warning=None)\nCould not retrieve file stat of \"D:\\Users\\myuser\\Desktop\\SES\\fitur09.jpg\": timestamp out of range for platform localtime()/gmtime() function\n2015-11-02 17:48:27,206 - Thread-5 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\nCompleted 1 part(s) with ... file(s) remaining\n2015-11-02 17:48:27,206 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,207 - Thread-6 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,207 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,207 - Thread-7 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,207 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,207 - Thread-8 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,207 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,207 - Thread-9 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,207 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,207 - Thread-10 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,207 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,207 - Thread-11 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,209 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,209 - Thread-12 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,209 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2015-11-02 17:48:27,209 - Thread-13 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,209 - Thread-14 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-11-02 17:48:27,209 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-5, stopped daemon 5204)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-5, stopped daemon 5204)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-6, stopped daemon 7848)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-6, stopped daemon 7848)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-7, stopped daemon 5504)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-7, stopped daemon 5504)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-8, stopped daemon 7408)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-8, stopped daemon 7408)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-9, stopped daemon 6752)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-9, stopped daemon 6752)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-10, stopped daemon 6400)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-10, stopped daemon 6400)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-11, stopped daemon 6640)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-11, stopped daemon 6640)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-12, stopped daemon 4368)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-12, stopped daemon 4368)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-13, stopped daemon 4824)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-13, stopped daemon 4824)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-14, stopped daemon 5028)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-14, stopped daemon 5028)>\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for result thread.\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for IO thread.\n2015-11-02 17:48:27,210 - Thread-1 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in print thread, shutting down print thread.\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for result thread to shutdown.\n2015-11-02 17:48:27,210 - Thread-2 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in IO thread, shutting down.\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for IO thread to shutdown.\n2015-11-02 17:48:27,210 - MainThread - awscli.customizations.s3.executor - DEBUG - All threads have been shutdown.\n\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1613", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1613/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1613/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1613/events", "html_url": "https://github.com/aws/aws-cli/issues/1613", "id": 114649125, "node_id": "MDU6SXNzdWUxMTQ2NDkxMjU=", "number": 1613, "title": "rds download-db-log-file-portion returns slightly larger content", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2015-11-02T17:59:30Z", "updated_at": "2015-11-04T18:38:08Z", "closed_at": "2015-11-04T18:38:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The download file is several bytes larger than the original file. A diff indicates that the file downloaded by CLI contains some extra `0a` (`\\n`) for each regular-sized block. A minor issue which we will need to look into.\n\n```\naws rds download-db-log-file-portion --db-instance-identifier mydbinstance --log-file-name mysqlUpgrade --starting-token 0\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1611", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1611/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1611/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1611/events", "html_url": "https://github.com/aws/aws-cli/issues/1611", "id": 114458973, "node_id": "MDU6SXNzdWUxMTQ0NTg5NzM=", "number": 1611, "title": "Valid MFA token does not work during first 1am hour before daylight savings ends and second 1am hour starts", "user": {"login": "ehammond", "id": 531159, "node_id": "MDQ6VXNlcjUzMTE1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/531159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehammond", "html_url": "https://github.com/ehammond", "followers_url": "https://api.github.com/users/ehammond/followers", "following_url": "https://api.github.com/users/ehammond/following{/other_user}", "gists_url": "https://api.github.com/users/ehammond/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehammond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehammond/subscriptions", "organizations_url": "https://api.github.com/users/ehammond/orgs", "repos_url": "https://api.github.com/users/ehammond/repos", "events_url": "https://api.github.com/users/ehammond/events{/privacy}", "received_events_url": "https://api.github.com/users/ehammond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2015-11-01T09:56:41Z", "updated_at": "2019-11-03T09:54:20Z", "closed_at": "2019-02-16T16:27:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a number of aws-cli config profiles that let me assume cross-account roles with MFA token. The configs take this form:\n\n```\n[profile name]\nrole_arn = arn:aws:iam::123456789012:role/rolename\nmfa_serial = arn:aws:iam::987654321098:mfa/myname\nsource_profile = default\nregion = us-east-1\n```\n\nThese roles have worked fine for weeks, but are now giving me an error when I enter the valid MFA code.\n\n```\n$ aws s3 ls\nEnter MFA code: \nCannot refresh credentials: MFA token required.\n```\n\nInterestingly, it gives me a different error if I enter an invalid MFA code (or the same valid code twice):\n\n```\n$ aws s3 ls\nEnter MFA code: \nA client error (AccessDenied) occurred when calling the AssumeRole operation:\nMultiFactorAuthentication failed with invalid MFA one time pass code. \n```\n\nThis problem is occurring with two source accounts (different MFA devices) and multiple target accounts, all of which worked hours ago.\n\nI am able to use the same MFA devices to sign in to the same AWS accounts through the AWS console, and to assume the same cross-account roles.\n\nTonight is the night that daylight savings ends in my timezone, but that doesn't happen for another 5 minutes at which point I will repeat the 1am hour. No idea if that could affect it or not.\n\naws-cli/v1.9.2\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1608", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1608/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1608/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1608/events", "html_url": "https://github.com/aws/aws-cli/pull/1608", "id": 114169055, "node_id": "MDExOlB1bGxSZXF1ZXN0NDkyMTQ4MDU=", "number": 1608, "title": "Survive a BucketAlreadyOwnedByYou error", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 272109619, "node_id": "MDU6TGFiZWwyNzIxMDk2MTk=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:ready-to-merge", "name": "pr:ready-to-merge", "color": "358F18", "default": false, "description": "This PR is ready to be merged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-29T23:35:01Z", "updated_at": "2015-11-04T21:02:57Z", "closed_at": "2015-11-04T21:02:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/1608", "html_url": "https://github.com/aws/aws-cli/pull/1608", "diff_url": "https://github.com/aws/aws-cli/pull/1608.diff", "patch_url": "https://github.com/aws/aws-cli/pull/1608.patch", "merged_at": "2015-11-04T21:02:57Z"}, "body": "This happens occasionally in our test cases, when the first create_bucket()\nattempt succeeded but somehow the response never came back.\nIt is safe to ignore this error in our test case, because we would still have\na new bucket to complete other test cases.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1608/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1605", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1605/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1605/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1605/events", "html_url": "https://github.com/aws/aws-cli/issues/1605", "id": 114016019, "node_id": "MDU6SXNzdWUxMTQwMTYwMTk=", "number": 1605, "title": "#1595 was fixed but it exposed another problem with put-integration", "user": {"login": "bradmurray", "id": 930321, "node_id": "MDQ6VXNlcjkzMDMyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/930321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bradmurray", "html_url": "https://github.com/bradmurray", "followers_url": "https://api.github.com/users/bradmurray/followers", "following_url": "https://api.github.com/users/bradmurray/following{/other_user}", "gists_url": "https://api.github.com/users/bradmurray/gists{/gist_id}", "starred_url": "https://api.github.com/users/bradmurray/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bradmurray/subscriptions", "organizations_url": "https://api.github.com/users/bradmurray/orgs", "repos_url": "https://api.github.com/users/bradmurray/repos", "events_url": "https://api.github.com/users/bradmurray/events{/privacy}", "received_events_url": "https://api.github.com/users/bradmurray/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-10-29T09:59:02Z", "updated_at": "2015-10-30T16:43:06Z", "closed_at": "2015-10-29T21:49:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "(I put this comment in #1595 but it's closed so I wanted to open a new issue)\n\nI installed the develop branch and the code that should be working for put-integration but it is giving me the following error now:\n\nA client error (BadRequestException) occurred when calling the PutIntegration operation: Enumeration value for HttpMethod must be non-empty\n\nIt think there is a typo somewhere in that \"HttpMethod\" should be \"httpMethod\" because that's the parameter that the CLI is expecting.\n\nIf have tried using the regular command-line method as well as the --cli-input-json format and the error is the same.\n\nHere is the debug output:\n\n```\n2015-10-29 06:02:31,937 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.9.1 Python/2.7.10 Darwin/15.0.0 botocore/1.3.1\n2015-10-29 06:02:31,937 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['apigateway', 'put-integration', '--rest-api-id', 'j7p2wzqtzb', '--resource-id', 'ueafsx', '--http-method', 'GET', '--type', 'AWS', '--uri', 'rn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:486254463964:function:servicetest/invocations', '--request-templates', '{ \"SessionID\": \".params().header.SessionID\", \"URL\": \".params().path.Res0/.params().path.ID0/.params().path.Res1/.params().path.ID1/.params().path.Res2\", \"HTTPMethod\": \".httpMethod\" }', '--cache-namespace', 'ueafsx', '--cache-key-parameters', '[]', '--debug']\n2015-10-29 06:02:31,937 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x10fafe410>\n2015-10-29 06:02:31,937 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x10fac2b18>\n2015-10-29 06:02:31,937 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\n2015-10-29 06:02:31,955 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.apigateway: calling handler <function register_retries_for_service at 0x10f5c2aa0>\n2015-10-29 06:02:31,955 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: apigateway\n2015-10-29 06:02:31,957 - MainThread - botocore.hooks - DEBUG - Event building-command-table.apigateway: calling handler <function add_waiters at 0x10facf938>\n2015-10-29 06:02:31,959 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'rest-api-id', <awscli.arguments.CLIArgument object at 0x110037c10>), (u'resource-id', <awscli.arguments.CLIArgument object at 0x110037c50>), (u'http-method', <awscli.arguments.CLIArgument object at 0x110037c90>), (u'type', <awscli.arguments.CLIArgument object at 0x110037cd0>), (u'integration-http-method', <awscli.arguments.CLIArgument object at 0x110037d10>), (u'uri', <awscli.arguments.CLIArgument object at 0x110037d50>), (u'credentials', <awscli.arguments.CLIArgument object at 0x110037d90>), (u'request-parameters', <awscli.arguments.CLIArgument object at 0x110037dd0>), (u'request-templates', <awscli.arguments.CLIArgument object at 0x110037e10>), (u'cache-namespace', <awscli.arguments.CLIArgument object at 0x110037e50>), (u'cache-key-parameters', <awscli.arguments.ListArgument object at 0x110037e90>)])\n2015-10-29 06:02:31,959 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigateway.put-integration: calling handler <function add_streaming_output_arg at 0x10f853ed8>\n2015-10-29 06:02:31,959 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigateway.put-integration: calling handler <function add_cli_input_json at 0x10fabbde8>\n2015-10-29 06:02:31,959 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigateway.put-integration: calling handler <function unify_paging_params at 0x10f980050>\n2015-10-29 06:02:31,960 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.apigateway.put-integration: calling handler <function add_generate_skeleton at 0x10fac2398>\n2015-10-29 06:02:31,960 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.apigateway.put-integration: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x110037f10>>\n2015-10-29 06:02:31,960 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.apigateway.put-integration: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x110037ed0>>\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.rest-api-id: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,962 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'j7p2wzqtzb' for parameter \"rest_api_id\": u'j7p2wzqtzb'\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.resource-id: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,962 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'ueafsx' for parameter \"resource_id\": u'ueafsx'\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.http-method: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,962 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'GET' for parameter \"http_method\": u'GET'\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.type: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,962 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,962 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'AWS' for parameter \"type\": u'AWS'\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.integration-http-method: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.uri: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,963 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'rn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:486254463964:function:servicetest/invocations' for parameter \"uri\": u'rn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:486254463964:function:servicetest/invocations'\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.credentials: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.request-parameters: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.request-templates: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,963 - MainThread - awscli.argprocess - DEBUG - Param request_templates looks like JSON, not considered for param shorthand.\n2015-10-29 06:02:31,963 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'{ \"SessionID\": \".params().header.SessionID\", \"URL\": \".params().path.Res0/.params().path.ID0/.params().path.Res1/.params().path.ID1/.params().path.Res2\", \"HTTPMethod\": \".httpMethod\" }' for parameter \"request_templates\": OrderedDict([(u'SessionID', u'.params().header.SessionID'), (u'URL', u'.params().path.Res0/.params().path.ID0/.params().path.Res1/.params().path.ID1/.params().path.Res2'), (u'HTTPMethod', u'.httpMethod')])\n2015-10-29 06:02:31,963 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.cache-namespace: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,964 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,964 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'ueafsx' for parameter \"cache_namespace\": u'ueafsx'\n2015-10-29 06:02:31,964 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.cache-key-parameters: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,964 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.apigateway.put-integration: calling handler <awscli.argprocess.ParamShorthand object at 0x10fb06810>\n2015-10-29 06:02:31,964 - MainThread - awscli.argprocess - DEBUG - Param cache_key_parameters looks like JSON, not considered for param shorthand.\n2015-10-29 06:02:31,964 - MainThread - awscli.arguments - DEBUG - Unpacked value of [u'[]'] for parameter \"cache_key_parameters\": []\n2015-10-29 06:02:31,964 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.cli-input-json: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,964 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.apigateway.put-integration.generate-cli-skeleton: calling handler <function uri_param at 0x10f83d938>\n2015-10-29 06:02:31,964 - MainThread - botocore.hooks - DEBUG - Event calling-command.apigateway.put-integration: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x110037ed0>>\n2015-10-29 06:02:31,964 - MainThread - botocore.hooks - DEBUG - Event calling-command.apigateway.put-integration: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x110037f10>>\n2015-10-29 06:02:31,964 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2015-10-29 06:02:31,964 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2015-10-29 06:02:31,964 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2015-10-29 06:02:31,964 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: config-file\n2015-10-29 06:02:31,965 - MainThread - botocore.credentials - INFO - Credentials found in config file: ~/.aws/config\n2015-10-29 06:02:31,966 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: apigateway\n2015-10-29 06:02:31,968 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.apigateway: calling handler <function add_generate_presigned_url at 0x10f5906e0>\n2015-10-29 06:02:32,096 - MainThread - botocore.endpoint - DEBUG - Setting apigateway timeout as (60, 60)\n2015-10-29 06:02:32,098 - MainThread - botocore.hooks - DEBUG - Event before-call.apigateway.PutIntegration: calling handler <function add_accept_header at 0x10f5c5230>\n2015-10-29 06:02:32,098 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x11007c510> (verify_ssl=True) with params: {'body': '{\"requestTemplates\": {\"URL\": \".params().path.Res0/.params().path.ID0/.params().path.Res1/.params().path.ID1/.params().path.Res2\", \"HTTPMethod\": \".httpMethod\", \"SessionID\": \".params().header.SessionID\"}, \"uri\": \"rn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:486254463964:function:servicetest/invocations\", \"type\": \"AWS\", \"cacheNamespace\": \"ueafsx\", \"cacheKeyParameters\": []}', 'url': u'https://apigateway.us-west-2.amazonaws.com/restapis/j7p2wzqtzb/resources/ueafsx/methods/GET/integration', 'headers': {'Accept': 'application/json', 'User-Agent': 'aws-cli/1.9.1 Python/2.7.10 Darwin/15.0.0 botocore/1.3.1'}, 'query_string': {}, 'url_path': u'/restapis/j7p2wzqtzb/resources/ueafsx/methods/GET/integration', 'method': u'PUT'}\n2015-10-29 06:02:32,098 - MainThread - botocore.hooks - DEBUG - Event request-created.apigateway.PutIntegration: calling handler <bound method APIGateway._sign_request of <botocore.client.APIGateway object at 0x110089350>>\n2015-10-29 06:02:32,098 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2015-10-29 06:02:32,099 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPUT\n/restapis/j7p2wzqtzb/resources/ueafsx/methods/GET/integration\n\naccept:application/json\nhost:apigateway.us-west-2.amazonaws.com\nuser-agent:aws-cli/1.9.1 Python/2.7.10 Darwin/15.0.0 botocore/1.3.1\nx-amz-date:20151029T100232Z\n\naccept;host;user-agent;x-amz-date\n39d0bd12f462b8eb97e4934af898a1bba6a1b348ab5256e8027a95c89d525bb2\n2015-10-29 06:02:32,099 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20151029T100232Z\n20151029/us-west-2/apigateway/aws4_request\ne5b07fe7b45117991153963aff92498a227f3436d99d8a4b0f57c2f143a75571\n2015-10-29 06:02:32,099 - MainThread - botocore.auth - DEBUG - Signature:\nec70a63b2de0e064a89f9cb43316c5d1d2a33abc0f4bd9692408b492a8dfd62f\n2015-10-29 06:02:32,103 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [PUT]>\n2015-10-29 06:02:32,104 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): apigateway.us-west-2.amazonaws.com\n2015-10-29 06:02:32,939 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"PUT /restapis/j7p2wzqtzb/resources/ueafsx/methods/GET/integration HTTP/1.1\" 400 65\n2015-10-29 06:02:32,940 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-requestid': '2c21e7a1-7e24-11e5-870c-2924212617d5', 'content-length': '65', 'date': 'Thu, 29 Oct 2015 10:02:32 GMT', 'nncoection': 'close', 'content-type': 'application/json', 'x-amzn-errortype': 'BadRequestException'}\n2015-10-29 06:02:32,940 - MainThread - botocore.parsers - DEBUG - Response body:\n{\"message\":\"Enumeration value for HttpMethod must be non-empty\"}\n\n2015-10-29 06:02:32,941 - MainThread - botocore.hooks - DEBUG - Event needs-retry.apigateway.PutIntegration: calling handler <botocore.retryhandler.RetryHandler object at 0x10fe12a10>\n2015-10-29 06:02:32,941 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2015-10-29 06:02:32,941 - MainThread - botocore.hooks - DEBUG - Event after-call.apigateway.PutIntegration: calling handler <awscli.errorhandler.ErrorHandler object at 0x10fb12510>\n2015-10-29 06:02:32,941 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 400\n2015-10-29 06:02:32,941 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/Users/bmurray/Desktop/aws-cli-develop/awscli/clidriver.py\", line 184, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/Users/bmurray/Desktop/aws-cli-develop/awscli/clidriver.py\", line 369, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/Users/bmurray/Desktop/aws-cli-develop/awscli/clidriver.py\", line 538, in __call__\n    call_parameters, parsed_globals)\n  File \"/Users/bmurray/Desktop/aws-cli-develop/awscli/clidriver.py\", line 662, in invoke\n    **parameters)\n  File \"/Users/bmurray/Desktop/aws-cli-develop/src/botocore/botocore/client.py\", line 310, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n  File \"/Users/bmurray/Desktop/aws-cli-develop/src/botocore/botocore/client.py\", line 391, in _make_api_call\n    model=operation_model\n  File \"/Users/bmurray/Desktop/aws-cli-develop/src/botocore/botocore/hooks.py\", line 226, in emit\n    return self._emit(event_name, kwargs)\n  File \"/Users/bmurray/Desktop/aws-cli-develop/src/botocore/botocore/hooks.py\", line 209, in _emit\n    response = handler(**kwargs)\n  File \"/Users/bmurray/Desktop/aws-cli-develop/awscli/errorhandler.py\", line 70, in __call__\n    http_status_code=http_response.status_code)\nClientError: A client error (BadRequestException) occurred when calling the PutIntegration operation: Enumeration value for HttpMethod must be non-empty\n2015-10-29 06:02:32,946 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\nA client error (BadRequestException) occurred when calling the PutIntegration operation: Enumeration value for HttpMethod must be non-empty\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1601", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1601/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1601/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1601/events", "html_url": "https://github.com/aws/aws-cli/issues/1601", "id": 113859604, "node_id": "MDU6SXNzdWUxMTM4NTk2MDQ=", "number": 1601, "title": "aws cli dynamodb query documentation needs clarifying and examples", "user": {"login": "keithdotpower", "id": 5015574, "node_id": "MDQ6VXNlcjUwMTU1NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5015574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keithdotpower", "html_url": "https://github.com/keithdotpower", "followers_url": "https://api.github.com/users/keithdotpower/followers", "following_url": "https://api.github.com/users/keithdotpower/following{/other_user}", "gists_url": "https://api.github.com/users/keithdotpower/gists{/gist_id}", "starred_url": "https://api.github.com/users/keithdotpower/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keithdotpower/subscriptions", "organizations_url": "https://api.github.com/users/keithdotpower/orgs", "repos_url": "https://api.github.com/users/keithdotpower/repos", "events_url": "https://api.github.com/users/keithdotpower/events{/privacy}", "received_events_url": "https://api.github.com/users/keithdotpower/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-10-28T16:19:09Z", "updated_at": "2016-02-12T22:29:03Z", "closed_at": "2016-02-12T22:29:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current documentation for using dynamodb via cli (at http://docs.aws.amazon.com/cli/latest/reference/dynamodb/query.html) is not very helpful. I've got some queries going by trial and error but I just can't work out how to use --starting-token.\n\nWhat would be particularly helpful would be some examples. The single example there is very simple and uses a parameter which is documented as legacy (--key-conditions).\n\nThe particular problem I still can't solve after a day of hair-pulling is how to use the NextToken value returned from one query to pass into another. E.g. at the end of my results for one query I get:\n\n```\n    \"NextToken\": \"{u'license': {u'S': u'a5fef9b2-a8b7-4213-8d63-e9cb6f8ca7e7'}, u'ts': {u'S': u'1445257263181'}, u'key': {u'S': u'c7c420b2-c95b-42c0-92ba-15a9eaab3aa2'}}\",\n    \"ScannedCount\": 50,\n    \"ConsumedCapacity\": null\n}\n```\n\nHow do I pass that via --starting-token to my next query to get the rest of the results? If I try:\n\n```\n--starting-token '{\"license\": {\"S\": \"a5fef9b2-a8b7-4213-8d63-e9cb6f8ca7e7\"}, \"ts\": {\"S\": \"1445257263181\"}, \"key\": {\"S\": \"c7c420b2-c95b-42c0-92ba-15a9eaab3aa2\"}}'\n```\n\nI get: \n\n```\nParameter validation failed:\nInvalid type for parameter ExclusiveStartKey, value: {\"license\": {\"S\": \"a5fef9b2-a8b7-4213-8d63-e9cb6f8ca7e7\"}, \"ts\": {\"S\": \"1445257263181\"}, \"key\": {\"S\": \"c7c420b2-c95b-42c0-92ba-15a9eaab3aa2\"}}, type: <type 'unicode'>, valid types: <type 'dict'>\n```\n\nI'm giving up on this now and will try again with the Java API tomorrow, just adding this issue to help the next guy.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1601/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1595", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1595/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1595/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1595/events", "html_url": "https://github.com/aws/aws-cli/issues/1595", "id": 113626081, "node_id": "MDU6SXNzdWUxMTM2MjYwODE=", "number": 1595, "title": "`apigateway::put-integration` command results in KeyError: u'http_method'", "user": {"login": "quiver", "id": 266641, "node_id": "MDQ6VXNlcjI2NjY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/266641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quiver", "html_url": "https://github.com/quiver", "followers_url": "https://api.github.com/users/quiver/followers", "following_url": "https://api.github.com/users/quiver/following{/other_user}", "gists_url": "https://api.github.com/users/quiver/gists{/gist_id}", "starred_url": "https://api.github.com/users/quiver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quiver/subscriptions", "organizations_url": "https://api.github.com/users/quiver/orgs", "repos_url": "https://api.github.com/users/quiver/repos", "events_url": "https://api.github.com/users/quiver/events{/privacy}", "received_events_url": "https://api.github.com/users/quiver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2015-10-27T16:34:47Z", "updated_at": "2015-10-29T09:56:47Z", "closed_at": "2015-10-29T00:14:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "API http://docs.aws.amazon.com/cli/latest/reference/apigateway/put-integration.html\n\nThere's no example code in the documentation, so my usage might be wrong. Anyway, this error occurs in client-side(AWS-CLI) before requesting to the server. \n\n```\n$ aws apigateway put-integration --rest-api-id a --resource-id b --http-method GET --type AWS --uri c --debug\n...\n2015-10-28 01:25:07,764 - MainThread - botocore.endpoint - DEBUG - Setting apigateway timeout as (60, 60)\n2015-10-28 01:25:07,764 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 184, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 369, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 538, in __call__\n    call_parameters, parsed_globals)\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 662, in invoke\n    **parameters)\n  File \"/usr/local/lib/python2.7/site-packages/botocore/client.py\", line 310, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/botocore/client.py\", line 382, in _make_api_call\n    api_params, operation_model)\n  File \"/usr/local/lib/python2.7/site-packages/botocore/client.py\", line 423, in _convert_to_request_dict\n    api_params, operation_model)\n  File \"/usr/local/lib/python2.7/site-packages/botocore/validate.py\", line 275, in serialize_to_request\n    operation_model)\n  File \"/usr/local/lib/python2.7/site-packages/botocore/serialize.py\", line 404, in serialize_to_request\n    partitioned['uri_path_kwargs'])\n  File \"/usr/local/lib/python2.7/site-packages/botocore/serialize.py\", line 429, in _render_uri_template\n    params[template_param])\nKeyError: u'http_method'\n2015-10-28 01:25:07,766 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1564", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1564/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1564/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1564/events", "html_url": "https://github.com/aws/aws-cli/issues/1564", "id": 111928520, "node_id": "MDU6SXNzdWUxMTE5Mjg1MjA=", "number": 1564, "title": "s3 sync from local source directory that doesn't exist behavior", "user": {"login": "prsullivan", "id": 11800076, "node_id": "MDQ6VXNlcjExODAwMDc2", "avatar_url": "https://avatars.githubusercontent.com/u/11800076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prsullivan", "html_url": "https://github.com/prsullivan", "followers_url": "https://api.github.com/users/prsullivan/followers", "following_url": "https://api.github.com/users/prsullivan/following{/other_user}", "gists_url": "https://api.github.com/users/prsullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/prsullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prsullivan/subscriptions", "organizations_url": "https://api.github.com/users/prsullivan/orgs", "repos_url": "https://api.github.com/users/prsullivan/repos", "events_url": "https://api.github.com/users/prsullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/prsullivan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-10-16T23:19:17Z", "updated_at": "2015-10-27T16:51:00Z", "closed_at": "2015-10-27T16:51:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Well I think I totally borked myself. I was using a chron job to run s3 sync on a nightly basis to transfer files form a local directory on a mounted secondary hard drive to an s3 bucket. Last week this hard drive crashed and would not mount. I thought that since the local directory didn't exist the s3 sync command would error out. Noooooope. It synced an empty directory, and to complete perfect storm my command included the --delete option, which totally wiped out my backup. Is this intended behavior?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1559", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1559/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1559/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1559/events", "html_url": "https://github.com/aws/aws-cli/issues/1559", "id": 111509231, "node_id": "MDU6SXNzdWUxMTE1MDkyMzE=", "number": 1559, "title": "put-metric-data dimensions inconsistent with get-metric-statistics dimensions", "user": {"login": "JohnBloom", "id": 892572, "node_id": "MDQ6VXNlcjg5MjU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/892572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnBloom", "html_url": "https://github.com/JohnBloom", "followers_url": "https://api.github.com/users/JohnBloom/followers", "following_url": "https://api.github.com/users/JohnBloom/following{/other_user}", "gists_url": "https://api.github.com/users/JohnBloom/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnBloom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnBloom/subscriptions", "organizations_url": "https://api.github.com/users/JohnBloom/orgs", "repos_url": "https://api.github.com/users/JohnBloom/repos", "events_url": "https://api.github.com/users/JohnBloom/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnBloom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": {"login": "mtdowling", "id": 190930, "node_id": "MDQ6VXNlcjE5MDkzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/190930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtdowling", "html_url": "https://github.com/mtdowling", "followers_url": "https://api.github.com/users/mtdowling/followers", "following_url": "https://api.github.com/users/mtdowling/following{/other_user}", "gists_url": "https://api.github.com/users/mtdowling/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtdowling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtdowling/subscriptions", "organizations_url": "https://api.github.com/users/mtdowling/orgs", "repos_url": "https://api.github.com/users/mtdowling/repos", "events_url": "https://api.github.com/users/mtdowling/events{/privacy}", "received_events_url": "https://api.github.com/users/mtdowling/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mtdowling", "id": 190930, "node_id": "MDQ6VXNlcjE5MDkzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/190930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtdowling", "html_url": "https://github.com/mtdowling", "followers_url": "https://api.github.com/users/mtdowling/followers", "following_url": "https://api.github.com/users/mtdowling/following{/other_user}", "gists_url": "https://api.github.com/users/mtdowling/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtdowling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtdowling/subscriptions", "organizations_url": "https://api.github.com/users/mtdowling/orgs", "repos_url": "https://api.github.com/users/mtdowling/repos", "events_url": "https://api.github.com/users/mtdowling/events{/privacy}", "received_events_url": "https://api.github.com/users/mtdowling/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2015-10-14T22:42:06Z", "updated_at": "2015-11-20T22:57:47Z", "closed_at": "2015-11-20T22:57:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been having an issue that ate up most of my day and I think it is an issue with the cli but it could also just be a documentation issue. Since I have it working now, someone else will have to say if this is intended. \n\nI was playing around with `put-metric-data` using the cli. I was trying to get some sample data for a C# app we are writing. I was running the following command (new lines added for readability):\n\n```\naws cloudwatch put-metric-data --metric-name SampleMetric \n--namespace DemoNamespace --timestamp 2015-10-14T07:55:00.000Z \n--dimensions Name=InstanceId,Value=i-123abc --profile productdev --value 2\n```\n\nThen I was trying to pull that metric data back out:\n\n```\naws cloudwatch get-metric-statistics --metric-name SampleMetric \n--namespace DemoNamespace --start-time 2015-10-12T01:00:00.000Z \n--end-time 2015-10-15T14:00:00.000Z \n--period 1440 --statistics \"Sum\" --dimensions Name=InstanceId,Value=i-123abc\n```\n\nThis is the recommended way as far as I can tell from [here](http://docs.aws.amazon.com/cli/latest/reference/cloudwatch/put-metric-data.html) and [here](http://docs.aws.amazon.com/cli/latest/reference/cloudwatch/get-metric-statistics.html)\n\nNo matter what I did the `get-metric-statistics` call always returned:\n\n```\n{\n    \"Datapoints\": [], \n    \"Label\": \"SampleMetric\"\n}\n```\n\nBut I was able to see the metric in the aws web console so I knew it was there. \n\nAfter some investigation I ended up calling `list-metrics --namespace DemoNamespace` and saw this:\n\n```\n\"Metrics\": [\n        {\n            \"Namespace\": \"DemoNamespace\", \n            \"Dimensions\": [\n                {\n                    \"Name\": \"Name\", \n                    \"Value\": \"InstanceId\"\n                }, \n                {\n                    \"Name\": \"Value\", \n                    \"Value\": \"i-123abc\"\n                }\n            ], \n            \"MetricName\": \"SampleMetric\"\n        }\n    ]\n\n```\n\nNotice that there are two dimensions! One for the name and one for the value. This gave me an ah-ha moment and I went back and reran my `put-metric-data` call like this:\n\n```\naws cloudwatch put-metric-data --metric-name SampleMetric --namespace DemoNamespace \n--timestamp 2015-10-14T07:55:00.000Z --dimensions InstanceId=i-123abc --value 2 \n```\n\nNotice that I changed the dimensions call to `--dimensions InstanceId=i-123abc`. \n\nAnd low and behold I was able to see my new data point. I can also see the original data point if I format my dimension like this `--dimensions Name=Name,Value=InstanceId Name=Value,Value=i-123abc` but that doesnt seem intuitive.\n\nMy main issue is that this seems to go against what the documentation was telling me to do. Now that I know it is not hard to work around but it was very tricky to figure out in the first place. \n\n_All of the included code snippets can be run to repo this issue, they are not unique to my project._\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1559/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1557", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1557/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1557/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1557/events", "html_url": "https://github.com/aws/aws-cli/issues/1557", "id": 111235876, "node_id": "MDU6SXNzdWUxMTEyMzU4NzY=", "number": 1557, "title": "zsh autocomplete script removes already defined completions", "user": {"login": "jwhitley", "id": 44155, "node_id": "MDQ6VXNlcjQ0MTU1", "avatar_url": "https://avatars.githubusercontent.com/u/44155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwhitley", "html_url": "https://github.com/jwhitley", "followers_url": "https://api.github.com/users/jwhitley/followers", "following_url": "https://api.github.com/users/jwhitley/following{/other_user}", "gists_url": "https://api.github.com/users/jwhitley/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwhitley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwhitley/subscriptions", "organizations_url": "https://api.github.com/users/jwhitley/orgs", "repos_url": "https://api.github.com/users/jwhitley/repos", "events_url": "https://api.github.com/users/jwhitley/events{/privacy}", "received_events_url": "https://api.github.com/users/jwhitley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-13T18:04:36Z", "updated_at": "2015-11-19T22:15:57Z", "closed_at": "2015-11-19T22:15:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Repro steps**\n1.  Install aws-cli, e.g. via Homebrew\n2.  Load it via `.zshrc`, e.g. using:\n   \n   ```\n   aws_cli_completion='/usr/local/share/zsh/site-functions/_aws'\n   [[ -r $aws_cli_completion ]] && source $aws_cli_completion\n   ```\n3.  Attempt to use a completion defined in `.zshrc` before the aws-cli completions are loaded.\n\n**Actual results**\n\nNo completions loaded prior to the aws-cli completions work.  They were removed when the `_aws` script ran `compinit`.  Scripts that are intended to just establish a completion should not _ever_ run `compinit`, for this very reason.  This is unexpected and rather bad behavior for a completion loader script.\n\n**Expected results**\n\nThe zsh completions for `aws` are loaded, other completions remain as previously defined.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1557/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1526", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1526/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1526/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1526/events", "html_url": "https://github.com/aws/aws-cli/pull/1526", "id": 108025992, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU4NDMyMjM=", "number": 1526, "title": "Fixed include / exclude filters in bucket to bucket sync", "user": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-23T23:15:39Z", "updated_at": "2015-09-25T00:01:12Z", "closed_at": "2015-09-25T00:01:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/1526", "html_url": "https://github.com/aws/aws-cli/pull/1526", "diff_url": "https://github.com/aws/aws-cli/pull/1526.diff", "patch_url": "https://github.com/aws/aws-cli/pull/1526.patch", "merged_at": "2015-09-25T00:01:08Z"}, "body": "closes #1481 \n\nThe logic for setting the root directory for filters only supported s3-local and local-s3 syncs, not s3-s3, causing the filters to fail when applied to the destination bucket in s3-s3 since it was assumed the destination was  a local directory.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1526/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1524", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1524/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1524/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1524/events", "html_url": "https://github.com/aws/aws-cli/issues/1524", "id": 107938054, "node_id": "MDU6SXNzdWUxMDc5MzgwNTQ=", "number": 1524, "title": "ec2 run-instances ignores count in its json input", "user": {"login": "foretspaisibles", "id": 5123318, "node_id": "MDQ6VXNlcjUxMjMzMTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5123318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/foretspaisibles", "html_url": "https://github.com/foretspaisibles", "followers_url": "https://api.github.com/users/foretspaisibles/followers", "following_url": "https://api.github.com/users/foretspaisibles/following{/other_user}", "gists_url": "https://api.github.com/users/foretspaisibles/gists{/gist_id}", "starred_url": "https://api.github.com/users/foretspaisibles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/foretspaisibles/subscriptions", "organizations_url": "https://api.github.com/users/foretspaisibles/orgs", "repos_url": "https://api.github.com/users/foretspaisibles/repos", "events_url": "https://api.github.com/users/foretspaisibles/events{/privacy}", "received_events_url": "https://api.github.com/users/foretspaisibles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-09-23T14:52:58Z", "updated_at": "2015-10-20T23:22:37Z", "closed_at": "2015-10-20T23:22:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "When preparing a reservation with `aws ec2 run-instances --cli-input-json JSONBLOB` the `MinCount` and `MaxCount` parameters are ignored and overwritten by the value 1. The equivalent reservation using command line options and esp. the `--count` option functions as expected.\n\nHow to reproduce:\n\n``` shell\njsonblob()\n{\n   cat <<'EOF'\n{\n  \"DryRun\": false,\n  \"ImageId\": \"ami-XXXXXXXX\",\n  \"MinCount\": 3,\n  \"MaxCount\": 3,\n  \"SubnetId\": \"subnet-XXXXXXXX\",\n  \"UserData\": \"IyEvYmluL3NoCnNodXRkb3duIC1QICsyCg==\",\n  \"InstanceInitiatedShutdownBehavior\": \"terminate\",\n  \"InstanceType\": \"t2.small\"\n}\nEOF\n}\naws --debug ec2 run-instances --cli-input-json \"$(jsonblob)\"\n```\n\n(The user data is a script terminating the instance after a few minutes.)\n\nThe output contains the line\n\n```\n2015-09-23 16:49:09,762 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0xXXXXXXXXXX> (verify_ssl=True) with params: {'body': {u'UserData': u'SXlFdlltbHVMM05vQ25Ob2RYUmtiM2R1SUMxUUlDc3lDZz09', u'DryRun': 'false', u'InstanceInitiatedShutdownBehavior': u'terminate', u'ImageId': u'ami-XXXXXXXX', u'SubnetId': u'subnet-XXXXXXXX', 'Version': u'2015-04-15', 'MaxCount': 1, 'Action': u'RunInstances', 'MinCount': 1, u'InstanceType': u't2.small'}, 'url': u'https://ec2.us-east-1.amazonaws.com/', 'headers': {'User-Agent': 'aws-cli/1.7.32 Python/2.7.10 Darwin/14.5.0'}, 'query_string': '', 'url_path': '/', 'method': u'POST'}\n```\n\nThis demonstrates that the parameters `MaxCount` and `MinCount` in the JSON input are ignored.\n\n---\n\n``` console\n% pip show awscli\n\n---\nMetadata-Version: 1.1\nName: awscli\nVersion: 1.7.32\nSummary: Universal Command Line Environment for AWS.\nHome-page: http://aws.amazon.com/cli/\nAuthor: Mitch Garnaat\nAuthor-email: garnaat@amazon.com\nLicense: Apache License 2.0\nLocation: /opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages\nRequires: botocore, bcdoc, colorama, docutils, rsa\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1524/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1521", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1521/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1521/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1521/events", "html_url": "https://github.com/aws/aws-cli/issues/1521", "id": 107828146, "node_id": "MDU6SXNzdWUxMDc4MjgxNDY=", "number": 1521, "title": "bash autocomplete crashes when using sudo", "user": {"login": "mtibben", "id": 980499, "node_id": "MDQ6VXNlcjk4MDQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/980499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtibben", "html_url": "https://github.com/mtibben", "followers_url": "https://api.github.com/users/mtibben/followers", "following_url": "https://api.github.com/users/mtibben/following{/other_user}", "gists_url": "https://api.github.com/users/mtibben/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtibben/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtibben/subscriptions", "organizations_url": "https://api.github.com/users/mtibben/orgs", "repos_url": "https://api.github.com/users/mtibben/repos", "events_url": "https://api.github.com/users/mtibben/events{/privacy}", "received_events_url": "https://api.github.com/users/mtibben/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "mtdowling", "id": 190930, "node_id": "MDQ6VXNlcjE5MDkzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/190930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtdowling", "html_url": "https://github.com/mtdowling", "followers_url": "https://api.github.com/users/mtdowling/followers", "following_url": "https://api.github.com/users/mtdowling/following{/other_user}", "gists_url": "https://api.github.com/users/mtdowling/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtdowling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtdowling/subscriptions", "organizations_url": "https://api.github.com/users/mtdowling/orgs", "repos_url": "https://api.github.com/users/mtdowling/repos", "events_url": "https://api.github.com/users/mtdowling/events{/privacy}", "received_events_url": "https://api.github.com/users/mtdowling/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mtdowling", "id": 190930, "node_id": "MDQ6VXNlcjE5MDkzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/190930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtdowling", "html_url": "https://github.com/mtdowling", "followers_url": "https://api.github.com/users/mtdowling/followers", "following_url": "https://api.github.com/users/mtdowling/following{/other_user}", "gists_url": "https://api.github.com/users/mtdowling/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtdowling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtdowling/subscriptions", "organizations_url": "https://api.github.com/users/mtdowling/orgs", "repos_url": "https://api.github.com/users/mtdowling/repos", "events_url": "https://api.github.com/users/mtdowling/events{/privacy}", "received_events_url": "https://api.github.com/users/mtdowling/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-09-23T00:11:26Z", "updated_at": "2019-07-04T11:55:15Z", "closed_at": "2015-10-13T00:47:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the aws autocomplete with bash, it crashes when using sudo.\n\nTo reproduce:\n1. Install aws bash autocomplete\n2. Type `sudo aws` then press tab for autocomplete\n\nExpected result: autocomplete info shown\n\nActual result:\n\n```\n$ sudo aws -bash: compgen: warning: -C option may not work as you expect\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/awscli/1.8.6/libexec/bin/aws_completer\", line 25, in <module>\n    awscli.completer.complete(cline, cpoint)\n  File \"/usr/local/Cellar/awscli/1.8.6/libexec/lib/python2.7/site-packages/awscli/completer.py\", line 166, in complete\n    choices = Completer().complete(cmdline, point)\n  File \"/usr/local/Cellar/awscli/1.8.6/libexec/lib/python2.7/site-packages/awscli/completer.py\", line 155, in complete\n    self._process_command_line()\n  File \"/usr/local/Cellar/awscli/1.8.6/libexec/lib/python2.7/site-packages/awscli/completer.py\", line 126, in _process_command_line\n    self.current_word = self.words[-1]\nIndexError: list index out of range\n```\n\nVersion info:\n\n```\n$ aws --version\naws-cli/1.8.6 Python/2.7.10 Darwin/14.5.0\n$ bash --version\nGNU bash, version 3.2.57(1)-release (x86_64-apple-darwin14)\nCopyright (C) 2007 Free Software Foundation, Inc.\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1516", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1516/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1516/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1516/events", "html_url": "https://github.com/aws/aws-cli/pull/1516", "id": 107283795, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU0NTYxNzk=", "number": 1516, "title": "Fix syncing across regions", "user": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-09-18T21:44:44Z", "updated_at": "2015-09-24T18:24:42Z", "closed_at": "2015-09-24T18:24:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/1516", "html_url": "https://github.com/aws/aws-cli/pull/1516", "diff_url": "https://github.com/aws/aws-cli/pull/1516.diff", "patch_url": "https://github.com/aws/aws-cli/pull/1516.patch", "merged_at": "2015-09-24T18:24:41Z"}, "body": "Performing a sync operation between buckets in different regions while under sig4 was raising errors when the delete flag was added in. A client associated with the origin bucket's region was being used to make the delete request rather than a client associated with the destination bucket's region. This simply switched the two and adds in some tests to verify.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1516/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1498", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1498/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1498/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1498/events", "html_url": "https://github.com/aws/aws-cli/issues/1498", "id": 105996073, "node_id": "MDU6SXNzdWUxMDU5OTYwNzM=", "number": 1498, "title": "Downgrading rsa package", "user": {"login": "orome", "id": 757327, "node_id": "MDQ6VXNlcjc1NzMyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/757327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orome", "html_url": "https://github.com/orome", "followers_url": "https://api.github.com/users/orome/followers", "following_url": "https://api.github.com/users/orome/following{/other_user}", "gists_url": "https://api.github.com/users/orome/gists{/gist_id}", "starred_url": "https://api.github.com/users/orome/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orome/subscriptions", "organizations_url": "https://api.github.com/users/orome/orgs", "repos_url": "https://api.github.com/users/orome/repos", "events_url": "https://api.github.com/users/orome/events{/privacy}", "received_events_url": "https://api.github.com/users/orome/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-09-11T11:54:01Z", "updated_at": "2015-09-21T19:51:36Z", "closed_at": "2015-09-21T19:51:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "The awscli install or update (`pip install -U awscli`) is downgrading rsa (to 3.1.4).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1498/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1493", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1493/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1493/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1493/events", "html_url": "https://github.com/aws/aws-cli/issues/1493", "id": 105443912, "node_id": "MDU6SXNzdWUxMDU0NDM5MTI=", "number": 1493, "title": "AWS S3 Sync/Copy (still) fatally fails if timestamp for one file is 'out of range' ", "user": {"login": "ionFish", "id": 2279261, "node_id": "MDQ6VXNlcjIyNzkyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2279261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ionFish", "html_url": "https://github.com/ionFish", "followers_url": "https://api.github.com/users/ionFish/followers", "following_url": "https://api.github.com/users/ionFish/following{/other_user}", "gists_url": "https://api.github.com/users/ionFish/gists{/gist_id}", "starred_url": "https://api.github.com/users/ionFish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ionFish/subscriptions", "organizations_url": "https://api.github.com/users/ionFish/orgs", "repos_url": "https://api.github.com/users/ionFish/repos", "events_url": "https://api.github.com/users/ionFish/events{/privacy}", "received_events_url": "https://api.github.com/users/ionFish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-09-08T18:33:04Z", "updated_at": "2015-11-04T20:41:47Z", "closed_at": "2015-11-04T20:41:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I initially reported this as issue #855 and it was Closed in January, marked resolved, but the issue still occurs:\n\n`# aws s3 sync --only-show-errors /local/dir s3://remote-bucket/dir`\n`Could not retrieve file stat of \"/local/dir/long/path/to/file.otf\": year is out of range`\n\nWithout `--only-show-errors` I can see the following:\n\n`...`\n`Completed 11 part(s) with ... file(s) remaining`\n\nThen it terminates.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1481", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1481/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1481/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1481/events", "html_url": "https://github.com/aws/aws-cli/issues/1481", "id": 104232793, "node_id": "MDU6SXNzdWUxMDQyMzI3OTM=", "number": 1481, "title": "aws s3 sync --delete behaves differently if source is <LocalPath> rather than <S3Path>", "user": {"login": "jrotenstein", "id": 5842760, "node_id": "MDQ6VXNlcjU4NDI3NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5842760?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrotenstein", "html_url": "https://github.com/jrotenstein", "followers_url": "https://api.github.com/users/jrotenstein/followers", "following_url": "https://api.github.com/users/jrotenstein/following{/other_user}", "gists_url": "https://api.github.com/users/jrotenstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrotenstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrotenstein/subscriptions", "organizations_url": "https://api.github.com/users/jrotenstein/orgs", "repos_url": "https://api.github.com/users/jrotenstein/repos", "events_url": "https://api.github.com/users/jrotenstein/events{/privacy}", "received_events_url": "https://api.github.com/users/jrotenstein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-09-01T10:06:19Z", "updated_at": "2015-09-25T00:01:08Z", "closed_at": "2015-09-25T00:01:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was raised on: https://stackoverflow.com/questions/32304326/amazon-s3-sync-deleting-excluded-files\n\nBasically, doing `aws s3 sync . s3://bucket2 --delete` behaves differently to `aws s3 sync s3://bucket1 s3://bucket2 --delete` even if the two source directories are identical.\n\nIt would appear that the logic for `--delete` behaves differently between Local and S3. An example is well-documented in the stackoverflow issue.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1471", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1471/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1471/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1471/events", "html_url": "https://github.com/aws/aws-cli/issues/1471", "id": 103710309, "node_id": "MDU6SXNzdWUxMDM3MTAzMDk=", "number": 1471, "title": "Filter do not support spaces", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-08-28T12:26:33Z", "updated_at": "2015-08-31T19:05:35Z", "closed_at": "2015-08-31T19:05:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I updated the aws client to 1.8.0. Now, the script for creating an instance does not work any more.\n\naws --profile default --region us-west-1 ec2 describe-subnets --filters 'Name=subnet-id,Values=Private A' Name=vpc-id,Values=vpc-MYVPC --query 'Subnets[*].SubnetId' --output=text\n\nThe error message is:\nError parsing parameter '--filters': Expected: ',', received: 'A' for input:\nName=subnet-id,Values=Private A\n                              ^\n\nSo there is a space in the subnet-id and I cannot filter it any more. \nThe command worked with 1.7.x\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1471/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1470", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1470/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1470/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1470/events", "html_url": "https://github.com/aws/aws-cli/issues/1470", "id": 103666973, "node_id": "MDU6SXNzdWUxMDM2NjY5NzM=", "number": 1470, "title": "Unable to use dash in option value", "user": {"login": "kimh", "id": 924390, "node_id": "MDQ6VXNlcjkyNDM5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/924390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kimh", "html_url": "https://github.com/kimh", "followers_url": "https://api.github.com/users/kimh/followers", "following_url": "https://api.github.com/users/kimh/following{/other_user}", "gists_url": "https://api.github.com/users/kimh/gists{/gist_id}", "starred_url": "https://api.github.com/users/kimh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kimh/subscriptions", "organizations_url": "https://api.github.com/users/kimh/orgs", "repos_url": "https://api.github.com/users/kimh/repos", "events_url": "https://api.github.com/users/kimh/events{/privacy}", "received_events_url": "https://api.github.com/users/kimh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-08-28T08:07:11Z", "updated_at": "2017-11-30T18:09:57Z", "closed_at": "2015-08-31T19:05:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: 1.8.0\n\nThe same command used to work at least in 1.7.42 but not in 1.8.0.\n\n```\n$ aws s3api create-multipart-upload --metadata \"uncompressed-length=111\" --bucket my-bucket --key my-key\nError parsing parameter '--metadata': Expected: '=', received: '-' for input:\nuncompressed-length=111\n```\n\nLooks it complains `-` in uncompressed-length. Is this an expected change? \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1470/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1442", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1442/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1442/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1442/events", "html_url": "https://github.com/aws/aws-cli/issues/1442", "id": 100061889, "node_id": "MDU6SXNzdWUxMDAwNjE4ODk=", "number": 1442, "title": "s3 sync, s3 cp no space left on device errors handling", "user": {"login": "vinogradovs", "id": 9961967, "node_id": "MDQ6VXNlcjk5NjE5Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/9961967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinogradovs", "html_url": "https://github.com/vinogradovs", "followers_url": "https://api.github.com/users/vinogradovs/followers", "following_url": "https://api.github.com/users/vinogradovs/following{/other_user}", "gists_url": "https://api.github.com/users/vinogradovs/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinogradovs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinogradovs/subscriptions", "organizations_url": "https://api.github.com/users/vinogradovs/orgs", "repos_url": "https://api.github.com/users/vinogradovs/repos", "events_url": "https://api.github.com/users/vinogradovs/events{/privacy}", "received_events_url": "https://api.github.com/users/vinogradovs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-08-10T13:16:55Z", "updated_at": "2015-11-18T02:17:03Z", "closed_at": "2015-11-18T02:17:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "aws s3 sync and aws s3 cp to local disk don't handle free space left on device  errors\n\naws s3 sync puts IOError: [Errno 28] No space left on device errors but still tries to continue sync\naws s3 cp doesn't give any error, tries to continue coping and returns 0 exit code at the end\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1442/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1423", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1423/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1423/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1423/events", "html_url": "https://github.com/aws/aws-cli/issues/1423", "id": 94969010, "node_id": "MDU6SXNzdWU5NDk2OTAxMA==", "number": 1423, "title": "aws dynamodb - Query result returned incorrectly when \"paging\" through keys", "user": {"login": "CliveJL", "id": 12729326, "node_id": "MDQ6VXNlcjEyNzI5MzI2", "avatar_url": "https://avatars.githubusercontent.com/u/12729326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CliveJL", "html_url": "https://github.com/CliveJL", "followers_url": "https://api.github.com/users/CliveJL/followers", "following_url": "https://api.github.com/users/CliveJL/following{/other_user}", "gists_url": "https://api.github.com/users/CliveJL/gists{/gist_id}", "starred_url": "https://api.github.com/users/CliveJL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CliveJL/subscriptions", "organizations_url": "https://api.github.com/users/CliveJL/orgs", "repos_url": "https://api.github.com/users/CliveJL/repos", "events_url": "https://api.github.com/users/CliveJL/events{/privacy}", "received_events_url": "https://api.github.com/users/CliveJL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}], "state": "closed", "locked": false, "assignee": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-07-14T15:11:40Z", "updated_at": "2015-10-26T17:13:58Z", "closed_at": "2015-10-26T17:13:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running an **aws dynamodb query** against a table, querying a secondary index, the outputted result is **NOT** the sum of the results that were paged through (as evidenced in the debug view).\n\nThe query I am running exceeds the 1MB data limit, and the \"debug\" view shows the handling of the **LastEvaluatedKey** and several pages through the dataset using the **ExclusiveStartKey**, but the outputted result of the query seems to be just the count of documents from the **first** POST to the dynamodb query endpoint, **not the sum** of the document counts.\n\n**Query** (without debug):\naws dynamodb query --table-name `<table>` --index-name `<index>`--expression-attribute-values '{\":hashval\":{\"S\":\"`<string>`\"} }' --key-condition-expression \"`<keyname>`=:hashval\" --select COUNT --output json --region `<region>`\n\n**Result Output**:\n{\n    \"Count\": 5191,\n    \"Items\": [],\n    \"ScannedCount\": 5191,\n    \"ConsumedCapacity\": null\n}\n\nThe actual count of items is in excess of 10,500. The \"debug\" output (see below) shows the paging, and the results of several queries, which have a count of 5191 when they reach the limit and lead to another paged request. The debug output below shows **three** POSTS, and the sum of the three returned \"Count\" values is the correct result.\n\n**Debug**:\n2015-07-14 15:35:24,931 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.7.38 Python/2.7.6 Darwin/14.4.0, botocore version: 1.1.1\n2015-07-14 15:35:24,931 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', 'dynamodb', 'query', '--table-name', '`<table>`', '--index-name', '`<index>`', '--expression-attribute-values', '{\":hashval\":{\"S\":\"`<string>`\"} }', '--key-condition-expression', '`<keyname>`=:hashval', '--select', 'COUNT', '--output', 'json', '--region', '`<region>`']\n2015-07-14 15:35:24,931 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x108001a28>\n2015-07-14 15:35:24,931 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x107fb5410>\n2015-07-14 15:35:24,990 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.dynamodb: calling handler <function register_retries_for_service at 0x107c8bf50>\n2015-07-14 15:35:24,990 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: dynamodb\n2015-07-14 15:35:24,991 - MainThread - botocore.hooks - DEBUG - Event building-command-table.dynamodb: calling handler <function add_waiters at 0x107fc5938>\n2015-07-14 15:35:24,994 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'table-name', <awscli.arguments.CLIArgument object at 0x1081d7190>), (u'index-name', <awscli.arguments.CLIArgument object at 0x1081d71d0>), (u'select', <awscli.arguments.CLIArgument object at 0x1081d7210>), (u'attributes-to-get', <awscli.arguments.ListArgument object at 0x1081d7250>), (u'limit', <awscli.arguments.CLIArgument object at 0x1081d7290>), (u'consistent-read', <awscli.arguments.BooleanArgument object at 0x1081d72d0>), (u'no-consistent-read', <awscli.arguments.BooleanArgument object at 0x1081d7310>), (u'key-conditions', <awscli.arguments.CLIArgument object at 0x1081d7350>), (u'query-filter', <awscli.arguments.CLIArgument object at 0x1081d7390>), (u'conditional-operator', <awscli.arguments.CLIArgument object at 0x1081d73d0>), (u'scan-index-forward', <awscli.arguments.BooleanArgument object at 0x1081d7410>), (u'no-scan-index-forward', <awscli.arguments.BooleanArgument object at 0x1081d7450>), (u'exclusive-start-key', <awscli.arguments.CLIArgument object at 0x1081d7490>), (u'return-consumed-capacity', <awscli.arguments.CLIArgument object at 0x1081d74d0>), (u'projection-expression', <awscli.arguments.CLIArgument object at 0x1081d7510>), (u'filter-expression', <awscli.arguments.CLIArgument object at 0x1081d7550>), (u'key-condition-expression', <awscli.arguments.CLIArgument object at 0x1081d7590>), (u'expression-attribute-names', <awscli.arguments.CLIArgument object at 0x1081d75d0>), (u'expression-attribute-values', <awscli.arguments.CLIArgument object at 0x1081d7610>)])\n2015-07-14 15:35:24,994 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.dynamodb.query: calling handler <function add_streaming_output_arg at 0x107ec6ed8>\n2015-07-14 15:35:24,995 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.dynamodb.query: calling handler <function add_cli_input_json at 0x107fafb18>\n2015-07-14 15:35:24,995 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.dynamodb.query: calling handler <function unify_paging_params at 0x107ed4cf8>\n2015-07-14 15:35:24,997 - MainThread - awscli.customizations.paginate - DEBUG - Modifying paging parameters for operation: Query\n2015-07-14 15:35:24,997 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.dynamodb.query: calling handler <function add_generate_skeleton at 0x107fafe60>\n2015-07-14 15:35:24,997 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.dynamodb.query: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x1081d7650>>\n2015-07-14 15:35:24,997 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.dynamodb.query: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x1081d78d0>>\n2015-07-14 15:35:24,999 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.dynamodb.query: calling handler <functools.partial object at 0x1081ce208>\n2015-07-14 15:35:24,999 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.table-name: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:24,999 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.dynamodb.query: calling handler <awscli.argprocess.ParamShorthand object at 0x1080101d0>\n2015-07-14 15:35:24,999 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-07-14 15:35:25,000 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'<table>' for parameter \"table_name\": u'<table>'\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.index-name: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.dynamodb.query: calling handler <awscli.argprocess.ParamShorthand object at 0x1080101d0>\n2015-07-14 15:35:25,000 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-07-14 15:35:25,000 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'<index>' for parameter \"index_name\": u'<index>'\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.select: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.dynamodb.query: calling handler <awscli.argprocess.ParamShorthand object at 0x1080101d0>\n2015-07-14 15:35:25,000 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-07-14 15:35:25,000 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'COUNT' for parameter \"select\": u'COUNT'\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.attributes-to-get: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.limit: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.consistent-read: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.key-conditions: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.query-filter: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.conditional-operator: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.scan-index-forward: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,000 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.exclusive-start-key: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.return-consumed-capacity: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.projection-expression: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.filter-expression: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.key-condition-expression: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.dynamodb.query: calling handler <awscli.argprocess.ParamShorthand object at 0x1080101d0>\n2015-07-14 15:35:25,001 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-07-14 15:35:25,001 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'<keyname>=:hashval' for parameter \"key_condition_expression\": u'<keyname>=:hashval'\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.expression-attribute-names: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.expression-attribute-values: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.dynamodb.query: calling handler <awscli.argprocess.ParamShorthand object at 0x1080101d0>\n2015-07-14 15:35:25,001 - MainThread - awscli.argprocess - DEBUG - Param expression_attribute_values looks like JSON, not considered for param shorthand.\n2015-07-14 15:35:25,001 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'{\":hashval\":{\"S\":\"<string>\"} }' for parameter \"expression_attribute_values\": OrderedDict([(u':hashval', OrderedDict([(u'S', u'<string>')]))])\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.cli-input-json: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.starting-token: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.page-size: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,001 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.max-items: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,002 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.query.generate-cli-skeleton: calling handler <function uri_param at 0x107eaf7d0>\n2015-07-14 15:35:25,002 - MainThread - botocore.hooks - DEBUG - Event calling-command.dynamodb.query: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x1081d78d0>>\n2015-07-14 15:35:25,002 - MainThread - botocore.hooks - DEBUG - Event calling-command.dynamodb.query: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x1081d7650>>\n2015-07-14 15:35:25,002 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2015-07-14 15:35:25,002 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2015-07-14 15:35:25,002 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2015-07-14 15:35:25,002 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\n2015-07-14 15:35:25,013 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: dynamodb\n2015-07-14 15:35:25,014 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.dynamodb: calling handler <function add_generate_presigned_url at 0x107c32d70>\n2015-07-14 15:35:25,209 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x1081d7f50> (verify_ssl=True) with params: {'body': '{\"KeyConditionExpression\": \"<keyname>=:hashval\", \"TableName\": \"<table>\", \"IndexName\": \"<index>\", \"ExpressionAttributeValues\": {\":hashval\": {\"S\": \"<string>\"}}, \"Select\": \"COUNT\"}', 'url': u'https://dynamodb.<region>.amazonaws.com/', 'headers': {'User-Agent': 'aws-cli/1.7.38 Python/2.7.6 Darwin/14.4.0', 'Content-Type': u'application/x-amz-json-1.0', 'X-Amz-Target': u'DynamoDB_20120810.Query'}, 'query_string': '', 'url_path': '/', 'method': u'POST'}\n2015-07-14 15:35:25,209 - MainThread - botocore.hooks - DEBUG - Event request-created.dynamodb.Query: calling handler <bound method DynamoDB._sign_request of <botocore.client.DynamoDB object at 0x1081dbd10>>\n2015-07-14 15:35:25,209 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2015-07-14 15:35:25,209 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\ncontent-type:application/x-amz-json-1.0\nhost:dynamodb.<region>.amazonaws.com\nuser-agent:aws-cli/1.7.38 Python/2.7.6 Darwin/14.4.0\nx-amz-date:20150714T143525Z\nx-amz-target:DynamoDB_20120810.Query\n\ncontent-type;host;user-agent;x-amz-date;x-amz-target\n\n2015-07-14 15:35:25,210 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20150714T143525Z\n20150714/<region>/dynamodb/aws4_request\n\n2015-07-14 15:35:25,210 - MainThread - botocore.auth - DEBUG - Signature:\n\n2015-07-14 15:35:25,226 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2015-07-14 15:35:25,226 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): dynamodb.<region>.amazonaws.com\n2015-07-14 15:35:26,272 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 224\n2015-07-14 15:35:26,273 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-requestid': '', 'date': 'Tue, 14 Jul 2015 14:35:25 GMT', 'content-length': '224', 'content-type': 'application/x-amz-json-1.0', 'x-amz-crc32': '2832221260'}\n2015-07-14 15:35:26,273 - MainThread - botocore.parsers - DEBUG - Response body:\n{\"Count\":5191,\"LastEvaluatedKey\":{\"someId\":{\"S\":\"<somestring>\"},\"<someOtherId>\":{\"S\":\"<someotherstring>\"},\"<keyname>\":{\"S\":\"<string>\"}},\"ScannedCount\":5191}\n2015-07-14 15:35:26,274 - MainThread - botocore.hooks - DEBUG - Event needs-retry.dynamodb.Query: calling handler <botocore.retryhandler.RetryHandler object at 0x108138dd0>\n2015-07-14 15:35:26,274 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2015-07-14 15:35:26,275 - MainThread - botocore.hooks - DEBUG - Event after-call.dynamodb.Query: calling handler <awscli.errorhandler.ErrorHandler object at 0x108010e50>\n2015-07-14 15:35:26,275 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2015-07-14 15:35:26,276 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x1081d7f50> (verify_ssl=True) with params: {'body': '{\"IndexName\": \"<index>\", \"TableName\": \"<table>\", \"ExclusiveStartKey\": {\"<keyname>\": {\"S\": \"<string>\"}, \"someId\": {\"S\": \"<somestring>\"}, \"<someOtherId>\": {\"S\": \"<someotherstring>\"}}, \"ExpressionAttributeValues\": {\":hashval\": {\"S\": \"<string>\"}}, \"KeyConditionExpression\": \"<keyname>=:hashval\", \"Select\": \"COUNT\"}', 'url': u'https://dynamodb.<region>.amazonaws.com/', 'headers': {'User-Agent': 'aws-cli/1.7.38 Python/2.7.6 Darwin/14.4.0', 'Content-Type': u'application/x-amz-json-1.0', 'X-Amz-Target': u'DynamoDB_20120810.Query'}, 'query_string': '', 'url_path': '/', 'method': u'POST'}\n2015-07-14 15:35:26,276 - MainThread - botocore.hooks - DEBUG - Event request-created.dynamodb.Query: calling handler <bound method DynamoDB._sign_request of <botocore.client.DynamoDB object at 0x1081dbd10>>\n2015-07-14 15:35:26,276 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2015-07-14 15:35:26,277 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\ncontent-type:application/x-amz-json-1.0\nhost:dynamodb.<region>.amazonaws.com\nuser-agent:aws-cli/1.7.38 Python/2.7.6 Darwin/14.4.0\nx-amz-date:20150714T143526Z\nx-amz-target:DynamoDB_20120810.Query\n\ncontent-type;host;user-agent;x-amz-date;x-amz-target\n\n2015-07-14 15:35:26,277 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20150714T143526Z\n20150714/<region>/dynamodb/aws4_request\n\n2015-07-14 15:35:26,277 - MainThread - botocore.auth - DEBUG - Signature:\n\n2015-07-14 15:35:26,277 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2015-07-14 15:35:26,426 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 224\n2015-07-14 15:35:26,427 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-requestid': '', 'date': 'Tue, 14 Jul 2015 14:35:26 GMT', 'content-length': '224', 'content-type': 'application/x-amz-json-1.0', 'x-amz-crc32': '342684507'}\n2015-07-14 15:35:26,427 - MainThread - botocore.parsers - DEBUG - Response body:\n{\"Count\":5191,\"LastEvaluatedKey\":{\"<someId>\":{\"S\":\"<somestring>\"},\"<someOtherId>\":{\"S\":\"<someotherstring>\"},\"<keyname>\":{\"S\":\"<string>\"}},\"ScannedCount\":5191}\n2015-07-14 15:35:26,427 - MainThread - botocore.hooks - DEBUG - Event needs-retry.dynamodb.Query: calling handler <botocore.retryhandler.RetryHandler object at 0x108138dd0>\n2015-07-14 15:35:26,427 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2015-07-14 15:35:26,427 - MainThread - botocore.hooks - DEBUG - Event after-call.dynamodb.Query: calling handler <awscli.errorhandler.ErrorHandler object at 0x108010e50>\n2015-07-14 15:35:26,427 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2015-07-14 15:35:26,428 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x1081d7f50> (verify_ssl=True) with params: {'body': '{\"IndexName\": \"<index>\", \"TableName\": \"<table>\", \"ExclusiveStartKey\": {\"<keyname>\": {\"S\": \"<string>\"}, \"<someId>\": {\"S\": \"<somestring>\"}, \"<someOtherID>\": {\"S\": \"<someotherstring>\"}}, \"ExpressionAttributeValues\": {\":hashval\": {\"S\": \"<string>\"}}, \"KeyConditionExpression\": \"<keyname>=:hashval\", \"Select\": \"COUNT\"}', 'url': u'https://dynamodb.<region>.amazonaws.com/', 'headers': {'User-Agent': 'aws-cli/1.7.38 Python/2.7.6 Darwin/14.4.0', 'Content-Type': u'application/x-amz-json-1.0', 'X-Amz-Target': u'DynamoDB_20120810.Query'}, 'query_string': '', 'url_path': '/', 'method': u'POST'}\n2015-07-14 15:35:26,428 - MainThread - botocore.hooks - DEBUG - Event request-created.dynamodb.Query: calling handler <bound method DynamoDB._sign_request of <botocore.client.DynamoDB object at 0x1081dbd10>>\n2015-07-14 15:35:26,429 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2015-07-14 15:35:26,429 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\ncontent-type:application/x-amz-json-1.0\nhost:dynamodb.<region>.amazonaws.com\nuser-agent:aws-cli/1.7.38 Python/2.7.6 Darwin/14.4.0\nx-amz-date:20150714T143526Z\nx-amz-target:DynamoDB_20120810.Query\n\ncontent-type;host;user-agent;x-amz-date;x-amz-target\n\n2015-07-14 15:35:26,429 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20150714T143526Z\n20150714/<region>/dynamodb/aws4_request\n\n2015-07-14 15:35:26,429 - MainThread - botocore.auth - DEBUG - Signature:\n\n2015-07-14 15:35:26,429 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2015-07-14 15:35:26,525 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 32\n2015-07-14 15:35:26,526 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-requestid': '', 'date': 'Tue, 14 Jul 2015 14:35:26 GMT', 'content-length': '32', 'content-type': 'application/x-amz-json-1.0', 'x-amz-crc32': '1760868401'}\n2015-07-14 15:35:26,526 - MainThread - botocore.parsers - DEBUG - Response body:\n{\"Count\":382,\"ScannedCount\":382}\n2015-07-14 15:35:26,527 - MainThread - botocore.hooks - DEBUG - Event needs-retry.dynamodb.Query: calling handler <botocore.retryhandler.RetryHandler object at 0x108138dd0>\n2015-07-14 15:35:26,527 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2015-07-14 15:35:26,527 - MainThread - botocore.hooks - DEBUG - Event after-call.dynamodb.Query: calling handler <awscli.errorhandler.ErrorHandler object at 0x108010e50>\n2015-07-14 15:35:26,527 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200```\n\n{\n    \"Count\": 5191,\n    \"Items\": [],\n    \"ScannedCount\": 5191,\n    \"ConsumedCapacity\": null\n}\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1423/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1384", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1384/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1384/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1384/events", "html_url": "https://github.com/aws/aws-cli/issues/1384", "id": 87722577, "node_id": "MDU6SXNzdWU4NzcyMjU3Nw==", "number": 1384, "title": "Pip install fails AWS CLI 1.7.34 wants simpleJSON in python 2.6", "user": {"login": "dstuebe", "id": 260583, "node_id": "MDQ6VXNlcjI2MDU4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/260583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dstuebe", "html_url": "https://github.com/dstuebe", "followers_url": "https://api.github.com/users/dstuebe/followers", "following_url": "https://api.github.com/users/dstuebe/following{/other_user}", "gists_url": "https://api.github.com/users/dstuebe/gists{/gist_id}", "starred_url": "https://api.github.com/users/dstuebe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dstuebe/subscriptions", "organizations_url": "https://api.github.com/users/dstuebe/orgs", "repos_url": "https://api.github.com/users/dstuebe/repos", "events_url": "https://api.github.com/users/dstuebe/events{/privacy}", "received_events_url": "https://api.github.com/users/dstuebe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-06-12T13:06:26Z", "updated_at": "2015-06-12T18:30:04Z", "closed_at": "2015-06-12T18:30:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nTraceback (most recent call last):\n  File \"/usr/local/bin/aws\", line 19, in <module>\n    import awscli.clidriver\n  File \"/usr/local/lib/python2.6/site-packages/awscli/clidriver.py\", line 16, in <module>\n    import botocore.session\n  File \"/usr/local/lib/python2.6/site-packages/botocore/session.py\", line 27, in <module>\n    import botocore.config\n  File \"/usr/local/lib/python2.6/site-packages/botocore/config.py\", line 18, in <module>\n    from botocore.compat import six\n  File \"/usr/local/lib/python2.6/site-packages/botocore/compat.py\", line 119, in <module>\n    import simplejson as json\nImportError: No module named simplejson\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1371", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1371/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1371/events", "html_url": "https://github.com/aws/aws-cli/issues/1371", "id": 85598851, "node_id": "MDU6SXNzdWU4NTU5ODg1MQ==", "number": 1371, "title": "[BUG] [aws deploy push] The Destination Bundle Type Does not Perform Compression (Zipping/Tarring)", "user": {"login": "virgofx", "id": 739719, "node_id": "MDQ6VXNlcjczOTcxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/739719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/virgofx", "html_url": "https://github.com/virgofx", "followers_url": "https://api.github.com/users/virgofx/followers", "following_url": "https://api.github.com/users/virgofx/following{/other_user}", "gists_url": "https://api.github.com/users/virgofx/gists{/gist_id}", "starred_url": "https://api.github.com/users/virgofx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/virgofx/subscriptions", "organizations_url": "https://api.github.com/users/virgofx/orgs", "repos_url": "https://api.github.com/users/virgofx/repos", "events_url": "https://api.github.com/users/virgofx/events{/privacy}", "received_events_url": "https://api.github.com/users/virgofx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JordonPhillips", "id": 2643092, "node_id": "MDQ6VXNlcjI2NDMwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2643092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordonPhillips", "html_url": "https://github.com/JordonPhillips", "followers_url": "https://api.github.com/users/JordonPhillips/followers", "following_url": "https://api.github.com/users/JordonPhillips/following{/other_user}", "gists_url": "https://api.github.com/users/JordonPhillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordonPhillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordonPhillips/subscriptions", "organizations_url": "https://api.github.com/users/JordonPhillips/orgs", "repos_url": "https://api.github.com/users/JordonPhillips/repos", "events_url": "https://api.github.com/users/JordonPhillips/events{/privacy}", "received_events_url": "https://api.github.com/users/JordonPhillips/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-06-05T18:25:44Z", "updated_at": "2015-10-12T20:09:47Z", "closed_at": "2015-10-12T20:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "When specifying a destination with a suffix of \".zip\" or \".tar\" or \".tar.gz\" for use with the `aws deploy push` command ... which are all allowed revisions ... the resulting bundle is not compressed.\n\nEither the extension of the bundle could automatically determine the desired compression or an alternate flag could be specified which determines that the actual file should be compressed using that appropriate mechanism.\n\nI noticed this testing large deployments that  were filling up S3 very fast --- when compressed it would have been not noticeable.\n\nAdditionally, directories with no files in them do not appear in the resulting bundle.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1366", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1366/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1366/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1366/events", "html_url": "https://github.com/aws/aws-cli/issues/1366", "id": 84635099, "node_id": "MDU6SXNzdWU4NDYzNTA5OQ==", "number": 1366, "title": "describe-spot-price-history --cli-input-json", "user": {"login": "include", "id": 16199, "node_id": "MDQ6VXNlcjE2MTk5", "avatar_url": "https://avatars.githubusercontent.com/u/16199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/include", "html_url": "https://github.com/include", "followers_url": "https://api.github.com/users/include/followers", "following_url": "https://api.github.com/users/include/following{/other_user}", "gists_url": "https://api.github.com/users/include/gists{/gist_id}", "starred_url": "https://api.github.com/users/include/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/include/subscriptions", "organizations_url": "https://api.github.com/users/include/orgs", "repos_url": "https://api.github.com/users/include/repos", "events_url": "https://api.github.com/users/include/events{/privacy}", "received_events_url": "https://api.github.com/users/include/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-06-03T15:54:58Z", "updated_at": "2015-06-05T09:54:56Z", "closed_at": "2015-06-03T22:08:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI am running awscli version \"aws-cli/1.7.31 Python/2.7.5 Darwin/13.4.0\" and I am trying to list history price for instances using a json template generated with\n\n``` shell\naws ec2 describe-spot-price-history --generate-cli-skeleton > spot-price-history.json\n```\n\nI have edited just this section:\n\n``` json\n    \"ProductDescriptions\": [\n        \"Linux/UNIX (Amazon VPC)\"\n    ],\n```\n\nand when I try to run and get those sweet prices, I get this error:\n\n``` shell\naws ec2 describe-spot-price-history --instance-type c3.large --cli-input-json file://spot-price-history.json --debug\n2015-06-03 16:49:05,509 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.7.31 Python/2.7.5 Darwin/13.4.0, botocore version: 1.0.0a3\n2015-06-03 16:49:05,509 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['ec2', 'describe-spot-price-history', '--instance-type', 'c3.large', '--cli-input-json', 'file://spot-price-history.json', '--debug']\n2015-06-03 16:49:05,509 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x108f68050>\n2015-06-03 16:49:05,510 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x108f149b0>\n2015-06-03 16:49:05,593 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.ec2: calling handler <function register_retries_for_service at 0x108b92e60>\n2015-06-03 16:49:05,594 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: ec2\n2015-06-03 16:49:05,606 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <functools.partial object at 0x108f6a730>\n2015-06-03 16:49:05,606 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-instance\n2015-06-03 16:49:05,607 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-volume\n2015-06-03 16:49:05,607 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <function add_waiters at 0x108f1bed8>\n2015-06-03 16:49:05,611 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'dry-run', <awscli.arguments.BooleanArgument object at 0x1093c0350>), (u'no-dry-run', <awscli.arguments.BooleanArgument object at 0x1093c0210>), (u'start-time', <awscli.arguments.CLIArgument object at 0x1093c0690>), (u'end-time', <awscli.arguments.CLIArgument object at 0x1093c06d0>), (u'instance-types', <awscli.arguments.ListArgument object at 0x1093c0710>), (u'product-descriptions', <awscli.arguments.ListArgument object at 0x1093c0750>), (u'filters', <awscli.arguments.ListArgument object at 0x1093c0790>), (u'availability-zone', <awscli.arguments.CLIArgument object at 0x1093c07d0>), (u'max-results', <awscli.arguments.CLIArgument object at 0x1093c0810>), (u'next-token', <awscli.arguments.CLIArgument object at 0x1093c0850>)])\n2015-06-03 16:49:05,611 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-spot-price-history: calling handler <function add_streaming_output_arg at 0x108e09aa0>\n2015-06-03 16:49:05,611 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-spot-price-history: calling handler <function _rename_arg at 0x108f70500>\n2015-06-03 16:49:05,612 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-spot-price-history: calling handler <function _rename_arg at 0x108f707d0>\n2015-06-03 16:49:05,612 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-spot-price-history: calling handler <functools.partial object at 0x108f6a890>\n2015-06-03 16:49:05,612 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-spot-price-history: calling handler <function add_cli_input_json at 0x108f14230>\n2015-06-03 16:49:05,612 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-spot-price-history: calling handler <function unify_paging_params at 0x108e16b18>\n2015-06-03 16:49:05,613 - MainThread - awscli.customizations.paginate - DEBUG - Modifying paging parameters for operation: DescribeSpotPriceHistory\n2015-06-03 16:49:05,613 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.describe-spot-price-history: calling handler <function add_generate_skeleton at 0x108f14500>\n2015-06-03 16:49:05,613 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.describe-spot-price-history: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x10939e390>>\n2015-06-03 16:49:05,613 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.describe-spot-price-history: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x1093c0d50>>\n2015-06-03 16:49:05,615 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.ec2.describe-spot-price-history: calling handler <functools.partial object at 0x109340db8>\n2015-06-03 16:49:05,615 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.ec2.describe-spot-price-history: calling handler <functools.partial object at 0x109340e10>\n2015-06-03 16:49:05,615 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.dry-run: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,615 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.start-time: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,615 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.end-time: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,616 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.instance-types: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,616 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.ec2.describe-spot-price-history: calling handler <awscli.argprocess.ParamShorthand object at 0x108f67d50>\n2015-06-03 16:49:05,616 - MainThread - awscli.argprocess - DEBUG - Detected structure: list-scalar\n2015-06-03 16:49:05,616 - MainThread - awscli.arguments - DEBUG - Unpacked value of [u'c3.large'] for parameter \"instance_types\": [u'c3.large']\n2015-06-03 16:49:05,616 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.product-descriptions: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,616 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.filters: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,616 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.availability-zone: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,617 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.max-results: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,617 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.next-token: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,617 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.cli-input-json: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,617 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.starting-token: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,617 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.page-size: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,617 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.max-items: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,618 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.describe-spot-price-history.generate-cli-skeleton: calling handler <function uri_param at 0x108dddc08>\n2015-06-03 16:49:05,618 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-spot-price-history: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x1093c0d50>>\n2015-06-03 16:49:05,618 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.describe-spot-price-history: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x10939e390>>\n2015-06-03 16:49:05,618 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2015-06-03 16:49:05,618 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\n2015-06-03 16:49:05,619 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: ec2\n2015-06-03 16:49:05,624 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x108b6dc80>\n2015-06-03 16:49:05,639 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 183, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 369, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 538, in __call__\n    call_parameters, parsed_globals)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 663, in invoke\n    self._display_response(operation_name, response, parsed_globals)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 672, in _display_response\n    formatter(command_name, response)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/formatter.py\", line 234, in __call__\n    for page in response:\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/paginate.py\", line 83, in __iter__\n    response = self._make_request(current_kwargs)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/paginate.py\", line 129, in _make_request\n    return self._method(**current_kwargs)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/client.py\", line 256, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/client.py\", line 299, in _make_api_call\n    api_params, operation_model)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/client.py\", line 340, in _convert_to_request_dict\n    api_params, operation_model)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 269, in serialize_to_request\n    operation_model.input_shape)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 158, in validate\n    self._validate(params, shape, errors, name='')\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 162, in _validate\n    getattr(self, '_validate_%s' % shape.type_name)(params, shape, errors, name)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 54, in _on_passes_type_check\n    return func(self, param, shape, errors, name)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 183, in _validate_structure\n    errors, '%s.%s' % (name, param))\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 162, in _validate\n    getattr(self, '_validate_%s' % shape.type_name)(params, shape, errors, name)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 246, in _validate_timestamp\n    is_valid_type = self._type_check_datetime(param)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/validate.py\", line 254, in _type_check_datetime\n    parse_to_aware_datetime(value)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/utils.py\", line 344, in parse_to_aware_datetime\n    datetime_obj = parse_timestamp(value)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/utils.py\", line 306, in parse_timestamp\n    return dateutil.parser.parse(value)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/dateutil/parser.py\", line 1008, in parse\n    return DEFAULTPARSER.parse(timestr, **kwargs)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/dateutil/parser.py\", line 392, in parse\n    res = self._parse(timestr, **kwargs)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/dateutil/parser.py\", line 492, in _parse\n    l = _timelex.split(timestr)         # Splits the timestr into tokens\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/dateutil/parser.py\", line 174, in split\n    return list(cls(s))\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/dateutil/parser.py\", line 171, in next\n    return self.__next__()  # Python 2.x support\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/dateutil/parser.py\", line 164, in __next__\n    token = self.get_token()\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/dateutil/parser.py\", line 82, in get_token\n    nextchar = self.instream.read(1)\nAttributeError: 'NoneType' object has no attribute 'read'\n2015-06-03 16:49:05,641 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\n'NoneType' object has no attribute 'read'\n```\n\nsome help would be appreciated :)\n\nCheers,\nFrancisco\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1366/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1365", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1365/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1365/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1365/events", "html_url": "https://github.com/aws/aws-cli/issues/1365", "id": 84349936, "node_id": "MDU6SXNzdWU4NDM0OTkzNg==", "number": 1365, "title": "rds download-db-log-file-portion error: TypeError: 'NoneType' object has no attribute '__getitem__'", "user": {"login": "snarfed", "id": 778068, "node_id": "MDQ6VXNlcjc3ODA2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/778068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snarfed", "html_url": "https://github.com/snarfed", "followers_url": "https://api.github.com/users/snarfed/followers", "following_url": "https://api.github.com/users/snarfed/following{/other_user}", "gists_url": "https://api.github.com/users/snarfed/gists{/gist_id}", "starred_url": "https://api.github.com/users/snarfed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snarfed/subscriptions", "organizations_url": "https://api.github.com/users/snarfed/orgs", "repos_url": "https://api.github.com/users/snarfed/repos", "events_url": "https://api.github.com/users/snarfed/events{/privacy}", "received_events_url": "https://api.github.com/users/snarfed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 244675726, "node_id": "MDU6TGFiZWwyNDQ2NzU3MjY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/pr:needs-review", "name": "pr:needs-review", "color": "358F18", "default": false, "description": "This PR needs a review from a Member."}], "state": "closed", "locked": false, "assignee": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-06-03T04:16:40Z", "updated_at": "2015-11-09T09:09:47Z", "closed_at": "2015-11-09T09:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "`aws rds download-db-log-file-portion` currently fails for me on some of our log files, but not others. example debug log and stack trace below. the log files that fail mostly end in `-15` through `-01`, ie they're the hourly logs for 3pm through 1am, but only for some days. any ideas?\n\n```\nhell:~> aws --version\naws --version\naws-cli/1.7.31 Python/2.7.6 Darwin/14.3.0\n\nhell:~> aws --debug --profile=prod --region=us-east-1 rds download-db-log-file-portion --db-instance-identifier default-prod --max-items 99999999 --starting-token 0 --output text --log-file-name error/postgresql.log.2015-05-29-20\naws --debug --profile=prod --region=us-east-1 rds download-db-log-file-portion --db-instance-identifier default-prod --max-items 99999999 --starting-token 0 --output text --log-file-name error/postgresql.log.2015-05-29-20\n2015-06-02 20:46:50,823 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.7.31 Python/2.7.6 Darwin/14.3.0, botocore version: 1.0.0a3\n2015-06-02 20:46:50,823 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', '--profile=prod', '--region=us-east-1', 'rds', 'download-db-log-file-portion', '--db-instance-identifier', 'default-prod', '--max-items', '99999999', '--starting-token', '0', '--output', 'text', '--log-file-name', 'error/postgresql.log.2015-05-29-20']\n2015-06-02 20:46:50,823 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x10c4925f0>\n2015-06-02 20:46:50,824 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x10c446410>\n2015-06-02 20:46:50,824 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\n2015-06-02 20:46:50,848 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.rds: calling handler <function register_retries_for_service at 0x10c0bc2a8>\n2015-06-02 20:46:50,849 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: rds\n2015-06-02 20:46:50,851 - MainThread - botocore.hooks - DEBUG - Event building-command-table.rds: calling handler <function _building_command_table at 0x10c3cf320>\n2015-06-02 20:46:50,851 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.rds: calling handler <function register_retries_for_service at 0x10c0bc2a8>\n2015-06-02 20:46:50,852 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: rds\n2015-06-02 20:46:50,887 - MainThread - botocore.hooks - DEBUG - Event building-command-table.rds: calling handler <function add_waiters at 0x10c44b500>\n2015-06-02 20:46:50,890 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'db-instance-identifier', <awscli.arguments.CLIArgument object at 0x10c6fc850>), (u'log-file-name', <awscli.arguments.CLIArgument object at 0x10c6fc550>), (u'marker', <awscli.arguments.CLIArgument object at 0x10c6fc890>), (u'number-of-lines', <awscli.arguments.CLIArgument object at 0x10c6fc8d0>)])\n2015-06-02 20:46:50,890 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.rds.download-db-log-file-portion: calling handler <function add_streaming_output_arg at 0x10c32ded8>\n2015-06-02 20:46:50,890 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.rds.download-db-log-file-portion: calling handler <function add_cli_input_json at 0x10c43a7d0>\n2015-06-02 20:46:50,890 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.rds.download-db-log-file-portion: calling handler <function unify_paging_params at 0x10c33ff50>\n2015-06-02 20:46:50,972 - MainThread - awscli.customizations.paginate - DEBUG - Modifying paging parameters for operation: DownloadDBLogFilePortion\n2015-06-02 20:46:50,972 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.rds.download-db-log-file-portion: calling handler <function add_generate_skeleton at 0x10c43aaa0>\n2015-06-02 20:46:50,973 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.rds.download-db-log-file-portion: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x10c6fc910>>\n2015-06-02 20:46:50,973 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.rds.download-db-log-file-portion: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x10c6fcc90>>\n2015-06-02 20:46:51,037 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.rds.download-db-log-file-portion: calling handler <functools.partial object at 0x10c618d08>\n2015-06-02 20:46:51,037 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.db-instance-identifier: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,037 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.rds.download-db-log-file-portion: calling handler <awscli.argprocess.ParamShorthand object at 0x10c498290>\n2015-06-02 20:46:51,037 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-06-02 20:46:51,037 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'default-prod' for parameter \"db_instance_identifier\": u'default-prod'\n2015-06-02 20:46:51,037 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.log-file-name: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,106 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.rds.download-db-log-file-portion: calling handler <awscli.argprocess.ParamShorthand object at 0x10c498290>\n2015-06-02 20:46:51,106 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-06-02 20:46:51,106 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'error/postgresql.log.2015-05-29-20' for parameter \"log_file_name\": u'error/postgresql.log.2015-05-29-20'\n2015-06-02 20:46:51,107 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.marker: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,107 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.number-of-lines: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,107 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.cli-input-json: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,210 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.starting-token: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,210 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.page-size: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,210 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.max-items: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,210 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.rds.download-db-log-file-portion.generate-cli-skeleton: calling handler <function uri_param at 0x10c3210c8>\n2015-06-02 20:46:51,210 - MainThread - botocore.hooks - DEBUG - Event calling-command.rds.download-db-log-file-portion: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x10c6fcc90>>\n2015-06-02 20:46:51,293 - MainThread - botocore.hooks - DEBUG - Event calling-command.rds.download-db-log-file-portion: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x10c6fc910>>\n2015-06-02 20:46:51,293 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2015-06-02 20:46:51,293 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2015-06-02 20:46:51,294 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\n2015-06-02 20:46:51,295 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: rds\n2015-06-02 20:46:51,297 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.rds: calling handler <function add_generate_presigned_url at 0x10c095f50>\n2015-06-02 20:46:51,307 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x10c724410> (verify_ssl=True) with params: {'url_path': '/', 'body': {u'LogFileName': u'error/postgresql.log.2015-05-29-20', 'Version': u'2014-10-31', u'DBInstanceIdentifier': u'default-prod', u'Marker': u'0', 'Action': u'DownloadDBLogFilePortion'}, 'headers': {'User-Agent': 'aws-cli/1.7.31 Python/2.7.6 Darwin/14.3.0'}, 'url': u'https://rds.amazonaws.com/', 'query_string': '', 'method': u'POST'}\n2015-06-02 20:46:51,372 - MainThread - botocore.hooks - DEBUG - Event request-created.rds.DownloadDBLogFilePortion: calling handler <bound method rds._sign_request of <botocore.client.rds object at 0x10c707e10>>\n2015-06-02 20:46:51,373 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2015-06-02 20:46:51,373 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\nhost:rds.amazonaws.com\nuser-agent:aws-cli/1.7.31 Python/2.7.6 Darwin/14.3.0\nx-amz-date:20150603T034651Z\n\nhost;user-agent;x-amz-date\nXXX\n2015-06-02 20:46:51,443 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20150603T034651Z\n20150603/us-east-1/rds/aws4_request\nXXX\n2015-06-02 20:46:51,443 - MainThread - botocore.auth - DEBUG - Signature:\nXXX\n2015-06-02 20:46:51,449 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2015-06-02 20:46:51,449 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): rds.amazonaws.com\n2015-06-02 20:46:52,846 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 355\n2015-06-02 20:46:52,847 - MainThread - botocore.parsers - DEBUG - Response headers:\n{'content-length': '355',\n 'content-type': 'text/xml',\n 'date': 'Wed, 03 Jun 2015 03:46:52 GMT',\n 'x-amzn-requestid': 'XXX'}\n2015-06-02 20:46:52,847 - MainThread - botocore.parsers - DEBUG - Response body:\n<DownloadDBLogFilePortionResponse xmlns=\"http://rds.amazonaws.com/doc/2014-10-31/\">\n  <DownloadDBLogFilePortionResult>\n    <AdditionalDataPending>false</AdditionalDataPending>\n  </DownloadDBLogFilePortionResult>\n  <ResponseMetadata>\n    <RequestId>XXX</RequestId>\n  </ResponseMetadata>\n</DownloadDBLogFilePortionResponse>\n\n2015-06-02 20:46:52,848 - MainThread - botocore.hooks - DEBUG - Event needs-retry.rds.DownloadDBLogFilePortion: calling handler <botocore.retryhandler.RetryHandler object at 0x10c689f10>\n2015-06-02 20:46:52,848 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2015-06-02 20:46:52,848 - MainThread - botocore.hooks - DEBUG - Event after-call.rds.DownloadDBLogFilePortion: calling handler <awscli.errorhandler.ErrorHandler object at 0x10c498590>\n2015-06-02 20:46:52,940 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2015-06-02 20:46:52,941 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 183, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 369, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 538, in __call__\n    call_parameters, parsed_globals)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 663, in invoke\n    self._display_response(operation_name, response, parsed_globals)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/clidriver.py\", line 672, in _display_response\n    formatter(command_name, response)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/lib/python2.7/site-packages/awscli/formatter.py\", line 234, in __call__\n    for page in response:\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/paginate.py\", line 91, in __iter__\n    parsed, primary_result_key, starting_truncation)\n  File \"/usr/local/Cellar/awscli/1.7.31/libexec/vendor/lib/python2.7/site-packages/botocore/paginate.py\", line 171, in _handle_first_request\n    all_data[starting_truncation:]\nTypeError: 'NoneType' object has no attribute '__getitem__'\n2015-06-02 20:46:53,039 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\n'NoneType' object has no attribute '__getitem__'\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1365/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1322", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1322/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1322/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1322/events", "html_url": "https://github.com/aws/aws-cli/issues/1322", "id": 74181640, "node_id": "MDU6SXNzdWU3NDE4MTY0MA==", "number": 1322, "title": "aws s3 sync fails if user does not own all files", "user": {"login": "nicwaller", "id": 2850248, "node_id": "MDQ6VXNlcjI4NTAyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/2850248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicwaller", "html_url": "https://github.com/nicwaller", "followers_url": "https://api.github.com/users/nicwaller/followers", "following_url": "https://api.github.com/users/nicwaller/following{/other_user}", "gists_url": "https://api.github.com/users/nicwaller/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicwaller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicwaller/subscriptions", "organizations_url": "https://api.github.com/users/nicwaller/orgs", "repos_url": "https://api.github.com/users/nicwaller/repos", "events_url": "https://api.github.com/users/nicwaller/events{/privacy}", "received_events_url": "https://api.github.com/users/nicwaller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "mtdowling", "id": 190930, "node_id": "MDQ6VXNlcjE5MDkzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/190930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtdowling", "html_url": "https://github.com/mtdowling", "followers_url": "https://api.github.com/users/mtdowling/followers", "following_url": "https://api.github.com/users/mtdowling/following{/other_user}", "gists_url": "https://api.github.com/users/mtdowling/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtdowling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtdowling/subscriptions", "organizations_url": "https://api.github.com/users/mtdowling/orgs", "repos_url": "https://api.github.com/users/mtdowling/repos", "events_url": "https://api.github.com/users/mtdowling/events{/privacy}", "received_events_url": "https://api.github.com/users/mtdowling/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mtdowling", "id": 190930, "node_id": "MDQ6VXNlcjE5MDkzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/190930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtdowling", "html_url": "https://github.com/mtdowling", "followers_url": "https://api.github.com/users/mtdowling/followers", "following_url": "https://api.github.com/users/mtdowling/following{/other_user}", "gists_url": "https://api.github.com/users/mtdowling/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtdowling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtdowling/subscriptions", "organizations_url": "https://api.github.com/users/mtdowling/orgs", "repos_url": "https://api.github.com/users/mtdowling/repos", "events_url": "https://api.github.com/users/mtdowling/events{/privacy}", "received_events_url": "https://api.github.com/users/mtdowling/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-05-08T01:04:06Z", "updated_at": "2015-10-27T20:44:57Z", "closed_at": "2015-10-27T20:44:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am finding that `aws s3 sync` will fail if the active user does not have ownership of files in the sync target, regardless of what permissions are set for group and other.\n\n**Normal result**\n\n```\n$ aws s3 sync s3://example.com/ example/\ndownload: s3://example.com/file.txt to example/file.txt\n```\n\n**Problematic result**\n\nTo reproduce the problem, create an empty file that is world-writable but owned by root. aws s3 sync will fail to sync this file, even though the effective permissions allow the user to write to the file.\n\n```\n$ mkdir example && touch example/file.txt\n$ sudo chown root example/file.txt && sudo chmod 777 example/file.txt\n\n$ aws s3 sync s3://example.com/ example/\ndownload failed: s3://example.com/file.txt to example/file.txt\n[Errno 1] Operation not permitted: '/example/file.txt'\n\n$ ls -l example/file.txt\n-rwxrwxrwx  1 root  wheel  54  7 May 17:55 example/file.txt\n```\n\nHowever, when running as the root user (`sudo aws s3 sync`) I cannot reproduce the problem. The file downloads as expected.\n\n**Environment**\n\nI am able to reproduce this issue on both machines I've tried it on:\n- aws-cli/1.7.25 Python/2.7.6 Darwin/14.3.0 (Mac OS X 10.10)\n- aws-cli/1.7.10 Python/2.7.6 Linux/3.13.0-40-generic (Ubuntu 14.04)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1322/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1308", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1308/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1308/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1308/events", "html_url": "https://github.com/aws/aws-cli/issues/1308", "id": 71226879, "node_id": "MDU6SXNzdWU3MTIyNjg3OQ==", "number": 1308, "title": "CloudWatch Logs not respecting proxy configuration", "user": {"login": "philwill-nap", "id": 9963942, "node_id": "MDQ6VXNlcjk5NjM5NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/9963942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philwill-nap", "html_url": "https://github.com/philwill-nap", "followers_url": "https://api.github.com/users/philwill-nap/followers", "following_url": "https://api.github.com/users/philwill-nap/following{/other_user}", "gists_url": "https://api.github.com/users/philwill-nap/gists{/gist_id}", "starred_url": "https://api.github.com/users/philwill-nap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philwill-nap/subscriptions", "organizations_url": "https://api.github.com/users/philwill-nap/orgs", "repos_url": "https://api.github.com/users/philwill-nap/repos", "events_url": "https://api.github.com/users/philwill-nap/events{/privacy}", "received_events_url": "https://api.github.com/users/philwill-nap/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-04-27T09:11:52Z", "updated_at": "2015-04-28T00:32:15Z", "closed_at": "2015-04-28T00:32:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: aws-cli/1.7.23 Python/2.7.9 Linux/3.14.35-28.38.amzn1.x86_64\n\nAll calls to the internet from our VPC must pass through our ELB/ASG of proxy servers. To use CloudWatch Logs in this environment we were advised to patch awslogs-agent-launcher.sh as follows:\n\n```\n#!/bin/sh\n# Version: 1.3.2\necho -n $$ > /var/awslogs/state/awslogs.pid\n/usr/bin/env -i AWS_CONFIG_FILE=/var/awslogs/etc/aws.conf HOME=$HOME no_proxy=169.254.169.254 http_proxy=http://proxy:3128 https_proxy=http://proxy:3128 /bin/nice -n 4 /var/awslogs/bin/aws logs push --config-file /var/awslogs/etc/awslogs.conf >> /var/log/awslogs.log 2>&1\n```\n\nWith these amendments the following appears in /var/log/awslogs.log:\n\n```\n2015-04-27 09:15:40,742 - cwlogs.push.publisher - WARNING - 3011 - Thread-3 - Caught exception: hostname 'proxy' doesn't match 'logs.eu-west-1.amazonaws.com'\n2015-04-27 09:15:40,743 - cwlogs.threads - ERROR - 3011 - Thread-3 - Exception caught in <EventBatchPublisher(Thread-3, started daemon 140288008165120)>\nTraceback (most recent call last):\n  File \"/var/awslogs/local/lib/python2.7/site-packages/cwlogs/threads.py\", line 58, in run\nself._run()\n  File \"/var/awslogs/local/lib/python2.7/site-packages/cwlogs/push.py\", line 1235, in _run\nself._publish_event_batch()\n  File \"/var/awslogs/local/lib/python2.7/site-packages/cwlogs/push.py\", line 1085, in _publish_event_batch\nself.sequence_token = self._put_log_events(self.event_batch)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/cwlogs/push.py\", line 1123, in _put_log_events\nresponse = self.logs_service.PutLogEvents(**params)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/awscli/customizations/service.py\", line 36, in __call__\nres, data = self._operation.call(self.endpoint, **kwargs)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/operation.py\", line 90, in call\nresponse = endpoint.make_request(self.model, request_dict)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/endpoint.py\", line 109, in make_request\nreturn self._send_request(prepared_request, operation_model)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/endpoint.py\", line 172, in _send_request\nresponse, exception):\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/endpoint.py\", line 213, in _needs_retry\ncaught_exception=caught_exception)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/hooks.py\", line 182, in emit\nresponse = handler(**kwargs)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/retryhandler.py\", line 180, in __call__\nif self._checker(attempts, response, caught_exception):\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/retryhandler.py\", line 247, in __call__\ncaught_exception)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/retryhandler.py\", line 270, in _should_retry\nreturn self._checker(attempt_number, response, caught_exception)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/retryhandler.py\", line 310, in __call__\ncaught_exception)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/retryhandler.py\", line 219, in __call__\nreturn self._check_caught_exception(attempt_number, caught_exception)\n  File \"/var/awslogs/local/lib/python2.7/site-packages/botocore/retryhandler.py\", line 352, in _check_caught_exception\nraise caught_exception\nSSLError: hostname 'proxy' doesn't match 'logs.eu-west-1.amazonaws.com'\n```\n\nI tried adding the `--no-verify-ssl` option to the `aws` invocation but it had no effect.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1308/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1307", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1307/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1307/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1307/events", "html_url": "https://github.com/aws/aws-cli/issues/1307", "id": 70769879, "node_id": "MDU6SXNzdWU3MDc2OTg3OQ==", "number": 1307, "title": "aws opsworks register failing", "user": {"login": "plentz", "id": 4867, "node_id": "MDQ6VXNlcjQ4Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/4867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plentz", "html_url": "https://github.com/plentz", "followers_url": "https://api.github.com/users/plentz/followers", "following_url": "https://api.github.com/users/plentz/following{/other_user}", "gists_url": "https://api.github.com/users/plentz/gists{/gist_id}", "starred_url": "https://api.github.com/users/plentz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plentz/subscriptions", "organizations_url": "https://api.github.com/users/plentz/orgs", "repos_url": "https://api.github.com/users/plentz/repos", "events_url": "https://api.github.com/users/plentz/events{/privacy}", "received_events_url": "https://api.github.com/users/plentz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-04-24T19:07:03Z", "updated_at": "2016-04-18T19:40:50Z", "closed_at": "2015-04-27T17:03:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "`$ aws opsworks register --infrastructure-class ec2 --region us-east-1 --stack-id cda2bb12-f4ae-49bf-9845-234a5b78bdc9 --ssh-username root --ssh-private-key ~/my.pem i-83b42975`\n\n```\n[Fri, 24 Apr 2015 19:01:10 +0000] opsworks-init: Executing: /tmp/opsworks-agent-installer.l1inE6CmU3h2Njwo/opsworks-agent-installer/opsworks-agent/bin/installer_wrapper.sh -r -R opsworks-instance-assets-us-east-1.s3.amazonaws.com\nUsing opsworks-instance-assets-us-east-1.s3.amazonaws.com for assets.\nfind: `/tmp/opsworks-downloader*': No such file or directory\nDownloading agent ruby package\n[ Fri, 24 Apr 2015 19:01:10 +0000 ] downloader: Successfully created temporary download directory. (/tmp/opsworks-downloader.5UDVKn13)\nhttps://opsworks-instance-assets-us-east-1.s3.amazonaws.com/packages/amazon//opsworks-agent-ruby-2.0.0-p481-1.x86_64.rpm:\n2015-04-24 19:01:10 ERROR 403: Forbidden.\n[ Fri, 24 Apr 2015 19:01:10 +0000 ] downloader: [ERROR] File size test failed, no file to check.\n[ Fri, 24 Apr 2015 19:01:10 +0000 ] downloader: Retrying download after 0 seconds\n[ Fri, 24 Apr 2015 19:01:10 +0000 ] downloader: Deleting content of directory /tmp/opsworks-downloader.5UDVKn13\nhttps://opsworks-instance-assets-us-east-1.s3.amazonaws.com/packages/amazon//opsworks-agent-ruby-2.0.0-p481-1.x86_64.rpm:\n2015-04-24 19:01:10 ERROR 403: Forbidden.\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1306", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1306/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1306/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1306/events", "html_url": "https://github.com/aws/aws-cli/issues/1306", "id": 70609757, "node_id": "MDU6SXNzdWU3MDYwOTc1Nw==", "number": 1306, "title": "Between version 1.7.22 and 1.7.23 query to pring Tag fails", "user": {"login": "gergnz", "id": 1312783, "node_id": "MDQ6VXNlcjEzMTI3ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1312783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gergnz", "html_url": "https://github.com/gergnz", "followers_url": "https://api.github.com/users/gergnz/followers", "following_url": "https://api.github.com/users/gergnz/following{/other_user}", "gists_url": "https://api.github.com/users/gergnz/gists{/gist_id}", "starred_url": "https://api.github.com/users/gergnz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gergnz/subscriptions", "organizations_url": "https://api.github.com/users/gergnz/orgs", "repos_url": "https://api.github.com/users/gergnz/repos", "events_url": "https://api.github.com/users/gergnz/events{/privacy}", "received_events_url": "https://api.github.com/users/gergnz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-04-24T07:15:35Z", "updated_at": "2015-04-27T19:42:50Z", "closed_at": "2015-04-27T19:42:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "This command works and prints out the value of the tag in 1.7.22\n\n``` bash\naws --output text --region ap-southeast-2 ec2 describe-instances --instance-ids i-aed46472 --query 'Reservations[*].Instances[*].Tags[?Key==`Environment`].Value[]'\n```\n\nIn 1.7.23 and 1.7.24 it prints nothing.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1278", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1278/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1278/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1278/events", "html_url": "https://github.com/aws/aws-cli/pull/1278", "id": 67492542, "node_id": "MDExOlB1bGxSZXF1ZXN0MzMwMTM1NDU=", "number": 1278, "title": "bug fix: _min_version_required was not comparing version numbers correctly", "user": {"login": "santana", "id": 7518, "node_id": "MDQ6VXNlcjc1MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/7518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/santana", "html_url": "https://github.com/santana", "followers_url": "https://api.github.com/users/santana/followers", "following_url": "https://api.github.com/users/santana/following{/other_user}", "gists_url": "https://api.github.com/users/santana/gists{/gist_id}", "starred_url": "https://api.github.com/users/santana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/santana/subscriptions", "organizations_url": "https://api.github.com/users/santana/orgs", "repos_url": "https://api.github.com/users/santana/repos", "events_url": "https://api.github.com/users/santana/events{/privacy}", "received_events_url": "https://api.github.com/users/santana/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-04-10T02:29:44Z", "updated_at": "2015-04-13T23:22:53Z", "closed_at": "2015-04-13T22:04:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/1278", "html_url": "https://github.com/aws/aws-cli/pull/1278", "diff_url": "https://github.com/aws/aws-cli/pull/1278.diff", "patch_url": "https://github.com/aws/aws-cli/pull/1278.patch", "merged_at": "2015-04-13T22:04:02Z"}, "body": "converts version strings to vectors of integers, gets a comparison vector from them and then computes a single value to determine which one is higher.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1278/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1278/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1276", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1276/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1276/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1276/events", "html_url": "https://github.com/aws/aws-cli/issues/1276", "id": 67467021, "node_id": "MDU6SXNzdWU2NzQ2NzAyMQ==", "number": 1276, "title": "`ls' works for a given bucket, but `sync' says the bucket does not exist.", "user": {"login": "cstrahan", "id": 143982, "node_id": "MDQ6VXNlcjE0Mzk4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/143982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cstrahan", "html_url": "https://github.com/cstrahan", "followers_url": "https://api.github.com/users/cstrahan/followers", "following_url": "https://api.github.com/users/cstrahan/following{/other_user}", "gists_url": "https://api.github.com/users/cstrahan/gists{/gist_id}", "starred_url": "https://api.github.com/users/cstrahan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cstrahan/subscriptions", "organizations_url": "https://api.github.com/users/cstrahan/orgs", "repos_url": "https://api.github.com/users/cstrahan/repos", "events_url": "https://api.github.com/users/cstrahan/events{/privacy}", "received_events_url": "https://api.github.com/users/cstrahan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-04-09T22:49:09Z", "updated_at": "2020-03-08T07:01:15Z", "closed_at": "2015-04-09T23:06:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ aws s3 ls --profile blog s3://www.cstrahan.com --region us-east-1\n                           PRE 2009/\n                           PRE 2010/\n                           PRE 2011/\n                           PRE 2012/\n                           PRE 2013/\n                           PRE css/\n                           PRE images/\n                           PRE js/\n2013-03-18 12:53:54         13 CNAME\n2013-04-26 15:47:30        221 Gemfile\n2013-04-26 15:47:30       1406 Gemfile.lock\n2013-03-18 12:54:34        270 README.textile\n2013-04-26 15:47:30       1235 TODO\n2013-04-26 15:47:30       1735 about.html\n2013-04-26 15:47:30     229207 atom.xml\n2013-03-18 12:53:59      82726 favicon.ico\n2013-04-26 15:47:31       2278 index.html\n\n$ aws s3 sync . s3://wwww.cstrahan.com  --profile blog --region us-east-1\nA client error (NoSuchBucket) occurred when calling the ListObjects operation: The specified bucket does not exist\nCompleted 1 part(s) with ... file(s) remaining\n```\n\nAnything I can do to help resolve this?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1252", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1252/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1252/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1252/events", "html_url": "https://github.com/aws/aws-cli/issues/1252", "id": 65301498, "node_id": "MDU6SXNzdWU2NTMwMTQ5OA==", "number": 1252, "title": "aws ec2 wait password-data-available does not work", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-30T21:00:04Z", "updated_at": "2015-04-14T16:24:14Z", "closed_at": "2015-04-14T16:24:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "You'll get an error because of a JMESPath type error.\n\n```\n$ aws ec2 wait password-data-available --instance-id i-id\n\nIn function length(), invalid type for value: None, expected one of: ['string', 'array', 'object'], received: \"string\"\n```\n\nThis is because we're parsing this XML response:\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<GetPasswordDataResponse xmlns=\"http://ec2.amazonaws.com/doc/2014-10-01/\">\n    <requestId>id</requestId>\n    <instanceId>i-id</instanceId>\n    <timestamp>2015-03-30T20:53:21.000Z</timestamp>\n    <passwordData/>\n</GetPasswordDataResponse>\n```\n\nAs:\n\n```\n{\n    \"InstanceId\": \"i-id\",\n    \"Timestamp\": \"2015-03-30T20:53:21.000Z\",\n    \"PasswordData\": null\n}\n```\n\nWhereas the waiter is assuming this is parsed with `PasswordData` being an empty string.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1251", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1251/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1251/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1251/events", "html_url": "https://github.com/aws/aws-cli/issues/1251", "id": 64734534, "node_id": "MDU6SXNzdWU2NDczNDUzNA==", "number": 1251, "title": "Errors performing \"aws emr create-cluster\" after upgrading from 1.6.x to 1.7.16 (or 1.7.17)", "user": {"login": "erond", "id": 572741, "node_id": "MDQ6VXNlcjU3Mjc0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/572741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erond", "html_url": "https://github.com/erond", "followers_url": "https://api.github.com/users/erond/followers", "following_url": "https://api.github.com/users/erond/following{/other_user}", "gists_url": "https://api.github.com/users/erond/gists{/gist_id}", "starred_url": "https://api.github.com/users/erond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erond/subscriptions", "organizations_url": "https://api.github.com/users/erond/orgs", "repos_url": "https://api.github.com/users/erond/repos", "events_url": "https://api.github.com/users/erond/events{/privacy}", "received_events_url": "https://api.github.com/users/erond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-27T10:24:34Z", "updated_at": "2015-11-19T23:10:10Z", "closed_at": "2015-11-19T23:10:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Scenario**:\n\naws-cli version: `aws-cli/1.7.17 Python/2.7.6 Linux/3.13.0-48-generic`\n\nI have a Ruby script that I use to:\n1. in order to get temporary credentials, call:\n   \n   ```\n   aws sts assume-role --profile test-account-user --role-arn arn:aws:iam::123456789012:role/deploy-on-prod --role-session-name deploy-myapp-on-prod\n   ```\n2. use such temporary credentials (exporting as env vars) to call:\n   \n   ```\n   aws emr create-cluster ... [cluster description]\n   ```\n\n**Problem**:\n\nWhereas this command always worked with 1.6.x AWS CLI versions, now that I updated to the latest available I get:\n\n```\nYou must specify a region. You can also configure your region by running \"aws configure\".\n```\n\nThe region is set in ~/.aws/config for the user invoking the `assumeRole`, but I don't specify any profiles (hence regions) when calling the `aws emr create-cluster ...`, since I just `export` the obtained credentials as environment variables.\n\n**Final notes**:\n- the very same commands works fine on these 2 different workstations with:\n  \n  ```\n  aws-cli/1.6.9 Python/2.7.6 Darwin/14.1.0\n  aws-cli/1.6.5 Python/2.7.3 Linux/3.2.0-4-686-pae\n  ```\n  \n  Plus, with the above aws-cli versions, the `aws emr create-cluster ...` command used to work also when, **by mistake**, I invoked it keeping `--profile test-account-user`: it seemed the the previous aws-cli versions were able to give the priority to the AWS credentials set up as environment variables, whereas the latest aws-cli gives the priority to an eventually specified --profile . I was able to test this behaviour since, if I invoke `aws emr create-cluster --profile test-account-user ...` with the latest aws-cli after exporting the temporary credentials I get:\n  \n  ```\n  A client error (AccessDeniedException) occurred when calling the RunJobFlow operation: User: arn:aws:iam::123123123123:user/test-account-user is not authorized to perform: elasticmapreduce:RunJobFlow\n  ```\n  \n  that is reasonable, since \"test-account-user\" by itself (read: without assuming the _deploy-myapp-on-prod_ role) doesn't have the permissions to perform a `RunJobFlow`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1247", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1247/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1247/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1247/events", "html_url": "https://github.com/aws/aws-cli/issues/1247", "id": 64449956, "node_id": "MDU6SXNzdWU2NDQ0OTk1Ng==", "number": 1247, "title": "`aws route53 --max-items <n>` throws error when `--start*` parameters used", "user": {"login": "davestern", "id": 903554, "node_id": "MDQ6VXNlcjkwMzU1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/903554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davestern", "html_url": "https://github.com/davestern", "followers_url": "https://api.github.com/users/davestern/followers", "following_url": "https://api.github.com/users/davestern/following{/other_user}", "gists_url": "https://api.github.com/users/davestern/gists{/gist_id}", "starred_url": "https://api.github.com/users/davestern/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davestern/subscriptions", "organizations_url": "https://api.github.com/users/davestern/orgs", "repos_url": "https://api.github.com/users/davestern/repos", "events_url": "https://api.github.com/users/davestern/events{/privacy}", "received_events_url": "https://api.github.com/users/davestern/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-03-26T06:17:59Z", "updated_at": "2015-03-26T21:53:55Z", "closed_at": "2015-03-26T21:53:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Description:    Ubuntu 14.04.2 LTS\naws --version:\naws-cli/1.7.16 Python/2.7.6 Linux/3.13.0-48-generic\n\n`aws route53 list-resource-record-sets --hosted-zone-id XYZABC --max-items 1`\n\nWorks correctly and returns 1 record.\n\n`aws route53 list-resource-record-sets --hosted-zone-id XYZABC --max-items 1 --start-record-name hostname.example.com`\n\nReturns:\n\n```\nParameter validation failed:\nUnknown parameter in input: \"max_items\", must be one of: HostedZoneId, StartRecordName, StartRecordType, StartRecordIdentifier, MaxItems\n```\n\nThe same error happens with the `--start-record-type` added:\n\n`aws route53 list-resource-record-sets --hosted-zone-id XYZABC --max-items 1 --start-record-name hostname.example.com --start-record-type CNAME`\n\nDebugging output:\n\n```\n2015-03-26 06:10:27,908 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.7.16 Python/2.7.6 Linux/3.13.0-48-generic, botocore version: 0.97.0\n2015-03-26 06:10:27,908 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['route53', 'list-resource-record-sets', '--hosted-zone-id', 'XYZABC', '--max-items', '1', '--start-record-name', 'hostname.example.com', '--start-record-type', 'CNAME', '--debug']\n2015-03-26 06:10:27,908 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f4cac5109b0>\n2015-03-26 06:10:27,909 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x7f4cac7d0668>\n2015-03-26 06:10:27,925 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.route53: calling handler <function register_retries_for_service at 0x7f4caccae050>\n2015-03-26 06:10:27,928 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: route53\n2015-03-26 06:10:27,929 - MainThread - botocore.hooks - DEBUG - Event building-command-table.route53: calling handler <function add_waiters at 0x7f4cac75d410>\n2015-03-26 06:10:27,931 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'hosted-zone-id', <awscli.arguments.CLIArgument object at 0x7f4cac389650>), (u'start-record-name', <awscli.arguments.CLIArgument object at 0x7f4cac3896d0>), (u'start-record-type', <awscli.arguments.CLIArgument object at 0x7f4cac389710>), (u'start-record-identifier', <awscli.arguments.CLIArgument object at 0x7f4cac389410>), (u'max-items', <awscli.arguments.CLIArgument object at 0x7f4cac389750>)])\n2015-03-26 06:10:27,931 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.route53.list-resource-record-sets: calling handler <function add_streaming_output_arg at 0x7f4cac8b2410>\n2015-03-26 06:10:27,931 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.route53.list-resource-record-sets: calling handler <function add_cli_input_json at 0x7f4cac7cb8c0>\n2015-03-26 06:10:27,931 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.route53.list-resource-record-sets: calling handler <function unify_paging_params at 0x7f4cac8b8320>\n2015-03-26 06:10:27,932 - MainThread - awscli.customizations.paginate - DEBUG - Modifying paging parameters for operation: ListResourceRecordSets\n2015-03-26 06:10:27,932 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.route53.list-resource-record-sets: calling handler <function add_generate_skeleton at 0x7f4cac7cbde8>\n2015-03-26 06:10:27,932 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.route53.list-resource-record-sets: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f4cac389790>>\n2015-03-26 06:10:27,932 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.route53.list-resource-record-sets: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f4cac389bd0>>\n2015-03-26 06:10:27,933 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.route53.list-resource-record-sets: calling handler <functools.partial object at 0x7f4cac3831b0>\n2015-03-26 06:10:27,934 - MainThread - awscli.customizations.paginate - DEBUG - User has specified a manual pagination arg. Automatically setting --no-paginate.\n2015-03-26 06:10:27,934 - MainThread - awscli.customizations.paginate - DEBUG - User has specified a manual pagination arg. Automatically setting --no-paginate.\n2015-03-26 06:10:27,934 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.hosted-zone-id: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,934 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.route53.list-resource-record-sets: calling handler <awscli.argprocess.ParamShorthand object at 0x7f4cac5193d0>\n2015-03-26 06:10:27,934 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-03-26 06:10:27,934 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'XYZABC' for parameter \"hosted_zone_id\": u'XYZABC'\n2015-03-26 06:10:27,934 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.start-record-name: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,934 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.route53.list-resource-record-sets: calling handler <awscli.argprocess.ParamShorthand object at 0x7f4cac5193d0>\n2015-03-26 06:10:27,934 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-03-26 06:10:27,934 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'hostname.example.com' for parameter \"start_record_name\": u'hostname.example.com'\n2015-03-26 06:10:27,934 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.start-record-type: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.route53.list-resource-record-sets: calling handler <awscli.argprocess.ParamShorthand object at 0x7f4cac5193d0>\n2015-03-26 06:10:27,935 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-03-26 06:10:27,935 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'CNAME' for parameter \"start_record_type\": u'CNAME'\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.start-record-identifier: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.max-items: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.cli-input-json: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.starting-token: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.page-size: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.route53.list-resource-record-sets.generate-cli-skeleton: calling handler <function uri_param at 0x7f4cac8edc80>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event calling-command.route53.list-resource-record-sets: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f4cac389bd0>>\n2015-03-26 06:10:27,935 - MainThread - botocore.hooks - DEBUG - Event calling-command.route53.list-resource-record-sets: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f4cac389790>>\n2015-03-26 06:10:27,936 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2015-03-26 06:10:27,936 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\n2015-03-26 06:10:27,953 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: route53\n2015-03-26 06:10:27,953 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: route53\n2015-03-26 06:10:27,957 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.route53.ListResourceRecordSets: calling handler <function fix_route53_ids at 0x7f4caccae578>\n2015-03-26 06:10:27,957 - MainThread - botocore.handlers - DEBUG - HostedZoneId XYZABC -> XYZABC\n2015-03-26 06:10:27,957 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 183, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 367, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 534, in __call__\n    call_parameters, parsed_globals)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 657, in invoke\n    **parameters)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/client.py\", line 187, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/client.py\", line 228, in _make_api_call\n    api_params, operation_model)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/client.py\", line 259, in _convert_to_request_dict\n    api_params, operation_model)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/validate.py\", line 271, in serialize_to_request\n    raise ParamValidationError(report=report.generate_report())\nParamValidationError: Parameter validation failed:\nUnknown parameter in input: \"max_items\", must be one of: HostedZoneId, StartRecordName, StartRecordType, StartRecordIdentifier, MaxItems\n2015-03-26 06:10:27,958 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\nParameter validation failed:\nUnknown parameter in input: \"max_items\", must be one of: HostedZoneId, StartRecordName, StartRecordType, StartRecordIdentifier, MaxItems\n```\n\nThe same command without `--max-items 1` works correctly:\n\n`aws route53 list-resource-record-sets --hosted-zone-id XYZABC --start-record-name hostname.example.com --start-record-type CNAME` \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1245", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1245/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1245/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1245/events", "html_url": "https://github.com/aws/aws-cli/pull/1245", "id": 64377750, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE5NjgwOTg=", "number": 1245, "title": "IOWriterThread should continue even if a task fails", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-03-25T21:31:31Z", "updated_at": "2015-03-26T18:41:47Z", "closed_at": "2015-03-26T18:41:47Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/1245", "html_url": "https://github.com/aws/aws-cli/pull/1245", "diff_url": "https://github.com/aws/aws-cli/pull/1245.diff", "patch_url": "https://github.com/aws/aws-cli/pull/1245.patch", "merged_at": "2015-03-26T18:41:47Z"}, "body": "Otherwise this will cause a hang in the CLI because the\nexecutor is waiting for the IO thread to process of all\nits task items before exiting.\n\nThis actually fixes an integration test that would periodically\nfail (the ctrl+c test).  I've also added an additional unit test\nfor this case.\n\nThis is actually how all the other threads (the task threads and the\nresult thread) work.  They catch exception and continue on to the\nnext task.\n\nWhile this fixes the failing integration test, there are still additional\nenhancements we can make.  We don't have a feedback mechanism\nfrom within the IOthread to let other parts of the system know about\nfailed write tasks.  So while this technically \"fixes\" #1178 in the sense\nthat the code will no longer hang, it will still download all the content\nfrom an S3 object.  We can improve this by failing fast as soon as we\nhave a streaming io task fail.  This will be a larger change and a\nseparate pull request.\n\ncc @kyleknap @danielgtaylor\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1245/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1245/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1241", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1241/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1241/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1241/events", "html_url": "https://github.com/aws/aws-cli/issues/1241", "id": 64348494, "node_id": "MDU6SXNzdWU2NDM0ODQ5NA==", "number": 1241, "title": "Examples section on S3 are rendering twice", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-25T19:05:20Z", "updated_at": "2015-04-30T19:42:25Z", "closed_at": "2015-04-30T19:42:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Running \"aws s3 cp help\" will show the \"Examples\" section rendered twice.\n\nI checked some of the data driven commands, and the examples section only appears once so this appears to only be for the \"s3\" commands.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1226", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1226/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1226/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1226/events", "html_url": "https://github.com/aws/aws-cli/issues/1226", "id": 62815978, "node_id": "MDU6SXNzdWU2MjgxNTk3OA==", "number": 1226, "title": "Windows Error ", "user": {"login": "SimplyCorey", "id": 624784, "node_id": "MDQ6VXNlcjYyNDc4NA==", "avatar_url": "https://avatars.githubusercontent.com/u/624784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimplyCorey", "html_url": "https://github.com/SimplyCorey", "followers_url": "https://api.github.com/users/SimplyCorey/followers", "following_url": "https://api.github.com/users/SimplyCorey/following{/other_user}", "gists_url": "https://api.github.com/users/SimplyCorey/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimplyCorey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimplyCorey/subscriptions", "organizations_url": "https://api.github.com/users/SimplyCorey/orgs", "repos_url": "https://api.github.com/users/SimplyCorey/repos", "events_url": "https://api.github.com/users/SimplyCorey/events{/privacy}", "received_events_url": "https://api.github.com/users/SimplyCorey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2015-03-18T22:13:54Z", "updated_at": "2015-06-18T22:47:20Z", "closed_at": "2015-06-18T22:47:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI am receiving the following error on a Windows Server 2008 after a fresh install.\n\n```\nTraceback (most recent call last):\n  File \"aws\", line 19, in <module>\n  File \"awscli\\clidriver.pyc\", line 16, in <module>\n  File \"botocore\\session.pyc\", line 26, in <module>\n  File \"botocore\\config.pyc\", line 18, in <module>\n  File \"botocore\\compat.pyc\", line 72, in <module>\n  File \"email\\message.pyc\", line 16, in <module>\n  File \"email\\charset.pyc\", line 13, in <module>\n  File \"email\\base64mime.pyc\", line 40, in <module>\n  File \"email\\utils.pyc\", line 27, in <module>\n  File \"random.pyc\", line 885, in <module>\n  File \"random.pyc\", line 97, in __init__\n    so it is better to simply reseed.\n  File \"random.pyc\", line 113, in seed\n    This fixes the problem with randint() which includes the\n    WindowsError: [Error -2146893795] Provider DLL failed to initialize correctly\n```\n\nI am unable to run any commands including aws --debug.  Any help in solving this would be much appreciate and please let me know if you need anything else to further troubleshoot this.\n\nThank you.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1226/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1224", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1224/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1224/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1224/events", "html_url": "https://github.com/aws/aws-cli/issues/1224", "id": 62737246, "node_id": "MDU6SXNzdWU2MjczNzI0Ng==", "number": 1224, "title": "aws datapipeline --schedule-interval parameter seems not to work", "user": {"login": "dventimiglia", "id": 105000, "node_id": "MDQ6VXNlcjEwNTAwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/105000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dventimiglia", "html_url": "https://github.com/dventimiglia", "followers_url": "https://api.github.com/users/dventimiglia/followers", "following_url": "https://api.github.com/users/dventimiglia/following{/other_user}", "gists_url": "https://api.github.com/users/dventimiglia/gists{/gist_id}", "starred_url": "https://api.github.com/users/dventimiglia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dventimiglia/subscriptions", "organizations_url": "https://api.github.com/users/dventimiglia/orgs", "repos_url": "https://api.github.com/users/dventimiglia/repos", "events_url": "https://api.github.com/users/dventimiglia/events{/privacy}", "received_events_url": "https://api.github.com/users/dventimiglia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-18T16:38:16Z", "updated_at": "2015-03-18T23:01:20Z", "closed_at": "2015-03-18T23:01:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tried this command:\n\n```\naws datapipeline list-runs --pipeline-id $ID --schedule-interval \"2015-03-17,2015-03-18\"\n```\n\nProduced this error:\n\n```\nA client error (InvalidRequestException) occurred when calling the QueryObjects operation: The given input is not valid: Operator: BETWEEN not suppoerted for field @scheduleStartTime in query\n```\n\nPresumably, the `--schedule-interval` parameter has the same format as the `--start-interval` parameter, namely as a comma-separated pair of dates.  I mention that because the similar operation using `--start-interval` succeeds without error:\n\n```\naws datapipeline list-runs --pipeline-id $ID --start-interval \"2015-03-17,2015-03-18\"\n```\n\nNote also that there's a typo in the error message. The word \"supported\" is misspelled.  \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1224/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1217", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1217/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1217/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1217/events", "html_url": "https://github.com/aws/aws-cli/issues/1217", "id": 60756724, "node_id": "MDU6SXNzdWU2MDc1NjcyNA==", "number": 1217, "title": "Wrong exit status when s3 cp download is cancelled by read timeout", "user": {"login": "bluekeyes", "id": 1745813, "node_id": "MDQ6VXNlcjE3NDU4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1745813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluekeyes", "html_url": "https://github.com/bluekeyes", "followers_url": "https://api.github.com/users/bluekeyes/followers", "following_url": "https://api.github.com/users/bluekeyes/following{/other_user}", "gists_url": "https://api.github.com/users/bluekeyes/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluekeyes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluekeyes/subscriptions", "organizations_url": "https://api.github.com/users/bluekeyes/orgs", "repos_url": "https://api.github.com/users/bluekeyes/repos", "events_url": "https://api.github.com/users/bluekeyes/events{/privacy}", "received_events_url": "https://api.github.com/users/bluekeyes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-12T01:17:55Z", "updated_at": "2016-04-25T23:26:29Z", "closed_at": "2016-04-25T23:26:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: `aws-cli/1.7.12 Python/2.6.6 Linux/2.6.32-504.8.1.el6.x86_64`\n\nWhen downloading multiple files in parallel (by running multiple `aws s3 cp` commands in subshells), some operations may encounter a read timeout. When this happens, the download is cancelled but the CLI does not display any errors and still exits with status 0.\n\nI was able to reproduce this on an EC2 instance by copying 3 files from S3 (2GB, 566MB, and 73MB) in parallel until one of them failed (the CLI exited but the file did not exist). Usually, the 2GB file was the one that failed, but I've seen failures with the smaller files as well.\n\nFrom the debug log:\n\n```\n2015-03-10 20:29:33,721 - Thread-7 - awscli.customizations.s3.tasks - DEBUG - Exception caught downloading byte range: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 347, in __call__\n    self._download_part()\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 376, in _download_part\n    self._queue_writes(body)\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 407, in _queue_writes\n    self._queue_writes_in_chunks(body, iterate_chunk_size)\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 438, in _queue_writes_in_chunks\n    current = body.read(iterate_chunk_size)\n  File \"/usr/lib/python2.6/site-packages/botocore/response.py\", line 70, in read\n    chunk = self._raw_stream.read(amt)\n  File \"/usr/lib/python2.6/site-packages/botocore/vendored/requests/packages/urllib3/response.py\", line 210, in read\n    raise ReadTimeoutError(self._pool, None, 'Read timed out.')\nReadTimeoutError: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\n2015-03-10 20:29:33,735 - Thread-7 - awscli.customizations.s3.executor - DEBUG - Error calling task: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/executor.py\", line 211, in run\n    function()\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 353, in __call__\n    raise e\nReadTimeoutError: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\n2015-03-10 20:29:33,735 - Thread-7 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-03-10 20:29:34,556 - Thread-12 - awscli.customizations.s3.executor - DEBUG - Error calling task: Download has been cancelled.\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/executor.py\", line 211, in run\n    function()\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 310, in __call__\n    self._context.wait_for_completion()\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 733, in wait_for_completion\n    \"Download has been cancelled.\")\nDownloadCancelledError: Download has been cancelled.\n2015-03-10 20:29:34,557 - Thread-12 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-03-10 20:29:39,422 - Thread-6 - awscli.customizations.s3.tasks - DEBUG - Exception caught downloading byte range: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 347, in __call__\n    self._download_part()\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 376, in _download_part\n    self._queue_writes(body)\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 407, in _queue_writes\n    self._queue_writes_in_chunks(body, iterate_chunk_size)\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 438, in _queue_writes_in_chunks\n    current = body.read(iterate_chunk_size)\n  File \"/usr/lib/python2.6/site-packages/botocore/response.py\", line 70, in read\n    chunk = self._raw_stream.read(amt)\n  File \"/usr/lib/python2.6/site-packages/botocore/vendored/requests/packages/urllib3/response.py\", line 210, in read\n    raise ReadTimeoutError(self._pool, None, 'Read timed out.')\nReadTimeoutError: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\n2015-03-10 20:29:39,423 - Thread-6 - awscli.customizations.s3.executor - DEBUG - Error calling task: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/executor.py\", line 211, in run\n    function()\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/s3/tasks.py\", line 353, in __call__\n    raise e\nReadTimeoutError: HTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Read timed out.\n2015-03-10 20:29:39,423 - Thread-6 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-6, stopped daemon 140334164080384)>\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-7, stopped daemon 140334264735488)>\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-7, stopped daemon 140334264735488)>\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-8, stopped daemon 140334147299072)>\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-8, stopped daemon 140334147299072)>\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-9, stopped daemon 140334130517760)>\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-9, stopped daemon 140334130517760)>\n2015-03-10 20:29:39,424 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-10, stopped daemon 140333828536064)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-10, stopped daemon 140333828536064)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-11, stopped daemon 140333811754752)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-11, stopped daemon 140333811754752)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-12, stopped daemon 140333794973440)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-12, stopped daemon 140333794973440)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-13, stopped daemon 140333627209472)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-13, stopped daemon 140333627209472)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-14, stopped daemon 140333610428160)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Thread has been shutdown: <Worker(Thread-14, stopped daemon 140333610428160)>\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for result thread.\n2015-03-10 20:29:39,425 - Thread-1 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in print thread, shutting down print thread.\n2015-03-10 20:29:39,425 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for IO thread.\n2015-03-10 20:29:39,426 - Thread-2 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in IO thread, shutting down.\n2015-03-10 20:29:39,426 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for result thread to shutdown.\n2015-03-10 20:29:39,438 - MainThread - awscli.customizations.s3.executor - DEBUG - Waiting for IO thread to shutdown.\n```\n\nI can provide more output if needed.\n\nI saw that 1.7.13 retries operations on read timeout, so we'll be updating to that version soon. I'm mostly concerned about the successful exit status, because this prevented our error-handling logic from detecting that something was wrong until later in the process.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1184", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1184/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1184/events", "html_url": "https://github.com/aws/aws-cli/issues/1184", "id": 59007046, "node_id": "MDU6SXNzdWU1OTAwNzA0Ng==", "number": 1184, "title": "Uploading a stream failed", "user": {"login": "nbrownus", "id": 957319, "node_id": "MDQ6VXNlcjk1NzMxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/957319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbrownus", "html_url": "https://github.com/nbrownus", "followers_url": "https://api.github.com/users/nbrownus/followers", "following_url": "https://api.github.com/users/nbrownus/following{/other_user}", "gists_url": "https://api.github.com/users/nbrownus/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbrownus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbrownus/subscriptions", "organizations_url": "https://api.github.com/users/nbrownus/orgs", "repos_url": "https://api.github.com/users/nbrownus/repos", "events_url": "https://api.github.com/users/nbrownus/events{/privacy}", "received_events_url": "https://api.github.com/users/nbrownus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 289130394, "node_id": "MDU6TGFiZWwyODkxMzAzOTQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3stream", "name": "s3stream", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-02-26T02:19:06Z", "updated_at": "2020-07-23T01:32:41Z", "closed_at": "2016-08-17T20:23:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "While uploading a stream to s3 the upload failed but the `aws` process did not die. The error occurred well after the upload started. I can only assume that `aws` tried to upload more than 9999 parts?\n\nOutput from `other_process | aws s3 cp - s3://thebucket/thefile`\n\n```\nupload failed: ./- to s3://thebucket/thefile\nA client error (InvalidArgument) occurred when calling the UploadPart operation: Part number must be an integer between 1 and 10000, inclusive\n```\n\nVersion info\n\n```\n$ aws --version\naws-cli/1.7.12 Python/2.7.3 Linux/3.2.0-59-generic\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1184/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1178", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1178/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1178/events", "html_url": "https://github.com/aws/aws-cli/issues/1178", "id": 58754301, "node_id": "MDU6SXNzdWU1ODc1NDMwMQ==", "number": 1178, "title": "aws s3 cp streaming download hangs when pipe breaks", "user": {"login": "tlunter", "id": 787998, "node_id": "MDQ6VXNlcjc4Nzk5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/787998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlunter", "html_url": "https://github.com/tlunter", "followers_url": "https://api.github.com/users/tlunter/followers", "following_url": "https://api.github.com/users/tlunter/following{/other_user}", "gists_url": "https://api.github.com/users/tlunter/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlunter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlunter/subscriptions", "organizations_url": "https://api.github.com/users/tlunter/orgs", "repos_url": "https://api.github.com/users/tlunter/repos", "events_url": "https://api.github.com/users/tlunter/events{/privacy}", "received_events_url": "https://api.github.com/users/tlunter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 289130394, "node_id": "MDU6TGFiZWwyODkxMzAzOTQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3stream", "name": "s3stream", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-24T15:27:52Z", "updated_at": "2016-08-18T01:02:53Z", "closed_at": "2016-08-17T20:18:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using `aws s3 cp s3://some-bucket/some-key -` and the downstream pipe dies due to one error or another, aws-cli hangs.\n\nThe exception is raised by the IOWriterThread, but is not checked by the Executor.  New jobs are still being submitted to the executor to download files, but they get held up: [here](https://github.com/aws/aws-cli/blob/develop/awscli/customizations/s3/tasks.py#L420) and [here](https://github.com/aws/aws-cli/blob/develop/awscli/customizations/s3/tasks.py#L416).\n\nIn the first, the queue has a max size of 20 ([here](https://github.com/aws/aws-cli/blob/develop/awscli/customizations/s3/s3handler.py#L43)).  In the second, nothing is being added to the queue, so the current stream part number is never going to be incremented.  The program then halts and nothing happens until it is forcefully killed.  A keyboard interrupt doesn't even kill the process.\n\nThe `MultipartDownloadContext` does have a cancel method to prevent the workers from continuing to wait for their turn, but workers stuck at `self._io_queue.put` will remain there.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1170", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1170/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1170/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1170/events", "html_url": "https://github.com/aws/aws-cli/issues/1170", "id": 58459274, "node_id": "MDU6SXNzdWU1ODQ1OTI3NA==", "number": 1170, "title": "aws s3 sync has useless option: --recursive", "user": {"login": "DrStrangepork", "id": 7307373, "node_id": "MDQ6VXNlcjczMDczNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/7307373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrStrangepork", "html_url": "https://github.com/DrStrangepork", "followers_url": "https://api.github.com/users/DrStrangepork/followers", "following_url": "https://api.github.com/users/DrStrangepork/following{/other_user}", "gists_url": "https://api.github.com/users/DrStrangepork/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrStrangepork/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrStrangepork/subscriptions", "organizations_url": "https://api.github.com/users/DrStrangepork/orgs", "repos_url": "https://api.github.com/users/DrStrangepork/repos", "events_url": "https://api.github.com/users/DrStrangepork/events{/privacy}", "received_events_url": "https://api.github.com/users/DrStrangepork/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-21T13:22:47Z", "updated_at": "2015-02-23T18:01:40Z", "closed_at": "2015-02-23T18:01:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since at least 1.7.1, s3 sync always does --recursive even when it is not given as an option\nhttps://forums.aws.amazon.com/thread.jspa?threadID=169794\nhttps://forums.aws.amazon.com/thread.jspa?threadID=171968\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1142", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1142/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1142/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1142/events", "html_url": "https://github.com/aws/aws-cli/issues/1142", "id": 57381291, "node_id": "MDU6SXNzdWU1NzM4MTI5MQ==", "number": 1142, "title": "Regression: Endpoint URL not honored in s3 commands", "user": {"login": "kwinters", "id": 384067, "node_id": "MDQ6VXNlcjM4NDA2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/384067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwinters", "html_url": "https://github.com/kwinters", "followers_url": "https://api.github.com/users/kwinters/followers", "following_url": "https://api.github.com/users/kwinters/following{/other_user}", "gists_url": "https://api.github.com/users/kwinters/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwinters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwinters/subscriptions", "organizations_url": "https://api.github.com/users/kwinters/orgs", "repos_url": "https://api.github.com/users/kwinters/repos", "events_url": "https://api.github.com/users/kwinters/events{/privacy}", "received_events_url": "https://api.github.com/users/kwinters/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-11T21:38:44Z", "updated_at": "2015-02-23T18:18:41Z", "closed_at": "2015-02-23T18:18:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "In #549 e27bbc629582068709af5a0e52553e13f127b0dc the fix_s3_host handler is unregistered if --endpoint-url is provided.\n\nBut with the latest version this behavior is happening again, resulting in credential failures (the provided access key does not exist at s3.amazonaws.com).\n\nWorkaround: Use a bucket name with a period in it, which also skips the fix_s3_host behavior.\n\n$ aws --debug --profile=twosite s3api --region us-west-1 --endpoint-url https://10.224.3.179:8082 --no-verify-ssl create-bucket --bucket \"zomg\"\n2015-02-11 16:03:56,852 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.7.6 Python/2.7.6 Linux/3.13.0-35-generic, botocore version: 0.87.0\n2015-02-11 16:03:56,852 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f0e167f3b90>\n2015-02-11 16:03:56,852 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x7f0e16aadc08>\n2015-02-11 16:03:56,853 - MainThread - botocore.service - DEBUG - Creating service object for: s3\n2015-02-11 16:03:56,886 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function register_retries_for_service at 0x7f0e16f8d2a8>\n2015-02-11 16:03:56,889 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: s3\n2015-02-11 16:03:56,890 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function register_retries_for_service at 0x7f0e16f8d2a8>\n2015-02-11 16:03:56,890 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: s3\n2015-02-11 16:03:56,890 - MainThread - botocore.service - DEBUG - Creating operation objects for: Service(s3)\n2015-02-11 16:03:56,895 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3api: calling handler <function add_waiters at 0x7f0e16a3f9b0>\n2015-02-11 16:03:56,898 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'acl', <awscli.arguments.CLIArgument object at 0x7f0e165942d0>), (u'bucket', <awscli.arguments.CLIArgument object at 0x7f0e165945d0>), (u'create-bucket-configuration', <awscli.arguments.CLIArgument object at 0x7f0e16594610>), (u'grant-full-control', <awscli.arguments.CLIArgument object at 0x7f0e16594650>), (u'grant-read', <awscli.arguments.CLIArgument object at 0x7f0e16594690>), (u'grant-read-acp', <awscli.arguments.CLIArgument object at 0x7f0e165946d0>), (u'grant-write', <awscli.arguments.CLIArgument object at 0x7f0e16594750>), (u'grant-write-acp', <awscli.arguments.CLIArgument object at 0x7f0e16594310>)])\n2015-02-11 16:03:56,898 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.create-bucket: calling handler <function add_streaming_output_arg at 0x7f0e16b8e140>\n2015-02-11 16:03:56,898 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.create-bucket: calling handler <function add_cli_input_json at 0x7f0e16aa8e60>\n2015-02-11 16:03:56,899 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.create-bucket: calling handler <function unify_paging_params at 0x7f0e16b8ef50>\n2015-02-11 16:03:56,899 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.create-bucket: calling handler <function add_generate_skeleton at 0x7f0e16aad410>\n2015-02-11 16:03:56,899 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.create-bucket: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f0e16594790>>\n2015-02-11 16:03:56,900 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.create-bucket: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f0e167bbf90>>\n2015-02-11 16:03:56,901 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.acl: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,902 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.bucket: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,902 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.create-bucket: calling handler <awscli.argprocess.ParamShorthand object at 0x7f0e167fd590>\n2015-02-11 16:03:56,902 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2015-02-11 16:03:56,902 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'zomg' for parameter \"bucket\": u'zomg'\n2015-02-11 16:03:56,902 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.create-bucket-configuration: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,902 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.grant-full-control: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,903 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.grant-read: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,903 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.grant-read-acp: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,903 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.grant-write: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,903 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.grant-write-acp: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,903 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.cli-input-json: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,904 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.create-bucket.generate-cli-skeleton: calling handler <function uri_param at 0x7f0e16bcc9b0>\n2015-02-11 16:03:56,904 - MainThread - botocore.hooks - DEBUG - Event calling-command.s3api.create-bucket: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f0e167bbf90>>\n2015-02-11 16:03:56,904 - MainThread - botocore.hooks - DEBUG - Event calling-command.s3api.create-bucket: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f0e16594790>>\n2015-02-11 16:03:56,904 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2015-02-11 16:03:56,904 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2015-02-11 16:03:56,904 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2015-02-11 16:03:56,905 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\n2015-02-11 16:03:56,907 - MainThread - botocore.operation - DEBUG - Operation:CreateBucket called with kwargs: {u'Bucket': u'zomg'}\n2015-02-11 16:03:56,908 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function register_retries_for_service at 0x7f0e16f8d2a8>\n2015-02-11 16:03:56,909 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: s3\n2015-02-11 16:03:56,909 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.CreateBucket: calling handler <function add_expect_header at 0x7f0e16f8d488>\n2015-02-11 16:03:56,909 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x7f0e16604a10> (verify_ssl=False) with params: {'query_string': {}, 'headers': {}, 'url_path': u'/zomg', 'body': '', 'method': u'PUT'}\n2015-02-11 16:03:56,909 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.CreateBucket: calling handler <function request_created at 0x7f0e16627410>\n2015-02-11 16:03:56,910 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.CreateBucket: calling handler <function fix_s3_host at 0x7f0e16f8d140>\n2015-02-11 16:03:56,910 - MainThread - botocore.handlers - DEBUG - Checking for DNS compatible bucket for: https://10.224.3.179:8082/zomg\n2015-02-11 16:03:56,910 - MainThread - botocore.handlers - DEBUG - URI updated to: https://zomg.s3.amazonaws.com\n2015-02-11 16:03:56,910 - MainThread - botocore.auth - DEBUG - Calculating signature using hmacv1 auth.\n2015-02-11 16:03:56,910 - MainThread - botocore.auth - DEBUG - HTTP request method: PUT\n2015-02-11 16:03:56,910 - MainThread - botocore.auth - DEBUG - StringToSign:\nPUT\n\nWed, 11 Feb 2015 21:03:56 GMT\n/zomg/\n2015-02-11 16:03:56,917 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [PUT]>\n2015-02-11 16:03:56,918 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): zomg.s3.amazonaws.com\n/usr/local/lib/python2.7/dist-packages/botocore/vendored/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n2015-02-11 16:03:57,270 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"PUT / HTTP/1.1\" 403 None\n2015-02-11 16:03:57,273 - MainThread - botocore.parsers - DEBUG - Response headers:\n{'content-type': 'application/xml',\n 'date': 'Wed, 11 Feb 2015 21:03:58 GMT',\n 'server': 'AmazonS3',\n 'transfer-encoding': 'chunked',\n 'x-amz-id-2': 'yLdQVz8LACrfbBxuM3Pp7nnBQ4dTCEhSmlhxa15wICdWZxgW9rKqBTcyt6Qxnv0g',\n 'x-amz-request-id': '5E38794F0631EB1C'}\n2015-02-11 16:03:57,273 - MainThread - botocore.parsers - DEBUG - Response body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Error><Code>InvalidAccessKeyId</Code><Message>The AWS Access Key Id you provided does not exist in our records.</Message><AWSAccessKeyId>PPY2K5EX5O7AI5E8DQGA</AWSAccessKeyId><RequestId>5E38794F0631EB1C</RequestId><HostId>yLdQVz8LACrfbBxuM3Pp7nnBQ4dTCEhSmlhxa15wICdWZxgW9rKqBTcyt6Qxnv0g</HostId></Error>\n2015-02-11 16:03:57,274 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.CreateBucket: calling handler <botocore.retryhandler.RetryHandler object at 0x7f0e16604890>\n2015-02-11 16:03:57,274 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2015-02-11 16:03:57,275 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.CreateBucket: calling handler <function enhance_error_msg at 0x7f0e16aa86e0>\n2015-02-11 16:03:57,275 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.CreateBucket: calling handler <awscli.errorhandler.ErrorHandler object at 0x7f0e167fd5d0>\n2015-02-11 16:03:57,275 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 403\n2015-02-11 16:03:57,275 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 197, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 373, in **call**\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 531, in **call**\n    self._operation_object, call_parameters, parsed_globals)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/clidriver.py\", line 636, in invoke\n    **parameters)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/operation.py\", line 176, in call\n    parsed=response[1])\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/session.py\", line 735, in emit\n    return self._events.emit(event_name, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/hooks.py\", line 226, in emit\n    return self._emit(event_name, kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/hooks.py\", line 209, in _emit\n    response = handler(**kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/errorhandler.py\", line 70, in __call__\n    http_status_code=http_response.status_code)\nClientError: A client error (InvalidAccessKeyId) occurred when calling the CreateBucket operation: The AWS Access Key Id you provided does not exist in our records.\n2015-02-11 16:03:57,277 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\nA client error (InvalidAccessKeyId) occurred when calling the CreateBucket operation: The AWS Access Key Id you provided does not exist in our records.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1142/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1135", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1135/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1135/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1135/events", "html_url": "https://github.com/aws/aws-cli/issues/1135", "id": 57014564, "node_id": "MDU6SXNzdWU1NzAxNDU2NA==", "number": 1135, "title": "Leading dashes in parameter values are interpreted as arguments", "user": {"login": "tim-kos", "id": 15005, "node_id": "MDQ6VXNlcjE1MDA1", "avatar_url": "https://avatars.githubusercontent.com/u/15005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tim-kos", "html_url": "https://github.com/tim-kos", "followers_url": "https://api.github.com/users/tim-kos/followers", "following_url": "https://api.github.com/users/tim-kos/following{/other_user}", "gists_url": "https://api.github.com/users/tim-kos/gists{/gist_id}", "starred_url": "https://api.github.com/users/tim-kos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tim-kos/subscriptions", "organizations_url": "https://api.github.com/users/tim-kos/orgs", "repos_url": "https://api.github.com/users/tim-kos/repos", "events_url": "https://api.github.com/users/tim-kos/events{/privacy}", "received_events_url": "https://api.github.com/users/tim-kos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-09T10:45:59Z", "updated_at": "2015-03-04T21:38:26Z", "closed_at": "2015-03-04T21:38:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey there,\n\nmy command is\n\n```\nAWS_ACCESS_KEY_ID=**** AWS_SECRET_ACCESS_KEY=**** aws s3api put-object --bucket MY_BUCKET --no-verify-ssl --region us-east-1 --output json --body /srv/shared/tmp/upload/a53ba1bd98d6abb597d51e9784431198.png --key -YlA6-jsSVG9OFAAGsnhCw.doc --acl public-read --content-type application\\/msword\n```\n\nand I get:\n\n```\nusage: aws [options] <command> <subcommand> [parameters]\naws: error: argument --key: expected one argument\n```\n\nSo far so good, that's expected. However, when I add double-quotes around the --key's value, or escape the leading dash, then these backslashes and double quotes become part of the filename and end up like that in the bucket.\n\nIs there a way to get a file named -YlA6-jsSVG9OFAAGsnhCw.doc into the bucket via aws-cli?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1130", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1130/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1130/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1130/events", "html_url": "https://github.com/aws/aws-cli/issues/1130", "id": 56732491, "node_id": "MDU6SXNzdWU1NjczMjQ5MQ==", "number": 1130, "title": "Unable to set website-redirect with `http://` or `https://` prefix", "user": {"login": "csexton", "id": 16963, "node_id": "MDQ6VXNlcjE2OTYz", "avatar_url": "https://avatars.githubusercontent.com/u/16963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csexton", "html_url": "https://github.com/csexton", "followers_url": "https://api.github.com/users/csexton/followers", "following_url": "https://api.github.com/users/csexton/following{/other_user}", "gists_url": "https://api.github.com/users/csexton/gists{/gist_id}", "starred_url": "https://api.github.com/users/csexton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csexton/subscriptions", "organizations_url": "https://api.github.com/users/csexton/orgs", "repos_url": "https://api.github.com/users/csexton/repos", "events_url": "https://api.github.com/users/csexton/events{/privacy}", "received_events_url": "https://api.github.com/users/csexton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-05T21:29:00Z", "updated_at": "2015-02-10T21:10:37Z", "closed_at": "2015-02-10T21:10:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Passing in a URL into the `--website-redirect` option is considered invalid, despite including a valid prefix.\n\n```\n% aws s3 cp --website-redirect 'http://otherserver.com' /var/folders/mr/hp5q732j74b25ht_d_2tn8bh0000gn/T/redirect.XXXXXX.2RcCGLGT s3://mys3bucket.server.com/path/to/index.html\nupload failed: ../../../../var/folders/mr/hp5q732j74b25ht_d_2tn8bh0000gn/T/redirect.XXXXXX.2RcCGLGT to s3://mys3bucket.server.com/path/to/index.html \nA client error (InvalidRedirectLocation) occurred when calling the PutObject operation: \n  The website redirect location must have a prefix of 'http://' or 'https://' or '/'.\n```\n\nI have tried with both http and https (however if I use https on a site that doesn't have a valid cert I get a ssl error). Also tried a variety of escaping and quoting the url including, none of which worked :cry: \n- `aws s3 cp --website-redirect 'http://otherserver.com' file s3://mys3bucket/path/file`\n- `aws s3 cp --website-redirect \"http://otherserver.com\" file s3://mys3bucket/path/file`\n- `aws s3 cp --website-redirect http://otherserver.com file s3://mys3bucket/path/file`\n- `aws s3 cp --website-redirect http:\\/\\/otherserver.com file s3://mys3bucket/path/file`\n- `aws s3 cp --website-redirect https://otherserver.com file s3://mys3bucket/path/file`\n- `aws s3 cp file s3://mys3bucket/path/file --website-redirect \"http://otherserver.com\"`\n\nI was able to roll back to version 1.4 and get the command to work again.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1124", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1124/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1124/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1124/events", "html_url": "https://github.com/aws/aws-cli/issues/1124", "id": 56508356, "node_id": "MDU6SXNzdWU1NjUwODM1Ng==", "number": 1124, "title": "No UTF-8 characters allowed in `content-disposition`?", "user": {"login": "kvz", "id": 26752, "node_id": "MDQ6VXNlcjI2NzUy", "avatar_url": "https://avatars.githubusercontent.com/u/26752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvz", "html_url": "https://github.com/kvz", "followers_url": "https://api.github.com/users/kvz/followers", "following_url": "https://api.github.com/users/kvz/following{/other_user}", "gists_url": "https://api.github.com/users/kvz/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvz/subscriptions", "organizations_url": "https://api.github.com/users/kvz/orgs", "repos_url": "https://api.github.com/users/kvz/repos", "events_url": "https://api.github.com/users/kvz/events{/privacy}", "received_events_url": "https://api.github.com/users/kvz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-04T10:21:51Z", "updated_at": "2015-02-12T18:58:17Z", "closed_at": "2015-02-12T18:58:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nWe're running into some strange issues. We recently switched to this official aws cli coming from Tim Kay's `aws` tool, but we're running into problems with 'weird' filenames.\n\n``` bash\n$ aws s3api put-object \\\n  --bucket dev.s3.transload.it \\\n  --debug \\\n  --body ./failing-utf8.jpg \\\n  --key failing-utf8.jpg \\\n  --acl public-read \\\n  --content-type image/jpeg \\\n  --content-disposition attachment\\; filename=5\u5c0f\u6642\u63a5\u529b\u8d77\u8dd1.jpg;\n\n2015-02-04 15:49:14,198 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.7.4 Python/2.7.8 Linux/3.13.0-39-generic, botocore version: 0.85.0\n2015-02-04 15:49:14,198 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f345653a410>\n2015-02-04 15:49:14,198 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x7f345677dcf8>\n2015-02-04 15:49:14,198 - MainThread - botocore.service - DEBUG - Creating service object for: s3\n2015-02-04 15:49:14,228 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function register_retries_for_service at 0x7f3456efee60>\n2015-02-04 15:49:14,233 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: s3\n2015-02-04 15:49:14,234 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x7f3456f00050>\n2015-02-04 15:49:14,234 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function register_retries_for_service at 0x7f3456efee60>\n2015-02-04 15:49:14,235 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: s3\n2015-02-04 15:49:14,235 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x7f3456f00050>\n2015-02-04 15:49:14,235 - MainThread - botocore.service - DEBUG - Creating operation objects for: Service(s3)\n2015-02-04 15:49:14,239 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3api: calling handler <function add_waiters at 0x7f34565036e0>\n2015-02-04 15:49:14,253 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'acl', <awscli.arguments.CLIArgument object at 0x7f34560be3d0>), (u'body', <awscli.arguments.CLIArgument object at 0x7f34560be410>), (u'bucket', <awscli.arguments.CLIArgument object at 0x7f34560be450>), (u'cache-control', <awscli.arguments.CLIArgument object at 0x7f34560be490>), (u'content-disposition', <awscli.arguments.CLIArgument object at 0x7f34560be4d0>), (u'content-encoding', <awscli.arguments.CLIArgument object at 0x7f34560be510>), (u'content-language', <awscli.arguments.CLIArgument object at 0x7f34560be550>), (u'content-length', <awscli.arguments.CLIArgument object at 0x7f34560be590>), (u'content-md5', <awscli.arguments.CLIArgument object at 0x7f34560be5d0>), (u'content-type', <awscli.arguments.CLIArgument object at 0x7f34560be610>), (u'expires', <awscli.arguments.CLIArgument object at 0x7f34560be650>), (u'grant-full-control', <awscli.arguments.CLIArgument object at 0x7f34560be690>), (u'grant-read', <awscli.arguments.CLIArgument object at 0x7f34560be6d0>), (u'grant-read-acp', <awscli.arguments.CLIArgument object at 0x7f34560be710>), (u'grant-write-acp', <awscli.arguments.CLIArgument object at 0x7f34560be750>), (u'key', <awscli.arguments.CLIArgument object at 0x7f34560be790>), (u'metadata', <awscli.arguments.CLIArgument object at 0x7f34560be7d0>), (u'server-side-encryption', <awscli.arguments.CLIArgument object at 0x7f34560be810>), (u'storage-class', <awscli.arguments.CLIArgument object at 0x7f34560be850>), (u'website-redirect-location', <awscli.arguments.CLIArgument object at 0x7f34560be890>), (u'sse-customer-algorithm', <awscli.arguments.CLIArgument object at 0x7f34560be8d0>), (u'sse-customer-key', <awscli.arguments.CLIArgument object at 0x7f34560be910>), (u'sse-customer-key-md5', <awscli.arguments.CLIArgument object at 0x7f34560be950>), (u'ssekms-key-id', <awscli.arguments.CLIArgument object at 0x7f34560be990>)])\n2015-02-04 15:49:14,253 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.put-object: calling handler <function add_streaming_output_arg at 0x7f34568c45f0>\n2015-02-04 15:49:14,253 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.put-object: calling handler <function add_cli_input_json at 0x7f3456770ed8>\n2015-02-04 15:49:14,254 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.put-object: calling handler <function unify_paging_params at 0x7f345685c500>\n2015-02-04 15:49:14,257 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.put-object: calling handler <function add_generate_skeleton at 0x7f345677a488>\n2015-02-04 15:49:14,258 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.put-object: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f34560be9d0>>\n2015-02-04 15:49:14,258 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.put-object: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f34560bea10>>\n\nTraceback (most recent call last):\n  File \"/srv/current/stack/bin/aws\", line 23, in <module>\n    sys.exit(main())\n  File \"/srv/current/stack/bin/aws\", line 19, in main\n    return awscli.clidriver.main()\n  File \"/srv/current/stack/lib/python2.7/site-packages/awscli/clidriver.py\", line 50, in main\n    return driver.main()\n  File \"/srv/current/stack/lib/python2.7/site-packages/awscli/clidriver.py\", line 200, in main\n    sys.stderr.write(str(e) + '\\n')\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u8dd1' in position 26: ordinal not in range(128)\n```\n\nMy environment:\n\n``` bash\n$ bash -xc \"lsb_release -ds; bash --version |head -1; aws --version; env |egrep '(LC_|LANG)'\"+ lsb_release -ds\n+ lsb_release -ds\nUbuntu 12.04.5 LTS\n+ bash --version\n+ head -1\nGNU bash, version 4.2.25(1)-release (x86_64-pc-linux-gnu)\n+ aws --version\naws-cli/1.7.4 Python/2.7.8 Linux/3.13.0-39-generic\n+ env\n+ egrep '(LC_|LANG)+'\nLC_ALL=en_US.UTF-8\nLANG=en_US.UTF-8\nLANGUAGE=en_US.UTF-8\nLC_CTYPE=en_US.UTF-8\nLC_TIME=en_US.UTF-8\n```\n\nI suspect there might be a bug that causes this behavior and would like to know if you can shed some light on it.\n\nKind regards,\nKevin\n\n**Edit:** At first this report also had bits about escaping bash chars, but I could boil it down to this.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1124/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1118", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1118/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1118/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1118/events", "html_url": "https://github.com/aws/aws-cli/issues/1118", "id": 55925362, "node_id": "MDU6SXNzdWU1NTkyNTM2Mg==", "number": 1118, "title": "s3 ls --recursive fails after long time", "user": {"login": "opennomad", "id": 4350520, "node_id": "MDQ6VXNlcjQzNTA1MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/4350520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/opennomad", "html_url": "https://github.com/opennomad", "followers_url": "https://api.github.com/users/opennomad/followers", "following_url": "https://api.github.com/users/opennomad/following{/other_user}", "gists_url": "https://api.github.com/users/opennomad/gists{/gist_id}", "starred_url": "https://api.github.com/users/opennomad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/opennomad/subscriptions", "organizations_url": "https://api.github.com/users/opennomad/orgs", "repos_url": "https://api.github.com/users/opennomad/repos", "events_url": "https://api.github.com/users/opennomad/events{/privacy}", "received_events_url": "https://api.github.com/users/opennomad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 81772671, "node_id": "MDU6TGFiZWw4MTc3MjY3MQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-01-29T16:53:56Z", "updated_at": "2015-02-03T20:22:18Z", "closed_at": "2015-02-03T20:22:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "running on EC2 with aws-cli/1.7.4 Python/2.7.6 Linux/3.13.0-44-generic I'm trying to list all objects in a S3 bucket with `--recursive`. There are some 12 million objects and I've only managed to get about half of them listed before I get the error:\n\n```\n\"A client error (InvalidAccessKeyId) occurred when calling the ListObjects operation: The AWS Access Key Id you provided does not exist in our records.\"\n```\n\nSo, the key definitely works since i'm getting a lot of the listing, but after a long time (between 1 and 2 hours) it fails with the above.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1116", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1116/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1116/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1116/events", "html_url": "https://github.com/aws/aws-cli/issues/1116", "id": 55826933, "node_id": "MDU6SXNzdWU1NTgyNjkzMw==", "number": 1116, "title": "AWS CLI HTTP Proxy issue for S3", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-01-28T22:39:49Z", "updated_at": "2015-01-29T00:02:07Z", "closed_at": "2015-01-29T00:02:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When using an HTTP (not an HTTPS) proxy, we do not handle the case where the proxy server will send headers along with the 100 continue response when we set the Expect header in our request.  This only happens for specific S3 operations, but when using these S3 commands, the AWS CLI will hang and eventually exit with a timeout exception:\n\n```\n     Expect: 100-continue  (same)\nCLI     ->           SQUID         ->              S3\n     HTTP/1.1 100 Continue      HTTP/1.1 100 Continue\n     Connection: keep-alive\nCLI     <-           SQUID         <-               S3\n\n     object body                object body\nCLI     ->           SQUID         ->               S3\n      200 OK                     200 OK\nCLI     <-           SQUID         <-               S3\n\n```\n\nNote how from SQUID to CLI a `Connection: keep-alive` is injected in the proxies response.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1111", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1111/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1111/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1111/events", "html_url": "https://github.com/aws/aws-cli/issues/1111", "id": 55680705, "node_id": "MDU6SXNzdWU1NTY4MDcwNQ==", "number": 1111, "title": "aws s3api wait bucket-not-exists does not handle success case", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-27T22:00:19Z", "updated_at": "2015-03-18T23:03:53Z", "closed_at": "2015-03-18T23:03:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Given a bucket that does not exist:\n\n```\n$ aws s3api head-bucket --bucket foobar-asdfasdfasdf-123\n\nA client error (404) occurred when calling the HeadBucket operation: Not Found\n```\n\nwhen we try to wait for that bucket to not exist, I'd expect the command to return immediately but instead we get an error:\n\n```\n$ aws s3api wait bucket-not-exists --bucket foobar-asdfasdfasdf-123\n\nWaiter BucketNotExists failed: Unexpected error encountered.\n```\n\nThis _should_ go away with the switchover to clients, but in the meantime this happens because we can't parse an error code out of the head object response because it does not have a response body to parse.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1094", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1094/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1094/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1094/events", "html_url": "https://github.com/aws/aws-cli/issues/1094", "id": 54293716, "node_id": "MDU6SXNzdWU1NDI5MzcxNg==", "number": 1094, "title": "aws s3 sync loses track if connection failure: \"with -7 file(s) remaining\"", "user": {"login": "ulsa", "id": 105722, "node_id": "MDQ6VXNlcjEwNTcyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/105722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ulsa", "html_url": "https://github.com/ulsa", "followers_url": "https://api.github.com/users/ulsa/followers", "following_url": "https://api.github.com/users/ulsa/following{/other_user}", "gists_url": "https://api.github.com/users/ulsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ulsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ulsa/subscriptions", "organizations_url": "https://api.github.com/users/ulsa/orgs", "repos_url": "https://api.github.com/users/ulsa/repos", "events_url": "https://api.github.com/users/ulsa/events{/privacy}", "received_events_url": "https://api.github.com/users/ulsa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-14T07:56:44Z", "updated_at": "2015-10-15T18:43:17Z", "closed_at": "2015-10-15T18:43:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Lost connection to wifi for a while, during a large sync operation, and got this:\n\n```\nupload failed: 20141129/wac_A8AA_20141129_0065.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0065.log.gz\n[Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload failed: 20141129/wac_A8AA_20141129_0062.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0062.log.gz\n[Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload failed: 20141129/wac_A8AA_20141129_0066.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0066.log.gz\n[Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload failed: 20141129/wac_A8AA_20141129_0061.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0061.log.gz\n[Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload failed: 20141129/wac_A8AA_20141129_0067.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0067.log.gz\n[Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload failed: 20141129/wac_A8AA_20141129_0068.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0068.log.gz\n[Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload failed: 20141129/wac_A8AA_20141129_0069.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0069.log.gz\n[Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload failed: 20141129/wac_A8AA_20141129_0072.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0072.log.gz [Errno 8] _ssl.c:504: EOF occurred in violation of protocol\nupload: 20141129/wac_A8AA_20141129_0070.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0070.log.gz\nupload: 20141129/wac_A8AA_20141129_0071.log.gz to s3://my-logs-prod/logs/20141129/wac_A8AA_20141129_0071.log.gz\nCompleted 699 of 770 part(s) with -7 file(s) remaining\n```\n\n```\n$ aws --version\naws-cli/1.6.10 Python/2.7.5 Darwin/13.4.0\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1094/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1082", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1082/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1082/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1082/events", "html_url": "https://github.com/aws/aws-cli/issues/1082", "id": 53516467, "node_id": "MDU6SXNzdWU1MzUxNjQ2Nw==", "number": 1082, "title": "aws s3 sync warning: Skipping file \".\" File does not exist.", "user": {"login": "Fantus", "id": 1288316, "node_id": "MDQ6VXNlcjEyODgzMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1288316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fantus", "html_url": "https://github.com/Fantus", "followers_url": "https://api.github.com/users/Fantus/followers", "following_url": "https://api.github.com/users/Fantus/following{/other_user}", "gists_url": "https://api.github.com/users/Fantus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fantus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fantus/subscriptions", "organizations_url": "https://api.github.com/users/Fantus/orgs", "repos_url": "https://api.github.com/users/Fantus/repos", "events_url": "https://api.github.com/users/Fantus/events{/privacy}", "received_events_url": "https://api.github.com/users/Fantus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2015-01-06T13:53:03Z", "updated_at": "2019-11-04T10:00:25Z", "closed_at": "2015-10-27T16:49:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\naws --version\naws-cli/1.6.10 Python/2.6.6 Linux/2.6.32-504.3.3.el6.x86_64\n```\n\nHi,\niam experiencing a strange be behavior when running `aws s3 sync`\n\nif i run \n\n```\naws s3 sync s3://testing /home/vagrant/test-folder/\n```\n\ni get the following error in the very first line, the rest of the bucket is synced as expected\n\n```\nwarning: Skipping file /home/vagrant/test-folder/. File does not exist.\n```\n\nhowever if i go into the folder and run\n\n```\naws s3 sync s3://testing .\n```\n\nit runs successfully.\n\nBest\nJustus\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1082/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1076", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1076/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1076/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1076/events", "html_url": "https://github.com/aws/aws-cli/issues/1076", "id": 53147308, "node_id": "MDU6SXNzdWU1MzE0NzMwOA==", "number": 1076, "title": "Round trip s3api get/put-bucket-lifecycle", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-30T21:10:14Z", "updated_at": "2015-01-07T01:56:29Z", "closed_at": "2015-01-07T01:52:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "An `s3api get-bucket-lifecycle` response with an xml node prefix of `<prefix></prefix>` is parsed as `None`, which shows up in JSON as `null`:\n\n```\n$ aws s3api get-bucket-lifecycle --bucket bucket\n{\n    \"Rules\": [\n        {\n            \"Status\": \"Enabled\",\n            \"Prefix\": null,  # <--- parsed as null\n```\n\n  However, if you try to round trip this response with an `s3api put-bucket-lifecycle` you'll get a validation error as prefix is expected to be a string:\n\n`Invalid type for parameter LifecycleConfiguration.Rules[0].Prefix, value: None, type: <type 'NoneType'>, valid types: <type 'basestring'>`\n\nIdeally we should parse an xml node that comes across the wire as `<foo></foo>` as an empty string if the associated output shape is modeled as a string.\n\nWe'll need to evaluate that this is not a breaking change, but the consequence of this change is that there may be fields that previously parsed as `null` will now show up as an empty string.\n\nFiling this issue for now to track progress.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1076/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1075", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1075/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1075/events", "html_url": "https://github.com/aws/aws-cli/issues/1075", "id": 53145578, "node_id": "MDU6SXNzdWU1MzE0NTU3OA==", "number": 1075, "title": "Cannot Revoke EC2 Security Group ICMP Rule That Was Added Via AWS Management Console", "user": {"login": "pgn674", "id": 5354660, "node_id": "MDQ6VXNlcjUzNTQ2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5354660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgn674", "html_url": "https://github.com/pgn674", "followers_url": "https://api.github.com/users/pgn674/followers", "following_url": "https://api.github.com/users/pgn674/following{/other_user}", "gists_url": "https://api.github.com/users/pgn674/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgn674/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgn674/subscriptions", "organizations_url": "https://api.github.com/users/pgn674/orgs", "repos_url": "https://api.github.com/users/pgn674/repos", "events_url": "https://api.github.com/users/pgn674/events{/privacy}", "received_events_url": "https://api.github.com/users/pgn674/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-30T20:45:02Z", "updated_at": "2015-02-12T18:42:17Z", "closed_at": "2015-02-12T18:42:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I made a test security group in the AWS EC2 Management Console with one rule: Inbound, Type: Custom ICMP Rule, Protocol: Echo Request, Source: Custom IP: 8.8.8.8.\n\nUsing the AWS CLI, I can see the rule, with ToPort and FromPort being different from each other\n\n``` bash\naws --output json ec2 describe-security-groups --group-names testingicmp\n```\n\n``` json\n{\n    \"SecurityGroups\": [\n        {\n            \"IpPermissionsEgress\": [], \n            \"Description\": \"Testing ICMP\", \n            \"IpPermissions\": [\n                {\n                    \"ToPort\": -1, \n                    \"IpProtocol\": \"icmp\", \n                    \"IpRanges\": [\n                        {\n                            \"CidrIp\": \"8.8.8.8/32\"\n                        }\n                    ], \n                    \"UserIdGroupPairs\": [], \n                    \"FromPort\": 8\n                }\n            ], \n            \"GroupName\": \"testingicmp\", \n            \"OwnerId\": \"618125783243\", \n            \"GroupId\": \"sg-5387753e\"\n        }\n    ]\n}\n```\n\nBoth of these attempts return nothing and describing the security group again shows that it's still there.\n\n``` bash\naws --output json ec2 revoke-security-group-ingress --group-name testingicmp --protocol icmp --port 8 --cidr 8.8.8.8/32\naws --output json ec2 revoke-security-group-ingress --group-name testingicmp --protocol icmp --port -1 --cidr 8.8.8.8/32\n```\n\nThis one results in an error. I've pasted the debug from this further down.\n\n``` bash\naws --output json ec2 revoke-security-group-ingress --group-name testingicmp --protocol icmp --from-port 8 --to-port -1 --cidr 8.8.8.8/32\n```\n\n```\nA client error (InvalidParameterCombination) occurred when calling the RevokeSecurityGroupIngress operation: The parameter 'ipPermissions' may not be used in combination with 'fromPort'\n```\n\nIf I try to add a similar rule, these return nothing.\n\n``` bash\naws --output json ec2 authorize-security-group-ingress --group-name testingicmp --protocol icmp --port 8 --cidr 8.8.4.4/32\naws --output json ec2 authorize-security-group-ingress --group-name testingicmp --protocol icmp --port -1 --cidr 8.8.4.4/32\n```\n\nAnd this one gets a similar error.\n\n``` bash\naws --output json ec2 authorize-security-group-ingress --group-name testingicmp --protocol icmp --from-port 8 --to-port -1 --cidr 8.8.4.4/32\n```\n\n```\nA client error (InvalidParameterCombination) occurred when calling the AuthorizeSecurityGroupIngress operation: The parameter 'ipPermissions' may not be used in combination with 'fromPort'\n```\n\nDescribing the group again, I see that the first two work, but do not match the AWS Management Console regarding ToPort and FromPort\n\n``` bash\naws --output json ec2 describe-security-groups --group-names testingicmp\n```\n\n``` json\n{\n    \"SecurityGroups\": [\n        {\n            \"IpPermissionsEgress\": [], \n            \"Description\": \"Testing ICMP\", \n            \"IpPermissions\": [\n                {\n                    \"ToPort\": -1, \n                    \"IpProtocol\": \"icmp\", \n                    \"IpRanges\": [\n                        {\n                            \"CidrIp\": \"8.8.4.4/32\"\n                        }\n                    ], \n                    \"UserIdGroupPairs\": [], \n                    \"FromPort\": -1\n                }, \n                {\n                    \"ToPort\": 8, \n                    \"IpProtocol\": \"icmp\", \n                    \"IpRanges\": [\n                        {\n                            \"CidrIp\": \"8.8.4.4/32\"\n                        }\n                    ], \n                    \"UserIdGroupPairs\": [], \n                    \"FromPort\": 8\n                }, \n                {\n                    \"ToPort\": -1, \n                    \"IpProtocol\": \"icmp\", \n                    \"IpRanges\": [\n                        {\n                            \"CidrIp\": \"8.8.8.8/32\"\n                        }\n                    ], \n                    \"UserIdGroupPairs\": [], \n                    \"FromPort\": 8\n                }\n            ], \n            \"GroupName\": \"testingicmp\", \n            \"OwnerId\": \"618125783243\", \n            \"GroupId\": \"sg-5387753e\"\n        }\n    ]\n}\n```\n\nI'm running the latest AWS CLI release and Python 2.7.\n\n``` bash\naws --version\n```\n\n```\naws-cli/1.3.25 Python/2.7.8 Linux/3.17.7-300.fc21.x86_64\n```\n\nHere is the revoke command that gets an error, with debugging enabled.\n\n``` bash\naws --debug --output json ec2 revoke-security-group-ingress --group-name testingicmp --protocol icmp --from-port 8 --to-port -1 --cidr 8.8.8.8/32\n```\n\n```\n2014-12-30 15:27:33,378 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.6.10 Python/2.7.8 Linux/3.17.7-300.fc21.x86_64, botocore version: 0.80.0\n2014-12-30 15:27:33,378 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7fa461ddded8>\n2014-12-30 15:27:33,378 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x7fa4622362a8>\n2014-12-30 15:27:33,378 - MainThread - botocore.service - DEBUG - Creating service object for: ec2\n2014-12-30 15:27:33,451 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.ec2: calling handler <function register_retries_for_service at 0x7fa462a37320>\n2014-12-30 15:27:33,458 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: ec2\n2014-12-30 15:27:33,458 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.ec2: calling handler <function signature_overrides at 0x7fa462a37488>\n2014-12-30 15:27:33,458 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.ec2: calling handler <function register_retries_for_service at 0x7fa462a37320>\n2014-12-30 15:27:33,459 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: ec2\n2014-12-30 15:27:33,459 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.ec2: calling handler <function signature_overrides at 0x7fa462a37488>\n2014-12-30 15:27:33,459 - MainThread - botocore.service - DEBUG - Creating operation objects for: Service(ec2)\n2014-12-30 15:27:33,474 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <functools.partial object at 0x7fa461df5578>\n2014-12-30 15:27:33,474 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-instance\n2014-12-30 15:27:33,474 - MainThread - awscli.customizations.removals - DEBUG - Removing operation: import-volume\n2014-12-30 15:27:33,474 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <function add_waiters at 0x7fa462236de8>\n2014-12-30 15:27:33,477 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'dry-run', <awscli.arguments.BooleanArgument object at 0x7fa461d4e310>), (u'no-dry-run', <awscli.arguments.BooleanArgument object at 0x7fa461d4e350>), (u'group-name', <awscli.arguments.CLIArgument object at 0x7fa461d4e390>), (u'group-id', <awscli.arguments.CLIArgument object at 0x7fa461d4e3d0>), (u'source-security-group-name', <awscli.arguments.CLIArgument object at 0x7fa461d4e410>), (u'source-security-group-owner-id', <awscli.arguments.CLIArgument object at 0x7fa461d4e450>), (u'ip-protocol', <awscli.arguments.CLIArgument object at 0x7fa461d4e490>), (u'from-port', <awscli.arguments.CLIArgument object at 0x7fa461d4e4d0>), (u'to-port', <awscli.arguments.CLIArgument object at 0x7fa461d4e510>), (u'cidr-ip', <awscli.arguments.CLIArgument object at 0x7fa461d4e550>), (u'ip-permissions', <awscli.arguments.ListArgument object at 0x7fa461d4e590>)])\n2014-12-30 15:27:33,478 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <function add_streaming_output_arg at 0x7fa4623719b0>\n2014-12-30 15:27:33,478 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <function _rename_arg at 0x7fa461df0b90>\n2014-12-30 15:27:33,478 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <function _rename_arg at 0x7fa461df0c80>\n2014-12-30 15:27:33,478 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <functools.partial object at 0x7fa461df5fc8>\n2014-12-30 15:27:33,479 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <function _add_params at 0x7fa46232f1b8>\n2014-12-30 15:27:33,479 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <function add_cli_input_json at 0x7fa462227578>\n2014-12-30 15:27:33,479 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <function unify_paging_params at 0x7fa4623919b0>\n2014-12-30 15:27:33,480 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ec2.revoke-security-group-ingress: calling handler <function add_generate_skeleton at 0x7fa4622272a8>\n2014-12-30 15:27:33,480 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.revoke-security-group-ingress: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7fa461d4ea50>>\n2014-12-30 15:27:33,480 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ec2.revoke-security-group-ingress: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fa461d2ddd0>>\n2014-12-30 15:27:33,481 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.ec2.revoke-security-group-ingress: calling handler <functools.partial object at 0x7fa46181acb0>\n2014-12-30 15:27:33,482 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.ec2.revoke-security-group-ingress: calling handler <function _check_args at 0x7fa46232f230>\n2014-12-30 15:27:33,482 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.dry-run: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,482 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.group-name: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,482 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.ec2.revoke-security-group-ingress: calling handler <awscli.argprocess.ParamShorthand object at 0x7fa461de87d0>\n2014-12-30 15:27:33,482 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2014-12-30 15:27:33,482 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'testingicmp' for parameter \"group_name\": u'testingicmp'\n2014-12-30 15:27:33,482 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.group-id: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,482 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.source-security-group-name: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,482 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.source-security-group-owner-id: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,483 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.ip-protocol: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,483 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.from-port: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,483 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.ec2.revoke-security-group-ingress: calling handler <awscli.argprocess.ParamShorthand object at 0x7fa461de87d0>\n2014-12-30 15:27:33,483 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2014-12-30 15:27:33,483 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'8' for parameter \"from_port\": 8\n2014-12-30 15:27:33,483 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.to-port: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,483 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.ec2.revoke-security-group-ingress: calling handler <awscli.argprocess.ParamShorthand object at 0x7fa461de87d0>\n2014-12-30 15:27:33,483 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2014-12-30 15:27:33,483 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'-1' for parameter \"to_port\": -1\n2014-12-30 15:27:33,483 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.cidr-ip: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,483 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.ip-permissions: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.protocol: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.port: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.cidr: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.source-group: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.group-owner: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.cli-input-json: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ec2.revoke-security-group-ingress.generate-cli-skeleton: calling handler <function uri_param at 0x7fa4623c8d70>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.revoke-security-group-ingress: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fa461d2ddd0>>\n2014-12-30 15:27:33,484 - MainThread - botocore.hooks - DEBUG - Event calling-command.ec2.revoke-security-group-ingress: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7fa461d4ea50>>\n2014-12-30 15:27:33,484 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2014-12-30 15:27:33,485 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2014-12-30 15:27:33,485 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2014-12-30 15:27:33,485 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: config-file\n2014-12-30 15:27:33,486 - MainThread - botocore.credentials - INFO - Credentials found in config file: ~/.aws/config\n2014-12-30 15:27:33,487 - MainThread - botocore.operation - DEBUG - Operation:RevokeSecurityGroupIngress called with kwargs: {u'ToPort': -1, u'GroupName': u'testingicmp', 'ip_permissions': [{'IpProtocol': u'icmp', 'IpRanges': [{'CidrIp': u'8.8.8.8/32'}]}], u'FromPort': 8}\n2014-12-30 15:27:33,488 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x7fa461d8d650> (verify_ssl=True) with params: {'query_string': '', 'headers': {}, 'url_path': '/', 'body': {u'FromPort': 8, u'GroupName': u'testingicmp', u'IpPermissions.1.IpRanges.1.CidrIp': u'8.8.8.8/32', u'IpPermissions.1.IpProtocol': u'icmp', u'ToPort': -1, 'Version': u'2014-10-01', 'Action': u'RevokeSecurityGroupIngress'}, 'method': u'POST'}\n2014-12-30 15:27:33,489 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2014-12-30 15:27:33,489 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\nhost:ec2.us-east-1.amazonaws.com\nuser-agent:aws-cli/1.6.10 Python/2.7.8 Linux/3.17.7-300.fc21.x86_64\nx-amz-date:20141230T202733Z\n\nhost;user-agent;x-amz-date\n5e834b9b723192c8a6ec022405624471eadcbb3909f7e8f2ff11b3795fe97a36\n2014-12-30 15:27:33,489 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20141230T202733Z\n20141230/us-east-1/ec2/aws4_request\n8bdf3d1f589178a78bfa831893eaa194bf23a812f250b6988b9257e56b420764\n2014-12-30 15:27:33,489 - MainThread - botocore.auth - DEBUG - Signature:\nd79376a375bba9d7d25d2ed41853bd7c681b5bc3f69fc5a8899f6692adb47620\n2014-12-30 15:27:33,494 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2014-12-30 15:27:33,495 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): ec2.us-east-1.amazonaws.com\n2014-12-30 15:27:34,024 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 400 None\n2014-12-30 15:27:34,026 - MainThread - botocore.parsers - DEBUG - Response headers:\n{'cneonction': 'close',\n 'date': 'Tue, 30 Dec 2014 20:27:33 GMT',\n 'server': 'AmazonEC2',\n 'transfer-encoding': 'chunked'}\n2014-12-30 15:27:34,026 - MainThread - botocore.parsers - DEBUG - Response body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response><Errors><Error><Code>InvalidParameterCombination</Code><Message>The parameter 'ipPermissions' may not be used in combination with 'fromPort'</Message></Error></Errors><RequestID>3bf79ad0-f5be-4915-a091-487b3619b410</RequestID></Response>\n2014-12-30 15:27:34,026 - MainThread - botocore.hooks - DEBUG - Event needs-retry.ec2.RevokeSecurityGroupIngress: calling handler <botocore.retryhandler.RetryHandler object at 0x7fa4618cf950>\n2014-12-30 15:27:34,026 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2014-12-30 15:27:34,027 - MainThread - botocore.hooks - DEBUG - Event after-call.ec2.RevokeSecurityGroupIngress: calling handler <awscli.errorhandler.ErrorHandler object at 0x7fa461de8810>\n2014-12-30 15:27:34,027 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 400\n2014-12-30 15:27:34,027 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 197, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 357, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 492, in __call__\n    self._operation_object, call_parameters, parsed_globals)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/clidriver.py\", line 597, in invoke\n    **parameters)\n  File \"/usr/local/aws/lib/python2.7/site-packages/botocore/operation.py\", line 98, in call\n    parsed=response[1])\n  File \"/usr/local/aws/lib/python2.7/site-packages/botocore/session.py\", line 735, in emit\n    return self._events.emit(event_name, **kwargs)\n  File \"/usr/local/aws/lib/python2.7/site-packages/botocore/hooks.py\", line 182, in emit\n    response = handler(**kwargs)\n  File \"/usr/local/aws/lib/python2.7/site-packages/awscli/errorhandler.py\", line 70, in __call__\n    http_status_code=http_response.status_code)\nClientError: A client error (InvalidParameterCombination) occurred when calling the RevokeSecurityGroupIngress operation: The parameter 'ipPermissions' may not be used in combination with 'fromPort'\n2014-12-30 15:27:34,029 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\nA client error (InvalidParameterCombination) occurred when calling the RevokeSecurityGroupIngress operation: The parameter 'ipPermissions' may not be used in combination with 'fromPort'\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1075/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1072", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1072/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1072/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1072/events", "html_url": "https://github.com/aws/aws-cli/issues/1072", "id": 52746590, "node_id": "MDU6SXNzdWU1Mjc0NjU5MA==", "number": 1072, "title": "S3 sync bug in setting modified time on multi-part downloads", "user": {"login": "kirat-singh", "id": 6332011, "node_id": "MDQ6VXNlcjYzMzIwMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6332011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kirat-singh", "html_url": "https://github.com/kirat-singh", "followers_url": "https://api.github.com/users/kirat-singh/followers", "following_url": "https://api.github.com/users/kirat-singh/following{/other_user}", "gists_url": "https://api.github.com/users/kirat-singh/gists{/gist_id}", "starred_url": "https://api.github.com/users/kirat-singh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kirat-singh/subscriptions", "organizations_url": "https://api.github.com/users/kirat-singh/orgs", "repos_url": "https://api.github.com/users/kirat-singh/repos", "events_url": "https://api.github.com/users/kirat-singh/events{/privacy}", "received_events_url": "https://api.github.com/users/kirat-singh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-23T14:57:39Z", "updated_at": "2015-01-17T00:38:59Z", "closed_at": "2015-01-17T00:38:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\n\nI don't have a reproducible test case, but multi-part downloads incorrectly set the mtime of the file _before_ closing it.  This can cause the time to be reset to now when the file is closed.\n\nI have a very simple patch to fix this issue as a pull request and have been running this patched version on our production servers since Nov 10.\n\nPlease do take a look so I don't have to keep my patch around.\n\nhttps://github.com/aws/aws-cli/pull/994\n\nbest,\n-Kirat\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1070", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1070/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1070/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1070/events", "html_url": "https://github.com/aws/aws-cli/issues/1070", "id": 52611925, "node_id": "MDU6SXNzdWU1MjYxMTkyNQ==", "number": 1070, "title": "'charmap' codec can't encode character (Windows 7)", "user": {"login": "JamesBromberger", "id": 1736320, "node_id": "MDQ6VXNlcjE3MzYzMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1736320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JamesBromberger", "html_url": "https://github.com/JamesBromberger", "followers_url": "https://api.github.com/users/JamesBromberger/followers", "following_url": "https://api.github.com/users/JamesBromberger/following{/other_user}", "gists_url": "https://api.github.com/users/JamesBromberger/gists{/gist_id}", "starred_url": "https://api.github.com/users/JamesBromberger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JamesBromberger/subscriptions", "organizations_url": "https://api.github.com/users/JamesBromberger/orgs", "repos_url": "https://api.github.com/users/JamesBromberger/repos", "events_url": "https://api.github.com/users/JamesBromberger/events{/privacy}", "received_events_url": "https://api.github.com/users/JamesBromberger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 175816286, "node_id": "MDU6TGFiZWwxNzU4MTYyODY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/blocked", "name": "blocked", "color": "86499B", "default": false, "description": "Work is blocked on this issue for this codebase. Other labels or comments may indicate why."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-12-22T00:59:04Z", "updated_at": "2020-07-31T22:38:05Z", "closed_at": "2015-11-09T09:12:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Platform: Windows 7 Entreprise SP1. installed from MSI.\n\nC:>aws --profile lg-sec --region ap-southeast-2 cloudtrail create-trail help\n\n'charmap' codec can't encode character u'\\u2019' in position 1686: character maps to <undefined>\n\nC:>aws --version aws-cli/1.6.10 Python/2.7.5 Windows/7\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1063", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1063/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1063/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1063/events", "html_url": "https://github.com/aws/aws-cli/issues/1063", "id": 52144918, "node_id": "MDU6SXNzdWU1MjE0NDkxOA==", "number": 1063, "title": "Invalid mode/filename error when assuming IAM role for cross-account S3 access", "user": {"login": "dnlbrky", "id": 6390351, "node_id": "MDQ6VXNlcjYzOTAzNTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6390351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnlbrky", "html_url": "https://github.com/dnlbrky", "followers_url": "https://api.github.com/users/dnlbrky/followers", "following_url": "https://api.github.com/users/dnlbrky/following{/other_user}", "gists_url": "https://api.github.com/users/dnlbrky/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnlbrky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnlbrky/subscriptions", "organizations_url": "https://api.github.com/users/dnlbrky/orgs", "repos_url": "https://api.github.com/users/dnlbrky/repos", "events_url": "https://api.github.com/users/dnlbrky/events{/privacy}", "received_events_url": "https://api.github.com/users/dnlbrky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-16T17:52:59Z", "updated_at": "2014-12-17T15:27:33Z", "closed_at": "2014-12-16T22:04:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Another AWS account has data in an S3 bucket that I would like to access from my AWS account.  We followed the [instructions from the AWS CLI talk at re:Invent 2014](https://www.youtube.com/watch?v=vP56l7qThNs#t=1763) for cross-account access using the CLI.  We created the role `s3CrossAccountAccess` from the AWS console and added an entry to the config file for the `assumerProfile` profile:\n\n```\n[profile normalProfile]\nregion = us-east-1\n[profile assumerProfile]\nrole_arn = arn:aws:iam::xxxaccountidxxx:role/s3CrossAccountAccess\nsource_profile = normalProfile\nregion = us-east-1\n```\n\nWhen I run `aws s3api list-buckets --profile assumerProfile` I get the error below.  It also creates an empty folder at C:\\Users\\username\\.aws\\cli\\cache.\n\n```\n[Errno 22] invalid mode ('w') or filename: u'C:\\\\Users\\\\username\\\\.aws\\\\cli\\\\cache\\\\assumerProfile--arn:aws:iam::xxxaccountidxxx:role-s3CrossAccountAccess.json'\n```\n\nI'm using version 1.6.9 of the CLI for 64-bit Windows.\n\nAny ideas what I'm doing wrong, or if this is maybe a bug in the CLI?  It looks like it's trying to create an improperly named file.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1063/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1059", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1059/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1059/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1059/events", "html_url": "https://github.com/aws/aws-cli/issues/1059", "id": 51777349, "node_id": "MDU6SXNzdWU1MTc3NzM0OQ==", "number": 1059, "title": "Unable to use `cloudfront wait invalidation-completed`", "user": {"login": "cw-sudo", "id": 2640205, "node_id": "MDQ6VXNlcjI2NDAyMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2640205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cw-sudo", "html_url": "https://github.com/cw-sudo", "followers_url": "https://api.github.com/users/cw-sudo/followers", "following_url": "https://api.github.com/users/cw-sudo/following{/other_user}", "gists_url": "https://api.github.com/users/cw-sudo/gists{/gist_id}", "starred_url": "https://api.github.com/users/cw-sudo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cw-sudo/subscriptions", "organizations_url": "https://api.github.com/users/cw-sudo/orgs", "repos_url": "https://api.github.com/users/cw-sudo/repos", "events_url": "https://api.github.com/users/cw-sudo/events{/privacy}", "received_events_url": "https://api.github.com/users/cw-sudo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-12T07:12:39Z", "updated_at": "2015-01-05T18:03:33Z", "closed_at": "2015-01-05T18:03:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "`cloudfront wait invalidation-completed` failed. \nafter waiting about 10 minutes , following error has occurred.\n\n``` Shell\naws cloudfront wait invalidation-completed --distribution-id XXXXXXXXXXXXX --id XXXXXXXXXXXXX\nWaiter InvalidationCompleted failed: Max attempts exceeded\n```\n\nand when I wait for completed invalidation , the same error has occurred.\n\nMy version: aws-cli/1.6.9 Python/2.7.6 Darwin/14.0.0\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1059/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1053", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1053/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1053/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1053/events", "html_url": "https://github.com/aws/aws-cli/issues/1053", "id": 51432279, "node_id": "MDU6SXNzdWU1MTQzMjI3OQ==", "number": 1053, "title": "Latest MSI install is broken on Windows 7 and 8.1 64-bit", "user": {"login": "lloydcotten", "id": 567067, "node_id": "MDQ6VXNlcjU2NzA2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/567067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lloydcotten", "html_url": "https://github.com/lloydcotten", "followers_url": "https://api.github.com/users/lloydcotten/followers", "following_url": "https://api.github.com/users/lloydcotten/following{/other_user}", "gists_url": "https://api.github.com/users/lloydcotten/gists{/gist_id}", "starred_url": "https://api.github.com/users/lloydcotten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lloydcotten/subscriptions", "organizations_url": "https://api.github.com/users/lloydcotten/orgs", "repos_url": "https://api.github.com/users/lloydcotten/repos", "events_url": "https://api.github.com/users/lloydcotten/events{/privacy}", "received_events_url": "https://api.github.com/users/lloydcotten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-12-09T14:20:28Z", "updated_at": "2016-11-17T09:41:52Z", "closed_at": "2014-12-09T18:06:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed the latest version of aws cli for Windows from the MSI available at https://s3.amazonaws.com/aws-cli/AWSCLI64.msi.\n\nTested this on separate Windows 7 and Windows 8.1 OS 64-bit.\n\nI'm getting the following on every command, even `aws help` and `aws -version`.\n\n```\nTraceback (most recent call last):\n  File \"aws\", line 23, in <module>\n  File \"aws\", line 19, in main\n  File \"awscli\\clidriver.pyc\", line 49, in main\n  File \"awscli\\clidriver.pyc\", line 58, in create_clidriver\n  File \"awscli\\plugin.pyc\", line 44, in load_plugins\n  File \"awscli\\plugin.pyc\", line 61, in _import_plugins\n  File \"awscli\\handlers.pyc\", line 61, in <module>\n  File \"awscli\\customizations\\opsworks.pyc\", line 24, in <module>\n  File \"six.pyc\", line 89, in __get__\n\n  File \"six.pyc\", line 153, in _resolve\n\n  File \"six.pyc\", line 79, in _import_module\n    \u263a\u2665\u263a\u266b\u263a\nImportError: No module named pipes\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1053/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1051", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1051/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1051/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1051/events", "html_url": "https://github.com/aws/aws-cli/issues/1051", "id": 51388641, "node_id": "MDU6SXNzdWU1MTM4ODY0MQ==", "number": 1051, "title": "ImportError: cannot import name shlex_quote", "user": {"login": "gergnz", "id": 1312783, "node_id": "MDQ6VXNlcjEzMTI3ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1312783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gergnz", "html_url": "https://github.com/gergnz", "followers_url": "https://api.github.com/users/gergnz/followers", "following_url": "https://api.github.com/users/gergnz/following{/other_user}", "gists_url": "https://api.github.com/users/gergnz/gists{/gist_id}", "starred_url": "https://api.github.com/users/gergnz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gergnz/subscriptions", "organizations_url": "https://api.github.com/users/gergnz/orgs", "repos_url": "https://api.github.com/users/gergnz/repos", "events_url": "https://api.github.com/users/gergnz/events{/privacy}", "received_events_url": "https://api.github.com/users/gergnz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2014-12-09T05:10:16Z", "updated_at": "2014-12-12T20:46:12Z", "closed_at": "2014-12-11T01:12:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like this (https://github.com/aws/aws-cli/commit/6a352c01f16247d6b0d1d909e261d75ba978fae0) commit breaks aws cli on RHEL6 at least:\n\n```\nTraceback (most recent call last):\n  File \"/usr/bin/aws\", line 23, in <module>\n    sys.exit(main())\n  File \"/usr/bin/aws\", line 19, in main\n    return awscli.clidriver.main()\n  File \"/usr/lib/python2.6/site-packages/awscli/clidriver.py\", line 49, in main\n    driver = create_clidriver()\n  File \"/usr/lib/python2.6/site-packages/awscli/clidriver.py\", line 58, in create_clidriver\n    event_hooks=emitter)\n  File \"/usr/lib/python2.6/site-packages/awscli/plugin.py\", line 44, in load_plugins\n    modules = _import_plugins(plugin_mapping)\n  File \"/usr/lib/python2.6/site-packages/awscli/plugin.py\", line 61, in _import_plugins\n    module = __import__(path, fromlist=[module])\n  File \"/usr/lib/python2.6/site-packages/awscli/handlers.py\", line 61, in <module>\n    from awscli.customizations.opsworks import initialize as opsworks_init\n  File \"/usr/lib/python2.6/site-packages/awscli/customizations/opsworks.py\", line 24, in <module>\n    from six.moves import shlex_quote\nImportError: cannot import name shlex_quote\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1051/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1050", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1050/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1050/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1050/events", "html_url": "https://github.com/aws/aws-cli/issues/1050", "id": 51387011, "node_id": "MDU6SXNzdWU1MTM4NzAxMQ==", "number": 1050, "title": "Distribution for v1.6.7 broken", "user": {"login": "irgeek", "id": 57119, "node_id": "MDQ6VXNlcjU3MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/57119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/irgeek", "html_url": "https://github.com/irgeek", "followers_url": "https://api.github.com/users/irgeek/followers", "following_url": "https://api.github.com/users/irgeek/following{/other_user}", "gists_url": "https://api.github.com/users/irgeek/gists{/gist_id}", "starred_url": "https://api.github.com/users/irgeek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/irgeek/subscriptions", "organizations_url": "https://api.github.com/users/irgeek/orgs", "repos_url": "https://api.github.com/users/irgeek/repos", "events_url": "https://api.github.com/users/irgeek/events{/privacy}", "received_events_url": "https://api.github.com/users/irgeek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-09T04:31:40Z", "updated_at": "2014-12-09T18:12:00Z", "closed_at": "2014-12-09T18:12:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Commit 6a352c01f16247d6b0d1d909e261d75ba978fae0 uses `six.moves.shlex_quote` which was added in `six` v1.8.0, but the setup.py still says `six>=1.1.0`. If a user already has any version of `six` between those two values installed, `aws-cli` will install successfully, but will fail to run.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1048", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1048/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1048/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1048/events", "html_url": "https://github.com/aws/aws-cli/issues/1048", "id": 51355233, "node_id": "MDU6SXNzdWU1MTM1NTIzMw==", "number": 1048, "title": "JSON output should print unicode chars instead of escape sequences", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-08T21:33:26Z", "updated_at": "2014-12-09T01:29:53Z", "closed_at": "2014-12-09T01:29:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the JSON output, the JSON encoder will escape any non-ascii characters to be in the form `\\u<hex>` instead of encoding the unicode char in the encoding of stdout.\n\n```\n$ aws dynamodb scan --table-name testtable2\n{\n    \"ScannedCount\": 1,\n    \"ConsumedCapacity\": null,\n    \"Items\": [\n        {\n            \"foo\": {\n                \"S\": \"\\u2713\"\n            }\n        }\n    ],\n    \"Count\": 1\n}\n```\n\nHowever, for text/table output, py3/py27 will print unicode:\n\n```\n$ aws dynamodb scan --table-name testtable2 --output text\nFOO \u2713\n```\n\nbut py2.6 (and only py2.6) will raise an encoding error for table/text output:\n\n```\n$ aws dynamodb scan --table-name testtable2 --output text\n\n'ascii' codec can't encode character u'\\u2713' in position 4: ordinal not in range(128)\n```\n\nI believe this is due to a bug in py2.6 (http://bugs.python.org/issue4947) in which the `.encoding` attribute of `sys.stdout` is not being honored.  To fix this, we can use the `compat.get_stdout_text_writer` to ensure we have something that will always encode to our preferred encoding.\n\nSo the end result of this should be that we always display unicode chars instead of the escape sequences, and this should occur across all of the supported output formats.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1048/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1046", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1046/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1046/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1046/events", "html_url": "https://github.com/aws/aws-cli/issues/1046", "id": 51192002, "node_id": "MDU6SXNzdWU1MTE5MjAwMg==", "number": 1046, "title": "s3 ls error when keys are non-ASCII in eu-central-1", "user": {"login": "tgal", "id": 1301946, "node_id": "MDQ6VXNlcjEzMDE5NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1301946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgal", "html_url": "https://github.com/tgal", "followers_url": "https://api.github.com/users/tgal/followers", "following_url": "https://api.github.com/users/tgal/following{/other_user}", "gists_url": "https://api.github.com/users/tgal/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgal/subscriptions", "organizations_url": "https://api.github.com/users/tgal/orgs", "repos_url": "https://api.github.com/users/tgal/repos", "events_url": "https://api.github.com/users/tgal/events{/privacy}", "received_events_url": "https://api.github.com/users/tgal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-12-06T18:48:14Z", "updated_at": "2014-12-16T22:08:05Z", "closed_at": "2014-12-16T22:08:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\n\nMy version: `aws-cli/1.6.6 Python/2.7.6 Linux/3.13.0-40-generic`\n\nTo demostrate this problem I have set up a bucket in the region eu-central-1 and created five non-ASCII keys (with the most common German diacritics) inside:\n\n```\n$ aws s3 ls s3://tgal-test-eu-central --region eu-central-1\n2014-12-06 18:50:38          5 non-ascii-key-\u00e4\u00f6\u00fc-00.txt\n2014-12-06 18:50:38          5 non-ascii-key-\u00e4\u00f6\u00fc-01.txt\n2014-12-06 18:50:38          5 non-ascii-key-\u00e4\u00f6\u00fc-02.txt\n2014-12-06 18:50:38          5 non-ascii-key-\u00e4\u00f6\u00fc-03.txt\n2014-12-06 18:50:38          5 non-ascii-key-\u00e4\u00f6\u00fc-04.txt\n```\n\nThis works fine. But when I use a smaller page-size so that the \"marker\" field contains one of the non-ASCII strings I get this error:\n\n```\n2014-12-06 18:50:38          5 non-ascii-key-\u00e4\u00f6\u00fc-00.txt\n/usr/lib/python2.7/urllib.py:1288: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal\n  return ''.join(map(quoter, s))\n\nu'\\xc3'\n```\n\nThe same with `--debug`:\n\n```\n$ aws s3 ls s3://tgal-test-eu-central --region eu-central-1 --page-size 1 --debug\n2014-12-06 19:27:27,576 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.6.6 Python/2.7.6 Linux/3.13.0-40-generic, botocore version: 0.77.0\n2014-12-06 19:27:27,576 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7fd7bd097500>\n2014-12-06 19:27:27,577 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider at 0x7fd7bd2e3938>\n2014-12-06 19:27:27,578 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x7fd7bd2ea488>\n2014-12-06 19:27:27,580 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <function uri_param at 0x7fd7bd40d0c8>\n2014-12-06 19:27:27,580 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ls: calling handler <function add_waiters at 0x7fd7bd2ea488>\n2014-12-06 19:27:27,582 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.paths: calling handler <function uri_param at 0x7fd7bd40d0c8>\n2014-12-06 19:27:27,583 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.anonymous: calling handler <function uri_param at 0x7fd7bd40d0c8>\n2014-12-06 19:27:27,583 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.page-size: calling handler <function uri_param at 0x7fd7bd40d0c8>\n2014-12-06 19:27:27,583 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler <awscli.argprocess.ParamShorthand object at 0x7fd7bd098090>\n2014-12-06 19:27:27,583 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2014-12-06 19:27:27,584 - MainThread - botocore.service - DEBUG - Creating service object for: s3\n2014-12-06 19:27:27,641 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function register_retries_for_service at 0x7fd7bd7c01b8>\n2014-12-06 19:27:27,645 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: s3\n2014-12-06 19:27:27,646 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x7fd7bd7c0320>\n2014-12-06 19:27:27,646 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function register_retries_for_service at 0x7fd7bd7c01b8>\n2014-12-06 19:27:27,646 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: s3\n2014-12-06 19:27:27,646 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x7fd7bd7c0320>\n2014-12-06 19:27:27,648 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2014-12-06 19:27:27,648 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\n2014-12-06 19:27:27,650 - MainThread - botocore.service - DEBUG - Creating operation objects for: Service(s3)\n2014-12-06 19:27:27,658 - MainThread - botocore.operation - DEBUG - Operation:ListObjects called with kwargs: {u'MaxKeys': 1, 'prefix': '', 'bucket': u'tgal-test-eu-central', 'delimiter': '/'}\n2014-12-06 19:27:27,660 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <function add_expect_header at 0x7fd7bd7c0398>\n2014-12-06 19:27:27,660 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x7fd7bcdbe290> (verify_ssl=True) with params: {'query_string': {u'delimiter': '/', u'max-keys': 1, u'prefix': ''}, 'headers': {}, 'url_path': u'/tgal-test-eu-central', 'body': '', 'method': u'GET'}\n2014-12-06 19:27:27,661 - MainThread - botocore.hooks - DEBUG - Event before-auth.s3: calling handler <function fix_s3_host at 0x7fd7bd7c0050>\n2014-12-06 19:27:27,662 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2014-12-06 19:27:27,662 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nGET\n/tgal-test-eu-central\ndelimiter=%2F&max-keys=1&prefix=\nhost:s3.eu-central-1.amazonaws.com\nuser-agent:aws-cli/1.6.6 Python/2.7.6 Linux/3.13.0-40-generic\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\nx-amz-date:20141206T182727Z\n\nhost;user-agent;x-amz-content-sha256;x-amz-date\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\n2014-12-06 19:27:27,663 - MainThread - botocore.auth - DEBUG - StringToSign:\nAWS4-HMAC-SHA256\n20141206T182727Z\n20141206/eu-central-1/s3/aws4_request\nb63f9a35e6765a2a729c00db459082aa9afea5178e7a3d20315440330512cb36\n2014-12-06 19:27:27,663 - MainThread - botocore.auth - DEBUG - Signature:\n29b04742e42f8e5dd579e243413b86140e1a30a3bbd0292048dc439b1b9ead25\n2014-12-06 19:27:27,671 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [GET]>\n2014-12-06 19:27:27,672 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): s3.eu-central-1.amazonaws.com\n2014-12-06 19:27:27,738 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"GET /tgal-test-eu-central?delimiter=%2F&max-keys=1&prefix= HTTP/1.1\" 200 None\n2014-12-06 19:27:27,741 - MainThread - botocore.parsers - DEBUG - Response headers:\n{'content-type': 'application/xml',\n 'date': 'Sat, 06 Dec 2014 18:27:28 GMT',\n 'server': 'AmazonS3',\n 'transfer-encoding': 'chunked',\n 'x-amz-id-2': 'fgjM4xWchv7TrOo8HYZj73qXdniTRYLcjRxMlLKNumgNdcl+Y8LKenu6V0uMUkMT4ZHkRKxolvE=',\n 'x-amz-request-id': '7F7F9DA0879C807F'}\n2014-12-06 19:27:27,742 - MainThread - botocore.parsers - DEBUG - Response body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ListBucketResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Name>tgal-test-eu-central</Name><Prefix></Prefix><Marker></Marker><NextMarker>non-ascii-key-\u00e4\u00f6\u00fc-00.txt</NextMarker><MaxKeys>1</MaxKeys><Delimiter>/</Delimiter><IsTruncated>true</IsTruncated><Contents><Key>non-ascii-key-\u00e4\u00f6\u00fc-00.txt</Key><LastModified>2014-12-06T17:50:38.000Z</LastModified><ETag>&quot;2205e48de5f93c784733ffcca841d2b5&quot;</ETag><Size>5</Size><Owner><ID>54ebb9ca2d1870c1e3dfbbd499c0ab442603b06d495b6966fa6a577010bf2156</ID></Owner><StorageClass>STANDARD</StorageClass></Contents></ListBucketResult>\n2014-12-06 19:27:27,744 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjects: calling handler <botocore.retryhandler.RetryHandler object at 0x7fd7bce9ca50>\n2014-12-06 19:27:27,744 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2014-12-06 19:27:27,744 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <function enhance_error_msg at 0x7fd7bd2d6578>\n2014-12-06 19:27:27,744 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <awscli.errorhandler.ErrorHandler object at 0x7fd7bd0980d0>\n2014-12-06 19:27:27,745 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2014-12-06 18:50:38          5 non-ascii-key-\u00e4\u00f6\u00fc-00.txt\n2014-12-06 19:27:27,746 - MainThread - botocore.operation - DEBUG - Operation:ListObjects called with kwargs: {u'Marker': u'non-ascii-key-\\xe4\\xf6\\xfc-00.txt', u'MaxKeys': 1, 'delimiter': '/', 'bucket': u'tgal-test-eu-central', 'prefix': ''}\n2014-12-06 19:27:27,747 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <function add_expect_header at 0x7fd7bd7c0398>\n2014-12-06 19:27:27,747 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x7fd7bcdbe290> (verify_ssl=True) with params: {'query_string': {u'marker': u'non-ascii-key-\\xe4\\xf6\\xfc-00.txt', u'delimiter': '/', u'max-keys': 1, u'prefix': ''}, 'headers': {}, 'url_path': u'/tgal-test-eu-central', 'body': '', 'method': u'GET'}\n2014-12-06 19:27:27,748 - MainThread - botocore.hooks - DEBUG - Event before-auth.s3: calling handler <function fix_s3_host at 0x7fd7bd7c0050>\n/usr/lib/python2.7/urllib.py:1288: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal\n  return ''.join(map(quoter, s))\n2014-12-06 19:27:27,750 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/home/aws/lib/lib/python2.7/site-packages/awscli/clidriver.py\", line 197, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/home/aws/lib/lib/python2.7/site-packages/awscli/customizations/commands.py\", line 184, in __call__\n    parsed_globals)\n  File \"/home/aws/lib/lib/python2.7/site-packages/awscli/customizations/commands.py\", line 181, in __call__\n    return self._run_main(parsed_args, parsed_globals)\n  File \"/home/aws/lib/lib/python2.7/site-packages/awscli/customizations/s3/subcommands.py\", line 260, in _run_main\n    self._list_all_objects(bucket, key, parsed_args.page_size)\n  File \"/home/aws/lib/lib/python2.7/site-packages/awscli/customizations/s3/subcommands.py\", line 281, in _list_all_objects\n    for _, response_data in iterator:\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/paginate.py\", line 69, in __iter__\n    response = self._make_request(current_kwargs)\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/paginate.py\", line 386, in _make_request\n    return self._operation.call(self._endpoint, **current_kwargs)\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/operation.py\", line 90, in call\n    response = endpoint.make_request(self.model, request_dict)\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/endpoint.py\", line 108, in make_request\n    prepared_request = self.create_request(request_dict)\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/endpoint.py\", line 134, in create_request\n    prepared_request = self.prepare_request(request, signer)\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/endpoint.py\", line 163, in prepare_request\n    signer.add_auth(request=request)\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/auth.py\", line 313, in add_auth\n    canonical_request = self.canonical_request(request)\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/auth.py\", line 252, in canonical_request\n    cr.append(self.canonical_query_string(request))\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/auth.py\", line 181, in canonical_query_string\n    return self._canonical_query_string_url(urlsplit(request.url))\n  File \"/home/aws/lib/lib/python2.7/site-packages/botocore/auth.py\", line 204, in _canonical_query_string_url\n    quote(unquote(q[1]), safe='-_.~')))\n  File \"/usr/lib/python2.7/urllib.py\", line 1288, in quote\n    return ''.join(map(quoter, s))\nKeyError: u'\\xc3'\n2014-12-06 19:27:27,752 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\nu'\\xc3'\n```\n\nIs this possible to fix or work around? I specifically need the sync functionality which has the same problem. With region eu-west-1 it works okay, that's why I suppose it might have something to do with v4 signature?\n\nThanks,\nTobias\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1044", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1044/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1044/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1044/events", "html_url": "https://github.com/aws/aws-cli/issues/1044", "id": 51074002, "node_id": "MDU6SXNzdWU1MTA3NDAwMg==", "number": 1044, "title": "aws cloudformation get-template not reporting cause", "user": {"login": "bestscarper", "id": 1479822, "node_id": "MDQ6VXNlcjE0Nzk4MjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1479822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bestscarper", "html_url": "https://github.com/bestscarper", "followers_url": "https://api.github.com/users/bestscarper/followers", "following_url": "https://api.github.com/users/bestscarper/following{/other_user}", "gists_url": "https://api.github.com/users/bestscarper/gists{/gist_id}", "starred_url": "https://api.github.com/users/bestscarper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bestscarper/subscriptions", "organizations_url": "https://api.github.com/users/bestscarper/orgs", "repos_url": "https://api.github.com/users/bestscarper/repos", "events_url": "https://api.github.com/users/bestscarper/events{/privacy}", "received_events_url": "https://api.github.com/users/bestscarper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-05T08:23:59Z", "updated_at": "2014-12-08T19:24:25Z", "closed_at": "2014-12-08T19:24:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ aws cloudformation get-template --stack-name \"FooBarWotsit\"\n\n'TemplateBody'\n```\n\nThe output is all on the error stream. Previously it read '<stackname> does not exist'.\n\nThe command still has a failed exit status.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1044/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1036", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1036/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1036/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1036/events", "html_url": "https://github.com/aws/aws-cli/issues/1036", "id": 50543384, "node_id": "MDU6SXNzdWU1MDU0MzM4NA==", "number": 1036, "title": "aws cloudwatch put-metric-data no longer working with statistic sets", "user": {"login": "ajkerr", "id": 684669, "node_id": "MDQ6VXNlcjY4NDY2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/684669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajkerr", "html_url": "https://github.com/ajkerr", "followers_url": "https://api.github.com/users/ajkerr/followers", "following_url": "https://api.github.com/users/ajkerr/following{/other_user}", "gists_url": "https://api.github.com/users/ajkerr/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajkerr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajkerr/subscriptions", "organizations_url": "https://api.github.com/users/ajkerr/orgs", "repos_url": "https://api.github.com/users/ajkerr/repos", "events_url": "https://api.github.com/users/ajkerr/events{/privacy}", "received_events_url": "https://api.github.com/users/ajkerr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-12-01T16:28:34Z", "updated_at": "2014-12-02T02:01:07Z", "closed_at": "2014-12-02T02:01:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "One of our automated scripts stopped reporting data a few weeks ago - we've traced this to a newer version of the AWS CLI.\n\nIn fact, the documented example for how to publish statistic sets (http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/publishingMetrics.html#publishingDataPoints1) fails with the same error that we are getting.\n\n```\n$ aws cloudwatch put-metric-data --metric-name PageViewCount --namespace \"MyService\" --statistic-value Sum=11,Minimum=2,Maximum=5,SampleCount=3 --timestamp 2014-02-14T12:00:00.000Z\n\nParameter validation failed:\nInvalid type for parameter MetricData[0].StatisticValues.SampleCount, value: 3, type: <type 'unicode'>, valid types: <type 'float'>, <class 'decimal.Decimal'>, <type 'int'>, <type 'long'>\nInvalid type for parameter MetricData[0].StatisticValues.Sum, value: 11, type: <type 'unicode'>, valid types: <type 'float'>, <class 'decimal.Decimal'>, <type 'int'>, <type 'long'>\nInvalid type for parameter MetricData[0].StatisticValues.Minimum, value: 2, type: <type 'unicode'>, valid types: <type 'float'>, <class 'decimal.Decimal'>, <type 'int'>, <type 'long'>\nInvalid type for parameter MetricData[0].StatisticValues.Maximum, value: 5, type: <type 'unicode'>, valid types: <type 'float'>, <class 'decimal.Decimal'>, <type 'int'>, <type 'long'>\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1036/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1036/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1033", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1033/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1033/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1033/events", "html_url": "https://github.com/aws/aws-cli/issues/1033", "id": 50414044, "node_id": "MDU6SXNzdWU1MDQxNDA0NA==", "number": 1033, "title": "aws kinesis put-record no longer encodes --data parameter", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2014-11-29T03:41:37Z", "updated_at": "2014-12-02T01:41:33Z", "closed_at": "2014-12-02T01:41:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In previous versions you could pass a string as the `--data` parameter of the put-record command and the data would be automatically encoded as base64 prior to uploading it to Kinesis.\n\nThis no longer happens and forcing the user to do the encoding themselves seems like a real nuisance.  I think this happened when botocore was switched over to the new models.\n\nSee also https://github.com/boto/botocore/issues/385\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1025", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1025/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1025/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1025/events", "html_url": "https://github.com/aws/aws-cli/issues/1025", "id": 49825896, "node_id": "MDU6SXNzdWU0OTgyNTg5Ng==", "number": 1025, "title": "aws s3 sync failes: A client error (SignatureDoesNotMatch) occurred when calling the UploadPart operation:", "user": {"login": "BooZaToX", "id": 6513304, "node_id": "MDQ6VXNlcjY1MTMzMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6513304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BooZaToX", "html_url": "https://github.com/BooZaToX", "followers_url": "https://api.github.com/users/BooZaToX/followers", "following_url": "https://api.github.com/users/BooZaToX/following{/other_user}", "gists_url": "https://api.github.com/users/BooZaToX/gists{/gist_id}", "starred_url": "https://api.github.com/users/BooZaToX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BooZaToX/subscriptions", "organizations_url": "https://api.github.com/users/BooZaToX/orgs", "repos_url": "https://api.github.com/users/BooZaToX/repos", "events_url": "https://api.github.com/users/BooZaToX/events{/privacy}", "received_events_url": "https://api.github.com/users/BooZaToX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-23T13:42:43Z", "updated_at": "2014-11-25T00:46:45Z", "closed_at": "2014-11-25T00:46:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am syncing between my local debian server and aws s3 bucket as follows:\n\naws-cli/1.6.4 Python/2.7.8 Linux/3.16.0-4-amd64:\n# sudo aws s3 sync /home/thomas s3://eusmsbackup/Computer/hybrid/home/thomas  --recursive --include \"\" --exclude \"/home/thomas/._\" --exclude \"/home/thomas/Downloads/_\" --exclude \"/home/thomas/tmp/_\" --exclude \"/home/thomas/workspace/_\"\n\nthroughs this error with larger files(?):\n\nthomas@hybrid:~$ aws s3 sync /home/thomas s3://eusmsbackup/Computer/hybrid/home/thomas  --recursive --include \"\" --exclude \"/home/thomas/._\" --exclude \"/home/thomas/Downloads/_\" --exclude \"/home/thomas/tmp/_\" --exclude \"/home/thomas/workspace/_\"\nwarning: Skipping file /home/thomas/.config/google-chrome-beta/SingletonCookie. File does not exist.\nwarning: Skipping file /home/thomas/.config/google-chrome-beta/SingletonLock. File does not exist.\nwarning: Skipping file /home/thomas/.config/google-chrome-beta/SingletonSocket. File is character special device, block special device, FIFO, or socket.\nwarning: Skipping file /home/thomas/.config/google-chrome-unstable/SingletonCookie. File does not exist.\nwarning: Skipping file /home/thomas/.config/google-chrome-unstable/SingletonLock. File does not exist.\nwarning: Skipping file /home/thomas/.config/google-chrome-unstable/SingletonSocket. File is character special device, block special device, FIFO, or socket.\nwarning: Skipping file /home/thomas/.icedove/mqap1t7w.default/lock. File does not exist.\nwarning: Skipping file /home/thomas/.kde/socket-hybrid/kdeinit4__0. File is character special device, block special device, FIFO, or socket.\nwarning: Skipping file /home/thomas/.kde/socket-hybrid/klauncherM11546.slave-socket. File is character special device, block special device, FIFO, or socket.\nwarning: Skipping file /home/thomas/.kde/socket-hybrid/klauncherhX4976.slave-socket. File is character special device, block special device, FIFO, or socket.\nwarning: Skipping file /home/thomas/.local/share/Trash/expunged/2961094095/src/.libs/libprotobuf-lite.la. File does not exist.\nwarning: Skipping file /home/thomas/.local/share/Trash/expunged/2961094095/src/.libs/libprotobuf.la. File does not exist.\nwarning: Skipping file /home/thomas/.local/share/Trash/expunged/2961094095/src/.libs/libprotoc.la. File does not exist.\nupload failed: Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3\nA client error (SignatureDoesNotMatch) occurred when calling the UploadPart operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\nupload failed: Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3\nA client error (SignatureDoesNotMatch) occurred when calling the UploadPart operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\nupload failed: Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3\nA client error (SignatureDoesNotMatch) occurred when calling the UploadPart operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\nupload failed: Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-05-18-12h06m32s-Jazz FM-Listen in colour - jazzfm.com.mp3\nA client error (SignatureDoesNotMatch) occurred when calling the UploadPart operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\nupload failed: Musik/vlc-record-2014-05-18-14h58m53s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-05-18-14h58m53s-Jazz FM-Listen in colour - jazzfm.com.mp3\nsyntax error: line 1, column 0\nupload failed: Musik/vlc-record-2014-06-19-15h00m30s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-06-19-15h00m30s-Jazz FM-Listen in colour - jazzfm.com.mp3 syntax error: line 1, column 0\nupload failed: Musik/vlc-record-2014-05-18-14h58m53s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-05-18-14h58m53s-Jazz FM-Listen in colour - jazzfm.com.mp3\nsyntax error: line 1, column 0\nupload failed: Musik/vlc-record-2014-05-18-14h58m53s-Jazz FM-Listen in colour - jazzfm.com.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-05-18-14h58m53s-Jazz FM-Listen in colour - jazzfm.com.mp3\nsyntax error: line 1, column 0\nupload failed: Musik/vlc-record-2014-06-19-15h22m40s-Jazz FM-Michael Buble - Fever.mp3 to s3://eusmsbackup/Computer/hybrid/home/thomas/Musik/vlc-record-2014-06-19-15h22m40s-Jazz FM-Michael Buble - Fever.mp3\nA client error (SignatureDoesNotMatch) occurred when calling the UploadPart operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1025/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1020", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1020/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1020/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1020/events", "html_url": "https://github.com/aws/aws-cli/issues/1020", "id": 49745542, "node_id": "MDU6SXNzdWU0OTc0NTU0Mg==", "number": 1020, "title": "aws 1.6.3", "user": {"login": "danoyoung", "id": 47937, "node_id": "MDQ6VXNlcjQ3OTM3", "avatar_url": "https://avatars.githubusercontent.com/u/47937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danoyoung", "html_url": "https://github.com/danoyoung", "followers_url": "https://api.github.com/users/danoyoung/followers", "following_url": "https://api.github.com/users/danoyoung/following{/other_user}", "gists_url": "https://api.github.com/users/danoyoung/gists{/gist_id}", "starred_url": "https://api.github.com/users/danoyoung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danoyoung/subscriptions", "organizations_url": "https://api.github.com/users/danoyoung/orgs", "repos_url": "https://api.github.com/users/danoyoung/repos", "events_url": "https://api.github.com/users/danoyoung/events{/privacy}", "received_events_url": "https://api.github.com/users/danoyoung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-11-21T20:38:22Z", "updated_at": "2014-11-21T22:23:40Z", "closed_at": "2014-11-21T22:23:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "We upgraded our awscli and are now seeing the following error:\n\n'datetime.datetime' object has no attribute 'read'\n\naws --profile <my-profile> s3 ls s3://<my-bucket>/\n\naws --version\naws-cli/1.6.3 Python/2.7.3 Linux/3.2.0-64-virtual\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1020/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1014", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1014/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1014/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1014/events", "html_url": "https://github.com/aws/aws-cli/issues/1014", "id": 49584359, "node_id": "MDU6SXNzdWU0OTU4NDM1OQ==", "number": 1014, "title": "s3 cp cannot download kms-encrypted object", "user": {"login": "quiver", "id": 266641, "node_id": "MDQ6VXNlcjI2NjY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/266641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quiver", "html_url": "https://github.com/quiver", "followers_url": "https://api.github.com/users/quiver/followers", "following_url": "https://api.github.com/users/quiver/following{/other_user}", "gists_url": "https://api.github.com/users/quiver/gists{/gist_id}", "starred_url": "https://api.github.com/users/quiver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quiver/subscriptions", "organizations_url": "https://api.github.com/users/quiver/orgs", "repos_url": "https://api.github.com/users/quiver/repos", "events_url": "https://api.github.com/users/quiver/events{/privacy}", "received_events_url": "https://api.github.com/users/quiver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-11-20T16:59:50Z", "updated_at": "2014-11-24T23:33:39Z", "closed_at": "2014-11-24T23:33:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When you try to download kms-encrypted object, `aws-cli` fails 3 times in a row and gives up.\nResponse body has a valid(decrypted) object data, but `HEAD` etag and object data's md5 doesn't meet and `aws-cli` thinks downloaded data is corrupted.\n\n```\n$ aws s3 cp s3://bucket/b.png . --debug\n...\nHEAD\n/bucket/b.png\n...\nGET\n/bucket/b.png\n...\n2014-11-21 01:09:08,868 - Thread-5 - awscli.customizations.s3.tasks - DEBUG - bucket/b.png download failure: Data was corrupted: /home/george/kms/b.png\n...\nGET\n/bucket/b.png\n...\n2014-11-21 01:09:09,385 - Thread-5 - awscli.customizations.s3.tasks - DEBUG - bucket/b.png download failure: Data was corrupted: /home/george/kms/b.png\n...\nGET\n/bucket/b.png\n...\n2014-11-21 01:09:09,723 - Thread-5 - awscli.customizations.s3.tasks - DEBUG - bucket/b.png download failure: Data was corrupted: /home/george/kms/b.png\n...\ndownload failed: s3://bucket/b.png to ./b.png /home/george/kms/b.png\n```\n\n`aws-cli` and `botocore` is latest as of writing this.\nS3 v4 signature is enabled.\n\n```\n$ cat ~/.aws/config\n[default]\naws_access_key_id = XXX\naws_secret_access_key = XXX\nregion = ap-northeast-1\ns3 =\n    signature_version = s3v4\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1014/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1007", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1007/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1007/events", "html_url": "https://github.com/aws/aws-cli/issues/1007", "id": 49136178, "node_id": "MDU6SXNzdWU0OTEzNjE3OA==", "number": 1007, "title": "aws emr --ssh / --get / --put commands do not work for EMR Cluster in a Waiting state", "user": {"login": "someboredkiddo", "id": 1919925, "node_id": "MDQ6VXNlcjE5MTk5MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1919925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/someboredkiddo", "html_url": "https://github.com/someboredkiddo", "followers_url": "https://api.github.com/users/someboredkiddo/followers", "following_url": "https://api.github.com/users/someboredkiddo/following{/other_user}", "gists_url": "https://api.github.com/users/someboredkiddo/gists{/gist_id}", "starred_url": "https://api.github.com/users/someboredkiddo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/someboredkiddo/subscriptions", "organizations_url": "https://api.github.com/users/someboredkiddo/orgs", "repos_url": "https://api.github.com/users/someboredkiddo/repos", "events_url": "https://api.github.com/users/someboredkiddo/events{/privacy}", "received_events_url": "https://api.github.com/users/someboredkiddo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2014-11-17T19:42:46Z", "updated_at": "2014-11-21T22:51:29Z", "closed_at": "2014-11-20T01:09:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to run aws emr commands do not seem to work if the Cluster is in a WAITING state.  This is an issue for long running clusters that reach the WAIT state after all steps have been completed.\n\nEx. `aws emr ssh --cluster-id j-XXXX --key-pair-file ~/XYZ.pem --debug`\n\nThe above command hangs while waiting for a ClusterRunning Waiter object on the following line:\nFile \"/usr/local/aws/lib/python2.7/site-packages/awscli/customizations/emr/sshutils.py\", line 48, in validate_and_find_master_dns\n\nIt appears this is related to a recent change made to botocore to update its waiters to conform to a new v2 spec, during which the valid Cluster State for a 'ClusterRunning' waiter was changed from both the RUNNING & WAITING states to only the RUNNING state.  See commit: https://github.com/boto/botocore/commit/23e042ff8716003ee53d62698668a95fe318c4b8#diff-561cbc8ca2199768839320b0a5e2f0f0L14\n\nAdding another success acceptor for the WAITING state to the emr/2009-03-31.waiters.json fixes this, but I am not sure if this was an intentional change to botocore.  I will open up an issue on that project's github project as well.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1006", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1006/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1006/events", "html_url": "https://github.com/aws/aws-cli/issues/1006", "id": 49000779, "node_id": "MDU6SXNzdWU0OTAwMDc3OQ==", "number": 1006, "title": "Downloading S3 object encrypted using KMS keys fails with error: \"Requests specifying Server Side Encryption with AWS KMS managed keys require AWS Signature Version 4\"", "user": {"login": "maitreya1975", "id": 2087564, "node_id": "MDQ6VXNlcjIwODc1NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2087564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maitreya1975", "html_url": "https://github.com/maitreya1975", "followers_url": "https://api.github.com/users/maitreya1975/followers", "following_url": "https://api.github.com/users/maitreya1975/following{/other_user}", "gists_url": "https://api.github.com/users/maitreya1975/gists{/gist_id}", "starred_url": "https://api.github.com/users/maitreya1975/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maitreya1975/subscriptions", "organizations_url": "https://api.github.com/users/maitreya1975/orgs", "repos_url": "https://api.github.com/users/maitreya1975/repos", "events_url": "https://api.github.com/users/maitreya1975/events{/privacy}", "received_events_url": "https://api.github.com/users/maitreya1975/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-16T17:00:56Z", "updated_at": "2014-11-20T02:05:13Z", "closed_at": "2014-11-20T02:05:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I uploaded an object to S3 encrypted with a KMS managed key using the S3 Console. \nI am using:\n\n```\n$ aws --version\naws-cli/1.6.2 Python/2.7.6 Darwin/13.4.0\n```\n\nWhen I tried to download the object using aws-cli, I got the following error:\n\n```\naws s3 cp s3://xxxx/yyyy.jpg ./\ndownload failed: s3://xxxx/yyyy..jpg to ./ngc6960_FinalPugh900.jpg A client error (InvalidArgument) occurred when calling the GetObject operation: Requests specifying Server Side Encryption with AWS KMS managed keys require AWS Signature Version 4.\n```\n\nI get the same error when using the low level s3api:\n\n```\n685b3588202f:lego_iam maitreyr$ aws s3api get-object --bucket maitreyr-kms-test --key ngc6960_FinalPugh900.jpg ./ngc.jpg --debug\n2014-11-16 10:58:31,128 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.6.2 Python/2.7.6 Darwin/13.4.0, botocore version: 0.73.0\n2014-11-16 10:58:31,128 - MainThread - botocore.service - DEBUG - Creating service object for: s3\n2014-11-16 10:58:31,156 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x108628398>\n2014-11-16 10:58:31,156 - MainThread - botocore.hooks - DEBUG - Event service-created: calling handler <function register_retries_for_service at 0x108628230>\n2014-11-16 10:58:31,159 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: Service(s3)\n2014-11-16 10:58:31,160 - MainThread - botocore.service - DEBUG - Creating operation objects for: Service(s3)\n2014-11-16 10:58:31,168 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3api: calling handler <function inject_assume_role_provider at 0x1089759b0>\n2014-11-16 10:58:31,168 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3api: calling handler <function add_waiters at 0x108980758>\n2014-11-16 10:58:31,173 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'bucket', <awscli.arguments.CLIArgument object at 0x108ab3550>), (u'if-match', <awscli.arguments.CLIArgument object at 0x108ab3590>), (u'if-modified-since', <awscli.arguments.CLIArgument object at 0x108ab35d0>), (u'if-none-match', <awscli.arguments.CLIArgument object at 0x108ab3610>), (u'if-unmodified-since', <awscli.arguments.CLIArgument object at 0x108ab3650>), (u'key', <awscli.arguments.CLIArgument object at 0x108ab3690>), (u'range', <awscli.arguments.CLIArgument object at 0x108ab36d0>), (u'response-cache-control', <awscli.arguments.CLIArgument object at 0x108ab3710>), (u'response-content-disposition', <awscli.arguments.CLIArgument object at 0x108ab3750>), (u'response-content-encoding', <awscli.arguments.CLIArgument object at 0x108ab37d0>), (u'response-content-language', <awscli.arguments.CLIArgument object at 0x108ab3810>), (u'response-content-type', <awscli.arguments.CLIArgument object at 0x108ab3850>), (u'response-expires', <awscli.arguments.CLIArgument object at 0x108ab3890>), (u'version-id', <awscli.arguments.CLIArgument object at 0x108ab38d0>), (u'sse-customer-algorithm', <awscli.arguments.CLIArgument object at 0x108ab3910>), (u'sse-customer-key', <awscli.arguments.CLIArgument object at 0x108ab3950>), (u'sse-customer-key-md5', <awscli.arguments.CLIArgument object at 0x108ab3990>), (u'ssekms-key-id', <awscli.arguments.CLIArgument object at 0x108ab39d0>)])\n2014-11-16 10:58:31,173 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.get-object: calling handler <function add_streaming_output_arg at 0x108894320>\n2014-11-16 10:58:31,175 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.get-object: calling handler <function add_cli_input_json at 0x10896db90>\n2014-11-16 10:58:31,175 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.get-object: calling handler <function unify_paging_params at 0x1088971b8>\n2014-11-16 10:58:31,175 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.get-object: calling handler <function add_generate_skeleton at 0x108975140>\n2014-11-16 10:58:31,177 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.bucket: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,177 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.get-object: calling handler <awscli.argprocess.ParamShorthand object at 0x1089b1450>\n2014-11-16 10:58:31,177 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2014-11-16 10:58:31,178 - MainThread - awscli.arguments - DEBUG - Unpacked value of \"maitreyr-kms-test\" for parameter \"bucket\": maitreyr-kms-test\n2014-11-16 10:58:31,178 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.if-match: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,178 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.if-modified-since: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,178 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.if-none-match: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,178 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.if-unmodified-since: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,178 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.key: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,178 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.get-object: calling handler <awscli.argprocess.ParamShorthand object at 0x1089b1450>\n2014-11-16 10:58:31,178 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2014-11-16 10:58:31,178 - MainThread - awscli.arguments - DEBUG - Unpacked value of \"ngc6960_FinalPugh900.jpg\" for parameter \"key\": ngc6960_FinalPugh900.jpg\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.range: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.response-cache-control: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.response-content-disposition: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.response-content-encoding: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.response-content-language: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.response-content-type: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.response-expires: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.version-id: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.sse-customer-algorithm: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,179 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.sse-customer-key: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,180 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.sse-customer-key-md5: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,180 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.ssekms-key-id: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,180 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.get-object.outfile: calling handler <function uri_param at 0x108868f50>\n2014-11-16 10:58:31,180 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2014-11-16 10:58:31,180 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\n2014-11-16 10:58:31,180 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2014-11-16 10:58:31,181 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\n2014-11-16 10:58:31,219 - MainThread - botocore.operation - DEBUG - Operation:GetObject called with kwargs: {u'Bucket': u'maitreyr-kms-test', u'Key': u'ngc6960_FinalPugh900.jpg'}\n2014-11-16 10:58:31,221 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.GetObject: calling handler <function sse_md5 at 0x108628050>\n2014-11-16 10:58:31,222 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.GetObject: calling handler <function add_expect_header at 0x108628410>\n2014-11-16 10:58:31,222 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x108aac490> (verify_ssl=True) with params: {'query_string': {}, 'headers': {}, 'url_path': u'/maitreyr-kms-test/ngc6960_FinalPugh900.jpg', 'body': '', 'method': u'GET'}\n2014-11-16 10:58:31,222 - MainThread - botocore.hooks - DEBUG - Event before-auth.s3: calling handler <function fix_s3_host at 0x108628140>\n2014-11-16 10:58:31,222 - MainThread - botocore.handlers - DEBUG - Checking for DNS compatible bucket for: https://s3-us-west-2.amazonaws.com/maitreyr-kms-test/ngc6960_FinalPugh900.jpg\n2014-11-16 10:58:31,222 - MainThread - botocore.handlers - DEBUG - URI updated to: https://maitreyr-kms-test.s3.amazonaws.com/ngc6960_FinalPugh900.jpg\n2014-11-16 10:58:31,222 - MainThread - botocore.auth - DEBUG - Calculating signature using hmacv1 auth.\n2014-11-16 10:58:31,223 - MainThread - botocore.auth - DEBUG - HTTP request method: GET\n2014-11-16 10:58:31,223 - MainThread - botocore.auth - DEBUG - StringToSign:\nGET\n\n\nSun, 16 Nov 2014 16:58:31 GMT\n/maitreyr-kms-test/ngc6960_FinalPugh900.jpg\n2014-11-16 10:58:31,230 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [GET]>\n2014-11-16 10:58:31,231 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): maitreyr-kms-test.s3.amazonaws.com\n2014-11-16 10:58:31,481 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"GET /ngc6960_FinalPugh900.jpg HTTP/1.1\" 307 None\n2014-11-16 10:58:31,483 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): maitreyr-kms-test.s3-us-west-2.amazonaws.com\n2014-11-16 10:58:32,419 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"GET /ngc6960_FinalPugh900.jpg HTTP/1.1\" 400 None\n2014-11-16 10:58:32,423 - MainThread - botocore.parsers - DEBUG - Response headers:\n{'connection': 'close',\n 'content-type': 'application/xml',\n 'date': 'Sun, 16 Nov 2014 16:58:17 GMT',\n 'server': 'AmazonS3',\n 'transfer-encoding': 'chunked',\n 'x-amz-id-2': 'VCLi4Tph0mzbatYuzb3vNY16/eY0hJn9KcN/oMlMbLYS/gMBQI1+YxvpeatReZ1PLzp8ahhN1HQ=',\n 'x-amz-request-id': 'AD42152AA3A28C6A'}\n2014-11-16 10:58:32,423 - MainThread - botocore.parsers - DEBUG - Response body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Error><Code>InvalidArgument</Code><Message>Requests specifying Server Side Encryption with AWS KMS managed keys require AWS Signature Version 4.</Message><ArgumentName>Authorization</ArgumentName><ArgumentValue>null</ArgumentValue><RequestId>AD42152AA3A28C6A</RequestId><HostId>VCLi4Tph0mzbatYuzb3vNY16/eY0hJn9KcN/oMlMbLYS/gMBQI1+YxvpeatReZ1PLzp8ahhN1HQ=</HostId></Error>\n2014-11-16 10:58:32,424 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.GetObject: calling handler <botocore.retryhandler.RetryHandler object at 0x108a1f850>\n2014-11-16 10:58:32,424 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2014-11-16 10:58:32,424 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.GetObject: calling handler <bound method StreamingOutputArgument.save_file of <awscli.customizations.streamingoutputarg.StreamingOutputArgument object at 0x108ab3a10>>\n2014-11-16 10:58:32,424 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 207, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 359, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 494, in __call__\n    self._operation_object, call_parameters, parsed_globals)\n  File \"/usr/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 599, in invoke\n    **parameters)\n  File \"/usr/local/lib/python2.7/site-packages/botocore/operation.py\", line 98, in call\n    parsed=response[1])\n  File \"/usr/local/lib/python2.7/site-packages/botocore/session.py\", line 729, in emit\n    return self._events.emit(event_name, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/botocore/hooks.py\", line 185, in emit\n    response = handler(**kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/awscli/customizations/streamingoutputarg.py\", line 92, in save_file\n    body = parsed[self._response_key]\nKeyError: u'Body'\n2014-11-16 10:58:32,425 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\nu'Body'\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/1001", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/1001/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/1001/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/1001/events", "html_url": "https://github.com/aws/aws-cli/issues/1001", "id": 48580890, "node_id": "MDU6SXNzdWU0ODU4MDg5MA==", "number": 1001, "title": "aws kms has 'utf8' codec can't decode byte error", "user": {"login": "mtougeron", "id": 37266, "node_id": "MDQ6VXNlcjM3MjY2", "avatar_url": "https://avatars.githubusercontent.com/u/37266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtougeron", "html_url": "https://github.com/mtougeron", "followers_url": "https://api.github.com/users/mtougeron/followers", "following_url": "https://api.github.com/users/mtougeron/following{/other_user}", "gists_url": "https://api.github.com/users/mtougeron/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtougeron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtougeron/subscriptions", "organizations_url": "https://api.github.com/users/mtougeron/orgs", "repos_url": "https://api.github.com/users/mtougeron/repos", "events_url": "https://api.github.com/users/mtougeron/events{/privacy}", "received_events_url": "https://api.github.com/users/mtougeron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-11-13T00:07:23Z", "updated_at": "2016-03-16T19:39:09Z", "closed_at": "2014-11-20T23:52:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I upgraded the awscli this afternoon to try and take advantage of the new kms system. I'm getting the following error when I try to use the cli.\n\n``` shell\n$> python -V\nPython 2.7.6\n$> aws kms generate-random --number-of-bytes 128                                \n{\n    \"Plaintext\": \n'utf8' codec can't decode byte 0xee in position 0: invalid continuation byte\n```\n\n``` shell\n$> python -V\nPython 2.7.6\n$> aws kms encrypt --key-id REDACTED --plaintext foo\n{\n    \"KeyId\": \"arn:aws:kms:us-west-1:REDACTED:key/REDACTED\", \n    \"CiphertextBlob\": \n'utf8' codec can't decode byte 0xf4 in position 3: invalid continuation byte\n```\n\npip modules installed:\n\n```\nBabel==1.3\nFabric==1.10.0\nJinja2==2.7.3\nMarkupSafe==0.23\nPillow==2.6.1\nPyChef==0.2.3\nPyYAML==3.11\nPygments==2.0.1\nSphinx==1.2.3\nargparse==1.2.1\nastroid==1.2.1\nawscli==1.6.1\nbcdoc==0.12.2\nbinaryornot==0.3.0\nboto==2.34.0\nbotocore==0.72.0\nbox.py==1.2.8\ncffi==0.8.6\ncliff==1.8.0\ncmd2==0.6.7\ncolorama==0.3.2\ncookiecutter==0.8.0\ncoverage==3.7.1\ncryptography==0.6.1\ndecorator==3.4.0\ndocutils==0.12\ndogapi==1.8.5\necdsa==0.11\nfutures==2.2.0\nhttplib2==0.9\nhttpretty==0.8.3\niso8601==0.1.10\njmespath==0.5.0\njsonpatch==1.9\njsonpointer==1.5\njsonschema==2.4.0\nkazoo==2.0\nkeyring==4.0\nlogilab-common==0.63.0\nlxml==3.4.0\nmock==1.0.1\nmockito==0.5.2\nnetaddr==0.7.12\nnose==1.3.4\nnumpy==1.9.1\noath==1.2\noslo.config==1.4.0\noslo.i18n==1.0.0\noslo.serialization==1.0.0\noslo.utils==1.0.0\nparamiko==1.15.1\npbr==0.10.0\nprettytable==0.7.2\npyOpenSSL==0.14\npyasn1==0.1.7\npycparser==2.10\npycrypto==2.6.1\npylint==1.3.1\npyparsing==2.0.3\npython-ceilometerclient==1.0.12\npython-cinderclient==1.1.1\npython-dateutil==2.2\npython-glanceclient==0.14.2\npython-heatclient==0.2.12\npython-keystoneclient==0.11.2\npython-neutronclient==2.3.9\npython-novaclient==2.20.0\npython-openstackclient==0.4.1\npython-swiftclient==2.3.1\npython-troveclient==1.0.7\npytz==2014.9\nqrcode==5.1\nrequests==2.4.3\nrsa==3.1.4\nscipy==0.14.0\nsimplejson==3.6.5\nsix==1.8.0\nstevedore==1.1.0\nurllib3==1.9.1\nvirtualenv==1.11.6\nwarlock==1.1.0\nwsgiref==0.1.2\n```\n\nI'm on OS X 10.9.5\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/1001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/1001/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/996", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/996/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/996/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/996/events", "html_url": "https://github.com/aws/aws-cli/issues/996", "id": 48514267, "node_id": "MDU6SXNzdWU0ODUxNDI2Nw==", "number": 996, "title": "rds download-db-log-file-portion output one character by line", "user": {"login": "mtparet", "id": 754770, "node_id": "MDQ6VXNlcjc1NDc3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/754770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtparet", "html_url": "https://github.com/mtparet", "followers_url": "https://api.github.com/users/mtparet/followers", "following_url": "https://api.github.com/users/mtparet/following{/other_user}", "gists_url": "https://api.github.com/users/mtparet/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtparet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtparet/subscriptions", "organizations_url": "https://api.github.com/users/mtparet/orgs", "repos_url": "https://api.github.com/users/mtparet/repos", "events_url": "https://api.github.com/users/mtparet/events{/privacy}", "received_events_url": "https://api.github.com/users/mtparet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2014-11-12T14:15:28Z", "updated_at": "2015-11-04T18:38:08Z", "closed_at": "2015-11-04T18:38:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "`aws rds download-db-log-file-portion --db-instance-identifier XXX --log-file-name XXX` output one character by line instead of line by line output:\n\n``` ruby\n        \"`\", \n        \"k\", \n        \"e\", \n        \"y\", \n        \"`\", \n        \" \", \n        \"=\", \n        \" \", \n        \"'\", \n        \"l\", \n        \"o\", \n        \"g\", \n        \"o\", \n        \"'\", \n        \"\\n\", \n        \"\\t\", \n        \"\\t\", \n        \" \", \n        \"6\", \n        \"6\", \n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/996/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/995", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/995/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/995/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/995/events", "html_url": "https://github.com/aws/aws-cli/issues/995", "id": 48323747, "node_id": "MDU6SXNzdWU0ODMyMzc0Nw==", "number": 995, "title": "Recurring SignatureDoesNotMatch client error", "user": {"login": "DrStrangepork", "id": 7307373, "node_id": "MDQ6VXNlcjczMDczNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/7307373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrStrangepork", "html_url": "https://github.com/DrStrangepork", "followers_url": "https://api.github.com/users/DrStrangepork/followers", "following_url": "https://api.github.com/users/DrStrangepork/following{/other_user}", "gists_url": "https://api.github.com/users/DrStrangepork/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrStrangepork/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrStrangepork/subscriptions", "organizations_url": "https://api.github.com/users/DrStrangepork/orgs", "repos_url": "https://api.github.com/users/DrStrangepork/repos", "events_url": "https://api.github.com/users/DrStrangepork/events{/privacy}", "received_events_url": "https://api.github.com/users/DrStrangepork/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2014-11-10T22:38:20Z", "updated_at": "2017-09-29T13:05:48Z", "closed_at": "2014-11-18T18:42:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running into this error consistently (roughly 40% of the time) whenever I run any aws command:\n\n```\nA client error (SignatureDoesNotMatch) occurred when calling the UpdateStack operation: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\n\nThe Canonical String for this request should have been\n'POST\n/\n\nhost:cloudformation.us-west-2.amazonaws.com\nuser-agent:aws-cli/1.5.4 Python/2.7.5 Linux/3.10.0-123.9.3.el7.x86_64\nx-amz-date:20141110T221804Z\n\nhost;user-agent;x-amz-date\n9702b61843b3b8ec870e23798ad8dbf07724933d525b65e56f4d37aeb87be274'\n\nThe String-to-Sign should have been\n'AWS4-HMAC-SHA256\n20141110T221804Z\n20141110/us-west-2/cloudformation/aws4_request\n2a1f3882a9b688b83c95f30981cde22d7f6a66b240537f0f855cfc01071c40e3'\n```\n\nEvery time this happens, I immediately run the command again, and it works every time. I have even reproduced this error by running `<aws command>; <same exact aws command>` with the former failing and latter succeeding with <1s between commands.\n\nHere is the output from `aws configure list`:\n\n```\n      Name                    Value             Type    Location\n      ----                    -----             ----    --------\n  profile                <not set>             None    None\naccess_key     ****************N5OA      config-file\nsecret_key     ****************w7FE      config-file\n    region                us-east-1              env    AWS_DEFAULT_REGION\n```\n\nAnd the time delta between my guest VM and my host is <1s. Any ideas?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/986", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/986/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/986/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/986/events", "html_url": "https://github.com/aws/aws-cli/issues/986", "id": 47928716, "node_id": "MDU6SXNzdWU0NzkyODcxNg==", "number": 986, "title": "Intermittent SignatureDoesNotMatch errors using s3 cp", "user": {"login": "tmont", "id": 188562, "node_id": "MDQ6VXNlcjE4ODU2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/188562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmont", "html_url": "https://github.com/tmont", "followers_url": "https://api.github.com/users/tmont/followers", "following_url": "https://api.github.com/users/tmont/following{/other_user}", "gists_url": "https://api.github.com/users/tmont/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmont/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmont/subscriptions", "organizations_url": "https://api.github.com/users/tmont/orgs", "repos_url": "https://api.github.com/users/tmont/repos", "events_url": "https://api.github.com/users/tmont/events{/privacy}", "received_events_url": "https://api.github.com/users/tmont/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2014-11-06T06:40:09Z", "updated_at": "2014-11-07T23:20:15Z", "closed_at": "2014-11-07T18:28:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I regularly upload a bunch of local static assets (css, js, images, etc.) to S3 as part of a deployment process and occasionally during the course of running the `aws s3 cp --recursive` command I'll get a `SignatureDoesNotMatch` error. \n\nWhen it happens it only happens in the middle of the process, i.e. it already successfully uploaded a dozen or so files. So I know it's not my credentials.\n\nI can't seem to reproduce it reliably, but it's pretty annoying.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/986/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/982", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/982/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/982/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/982/events", "html_url": "https://github.com/aws/aws-cli/issues/982", "id": 47567904, "node_id": "MDU6SXNzdWU0NzU2NzkwNA==", "number": 982, "title": "astimezone() cannot be applied to a naive datetime", "user": {"login": "jumping", "id": 255390, "node_id": "MDQ6VXNlcjI1NTM5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/255390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jumping", "html_url": "https://github.com/jumping", "followers_url": "https://api.github.com/users/jumping/followers", "following_url": "https://api.github.com/users/jumping/following{/other_user}", "gists_url": "https://api.github.com/users/jumping/gists{/gist_id}", "starred_url": "https://api.github.com/users/jumping/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jumping/subscriptions", "organizations_url": "https://api.github.com/users/jumping/orgs", "repos_url": "https://api.github.com/users/jumping/repos", "events_url": "https://api.github.com/users/jumping/events{/privacy}", "received_events_url": "https://api.github.com/users/jumping/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2014-11-03T07:01:34Z", "updated_at": "2014-11-18T18:31:03Z", "closed_at": "2014-11-18T18:29:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run the following command, I got error message: astimezone() cannot be applied to a naive datetime.\n\n```\n$aws cloudwatch get-metric-statistics --metric-name CPUUtilization --start-time 2014-10-28T23:18:00 --end-time 2014-10-31T23:18:00 --period 3600 --namespace AWS/EC2 --statistics Maximum --dimensions Name=InstanceId,Value=i-80efb86d\n```\n\nVersion\n\n```\n$aws --version\naws-cli/1.5.4 Python/2.7.6 Darwin/14.0.0\n```\n\naws-cli Version\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/982/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/982/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/977", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/977/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/977/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/977/events", "html_url": "https://github.com/aws/aws-cli/issues/977", "id": 47094061, "node_id": "MDU6SXNzdWU0NzA5NDA2MQ==", "number": 977, "title": "Bundled installer errors out when the install path has a space", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 175816286, "node_id": "MDU6TGFiZWwxNzU4MTYyODY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/blocked", "name": "blocked", "color": "86499B", "default": false, "description": "Work is blocked on this issue for this codebase. Other labels or comments may indicate why."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-28T23:20:25Z", "updated_at": "2016-06-24T21:13:02Z", "closed_at": "2016-06-24T21:13:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Specifying `-i/ --install-dir` with a path containing a space will error out.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/976", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/976/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/976/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/976/events", "html_url": "https://github.com/aws/aws-cli/issues/976", "id": 47090519, "node_id": "MDU6SXNzdWU0NzA5MDUxOQ==", "number": 976, "title": "\"cloudsearchdomain search\" generates invalid signature, 'upload-documents' works", "user": {"login": "TiVoMaker", "id": 5116271, "node_id": "MDQ6VXNlcjUxMTYyNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/5116271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TiVoMaker", "html_url": "https://github.com/TiVoMaker", "followers_url": "https://api.github.com/users/TiVoMaker/followers", "following_url": "https://api.github.com/users/TiVoMaker/following{/other_user}", "gists_url": "https://api.github.com/users/TiVoMaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/TiVoMaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TiVoMaker/subscriptions", "organizations_url": "https://api.github.com/users/TiVoMaker/orgs", "repos_url": "https://api.github.com/users/TiVoMaker/repos", "events_url": "https://api.github.com/users/TiVoMaker/events{/privacy}", "received_events_url": "https://api.github.com/users/TiVoMaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-10-28T22:36:55Z", "updated_at": "2015-01-14T23:34:33Z", "closed_at": "2015-01-14T23:34:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Latest awscli (1.5.4). I first use \"upload-documents\" to my search domain, and it works:\n\n['aws', '--region', 'us-west-2', 'cloudsearchdomain', '--endpoint-url', u'http://doc-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com', 'upload-documents', '--content-type', 'application/json', '--documents', '/var/folders/r9/78dky0cj71v1dt8g71qft7wm0000gn/T/tmplT0ZDR']\n## (endpoints obscured on purpose)\n\nDebug output:\nlogtime=\"2014-10-28 14:31:16,302\" module=\"boto\" level=\"DEBUG\" Using access key found in environment variable.\nlogtime=\"2014-10-28 14:31:16,302\" module=\"boto\" level=\"DEBUG\" Using secret key found in environment variable.\nlogtime=\"2014-10-28 14:31:16,302\" module=\"boto\" level=\"DEBUG\" Method: POST\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" Path: /\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" Data: \nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" Headers: {}\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" Host: cloudsearch.us-west-2.amazonaws.com\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" Port: 443\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" Params: {'Action': 'DescribeDomains', 'Version': '2013-01-01', 'ContentType': 'JSON', 'DomainNames.member.1': 'context-labs-2'}\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" establishing HTTPS connection: host=cloudsearch.us-west-2.amazonaws.com, kwargs={'port': 443, 'timeout': 70}\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" Token: None\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" CanonicalRequest:\nPOST\n/\n\nhost:cloudsearch.us-west-2.amazonaws.com\nx-amz-date:20141028T213116Z\n\nhost;x-amz-date\nda0c116c28d4e60a54b9796c032e16262242fddf4f846719f84250bf7432222e\nlogtime=\"2014-10-28 14:31:16,303\" module=\"boto\" level=\"DEBUG\" StringToSign:\nAWS4-HMAC-SHA256\n20141028T213116Z\n20141028/us-west-2/cloudsearch/aws4_request\nfe958485e5203e203ab3447cbb47060d57156b4e593e3e0d3382c18698742670\nlogtime=\"2014-10-28 14:31:16,304\" module=\"boto\" level=\"DEBUG\" Signature:\n0993b20ab5e7bdb5f6f7ef36c58602f3daea0833f50f268a4c0a13de1d023045\nlogtime=\"2014-10-28 14:31:16,304\" module=\"boto\" level=\"DEBUG\" Final headers: {'Content-Length': '94', 'User-Agent': 'Boto/2.33.0 Python/2.7.6 Darwin/14.0.0', 'Host': u'cloudsearch.us-west-2.amazonaws.com', 'X-Amz-Date': '20141028T213116Z', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8', 'Authorization': u'AWS4-HMAC-SHA256 Credential=AKIAJXFDHKBFBTCGDBGA/20141028/us-west-2/cloudsearch/aws4_request,SignedHeaders=host;x-amz-date,Signature=0993b20ab5e7bdb5f6f7ef36c58602f3daea0833f50f268a4c0a13de1d023045'}\nlogtime=\"2014-10-28 14:31:16,447\" module=\"boto\" level=\"DEBUG\" wrapping ssl socket; CA certificate file=/Users/jmb/depots/stuff0/.venv/lib/python2.7/site-packages/boto/cacerts/cacerts.txt\nlogtime=\"2014-10-28 14:31:16,534\" module=\"boto\" level=\"DEBUG\" validating server certificate: hostname=cloudsearch.us-west-2.amazonaws.com, certificate hosts=['cloudsearch.us-west-2.amazonaws.com']\nlogtime=\"2014-10-28 14:31:16,712\" module=\"boto\" level=\"DEBUG\" Response headers: [('x-amzn-requestid', 'bfc46e82-5ee9-11e4-a8af-8f18f1271d33'), ('date', 'Tue, 28 Oct 2014 21:31:16 GMT'), ('content-length', '755'), ('content-type', 'application/json')]\nlogtime=\"2014-10-28 14:31:16,712\" module=\"boto\" level=\"DEBUG\" {\"DescribeDomainsResponse\":{\"DescribeDomainsResult\":{\"DomainStatusList\":[{\"ARN\":\"arn:aws:cloudsearch:us-west-2:351790146037:domain/context-labs-2\",\"Created\":true,\"Deleted\":false,\"DocService\":{\"Endpoint\":\"doc-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com\"},\"DomainId\":\"351790146037/context-labs-2\",\"DomainName\":\"context-labs-2\",\"Limits\":{\"MaximumPartitionCount\":10,\"MaximumReplicationCount\":5},\"Processing\":false,\"RequiresIndexDocuments\":false,\"SearchInstanceCount\":1,\"SearchInstanceType\":\"search.m1.small\",\"SearchPartitionCount\":1,\"SearchService\":{\"Endpoint\":\"search-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com\"}}]},\"ResponseMetadata\":{\"RequestId\":\"bfc46e82-5ee9-11e4-a8af-8f18f1271d33\"}}}\n# \n## Same keys, same terminal window, 'search' fails:\n## ['aws', '--region', 'us-west-2', 'cloudsearchdomain', '--endpoint-url', u'https://search-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com', '--output', 'json', 'search', '--query-parser', 'structured', '--filter-query', u\"(and user_id:'user_id:1')\", '--size', '20', '--return', '_all_fields,_score', '--sort', '_score desc', '--search-query', u\"(and 'john')\"]\n\nDebug output:\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Using access key found in environment variable.\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Using secret key found in environment variable.\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Method: POST\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Path: /\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Data: \nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Headers: {}\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Host: cloudsearch.us-west-2.amazonaws.com\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Port: 443\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Params: {'Action': 'DescribeDomains', 'Version': '2013-01-01', 'ContentType': 'JSON', 'DomainNames.member.1': 'context-labs-2'}\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" establishing HTTPS connection: host=cloudsearch.us-west-2.amazonaws.com, kwargs={'port': 443, 'timeout': 70}\nlogtime=\"2014-10-28 15:17:04,417\" module=\"boto\" level=\"DEBUG\" Token: None\nlogtime=\"2014-10-28 15:17:04,418\" module=\"boto\" level=\"DEBUG\" CanonicalRequest:\nPOST\n/\n\nhost:cloudsearch.us-west-2.amazonaws.com\nx-amz-date:20141028T221704Z\n\nhost;x-amz-date\nda0c116c28d4e60a54b9796c032e16262242fddf4f846719f84250bf7432222e\nlogtime=\"2014-10-28 15:17:04,418\" module=\"boto\" level=\"DEBUG\" StringToSign:\nAWS4-HMAC-SHA256\n20141028T221704Z\n20141028/us-west-2/cloudsearch/aws4_request\n85beb198ba5836119cbfbb60e95ad440c343fd545e3bd565a5be896e293534e4\nlogtime=\"2014-10-28 15:17:04,418\" module=\"boto\" level=\"DEBUG\" Signature:\na891e0bfa5bb2e6f388e7b912a86b2e7a6edf22915aebd58799d964796348eee\nlogtime=\"2014-10-28 15:17:04,418\" module=\"boto\" level=\"DEBUG\" Final headers: {'Content-Length': '94', 'User-Agent': 'Boto/2.33.0 Python/2.7.6 Darwin/14.0.0', 'Host': u'cloudsearch.us-west-2.amazonaws.com', 'X-Amz-Date': '20141028T221704Z', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8', 'Authorization': u'AWS4-HMAC-SHA256 Credential=AKIAJXFDHKBFBTCGDBGA/20141028/us-west-2/cloudsearch/aws4_request,SignedHeaders=host;x-amz-date,Signature=a891e0bfa5bb2e6f388e7b912a86b2e7a6edf22915aebd58799d964796348eee'}\nlogtime=\"2014-10-28 15:17:04,504\" module=\"boto\" level=\"DEBUG\" wrapping ssl socket; CA certificate file=/Users/jmb/depots/stuff0/.venv/lib/python2.7/site-packages/boto/cacerts/cacerts.txt\nlogtime=\"2014-10-28 15:17:04,589\" module=\"boto\" level=\"DEBUG\" validating server certificate: hostname=cloudsearch.us-west-2.amazonaws.com, certificate hosts=['cloudsearch.us-west-2.amazonaws.com']\nlogtime=\"2014-10-28 15:17:04,740\" module=\"boto\" level=\"DEBUG\" Response headers: [('x-amzn-requestid', '25bc0bac-5ef0-11e4-8697-cb6a4f3fdb68'), ('date', 'Tue, 28 Oct 2014 22:17:04 GMT'), ('content-length', '754'), ('content-type', 'application/json')]\nlogtime=\"2014-10-28 15:17:04,740\" module=\"boto\" level=\"DEBUG\" {\"DescribeDomainsResponse\":{\"DescribeDomainsResult\":{\"DomainStatusList\":[{\"ARN\":\"arn:aws:cloudsearch:us-west-2:351790146037:domain/context-labs-2\",\"Created\":true,\"Deleted\":false,\"DocService\":{\"Endpoint\":\"doc-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com\"},\"DomainId\":\"351790146037/context-labs-2\",\"DomainName\":\"context-labs-2\",\"Limits\":{\"MaximumPartitionCount\":10,\"MaximumReplicationCount\":5},\"Processing\":true,\"RequiresIndexDocuments\":false,\"SearchInstanceCount\":1,\"SearchInstanceType\":\"search.m1.small\",\"SearchPartitionCount\":1,\"SearchService\":{\"Endpoint\":\"search-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com\"}}]},\"ResponseMetadata\":{\"RequestId\":\"25bc0bac-5ef0-11e4-8697-cb6a4f3fdb68\"}}}\nlogtime=\"2014-10-28 15:17:04,740\" module=\"search.cloudsearch_util\" level=\"INFO\" calling out to awscli: ['aws', '--region', 'us-west-2', 'cloudsearchdomain', '--endpoint-url', u'https://search-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com', '--output', 'json', 'search', '--query-parser', 'structured', '--filter-query', u\"(and user_id:'user_id:1')\", '--size', '20', '--return', '_all_fields,_score', '--sort', '_score desc', '--search-query', u\"(and 'john')\"]\n\nA client error (Unknown) occurred when calling the Search operation: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\n\nThe Canonical String for this request should have been\n'GET\n/2013-01-01/search\nformat=sdk&fq=%28and%20user_id%3A%27user_id%3A1%27%29&pretty=true&q=%28and%20%27john%27%29&q.parser=structured&return=_all_fields%2C_score&size=20&sort=_score%20desc\nhost:search-context-labs-2-2yzynxoc77jbuf4qrnwxbc5ssu.us-west-2.cloudsearch.amazonaws.com\nuser-agent:aws-cli/1.5.3 Python/2.7.6 Darwin/14.0.0\nx-amz-date:20141028T221705Z\n\nhost;user-agent;x-amz-date\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'\n\nThe String-to-Sign should have been\n'AWS4-HMAC-SHA256\n20141028T221705Z\n20141028/us-west-2/cloudsearch/aws4_request\n# 1f09ab269873c255c30f44f474c44c4397c6b75fcc802abfa8127763fbf30f99'\n\nIn case it helps any, I get the exact same failure mode when running on an EC2 instance with an instance profile set to allow full domain access. From the debug output, it finds the access token just fine, upload-documents works, search fails identically to above.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/970", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/970/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/970/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/970/events", "html_url": "https://github.com/aws/aws-cli/issues/970", "id": 46816541, "node_id": "MDU6SXNzdWU0NjgxNjU0MQ==", "number": 970, "title": "`create-virtual-mfa-device` output file QRCode.png can't be opened/viewed", "user": {"login": "hydrajump", "id": 6806679, "node_id": "MDQ6VXNlcjY4MDY2Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6806679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hydrajump", "html_url": "https://github.com/hydrajump", "followers_url": "https://api.github.com/users/hydrajump/followers", "following_url": "https://api.github.com/users/hydrajump/following{/other_user}", "gists_url": "https://api.github.com/users/hydrajump/gists{/gist_id}", "starred_url": "https://api.github.com/users/hydrajump/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hydrajump/subscriptions", "organizations_url": "https://api.github.com/users/hydrajump/orgs", "repos_url": "https://api.github.com/users/hydrajump/repos", "events_url": "https://api.github.com/users/hydrajump/events{/privacy}", "received_events_url": "https://api.github.com/users/hydrajump/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-10-25T16:35:59Z", "updated_at": "2014-11-20T23:52:11Z", "closed_at": "2014-11-20T23:52:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using the following command to create a MFA device,\n\n```\naws iam create-virtual-mfa-device --virtual-mfa-device-name hydrajump --bootstrap-method QRCodePNG --outfile \"/Users/hydrajump/Downloads/QRCode.png\" \n```\n\nThe output file `QRCode.png` can't be opened with Preview.app and I get the following error,\n\n**\"It may be damaged or use a file format that Preview doesn\u2019t recognise.\"**\n\nDo I need a _special_ QR code viewer? \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/967", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/967/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/967/events", "html_url": "https://github.com/aws/aws-cli/issues/967", "id": 46656918, "node_id": "MDU6SXNzdWU0NjY1NjkxOA==", "number": 967, "title": "Error in bash completion for \"aws configure\"", "user": {"login": "adamv", "id": 3566, "node_id": "MDQ6VXNlcjM1NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/3566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamv", "html_url": "https://github.com/adamv", "followers_url": "https://api.github.com/users/adamv/followers", "following_url": "https://api.github.com/users/adamv/following{/other_user}", "gists_url": "https://api.github.com/users/adamv/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamv/subscriptions", "organizations_url": "https://api.github.com/users/adamv/orgs", "repos_url": "https://api.github.com/users/adamv/repos", "events_url": "https://api.github.com/users/adamv/events{/privacy}", "received_events_url": "https://api.github.com/users/adamv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-23T18:13:14Z", "updated_at": "2015-01-17T00:18:44Z", "closed_at": "2015-01-17T00:18:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "On version 1.5.2, doing `aws configure <tab>` gives me:\n\n```\n$ aws configure Traceback (most recent call last):\n  File \"/usr/local/bin/aws_completer\", line 23, in <module>\n    awscli.completer.complete(cline, cpoint)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/completer.py\", line 166, in complete\n    choices = Completer().complete(cmdline, point)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/completer.py\", line 155, in complete\n    self._process_command_line()\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/completer.py\", line 138, in _process_command_line\n    self.command_hc = cmd_obj.create_help_command()\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/customizations/commands.py\", line 226, in create_help_command\n    arg_table=self.arg_table)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/customizations/commands.py\", line 257, in arg_table\n    if self._arg_table is None:\nAttributeError: 'ConfigureCommand' object has no attribute '_arg_table'\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/960", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/960/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/960/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/960/events", "html_url": "https://github.com/aws/aws-cli/issues/960", "id": 46460853, "node_id": "MDU6SXNzdWU0NjQ2MDg1Mw==", "number": 960, "title": "ExactTimestampsSync.compare_time() explodes on super call", "user": {"login": "MichaelBlume", "id": 208853, "node_id": "MDQ6VXNlcjIwODg1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/208853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelBlume", "html_url": "https://github.com/MichaelBlume", "followers_url": "https://api.github.com/users/MichaelBlume/followers", "following_url": "https://api.github.com/users/MichaelBlume/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelBlume/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelBlume/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelBlume/subscriptions", "organizations_url": "https://api.github.com/users/MichaelBlume/orgs", "repos_url": "https://api.github.com/users/MichaelBlume/repos", "events_url": "https://api.github.com/users/MichaelBlume/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelBlume/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-22T00:29:21Z", "updated_at": "2014-10-23T17:55:02Z", "closed_at": "2014-10-23T17:55:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "`return super(SizeOnlySyncStrategy, self).compare_time(src_file, dest_file)` references a class that isn't imported and doesn't appear to exist. Also, shouldn't a super call from ExactTimestampsSync be passing ExactTimestampsSync to super\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/960/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/957", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/957/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/957/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/957/events", "html_url": "https://github.com/aws/aws-cli/issues/957", "id": 46222862, "node_id": "MDU6SXNzdWU0NjIyMjg2Mg==", "number": 957, "title": "aws cp 20GB+ file hangs on last part", "user": {"login": "noradaengineering", "id": 6233018, "node_id": "MDQ6VXNlcjYyMzMwMTg=", "avatar_url": "https://avatars.githubusercontent.com/u/6233018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noradaengineering", "html_url": "https://github.com/noradaengineering", "followers_url": "https://api.github.com/users/noradaengineering/followers", "following_url": "https://api.github.com/users/noradaengineering/following{/other_user}", "gists_url": "https://api.github.com/users/noradaengineering/gists{/gist_id}", "starred_url": "https://api.github.com/users/noradaengineering/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noradaengineering/subscriptions", "organizations_url": "https://api.github.com/users/noradaengineering/orgs", "repos_url": "https://api.github.com/users/noradaengineering/repos", "events_url": "https://api.github.com/users/noradaengineering/events{/privacy}", "received_events_url": "https://api.github.com/users/noradaengineering/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-20T00:27:17Z", "updated_at": "2015-01-15T00:02:41Z", "closed_at": "2015-01-15T00:02:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Multiple attempts to upload a 20GB+ file using awl cli \"hangs\" after last part is processed.\n\naws-cli/1.5.2\nbotocore version: 0.66.0\n\n--debug \n\n...\n2014-10-19 18:12:08,734 - Thread-6 - botocore.awsrequest - DEBUG - Waiting for 100 Continue response.\n2014-10-19 18:12:08,765 - Thread-6 - botocore.awsrequest - DEBUG - 100 Continue response seen, now sending request body.\n2014-10-19 18:12:11,628 - Thread-11 - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"PUT {snipped}\" 200 0\n2014-10-19 18:12:11,629 - Thread-11 - botocore.parsers - DEBUG - Response body:\n\n2014-10-19 18:12:11,629 - Thread-11 - botocore.hooks - DEBUG - Event needs-retry.s3.UploadPart: calling handler <botocore.retryhandler.RetryHandler object at 0x33c63d0>\n2014-10-19 18:12:11,629 - Thread-11 - botocore.retryhandler - DEBUG - No retry needed.\n2014-10-19 18:12:11,629 - Thread-11 - botocore.hooks - DEBUG - Event after-call.s3.UploadPart: calling handler <awscli.errorhandler.ErrorHandler object at 0x30fbe90>\n2014-10-19 18:12:11,629 - Thread-11 - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2014-10-19 18:12:11,629 - Thread-11 - awscli.customizations.s3.tasks - DEBUG - Part number 474 completed for filename: {snipped}\n2014-10-19 18:12:11,629 - Thread-11 - awscli.customizations.s3.executor - DEBUG - Worker thread invoking task: <awscli.customizations.s3.tasks.CompleteMultipartUploadTask object at 0x3435a90>\n2014-10-19 18:12:11,630 - Thread-1 - awscli.customizations.s3.executor - DEBUG - Received print task: PrintTask(message=u'upload: {snipped} to s3://{snipped}', error=False, total_parts=476, warning=None)\n2014-10-19 18:12:11,630 - Thread-11 - awscli.customizations.s3.tasks - DEBUG - Completing multipart upload for file: {snipped}\n2014-10-19 18:12:16,596 - Thread-6 - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"PUT {snipped} HTTP/1.1\" 200 0\n2014-10-19 18:12:16,597 - Thread-6 - botocore.parsers - DEBUG - Response body:\n\n2014-10-19 18:12:16,597 - Thread-6 - botocore.hooks - DEBUG - Event needs-retry.s3.UploadPart: calling handler <botocore.retryhandler.RetryHandler object at 0x33c63d0>\n2014-10-19 18:12:16,597 - Thread-6 - botocore.retryhandler - DEBUG - No retry needed.\n2014-10-19 18:12:16,597 - Thread-6 - botocore.hooks - DEBUG - Event after-call.s3.UploadPart: calling handler <awscli.errorhandler.ErrorHandler object at 0x30fbe90>\n2014-10-19 18:12:16,597 - Thread-6 - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2014-10-19 18:12:16,598 - Thread-6 - awscli.customizations.s3.tasks - DEBUG - Part number 476 completed for filename: {snipped}\n2014-10-19 18:12:16,598 - Thread-1 - awscli.customizations.s3.executor - DEBUG - Received print task: PrintTask(message=u'upload: {snipped} to s3://{snipped}', error=False, total_parts=476, warning=None)\n2014-10-19 18:12:16,598 - Thread-6 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/957/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/950", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/950/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/950/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/950/events", "html_url": "https://github.com/aws/aws-cli/issues/950", "id": 45898225, "node_id": "MDU6SXNzdWU0NTg5ODIyNQ==", "number": 950, "title": "Dynamodb get-item error: Codec can't decode byte", "user": {"login": "jmonson", "id": 4283299, "node_id": "MDQ6VXNlcjQyODMyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4283299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmonson", "html_url": "https://github.com/jmonson", "followers_url": "https://api.github.com/users/jmonson/followers", "following_url": "https://api.github.com/users/jmonson/following{/other_user}", "gists_url": "https://api.github.com/users/jmonson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmonson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmonson/subscriptions", "organizations_url": "https://api.github.com/users/jmonson/orgs", "repos_url": "https://api.github.com/users/jmonson/repos", "events_url": "https://api.github.com/users/jmonson/events{/privacy}", "received_events_url": "https://api.github.com/users/jmonson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-15T17:57:01Z", "updated_at": "2015-01-15T23:02:27Z", "closed_at": "2015-01-15T22:55:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a similar problem with issue #853 and #593. This was working in the past and looks like it started failing around September 9, 2014.\n\nCommand:\naws dynamodb get-item --table-name XXX --key \"{\\\"Id\\\":{\\\"N\\\":\\\"YYY\\\"}}\" --debug\n\nOutput:\n2014-10-15 13:04:25,934 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.5.1 Python/2.7.5 Windows/8, botocore version: 0.65.0\n2014-10-15 13:04:25,934 - MainThread - botocore.service - DEBUG - Creating service object for: dynamodb\n2014-10-15 13:04:25,944 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.dynamodb: calling handler <function signature_overrides at 0x0000000002869D68>\n2014-10-15 13:04:25,946 - MainThread - botocore.hooks - DEBUG - Event service-created: calling handler <function register_retries_for_service at 0x0000000002869C18>\n2014-10-15 13:04:25,947 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: Service(dynamodb)\n2014-10-15 13:04:25,948 - MainThread - botocore.service - DEBUG - Creating operation objects for: Service(dynamodb)\n2014-10-15 13:04:25,950 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'table-name', <awscli.arguments.CLIArgument object at 0x00000000033A8E10>), (u'key', <awscli.arguments.CLIArgument object at 0x00000000033A8E48>), (u'attributes-to-get', <awscli.arguments.ListArgument object at 0x00000000033A8E80>), (u'consistent-read', <awscli.arguments.BooleanArgument object at 0x00000000033A8EB8>), (u'no-consistent-read', <awscli.arguments.BooleanArgument object at 0x00000000033A8EF0>), (u'return-consumed-capacity', <awscli.arguments.CLIArgument object at 0x00000000033A8F28>), (u'projection-expression', <awscli.arguments.CLIArgument object at 0x00000000033A8F98>), (u'expression-attribute-names', <awscli.arguments.CLIArgument object at 0x00000000033A8FD0>)])\n2014-10-15 13:04:25,951 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.dynamodb.get-item: calling handler <function unify_paging_params at 0x0000000002B5A208>\n2014-10-15 13:04:25,956 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.get-item.table-name: calling handler <function uri_param at 0x0000000002B3F208>\n2014-10-15 13:04:25,957 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.dynamodb.get-item: calling handler <awscli.argprocess.ParamShorthand object at 0x0000000002B510B8>\n2014-10-15 13:04:25,960 - MainThread - awscli.argprocess - DEBUG - Detected structure: scalar\n2014-10-15 13:04:25,963 - MainThread - awscli.arguments - DEBUG - Unpacked value of \"XXX\" for parameter \"table_name\": XXX\n2014-10-15 13:04:25,964 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.get-item.key: calling handler <function uri_param at 0x0000000002B3F208>\n2014-10-15 13:04:25,967 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.dynamodb.get-item: calling handler <awscli.argprocess.ParamShorthand object at 0x0000000002B510B8>\n2014-10-15 13:04:25,970 - MainThread - awscli.argprocess - DEBUG - Param key looks like JSON, not considered for param shorthand.\n2014-10-15 13:04:25,973 - MainThread - awscli.arguments - DEBUG - Unpacked value of \"{\"Id\":{\"N\":\"YYY\"}}\" for parameter \"key\": OrderedDict([(u'Id', OrderedDict([(u'N', u'YYY')]))])\n2014-10-15 13:04:25,976 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.get-item.attributes-to-get: calling handler <function uri_param at 0x0000000002B3F208>\n2014-10-15 13:04:25,977 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.get-item.consistent-read: calling handler <function uri_param at 0x0000000002B3F208>\n2014-10-15 13:04:25,980 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.get-item.return-consumed-capacity: calling handler <function uri_param at 0x0000000002B3F208>\n2014-10-15 13:04:25,983 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.get-item.projection-expression: calling handler<function uri_param at 0x0000000002B3F208>\n2014-10-15 13:04:25,986 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.dynamodb.get-item.expression-attribute-names: calling handler <function uri_param at 0x0000000002B3F208>\n2014-10-15 13:04:25,989 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2014-10-15 13:04:25,992 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\n2014-10-15 13:04:25,993 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: config-file\n2014-10-15 13:04:25,996 - MainThread - botocore.credentials - INFO - Credentials found in config file: ~/.aws/config\n2014-10-15 13:04:26,000 - MainThread - botocore.operation - DEBUG - Operation:GetItem called with kwargs: {u'TableName': u'XXX', u'Key': OrderedDict([(u'Id', OrderedDict([(u'N', u'YYY')]))])}\n2014-10-15 13:04:26,038 - MainThread - botocore.endpoint - DEBUG - Making request for <botocore.model.OperationModel object at 0x00000000033A8160> (verify_ssl=True) with params: {'query_string': '', 'headers': {'Content-Type': u'application/x-amz-json-1.0', 'X-Amz-Target': u'DynamoDB_20120810.GetItem'}, 'url_path': '/', 'body': '{\"TableName\": \"XXX\", \"Key\": {\"Id\": {\"N\": \"YYY\"}}}', 'method': u'POST'}\n2014-10-15 13:04:26,039 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\n2014-10-15 13:04:26,040 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\nPOST\n/\n\ncontent-type:application/x-amz-json-1.0\nhost:dynamodb.us-east-1.amazonaws.com\nuser-agent:aws-cli/1.5.1 Python/2.7.5 Windows/8\nx-amz-date:20141015T170426Z\nx-amz-target:DynamoDB_20120810.GetItem\n\ncontent-type;host;user-agent;x-amz-date;x-amz-target\nac452b7560e0b4c1ae5bd4393453894c9c33926f29c0340be2f89ca1f6d7a9c2\n2014-10-15 13:04:26,043 - MainThread - botocore.auth - DEBUG - StringToSign:AWS4-HMAC-SHA25620141015T170426Z20141015/us-east-1/dynamodb/aws4_requesta61d5663b12934c6067cb703f354db2897028bb969ab50f3c6ccb9252863b1ca\n2014-10-15 13:04:26,046 - MainThread - botocore.auth - DEBUG - Signature:20f52474ea6f4101cec267b03a3e7cece714e5326c87463c6eec566953f8a9cb\n2014-10-15 13:04:26,056 - MainThread - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2014-10-15 13:04:26,056 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): dynamodb.us-east-1.amazonaws.com\n2014-10-15 13:04:26,487 - MainThread - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"POST / HTTP/1.1\" 200 6080\n2014-10-15 13:04:26,489 - MainThread - botocore.parsers - DEBUG - Response body: {\"Item\":{\"KeyId\":{\"N\":\"748\"},\"Version\":{\"S\":\"46ff6f90-2b53-423f-82ed-8868931d86eb\"},\"Id\":{\"N\":\"YYY\"},\"Item\":{\"B\":\"kXADOgp ... w==\"},\"LastUpdatedOn\":{\"S\":\"2014-09-24T19:40:54.495Z\"}}}\n2014-10-15 13:04:26,506 - MainThread - botocore.hooks - DEBUG - Event needs-retry.dynamodb.GetItem: calling handler <botocore.retryhandler.RetryHandler object at 0x0000000002C8CE48>\n2014-10-15 13:04:26,506 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\n2014-10-15 13:04:26,509 - MainThread - botocore.hooks - DEBUG - Event after-call.dynamodb.GetItem: calling handler <awscli.errorhandler.ErrorHandler object at 0x0000000002C778D0>\n2014-10-15 13:04:26,513 - MainThread - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2014-10-15 13:04:26,516 - MainThread - awscli.formatter - DEBUG - RequestId: 2AFC0J95OQA5J86LKD5SBK8FSJVV4KQNSO5AEMVJF66Q9ASUAAJG\n{\n    \"Item\": {\n        \"Item\": {\n            \"B\": 2014-10-15 13:04:26,529 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"awscli\\clidriver.pyc\", line 206, in main\n  File \"awscli\\clidriver.pyc\", line 354, in **call**\n  File \"awscli\\clidriver.pyc\", line 461, in **call**\n  File \"awscli\\clidriver.pyc\", line 566, in invoke\n  File \"awscli\\clidriver.pyc\", line 574, in _display_response\n  File \"awscli\\formatter.pyc\", line 72, in __call__\n  File \"awscli\\formatter.pyc\", line 87, in _format_response\n  File \"json__init__.pyc\", line 189, in dump\n  File \"json\\encoder.pyc\", line 434, in _iterencode\n  File \"json\\encoder.pyc\", line 408, in _iterencode_dict\n  File \"json\\encoder.pyc\", line 408, in _iterencode_dict\n  File \"json\\encoder.pyc\", line 390, in _iterencode_dict\nUnicodeDecodeError: 'utf8' codec can't decode byte 0x91 in position 0: invalid start byte\n2014-10-15 13:04:26,529 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\n\n'utf8' codec can't decode byte 0x91 in position 0: invalid start byte\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/950/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/945", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/945/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/945/events", "html_url": "https://github.com/aws/aws-cli/issues/945", "id": 45622226, "node_id": "MDU6SXNzdWU0NTYyMjIyNg==", "number": 945, "title": "Unable to start AWS CLI with Unicode locale", "user": {"login": "chillum", "id": 6885179, "node_id": "MDQ6VXNlcjY4ODUxNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6885179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chillum", "html_url": "https://github.com/chillum", "followers_url": "https://api.github.com/users/chillum/followers", "following_url": "https://api.github.com/users/chillum/following{/other_user}", "gists_url": "https://api.github.com/users/chillum/gists{/gist_id}", "starred_url": "https://api.github.com/users/chillum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chillum/subscriptions", "organizations_url": "https://api.github.com/users/chillum/orgs", "repos_url": "https://api.github.com/users/chillum/repos", "events_url": "https://api.github.com/users/chillum/events{/privacy}", "received_events_url": "https://api.github.com/users/chillum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289140250, "node_id": "MDU6TGFiZWwyODkxNDAyNTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/unicode", "name": "unicode", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-10-13T09:07:32Z", "updated_at": "2020-09-02T20:42:49Z", "closed_at": "2015-02-03T20:46:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n~> aws --version\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/awscli/1.5.1/libexec/bin/aws\", line 15, in <module>\n    import awscli.clidriver\n  File \"/usr/local/Cellar/awscli/1.5.1/lib/python2.7/site-packages/awscli/clidriver.py\", line 31, in <module>\n    from awscli.help import ProviderHelpCommand\n  File \"/usr/local/Cellar/awscli/1.5.1/lib/python2.7/site-packages/awscli/help.py\", line 20, in <module>\n    from docutils.core import publish_string\n  File \"/usr/local/Cellar/awscli/1.5.1/libexec/lib/python2.7/site-packages/docutils-0.12-py2.7.egg/docutils/core.py\", line 20, in <module>\n    from docutils import frontend, io, utils, readers, writers\n  File \"/usr/local/Cellar/awscli/1.5.1/libexec/lib/python2.7/site-packages/docutils-0.12-py2.7.egg/docutils/frontend.py\", line 41, in <module>\n    import docutils.utils\n  File \"/usr/local/Cellar/awscli/1.5.1/libexec/lib/python2.7/site-packages/docutils-0.12-py2.7.egg/docutils/utils/__init__.py\", line 20, in <module>\n    import docutils.io\n  File \"/usr/local/Cellar/awscli/1.5.1/libexec/lib/python2.7/site-packages/docutils-0.12-py2.7.egg/docutils/io.py\", line 18, in <module>\n    from docutils.utils.error_reporting import locale_encoding, ErrorString, ErrorOutput\n  File \"/usr/local/Cellar/awscli/1.5.1/libexec/lib/python2.7/site-packages/docutils-0.12-py2.7.egg/docutils/utils/error_reporting.py\", line 47, in <module>\n    locale_encoding = locale.getlocale()[1] or locale.getdefaultlocale()[1]\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/locale.py\", line 496, in getdefaultlocale\n    return _parse_localename(localename)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/locale.py\", line 428, in _parse_localename\n    raise ValueError, 'unknown locale: %s' % localename\nValueError: unknown locale: UTF-8\n~> locale\nLANG=\"en_US.UTF-8\"\nLC_COLLATE=\"en_US.UTF-8\"\nLC_CTYPE=\"UTF-8\"\nLC_MESSAGES=\"en_US.UTF-8\"\nLC_MONETARY=\"en_US.UTF-8\"\nLC_NUMERIC=\"en_US.UTF-8\"\nLC_TIME=\"en_US.UTF-8\"\nLC_ALL=\n~> uname -mrsv\nDarwin 12.5.0 Darwin Kernel Version 12.5.0: Sun Sep 29 13:33:47 PDT 2013; root:xnu-2050.48.12~1/RELEASE_X86_64 x86_64\n~> python --version\nPython 2.7.2\n```\n\nWhen I unset the LC_CTYPE, it works:\n\n```\n~> env LC_CTYPE= aws --version \naws-cli/1.5.1 Python/2.7.2 Darwin/12.5.0\n```\n\nOther Python apps work fine with this LC_CTYPE (checked `hg` and `ansible` running on the same Python on the same host).\n\nI believe, this LC_CTYPE variable is set by MacOS, I didn't set it manually.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/940", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/940/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/940/events", "html_url": "https://github.com/aws/aws-cli/issues/940", "id": 45304628, "node_id": "MDU6SXNzdWU0NTMwNDYyOA==", "number": 940, "title": "Deleting an S3 object fails for now reason", "user": {"login": "nikolay", "id": 2882, "node_id": "MDQ6VXNlcjI4ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/2882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikolay", "html_url": "https://github.com/nikolay", "followers_url": "https://api.github.com/users/nikolay/followers", "following_url": "https://api.github.com/users/nikolay/following{/other_user}", "gists_url": "https://api.github.com/users/nikolay/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikolay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikolay/subscriptions", "organizations_url": "https://api.github.com/users/nikolay/orgs", "repos_url": "https://api.github.com/users/nikolay/repos", "events_url": "https://api.github.com/users/nikolay/events{/privacy}", "received_events_url": "https://api.github.com/users/nikolay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-10-08T22:18:40Z", "updated_at": "2014-10-09T21:15:02Z", "closed_at": "2014-10-09T20:29:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "`aws s3 s3://bucket/object` yields `delete failed: s3://bucket/object 'str' object has no attribute 'text'` and return an error code.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/940/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/937", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/937/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/937/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/937/events", "html_url": "https://github.com/aws/aws-cli/issues/937", "id": 45269882, "node_id": "MDU6SXNzdWU0NTI2OTg4Mg==", "number": 937, "title": "Waiter does not exist: ClusterRunning", "user": {"login": "tilusnet", "id": 705606, "node_id": "MDQ6VXNlcjcwNTYwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/705606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tilusnet", "html_url": "https://github.com/tilusnet", "followers_url": "https://api.github.com/users/tilusnet/followers", "following_url": "https://api.github.com/users/tilusnet/following{/other_user}", "gists_url": "https://api.github.com/users/tilusnet/gists{/gist_id}", "starred_url": "https://api.github.com/users/tilusnet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tilusnet/subscriptions", "organizations_url": "https://api.github.com/users/tilusnet/orgs", "repos_url": "https://api.github.com/users/tilusnet/repos", "events_url": "https://api.github.com/users/tilusnet/events{/privacy}", "received_events_url": "https://api.github.com/users/tilusnet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-10-08T17:08:32Z", "updated_at": "2014-10-08T18:57:22Z", "closed_at": "2014-10-08T18:57:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version 1.3.25 had a very nice feature that made aws-cli process calls to a booting cluster wait until the cluster was ready. This was manifesting itself with a \"Waiting for the cluster to start.\" message and the process waiting.\n\nNow, in version 1.5.0 such a scenario makes the aws-cli process call to exit with an error:\n\"Waiter does not exist: ClusterRunning.\"\nThis is inconvenient as it makes calling code to poll until the cluster is ready.\n\nCan you please fix this / revert it the way it worked?\n\nThank you.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/933", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/933/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/933/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/933/events", "html_url": "https://github.com/aws/aws-cli/issues/933", "id": 45124854, "node_id": "MDU6SXNzdWU0NTEyNDg1NA==", "number": 933, "title": "s3 mv doesn't actually mv files (across regions?)", "user": {"login": "Julian", "id": 329822, "node_id": "MDQ6VXNlcjMyOTgyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/329822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Julian", "html_url": "https://github.com/Julian", "followers_url": "https://api.github.com/users/Julian/followers", "following_url": "https://api.github.com/users/Julian/following{/other_user}", "gists_url": "https://api.github.com/users/Julian/gists{/gist_id}", "starred_url": "https://api.github.com/users/Julian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Julian/subscriptions", "organizations_url": "https://api.github.com/users/Julian/orgs", "repos_url": "https://api.github.com/users/Julian/repos", "events_url": "https://api.github.com/users/Julian/events{/privacy}", "received_events_url": "https://api.github.com/users/Julian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-10-07T15:55:42Z", "updated_at": "2014-10-08T18:51:23Z", "closed_at": "2014-10-08T18:48:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've observed cases (on `aws-cli/1.4.2 Python/2.7.6 Darwin/13.3.0`) where `aws s3 mv` does not actually remove files after \"moving\" them from one S3 bucket to another. I've observed other cases where it does actually remove them, and the only difference was that the ones that aren't actually moved were in a region specified by `--source-region` other than the destination bucket's region, so I would assume that that's where the bug lies.\n\nI haven't actually read the source yet to confirm, but filing the issue in case I forget, for now we're manually `rm`ing files to move them.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/933/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/929", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/929/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/929/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/929/events", "html_url": "https://github.com/aws/aws-cli/issues/929", "id": 44949006, "node_id": "MDU6SXNzdWU0NDk0OTAwNg==", "number": 929, "title": "Unknown key 'LatlonOptions' for param 'IndexField'.", "user": {"login": "tommcquarrie", "id": 3905175, "node_id": "MDQ6VXNlcjM5MDUxNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/3905175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tommcquarrie", "html_url": "https://github.com/tommcquarrie", "followers_url": "https://api.github.com/users/tommcquarrie/followers", "following_url": "https://api.github.com/users/tommcquarrie/following{/other_user}", "gists_url": "https://api.github.com/users/tommcquarrie/gists{/gist_id}", "starred_url": "https://api.github.com/users/tommcquarrie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tommcquarrie/subscriptions", "organizations_url": "https://api.github.com/users/tommcquarrie/orgs", "repos_url": "https://api.github.com/users/tommcquarrie/repos", "events_url": "https://api.github.com/users/tommcquarrie/events{/privacy}", "received_events_url": "https://api.github.com/users/tommcquarrie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-06T05:30:03Z", "updated_at": "2014-10-10T23:10:07Z", "closed_at": "2014-10-10T23:10:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to define a latlon index field via cloudsearch define-index-field you get the following error:\n\n```\n$ aws cloudsearch define-index-field --name lat_long --type latlon --search-enabled 1 --sort-enabled 1\n\nUnknown key 'LatlonOptions' for param 'IndexField'.  Must be one of: IndexFieldName, IndexFieldType, IntOptions, DoubleOptions, LiteralOptions, TextOptions, DateOptions, LatLonOptions, IntArrayOptions, DoubleArrayOptions, LiteralArrayOptions, TextArrayOptions, DateArrayOptions\n```\n\nLooks like there's a typo in the code that converts the cli arguments into api options for cloudsearch.  Tried to do a search for the offending code but can't seem to find anything, and python's a bit beyond me.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/929/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/923", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/923/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/923/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/923/events", "html_url": "https://github.com/aws/aws-cli/issues/923", "id": 44371808, "node_id": "MDU6SXNzdWU0NDM3MTgwOA==", "number": 923, "title": "S3 streaming with s3 cp uses several GB of memory on upload", "user": {"login": "rlmcpherson", "id": 1706273, "node_id": "MDQ6VXNlcjE3MDYyNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1706273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlmcpherson", "html_url": "https://github.com/rlmcpherson", "followers_url": "https://api.github.com/users/rlmcpherson/followers", "following_url": "https://api.github.com/users/rlmcpherson/following{/other_user}", "gists_url": "https://api.github.com/users/rlmcpherson/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlmcpherson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlmcpherson/subscriptions", "organizations_url": "https://api.github.com/users/rlmcpherson/orgs", "repos_url": "https://api.github.com/users/rlmcpherson/repos", "events_url": "https://api.github.com/users/rlmcpherson/events{/privacy}", "received_events_url": "https://api.github.com/users/rlmcpherson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-09-29T23:54:56Z", "updated_at": "2019-06-19T19:52:05Z", "closed_at": "2014-10-03T16:42:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "In testing the streaming upload feature implemented in #903, it is reading the entire stream into memory, causing large memory usage for the tool. On an ubuntu ec2 instance running the latest master branch, uploading a 9 GB file resulted in 6.5-6.9 GB of real memory usage. \n\nTest command:\n\n```\ncat <large_file> | aws s3 cp - s3://bucket/key\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/923/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/885", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/885/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/885/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/885/events", "html_url": "https://github.com/aws/aws-cli/issues/885", "id": 40716357, "node_id": "MDU6SXNzdWU0MDcxNjM1Nw==", "number": 885, "title": "\"aws s3\" with no arguments should print usage scenario", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-08-20T16:21:17Z", "updated_at": "2014-08-22T00:29:33Z", "closed_at": "2014-08-22T00:29:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There's a discrepancy between what happens when no args are specified in the built in commands vs. the s3 commands.  For example:\n\n```\n$ aws s3api\nusage: aws [options] <command> <subcommand> [parameters]\naws: error: too few arguments\n\n$ aws s3\n\n_run_main\n```\n\nThis is happening because the `NotImplementedError` exception is being raised from the base `BasicCommand` class.  Ideally the s3 command case should have the same output as the built in commands.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/885/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/876", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/876/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/876/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/876/events", "html_url": "https://github.com/aws/aws-cli/issues/876", "id": 40099271, "node_id": "MDU6SXNzdWU0MDA5OTI3MQ==", "number": 876, "title": "Shorthand parser not handling double quotes correctly", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-12T21:07:17Z", "updated_at": "2015-10-27T19:53:29Z", "closed_at": "2015-10-27T19:53:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The snippet:\n\n```\n--tags Key=\\\"[\"Group\\\"]\"\n```\n\ngets serialized as:\n\n```\n{\"tags\": [{\"Key\": \"[Group]\", \"Value\": \"test\"}]}\n```\n\nWhen it actually should be a syntax error.  To avoid parsing special characters in a value, it just needs to be surrounded with quotes:\n\n```\n--tags Key=\\\"[Group]\\\"\n```\n\nwhich gets passed to the CLI code (after bash handles the escapes) as:\n\n```\n--tags Key=\"[Group]\"\n```\n\nwhich we then parse as:\n\n```\n{\"tags\": [{\"Key\": \"[Group]\", \"Value\": \"test\"}]}\n```\n\nI think that in the first case of `--tags Key=\\\"[\"Group\\\"]\"`, we should be throwing an exception.\n\nWe may want to have separate issues for this issue, but these are all related to shorthand parsing bugs.  Sometimes the `[...]` syntax does not parse to a list and just silently removes the `[]` chars.  This happens when the type in the model is not a list.  For example:\n\n```\n$ aws ec2 create-tags --resources i-1a2b3c4d --tags Key=Group,Value=[a,b,c,d] --debug\n...\n2014-08-12 14:44:46,740 - MainThread - botocore.endpoint - DEBUG - Making request for Operation:CreateTags (verify_ssl=True) with params: {u'ResourceId.1': u'i-1a2b3c4d', u'Tag.1.Key': u'Group', u'Tag.1.Value': u'a,b,c,d'}\n```\n\nNote the value is `\"Value\": \"a,b,c,d\"`.  I would expect that the `[...]` syntax would parse to a list, which would them fail during the botocore param validation.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/866", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/866/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/866/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/866/events", "html_url": "https://github.com/aws/aws-cli/issues/866", "id": 39629687, "node_id": "MDU6SXNzdWUzOTYyOTY4Nw==", "number": 866, "title": "s3 ls returns incorrect return codes", "user": {"login": "doapp-ryanp", "id": 1036546, "node_id": "MDQ6VXNlcjEwMzY1NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1036546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doapp-ryanp", "html_url": "https://github.com/doapp-ryanp", "followers_url": "https://api.github.com/users/doapp-ryanp/followers", "following_url": "https://api.github.com/users/doapp-ryanp/following{/other_user}", "gists_url": "https://api.github.com/users/doapp-ryanp/gists{/gist_id}", "starred_url": "https://api.github.com/users/doapp-ryanp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doapp-ryanp/subscriptions", "organizations_url": "https://api.github.com/users/doapp-ryanp/orgs", "repos_url": "https://api.github.com/users/doapp-ryanp/repos", "events_url": "https://api.github.com/users/doapp-ryanp/events{/privacy}", "received_events_url": "https://api.github.com/users/doapp-ryanp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2014-08-06T15:01:05Z", "updated_at": "2014-11-17T23:02:43Z", "closed_at": "2014-11-17T23:02:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "`s3 ls` of an object (on a valid bucket) that does not exist returns a `0` return code.\n\n```\n> aws --profile myprofile s3 ls s3://mybucket/dne.txt\n> echo $?\n0\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/866/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/859", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/859/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/859/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/859/events", "html_url": "https://github.com/aws/aws-cli/issues/859", "id": 39120175, "node_id": "MDU6SXNzdWUzOTEyMDE3NQ==", "number": 859, "title": "s3 sync failing on files with utf-8 characters in the name", "user": {"login": "rfein-hearst", "id": 4303865, "node_id": "MDQ6VXNlcjQzMDM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/4303865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rfein-hearst", "html_url": "https://github.com/rfein-hearst", "followers_url": "https://api.github.com/users/rfein-hearst/followers", "following_url": "https://api.github.com/users/rfein-hearst/following{/other_user}", "gists_url": "https://api.github.com/users/rfein-hearst/gists{/gist_id}", "starred_url": "https://api.github.com/users/rfein-hearst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rfein-hearst/subscriptions", "organizations_url": "https://api.github.com/users/rfein-hearst/orgs", "repos_url": "https://api.github.com/users/rfein-hearst/repos", "events_url": "https://api.github.com/users/rfein-hearst/events{/privacy}", "received_events_url": "https://api.github.com/users/rfein-hearst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-30T18:07:50Z", "updated_at": "2014-08-26T21:18:38Z", "closed_at": "2014-07-30T21:27:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running aws s3 sync on a directory that contains filenames with UTF-8 characters, the sync fails. --debug complains that LC_CTYPE is not set properly, but locale is properly set to en_US.UTF-8. \n\nAnother problem is that it fails silently and exits without syncing any other files in the directory, but I see there are several other similar issues discussing changing that behavior, so consider this another request for that change. \n\n```\n[root@hostname images2]# aws --debug --region=us-west-2 s3 sync .  s3://BUCKETNAME/PATHNAME/\n2014-07-30 12:02:02,614 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.3.24 Python/2.7.1 Linux/2.6.18-308.4.1.el5, botocore version: 0.58.0\n2014-07-30 12:02:02,619 - MainThread - botocore.service - DEBUG - Creating service object for: s3\n2014-07-30 12:02:02,695 - MainThread - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x8bd05a4>\n2014-07-30 12:02:02,695 - MainThread - botocore.hooks - DEBUG - Event service-created: calling handler <function register_retries_for_service at 0x8bd04c4>\n2014-07-30 12:02:02,696 - MainThread - botocore.handlers - DEBUG - Registering retry handlers for service: Service(s3)\n2014-07-30 12:02:02,699 - MainThread - botocore.hooks - DEBUG - Event creating-endpoint.s3: calling handler <function maybe_switch_to_s3sigv4 at 0x8bd0534>\n2014-07-30 12:02:02,699 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\n2014-07-30 12:02:02,699 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\n2014-07-30 12:02:02,722 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Exception caught during task execution: There was an error trying to decode the the file \"Herm\ufffds-Gala-Sandals-31.jpg\" in directory \"<SOURCE DIR>\". \nPlease check your locale settings.  The filename was decoded as: UTF-8\nOn posix platforms, check the LC_CTYPE environment variable.\nTraceback (most recent call last):\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/s3handler.py\", line 76, in call\n    total_files, total_parts = self._enqueue_tasks(files)\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/s3handler.py\", line 154, in _enqueue_tasks\n    for filename in files:\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/comparator.py\", line 92, in call\n    src_file = advance_iterator(src_files)\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/filegenerator.py\", line 76, in call\n    for src_path, size, last_update in file_list:\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/filegenerator.py\", line 119, in list_files\n    self._check_paths_decoded(path, names)\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/filegenerator.py\", line 148, in _check_paths_decoded\n    raise FileDecodingError(path, name)\nFileDecodingError: There was an error trying to decode the the file \"Herm\ufffds-Gala-Sandals-31.jpg\" in directory \"<SOURCEDIR>\". \nPlease check your locale settings.  The filename was decoded as: UTF-8\nOn posix platforms, check the LC_CTYPE environment variable.\n2014-07-30 12:02:02,723 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2014-07-30 12:02:02,724 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2014-07-30 12:02:02,724 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2014-07-30 12:02:02,724 - Thread-4 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-30 12:02:02,724 - Thread-1 - awscli.customizations.s3.executor - DEBUG - Received print task: {'message': 'There was an error trying to decode the the file \"Herm\\xe9s-Gala-Sandals-31.jpg\" in directory \"<SOURCEDIR>\". \\nPlease check your locale settings.  The filename was decoded as: UTF-8\\nOn posix platforms, check the LC_CTYPE environment variable.', 'error': True}\n2014-07-30 12:02:02,724 - MainThread - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2014-07-30 12:02:02,725 - Thread-5 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-30 12:02:02,725 - Thread-3 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-30 12:02:02,725 - Thread-1 - awscli.customizations.s3.executor - DEBUG - Error processing print task: 'ascii' codec can't decode byte 0xe9 in position 54: ordinal not in range(128)\nTraceback (most recent call last):\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/executor.py\", line 257, in run\n    self._process_print_task(print_task)\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/executor.py\", line 308, in _process_print_task\n    uni_print(final_str)\n  File \"/usr/local/aws-cli/lib/python2.7/site-packages/awscli/customizations/s3/utils.py\", line 199, in uni_print\n    sys.stdout.write(statement.encode(sys.stdout.encoding))\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe9 in position 54: ordinal not in range(128)\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/856", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/856/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/856/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/856/events", "html_url": "https://github.com/aws/aws-cli/issues/856", "id": 39097791, "node_id": "MDU6SXNzdWUzOTA5Nzc5MQ==", "number": 856, "title": "Sync/Copy fails completely if even one file is corrupted or cannot be read.", "user": {"login": "ionFish", "id": 2279261, "node_id": "MDQ6VXNlcjIyNzkyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2279261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ionFish", "html_url": "https://github.com/ionFish", "followers_url": "https://api.github.com/users/ionFish/followers", "following_url": "https://api.github.com/users/ionFish/following{/other_user}", "gists_url": "https://api.github.com/users/ionFish/gists{/gist_id}", "starred_url": "https://api.github.com/users/ionFish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ionFish/subscriptions", "organizations_url": "https://api.github.com/users/ionFish/orgs", "repos_url": "https://api.github.com/users/ionFish/repos", "events_url": "https://api.github.com/users/ionFish/events{/privacy}", "received_events_url": "https://api.github.com/users/ionFish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2014-07-30T14:31:24Z", "updated_at": "2014-08-20T22:13:25Z", "closed_at": "2014-08-20T22:13:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Problem:** When one or more files is corrupted (and cannot be read either by the OS itself or of course AWS-CLI), the entire `sync` or `cp` process fails (fatally) with the following error:\n\n`[Error 2] The system cannot find the file specified: u'\\\\\\\\server\\\\path\\\\to\\\\file '`\n\nNote: I have only tested this on Windows. I tried to delete the files manually, and it returned a \"no such file or directory\" error.\n\nNot sure how we would fix that, but `sync` and `cp` should not fail completely if one file is bad; it should make note of the error(s) and carry on.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/856/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/855", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/855/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/855/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/855/events", "html_url": "https://github.com/aws/aws-cli/issues/855", "id": 38954833, "node_id": "MDU6SXNzdWUzODk1NDgzMw==", "number": 855, "title": "Sync/Copy fails completely if even one file's timestamp is \"out of range\".", "user": {"login": "ionFish", "id": 2279261, "node_id": "MDQ6VXNlcjIyNzkyNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/2279261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ionFish", "html_url": "https://github.com/ionFish", "followers_url": "https://api.github.com/users/ionFish/followers", "following_url": "https://api.github.com/users/ionFish/following{/other_user}", "gists_url": "https://api.github.com/users/ionFish/gists{/gist_id}", "starred_url": "https://api.github.com/users/ionFish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ionFish/subscriptions", "organizations_url": "https://api.github.com/users/ionFish/orgs", "repos_url": "https://api.github.com/users/ionFish/repos", "events_url": "https://api.github.com/users/ionFish/events{/privacy}", "received_events_url": "https://api.github.com/users/ionFish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-07-29T03:18:06Z", "updated_at": "2015-12-09T21:14:48Z", "closed_at": "2015-12-09T21:14:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**OVERVIEW:**\nI wrote an application that interfaces with AWS-CLI to perform various operations such as `sync` and `cp` given parameters that are sent to it from the web application. The client-side code is PHP which runs `system()` calls like `aws s3 ...`. **This is from LOCAL --> BUCKET!** (I do not know if Amazon S3 can store invalid-timestamp files, so I cannot test that it would happen the other way around).\n\nI started a backup on a Friday before I left work, and noticed when I got home that it had \"already completed\". This was not possible. I initially suspected that the cause was simply a bad filename, possibly containing strange characters and backticks and spaces and other junk. That turned out not to be the case. It's simply _invalid timestamps_. With over a half-million files to upload, having a backup fail on EACH file (then moving/deleting that file or correcting its timestamp) is NOT a feasible approach.\n\n**ANALYSIS:**\nScanning through the error logs of the failed backup returned something like this:\n\n```\nCompleted 499 part(s) with ... file(s) remaining\nCould not retrieve file stat of \"\\\\SHARE\\path\\to\\bad_file.ttf\": timestamp out of range for platform localtime()/gmtime() function\nCompleted 500 part(s) with ... file(s) remaining\n```\n\nSo obviously the file has a bad timestamp (that particular file is from the year 2045, apparently). Manual review of the file reveals (Windows Explorer) that there is no file modification time even displayed. After some more testing, I uncover the following:\n\n![Image of Explorer timestamp threshold](http://i.imgur.com/FaEvSjY.png)\n\n_Please note, that in MS/DOS (and cmd.exe) the use of `dir` returns valid timestamps all the way from 01/01/1601 to some date after the year 2035 (year 5555 failed also)._\n\nThe tool I used to manually set these values with can be found [here](https://code.google.com/p/stexbar/downloads/list).\n\nSearching online for \"Could not retrieve file stat of : timestamp out of range for platform localtime()/gmtime() function\" yielded a large PDF Python book [here](http://marvin.cs.uidaho.edu/Teaching/CS270/pythonLibrary.pdf). Searching the term \"out of the range\" returns two results, pages 140 and 143 respectively (\"fromtimestamp\" and \"utcfromtimestamp\").\n\nI'm not a Python guru, so I do not know where-from Python grabs the times in Windows (if MS/DOS can do it but not Explorer).\n\nA logical next-step would be to grep for those function calls in the AWS-CLI source, which I downloaded from GitHub on 7/28/2014.\n\n```\n# grep -r \"fromtimestamp\" .\n./tests/unit/customizations/s3/test_utils.py:                f.fromtimestamp.side_effect = ValueError(\n./awscli/customizations/s3/utils.py:        update_time = datetime.fromtimestamp(stats.st_mtime, tzlocal())\n```\n\nAnd as you can see, these are the two offending files.\n\n**PROPOSAL:**\nI suggest that the timestamp is checked that it is in fact in-range, and if it is from PRE-1970 or 1980, simply set it to the lowest valid timestamp possible (according to the PDF book linked above, 1970, but based on my tests, 1980 at the least).\n\nFor files that are newer than \"now\" (when the file is checked by the program), just set the timestamp to the current time.\n\n**REMARKS:**\n1. as a result of a failed transfer _due to an invalid timestamp_, other _unrelated_ errors will occur shortly after, before the entire process dies **without a specific error**. You might see `unable to read from source or disk` types of things.\n2. I will work on a patch tomorrow or tomorrow-evening. **If anyone has any \"better\" idea (than setting the file to the oldest valid timestamp), PLEASE comment accordingly.**\n3. I currently have a semi-working .exe file (easily compiled for Linux; it's in C) that will scan any directory recursively (not sure if it works on network drives yet -- will work on it tomorrow) and checks for valid 32-bit timestamps (though I may have to change that since I believe Windows uses 64-bit timestamps), and prints out bad files by path/name for manual correction.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/855/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/853", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/853/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/853/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/853/events", "html_url": "https://github.com/aws/aws-cli/issues/853", "id": 38768180, "node_id": "MDU6SXNzdWUzODc2ODE4MA==", "number": 853, "title": "Unicode characters cause dynamodb get-item to fail", "user": {"login": "sbressler", "id": 209111, "node_id": "MDQ6VXNlcjIwOTExMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/209111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbressler", "html_url": "https://github.com/sbressler", "followers_url": "https://api.github.com/users/sbressler/followers", "following_url": "https://api.github.com/users/sbressler/following{/other_user}", "gists_url": "https://api.github.com/users/sbressler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbressler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbressler/subscriptions", "organizations_url": "https://api.github.com/users/sbressler/orgs", "repos_url": "https://api.github.com/users/sbressler/repos", "events_url": "https://api.github.com/users/sbressler/events{/privacy}", "received_events_url": "https://api.github.com/users/sbressler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 289140250, "node_id": "MDU6TGFiZWwyODkxNDAyNTA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/unicode", "name": "unicode", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-07-25T20:41:27Z", "updated_at": "2020-09-02T20:41:48Z", "closed_at": "2014-08-08T20:53:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reported on [this resolved issue](https://github.com/aws/aws-cli/issues/593), so opening a new issue.\n\nI'm having the same issue when querying dynamodb for an attribute of an item which has non-ASCII characters:\n\n```\n% aws dynamodb query --table-name <table> --select \"<key>\" --attributes-to-get <attribute> --debug\n...\n2014-07-25 13:20:37,038 - awscli.errorhandler - DEBUG - HTTP Response Code: 400\n2014-07-25 13:20:37,038 - awscli.clidriver - DEBUG - Exception caught in main()\n...\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u2026' in position 1304: ordinal not in range(128)\n2014-07-25 13:20:37,041 - awscli.clidriver - DEBUG - Exiting with rc 255\n\n'ascii' codec can't encode character u'\\u2026' in position 1304: ordinal not in range(128)\n```\n\naws --version: aws-cli/1.3.4 Python/2.7.6 Linux/2.6.18-164.el5\n\nI've also seen it fail on u'\\xbb'. I imagine it would fail on any non-ASCII character.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/853/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/846", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/846/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/846/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/846/events", "html_url": "https://github.com/aws/aws-cli/issues/846", "id": 37880691, "node_id": "MDU6SXNzdWUzNzg4MDY5MQ==", "number": 846, "title": "s3 copy hanging intermittently", "user": {"login": "c42f", "id": 601473, "node_id": "MDQ6VXNlcjYwMTQ3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/601473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c42f", "html_url": "https://github.com/c42f", "followers_url": "https://api.github.com/users/c42f/followers", "following_url": "https://api.github.com/users/c42f/following{/other_user}", "gists_url": "https://api.github.com/users/c42f/gists{/gist_id}", "starred_url": "https://api.github.com/users/c42f/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c42f/subscriptions", "organizations_url": "https://api.github.com/users/c42f/orgs", "repos_url": "https://api.github.com/users/c42f/repos", "events_url": "https://api.github.com/users/c42f/events{/privacy}", "received_events_url": "https://api.github.com/users/c42f/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-07-15T13:09:38Z", "updated_at": "2019-01-04T20:03:18Z", "closed_at": "2014-07-29T19:39:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm seeing aws s3 copies hang intermittently on our automated build server (Atlassian bamboo using an ec2 instance).  Our build system is a parallel make which includes downloading several files from S3.  The failures are intermittent, but usually seem to be occurring on the first of the downloads, so could be related to the initialization of openvpn which is started directly before the build.  (To be quite honest, I'm not at all sure of the reason for using openvpn as part of the build process, but can chase it up if necessary.)\n\nHere's a full log generated with --debug.  To work around the problem I'm currently running the aws s3 cp command using an external timeout of ten minutes (side note - it would be great to have control over the retry logic from the command line).  In this case, you can see that all logging stops after the first couple of seconds.  The process is finally killed ten minutes later when the external timeout kicks in.  It's not yet clear to me that all the failure logs look quite like this one - as noted, the problem has been intermittent.\n\n```\nERROR: Command \"/usr/bin/timeout -s SIGKILL 600 /usr/bin/aws s3 cp --debug s3://roames-software/classifiers/SVM_segment_model-1.mat /home/bamboo/bamboo-agent-home/xml-data/build-dir/DP-DNC-JOB1/dataprep_build/DataProcessing/PoleDetection/src/SVM_segment_model-1.mat\" failed.  Log file ------------------\n2014-07-14 17:04:56,223 - awscli.clidriver - DEBUG - CLI version: aws-cli/1.3.9 Python/2.6.9 Linux/3.10.40-50.136.amzn1.x86_64, botocore version: 0.43.0\n2014-07-14 17:04:56,227 - botocore.service - DEBUG - Creating service object for: s3\n2014-07-14 17:04:56,270 - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x1c7ce60>\n2014-07-14 17:04:56,271 - botocore.hooks - DEBUG - Event service-created: calling handler <function register_retries_for_service at 0x1c4d9b0>\n2014-07-14 17:04:56,271 - botocore.handlers - DEBUG - Registering retry handlers for service: Service(s3)\n2014-07-14 17:04:56,272 - botocore.hooks - DEBUG - Event creating-endpoint.s3: calling handler <function maybe_switch_to_s3sigv4 at 0x1c7cd70>\n2014-07-14 17:04:56,272 - botocore.credentials - INFO - Found credentials in Environment variables.\n2014-07-14 17:04:56,278 - botocore.service - DEBUG - Creating operation objects for: Service(s3)\n2014-07-14 17:04:56,284 - botocore.operation - DEBUG - Operation:HeadObject called with kwargs: {'bucket': u'roames-software', 'key': u'classifiers/SVM_segment_model-1.mat'}\n2014-07-14 17:04:56,284 - botocore.operation - DEBUG - Creating parameter objects for: Operation:HeadObject\n2014-07-14 17:04:56,285 - botocore.endpoint - DEBUG - Making request for Operation:HeadObject (verify_ssl=True) with params: {'headers': {}, 'uri_params': {'Bucket': u'roames-software', 'Key': u'classifiers/SVM_segment_model-1.mat'}, 'payload': <botocore.payload.XMLPayload object at 0x2526b10>}\n2014-07-14 17:04:56,286 - botocore.endpoint - DEBUG - Building URI for rest endpoint.\n2014-07-14 17:04:56,286 - botocore.endpoint - DEBUG - Templated URI path: /{Bucket}/{Key}\n2014-07-14 17:04:56,286 - botocore.endpoint - DEBUG - Templated URI query_params: versionId={VersionId}\n2014-07-14 17:04:56,287 - botocore.endpoint - DEBUG - Rendered path: /roames-software/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:56,287 - botocore.endpoint - DEBUG - Rendered query_params: \n2014-07-14 17:04:56,287 - botocore.hooks - DEBUG - Event before-auth.s3: calling handler <function fix_s3_host at 0x1c4d398>\n2014-07-14 17:04:56,287 - botocore.handlers - DEBUG - Checking for DNS compatible bucket for: https://s3-ap-southeast-2.amazonaws.com/roames-software/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:56,288 - botocore.handlers - DEBUG - URI updated to: https://roames-software.s3.amazonaws.com/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:56,288 - botocore.auth - DEBUG - Calculating signature using hmacv1 auth.\n2014-07-14 17:04:56,288 - botocore.auth - DEBUG - HTTP request method: HEAD\n2014-07-14 17:04:56,288 - botocore.auth - DEBUG - StringToSign:\nHEAD\n\n\nMon, 14 Jul 2014 07:04:56 GMT\n/roames-software/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:56,300 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [HEAD]>\n2014-07-14 17:04:56,302 - botocore.vendored.requests.packages.urllib3.connectionpool - INFO - Starting new HTTPS connection (1): roames-software.s3.amazonaws.com\n2014-07-14 17:04:57,381 - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"HEAD /classifiers/SVM_segment_model-1.mat HTTP/1.1\" 200 0\n2014-07-14 17:04:57,382 - botocore.response - DEBUG - Response Headers:\ncontent-length: 1436637\nx-amz-id-2: 0mQSpW6YT0IR7q5kgo6zSxbPKtABxcTdB0JWrpZwkeNGuVZtl4ShfP1sjx20Pjen\naccept-ranges: bytes\nserver: AmazonS3\nlast-modified: Tue, 18 Feb 2014 23:42:59 GMT\nx-amz-request-id: 35D082A9BB76B8EF\netag: \"a1cc0c63a23d8d280e1070375fe9d502\"\ndate: Mon, 14 Jul 2014 07:04:58 GMT\ncontent-type: binary/octet-stream\n2014-07-14 17:04:57,382 - botocore.response - DEBUG - Response Body:\n\n2014-07-14 17:04:57,382 - botocore.hooks - DEBUG - Event needs-retry.s3.HeadObject: calling handler <botocore.retryhandler.RetryHandler object at 0x251f190>\n2014-07-14 17:04:57,383 - botocore.retryhandler - DEBUG - No retry needed.\n2014-07-14 17:04:57,383 - botocore.hooks - DEBUG - Event after-call.s3.HeadObject: calling handler <awscli.errorhandler.ErrorHandler object at 0x2308210>\n2014-07-14 17:04:57,383 - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n2014-07-14 17:04:57,385 - botocore.service - DEBUG - Creating service object for: s3\n2014-07-14 17:04:57,385 - botocore.hooks - DEBUG - Event service-data-loaded.s3: calling handler <function signature_overrides at 0x1c7ce60>\n2014-07-14 17:04:57,385 - botocore.hooks - DEBUG - Event service-created: calling handler <function register_retries_for_service at 0x1c4d9b0>\n2014-07-14 17:04:57,385 - botocore.handlers - DEBUG - Registering retry handlers for service: Service(s3)\n2014-07-14 17:04:57,386 - awscli.customizations.s3.executor - DEBUG - Submitting task: <awscli.customizations.s3.tasks.BasicTask object at 0x230da90>\n2014-07-14 17:04:57,386 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,386 - awscli.customizations.s3.executor - DEBUG - Worker thread invoking task: <awscli.customizations.s3.tasks.BasicTask object at 0x230da90>\n2014-07-14 17:04:57,387 - botocore.operation - DEBUG - Operation:GetObject called with kwargs: {'bucket': u'roames-software', 'key': u'classifiers/SVM_segment_model-1.mat'}\n2014-07-14 17:04:57,387 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,387 - botocore.operation - DEBUG - Creating parameter objects for: Operation:GetObject\n2014-07-14 17:04:57,389 - botocore.endpoint - DEBUG - Making request for Operation:GetObject (verify_ssl=True) with params: {'headers': {}, 'uri_params': {'Bucket': u'roames-software', 'Key': u'classifiers/SVM_segment_model-1.mat'}, 'payload': <botocore.payload.XMLPayload object at 0x2526ed0>}\n2014-07-14 17:04:57,389 - botocore.endpoint - DEBUG - Building URI for rest endpoint.\n2014-07-14 17:04:57,389 - botocore.endpoint - DEBUG - Templated URI path: /{Bucket}/{Key}\n2014-07-14 17:04:57,390 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,390 - botocore.endpoint - DEBUG - Templated URI query_params: versionId={VersionId}&response-content-type={ResponseContentType}&response-content-language={ResponseContentLanguage}&response-expires={ResponseExpires}&response-cache-control={ResponseCacheControl}&response-content-disposition={ResponseContentDisposition}&response-content-encoding={ResponseContentEncoding}\n2014-07-14 17:04:57,390 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,390 - botocore.endpoint - DEBUG - Rendered path: /roames-software/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:57,391 - botocore.endpoint - DEBUG - Rendered query_params: \n2014-07-14 17:04:57,391 - botocore.hooks - DEBUG - Event before-auth.s3: calling handler <function fix_s3_host at 0x1c4d398>\n2014-07-14 17:04:57,391 - botocore.handlers - DEBUG - Checking for DNS compatible bucket for: https://s3-ap-southeast-2.amazonaws.com/roames-software/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:57,391 - botocore.handlers - DEBUG - URI updated to: https://roames-software.s3.amazonaws.com/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:57,392 - botocore.auth - DEBUG - Calculating signature using hmacv1 auth.\n2014-07-14 17:04:57,392 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,392 - botocore.auth - DEBUG - HTTP request method: GET\n2014-07-14 17:04:57,392 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,393 - botocore.auth - DEBUG - StringToSign:\nGET\n\n\nMon, 14 Jul 2014 07:04:57 GMT\n/roames-software/classifiers/SVM_segment_model-1.mat\n2014-07-14 17:04:57,393 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,393 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,394 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [GET]>\n2014-07-14 17:04:57,393 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,395 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,396 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,396 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,397 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,397 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,397 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,398 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,398 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,398 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 11)\n2014-07-14 17:04:57,398 - awscli.customizations.s3.executor - DEBUG - Shutdown request received in worker thread, shutting down worker thread.\n2014-07-14 17:04:57,399 - awscli.customizations.s3.executor - DEBUG - Waiting for thread to shutdown: <Worker(Thread-3, started daemon 140015767828224)>\n2014-07-14 17:04:57,791 - botocore.vendored.requests.packages.urllib3.connectionpool - DEBUG - \"GET /classifiers/SVM_segment_model-1.mat HTTP/1.1\" 200 1436637\n2014-07-14 17:04:57,792 - botocore.response - DEBUG - Response Headers:\ncontent-length: 1436637\nx-amz-id-2: ODXn/6wvdy/XwQd40GUH80l9soIijX5uWoBggCTSaSeKI0cqcMUKdX+w1mvMA7ED\naccept-ranges: bytes\nserver: AmazonS3\nlast-modified: Tue, 18 Feb 2014 23:42:59 GMT\nx-amz-request-id: AE7B98A53E333705\netag: \"a1cc0c63a23d8d280e1070375fe9d502\"\ndate: Mon, 14 Jul 2014 07:04:58 GMT\ncontent-type: binary/octet-stream\n2014-07-14 17:04:57,793 - botocore.hooks - DEBUG - Event needs-retry.s3.GetObject: calling handler <botocore.retryhandler.RetryHandler object at 0x251f190>\n2014-07-14 17:04:57,793 - botocore.retryhandler - DEBUG - No retry needed.\n2014-07-14 17:04:57,793 - botocore.hooks - DEBUG - Event after-call.s3.GetObject: calling handler <awscli.errorhandler.ErrorHandler object at 0x2308210>\n2014-07-14 17:04:57,793 - awscli.errorhandler - DEBUG - HTTP Response Code: 200\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/846/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/838", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/838/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/838/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/838/events", "html_url": "https://github.com/aws/aws-cli/issues/838", "id": 37230828, "node_id": "MDU6SXNzdWUzNzIzMDgyOA==", "number": 838, "title": "aws cloudformation - Error Message if IAM::Group Policy given string is Unclear", "user": {"login": "colinbjohnson", "id": 1594843, "node_id": "MDQ6VXNlcjE1OTQ4NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1594843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colinbjohnson", "html_url": "https://github.com/colinbjohnson", "followers_url": "https://api.github.com/users/colinbjohnson/followers", "following_url": "https://api.github.com/users/colinbjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/colinbjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/colinbjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colinbjohnson/subscriptions", "organizations_url": "https://api.github.com/users/colinbjohnson/orgs", "repos_url": "https://api.github.com/users/colinbjohnson/repos", "events_url": "https://api.github.com/users/colinbjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/colinbjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-07-06T23:30:56Z", "updated_at": "2015-10-21T21:58:36Z", "closed_at": "2015-10-21T21:58:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Description of Issue\n\nIn CloudFormation, if passing a string to the policy property of a IAM::Group resource the following error is given: `list index out of range`.\n### Steps to Reproduce\n\nUsing `aws cloudformation` provide a template file that contains the following:\n`\"GroupDevelopers\" : {\n  \"Type\": \"AWS::IAM::Group\",\n  \"Properties\": {\n    \"Policies\": {\"Ref\": \"PolicyDevelopers\"}\n    }\n }`\n### Run\n\n`aws cloudformation create-stack --stack-name Test --parameters --template-body file://test.template`\n### Result\n\n`aws cloudformation create-stack --stack-name Test --parameters --template-body file://test.template`\n`list index out of range`\n### Expected Result\n\nA more descriptive error message.\n### Documentation Detailing only Lists Expected\n\nhttp://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iam-group.html\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/838/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/831", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/831/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/831/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/831/events", "html_url": "https://github.com/aws/aws-cli/issues/831", "id": 36849939, "node_id": "MDU6SXNzdWUzNjg0OTkzOQ==", "number": 831, "title": "Should not be able to mv a remote file onto itself", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-30T23:39:46Z", "updated_at": "2020-10-09T02:49:57Z", "closed_at": "2014-07-07T17:51:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The current s3 mv command is essentially a `cp(src, dst) && rm(src)`.  Normally, if you aren't changing the object's metadata, storage class, website config, or encryption attrs you can't copy and object onto itself.  However, a multipart copy of an object onto itself will work, which happens if the object is over our multipart threshold size, which means that we will also delete the src file which is not what we want.\n\nSo we should be adding validation to ensure that we aren't trying to `mv` a file onto itself.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/831/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/830", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/830/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/830/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/830/events", "html_url": "https://github.com/aws/aws-cli/pull/830", "id": 36837149, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc3OTcwNTM=", "number": 830, "title": "Fix single item shorthand list parsing bug", "user": {"login": "danielgtaylor", "id": 106826, "node_id": "MDQ6VXNlcjEwNjgyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/106826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielgtaylor", "html_url": "https://github.com/danielgtaylor", "followers_url": "https://api.github.com/users/danielgtaylor/followers", "following_url": "https://api.github.com/users/danielgtaylor/following{/other_user}", "gists_url": "https://api.github.com/users/danielgtaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielgtaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielgtaylor/subscriptions", "organizations_url": "https://api.github.com/users/danielgtaylor/orgs", "repos_url": "https://api.github.com/users/danielgtaylor/repos", "events_url": "https://api.github.com/users/danielgtaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/danielgtaylor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-30T20:47:52Z", "updated_at": "2014-06-30T21:24:39Z", "closed_at": "2014-06-30T21:24:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/aws/aws-cli/pulls/830", "html_url": "https://github.com/aws/aws-cli/pull/830", "diff_url": "https://github.com/aws/aws-cli/pull/830.diff", "patch_url": "https://github.com/aws/aws-cli/pull/830.patch", "merged_at": "2014-06-30T21:24:37Z"}, "body": "This fixes a bug where shorthand lists made with `[` and `]` containing only\na single item would not be parsed correctly. The `_eat_items` utility function\ndid not take into account the fact that the list end character could be in the\nfirst item. I've added a conditional to check for this case and not call\nthe `_eat_items` method, because the current behavior is expected for some\ninputs that use `_eat_items`.\n\ncc @jamesls\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/830/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/827", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/827/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/827/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/827/events", "html_url": "https://github.com/aws/aws-cli/issues/827", "id": 36584985, "node_id": "MDU6SXNzdWUzNjU4NDk4NQ==", "number": 827, "title": "Error in Large Upload File Transfer: The difference between the request time and the current time is too large.", "user": {"login": "oirad03", "id": 3780377, "node_id": "MDQ6VXNlcjM3ODAzNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3780377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oirad03", "html_url": "https://github.com/oirad03", "followers_url": "https://api.github.com/users/oirad03/followers", "following_url": "https://api.github.com/users/oirad03/following{/other_user}", "gists_url": "https://api.github.com/users/oirad03/gists{/gist_id}", "starred_url": "https://api.github.com/users/oirad03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oirad03/subscriptions", "organizations_url": "https://api.github.com/users/oirad03/orgs", "repos_url": "https://api.github.com/users/oirad03/repos", "events_url": "https://api.github.com/users/oirad03/events{/privacy}", "received_events_url": "https://api.github.com/users/oirad03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-06-26T15:11:03Z", "updated_at": "2014-10-24T19:58:53Z", "closed_at": "2014-10-24T19:58:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Noticing an issue with a customer I am supporting.\nThey are using aws-cli/1.3.18 Python/2.7.6 Linux/3.13.0-24-generic, botocore version: 0.52.0\nThere seems to be an issue with times on the box comparaed to S3???, \nbut they have run ntp on their ubuntu instance, and are still seeing the issue.  The issue seems to be intermittent, but seems to consistently not be able transfer a 100GB file.  \nThey are uploading to a bucket in us-west2\nI have provided an S3 link to the Log file for download (70MB)\nhttp://tinyurl.com/llevbvh\n\nAny help you can provide is greatly appreciated.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/827/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/827/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/820", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/820/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/820/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/820/events", "html_url": "https://github.com/aws/aws-cli/issues/820", "id": 36100585, "node_id": "MDU6SXNzdWUzNjEwMDU4NQ==", "number": 820, "title": "Errors not written to stderr", "user": {"login": "colinbjohnson", "id": 1594843, "node_id": "MDQ6VXNlcjE1OTQ4NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1594843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colinbjohnson", "html_url": "https://github.com/colinbjohnson", "followers_url": "https://api.github.com/users/colinbjohnson/followers", "following_url": "https://api.github.com/users/colinbjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/colinbjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/colinbjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colinbjohnson/subscriptions", "organizations_url": "https://api.github.com/users/colinbjohnson/orgs", "repos_url": "https://api.github.com/users/colinbjohnson/repos", "events_url": "https://api.github.com/users/colinbjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/colinbjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-19T17:39:51Z", "updated_at": "2015-10-15T15:35:44Z", "closed_at": "2014-09-25T00:51:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Description of Issue\n\nerrors that prevent file copy operations when running aws s3 commands are written to stdout\n### Steps to Reproduce\n\ntested with both invalid s3 credentials and with destination files that could not be written to)\n1. Modify credentials to be invalid (example: export `AWS_ACCESS_KEY=xxxxxxxxxxxxxxxxxxx`)\n2. Run command, with output piped to stdout, example: aws s3 sync `s3://mybucket/myobjects/ /Temp > /dev/null`\n### Expected Output\n\n`(venv)hostname:Temp username$ aws s3 sync aws s3 sync s3://mybucket/myobjects/ /Temp > /dev/null\nA client error (InvalidAccessKeyId) occurred when calling the ListObjects operation: The AWS Access Key Id you provided does not exist in our records.\nCompleted 1 part(s) with ... file(s) remaining`\n### Actual Output\n\n`(venv)hostname:Temp username$ aws s3 sync aws s3 sync s3://mybucket/myobjects/ /Temp > /dev/null`\n\nThe same behavior occurs when running in --quiet mode - although the expectation with quiet mode might be that both stdout and stderr are suppressed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/815", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/815/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/815/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/815/events", "html_url": "https://github.com/aws/aws-cli/issues/815", "id": 35807899, "node_id": "MDU6SXNzdWUzNTgwNzg5OQ==", "number": 815, "title": "s3api --sse-customer-key cannot accept binary data", "user": {"login": "quiver", "id": 266641, "node_id": "MDQ6VXNlcjI2NjY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/266641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quiver", "html_url": "https://github.com/quiver", "followers_url": "https://api.github.com/users/quiver/followers", "following_url": "https://api.github.com/users/quiver/following{/other_user}", "gists_url": "https://api.github.com/users/quiver/gists{/gist_id}", "starred_url": "https://api.github.com/users/quiver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quiver/subscriptions", "organizations_url": "https://api.github.com/users/quiver/orgs", "repos_url": "https://api.github.com/users/quiver/repos", "events_url": "https://api.github.com/users/quiver/events{/privacy}", "received_events_url": "https://api.github.com/users/quiver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2014-06-16T15:35:59Z", "updated_at": "2014-11-20T02:06:10Z", "closed_at": "2014-11-20T02:06:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This report is a feature related to the following :\nhttp://aws.amazon.com/about-aws/whats-new/2014/06/12/amazon-s3-now-supports-server-side-encryption-with-customer-provided-keys-sse-c/\n\nWhen you manipulate S3 through SSE with Customer-provided Keys, aws cli's  `sse-customer-key parameter`  can only accept utf-8 encodable data.\n\nFor AES-256, you need 256 bit key. When you generate a key  using `/dev/urandom` (as described here http://docs.oracle.com/cd/E19253-01/816-4557/scftask-10/index.html), you end up with `UnicodeDecodeError`.\n\nMy understanding is that AES's key can consist of arbitrary bytes as long as its key length is correct( and that's why `x-amz-copy-source\u200b-server-side\u200b-encryption\u200b-customer-key` request header is base-64 encoded)\n\nHow to reproduce\n\n```\n$ dd if=/dev/urandom bs=1 count=32 > sse_c.key\n32+0 records in\n32+0 records out\n32 bytes (32 B) copied, 0.000150536 s, 213 kB/s\n$ touch foo.txt\n$ aws s3api put-object --bucket my-bucket-name --key foo.txt --body foo.txt --sse-customer-algorithm AES256 --sse-customer-key file://sse_c.key\n\n'utf8' codec can't decode byte 0xe7 in position 0: invalid continuation byte\n```\n\nAWS Version\n\n```\n$ aws --version\naws-cli/1.3.17 Python/2.7.3 Linux/3.2.0-23-generic\n```\n\nRelated Issues\n- #814 \n- #765 \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/814", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/814/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/814/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/814/events", "html_url": "https://github.com/aws/aws-cli/issues/814", "id": 35795895, "node_id": "MDU6SXNzdWUzNTc5NTg5NQ==", "number": 814, "title": "--user-data is broken if file contains non-utf-8 characters", "user": {"login": "guss77", "id": 381782, "node_id": "MDQ6VXNlcjM4MTc4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/381782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guss77", "html_url": "https://github.com/guss77", "followers_url": "https://api.github.com/users/guss77/followers", "following_url": "https://api.github.com/users/guss77/following{/other_user}", "gists_url": "https://api.github.com/users/guss77/gists{/gist_id}", "starred_url": "https://api.github.com/users/guss77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guss77/subscriptions", "organizations_url": "https://api.github.com/users/guss77/orgs", "repos_url": "https://api.github.com/users/guss77/repos", "events_url": "https://api.github.com/users/guss77/events{/privacy}", "received_events_url": "https://api.github.com/users/guss77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-06-16T13:29:42Z", "updated_at": "2014-11-20T02:03:24Z", "closed_at": "2014-11-20T02:03:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Basically the same as issue #765 - after the fix, the file apparently can take UTF-8 encoded text files, but if I try to use a GZIP compressed file (because user-data is limited to 16KB, and compressing the data to workaround the limit is a valid practice and works great with the old Java based tools), then I get the following error:\n\n```\n'utf8' codec can't decode byte 0x8b in position 1: invalid start byte\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/811", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/811/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/811/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/811/events", "html_url": "https://github.com/aws/aws-cli/issues/811", "id": 35740155, "node_id": "MDU6SXNzdWUzNTc0MDE1NQ==", "number": 811, "title": "Critical problems with versions > 1.3.12 on Mac OS X", "user": {"login": "asieira", "id": 3287067, "node_id": "MDQ6VXNlcjMyODcwNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/3287067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asieira", "html_url": "https://github.com/asieira", "followers_url": "https://api.github.com/users/asieira/followers", "following_url": "https://api.github.com/users/asieira/following{/other_user}", "gists_url": "https://api.github.com/users/asieira/gists{/gist_id}", "starred_url": "https://api.github.com/users/asieira/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asieira/subscriptions", "organizations_url": "https://api.github.com/users/asieira/orgs", "repos_url": "https://api.github.com/users/asieira/repos", "events_url": "https://api.github.com/users/asieira/events{/privacy}", "received_events_url": "https://api.github.com/users/asieira/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2014-06-15T01:16:57Z", "updated_at": "2014-06-16T22:03:33Z", "closed_at": "2014-06-16T22:03:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm running into a rather strange problem here. Everything works fine with aws-cli 1.3.12, but if I upgrade to any of the more recent versions every time I issue a command this is all that happens:\n\n```\n| => pip install awscli==1.3.17\n(...)\n| => aws s3 ls s3://<some bucket>/<some path>/\n\n'aws_secret_access_key'\n| => pip install awscli==1.3.12\n(...)\n| => aws s3 ls s3://<some bucket>/<some path>/\n                           PRE somedir/\n                           PRE somedir2/\n2014-04-29 01:49:57     657288 somefile.ext\n2014-04-29 01:51:23     130047 otherfile.ext\n```\n\nI have both the environment variables and the ~/.aws/config set correctly, by the way.\n\nAny idea what is going on here? 1.3.12 is a fine version, but I'd rather not to be stuck with it until the end of time. :)\n\nIf this helps, I'm running Mac OS X 10.9.3 and Python 2.7.7 (Homebrew).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/803", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/803/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/803/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/803/events", "html_url": "https://github.com/aws/aws-cli/issues/803", "id": 35001423, "node_id": "MDU6SXNzdWUzNTAwMTQyMw==", "number": 803, "title": "aws ec2 modify-volume-attribute error", "user": {"login": "nrdlngr", "id": 6174642, "node_id": "MDQ6VXNlcjYxNzQ2NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/6174642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrdlngr", "html_url": "https://github.com/nrdlngr", "followers_url": "https://api.github.com/users/nrdlngr/followers", "following_url": "https://api.github.com/users/nrdlngr/following{/other_user}", "gists_url": "https://api.github.com/users/nrdlngr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrdlngr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrdlngr/subscriptions", "organizations_url": "https://api.github.com/users/nrdlngr/orgs", "repos_url": "https://api.github.com/users/nrdlngr/repos", "events_url": "https://api.github.com/users/nrdlngr/events{/privacy}", "received_events_url": "https://api.github.com/users/nrdlngr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-06-04T20:46:36Z", "updated_at": "2014-06-10T21:51:29Z", "closed_at": "2014-06-10T21:51:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "The \"aws ec2 modify-volume-attribute\" command sends a parameter \u201cAutoEnableIO=true|false\u201d instead of \u201cAutoEnableIO.Value=true|false\u201d like it should, so the command returns:\n\nericn:~ $ aws --region us-east-1 ec2 modify-volume-attribute --volume-id vol-050e9573 --auto-enable-io\nA client error (InvalidRequest) occurred when calling the ModifyVolumeAttribute operation: The request received was invalid. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/803/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/794", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/794/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/794/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/794/events", "html_url": "https://github.com/aws/aws-cli/issues/794", "id": 34529948, "node_id": "MDU6SXNzdWUzNDUyOTk0OA==", "number": 794, "title": "aws s3 sync used in conjunction with filters somtimes re-downloads unmodified file", "user": {"login": "rahul-amaram-vizury", "id": 7259902, "node_id": "MDQ6VXNlcjcyNTk5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7259902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rahul-amaram-vizury", "html_url": "https://github.com/rahul-amaram-vizury", "followers_url": "https://api.github.com/users/rahul-amaram-vizury/followers", "following_url": "https://api.github.com/users/rahul-amaram-vizury/following{/other_user}", "gists_url": "https://api.github.com/users/rahul-amaram-vizury/gists{/gist_id}", "starred_url": "https://api.github.com/users/rahul-amaram-vizury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rahul-amaram-vizury/subscriptions", "organizations_url": "https://api.github.com/users/rahul-amaram-vizury/orgs", "repos_url": "https://api.github.com/users/rahul-amaram-vizury/repos", "events_url": "https://api.github.com/users/rahul-amaram-vizury/events{/privacy}", "received_events_url": "https://api.github.com/users/rahul-amaram-vizury/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kyleknap", "id": 4605355, "node_id": "MDQ6VXNlcjQ2MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/4605355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleknap", "html_url": "https://github.com/kyleknap", "followers_url": "https://api.github.com/users/kyleknap/followers", "following_url": "https://api.github.com/users/kyleknap/following{/other_user}", "gists_url": "https://api.github.com/users/kyleknap/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleknap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleknap/subscriptions", "organizations_url": "https://api.github.com/users/kyleknap/orgs", "repos_url": "https://api.github.com/users/kyleknap/repos", "events_url": "https://api.github.com/users/kyleknap/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleknap/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-05-29T05:34:06Z", "updated_at": "2014-11-10T22:39:17Z", "closed_at": "2014-11-10T22:39:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "aws s3 sync s3://test-bucket/rahul-dev/archive/ /tmp/archive/ --exclude '*' --include rahul-dev/archive/Application.jar --debug 2>&1 | grep comparator\n\nSo, what I am trying to do is to sync s3://test-bucket/rahul-dev/archive/Application.jar to destination folder only if it has changed. But everytime I run this, it re-downloads with the debug statement file does not exist in destination. Is there any fix for this? Is there a better way for identifying changed files from s3 and then only downloading them?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/794/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/782", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/782/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/782/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/782/events", "html_url": "https://github.com/aws/aws-cli/issues/782", "id": 33740588, "node_id": "MDU6SXNzdWUzMzc0MDU4OA==", "number": 782, "title": "aws s3 fails in it encounters a socket file and program hangs", "user": {"login": "woodnt", "id": 7608392, "node_id": "MDQ6VXNlcjc2MDgzOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/7608392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodnt", "html_url": "https://github.com/woodnt", "followers_url": "https://api.github.com/users/woodnt/followers", "following_url": "https://api.github.com/users/woodnt/following{/other_user}", "gists_url": "https://api.github.com/users/woodnt/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodnt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodnt/subscriptions", "organizations_url": "https://api.github.com/users/woodnt/orgs", "repos_url": "https://api.github.com/users/woodnt/repos", "events_url": "https://api.github.com/users/woodnt/events{/privacy}", "received_events_url": "https://api.github.com/users/woodnt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-05-17T22:00:11Z", "updated_at": "2014-08-20T22:15:30Z", "closed_at": "2014-08-20T22:15:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "aws s3 sync fails if it encounters a socket file as in:\n\n```\n# aws s3 cp /home/beth/.config/chromium/SingletonSocket s3://HIDDEN/home/beth/.config/chromium/\nupload failed: ../home/beth/.config/chromium/SingletonSocket to s3://HIDDEN/home/beth/.config/chromium/SingletonSocket [Errno 6] No such device or address: u'/home/beth/.config/chromium/SingletonSocket'\n```\n\nThe expected behavior is to deal with it, skip it, or fail (preferably not the last as it makes s3 ineffective as a backup solution).\n\nI would recommend that aws s3 as it is dealing with files only work with directory and regular files (with link dereferencing as an option). I fear it will fail on other file types, too, like pipes, block files, and character device files. These should all be handle gracefully.\n\nIt should also not completely hang the program. Double Ctrl-C fails to cancel it (clean up). One must find the process number and kill it.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/782/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/781", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/781/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/781/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/781/events", "html_url": "https://github.com/aws/aws-cli/issues/781", "id": 33722464, "node_id": "MDU6SXNzdWUzMzcyMjQ2NA==", "number": 781, "title": "aws s3 fails if non-existent soft link", "user": {"login": "woodnt", "id": 7608392, "node_id": "MDQ6VXNlcjc2MDgzOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/7608392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodnt", "html_url": "https://github.com/woodnt", "followers_url": "https://api.github.com/users/woodnt/followers", "following_url": "https://api.github.com/users/woodnt/following{/other_user}", "gists_url": "https://api.github.com/users/woodnt/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodnt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodnt/subscriptions", "organizations_url": "https://api.github.com/users/woodnt/orgs", "repos_url": "https://api.github.com/users/woodnt/repos", "events_url": "https://api.github.com/users/woodnt/events{/privacy}", "received_events_url": "https://api.github.com/users/woodnt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-05-17T03:31:02Z", "updated_at": "2014-08-01T17:17:27Z", "closed_at": "2014-08-01T17:17:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\naws s3 fails if there is a symlink to a non-existent file. The expected behavior is to simply skip the file, but it results in complete failure of the script.\n\nHere is an output example:\n\n```\n# aws s3 sync /root/ s3://HIDDEN/root/ --exclude \"/root/bin/*\" 2> /tmp/errors\n[Errno 2] No such file or directory: '/root/hello' \nCompleted 1 part(s) with ... file(s) remaining\n```\n\nRegards,\nNathan\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/781/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/765", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/765/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/765/events", "html_url": "https://github.com/aws/aws-cli/issues/765", "id": 32859159, "node_id": "MDU6SXNzdWUzMjg1OTE1OQ==", "number": 765, "title": "--user-data is broken if file contains non-7-bit characters", "user": {"login": "cperciva", "id": 5085436, "node_id": "MDQ6VXNlcjUwODU0MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/5085436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cperciva", "html_url": "https://github.com/cperciva", "followers_url": "https://api.github.com/users/cperciva/followers", "following_url": "https://api.github.com/users/cperciva/following{/other_user}", "gists_url": "https://api.github.com/users/cperciva/gists{/gist_id}", "starred_url": "https://api.github.com/users/cperciva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cperciva/subscriptions", "organizations_url": "https://api.github.com/users/cperciva/orgs", "repos_url": "https://api.github.com/users/cperciva/repos", "events_url": "https://api.github.com/users/cperciva/events{/privacy}", "received_events_url": "https://api.github.com/users/cperciva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2014-05-06T01:03:11Z", "updated_at": "2014-08-21T05:35:13Z", "closed_at": "2014-05-15T00:26:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error message is \"'ascii' codec can't decode byte 0x## in position #: ordinal not in range(128)\" where the ## and # match the file.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/751", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/751/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/751/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/751/events", "html_url": "https://github.com/aws/aws-cli/issues/751", "id": 31207461, "node_id": "MDU6SXNzdWUzMTIwNzQ2MQ==", "number": 751, "title": "Text output is inconsistent based on order", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-04-10T00:55:05Z", "updated_at": "2014-04-22T20:05:12Z", "closed_at": "2014-04-17T18:29:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://forums.aws.amazon.com/thread.jspa?messageID=534743&#534743\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/751/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/749", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/749/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/749/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/749/events", "html_url": "https://github.com/aws/aws-cli/issues/749", "id": 31119243, "node_id": "MDU6SXNzdWUzMTExOTI0Mw==", "number": 749, "title": "s3 sync from local to s3 bucket re-uploads files with version 1.3.6", "user": {"login": "irfan-syed", "id": 7068094, "node_id": "MDQ6VXNlcjcwNjgwOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7068094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/irfan-syed", "html_url": "https://github.com/irfan-syed", "followers_url": "https://api.github.com/users/irfan-syed/followers", "following_url": "https://api.github.com/users/irfan-syed/following{/other_user}", "gists_url": "https://api.github.com/users/irfan-syed/gists{/gist_id}", "starred_url": "https://api.github.com/users/irfan-syed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/irfan-syed/subscriptions", "organizations_url": "https://api.github.com/users/irfan-syed/orgs", "repos_url": "https://api.github.com/users/irfan-syed/repos", "events_url": "https://api.github.com/users/irfan-syed/events{/privacy}", "received_events_url": "https://api.github.com/users/irfan-syed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2014-04-08T23:45:45Z", "updated_at": "2014-04-28T19:59:32Z", "closed_at": "2014-04-18T18:08:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is probably related to #718 but it is still happening on my OSX Mavericks with Python 2.7. I sync local files to S3 using \"aws s3 sync\" but some files always want to re-upload. I did a debug and comparator thinks that \"file does not exist at destination\".\n\nI even removed all scripts and python packages for awscli, botocore and jmespath, and then reinstalled latest 1.3.6 but no luck. I use awscli for s3 sync since version 1.0 without any issues and have only started to experiences such issues starting with 1.3.2.\n\nAppreciate if you could look into it. Let me know if additional information was needed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/749/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/748", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/748/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/748/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/748/events", "html_url": "https://github.com/aws/aws-cli/issues/748", "id": 31072544, "node_id": "MDU6SXNzdWUzMTA3MjU0NA==", "number": 748, "title": "aws s3 sync does not ignore storage-class of glacier by default", "user": {"login": "e0d", "id": 1270274, "node_id": "MDQ6VXNlcjEyNzAyNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1270274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e0d", "html_url": "https://github.com/e0d", "followers_url": "https://api.github.com/users/e0d/followers", "following_url": "https://api.github.com/users/e0d/following{/other_user}", "gists_url": "https://api.github.com/users/e0d/gists{/gist_id}", "starred_url": "https://api.github.com/users/e0d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e0d/subscriptions", "organizations_url": "https://api.github.com/users/e0d/orgs", "repos_url": "https://api.github.com/users/e0d/repos", "events_url": "https://api.github.com/users/e0d/events{/privacy}", "received_events_url": "https://api.github.com/users/e0d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 81772671, "node_id": "MDU6TGFiZWw4MTc3MjY3MQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2014-04-08T14:00:33Z", "updated_at": "2015-11-04T18:55:38Z", "closed_at": "2015-11-04T18:55:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "With:\n\nawscli==1.3.6\nbotocore==0.40.0\n\nWhile the default param for aws sync for storage-class is documented as STANDARD, files with storage-class of GLACIER are matched when the file list is generated, but throw errors when download is attempted.\n\n```\nA client error (InvalidObjectState) occurred when calling the GetObject operation: The operation is not valid for the object's storage class\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/748/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/742", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/742/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/742/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/742/events", "html_url": "https://github.com/aws/aws-cli/issues/742", "id": 30852382, "node_id": "MDU6SXNzdWUzMDg1MjM4Mg==", "number": 742, "title": "encoding \u00d6 (O-Umlaut) error in command 'aws ec2 describe-instances' when redirecting to a file", "user": {"login": "fietske", "id": 877423, "node_id": "MDQ6VXNlcjg3NzQyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/877423?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fietske", "html_url": "https://github.com/fietske", "followers_url": "https://api.github.com/users/fietske/followers", "following_url": "https://api.github.com/users/fietske/following{/other_user}", "gists_url": "https://api.github.com/users/fietske/gists{/gist_id}", "starred_url": "https://api.github.com/users/fietske/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fietske/subscriptions", "organizations_url": "https://api.github.com/users/fietske/orgs", "repos_url": "https://api.github.com/users/fietske/repos", "events_url": "https://api.github.com/users/fietske/events{/privacy}", "received_events_url": "https://api.github.com/users/fietske/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2014-04-04T11:23:13Z", "updated_at": "2014-04-18T22:33:26Z", "closed_at": "2014-04-18T22:33:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "we have a tag value with an \u00d6 (O-Umlaut)  in the string value. \n\n\"aws ec2 describe-instances --output=json\" works just fine\n\"aws ec2 describe-instances --output=text (or output=table\" gives the following error:\n'ascii' codec can't encode character u'\\xf6' in position 60: ordinal not in range(128)\n\nI'd expect it to either go consistently wrong in all output formats or consistently go without error in all output formats.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/742/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/718", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/718/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/718/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/718/events", "html_url": "https://github.com/aws/aws-cli/issues/718", "id": 29974217, "node_id": "MDU6SXNzdWUyOTk3NDIxNw==", "number": 718, "title": "S3 sync command incorrectly compares keys of files with spaces in their names.", "user": {"login": "johnboxall", "id": 28967, "node_id": "MDQ6VXNlcjI4OTY3", "avatar_url": "https://avatars.githubusercontent.com/u/28967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnboxall", "html_url": "https://github.com/johnboxall", "followers_url": "https://api.github.com/users/johnboxall/followers", "following_url": "https://api.github.com/users/johnboxall/following{/other_user}", "gists_url": "https://api.github.com/users/johnboxall/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnboxall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnboxall/subscriptions", "organizations_url": "https://api.github.com/users/johnboxall/orgs", "repos_url": "https://api.github.com/users/johnboxall/repos", "events_url": "https://api.github.com/users/johnboxall/events{/privacy}", "received_events_url": "https://api.github.com/users/johnboxall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 81772671, "node_id": "MDU6TGFiZWw4MTc3MjY3MQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2014-03-22T22:28:16Z", "updated_at": "2014-04-08T23:45:45Z", "closed_at": "2014-03-27T21:10:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `aws s3 sync` command incorrectly compares the keys of files with spaces:\n\n```\n$ mkdir test\n$ echo \"hellos s3\" > \"test/test .txt\"\n$ aws s3 mb s3://test\n$ aws s3 sync test s3://test --debug 2>&1 | grep syncing\n> ... syncing: test/test .txt -> www-test.mobify.com/test .txt, file does not exist at destination\n$ aws s3 sync test s3://test --debug 2>&1 | grep syncing\n> ... syncing: test/test .txt -> www-test.mobify.com/test .txt, file does not exist at destination\n$ aws --version\n> aws-cli/1.3.2 Python/2.7.6 Darwin/13.0.0\n```\n\nIt seems as though in `awscli.customizations.s3.comparator`, the key that is generated for S3 encodes the space with \"+\", while the file from the local FS is not.\n\nI believe that this is a different error than #614.\n\n`<3`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/718/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/709", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/709/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/709/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/709/events", "html_url": "https://github.com/aws/aws-cli/issues/709", "id": 29827685, "node_id": "MDU6SXNzdWUyOTgyNzY4NQ==", "number": 709, "title": "Unable to get JSON output from `aws s3 ls` command", "user": {"login": "boosh", "id": 362148, "node_id": "MDQ6VXNlcjM2MjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/362148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boosh", "html_url": "https://github.com/boosh", "followers_url": "https://api.github.com/users/boosh/followers", "following_url": "https://api.github.com/users/boosh/following{/other_user}", "gists_url": "https://api.github.com/users/boosh/gists{/gist_id}", "starred_url": "https://api.github.com/users/boosh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boosh/subscriptions", "organizations_url": "https://api.github.com/users/boosh/orgs", "repos_url": "https://api.github.com/users/boosh/repos", "events_url": "https://api.github.com/users/boosh/events{/privacy}", "received_events_url": "https://api.github.com/users/boosh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2014-03-20T15:20:39Z", "updated_at": "2023-02-09T20:38:24Z", "closed_at": "2014-03-21T01:05:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Output from `aws s3 ls` is always returned as text regardless of the value of the `--output` parameter.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/709/reactions", "total_count": 13, "+1": 13, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/709/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/708", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/708/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/708/events", "html_url": "https://github.com/aws/aws-cli/issues/708", "id": 29747999, "node_id": "MDU6SXNzdWUyOTc0Nzk5OQ==", "number": 708, "title": "UnicodeDecodeError obfuscates authentication error", "user": {"login": "onyxfish", "id": 33046, "node_id": "MDQ6VXNlcjMzMDQ2", "avatar_url": "https://avatars.githubusercontent.com/u/33046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onyxfish", "html_url": "https://github.com/onyxfish", "followers_url": "https://api.github.com/users/onyxfish/followers", "following_url": "https://api.github.com/users/onyxfish/following{/other_user}", "gists_url": "https://api.github.com/users/onyxfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/onyxfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onyxfish/subscriptions", "organizations_url": "https://api.github.com/users/onyxfish/orgs", "repos_url": "https://api.github.com/users/onyxfish/repos", "events_url": "https://api.github.com/users/onyxfish/events{/privacy}", "received_events_url": "https://api.github.com/users/onyxfish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-03-19T16:25:37Z", "updated_at": "2015-11-09T09:14:57Z", "closed_at": "2015-11-09T09:14:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "While helping debug issues a coworker was having I discovered this UnicodeDecodeError was masking an auth error.\n\n```\n2014-03-19 12:07:55,125 - awscli.customizations.s3.s3handler - DEBUG - Exception caught during task execution: 'ascii' codec can't decode byte 0xe2 in position 24: ordinal not in range(128)\nTraceback (most recent call last):\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/awscli/customizations/s3/http://s3handler.py\", line 76, in call\n    total_files, total_parts = self._enqueue_tasks(files)\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/awscli/customizations/s3/http://s3handler.py\", line 154, in _enqueue_tasks\n    for filename in files:\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/awscli/customizations/s3/http://comparator.py\", line 90, in call\n    dest_file = advance_iterator(dest_files)\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/awscli/customizations/s3/http://filters.py\", line 87, in call\n    for file_info in file_infos:\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/awscli/customizations/s3/http://filegenerator.py\", line 76, in call\n    for src_path, size, last_update in file_list:\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/awscli/customizations/s3/http://filegenerator.py\", line 167, in list_objects\n    for html_response, response_data in iterator:\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/botocore/http://paginate.py\", line 141, in __iter__\n    **current_kwargs)\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/botocore/http://operation.py\", line 68, in call\n    response = endpoint.make_request(self, params)\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/botocore/http://endpoint.py\", line 75, in make_request\n    prepared_request = self.prepare_request(request, do_auth)\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/botocore/http://endpoint.py\", line 91, in prepare_request\n    self.auth.add_auth(request=request)\n  File \"/Users/quoctrungbui/.virtualenvs/dailygraphics/lib/python2.7/site-packages/botocore/http://auth.py\", line 451, in add_auth\n    signature))\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 24: ordinal not in range(128)\n2014-03-19 12:07:55,128 - awscli.customizations.s3.executor - DEBUG - Queueing end sentinel for worker thread (priority: 1)\n2014-03-19 12:07:55,128 - awscli.customizations.s3.executor - DEBUG - Received print task: {'message': \"'ascii' codec can't decode byte 0xe2 in position 24: ordinal not in range(128)\", 'error': True}\n```\n\nThe real issue was that when he pasted his AWS credentials into his `.bash_profile` he had inadvertently pasted them onto the same line.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/708/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/706", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/706/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/706/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/706/events", "html_url": "https://github.com/aws/aws-cli/issues/706", "id": 29704642, "node_id": "MDU6SXNzdWUyOTcwNDY0Mg==", "number": 706, "title": "s3 incorrectly handles whitespace in file name", "user": {"login": "fedorl", "id": 6994311, "node_id": "MDQ6VXNlcjY5OTQzMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6994311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedorl", "html_url": "https://github.com/fedorl", "followers_url": "https://api.github.com/users/fedorl/followers", "following_url": "https://api.github.com/users/fedorl/following{/other_user}", "gists_url": "https://api.github.com/users/fedorl/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedorl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedorl/subscriptions", "organizations_url": "https://api.github.com/users/fedorl/orgs", "repos_url": "https://api.github.com/users/fedorl/repos", "events_url": "https://api.github.com/users/fedorl/events{/privacy}", "received_events_url": "https://api.github.com/users/fedorl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-03-19T03:27:18Z", "updated_at": "2021-01-18T12:45:43Z", "closed_at": "2014-03-27T22:07:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Upload file with white space in key, e.g. \"test space.txt\"\n\nsync parent directory s3->s3, will result in NoSuchKey error\nbroken both in 1.3.1 and development\n\n1.3.1:\ntest space.txt A client error (NoSuchKey) occurred when calling the CopyObject operation\n\ndevelopment:\ntest+space.txt A client error (NoSuchKey) occurred when calling the CopyObject operation\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/706/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/704", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/704/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/704/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/704/events", "html_url": "https://github.com/aws/aws-cli/issues/704", "id": 29561488, "node_id": "MDU6SXNzdWUyOTU2MTQ4OA==", "number": 704, "title": "aws route53 change-resource-record-sets overwrites existing data", "user": {"login": "postme", "id": 461034, "node_id": "MDQ6VXNlcjQ2MTAzNA==", "avatar_url": "https://avatars.githubusercontent.com/u/461034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/postme", "html_url": "https://github.com/postme", "followers_url": "https://api.github.com/users/postme/followers", "following_url": "https://api.github.com/users/postme/following{/other_user}", "gists_url": "https://api.github.com/users/postme/gists{/gist_id}", "starred_url": "https://api.github.com/users/postme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/postme/subscriptions", "organizations_url": "https://api.github.com/users/postme/orgs", "repos_url": "https://api.github.com/users/postme/repos", "events_url": "https://api.github.com/users/postme/events{/privacy}", "received_events_url": "https://api.github.com/users/postme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 81772671, "node_id": "MDU6TGFiZWw4MTc3MjY3MQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-03-17T13:53:40Z", "updated_at": "2019-01-04T20:03:13Z", "closed_at": "2014-07-31T15:45:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I use CREATE with change-resource-record-sets I get the error that the resource record set exists. If I use UPSERT it overwrites the existing data. I've read the documentation referred to in the link: http://docs.aws.amazon.com/Route53/latest/DeveloperGuide/RRSchanges_API.html\n\nIt seems to suggest to use CREATE to avoid overwriting the data. What am I doing wrong (code example below)?\n\n``` bash\necho \"{\\\"Comment\\\": \\\"Adding a new MX record for the zone.\\\", \\\"Changes\\\":[{\\\"Action\\\": \\\"CREATE\\\", \\\"ResourceRecordSet\\\": { \\\"Name\\\": \\\"example.com.\\\", \\\"Type\\\": \\\"MX\\\", \\\"TTL\\\": 300, \\\"ResourceRecords\\\": [{\\\"Value\\\": \\\"\"10 $HOSTNAME\"\\\"}]}}]}\" > ~/route53mxchange.json\naws route53 change-resource-record-sets --hosted-zone-id 123456789 --change-batch file://~/route53mxchange.json\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/690", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/690/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/690/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/690/events", "html_url": "https://github.com/aws/aws-cli/issues/690", "id": 28754007, "node_id": "MDU6SXNzdWUyODc1NDAwNw==", "number": 690, "title": "Throw an error if an incomplete profile is encountered", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-03-05T00:10:34Z", "updated_at": "2014-08-11T20:37:18Z", "closed_at": "2014-08-11T20:37:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is along the same lines as https://github.com/aws/aws-cli/issues/133\nIf a user has a profile configured but it is missing keys, we fall back to other credential mechanisms.  For example, if I have a config file of:\n\n```\n[profile foo]\naws_access_key_id=foo\naws_secret_access_MISPELLED=bar\n```\n\nAnd I run `aws service op --profile foo`, then we'll silently fall back to other credentials provider.  If I had a valid `~/.boto` config, then we'd silently use the boto config, which might have surprising results.\n\nI think we should update the CLI in the same spirit as #133.  If you specify a `--profile`, it _has_ to exist in its entirety, otherwise an error is thrown.  This means we should at least require access/secret key entries in the profile.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/690/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/678", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/678/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/678/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/678/events", "html_url": "https://github.com/aws/aws-cli/issues/678", "id": 28495158, "node_id": "MDU6SXNzdWUyODQ5NTE1OA==", "number": 678, "title": "\"aws s3api get-bucket-policy\" fails when policy exists", "user": {"login": "ronan-ft", "id": 3481220, "node_id": "MDQ6VXNlcjM0ODEyMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3481220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronan-ft", "html_url": "https://github.com/ronan-ft", "followers_url": "https://api.github.com/users/ronan-ft/followers", "following_url": "https://api.github.com/users/ronan-ft/following{/other_user}", "gists_url": "https://api.github.com/users/ronan-ft/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronan-ft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronan-ft/subscriptions", "organizations_url": "https://api.github.com/users/ronan-ft/orgs", "repos_url": "https://api.github.com/users/ronan-ft/repos", "events_url": "https://api.github.com/users/ronan-ft/events{/privacy}", "received_events_url": "https://api.github.com/users/ronan-ft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-02-28T11:48:13Z", "updated_at": "2014-07-19T05:48:40Z", "closed_at": "2014-05-29T23:34:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I run the following command on a certain bucket, I get an error message:\n\n```\naws s3api get-bucket-policy --bucket CENSORED\n```\n\n(\"CENSORED\" is not the real bucket name, of course.)\n\nThe error message is:\n\n```\nnot well-formed (invalid token): line 1, column 0\n```\n\nIf I add the `--debug` option to the above command, this is the stack\ntrace I get:\n\n```\nTraceback (most recent call last):\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 188, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 332, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 441, in __call__\n    self._operation_object, call_parameters, parsed_globals)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/awscli/clidriver.py\", line 532, in invoke\n    **parameters)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/botocore/operation.py\", line 68, in call\n    response = endpoint.make_request(self, params)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/botocore/endpoint.py\", line 76, in make_request\n    return self._send_request(prepared_request, operation)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/botocore/endpoint.py\", line 97, in _send_request\n    response, exception = self._get_response(request, operation, attempts)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/botocore/endpoint.py\", line 120, in _get_response\n    http_response), None)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/botocore/response.py\", line 492, in get_response\n    xml_response.parse(body, encoding)\n  File \"/home/ronan/.local/lib/aws/local/lib/python2.7/site-packages/botocore/response.py\", line 71, in parse\n    parser.feed(s)\nParseError: not well-formed (invalid token): line 1, column 0\n```\n\nClearly, the program is trying to parse JSON as XML.  The bug seems to\nbe essentially the same as the following, in the AWS JavaScript library:\nhttps://github.com/aws/aws-sdk-js/issues/49.\n\nI know the bucket has a policy.  For one thing, before encountering\nthis problem, I successfully performed `aws s3api put-bucket-policy`.\nAlso, I can see the policy in the HTTP response body when I use the\n`--debug` option.\n\nThe following is the output of `aws --version`:\n\n```\naws-cli/1.3.0 Python/2.7.3 Linux/3.2.0-4-amd64\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/675", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/675/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/675/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/675/events", "html_url": "https://github.com/aws/aws-cli/issues/675", "id": 28243892, "node_id": "MDU6SXNzdWUyODI0Mzg5Mg==", "number": 675, "title": "AWS CLI can't remove objects containing \"\\n\" in Key", "user": {"login": "j3tm0t0", "id": 359594, "node_id": "MDQ6VXNlcjM1OTU5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/359594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j3tm0t0", "html_url": "https://github.com/j3tm0t0", "followers_url": "https://api.github.com/users/j3tm0t0/followers", "following_url": "https://api.github.com/users/j3tm0t0/following{/other_user}", "gists_url": "https://api.github.com/users/j3tm0t0/gists{/gist_id}", "starred_url": "https://api.github.com/users/j3tm0t0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j3tm0t0/subscriptions", "organizations_url": "https://api.github.com/users/j3tm0t0/orgs", "repos_url": "https://api.github.com/users/j3tm0t0/repos", "events_url": "https://api.github.com/users/j3tm0t0/events{/privacy}", "received_events_url": "https://api.github.com/users/j3tm0t0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 81772671, "node_id": "MDU6TGFiZWw4MTc3MjY3MQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-02-25T12:37:24Z", "updated_at": "2014-04-17T19:49:58Z", "closed_at": "2014-03-14T00:04:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is how to reproduce the issue.\n\n```\n~ $ aws s3 mb s3://j3tm0t0-rmtest\nmake_bucket: s3://j3tm0t0-rmtest/\n\n# upload file with \\n in filename\n~ $ aws s3 cp hoge s3://j3tm0t0-rmtest/hoge^Mpuge <-- Ctrl+v Ctrl+m\npugead: ./hoge to s3://j3tm0t0-rmtest/hoge\n\n# file exists\n~ $ aws s3 ls s3://j3tm0t0-rmtest/\n2014-02-25 21:18:23          5 hoge\npuge\n\n# direct API shows \"\\n\" in the key\n $ aws s3api list-objects --bucket j3tm0t0-rmtest --output json --query Contents[].Key\n[\n    \"hoge\\npuge\"\n]\n\n# remove bucket --force pretends to delete it, but it doesn't actually and failed to remove bucket\n~ $ aws s3 rb s3://j3tm0t0-rmtest --force\ndelete: s3://j3tm0t0-rmtest/hoge\npuge\nremove_bucket failed: s3://j3tm0t0-rmtest/ A client error (BucketNotEmpty) occurred when calling the DeleteBucket operation: The bucket you tried to delete is not empty\n\n# it still exists\n~ $ aws s3 ls s3://j3tm0t0-rmtest/\n2014-02-25 21:18:23          5 hoge\npuge\n\n# rm --recursive also the same\n~ $ aws s3 rm s3://j3tm0t0-rmtest/ --recursive\ndelete: s3://j3tm0t0-rmtest/hoge\npuge\n~ $ aws s3api list-objects --bucket j3tm0t0-rmtest --output json --query Contents[].Key\n[\n    \"hoge\\npuge\"\n]\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/635", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/635/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/635/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/635/events", "html_url": "https://github.com/aws/aws-cli/issues/635", "id": 27060025, "node_id": "MDU6SXNzdWUyNzA2MDAyNQ==", "number": 635, "title": "InvalidAccessKeyId when using instance profile for S3 upload", "user": {"login": "benbc", "id": 128750, "node_id": "MDQ6VXNlcjEyODc1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/128750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benbc", "html_url": "https://github.com/benbc", "followers_url": "https://api.github.com/users/benbc/followers", "following_url": "https://api.github.com/users/benbc/following{/other_user}", "gists_url": "https://api.github.com/users/benbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/benbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benbc/subscriptions", "organizations_url": "https://api.github.com/users/benbc/orgs", "repos_url": "https://api.github.com/users/benbc/repos", "events_url": "https://api.github.com/users/benbc/events{/privacy}", "received_events_url": "https://api.github.com/users/benbc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "justnance", "id": 40074499, "node_id": "MDQ6VXNlcjQwMDc0NDk5", "avatar_url": "https://avatars.githubusercontent.com/u/40074499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justnance", "html_url": "https://github.com/justnance", "followers_url": "https://api.github.com/users/justnance/followers", "following_url": "https://api.github.com/users/justnance/following{/other_user}", "gists_url": "https://api.github.com/users/justnance/gists{/gist_id}", "starred_url": "https://api.github.com/users/justnance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justnance/subscriptions", "organizations_url": "https://api.github.com/users/justnance/orgs", "repos_url": "https://api.github.com/users/justnance/repos", "events_url": "https://api.github.com/users/justnance/events{/privacy}", "received_events_url": "https://api.github.com/users/justnance/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2014-02-06T16:01:27Z", "updated_at": "2019-02-15T22:04:56Z", "closed_at": "2014-03-10T22:39:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am seeing this error when uploading a large number of files to S3 from an EC2 instance, using an instance role for authentication.\n\nupload failed: ./image.part.130 to s3://<bucket>/agent-ami/image.part.130\nA client error (InvalidAccessKeyId) occurred when calling the CompleteMultipartUpload operation: The AWS Access Key Id you provided does not exist in our records.\n\nI do this operation quite a lot and don't normally see this problem. I have seen it twice today.\n\nI wonder if there is a race condition when the role's credentials are rotated.\n\nI am using the latest version of awscli from PyPI.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/634", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/634/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/634/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/634/events", "html_url": "https://github.com/aws/aws-cli/issues/634", "id": 27045754, "node_id": "MDU6SXNzdWUyNzA0NTc1NA==", "number": 634, "title": "Uploading files to S3 from EC2 instances fails on some instance types", "user": {"login": "benbc", "id": 128750, "node_id": "MDQ6VXNlcjEyODc1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/128750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benbc", "html_url": "https://github.com/benbc", "followers_url": "https://api.github.com/users/benbc/followers", "following_url": "https://api.github.com/users/benbc/following{/other_user}", "gists_url": "https://api.github.com/users/benbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/benbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benbc/subscriptions", "organizations_url": "https://api.github.com/users/benbc/orgs", "repos_url": "https://api.github.com/users/benbc/repos", "events_url": "https://api.github.com/users/benbc/events{/privacy}", "received_events_url": "https://api.github.com/users/benbc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 42, "created_at": "2014-02-06T12:28:51Z", "updated_at": "2022-12-04T03:30:52Z", "closed_at": "2014-06-20T19:03:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have a very strange problem. We are uploading large (10M) files from an EC2 instance to an S3 bucket in the same region. We use `aws s3 cp` for the upload and instance roles for authentication.\n\nIf we use an `m1.small` EC2 instance the upload works fine. But if we increase the instance size (we have tried `m1.large` and `m3.large`) the upload fails.\n\nHere is the error we get:\n\n```\nupload failed: <file> to <s3-address>\nHTTPSConnectionPool(host='<bucket>.s3.amazonaws.com', port=443): Max retries exceeded with url: <s2-key>?partNumber=2&uploadId=Hw6FZhXeH03ZzzCtxu2XcsspmpN2lx83GxWGzrJ96I81XlajjjNCxsSj0vs0BIbf_xJmzfdZwZY_UzUL3NCT57rpqEwIuLD1qryr7KKjlR6rA0YIW_ltopZQkoo32i0qTPUAlBc55WRAYxjwJ8Iw1A-- (Caused by <class 'socket.error'>: [Errno 104] Connection reset by peer)\n```\n\nThis is completely reproducible -- we have never had such a upload succeed after tens of attempts. We have never seen the problem on an `m1.small` instance in hundreds of attempts.\n\nWe ran into this problem with 10M files. We have found that it is reproducible down to about 1M. Much less than this and it works fine every time.\n\nAny ideas about what is going on would be much appreciated.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/634/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/631", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/631/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/631/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/631/events", "html_url": "https://github.com/aws/aws-cli/issues/631", "id": 26909777, "node_id": "MDU6SXNzdWUyNjkwOTc3Nw==", "number": 631, "title": "ec2 create-tags doesn't allow tags via the \"file\" prefix", "user": {"login": "rfein-hearst", "id": 4303865, "node_id": "MDQ6VXNlcjQzMDM4NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/4303865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rfein-hearst", "html_url": "https://github.com/rfein-hearst", "followers_url": "https://api.github.com/users/rfein-hearst/followers", "following_url": "https://api.github.com/users/rfein-hearst/following{/other_user}", "gists_url": "https://api.github.com/users/rfein-hearst/gists{/gist_id}", "starred_url": "https://api.github.com/users/rfein-hearst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rfein-hearst/subscriptions", "organizations_url": "https://api.github.com/users/rfein-hearst/orgs", "repos_url": "https://api.github.com/users/rfein-hearst/repos", "events_url": "https://api.github.com/users/rfein-hearst/events{/privacy}", "received_events_url": "https://api.github.com/users/rfein-hearst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-02-04T19:46:51Z", "updated_at": "2014-02-07T23:21:42Z", "closed_at": "2014-02-07T23:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since ec2 create-tags allows for tags to be supplied as JSON, I'd expect that I'd be able to supply that JSON via the \"file\" or \"http\" conventions - but it looks like the JSON has to actually supplied in-line on the command line. Not sure if this this behavior is expected or not - my assumption was that anywhere that JSON was used it could be as a file, but that may be incorrect. \n\n```\naws ec2 create-tags  --tags file://tags.json  --resources i-12345678\nError parsing parameter --tags, should be: Key value pairs, with multiple values separated by a space.  \n--tags Key=string,Value=string\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/622", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/622/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/622/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/622/events", "html_url": "https://github.com/aws/aws-cli/issues/622", "id": 26545199, "node_id": "MDU6SXNzdWUyNjU0NTE5OQ==", "number": 622, "title": "Error in `aws elb help`", "user": {"login": "asieira", "id": 3287067, "node_id": "MDQ6VXNlcjMyODcwNjc=", "avatar_url": "https://avatars.githubusercontent.com/u/3287067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asieira", "html_url": "https://github.com/asieira", "followers_url": "https://api.github.com/users/asieira/followers", "following_url": "https://api.github.com/users/asieira/following{/other_user}", "gists_url": "https://api.github.com/users/asieira/gists{/gist_id}", "starred_url": "https://api.github.com/users/asieira/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asieira/subscriptions", "organizations_url": "https://api.github.com/users/asieira/orgs", "repos_url": "https://api.github.com/users/asieira/repos", "events_url": "https://api.github.com/users/asieira/events{/privacy}", "received_events_url": "https://api.github.com/users/asieira/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-29T19:17:15Z", "updated_at": "2014-02-11T21:26:58Z", "closed_at": "2014-02-11T21:26:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The help page has a problem:\n\n```\n| => aws elb help\n<string>:31: (WARNING/2) Inline literal start-string without end-string.\n<string>:133: (WARNING/2) malformed hyperlink target.\n```\n\nThe content itself shows the problem as well:\n\n```\n(...)\n       o set-load-balancer-policies-of-listener\n\n       System Message: WARNING/2 (<string>:, line 133)\n              malformed hyperlink target.\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/614", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/614/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/614/events", "html_url": "https://github.com/aws/aws-cli/issues/614", "id": 26360399, "node_id": "MDU6SXNzdWUyNjM2MDM5OQ==", "number": 614, "title": "Multipart COPY operation fails when source filename contains + character", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2014-01-27T15:33:02Z", "updated_at": "2014-03-22T22:43:01Z", "closed_at": "2014-01-29T14:54:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you perform a bucket -> bucket cp or sync operation and one of the filenames in the source bucket contains a `+` character, you get this error:\n\n```\nClientError: A client error (NoSuchKey) occurred when calling the UploadPartCopy operation: The specified key does not exist.\n```\n\nThe problem is that the filename is not being quoted in the `x-amz-copy-source` header.  For example, if the source filename is `foo++bar.txt` the header is:\n\n```\nx-amz-copy-source:fiebazfoobar/foo++bar.txt\n```\n\nbut S3 expects it to be:\n\n```\nx-amz-copy-source:fiebazfoobar/foo%2B%2Bbar.txt\n```\n\nThis only affects multipart COPY operations.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/614/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/611", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/611/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/611/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/611/events", "html_url": "https://github.com/aws/aws-cli/issues/611", "id": 26268473, "node_id": "MDU6SXNzdWUyNjI2ODQ3Mw==", "number": 611, "title": "Bad build of awscli-bundle.zip?", "user": {"login": "stormsilver", "id": 135457, "node_id": "MDQ6VXNlcjEzNTQ1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/135457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stormsilver", "html_url": "https://github.com/stormsilver", "followers_url": "https://api.github.com/users/stormsilver/followers", "following_url": "https://api.github.com/users/stormsilver/following{/other_user}", "gists_url": "https://api.github.com/users/stormsilver/gists{/gist_id}", "starred_url": "https://api.github.com/users/stormsilver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stormsilver/subscriptions", "organizations_url": "https://api.github.com/users/stormsilver/orgs", "repos_url": "https://api.github.com/users/stormsilver/repos", "events_url": "https://api.github.com/users/stormsilver/events{/privacy}", "received_events_url": "https://api.github.com/users/stormsilver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2014-01-24T20:25:11Z", "updated_at": "2014-01-24T22:17:37Z", "closed_at": "2014-01-24T21:35:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like in the latest release the bundle build might have been borked somehow.\n\nWhen I run `./install --install-dir /usr/local/aws`, I get the following error:\n\n```\nDownloading/unpacking six>=1.1.0 (from awscli==1.2.10)\n  Could not find any downloads that satisfy the requirement six>=1.1.0 (from awscli==1.2.10)\nCleaning up...\n```\n\nWhen I check out what's in the `packages` dir from the bundle, I see this:\n\n```\ndrwxr-xr-x 2 root root    4096 Jan 24 14:04 .\ndrwxr-xr-x 3 root root    4096 Jan 24 14:04 ..\n-rw-r--r-- 1 root root   69297 Jan 22 17:01 argparse-1.2.1.tar.gz\n-rw-r--r-- 1 root root  157668 Jan 22 17:02 awscli-1.2.10.tar.gz\n-rw-r--r-- 1 root root    9003 Jan 22 17:02 bcdoc-0.12.0.tar.gz\n-rw-r--r-- 1 root root 1413897 Jan 22 17:02 botocore-0.30.0.tar.gz\n-rw-r--r-- 1 root root   15132 Jan 22 17:02 colorama-0.2.5.tar.gz\n-rw-r--r-- 1 root root 1611755 Jan 22 17:02 docutils-0.11.tar.gz\n-rw-r--r-- 1 root root   11759 Jan 22 17:02 jmespath-0.2.1.tar.gz\n-rw-r--r-- 1 root root    2114 Jan 22 17:01 ordereddict-1.1.tar.gz\n-rw-r--r-- 1 root root  138342 Jan 22 17:02 ply-3.4.tar.gz\n-rw-r--r-- 1 root root   68120 Jan 22 17:02 pyasn1-0.1.7.tar.gz\n-rw-r--r-- 1 root root  259085 Jan 22 17:02 python-dateutil-2.2.tar.gz\n-rw-r--r-- 1 root root   35237 Jan 22 17:02 rsa-3.1.2.tar.gz\n-rw-r--r-- 1 root root   67250 Jan 22 17:01 simplejson-3.3.0.tar.gz\n-rw-r--r-- 1 root root    8429 Jan 22 17:02 six-1.5.2-py2.py3-none-any.whl\n-rw-r--r-- 1 root root 1325303 Jan 22 17:01 virtualenv-1.10.1.tar.gz\n```\n\nNote `six-1.5.2-py2.py3-none-any.whl`. I'm not a python guy but this seems to be an issue. Replacing this file with the tar downloaded from https://pypi.python.org/pypi/six causes installation to succeed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/611/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/566", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/566/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/566/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/566/events", "html_url": "https://github.com/aws/aws-cli/issues/566", "id": 24505028, "node_id": "MDU6SXNzdWUyNDUwNTAyOA==", "number": 566, "title": "Docs: s3api restore-object", "user": {"login": "four43", "id": 517006, "node_id": "MDQ6VXNlcjUxNzAwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/517006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/four43", "html_url": "https://github.com/four43", "followers_url": "https://api.github.com/users/four43/followers", "following_url": "https://api.github.com/users/four43/following{/other_user}", "gists_url": "https://api.github.com/users/four43/gists{/gist_id}", "starred_url": "https://api.github.com/users/four43/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/four43/subscriptions", "organizations_url": "https://api.github.com/users/four43/orgs", "repos_url": "https://api.github.com/users/four43/repos", "events_url": "https://api.github.com/users/four43/events{/privacy}", "received_events_url": "https://api.github.com/users/four43/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2013-12-18T17:27:18Z", "updated_at": "2014-01-02T23:56:28Z", "closed_at": "2014-01-02T23:56:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Regarding the documentation here: http://docs.aws.amazon.com/cli/latest/reference/s3api/restore-object.html\n\nI am having a hard time figuring out what the different arguments are for and what their values should be. These docs just look a little sparse. I'll see if I can find some time to help add to them where I can.\n\nThanks,\n-Seth\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/566/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/558", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/558/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/558/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/558/events", "html_url": "https://github.com/aws/aws-cli/issues/558", "id": 24320382, "node_id": "MDU6SXNzdWUyNDMyMDM4Mg==", "number": 558, "title": "aws ec2 describe-network-interface-attribute", "user": {"login": "julieso", "id": 6182079, "node_id": "MDQ6VXNlcjYxODIwNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/6182079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julieso", "html_url": "https://github.com/julieso", "followers_url": "https://api.github.com/users/julieso/followers", "following_url": "https://api.github.com/users/julieso/following{/other_user}", "gists_url": "https://api.github.com/users/julieso/gists{/gist_id}", "starred_url": "https://api.github.com/users/julieso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julieso/subscriptions", "organizations_url": "https://api.github.com/users/julieso/orgs", "repos_url": "https://api.github.com/users/julieso/repos", "events_url": "https://api.github.com/users/julieso/events{/privacy}", "received_events_url": "https://api.github.com/users/julieso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-12-15T21:49:17Z", "updated_at": "2014-07-28T20:32:18Z", "closed_at": "2014-07-28T20:32:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For consistency, I'd expected this command to support an option --attribute (as commands like describe-image-attribute and describe-instance-attribute do)\n\naws ec2 describe-network-interface-attribute --network-interface-id eni-e5aa89a3 --attribute\nUnknown options: --attribute\n\nIn trying to use options like --description and --source-dest-check, it appears that they require a parameter. That seems odd, as I'm not trying to set these attributes. What arguments are expected here?\n\naws ec2 describe-network-interface-attribute --network-interface-id eni-e5aa89a3 --description\nusage: aws [options] <command> <subcommand> [parameters]\naws.cmd: error: argument --description: expected one argument\n\naws ec2 describe-network-interface-attribute --network-interface-id eni-e5aa89a3 --source-dest-check\nusage: aws [options] <command> <subcommand> [parameters]\naws.cmd: error: argument --source-dest-check: expected one argument\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/553", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/553/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/553/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/553/events", "html_url": "https://github.com/aws/aws-cli/issues/553", "id": 24269964, "node_id": "MDU6SXNzdWUyNDI2OTk2NA==", "number": 553, "title": "`aws s3 rm` errors out on buckets with versioning enabled", "user": {"login": "nikolay", "id": 2882, "node_id": "MDQ6VXNlcjI4ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/2882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikolay", "html_url": "https://github.com/nikolay", "followers_url": "https://api.github.com/users/nikolay/followers", "following_url": "https://api.github.com/users/nikolay/following{/other_user}", "gists_url": "https://api.github.com/users/nikolay/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikolay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikolay/subscriptions", "organizations_url": "https://api.github.com/users/nikolay/orgs", "repos_url": "https://api.github.com/users/nikolay/repos", "events_url": "https://api.github.com/users/nikolay/events{/privacy}", "received_events_url": "https://api.github.com/users/nikolay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2013-12-13T20:16:00Z", "updated_at": "2019-01-04T20:03:04Z", "closed_at": "2013-12-18T18:53:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ aws s3 rm s3://bucket/path/file.ext\nstring indices must be integers, not str\nCompleted 1 part(s) with ... file(s) remaining\n```\n\nThis has been working fine for months, broke with the latest version `1.2.8`. A workaround I found is to add the `--recursive` parameter.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/553/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/542", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/542/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/542/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/542/events", "html_url": "https://github.com/aws/aws-cli/issues/542", "id": 24007967, "node_id": "MDU6SXNzdWUyNDAwNzk2Nw==", "number": 542, "title": "Fix stack-policy-url option", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-12-10T01:51:39Z", "updated_at": "2013-12-11T21:43:45Z", "closed_at": "2013-12-11T21:43:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `--stack-policy-url` option to `cloudformation create-stack` and `cloudformation update-stack` needs to be set to ``no_paramfile\" to avoid it being interpreted as a URL by the CLI.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/524", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/524/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/524/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/524/events", "html_url": "https://github.com/aws/aws-cli/issues/524", "id": 23628117, "node_id": "MDU6SXNzdWUyMzYyODExNw==", "number": 524, "title": "Incorrect handling of NULL values", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-12-03T08:40:33Z", "updated_at": "2013-12-03T22:06:17Z", "closed_at": "2013-12-03T22:06:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The command `aws elb set-load-balancer-policies-for-backend-server` accepts an option called `--policy-names` that is defined as a list of policy names (list of strings).  This is a required option.  The documentation for this option states:\n\n_List of policy names to be set. If the list is empty, then all current polices are removed from the back-end server._\n\nThe AWS CLI, however, provides no way to pass the parameter name with no value.  If you supply a value of `\"\"` or `[]` the parameter is not included in the request and a validation error occurs:\n\n```\nA client error (ValidationError) occurred: 1 validation error detected: Value null at 'policyNames' failed to satisfy constraint: Member must not be null\n```\n\nTo my knowledge, this is the only required parameter that can have an empty value in the request but there could be others.  In any case, it is a bug in that we cannot represent this.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/524/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/520", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/520/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/520/events", "html_url": "https://github.com/aws/aws-cli/issues/520", "id": 23547828, "node_id": "MDU6SXNzdWUyMzU0NzgyOA==", "number": 520, "title": "--private-ip-address option at run-instances does not work ", "user": {"login": "ryuzee", "id": 272013, "node_id": "MDQ6VXNlcjI3MjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/272013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryuzee", "html_url": "https://github.com/ryuzee", "followers_url": "https://api.github.com/users/ryuzee/followers", "following_url": "https://api.github.com/users/ryuzee/following{/other_user}", "gists_url": "https://api.github.com/users/ryuzee/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryuzee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryuzee/subscriptions", "organizations_url": "https://api.github.com/users/ryuzee/orgs", "repos_url": "https://api.github.com/users/ryuzee/repos", "events_url": "https://api.github.com/users/ryuzee/events{/privacy}", "received_events_url": "https://api.github.com/users/ryuzee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-02T01:21:23Z", "updated_at": "2014-05-14T07:03:22Z", "closed_at": "2013-12-02T21:43:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think --private-ip-address option can accept private ip address to assign.\nbut when I ran the command as follows,  \n\n> aws ec2 run-instances \\\n>   --image-id ami-b1fe9bb0 \\\n>   --subnet-id subnet-00xxxxxx \\\n>   --key-name keypair1 \\\n>   --security-group-ids sg-yyyyyy \\\n>   --region ap-northeast-1 \\\n>   --instance-type t1.micro \\\n>   --associate-public-ip-address \\\n>   --private-ip-address 10.0.0.222 \\\n>   --debug\n\nError message was show as follows.\n\n> ClientError: A client error (InvalidParameterCombination) occurred: Network interfaces and an instance-level private IP address may not be specified on the same request\n\nOn the other hand, when executed same command by ec2-api-tools, it worked fine.\n\nBellow is the differences in API request between awscli and ec2-api-tools\n\nec2-api-tools\n\n> NetworkInterface.1.PrivateIpAddresses.1.Primary=true&\n> NetworkInterface.1.PrivateIpAddresses.1.PrivateIpAddress=10.0.0.222&\n\nawscli\n\n> PrivateIpAddress=10.0.0.222&\n\nThis seems to be same as #504.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/520/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/507", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/507/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/507/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/507/events", "html_url": "https://github.com/aws/aws-cli/issues/507", "id": 23202947, "node_id": "MDU6SXNzdWUyMzIwMjk0Nw==", "number": 507, "title": "s3api --website-redirect-location not working", "user": {"login": "bfreis", "id": 261623, "node_id": "MDQ6VXNlcjI2MTYyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/261623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bfreis", "html_url": "https://github.com/bfreis", "followers_url": "https://api.github.com/users/bfreis/followers", "following_url": "https://api.github.com/users/bfreis/following{/other_user}", "gists_url": "https://api.github.com/users/bfreis/gists{/gist_id}", "starred_url": "https://api.github.com/users/bfreis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bfreis/subscriptions", "organizations_url": "https://api.github.com/users/bfreis/orgs", "repos_url": "https://api.github.com/users/bfreis/repos", "events_url": "https://api.github.com/users/bfreis/events{/privacy}", "received_events_url": "https://api.github.com/users/bfreis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-11-24T10:15:43Z", "updated_at": "2013-12-05T18:01:39Z", "closed_at": "2013-12-05T18:01:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to put an object which is a redirection to a website, say, http://www.amazon.com/, the CLI seems to try to download and parse the contents of the destination URL, and eventually fails. For example:\n\n```\n$ aws s3api put-object --bucket my-test-bucket-bfreis --key my-key --website-redirect-location http://www.amazon.com/\n'ascii' codec can't encode character u'\\xe9' in position 81424: ordinal not in range(128)\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/487", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/487/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/487/events", "html_url": "https://github.com/aws/aws-cli/issues/487", "id": 22706687, "node_id": "MDU6SXNzdWUyMjcwNjY4Nw==", "number": 487, "title": "S3 sync will exit when a broken symlink are present", "user": {"login": "ddarbyson", "id": 1116416, "node_id": "MDQ6VXNlcjExMTY0MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1116416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddarbyson", "html_url": "https://github.com/ddarbyson", "followers_url": "https://api.github.com/users/ddarbyson/followers", "following_url": "https://api.github.com/users/ddarbyson/following{/other_user}", "gists_url": "https://api.github.com/users/ddarbyson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddarbyson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddarbyson/subscriptions", "organizations_url": "https://api.github.com/users/ddarbyson/orgs", "repos_url": "https://api.github.com/users/ddarbyson/repos", "events_url": "https://api.github.com/users/ddarbyson/events{/privacy}", "received_events_url": "https://api.github.com/users/ddarbyson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2013-11-15T01:15:13Z", "updated_at": "2013-11-26T05:37:19Z", "closed_at": "2013-11-26T05:37:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "When transferring files to S3, broken symlinks will cause the sync to exit abruptly. There should be a better way to handle symbolic links...\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/487/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/460", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/460/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/460/events", "html_url": "https://github.com/aws/aws-cli/issues/460", "id": 22002274, "node_id": "MDU6SXNzdWUyMjAwMjI3NA==", "number": 460, "title": "No way to specify all for --protocol option", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-11-02T14:17:10Z", "updated_at": "2013-11-02T21:45:18Z", "closed_at": "2013-11-02T21:45:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `aws ec2 authorize-security-group-ingress` and `aws ec2 authorize-security-group-egress` commands both accept a `--protocol` option but there is no way to supply a value that represents ALL protocols.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/460/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/456", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/456/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/456/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/456/events", "html_url": "https://github.com/aws/aws-cli/issues/456", "id": 21859938, "node_id": "MDU6SXNzdWUyMTg1OTkzOA==", "number": 456, "title": "Expires timestamp in bundle-instance policy is incorrect", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-10-30T21:21:40Z", "updated_at": "2013-10-30T22:05:10Z", "closed_at": "2013-10-30T22:05:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you do not supply a policy to `aws ec2 bundle-instance` the command will generate a policy for you which includes an expiration of the policy in 24 hours.  The ISO timestamp included in the policy, however, needs to include the `Z` suffix to denote UTC time.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/456/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/454", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/454/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/454/events", "html_url": "https://github.com/aws/aws-cli/issues/454", "id": 21828580, "node_id": "MDU6SXNzdWUyMTgyODU4MA==", "number": 454, "title": "aws s3 cp - large mutlipart uploads not uploading", "user": {"login": "studio4", "id": 4395458, "node_id": "MDQ6VXNlcjQzOTU0NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/4395458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/studio4", "html_url": "https://github.com/studio4", "followers_url": "https://api.github.com/users/studio4/followers", "following_url": "https://api.github.com/users/studio4/following{/other_user}", "gists_url": "https://api.github.com/users/studio4/gists{/gist_id}", "starred_url": "https://api.github.com/users/studio4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/studio4/subscriptions", "organizations_url": "https://api.github.com/users/studio4/orgs", "repos_url": "https://api.github.com/users/studio4/repos", "events_url": "https://api.github.com/users/studio4/events{/privacy}", "received_events_url": "https://api.github.com/users/studio4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2013-10-30T14:34:02Z", "updated_at": "2014-03-26T17:01:33Z", "closed_at": "2013-11-07T21:41:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nWe're running the following command as a cron job: \n\n```\naws s3 cp /var/dumps/backup_`date +\\%Y\\%m\\%d`0207.tar s3://OUR_BUCKET_NAME/backup_`date +\\%Y\\%m\\%d`0207.tar\n```\n\nHowever the files are never reaching their destination, we're getting a few messages like this:\n\nA client error (RequestTimeout) occurred: Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.\n\nand the output finishes like this:\n\nCompleted 680 of 680 part(s) with -12 file(s) remaining\n\nFiles never appear in our bucket and the multipart upload is removed (quite rightly since we don't want to be paying for failed part-uploads). \n\n```\naws --version\naws-cli/1.2.0 Python/2.6.6 Linux/2.6.32-358.18.1.el6.x86_64\n```\n\nI've just updated to aws-cli/1.2.2 but I couldn't see anything in the changelog that might hint at a resolution.  I'm not sure what's going on exactly but it seems that some parts are not uploading or timing out and while aws is keeping track of them it's not re-trying the parts before destroying the multipart upload.\n\nAny thoughts?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/454/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/445", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/445/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/445/events", "html_url": "https://github.com/aws/aws-cli/issues/445", "id": 21674867, "node_id": "MDU6SXNzdWUyMTY3NDg2Nw==", "number": 445, "title": "\"must be string or read-only character buffer, not list\" error on ec2 describe-instances", "user": {"login": "monaka", "id": 101795, "node_id": "MDQ6VXNlcjEwMTc5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monaka", "html_url": "https://github.com/monaka", "followers_url": "https://api.github.com/users/monaka/followers", "following_url": "https://api.github.com/users/monaka/following{/other_user}", "gists_url": "https://api.github.com/users/monaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/monaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monaka/subscriptions", "organizations_url": "https://api.github.com/users/monaka/orgs", "repos_url": "https://api.github.com/users/monaka/repos", "events_url": "https://api.github.com/users/monaka/events{/privacy}", "received_events_url": "https://api.github.com/users/monaka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-10-28T08:09:42Z", "updated_at": "2013-10-28T21:29:07Z", "closed_at": "2013-10-28T21:29:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ aws --version\naws-cli/1.2.1 Python/2.7.0 Darwin/10.8.0\n```\n\nI got error like below whan I execute `aws --debug --output=text ec2 describe-instances` .\n\n```\n2013-10-28 17:00:22,073 - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/clidriver.py\", line 184, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/clidriver.py\", line 305, in __call__\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/clidriver.py\", line 413, in __call__\n    self._operation_object, call_parameters, parsed_globals)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/clidriver.py\", line 500, in invoke\n    parsed_globals)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/clidriver.py\", line 508, in _display_response\n    formatter(operation, response)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/formatter.py\", line 226, in __call__\n    self._format_response(response, stream)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/formatter.py\", line 236, in _format_response\n    text.format_text(response, stream)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/text.py\", line 17, in format_text\n    _format_text(data, stream)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/text.py\", line 30, in _format_text\n    identifier=new_identifier)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/text.py\", line 38, in _format_text\n    scalar_keys=all_keys)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/text.py\", line 30, in _format_text\n    identifier=new_identifier)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/text.py\", line 38, in _format_text\n    scalar_keys=all_keys)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/text.py\", line 30, in _format_text\n    identifier=new_identifier)\n  File \"/Users/monaka/.pythonbrew/pythons/Python-2.7/lib/python2.7/site-packages/awscli/text.py\", line 50, in _format_text\n    stream.write(item)\nTypeError: must be string or read-only character buffer, not list\n2013-10-28 17:00:22,075 - awscli.clidriver - DEBUG - Exiting with rc 255\nmust be string or read-only character buffer, not list\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/445/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/442", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/442/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/442/events", "html_url": "https://github.com/aws/aws-cli/issues/442", "id": 21590356, "node_id": "MDU6SXNzdWUyMTU5MDM1Ng==", "number": 442, "title": "'PageIterator' object has no attribute 'result_keys'", "user": {"login": "gboudreau", "id": 370329, "node_id": "MDQ6VXNlcjM3MDMyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/370329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gboudreau", "html_url": "https://github.com/gboudreau", "followers_url": "https://api.github.com/users/gboudreau/followers", "following_url": "https://api.github.com/users/gboudreau/following{/other_user}", "gists_url": "https://api.github.com/users/gboudreau/gists{/gist_id}", "starred_url": "https://api.github.com/users/gboudreau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gboudreau/subscriptions", "organizations_url": "https://api.github.com/users/gboudreau/orgs", "repos_url": "https://api.github.com/users/gboudreau/repos", "events_url": "https://api.github.com/users/gboudreau/events{/privacy}", "received_events_url": "https://api.github.com/users/gboudreau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2013-10-25T13:31:39Z", "updated_at": "2013-10-28T19:09:58Z", "closed_at": "2013-10-28T18:53:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to run any commands, apart from `aws * help`, I get this error:\n\n```\n'PageIterator' object has no attribute 'result_keys'\n```\n\nExample:\n\n```\n[~]$ aws cloudwatch describe-alarms\n'PageIterator' object has no attribute 'result_keys'\n[~]$ \n```\n\nI installed aws-cli like this:\n\n```\nsudo yum install python-pip\nsudo pip install awscli\nmkdir ~/.aws && vi ~/.aws/config\n```\n\nMachine is CentOS 6: `2.6.32-279.9.1.el6.x86_64 GNU/Linux` with Python 2.6.6.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/442/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/440", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/440/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/440/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/440/events", "html_url": "https://github.com/aws/aws-cli/issues/440", "id": 21561492, "node_id": "MDU6SXNzdWUyMTU2MTQ5Mg==", "number": 440, "title": "S3 Sync with \"--delete\" option is deleting files that have folders with the same name!", "user": {"login": "ddarbyson", "id": 1116416, "node_id": "MDQ6VXNlcjExMTY0MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1116416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddarbyson", "html_url": "https://github.com/ddarbyson", "followers_url": "https://api.github.com/users/ddarbyson/followers", "following_url": "https://api.github.com/users/ddarbyson/following{/other_user}", "gists_url": "https://api.github.com/users/ddarbyson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddarbyson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddarbyson/subscriptions", "organizations_url": "https://api.github.com/users/ddarbyson/orgs", "repos_url": "https://api.github.com/users/ddarbyson/repos", "events_url": "https://api.github.com/users/ddarbyson/events{/privacy}", "received_events_url": "https://api.github.com/users/ddarbyson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2013-10-25T00:12:44Z", "updated_at": "2019-03-14T20:38:05Z", "closed_at": "2013-10-28T16:47:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you have a folder in your S3 bucket and a file name that contains the same starting characters as the folder name, the target files will be intermittently be deleted upon each run.\n\nFor example, create a folder in your S3 bucket:\n\ns3://my-bucket/test/\n\nNow create some txt files in the bucket with 'test' as the first 4 characters of the file name.. ie:\n\ns3://my-bucket/test-123.txt\ns3://my-bucket/test-321.txt\ns3://my-bucket/test.txt\n\nRun `aws s3 sync --delete s3://my-bucket /my/local/folder`.. Do this 3 or 4 times. You will see each file 'test-123.txt', 'test-321.txt', 'test.txt' will get intermittently be deleted and downloaded with each run. Each run produces different results.\n\nHaving files unexpectedly being deleting is a big concern as we use 's3 sync --delete' for daily backup's.\n\nPlease see AWS post for originating report https://forums.aws.amazon.com/message.jspa?messageID=497335#497335\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/440/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/440/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/439", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/439/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/439/events", "html_url": "https://github.com/aws/aws-cli/issues/439", "id": 21531496, "node_id": "MDU6SXNzdWUyMTUzMTQ5Ng==", "number": 439, "title": "s3 ls does an extra query on the root of the bucket", "user": {"login": "msquire", "id": 197053, "node_id": "MDQ6VXNlcjE5NzA1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/197053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msquire", "html_url": "https://github.com/msquire", "followers_url": "https://api.github.com/users/msquire/followers", "following_url": "https://api.github.com/users/msquire/following{/other_user}", "gists_url": "https://api.github.com/users/msquire/gists{/gist_id}", "starred_url": "https://api.github.com/users/msquire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msquire/subscriptions", "organizations_url": "https://api.github.com/users/msquire/orgs", "repos_url": "https://api.github.com/users/msquire/repos", "events_url": "https://api.github.com/users/msquire/events{/privacy}", "received_events_url": "https://api.github.com/users/msquire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2013-10-24T15:46:27Z", "updated_at": "2013-11-08T14:29:37Z", "closed_at": "2013-11-08T14:29:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to set up a policy statement like this:\n\n```\n    {\n        \"Sid\": \"Test\",\n        \"Effect\": \"Allow\",\n        \"Principal\": {\n            \"AWS\": \"arn:aws:iam::111111111111:role/myrole\"\n        },\n        \"Action\": \"s3:ListBucket\",\n        \"Resource\": \"arn:aws:s3:::examplebucket\",\n        \"Condition\": {\n            \"StringLike\": {\n                \"s3:delimiter\": \"/\",\n                \"s3:prefix\": \"myprefix*\"\n            }\n        }\n    }\n```\n\nThis restricts list access for the specified principle to myprefix and anything beneath it only. However, when I do:\n\n`aws s3 ls s3://examplebucket/myprefix/`\n\nI receive a 403. Using --debug it turns out this 403 is from another query without a prefix that happens prior to the query we actually need (and when the condition is removed it works as expected - with 2 queries).\n\nIs it possible to remove this additional query?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/439/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/435", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/435/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/435/events", "html_url": "https://github.com/aws/aws-cli/issues/435", "id": 21462224, "node_id": "MDU6SXNzdWUyMTQ2MjIyNA==", "number": 435, "title": "Using --ip-permissions with --group-id causes validation error", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-10-23T15:34:22Z", "updated_at": "2013-10-23T19:26:59Z", "closed_at": "2013-10-23T19:26:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you attempt to use the --ip-permissions option with `aws ec2 authorize-security-group-*` subcommands while using a `--group-id` option to specify a VPC group, you receive this validation error:\n\n```\nValueError: The --group_id option is not compatible with the --ip-permissions option\n```\n\nThis should be allowed, though.  The workaround is to use the simplified, scalar options to set the permissions.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/435/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/434", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/434/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/434/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/434/events", "html_url": "https://github.com/aws/aws-cli/issues/434", "id": 21433553, "node_id": "MDU6SXNzdWUyMTQzMzU1Mw==", "number": 434, "title": "aws s3 exclude / include commands ignored", "user": {"login": "paulsickling", "id": 1685168, "node_id": "MDQ6VXNlcjE2ODUxNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/1685168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulsickling", "html_url": "https://github.com/paulsickling", "followers_url": "https://api.github.com/users/paulsickling/followers", "following_url": "https://api.github.com/users/paulsickling/following{/other_user}", "gists_url": "https://api.github.com/users/paulsickling/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulsickling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulsickling/subscriptions", "organizations_url": "https://api.github.com/users/paulsickling/orgs", "repos_url": "https://api.github.com/users/paulsickling/repos", "events_url": "https://api.github.com/users/paulsickling/events{/privacy}", "received_events_url": "https://api.github.com/users/paulsickling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 17, "created_at": "2013-10-23T04:50:18Z", "updated_at": "2018-06-28T01:12:09Z", "closed_at": "2013-12-16T19:19:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Windows - when using aws s3 commands (cp or mv) with exclude and/or include parameters the parameters only seem to be honoured if the command is executed from the same drive as the source parameter. \n\nFor instance if the source folder is d:\\backup and the command is run anywhere from d:\\ within cmd then exclude / include parameters are honoured. If the cmd drive is changed to c:\\ then the exclude and include parameters appear to be ignored.\n\nSee output below\n\nC:>aws s3 cp d:/backups/temp3/ s3://xxx/ --recursive --exclude \\* --include *.zip\nupload: d:\\backups\\temp3\\2.zip to s3://xxx/test/2.zip\nupload: d:\\backups\\temp3\\readme.zip to s3://xxx/readme.zip\nupload: d:\\backups\\temp3\\readme.txt to s3://xxx/readme.txt (<<< EXTRA FILE PICKED UP)\n\nC:>d:\n\nD:>aws s3 cp d:/backups/temp3/ s3://xxx/ --recursive --exclude \\* --include *.zip\nupload: backups\\temp3\\readme.zip to s3:/xxx/readme.zip\nupload: backups\\temp3\\2.zip to s3:/xxx/test/2.zip\n\nI've tried various source path syntaxes including d:\\backups... d://backups/... but all yield the same result.\n\nThe workaround for the time is to ensure cmd is started from the same drive as the source but I assume that isn't by design.\n\nLove the tool in every other way!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/434/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/431", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/431/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/431/events", "html_url": "https://github.com/aws/aws-cli/issues/431", "id": 21381158, "node_id": "MDU6SXNzdWUyMTM4MTE1OA==", "number": 431, "title": "s3 sync incorrect behaviour if files have same name as directories", "user": {"login": "qtiki", "id": 752359, "node_id": "MDQ6VXNlcjc1MjM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/752359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qtiki", "html_url": "https://github.com/qtiki", "followers_url": "https://api.github.com/users/qtiki/followers", "following_url": "https://api.github.com/users/qtiki/following{/other_user}", "gists_url": "https://api.github.com/users/qtiki/gists{/gist_id}", "starred_url": "https://api.github.com/users/qtiki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qtiki/subscriptions", "organizations_url": "https://api.github.com/users/qtiki/orgs", "repos_url": "https://api.github.com/users/qtiki/repos", "events_url": "https://api.github.com/users/qtiki/events{/privacy}", "received_events_url": "https://api.github.com/users/qtiki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2013-10-22T13:21:11Z", "updated_at": "2013-10-28T21:30:16Z", "closed_at": "2013-10-28T21:30:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using aws s3 sync to upload a directory to s3 that has filenames that are identical to directories s3 sync incorrectly detects them as changed.\n\nExample:\n\n```\nmkdir test\ncd test\necho foobar > foo.txt\nmkdir foo\necho foobar > foo/foo2.txt\naws s3 sync . s3://<your_bucket_here>/test/ --delete\n```\n\nOn the first s3 sync the output is as expected:\n\n```\nupload: ./foo.txt to s3://<your_bucket_here>/test/foo.txt\nupload: foo/foo2.txt to s3://<your_bucket_here>/test/foo/foo2.txt\n```\n\nBut on the second s3 sync (and all subsequent ones) this happens:\n\n```\ndelete: s3://<your_bucket_here>/test/foo.txt\nupload: ./foo.txt to s3://<your_bucket_here>/test/foo.txt\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/431/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/425", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/425/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/425/events", "html_url": "https://github.com/aws/aws-cli/issues/425", "id": 21342978, "node_id": "MDU6SXNzdWUyMTM0Mjk3OA==", "number": 425, "title": "aws s3 silently fails to handle filesystem exceptions (e.g. broken symlinks)", "user": {"login": "alexanderAtGEn", "id": 4147347, "node_id": "MDQ6VXNlcjQxNDczNDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4147347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexanderAtGEn", "html_url": "https://github.com/alexanderAtGEn", "followers_url": "https://api.github.com/users/alexanderAtGEn/followers", "following_url": "https://api.github.com/users/alexanderAtGEn/following{/other_user}", "gists_url": "https://api.github.com/users/alexanderAtGEn/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexanderAtGEn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexanderAtGEn/subscriptions", "organizations_url": "https://api.github.com/users/alexanderAtGEn/orgs", "repos_url": "https://api.github.com/users/alexanderAtGEn/repos", "events_url": "https://api.github.com/users/alexanderAtGEn/events{/privacy}", "received_events_url": "https://api.github.com/users/alexanderAtGEn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2013-10-21T20:46:38Z", "updated_at": "2014-04-03T20:03:54Z", "closed_at": "2013-11-27T20:19:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Symptoms\n\nWhen trying to sync/cp from a local directory to S3, `aws cli` will exit silently, and with a non-error (0) exit status, if it runs into a filesystem exception.  This issue can be reproduced with aws-cli v1.2.0.\n\nI noticed this problem while trying to sync a directory hierarchy that contained a broken symlink.  The sync would begin, and then prematurely stop before all files had been sync'ed up, with no clear explanation as to why.\n\nTurning on debug will provide the actual exception.  In my case, it was an `os.stat` on a broken symlink:\n\n```\n2013-10-21 20:45:01,071 - awscli.customizations.s3.s3handler - DEBUG - Exception caught during task execution: [Errno 2] No such file or directory: '/tmp/aws-s3-testdir/anotherdir/brokensymlink'\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/awscli/customizations/s3/s3handler.py\", line 76, in call\n    total_files, total_parts = self._enqueue_tasks(files)\n  File \"/usr/lib/python2.7/dist-packages/awscli/customizations/s3/s3handler.py\", line 150, in _enqueue_tasks\n    for filename in files:\n  File \"/usr/lib/python2.7/dist-packages/awscli/customizations/s3/comparator.py\", line 80, in call\n    src_file = advance_iterator(src_files)\n  File \"/usr/lib/python2.7/dist-packages/awscli/customizations/s3/filegenerator.py\", line 49, in call\n    for src_path, size, last_update in file_list:\n  File \"/usr/lib/python2.7/dist-packages/awscli/customizations/s3/filegenerator.py\", line 87, in list_files\n    for x in self.list_files(file_path, dir_op):\n  File \"/usr/lib/python2.7/dist-packages/awscli/customizations/s3/filegenerator.py\", line 90, in list_files\n    size, last_update = get_file_stat(file_path)\n  File \"/usr/lib/python2.7/dist-packages/awscli/customizations/s3/utils.py\", line 77, in get_file_stat\n    stats = os.stat(path)\nOSError: [Errno 2] No such file or directory: '/tmp/aws-s3-testdir/anotherdir/brokensymlink'\n```\n\n---\n# Reproducing The Problem\n\nCreate a set of test subdirectories/files, along with a broken symlink.\n\n```\n$ mkdir test-sync-dir\n$ cd test-sync-dir/\n$ mkdir somedir\n$ cd somedir/\n$ touch textfile.txt\n$ cd ..\n$ mkdir anotherdir\n$ cd anotherdir/\n$ ln -s nowhere brokensymlink\n$ cd ../..\n```\n\nSetup an S3 bucket with nothing in it, to sync into.\n\n```\n$ aws s3 mb s3://my-test-bucket\n$ aws s3 ls s3://my-test-bucket/\n\nBucket: my-test-bucket\nPrefix: \n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n```\n\nAttempt to sync your test subdirectory into S3.\n\n```\n$ aws s3 sync test-sync-dir s3://my-test-bucket/\n$ echo $?\n0\n$ aws s3 ls s3://my-test-bucket/\n\nBucket: my-test-bucket\nPrefix: \n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n```\n\nNote that nothing was put into the bucket, and no errors were reported.\n\nNow, remove the broken symlink.\n\n```\n$ rm anotherdir/brokensymlink \n$ aws s3 sync test-sync-dir s3://my-test-bucket/\n$ echo $?\n0\n$ aws s3 ls s3://my-test-bucket/\n\nBucket: my-test-bucket\nPrefix: \n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n                           PRE somedir/\n$ aws s3 ls s3://my-test-bucket/somedir/\n\nBucket: my-test-bucket\nPrefix: somedir/\n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n2013-10-21 20:13:39          0 textfile.txt\n```\n\nNote that files were sync'ed to the S3 bucket.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/425/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/418", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/418/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/418/events", "html_url": "https://github.com/aws/aws-cli/issues/418", "id": 21169620, "node_id": "MDU6SXNzdWUyMTE2OTYyMA==", "number": 418, "title": "\"aws cloudformation validate-template --template-body file://filename.json\" not working", "user": {"login": "nikolay", "id": 2882, "node_id": "MDQ6VXNlcjI4ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/2882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikolay", "html_url": "https://github.com/nikolay", "followers_url": "https://api.github.com/users/nikolay/followers", "following_url": "https://api.github.com/users/nikolay/following{/other_user}", "gists_url": "https://api.github.com/users/nikolay/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikolay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikolay/subscriptions", "organizations_url": "https://api.github.com/users/nikolay/orgs", "repos_url": "https://api.github.com/users/nikolay/repos", "events_url": "https://api.github.com/users/nikolay/events{/privacy}", "received_events_url": "https://api.github.com/users/nikolay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2013-10-17T17:20:44Z", "updated_at": "2013-10-29T22:43:24Z", "closed_at": "2013-10-29T22:43:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the extremely meaningful \"A client error (Unknown) occurred: Unknown\" all the time.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/411", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/411/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/411/events", "html_url": "https://github.com/aws/aws-cli/issues/411", "id": 21079930, "node_id": "MDU6SXNzdWUyMTA3OTkzMA==", "number": 411, "title": "zsh completion should make sure compinit has been run", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-10-16T13:29:28Z", "updated_at": "2013-10-16T16:36:23Z", "closed_at": "2013-10-16T16:36:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you have a profile that does not already run compinit, the current zsh completion script will error and completion will not work.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/407", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/407/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/407/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/407/events", "html_url": "https://github.com/aws/aws-cli/issues/407", "id": 20952728, "node_id": "MDU6SXNzdWUyMDk1MjcyOA==", "number": 407, "title": "AWS SNS 'StringParameter' object has no attribute 'enum' ", "user": {"login": "keithyau", "id": 659311, "node_id": "MDQ6VXNlcjY1OTMxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/659311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keithyau", "html_url": "https://github.com/keithyau", "followers_url": "https://api.github.com/users/keithyau/followers", "following_url": "https://api.github.com/users/keithyau/following{/other_user}", "gists_url": "https://api.github.com/users/keithyau/gists{/gist_id}", "starred_url": "https://api.github.com/users/keithyau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keithyau/subscriptions", "organizations_url": "https://api.github.com/users/keithyau/orgs", "repos_url": "https://api.github.com/users/keithyau/repos", "events_url": "https://api.github.com/users/keithyau/events{/privacy}", "received_events_url": "https://api.github.com/users/keithyau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2013-10-14T12:05:53Z", "updated_at": "2013-12-03T22:04:32Z", "closed_at": "2013-12-03T22:04:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there, \n\nI tried both Shorthand Syntax and JSON syntax following \n\nhttp://docs.aws.amazon.com/cli/latest/reference/sns/create-platform-application.html\n\nwith no luck.\n\nThe error is 'StringParameter' object has no attribute 'enum' \n\nmy command is \n\naws sns create-platform-application --name testAndroid --platform GCM --attributes key=\"PlatformCredential\",value=\"the key from google console\"\n\nor \n\naws sns create-platform-application --name testAndroid --platform GCM --attributes  thejsonfile\n\nmy json file is \n[\n {\n  \"key\":\"PlatformCredential\",\n  \"value\":\"the key from google console \"\n }\n]\n\nPlease kindly help ~\n\nthanks\nKeith\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/407/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/401", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/401/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/401/events", "html_url": "https://github.com/aws/aws-cli/issues/401", "id": 20872439, "node_id": "MDU6SXNzdWUyMDg3MjQzOQ==", "number": 401, "title": "S3 - RequestTimeout during large files", "user": {"login": "lloydcotten", "id": 567067, "node_id": "MDQ6VXNlcjU2NzA2Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/567067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lloydcotten", "html_url": "https://github.com/lloydcotten", "followers_url": "https://api.github.com/users/lloydcotten/followers", "following_url": "https://api.github.com/users/lloydcotten/following{/other_user}", "gists_url": "https://api.github.com/users/lloydcotten/gists{/gist_id}", "starred_url": "https://api.github.com/users/lloydcotten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lloydcotten/subscriptions", "organizations_url": "https://api.github.com/users/lloydcotten/orgs", "repos_url": "https://api.github.com/users/lloydcotten/repos", "events_url": "https://api.github.com/users/lloydcotten/events{/privacy}", "received_events_url": "https://api.github.com/users/lloydcotten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 35, "created_at": "2013-10-11T14:38:23Z", "updated_at": "2022-05-18T01:33:02Z", "closed_at": "2013-10-17T16:38:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to upload a large file (9 GB) and getting a RequestTimeout error using `aws s3 mv ...`\n\nI haven't fully tested it yet, but it seems like if I run the command over and over it will eventually work.\n\nHere's the debug log from a failed attempt: https://s3.amazonaws.com/nimbus-public/s3_backup.log\n\nI'll post back if I determine that retrying the command several times works or not.\n\naws version: aws-cli/1.1.2 Python/2.7.3 Windows/2008ServerR2\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/400", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/400/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/400/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/400/events", "html_url": "https://github.com/aws/aws-cli/issues/400", "id": 20829987, "node_id": "MDU6SXNzdWUyMDgyOTk4Nw==", "number": 400, "title": "s3api delete-objects does not set Content-MD5", "user": {"login": "pedorro", "id": 1194957, "node_id": "MDQ6VXNlcjExOTQ5NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1194957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedorro", "html_url": "https://github.com/pedorro", "followers_url": "https://api.github.com/users/pedorro/followers", "following_url": "https://api.github.com/users/pedorro/following{/other_user}", "gists_url": "https://api.github.com/users/pedorro/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedorro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedorro/subscriptions", "organizations_url": "https://api.github.com/users/pedorro/orgs", "repos_url": "https://api.github.com/users/pedorro/repos", "events_url": "https://api.github.com/users/pedorro/events{/privacy}", "received_events_url": "https://api.github.com/users/pedorro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2013-10-10T19:36:46Z", "updated_at": "2013-10-17T18:48:51Z", "closed_at": "2013-10-13T14:27:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ aws s3api delete-objects --profile myProfile --bucket myBucket --delete '{\"Objects\":[{\"Key\":\"the/first/key\"},{\"Key\":\"the/second/key\"}]}'\nA client error (InvalidRequest) occurred: Missing required header for this request: Content-MD5\n$\n```\n\nI assume the aws-cli tool should be generating the request MD5 automatically right?  It's not something I'm supposed to be somehow adding to my request myself.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/399", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/399/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/399/events", "html_url": "https://github.com/aws/aws-cli/issues/399", "id": 20828743, "node_id": "MDU6SXNzdWUyMDgyODc0Mw==", "number": 399, "title": "trying to upload empty file fails with a NotImplemented error", "user": {"login": "rustyrazorblade", "id": 337872, "node_id": "MDQ6VXNlcjMzNzg3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/337872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rustyrazorblade", "html_url": "https://github.com/rustyrazorblade", "followers_url": "https://api.github.com/users/rustyrazorblade/followers", "following_url": "https://api.github.com/users/rustyrazorblade/following{/other_user}", "gists_url": "https://api.github.com/users/rustyrazorblade/gists{/gist_id}", "starred_url": "https://api.github.com/users/rustyrazorblade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rustyrazorblade/subscriptions", "organizations_url": "https://api.github.com/users/rustyrazorblade/orgs", "repos_url": "https://api.github.com/users/rustyrazorblade/repos", "events_url": "https://api.github.com/users/rustyrazorblade/events{/privacy}", "received_events_url": "https://api.github.com/users/rustyrazorblade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2013-10-10T19:14:29Z", "updated_at": "2013-10-25T18:30:49Z", "closed_at": "2013-10-21T21:37:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to sync a directory to s3 with an empty file, and got this error:\n\n`A header you provided implies functionality that is not implemented`\n\nthe command I used:\n\n``````\naws --region us-west-2 --delete s3 sync puppet s3://shift.staging.puppet\nupload failed: puppet/manifests/nodes/jenkins.pp to s3://shift.staging.puppet/manifests/nodes/jenkins.pp```\n``````\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/399/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/393", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/393/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/393/events", "html_url": "https://github.com/aws/aws-cli/issues/393", "id": 20405103, "node_id": "MDU6SXNzdWUyMDQwNTEwMw==", "number": 393, "title": "VIMPAGER error", "user": {"login": "carlsverre", "id": 82591, "node_id": "MDQ6VXNlcjgyNTkx", "avatar_url": "https://avatars.githubusercontent.com/u/82591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlsverre", "html_url": "https://github.com/carlsverre", "followers_url": "https://api.github.com/users/carlsverre/followers", "following_url": "https://api.github.com/users/carlsverre/following{/other_user}", "gists_url": "https://api.github.com/users/carlsverre/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlsverre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlsverre/subscriptions", "organizations_url": "https://api.github.com/users/carlsverre/orgs", "repos_url": "https://api.github.com/users/carlsverre/repos", "events_url": "https://api.github.com/users/carlsverre/events{/privacy}", "received_events_url": "https://api.github.com/users/carlsverre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-10-02T16:19:28Z", "updated_at": "2013-10-22T17:10:02Z", "closed_at": "2013-10-22T17:10:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I realize that it is a bit of an aside, but it would be great to support alternative pagers.\n\n```\n~ $ echo $MANPAGER\n/bin/sh -c \"col -bx | vim -c 'set ft=man' -\"\n~ $ python --version                                                                                                                    1\nPython 2.7.5\n~ $ pip --version\npip 1.4.1 from /Users/carl/.virtualenv/lib/python2.7/site-packages (python 2.7)\n~ $ aws --version\naws-cli/1.1.0 Python/2.7.5 Darwin/12.5.0\n~ $ aws help\n-bx: -c: line 0: unexpected EOF while looking for matching `\"'\n-bx: -c: line 1: syntax error: unexpected end of file\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/393/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/384", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/384/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/384/events", "html_url": "https://github.com/aws/aws-cli/issues/384", "id": 20226510, "node_id": "MDU6SXNzdWUyMDIyNjUxMA==", "number": 384, "title": "Internal Error with aws ec2 modify-image-attribute", "user": {"login": "cperciva", "id": 5085436, "node_id": "MDQ6VXNlcjUwODU0MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/5085436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cperciva", "html_url": "https://github.com/cperciva", "followers_url": "https://api.github.com/users/cperciva/followers", "following_url": "https://api.github.com/users/cperciva/following{/other_user}", "gists_url": "https://api.github.com/users/cperciva/gists{/gist_id}", "starred_url": "https://api.github.com/users/cperciva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cperciva/subscriptions", "organizations_url": "https://api.github.com/users/cperciva/orgs", "repos_url": "https://api.github.com/users/cperciva/repos", "events_url": "https://api.github.com/users/cperciva/events{/privacy}", "received_events_url": "https://api.github.com/users/cperciva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2013-09-29T09:36:04Z", "updated_at": "2013-10-02T15:06:29Z", "closed_at": "2013-10-02T15:06:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "  # aws ec2 modify-image-attribute --region us-west-2 --image-id ami-5ace5062 --operation-type add --user-groups all --debug\n\n2013-09-29 02:15:07,299 - botocore.service - DEBUG - Creating service object for: ec2\n2013-09-29 02:15:07,300 - botocore.base - DEBUG - Attempting to load: aws/ec2\n2013-09-29 02:15:07,394 - botocore.base - DEBUG - Found data file: /usr/local/lib/python2.7/site-packages/botocore-0.17.0-py2.7.egg/botocore/data/aws/ec2.json\n2013-09-29 02:15:07,395 - botocore.hooks - DEBUG - Event service-created: calling handler <function register_retries_for_service at 0x804f62050>\n2013-09-29 02:15:07,395 - botocore.handlers - DEBUG - Registering retry handlers for service: Service(ec2)\n2013-09-29 02:15:07,395 - botocore.service - DEBUG - Creating operation objects for: Service(ec2)\n2013-09-29 02:15:07,409 - botocore.hooks - DEBUG - Event building-command-table.ec2: calling handler <functools.partial object at 0x8078c97e0>\n2013-09-29 02:15:07,409 - awscli.customizations.removals - DEBUG - Removing operation: import-instance\n2013-09-29 02:15:07,409 - awscli.customizations.removals - DEBUG - Removing operation: import-volume\n2013-09-29 02:15:07,409 - botocore.operation - DEBUG - Creating parameter objects for: Operation:ModifyImageAttribute\n2013-09-29 02:15:07,410 - awscli.clidriver - DEBUG - OrderedDict([(u'dry-run', <awscli.arguments.BooleanArgument object at 0x808338450>), (u'no-dry-run', <awscli.arguments.BooleanArgument object at 0x808338550>), (u'image-id', <awscli.arguments.CLIArgument object at 0x808338590>), (u'attribute', <awscli.arguments.CLIArgument object at 0x8083385d0>), (u'operation-type', <awscli.arguments.CLIArgument object at 0x808338650>), (u'user-ids', <awscli.arguments.ListArgument object at 0x808338690>), (u'user-groups', <awscli.arguments.ListArgument object at 0x8083386d0>), (u'product-codes', <awscli.arguments.ListArgument object at 0x808338710>), (u'value', <awscli.arguments.CLIArgument object at 0x808338750>), (u'launch-permission', <awscli.arguments.CLIArgument object at 0x808338790>), (u'description', <awscli.arguments.CLIArgument object at 0x8083387d0>)])\n2013-09-29 02:15:07,411 - botocore.hooks - DEBUG - Event building-argument-table.ec2.modify-image-attribute: calling handler <function _rename_arg at 0x8078d02a8>\n2013-09-29 02:15:07,411 - botocore.hooks - DEBUG - Event building-argument-table.ec2.modify-image-attribute: calling handler <function _rename_arg at 0x8078d0320>\n2013-09-29 02:15:07,411 - botocore.hooks - DEBUG - Event building-argument-table.ec2.modify-image-attribute: calling handler <function unify_paging_params at 0x806f45f50>\n2013-09-29 02:15:07,412 - botocore.hooks - DEBUG - Event process-cli-arg.ec2.modify-image-attribute: calling handler <awscli.argprocess.ParamShorthand object at 0x8078c8950>\n2013-09-29 02:15:07,412 - awscli.arguments - DEBUG - Unpacked value of \"ami-5ace5062\" for parameter \"image_id\": ami-5ace5062\n2013-09-29 02:15:07,412 - botocore.hooks - DEBUG - Event process-cli-arg.ec2.modify-image-attribute: calling handler <awscli.argprocess.ParamShorthand object at 0x8078c8950>\n2013-09-29 02:15:07,412 - awscli.arguments - DEBUG - Unpacked value of \"add\" for parameter \"operation_type\": add\n2013-09-29 02:15:07,412 - botocore.hooks - DEBUG - Event process-cli-arg.ec2.modify-image-attribute: calling handler <awscli.argprocess.ParamShorthand object at 0x8078c8950>\n2013-09-29 02:15:07,412 - awscli.arguments - DEBUG - Unpacked value of \"['all']\" for parameter \"user_groups\": ['all']\n2013-09-29 02:15:07,413 - botocore.credentials - INFO - Found credentials in config file.\n2013-09-29 02:15:07,413 - botocore.operation - DEBUG - Operation:ModifyImageAttribute called with kwargs: {u'operation_type': 'add', u'image_id': 'ami-5ace5062', u'user_groups': ['all']}\n2013-09-29 02:15:07,413 - botocore.parameters - DEBUG - Building parameter for query service, name: u'UserGroups', label: ''\n2013-09-29 02:15:07,413 - botocore.endpoint - DEBUG - Making request for Operation:ModifyImageAttribute (verify_ssl=True) with params: {u'UserGroup.1': 'all', u'OperationType': 'add', u'ImageId': 'ami-5ace5062'}\n2013-09-29 02:15:07,413 - botocore.auth - DEBUG - Calculating signature using v2 auth.\n2013-09-29 02:15:07,414 - botocore.auth - DEBUG - String to sign: POST\nec2.us-west-2.amazonaws.com\n/\nAWSAccessKeyId=07G3159HQ3Z614FJ8GR2&Action=ModifyImageAttribute&ImageId=ami-5ace5062&OperationType=add&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2013-09-29T09%3A15%3A07.413820&UserGroup.1=all&Version=2013-08-15\n2013-09-29 02:15:07,419 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2013-09-29 02:15:08,277 - botocore.response - DEBUG - Response Body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response><Errors><Error><Code>InternalError</Code><Message>An internal error has occurred</Message></Error></Errors><RequestID>cd8f13d0-aa29-4565-a997-84c60a6b8e74</RequestID></Response>\n2013-09-29 02:15:08,278 - botocore.hooks - DEBUG - Event needs-retry.ec2.ModifyImageAttribute: calling handler <botocore.retryhandler.RetryHandler object at 0x8082ae490>\n2013-09-29 02:15:08,278 - botocore.retryhandler - DEBUG - Retry needed, action of: 0.346281291417\n2013-09-29 02:15:08,278 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.346281291417 seconds\n2013-09-29 02:15:08,626 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2013-09-29 02:15:08,858 - botocore.response - DEBUG - Response Body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response><Errors><Error><Code>InternalError</Code><Message>An internal error has occurred</Message></Error></Errors><RequestID>3b8d45b4-bd19-421e-83a4-7381d42177e5</RequestID></Response>\n2013-09-29 02:15:08,858 - botocore.hooks - DEBUG - Event needs-retry.ec2.ModifyImageAttribute: calling handler <botocore.retryhandler.RetryHandler object at 0x8082ae490>\n2013-09-29 02:15:08,858 - botocore.retryhandler - DEBUG - Retry needed, action of: 0.983022082948\n2013-09-29 02:15:08,859 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.983022082948 seconds\n2013-09-29 02:15:09,844 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2013-09-29 02:15:10,072 - botocore.response - DEBUG - Response Body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response><Errors><Error><Code>InternalError</Code><Message>An internal error has occurred</Message></Error></Errors><RequestID>090c4b02-4691-4f5b-b435-33debc47c908</RequestID></Response>\n2013-09-29 02:15:10,072 - botocore.hooks - DEBUG - Event needs-retry.ec2.ModifyImageAttribute: calling handler <botocore.retryhandler.RetryHandler object at 0x8082ae490>\n2013-09-29 02:15:10,072 - botocore.retryhandler - DEBUG - Retry needed, action of: 1.78164488517\n2013-09-29 02:15:10,073 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 1.78164488517 seconds\n2013-09-29 02:15:11,856 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2013-09-29 02:15:12,102 - botocore.response - DEBUG - Response Body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response><Errors><Error><Code>InternalError</Code><Message>An internal error has occurred</Message></Error></Errors><RequestID>aa310665-2f3c-464f-9a61-0b641a16f841</RequestID></Response>\n2013-09-29 02:15:12,104 - botocore.hooks - DEBUG - Event needs-retry.ec2.ModifyImageAttribute: calling handler <botocore.retryhandler.RetryHandler object at 0x8082ae490>\n2013-09-29 02:15:12,105 - botocore.retryhandler - DEBUG - Retry needed, action of: 4.47551008609\n2013-09-29 02:15:12,106 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 4.47551008609 seconds\n2013-09-29 02:15:16,584 - botocore.endpoint - DEBUG - Sending http request: <PreparedRequest [POST]>\n2013-09-29 02:15:16,829 - botocore.response - DEBUG - Response Body:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response><Errors><Error><Code>InternalError</Code><Message>An internal error has occurred</Message></Error></Errors><RequestID>5e94c933-b8ba-4c14-9b48-5beb16eb539c</RequestID></Response>\n2013-09-29 02:15:16,831 - botocore.hooks - DEBUG - Event needs-retry.ec2.ModifyImageAttribute: calling handler <botocore.retryhandler.RetryHandler object at 0x8082ae490>\n2013-09-29 02:15:16,832 - botocore.retryhandler - DEBUG - Reached the maximum number of retry attempts: 5\n2013-09-29 02:15:16,833 - botocore.retryhandler - DEBUG - No retry needed.\n2013-09-29 02:15:16,834 - botocore.hooks - DEBUG - Event after-call.ec2.ModifyImageAttribute: calling handler <awscli.errorhandler.ErrorHandler object at 0x8078c8990>\n2013-09-29 02:15:16,834 - awscli.errorhandler - DEBUG - HTTP Response Code: 500\n2013-09-29 02:15:16,835 - awscli.clidriver - DEBUG - Exception caught in main()\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/awscli-1.1.0-py2.7.egg/awscli/clidriver.py\", line 184, in main\n    return command_table[parsed_args.command](remaining, parsed_args)\n  File \"/usr/local/lib/python2.7/site-packages/awscli-1.1.0-py2.7.egg/awscli/clidriver.py\", line 304, in **call**\n    return command_table[parsed_args.operation](remaining, parsed_globals)\n  File \"/usr/local/lib/python2.7/site-packages/awscli-1.1.0-py2.7.egg/awscli/clidriver.py\", line 412, in **call**\n    self._operation_object, call_parameters, parsed_globals)\n  File \"/usr/local/lib/python2.7/site-packages/awscli-1.1.0-py2.7.egg/awscli/clidriver.py\", line 497, in invoke\n    **parameters)\n  File \"/usr/local/lib/python2.7/site-packages/botocore-0.17.0-py2.7.egg/botocore/operation.py\", line 82, in call\n    parsed=response[1])\n  File \"/usr/local/lib/python2.7/site-packages/botocore-0.17.0-py2.7.egg/botocore/session.py\", line 550, in emit\n    return self._events.emit(event_name, **kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/botocore-0.17.0-py2.7.egg/botocore/hooks.py\", line 158, in emit\n    response = handler(**kwargs)\n  File \"/usr/local/lib/python2.7/site-packages/awscli-1.1.0-py2.7.egg/awscli/errorhandler.py\", line 45, in __call__\n    raise ServerError(msg)\nServerError: A server error (InternalError) occurred: An internal error has occurred\n2013-09-29 02:15:16,849 - awscli.clidriver - DEBUG - Exiting with rc 255\nA server error (InternalError) occurred: An internal error has occurred\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/382", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/382/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/382/events", "html_url": "https://github.com/aws/aws-cli/issues/382", "id": 20185396, "node_id": "MDU6SXNzdWUyMDE4NTM5Ng==", "number": 382, "title": "The --name option of aws ec2 copy-image should not be required.", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-09-27T18:01:41Z", "updated_at": "2013-09-30T20:40:03Z", "closed_at": "2013-09-30T15:27:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The latest [api docs](http://docs.aws.amazon.com/AWSEC2/latest/APIReference/ApiReference-query-CopyImage.html) show that this parameter is optional.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/381", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/381/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/381/events", "html_url": "https://github.com/aws/aws-cli/issues/381", "id": 20147505, "node_id": "MDU6SXNzdWUyMDE0NzUwNQ==", "number": 381, "title": "aws s3 sync: \"Too many open files\" and \"[Errno 185090050] _ssl.c:340: error:0B084002:x509 certificate routines:X509_load_cert_crl_file:system lib\"", "user": {"login": "ehammond", "id": 531159, "node_id": "MDQ6VXNlcjUzMTE1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/531159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehammond", "html_url": "https://github.com/ehammond", "followers_url": "https://api.github.com/users/ehammond/followers", "following_url": "https://api.github.com/users/ehammond/following{/other_user}", "gists_url": "https://api.github.com/users/ehammond/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehammond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehammond/subscriptions", "organizations_url": "https://api.github.com/users/ehammond/orgs", "repos_url": "https://api.github.com/users/ehammond/repos", "events_url": "https://api.github.com/users/ehammond/events{/privacy}", "received_events_url": "https://api.github.com/users/ehammond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-09-27T01:45:21Z", "updated_at": "2013-10-01T02:15:04Z", "closed_at": "2013-09-30T22:10:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "This command is failing:\n\n```\naws s3 sync /data/foo/2013-09-26 s3://foo/2013-09-26\n```\n\nIt starts copying files successfully (647 files, 2300+ parts) and then starts printing errors that look like:\n\n```\nupload failed: ../data/foo/2013-09-26/bar1/baz1 to s3://foo/2013-09-26/bar1/baz1\n[Errno 24] Too many open files: u'/data/foo/2013-09-26/bar1/baz1'\n\nupload failed: ../data/foo/2013-09-26/bar1/baz2 to s3://foo/2013-09-26/bar1/baz2\n[Errno 185090050] _ssl.c:340: error:0B084002:x509 certificate routines:X509_load_cert_crl_file:system lib\n```\n\nThe source directory has 8 subdirectories with 8,000+ files totaling 120+GB.  The biggest files are a bit over 1GB. The target bucket has many keys, but none starting with \"2013-09-26\" before running the command.\n\nI'm using the latest code on the \"develop\" branch [be15715a]\n\nI am able to reproduce this and am unable to use aws-cli to copy these directories to S3.\n\nLet me know what other information might be helpful.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/377", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/377/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/377/events", "html_url": "https://github.com/aws/aws-cli/issues/377", "id": 20109593, "node_id": "MDU6SXNzdWUyMDEwOTU5Mw==", "number": 377, "title": "s3 list-object-versions does not return DeleteMarkers", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2013-09-26T13:33:47Z", "updated_at": "2013-09-30T20:40:03Z", "closed_at": "2013-09-30T15:29:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The command:\n\n```\naws s3 list-object-versions --bucket mybucket\n```\n\nshould return all of the `Versions` in the bucket as well as all of the `DeleteMarkers` but the `DeleteMarkers` are not showing up in the final JSON response.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/377/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/376", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/376/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/376/events", "html_url": "https://github.com/aws/aws-cli/issues/376", "id": 19970900, "node_id": "MDU6SXNzdWUxOTk3MDkwMA==", "number": 376, "title": "aws s3 sync does not raise error if target bucket does not exist", "user": {"login": "ninjaMog", "id": 1140955, "node_id": "MDQ6VXNlcjExNDA5NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1140955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ninjaMog", "html_url": "https://github.com/ninjaMog", "followers_url": "https://api.github.com/users/ninjaMog/followers", "following_url": "https://api.github.com/users/ninjaMog/following{/other_user}", "gists_url": "https://api.github.com/users/ninjaMog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ninjaMog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ninjaMog/subscriptions", "organizations_url": "https://api.github.com/users/ninjaMog/orgs", "repos_url": "https://api.github.com/users/ninjaMog/repos", "events_url": "https://api.github.com/users/ninjaMog/events{/privacy}", "received_events_url": "https://api.github.com/users/ninjaMog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-09-24T11:21:22Z", "updated_at": "2013-10-02T03:50:45Z", "closed_at": "2013-10-02T03:50:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running aws s3 sync with a local directory, and a target bucket that does not exist, no error text is displayed, and the tool has a return code of 0\n\nThis means we cannot tell the difference between a successful sync, and a sync that failed as the destination bucket does not exist. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/375", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/375/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/375/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/375/events", "html_url": "https://github.com/aws/aws-cli/issues/375", "id": 19968595, "node_id": "MDU6SXNzdWUxOTk2ODU5NQ==", "number": 375, "title": "[s3api] enable MFADelete return an error", "user": {"login": "julienbachmann", "id": 154371, "node_id": "MDQ6VXNlcjE1NDM3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/154371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julienbachmann", "html_url": "https://github.com/julienbachmann", "followers_url": "https://api.github.com/users/julienbachmann/followers", "following_url": "https://api.github.com/users/julienbachmann/following{/other_user}", "gists_url": "https://api.github.com/users/julienbachmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/julienbachmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julienbachmann/subscriptions", "organizations_url": "https://api.github.com/users/julienbachmann/orgs", "repos_url": "https://api.github.com/users/julienbachmann/repos", "events_url": "https://api.github.com/users/julienbachmann/events{/privacy}", "received_events_url": "https://api.github.com/users/julienbachmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2013-09-24T10:24:27Z", "updated_at": "2013-10-03T07:11:59Z", "closed_at": "2013-10-02T22:30:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to enable MFADelete but I receive the error:\nA client error (MalformedXML) occurred: The XML you provided was not well-formed or did not validate against our published schema\n\nLooking at the documentation I saw the XML element is MfaDelete and not MFADelete. So I try to use MfsDelete instead but then I get:\nUnknown key 'MfaDelete' for param 'VersioningConfiguration'.  Must be one of: MFADelete, Status\n\nHere is the command I run:\n`aws s3api put-bucket-versioning --bucket mybucketname --versioning-configuration '{\"MFADelete\":\"Enabled\",\"Status\":\"Enabled\"}' --mfa 'serial_number 123456'`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/375/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/369", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/369/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/369/events", "html_url": "https://github.com/aws/aws-cli/issues/369", "id": 19824455, "node_id": "MDU6SXNzdWUxOTgyNDQ1NQ==", "number": 369, "title": "aws s3 mv leaks memory when uploading large file", "user": {"login": "iserko", "id": 473071, "node_id": "MDQ6VXNlcjQ3MzA3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/473071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iserko", "html_url": "https://github.com/iserko", "followers_url": "https://api.github.com/users/iserko/followers", "following_url": "https://api.github.com/users/iserko/following{/other_user}", "gists_url": "https://api.github.com/users/iserko/gists{/gist_id}", "starred_url": "https://api.github.com/users/iserko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iserko/subscriptions", "organizations_url": "https://api.github.com/users/iserko/orgs", "repos_url": "https://api.github.com/users/iserko/repos", "events_url": "https://api.github.com/users/iserko/events{/privacy}", "received_events_url": "https://api.github.com/users/iserko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2013-09-20T15:38:27Z", "updated_at": "2013-11-04T05:17:12Z", "closed_at": "2013-09-23T23:19:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using aws-cli 1.1.0 I was attempting to upload a 1.7GB plain text file using `aws s3 mv localfile s3://bucket_name/remotefile`. And it used up all the memory on the server dipping into the swap memory.\n\n```\n$ aws --version\naws-cli/1.1.0 Python/2.7.3 Linux/3.2.0-40-virtual\n$ pip freeze -l\nawscli==1.1.0\nbcdoc==0.10.0\nbotocore==0.17.0\ncolorama==0.2.5\ndistribute==0.6.24\ndocutils==0.11\njmespath==0.0.2\nply==3.4\npyasn1==0.1.7\npython-dateutil==2.1\nrequests==1.2.3\nrsa==3.1.2\nsix==1.4.1\n```\n\nSeemed like it was stuck in a never-ending loop. Had to kill -9 the process, Interrupting it didn't work.\n\nOutput of `vmstat 1` on Ubuntu 12.04.2 LTS (keep an eye out on the 3rd column)\n\n```\nprocs -----------memory---------- ---swap-- -----io---- -system-- ----cpu----\nr  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa\n1  0  32180 3509484   1696 235628    0    0     0     0  256  363  0  1 99  0\n0  0  32180 3509112   1696 236064    0    0     0     0  634  661  2  4 94  0\n0  0  32180 3508988   1708 236140    0    0     4    52  274  383  0  1 98  1\n0  0  32180 3508740   1952 236160    0    0   244     0  359  455  1  1 93  5\n0  0  32180 3507980   2076 236216    0    0   156     0  273  418  2  1 93  4\n0  0  32180 3507996   2076 236276    0    0     0     0  293  396  0  0 100  0\n0  0  32180 3507996   2076 236340    0    0     0     0  240  345  0  1 99  0\n0  1  32180 3459896   2084 252980    0    0 16588   160  864 1205 21 16 18 45\n0  1  32180 3344948   2084 310368    0    0 57344     0 1770 2566  2  9  0 89\n0  1  32180 3223944   2084 370828    0    0 60416     0 1849 2769  1 11  0 88\n1  1  32180 3099808   2084 432832    0    0 61952     0 1897 2661  0  9  0 89\n1  1  32180 2985972   2084 489816    0    0 56576     0 2230 2778  3 11  0 86\n0  1  32180 2888892   2092 538224    0    0 48384    72 1665 2309  0  7  0 93\n0  1  32180 2771832   2092 596640    0    0 58368     0 1795 2565  1 11  0 88\n0  1  32180 2655384   2092 654808    0    0 58112     0 1812 2621  0  9  0 91\n0  1  32180 2539812   2100 712460    0    0 57600    12 1943 2628  1 10  0 89\n1  0  32180 2420140   2100 772172    0    0 59648     0 1918 2672  2 10  0 87\n0  1  32180 2308784   2108 827756    0    0 55552   136 1907 2556  0 12  0 88\n0  1  32180 2212696   2108 875776    0    0 48000     0 1603 2069  0  5  0 95\n0  1  32180 2100728   2108 931672    0    0 55808     0 1869 2558  1  6  0 92\n0  1  32180 2002904   2108 980476    0    0 48768     0 1639 2184  0  9  0 90\n1  1  32180 1895028   2108 1034488    0    0 53632     0 1961 2639  4  9  0 87\n0  1  32180 1801048   2116 1081384    0    0 46848   740 1522 2172  1  7  0 92\n0  1  32180 1690568   2116 1136612    0    0 55168     0 1810 2622  0  8  0 92\n1  1  32180 1583800   2116 1189916    0    0 53248     0 1716 2461  0 10  0 90\n0  1  32180 1480024   2116 1241660    0    0 51712     0 1802 2518  2  6  0 92\n0  1  32180 1367180   2116 1298004    0    0 56320     0 1773 2488  1  9  0 90\n0  1  32180 1267496   2124 1347748    0    0 49664   868 1707 2310  1  8  0 90\n0  1  32180 1155892   2124 1403468    0    0 55680     0 1720 2419  0 10  0 90\n1  1  32180 1045776   2124 1458464    0    0 54912     0 1702 2449  1  6  0 92\n0  1  32180 924616   2124 1518896    0    0 60416     0 1601 2567  0  7  0 93\n0  1  32180 808548   2124 1577012    0    0 57728     0 2035 2653  2 10  0 88\n1  0  32180 726612   2132 1617848    0    0 40832  1688 1416 2063  1  8  0 90\n0  1  32180 611908   2132 1675168    0    0 57216    12 1757 2446  0  9  0 91\n0  1  32180 499560   2132 1731236    0    0 56064     0 1668 2514  1  9  0 90\n1  0  32180 391684   2132 1785068    0    0 53760     0 1732 2541  1  6  0 92\n2  0  32180  19024   1160 1757132    0    0 16136     0  834 1086 14 56  0 30\n1  0  32180  19048   1160 1429552    0    0   136    64  519  608 21 79  0  0\n1  0  32180  18340   1144 1027924    0    0     0     0  411  545 29 71  0  0\n1  0  32180  20200   1128 594712    0    0     0     0  520  734 26 74  0  0\n0  0  32180  19976   1120 227936    0    0   244     0  663  753 28 63  4  5\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/369/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/356", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/356/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/356/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/356/events", "html_url": "https://github.com/aws/aws-cli/issues/356", "id": 19579639, "node_id": "MDU6SXNzdWUxOTU3OTYzOQ==", "number": 356, "title": "Unable to set metadata on S3 objects", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2013-09-16T21:13:38Z", "updated_at": "2015-10-06T11:51:40Z", "closed_at": "2014-04-28T20:36:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Setting metadata when putting a new object with the low-level `s3api` command, fails.  Trying to do so using the shorthand syntax results in:\n\n```\n'StringParameter' object has no attribute 'enum' \n```\n\nand trying to use the JSON syntax gives:\n\n```\nAttributeError: 'dict' object has no attribute 'strip'\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/356/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/346", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/346/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/346/events", "html_url": "https://github.com/aws/aws-cli/issues/346", "id": 19333573, "node_id": "MDU6SXNzdWUxOTMzMzU3Mw==", "number": 346, "title": "Unable to delete a versioned object in S3", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "toastdriven", "id": 2449, "node_id": "MDQ6VXNlcjI0NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/2449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toastdriven", "html_url": "https://github.com/toastdriven", "followers_url": "https://api.github.com/users/toastdriven/followers", "following_url": "https://api.github.com/users/toastdriven/following{/other_user}", "gists_url": "https://api.github.com/users/toastdriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/toastdriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toastdriven/subscriptions", "organizations_url": "https://api.github.com/users/toastdriven/orgs", "repos_url": "https://api.github.com/users/toastdriven/repos", "events_url": "https://api.github.com/users/toastdriven/events{/privacy}", "received_events_url": "https://api.github.com/users/toastdriven/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-09-11T17:21:56Z", "updated_at": "2013-09-30T20:40:00Z", "closed_at": "2013-09-12T09:50:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See:\n\nhttps://forums.aws.amazon.com/thread.jspa?threadID=134675&tstart=0\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/345", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/345/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/345/events", "html_url": "https://github.com/aws/aws-cli/issues/345", "id": 19307861, "node_id": "MDU6SXNzdWUxOTMwNzg2MQ==", "number": 345, "title": "aws s3api get-bucket-location doesnt return anything", "user": {"login": "AlexanderThaller", "id": 357645, "node_id": "MDQ6VXNlcjM1NzY0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/357645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexanderThaller", "html_url": "https://github.com/AlexanderThaller", "followers_url": "https://api.github.com/users/AlexanderThaller/followers", "following_url": "https://api.github.com/users/AlexanderThaller/following{/other_user}", "gists_url": "https://api.github.com/users/AlexanderThaller/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexanderThaller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexanderThaller/subscriptions", "organizations_url": "https://api.github.com/users/AlexanderThaller/orgs", "repos_url": "https://api.github.com/users/AlexanderThaller/repos", "events_url": "https://api.github.com/users/AlexanderThaller/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexanderThaller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-09-11T09:28:52Z", "updated_at": "2015-10-05T22:39:18Z", "closed_at": "2014-01-16T18:58:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run `aws s3api get-bucket-location --bucket mytestbucket` I don't get anything back (but the return value is 0).\n\nI'm using the following version:\n\n> `aws-cli/1.0.0 Python/2.7.3 Linux/3.2.0-53-generic-pae`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/345/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/340", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/340/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/340/events", "html_url": "https://github.com/aws/aws-cli/issues/340", "id": 19246227, "node_id": "MDU6SXNzdWUxOTI0NjIyNw==", "number": 340, "title": "s3 command masks ClientError", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-09-10T09:16:48Z", "updated_at": "2015-08-06T20:09:44Z", "closed_at": "2013-10-02T22:32:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The s3 command seems to be masking ClientError's that are raised and failing silently.\n\nFor example, if I have a bucket named `foo.bar.fie.baz` in the `us-east-1` region and I have my default region set to `us-west-2` in my config file:\n\n```\n$ aws s3 ls s3://foo.bar.fie.baz\n\nBucket: foo.bar.fie.baz\nPrefix: \n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n```\n\nHowever, if I run with the `--debug` flag, I can see that a `ClientError` is being raised:\n\n```\n$ aws s3 ls s3://foo.bar.fie.baz --debug\n...\nClientError: A client error (PermanentRedirect) occurred: The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint.\n```\n\nAnd if I run it with the correct region, I do see the actual contents of the bucket.\n\nOriginally reported in the [forum](https://forums.aws.amazon.com/thread.jspa?threadID=134602&tstart=0).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/340/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/326", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/326/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/326/events", "html_url": "https://github.com/aws/aws-cli/issues/326", "id": 19091536, "node_id": "MDU6SXNzdWUxOTA5MTUzNg==", "number": 326, "title": "s3 sync leaks memory", "user": {"login": "jseppanen", "id": 83203, "node_id": "MDQ6VXNlcjgzMjAz", "avatar_url": "https://avatars.githubusercontent.com/u/83203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseppanen", "html_url": "https://github.com/jseppanen", "followers_url": "https://api.github.com/users/jseppanen/followers", "following_url": "https://api.github.com/users/jseppanen/following{/other_user}", "gists_url": "https://api.github.com/users/jseppanen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseppanen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseppanen/subscriptions", "organizations_url": "https://api.github.com/users/jseppanen/orgs", "repos_url": "https://api.github.com/users/jseppanen/repos", "events_url": "https://api.github.com/users/jseppanen/events{/privacy}", "received_events_url": "https://api.github.com/users/jseppanen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2013-09-06T07:15:37Z", "updated_at": "2014-02-21T02:03:19Z", "closed_at": "2013-09-17T15:16:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "When syncing many (thousands) of files from s3 to local filesystem, the aws process slowly eats up all the memory. For example, in one case, when aws had reported \"Completed 5000 part(s)\", the process used 4.1g memory. At 7300 parts, the memory usage had grown to 6.1g, at 13000 parts, to 12g, and so on.\n\nSteps to reproduce:\n1. create an s3 bucket with thousands of files\n2. aws --region eu-west-1 s3 sync s3://bucket/path local_path\n3. observe aws process memory consumption\n\n$\u00a0aws --version\naws-cli/1.0.0 Python/2.7.3 Linux/3.2.0-52-virtual\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/315", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/315/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/315/events", "html_url": "https://github.com/aws/aws-cli/issues/315", "id": 18996709, "node_id": "MDU6SXNzdWUxODk5NjcwOQ==", "number": 315, "title": "S3 operations between buckets fails with unicode file names", "user": {"login": "arturhoo", "id": 119276, "node_id": "MDQ6VXNlcjExOTI3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/119276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arturhoo", "html_url": "https://github.com/arturhoo", "followers_url": "https://api.github.com/users/arturhoo/followers", "following_url": "https://api.github.com/users/arturhoo/following{/other_user}", "gists_url": "https://api.github.com/users/arturhoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/arturhoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arturhoo/subscriptions", "organizations_url": "https://api.github.com/users/arturhoo/orgs", "repos_url": "https://api.github.com/users/arturhoo/repos", "events_url": "https://api.github.com/users/arturhoo/events{/privacy}", "received_events_url": "https://api.github.com/users/arturhoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2013-09-04T19:31:12Z", "updated_at": "2014-03-02T03:38:53Z", "closed_at": "2013-09-06T04:08:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I couldn't sync files that contained unicoded characters in their file names between two buckets. Eg.:\n\n``` bash\ncopy failed: s3://source_bucket/Bar\u00e7a.jpeg to s3://target_bucket/Bar\u00e7a.jpeg\nu'\\xe7'\ncopy failed: s3://source_bucket/Sem-T\u00edtulo-5.jpg to s3://target_bucket/Sem-T\u00edtulo-5.jpg\nu'\\xed'\n```\n\n**Edit:** I should also say that I am running Python 2.7.5\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/315/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/314", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/314/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/314/events", "html_url": "https://github.com/aws/aws-cli/issues/314", "id": 18988420, "node_id": "MDU6SXNzdWUxODk4ODQyMA==", "number": 314, "title": "s3 command does not properly escape URIs", "user": {"login": "nelhage", "id": 16725, "node_id": "MDQ6VXNlcjE2NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nelhage", "html_url": "https://github.com/nelhage", "followers_url": "https://api.github.com/users/nelhage/followers", "following_url": "https://api.github.com/users/nelhage/following{/other_user}", "gists_url": "https://api.github.com/users/nelhage/gists{/gist_id}", "starred_url": "https://api.github.com/users/nelhage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nelhage/subscriptions", "organizations_url": "https://api.github.com/users/nelhage/orgs", "repos_url": "https://api.github.com/users/nelhage/repos", "events_url": "https://api.github.com/users/nelhage/events{/privacy}", "received_events_url": "https://api.github.com/users/nelhage/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-09-04T18:26:48Z", "updated_at": "2013-09-06T19:46:20Z", "closed_at": "2013-09-06T19:46:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I haven't figured out exactly what's going on in all the cases here, but the `s3` subcommand seems to have some escaping bugs, at a minimum around the `+` character:\n\n```\n[nelhage@aeronautique:/tmp]$ aws --profile personal s3 cp emptyfile s3://livegrep/a+b/file\nupload: emptyfile to s3://livegrep/a+b/file\n[nelhage@aeronautique:/tmp]$ aws --profile personal s3 ls s3://livegrep/a+b\n\nBucket: livegrep\nPrefix: a+b/\n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n[nelhage@aeronautique:/tmp]$ aws --profile personal s3 ls s3://livegrep/a%2Bb\n\nBucket: livegrep\nPrefix: a%2Bb/\n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n2013-09-04 11:25:29          0 file\n[nelhage@aeronautique:/tmp]$ aws --profile personal s3 rm s3://livegrep/a%2Bb/file\nError: S3 Object does not exist\n[nelhage@aeronautique:/tmp]$ aws --profile personal s3 rm s3://livegrep/a+b/file\nError: S3 Object does not exist\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/311", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/311/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/311/events", "html_url": "https://github.com/aws/aws-cli/issues/311", "id": 18977093, "node_id": "MDU6SXNzdWUxODk3NzA5Mw==", "number": 311, "title": "opsworks create-instance doesn't allow a custom AMI to be used.", "user": {"login": "Pneumatus", "id": 842415, "node_id": "MDQ6VXNlcjg0MjQxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/842415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pneumatus", "html_url": "https://github.com/Pneumatus", "followers_url": "https://api.github.com/users/Pneumatus/followers", "following_url": "https://api.github.com/users/Pneumatus/following{/other_user}", "gists_url": "https://api.github.com/users/Pneumatus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pneumatus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pneumatus/subscriptions", "organizations_url": "https://api.github.com/users/Pneumatus/orgs", "repos_url": "https://api.github.com/users/Pneumatus/repos", "events_url": "https://api.github.com/users/Pneumatus/events{/privacy}", "received_events_url": "https://api.github.com/users/Pneumatus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-09-04T15:09:34Z", "updated_at": "2013-09-12T09:55:50Z", "closed_at": "2013-09-12T09:55:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "When creating a new OpsWorks instance in the console, the Advanced section allows you to select a pre-defined Operating system (Amazon Linux or Ubuntu 12.04 LTS) _or_ a Custom AMI. No such ability appears to exist in the CLI Tools.\n\nThe `aws opsworks create-instance` command's help page describes an `os` parameter:\n\n```\n\"--os\" (string)\n\n   The instance's operating system, which must be either \"Amazon\n   Linux\" or \"Ubuntu 12.04 LTS\".\n```\n\nSupplying a specific AMI-ID as an alternative to one of the pre-configured OS's should be possible.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/311/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/309", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/309/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/309/events", "html_url": "https://github.com/aws/aws-cli/issues/309", "id": 18967139, "node_id": "MDU6SXNzdWUxODk2NzEzOQ==", "number": 309, "title": "aws_completer lists currently unsupported services (emr)", "user": {"login": "fs111", "id": 33631, "node_id": "MDQ6VXNlcjMzNjMx", "avatar_url": "https://avatars.githubusercontent.com/u/33631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fs111", "html_url": "https://github.com/fs111", "followers_url": "https://api.github.com/users/fs111/followers", "following_url": "https://api.github.com/users/fs111/following{/other_user}", "gists_url": "https://api.github.com/users/fs111/gists{/gist_id}", "starred_url": "https://api.github.com/users/fs111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fs111/subscriptions", "organizations_url": "https://api.github.com/users/fs111/orgs", "repos_url": "https://api.github.com/users/fs111/repos", "events_url": "https://api.github.com/users/fs111/events{/privacy}", "received_events_url": "https://api.github.com/users/fs111/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-09-04T11:54:16Z", "updated_at": "2013-09-04T21:03:40Z", "closed_at": "2013-09-04T21:03:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was playing with aws-cli today and I am using the bash completion:\n\n```\ncomplete -C aws_completer aws\naws em<tab>\n```\n\ncompletes to `aws emr`\n\nHitting `<tab>` again causes\n\n```\n$ aws emr Traceback (most recent call last):\n  File \"/usr/local/bin/aws_completer\", line 22, in <module>\n    awscli.completer.complete(cline, cpoint)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/completer.py\", line 153, in complete\n    choices = Completer().complete(cmdline, point)\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/completer.py\", line 142, in complete\n    self._process_command_line()\n  File \"/usr/local/lib/python2.7/dist-packages/awscli/completer.py\", line 126, in _process_command_line\n    if self.command_hc.command_table:\nAttributeError: 'NoneType' object has no attribute 'command_table'\n```\n\nI guess the answer is to filter out non-supported services in the completer.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/304", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/304/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/304/events", "html_url": "https://github.com/aws/aws-cli/issues/304", "id": 18954481, "node_id": "MDU6SXNzdWUxODk1NDQ4MQ==", "number": 304, "title": "S3 prefix is not obvious", "user": {"login": "kaihendry", "id": 765871, "node_id": "MDQ6VXNlcjc2NTg3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/765871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaihendry", "html_url": "https://github.com/kaihendry", "followers_url": "https://api.github.com/users/kaihendry/followers", "following_url": "https://api.github.com/users/kaihendry/following{/other_user}", "gists_url": "https://api.github.com/users/kaihendry/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaihendry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaihendry/subscriptions", "organizations_url": "https://api.github.com/users/kaihendry/orgs", "repos_url": "https://api.github.com/users/kaihendry/repos", "events_url": "https://api.github.com/users/kaihendry/events{/privacy}", "received_events_url": "https://api.github.com/users/kaihendry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-09-04T05:53:49Z", "updated_at": "2018-12-19T01:46:32Z", "closed_at": "2015-11-18T23:48:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "The experience is again jarring. The UX doesn't guide you to use `s3://`\n\n```\n$ aws s3 ls\n\n       CreationTime Bucket\n       ------------ ------\n2013-08-30 13:57:23 bbackup\n$ aws s3 ls bbackup\nusage: aws s3 ls <S3Path> or NONE\nError: Invalid argument type\nsg:~/btsync$ aws s3 ls s3://bbackup\n\nBucket: bbackup\nPrefix: \n\n      LastWriteTime     Length Name\n      -------------     ------ ----\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/304/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/304/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/295", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/295/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/295/events", "html_url": "https://github.com/aws/aws-cli/issues/295", "id": 18890916, "node_id": "MDU6SXNzdWUxODg5MDkxNg==", "number": 295, "title": "iam get-group does not display full result", "user": {"login": "rbrigham", "id": 189201, "node_id": "MDQ6VXNlcjE4OTIwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/189201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbrigham", "html_url": "https://github.com/rbrigham", "followers_url": "https://api.github.com/users/rbrigham/followers", "following_url": "https://api.github.com/users/rbrigham/following{/other_user}", "gists_url": "https://api.github.com/users/rbrigham/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbrigham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbrigham/subscriptions", "organizations_url": "https://api.github.com/users/rbrigham/orgs", "repos_url": "https://api.github.com/users/rbrigham/repos", "events_url": "https://api.github.com/users/rbrigham/events{/privacy}", "received_events_url": "https://api.github.com/users/rbrigham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2013-09-03T05:51:42Z", "updated_at": "2014-08-21T22:32:14Z", "closed_at": "2014-08-21T22:32:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The get-group API call returns:\n\n```\n<GetGroupResponse xmlns=\"https://iam.amazonaws.com/doc/2010-05-08/\">\n  <GetGroupResult>\n    <Users>\n      <member>\n        <UserId>AIDAIYPL45E5NT7K4SDYG</UserId>\n        <Path>/</Path>\n        <UserName>MyUser</UserName>\n        <Arn>arn:aws:iam::546419318123:user/MyUser</Arn>\n        <CreateDate>2013-09-03T05:41:02Z</CreateDate>\n      </member>\n    </Users>\n    <IsTruncated>false</IsTruncated>\n    <Group>\n      <GroupId>AGPAIT3L3XNJQ6662TF2K</GroupId>\n      <GroupName>MyIamGroup</GroupName>\n      <Path>/</Path>\n      <Arn>arn:aws:iam::546419318123:group/MyIamGroup</Arn>\n      <CreateDate>2013-09-03T05:39:27Z</CreateDate>\n    </Group>\n  </GetGroupResult>\n  <ResponseMetadata>\n    <RequestId>41207622-145c-11e3-ab60-63183ae7c7c3</RequestId>\n  </ResponseMetadata>\n</GetGroupResponse>\n```\n\nbut the CLI only returns the following output:\n\n```\n{\n    \"Users\": [\n        {\n            \"UserName\": \"MyUser\", \n            \"Path\": \"/\", \n            \"CreateDate\": \"2013-09-03T05:41:02Z\", \n            \"UserId\": \"AIDAIYPL45E5NT7K4SDYG\", \n            \"Arn\": \"arn:aws:iam::546419318123:user/MyUser\"\n        }\n    ]\n}\n```\n\nThe Group information appears to be missing.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/280", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/280/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/280/events", "html_url": "https://github.com/aws/aws-cli/issues/280", "id": 18706012, "node_id": "MDU6SXNzdWUxODcwNjAxMg==", "number": 280, "title": "Pull in s3 tutorial rst from doc folder into examples/ dir", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2013-08-29T00:54:32Z", "updated_at": "2013-08-29T21:47:55Z", "closed_at": "2013-08-29T21:47:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\"aws s3 help\" leaves out important high level concepts that's in the html docs but not in the man page output (http://docs.aws.amazon.com/cli/latest/reference/s3/index.html)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/280/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/251", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/251/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/251/events", "html_url": "https://github.com/aws/aws-cli/issues/251", "id": 18386324, "node_id": "MDU6SXNzdWUxODM4NjMyNA==", "number": 251, "title": "aws ses displays error msg: \"No handlers could be found for logger \"awscli.customizations.removals\"\"", "user": {"login": "petermoon", "id": 5264605, "node_id": "MDQ6VXNlcjUyNjQ2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5264605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petermoon", "html_url": "https://github.com/petermoon", "followers_url": "https://api.github.com/users/petermoon/followers", "following_url": "https://api.github.com/users/petermoon/following{/other_user}", "gists_url": "https://api.github.com/users/petermoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/petermoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petermoon/subscriptions", "organizations_url": "https://api.github.com/users/petermoon/orgs", "repos_url": "https://api.github.com/users/petermoon/repos", "events_url": "https://api.github.com/users/petermoon/events{/privacy}", "received_events_url": "https://api.github.com/users/petermoon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-08-21T23:15:23Z", "updated_at": "2013-08-23T19:15:08Z", "closed_at": "2013-08-23T19:15:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The error msg appears before the output whenever \"ses\" command is called.\n\n```\nC:\\> aws ses\nNo handlers could be found for logger \"awscli.customizations.removals\"\nusage: aws [options] <service_name> <operation> [parameters]\naws.cmd: error: too few arguments\n```\n\n```\nC:\\> aws ses list-identities\nNo handlers could be found for logger \"awscli.customizations.removals\"\n{\n    \"Identities\": [\n        \"...\",\n        \"...\"\n    ]\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/247", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/247/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/247/events", "html_url": "https://github.com/aws/aws-cli/issues/247", "id": 18367447, "node_id": "MDU6SXNzdWUxODM2NzQ0Nw==", "number": 247, "title": "s3 high level commands don't include examples", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-08-21T17:09:39Z", "updated_at": "2013-08-22T17:13:11Z", "closed_at": "2013-08-22T17:13:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "They were specifically looking in the `doc/` folder for their examples and now that they've moved to `awscli/examples` we aren't picking them up.\n\nI'll also add a test suite that checks for known examples so we don't regress on this in the future.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/239", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/239/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/239/events", "html_url": "https://github.com/aws/aws-cli/issues/239", "id": 18325938, "node_id": "MDU6SXNzdWUxODMyNTkzOA==", "number": 239, "title": "aws s3 put-bucket-logging not working", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-08-20T22:38:38Z", "updated_at": "2013-08-29T22:08:53Z", "closed_at": "2013-08-29T22:08:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\naws s3api put-bucket-logging --bucket pmoon3 --bucket-logging-status file://logging.json\n```\n\nlogging.json:\n\n```\n{\n  \"LoggingEnabled\": {\n    \"TargetBucket\": \"foobar\",\n    \"TargetPrefix\": \"logs3/\",\n    \"TargetGrants\": [\n      {\n        \"Grantee\": {\n          \"DisplayName\": \"joe\",\n          \"EmailAddress\": \"joe@foobar.com\",\n          \"Type\": \"AmazonCustomerByEmail\"\n        },\n        \"Permission\": \"READ\"\n      }\n    ]\n  }\n}\n```\n\nResults in:\n\n```\n{\n    \"Errors\": [\n        {\n            \"HostId\": \"Z5N0fM5/CNP0oH3VvIL7t+qrEgdo+6jvDRmp1sV0rS1ci7Z/ooTU6VKjrvwuFuHG\",\n            \"Message\": \"The XML you provided was not well-formed or did not validate against our published schema\",\n            \"Code\": \"MalformedXML\",\n            \"RequestId\": \"1776A015E77D6A3D\"\n        }\n    ],\n    \"ResponseMetadata\": {}\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/237", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/237/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/237/events", "html_url": "https://github.com/aws/aws-cli/issues/237", "id": 18324745, "node_id": "MDU6SXNzdWUxODMyNDc0NQ==", "number": 237, "title": "aws help does not work", "user": {"login": "hgfischer", "id": 120860, "node_id": "MDQ6VXNlcjEyMDg2MA==", "avatar_url": "https://avatars.githubusercontent.com/u/120860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgfischer", "html_url": "https://github.com/hgfischer", "followers_url": "https://api.github.com/users/hgfischer/followers", "following_url": "https://api.github.com/users/hgfischer/following{/other_user}", "gists_url": "https://api.github.com/users/hgfischer/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgfischer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgfischer/subscriptions", "organizations_url": "https://api.github.com/users/hgfischer/orgs", "repos_url": "https://api.github.com/users/hgfischer/repos", "events_url": "https://api.github.com/users/hgfischer/events{/privacy}", "received_events_url": "https://api.github.com/users/hgfischer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-08-20T22:11:01Z", "updated_at": "2013-08-30T01:49:14Z", "closed_at": "2013-08-23T18:38:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI've just installed aws-cli using pip on a Ubuntu 13.04 amd64 and I'm unable to use the help command. I got the following errors:\n\n```\n$ aws ec2 help\n[Errno 2] No such file or directory\ngrotty:<standard input>:2883:fatal error: output error\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/237/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/228", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/228/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/228/events", "html_url": "https://github.com/aws/aws-cli/issues/228", "id": 18272060, "node_id": "MDU6SXNzdWUxODI3MjA2MA==", "number": 228, "title": "aws s3api get-bucket-notification returns error on Windows", "user": {"login": "petermoon", "id": 5264605, "node_id": "MDQ6VXNlcjUyNjQ2MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5264605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petermoon", "html_url": "https://github.com/petermoon", "followers_url": "https://api.github.com/users/petermoon/followers", "following_url": "https://api.github.com/users/petermoon/following{/other_user}", "gists_url": "https://api.github.com/users/petermoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/petermoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petermoon/subscriptions", "organizations_url": "https://api.github.com/users/petermoon/orgs", "repos_url": "https://api.github.com/users/petermoon/repos", "events_url": "https://api.github.com/users/petermoon/events{/privacy}", "received_events_url": "https://api.github.com/users/petermoon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-08-20T00:38:18Z", "updated_at": "2013-08-23T23:08:09Z", "closed_at": "2013-08-23T23:08:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Error returned:\n\n{\n    \"Code\": \"SignatureDoesNotMatch\",\n   ...\n    \"Message\": \"The request signature we calculated does not match the signature you provided. Check your key and signing method.\",\n   ...\n}A client error (Unknown) occurred: Unknown\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/209", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/209/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/209/events", "html_url": "https://github.com/aws/aws-cli/issues/209", "id": 17786915, "node_id": "MDU6SXNzdWUxNzc4NjkxNQ==", "number": 209, "title": "The --endpoint-url option is not working anymore", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-08-08T04:05:26Z", "updated_at": "2013-08-08T04:24:37Z", "closed_at": "2013-08-08T04:24:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `--endpoint-url` option should provide a way to override the endpoint for a particular service/operation.  Somewhere along the way, we lost support for this option and we need to add it back in.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/209/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/185", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/185/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/185/events", "html_url": "https://github.com/aws/aws-cli/issues/185", "id": 16829957, "node_id": "MDU6SXNzdWUxNjgyOTk1Nw==", "number": 185, "title": "aws ec2 modify-instance-attribute seems to fail with --source-dest-check parameter", "user": {"login": "rafaelfelix", "id": 137474, "node_id": "MDQ6VXNlcjEzNzQ3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/137474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafaelfelix", "html_url": "https://github.com/rafaelfelix", "followers_url": "https://api.github.com/users/rafaelfelix/followers", "following_url": "https://api.github.com/users/rafaelfelix/following{/other_user}", "gists_url": "https://api.github.com/users/rafaelfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafaelfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafaelfelix/subscriptions", "organizations_url": "https://api.github.com/users/rafaelfelix/orgs", "repos_url": "https://api.github.com/users/rafaelfelix/repos", "events_url": "https://api.github.com/users/rafaelfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/rafaelfelix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-07-16T19:54:00Z", "updated_at": "2013-08-28T19:49:44Z", "closed_at": "2013-08-28T19:49:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI need to call modify-instance-attribute from within my own instance, in order to automate the bootstrap process of my NAT instances.\n\nHere is what happens (btw: $INSTANCE_ID contains a valid InstanceId):\n\n# aws ec2 modify-instance-attribute --instance-id $INSTANCE_ID --source-dest-check 0 --region sa-east-1 --debug\n\n2013-07-16 16:50:28,041 - botocore.service - DEBUG - Creating service object for: ec2\n2013-07-16 16:50:28,042 - botocore.base - DEBUG - Attempting to Load: aws/ec2\n2013-07-16 16:50:28,394 - botocore.base - DEBUG - Found data file: /usr/lib/python2.6/site-packages/botocore/data/aws/ec2.json\n2013-07-16 16:50:28,394 - botocore.hooks - DEBUG - emit: service-created\n2013-07-16 16:50:28,395 - botocore.service - DEBUG - Creating operation objects for: Service(ec2)\n2013-07-16 16:50:28,412 - botocore.hooks - DEBUG - emit: parser-created.ec2\n2013-07-16 16:50:28,413 - botocore.operation - DEBUG - Creating parameter objects for: Operation:ModifyInstanceAttribute\n2013-07-16 16:50:28,417 - botocore.hooks - DEBUG - emit: parser-created.ec2-modify-instance-attribute\n2013-07-16 16:50:28,418 - botocore.hooks - DEBUG - emit: process-cli-arg.ec2.modify-instance-attribute\n2013-07-16 16:50:28,418 - botocore.hooks - DEBUG - emit: calling <awscli.argprocess.ParamShorthand object at 0x27dad10>\nTraceback (most recent call last):\n  File \"/usr/lib/python2.6/site-packages/awscli/clidriver.py\", line 168, in _call\n    self._build_call_parameters(args, params)\n  File \"/usr/lib/python2.6/site-packages/awscli/clidriver.py\", line 121, in _build_call_parameters\n    param_dict[param.py_name] = unpack_cli_arg(param, value)\n  File \"/usr/lib/python2.6/site-packages/awscli/argprocess.py\", line 344, in unpack_cli_arg\n    return unpack_complex_cli_arg(parameter, value)\n  File \"/usr/lib/python2.6/site-packages/awscli/argprocess.py\", line 355, in unpack_complex_cli_arg\n    raise ValueError(msg)\nValueError: Structure option value must be JSON or path to file.\n\nThe output is the same if I use --source-dest-check false. If the call isn't supposed to be done like that, then I think it lacks better documentation.\n\nThanks a lot\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/185/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/174", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/174/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/174/events", "html_url": "https://github.com/aws/aws-cli/issues/174", "id": 16576399, "node_id": "MDU6SXNzdWUxNjU3NjM5OQ==", "number": 174, "title": "Error parsing parameter in elb configure-health-check shorthand", "user": {"login": "berthamilton", "id": 1256277, "node_id": "MDQ6VXNlcjEyNTYyNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1256277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/berthamilton", "html_url": "https://github.com/berthamilton", "followers_url": "https://api.github.com/users/berthamilton/followers", "following_url": "https://api.github.com/users/berthamilton/following{/other_user}", "gists_url": "https://api.github.com/users/berthamilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/berthamilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/berthamilton/subscriptions", "organizations_url": "https://api.github.com/users/berthamilton/orgs", "repos_url": "https://api.github.com/users/berthamilton/repos", "events_url": "https://api.github.com/users/berthamilton/events{/privacy}", "received_events_url": "https://api.github.com/users/berthamilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-07-10T13:14:38Z", "updated_at": "2013-08-28T18:12:17Z", "closed_at": "2013-08-28T18:12:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "You're unable to specify a heathcheck url that uses an '=' sign because it's treated as a parse error.\n\naws elb configure-health-check  --load-balancer-name mylb --health-check target=HTTP:80/?a=b,...\n\nError parsing parameter --health-check\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/174/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/172", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/172/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/172/events", "html_url": "https://github.com/aws/aws-cli/issues/172", "id": 16431432, "node_id": "MDU6SXNzdWUxNjQzMTQzMg==", "number": 172, "title": "aws autoscaling terminate-instance-in-auto-scaling-group does not support autocomplete for --no-should-decrement-desired-capacity", "user": {"login": "shanemeyers", "id": 569315, "node_id": "MDQ6VXNlcjU2OTMxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/569315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shanemeyers", "html_url": "https://github.com/shanemeyers", "followers_url": "https://api.github.com/users/shanemeyers/followers", "following_url": "https://api.github.com/users/shanemeyers/following{/other_user}", "gists_url": "https://api.github.com/users/shanemeyers/gists{/gist_id}", "starred_url": "https://api.github.com/users/shanemeyers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shanemeyers/subscriptions", "organizations_url": "https://api.github.com/users/shanemeyers/orgs", "repos_url": "https://api.github.com/users/shanemeyers/repos", "events_url": "https://api.github.com/users/shanemeyers/events{/privacy}", "received_events_url": "https://api.github.com/users/shanemeyers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-06T14:28:51Z", "updated_at": "2013-09-30T23:20:28Z", "closed_at": "2013-09-30T23:06:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please enhance the tool to support autocomplete for  `--no-should-decrement-desired-capacity` when calling the `aws autoscaling terminate-instance-in-auto-scaling-group` function.  It appears only the `--should-decrement-desired-capacity` (non-no form) is in the autocomplete list.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/169", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/169/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/169/events", "html_url": "https://github.com/aws/aws-cli/issues/169", "id": 16152625, "node_id": "MDU6SXNzdWUxNjE1MjYyNQ==", "number": 169, "title": "Missing --next-token / --max-items ignored", "user": {"login": "brendandixon", "id": 305205, "node_id": "MDQ6VXNlcjMwNTIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/305205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendandixon", "html_url": "https://github.com/brendandixon", "followers_url": "https://api.github.com/users/brendandixon/followers", "following_url": "https://api.github.com/users/brendandixon/following{/other_user}", "gists_url": "https://api.github.com/users/brendandixon/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendandixon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendandixon/subscriptions", "organizations_url": "https://api.github.com/users/brendandixon/orgs", "repos_url": "https://api.github.com/users/brendandixon/repos", "events_url": "https://api.github.com/users/brendandixon/events{/privacy}", "received_events_url": "https://api.github.com/users/brendandixon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-28T17:36:00Z", "updated_at": "2013-08-13T21:30:09Z", "closed_at": "2013-08-13T21:30:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The command:\n\naws ses list-identities --max-items 1\n\nreturns:\n\n[\n    \"dixonb@amazon.com\", \n    \"brendandixon@me.com\"\n]\n\nIt should return just one. And, with other larger sets, no --next-token is ever returned.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/168", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/168/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/168/events", "html_url": "https://github.com/aws/aws-cli/issues/168", "id": 16152491, "node_id": "MDU6SXNzdWUxNjE1MjQ5MQ==", "number": 168, "title": "Error message does not contain correct invalid parameter value", "user": {"login": "brendandixon", "id": 305205, "node_id": "MDQ6VXNlcjMwNTIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/305205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendandixon", "html_url": "https://github.com/brendandixon", "followers_url": "https://api.github.com/users/brendandixon/followers", "following_url": "https://api.github.com/users/brendandixon/following{/other_user}", "gists_url": "https://api.github.com/users/brendandixon/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendandixon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendandixon/subscriptions", "organizations_url": "https://api.github.com/users/brendandixon/orgs", "repos_url": "https://api.github.com/users/brendandixon/repos", "events_url": "https://api.github.com/users/brendandixon/events{/privacy}", "received_events_url": "https://api.github.com/users/brendandixon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-06-28T17:32:39Z", "updated_at": "2013-08-13T21:52:51Z", "closed_at": "2013-08-13T21:52:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The command:\n\naws ses get-identity-verification-attributes --identities \\\"dixonb@amazon.com\\\"\n\nreturns:\n\n```\n{\n    \"Errors\": [\n        {\n            \"Message\": \"Identity \\\"dixonb@amazon.com\\\" is invalid. Must be a verified email address or domain.\", \n            \"Code\": \"InvalidParameterValue\", \n            \"Type\": \"Sender\"\n        }\n    ], \n    \"VerificationAttributes\": {}, \n    \"ResponseMetadata\": {\n        \"RequestId\": \"7e327942-e018-11e2-a360-27750189195f\"\n    }\n}A client error (InvalidParameterValue) occurred: Identity \"dixonb@amazon.com\" is invalid. Must be a verified email address or domain.\n\n```\n\nNote that, in the final message, the \"\\\" characters are removed. The identify specified would then be valid. This is confusing.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/165", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/165/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/165/events", "html_url": "https://github.com/aws/aws-cli/issues/165", "id": 16113915, "node_id": "MDU6SXNzdWUxNjExMzkxNQ==", "number": 165, "title": "Semicolon separated email address fail on Windows", "user": {"login": "brendandixon", "id": 305205, "node_id": "MDQ6VXNlcjMwNTIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/305205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendandixon", "html_url": "https://github.com/brendandixon", "followers_url": "https://api.github.com/users/brendandixon/followers", "following_url": "https://api.github.com/users/brendandixon/following{/other_user}", "gists_url": "https://api.github.com/users/brendandixon/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendandixon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendandixon/subscriptions", "organizations_url": "https://api.github.com/users/brendandixon/orgs", "repos_url": "https://api.github.com/users/brendandixon/repos", "events_url": "https://api.github.com/users/brendandixon/events{/privacy}", "received_events_url": "https://api.github.com/users/brendandixon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-27T20:59:25Z", "updated_at": "2013-08-13T22:01:42Z", "closed_at": "2013-08-13T22:01:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The command:\n\naws ses get-identity-dkim-attributes --identities \"florescu@amazon.com\";\n\nwhen executed on Windows, returns:\n\n{\n    \"Errors\": [\n        {\n            \"Message\": \"Identity florescu@amazon.com; is invalid. Must be a verified email address or domain.\",\n            \"Code\": \"InvalidParameterValue\",\n            \"Type\": \"Sender\"\n        }\n    ],\n    \"DkimAttributes\": {},\n    \"ResponseMetadata\": {\n        \"RequestId\": \"51d7139b-da73-11e2-a2af-ddd90e259112\"\n    }\n}A client error (InvalidParameterValue) occurred: Identity florescu@amazon.com; is invalid. Must be a verified email address or domain.\n\nSince semicolons are not a legal separator, is this the correct error?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/164", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/164/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/164/events", "html_url": "https://github.com/aws/aws-cli/issues/164", "id": 16111237, "node_id": "MDU6SXNzdWUxNjExMTIzNw==", "number": 164, "title": "String indexing error with an empty string", "user": {"login": "brendandixon", "id": 305205, "node_id": "MDQ6VXNlcjMwNTIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/305205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendandixon", "html_url": "https://github.com/brendandixon", "followers_url": "https://api.github.com/users/brendandixon/followers", "following_url": "https://api.github.com/users/brendandixon/following{/other_user}", "gists_url": "https://api.github.com/users/brendandixon/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendandixon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendandixon/subscriptions", "organizations_url": "https://api.github.com/users/brendandixon/orgs", "repos_url": "https://api.github.com/users/brendandixon/repos", "events_url": "https://api.github.com/users/brendandixon/events{/privacy}", "received_events_url": "https://api.github.com/users/brendandixon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-27T20:01:10Z", "updated_at": "2013-08-13T21:31:33Z", "closed_at": "2013-08-13T21:31:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The command:\n\naws ses get-identity-dkim-attributes --identities \"\"\n\nreturns:\n\nstring index out of range\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/163", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/163/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/163/events", "html_url": "https://github.com/aws/aws-cli/issues/163", "id": 16111225, "node_id": "MDU6SXNzdWUxNjExMTIyNQ==", "number": 163, "title": "String indexing error with an empty string", "user": {"login": "brendandixon", "id": 305205, "node_id": "MDQ6VXNlcjMwNTIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/305205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendandixon", "html_url": "https://github.com/brendandixon", "followers_url": "https://api.github.com/users/brendandixon/followers", "following_url": "https://api.github.com/users/brendandixon/following{/other_user}", "gists_url": "https://api.github.com/users/brendandixon/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendandixon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendandixon/subscriptions", "organizations_url": "https://api.github.com/users/brendandixon/orgs", "repos_url": "https://api.github.com/users/brendandixon/repos", "events_url": "https://api.github.com/users/brendandixon/events{/privacy}", "received_events_url": "https://api.github.com/users/brendandixon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-06-27T20:00:56Z", "updated_at": "2013-07-02T08:09:03Z", "closed_at": "2013-07-02T08:09:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The command:\n\naws ses get-identity-dkim-attributes --identities \"\"\n\nreturns:\n\nstring index out of range\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/161", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/161/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/161/events", "html_url": "https://github.com/aws/aws-cli/issues/161", "id": 16063924, "node_id": "MDU6SXNzdWUxNjA2MzkyNA==", "number": 161, "title": "elasticache create-cache-cluster option '--auto-minor-version-upgrade' does not support boolean value", "user": {"login": "pnguyen-okta", "id": 2529243, "node_id": "MDQ6VXNlcjI1MjkyNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2529243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnguyen-okta", "html_url": "https://github.com/pnguyen-okta", "followers_url": "https://api.github.com/users/pnguyen-okta/followers", "following_url": "https://api.github.com/users/pnguyen-okta/following{/other_user}", "gists_url": "https://api.github.com/users/pnguyen-okta/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnguyen-okta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnguyen-okta/subscriptions", "organizations_url": "https://api.github.com/users/pnguyen-okta/orgs", "repos_url": "https://api.github.com/users/pnguyen-okta/repos", "events_url": "https://api.github.com/users/pnguyen-okta/events{/privacy}", "received_events_url": "https://api.github.com/users/pnguyen-okta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-06-27T00:30:50Z", "updated_at": "2013-08-28T19:50:28Z", "closed_at": "2013-08-28T19:50:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to create an elasticache cluster in 0.12, setting the --auto-minor-version-upgrade to true or false returns Unknown options: ['true'] or Unknown options: ['false']\n\n$ aws elasticache create-cache-cluster \\\n  --profile prod \\\n  --cache-cluster-id cachecluster-us-east-1c \\\n  --num-cache-nodes 1 \\\n  --cache-node-type cache.m1.small \\\n  --engine memcached \\\n  --engine-version 1.4.5 \\\n  --cache-security-group-names \"lan_appservers\" \"lan_monitoring\" \\\n  --preferred-availability-zone us-east-1c \\\n  --preferred-maintenance-window fri:08:00-fri:09:00 \\\n  --auto-minor-version-upgrade false\n\nAccording to docs, the value is boolean, and defaults to \"true\". \n\nI had to resort to creating the cluster without the argument, let it default to true, then go change it to false in the UI.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/161/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/156", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/156/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/156/events", "html_url": "https://github.com/aws/aws-cli/issues/156", "id": 15873454, "node_id": "MDU6SXNzdWUxNTg3MzQ1NA==", "number": 156, "title": "Commands won't take comma seperated variables", "user": {"login": "woodwardB", "id": 133791, "node_id": "MDQ6VXNlcjEzMzc5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/133791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodwardB", "html_url": "https://github.com/woodwardB", "followers_url": "https://api.github.com/users/woodwardB/followers", "following_url": "https://api.github.com/users/woodwardB/following{/other_user}", "gists_url": "https://api.github.com/users/woodwardB/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodwardB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodwardB/subscriptions", "organizations_url": "https://api.github.com/users/woodwardB/orgs", "repos_url": "https://api.github.com/users/woodwardB/repos", "events_url": "https://api.github.com/users/woodwardB/events{/privacy}", "received_events_url": "https://api.github.com/users/woodwardB/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-06-21T22:13:18Z", "updated_at": "2013-08-28T20:16:29Z", "closed_at": "2013-08-28T20:16:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to give a command that requires comma seperated values like trying to run auto-scaling in VPC in a Multi-AZ situation, you get a failure.\n\naws autoscaling  create-auto-scaling-group  --launch-configuration-name indianidol01  --min-size 1 --max-size 6 --availability-zones ap-southeast-1b,ap-southeast-1a  --load-balancer-names indianidol  --vpc-zone-identifier subnet-6b3f3e02,subnet-683f3e01 --termination-policies \"NewestInstance\" --auto-scaling-group-name  indidolgrp01 --region ap-southeast-1\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/153", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/153/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/153/events", "html_url": "https://github.com/aws/aws-cli/issues/153", "id": 15555242, "node_id": "MDU6SXNzdWUxNTU1NTI0Mg==", "number": 153, "title": "aws iam get-user-policy docs are out of sync", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-14T12:16:30Z", "updated_at": "2015-10-08T23:02:22Z", "closed_at": "2015-10-08T23:02:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The docs for this command as well as several other IAM commands that return a Policy document state that the policy document will be returned as URL-encoded.  However, we have added a handler to decode the policy document.  We also need to add a handler to update the documentation.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/153/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/151", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/151/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/151/events", "html_url": "https://github.com/aws/aws-cli/issues/151", "id": 15447699, "node_id": "MDU6SXNzdWUxNTQ0NzY5OQ==", "number": 151, "title": "aws iam get-group response not parsed correctly", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-06-12T12:16:41Z", "updated_at": "2013-08-13T22:11:54Z", "closed_at": "2013-08-13T22:11:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See https://github.com/boto/botocore/issues/62\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/151/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/150", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/150/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/150/events", "html_url": "https://github.com/aws/aws-cli/issues/150", "id": 15447562, "node_id": "MDU6SXNzdWUxNTQ0NzU2Mg==", "number": 150, "title": "aws iam create-virtual-mfa-device response not parsed properly", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-06-12T12:13:39Z", "updated_at": "2013-06-12T22:29:05Z", "closed_at": "2013-06-12T22:29:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See https://github.com/boto/botocore/issues/61\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/148", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/148/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/148/events", "html_url": "https://github.com/aws/aws-cli/issues/148", "id": 15400060, "node_id": "MDU6SXNzdWUxNTQwMDA2MA==", "number": 148, "title": "ElasticTranscoder requests are not being marshaled correctly", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-06-11T13:59:20Z", "updated_at": "2013-06-11T14:10:06Z", "closed_at": "2013-06-11T14:10:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is a bug in the marshaling of `rest-json` service parameters.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/121", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/121/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/121/events", "html_url": "https://github.com/aws/aws-cli/issues/121", "id": 14466919, "node_id": "MDU6SXNzdWUxNDQ2NjkxOQ==", "number": 121, "title": "`aws ec2 help` uses more(1) instead of less(1)", "user": {"login": "dserodio", "id": 233589, "node_id": "MDQ6VXNlcjIzMzU4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/233589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dserodio", "html_url": "https://github.com/dserodio", "followers_url": "https://api.github.com/users/dserodio/followers", "following_url": "https://api.github.com/users/dserodio/following{/other_user}", "gists_url": "https://api.github.com/users/dserodio/gists{/gist_id}", "starred_url": "https://api.github.com/users/dserodio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dserodio/subscriptions", "organizations_url": "https://api.github.com/users/dserodio/orgs", "repos_url": "https://api.github.com/users/dserodio/repos", "events_url": "https://api.github.com/users/dserodio/events{/privacy}", "received_events_url": "https://api.github.com/users/dserodio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-05-17T19:03:09Z", "updated_at": "2013-05-20T13:26:22Z", "closed_at": "2013-05-20T13:26:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run `aws ec2 help` the output gets piped to more instead of less. Both `$PAGER` and `$MANPAGER` are set to `/usr/local/bin/less`.\n\n`aws --version` outputs `Boto/0.10.0 Python/2.7.2 Darwin/12.3.0`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/120", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/120/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/120/events", "html_url": "https://github.com/aws/aws-cli/issues/120", "id": 14464079, "node_id": "MDU6SXNzdWUxNDQ2NDA3OQ==", "number": 120, "title": "Handling of S3 universal endpoint is still not quite right.", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/aws/aws-cli/milestones/4", "html_url": "https://github.com/aws/aws-cli/milestone/4", "labels_url": "https://api.github.com/repos/aws/aws-cli/milestones/4/labels", "id": 348546, "node_id": "MDk6TWlsZXN0b25lMzQ4NTQ2", "number": 4, "title": "0.20.0", "description": "", "creator": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2013-06-04T22:02:01Z", "updated_at": "2015-10-09T20:17:52Z", "due_on": "2013-06-30T07:00:00Z", "closed_at": "2015-10-09T20:17:52Z"}, "comments": 5, "created_at": "2013-05-17T17:56:12Z", "updated_at": "2013-07-15T16:29:24Z", "closed_at": "2013-07-15T16:29:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The S3 service presents some unique challenges wrt endpoints.\n\nFor other services with a universal endpoint (such as IAM) we check to see if the service is available in the region that is in scope for the request (based on config file, env var, and explicit --region option) and if it is not, we revert to using the universal endpoint.\n\nS3 has both a universal endpoint AND regional endpoints.  So, if you have a `region` specified in your config file for the profile you are using, we check to see if S3 has an endpoint in that region and use it.  But most of the time, you really wanted to use the universal endpoint.  So, if the `region` in your config file is `us-west-2` and you actually want the universal endpoint for S3, you have to pass an explicit `--region us-east-1` to force it.  That is very unintuitive.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/120/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/104", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/104/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/104/events", "html_url": "https://github.com/aws/aws-cli/issues/104", "id": 13805697, "node_id": "MDU6SXNzdWUxMzgwNTY5Nw==", "number": 104, "title": "Missing information on error with latest awscli", "user": {"login": "hirose31", "id": 9108, "node_id": "MDQ6VXNlcjkxMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hirose31", "html_url": "https://github.com/hirose31", "followers_url": "https://api.github.com/users/hirose31/followers", "following_url": "https://api.github.com/users/hirose31/following{/other_user}", "gists_url": "https://api.github.com/users/hirose31/gists{/gist_id}", "starred_url": "https://api.github.com/users/hirose31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hirose31/subscriptions", "organizations_url": "https://api.github.com/users/hirose31/orgs", "repos_url": "https://api.github.com/users/hirose31/repos", "events_url": "https://api.github.com/users/hirose31/events{/privacy}", "received_events_url": "https://api.github.com/users/hirose31/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-04-30T13:14:15Z", "updated_at": "2013-05-16T16:58:51Z", "closed_at": "2013-05-16T16:58:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following command causes error, \n`aws ec2 create-tags --resources i-BLAHBLAH --tags '{\"key\":\"Test\",\"value\":\"Test2\"}'`\nbut less information with latest awscli and botocore rather than old one.\n- awscli-0.9.2, botocore-0.9.1\n\n```\n{\n    \"Errors\": {},\n    \"RequestID\": \"XXXXXXXXXXXXXXXX\",\n    \"ResponseMetadata\": {}\n}\nA client error (Unknown) occurred: Unknown\n```\n- awscli-0.5.1, botocore-0.5.3\n\n```\n{\n    \"Response\": {\n        \"Errors\": {\n            \"Error\": {\n                \"Message\": \"The ID 'i-BLAHBLAH' is not valid\",\n                \"Code\": \"InvalidID\"\n            }\n        },\n        \"RequestID\": \"XXXXXXXXXXXXXXXX\"\n    }\n}\nA client error (InvalidID) occurred: The ID 'i-BLAHBLAH' is not valid\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/104/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/102", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/102/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/102/events", "html_url": "https://github.com/aws/aws-cli/issues/102", "id": 13770295, "node_id": "MDU6SXNzdWUxMzc3MDI5NQ==", "number": 102, "title": "S3 bucket location constraint is not being parsed correctly", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-04-29T17:05:28Z", "updated_at": "2014-11-11T21:32:11Z", "closed_at": "2014-01-16T19:00:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you do a:\n\n```\n$ aws s3 get-bucket-constraint --bucket my-eu-bucket\n```\n\nYou get no data displayed with either `json` or `table` output formatting.  The actual response looks like this:\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <LocationConstraint xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\">EU</LocationConstraint>\n```\n\nThis appears to be an issue with botocore/response.py\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/102/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/101", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/101/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/101/events", "html_url": "https://github.com/aws/aws-cli/issues/101", "id": 13634796, "node_id": "MDU6SXNzdWUxMzYzNDc5Ng==", "number": 101, "title": "Can't understand this problem", "user": {"login": "devangmehta123", "id": 4255061, "node_id": "MDQ6VXNlcjQyNTUwNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4255061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devangmehta123", "html_url": "https://github.com/devangmehta123", "followers_url": "https://api.github.com/users/devangmehta123/followers", "following_url": "https://api.github.com/users/devangmehta123/following{/other_user}", "gists_url": "https://api.github.com/users/devangmehta123/gists{/gist_id}", "starred_url": "https://api.github.com/users/devangmehta123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devangmehta123/subscriptions", "organizations_url": "https://api.github.com/users/devangmehta123/orgs", "repos_url": "https://api.github.com/users/devangmehta123/repos", "events_url": "https://api.github.com/users/devangmehta123/events{/privacy}", "received_events_url": "https://api.github.com/users/devangmehta123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2013-04-25T12:00:17Z", "updated_at": "2018-04-11T20:40:16Z", "closed_at": "2013-05-30T00:19:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI am new to python but I managed to install awscli on version 2.7.4 on Windows (ActivePython).\n\nYesterday, everything was working fine. By everything, I mean, I could do \"aws ec2 help\" and \"aws ec2 describe-instances\" and see the JSON output.\n\nToday, there is a problem and nothing has changed from my side. My internet is working fine.\n\nCan you help?\n\nThanks.\nDevang\n\nPS D:\\vvroot\\workspace\\main\\trunk\\scripts 22> aws ec2 help\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\aws.cmd\", line 58, in <module>\n    main()\n  File \"C:\\Python27\\Scripts\\aws.cmd\", line 54, in main\n    driver.main()\n  File \"C:\\Python27\\lib\\site-packages\\awscli\\clidriver.py\", line 366, in main\n    self.create_main_parser()\n  File \"C:\\Python27\\lib\\site-packages\\awscli\\clidriver.py\", line 89, in create_main_parser\n    self.cli_data = self.session.get_data('cli')\n  File \"C:\\Python27\\lib\\site-packages\\botocore\\session.py\", line 266, in get_data\n    return botocore.base.get_data(self, data_path)\n  File \"C:\\Python27\\lib\\site-packages\\botocore\\base.py\", line 168, in get_data\n    raise botocore.exceptions.DataNotFoundError(data_path=data_path)\nbotocore.exceptions.DataNotFoundError: Unable to load data for: cli\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/101/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/100", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/100/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/100/events", "html_url": "https://github.com/aws/aws-cli/issues/100", "id": 13515048, "node_id": "MDU6SXNzdWUxMzUxNTA0OA==", "number": 100, "title": "SQS Subscribe to SNS error", "user": {"login": "dmeyers", "id": 770561, "node_id": "MDQ6VXNlcjc3MDU2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/770561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmeyers", "html_url": "https://github.com/dmeyers", "followers_url": "https://api.github.com/users/dmeyers/followers", "following_url": "https://api.github.com/users/dmeyers/following{/other_user}", "gists_url": "https://api.github.com/users/dmeyers/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmeyers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmeyers/subscriptions", "organizations_url": "https://api.github.com/users/dmeyers/orgs", "repos_url": "https://api.github.com/users/dmeyers/repos", "events_url": "https://api.github.com/users/dmeyers/events{/privacy}", "received_events_url": "https://api.github.com/users/dmeyers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2013-04-23T01:19:51Z", "updated_at": "2013-07-14T04:16:17Z", "closed_at": "2013-04-25T21:58:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Receiving error \"call() got multiple values for keyword argument 'endpoint'\" when subscribing an SQS to an SNS. Here I used protocol https but I also tried protocol SQS with the ARN as the endpoint.\n\nMy undereducated guess is that the sns endpoint is still conflicting with the greater aws endpoint as garnaat mentioned in #57. Was a new bug introduced somewhere in issues #57 and #74?\n\n```\nAdministrators-Mac-Pro:~ dmeyers$ aws --debug sns subscribe   --topic-arn 'arn:aws:sns:us-east-1:386401883559:Traverse-autoscaling-tracking-POC'   --protocol https   --notification-endpoint 'https://queue.amazonaws.com/386401883559/Traverse-autoscaling-tracking-POC'\n2013-04-22 17:53:24,100 - botocore.base - DEBUG - Attempting to Load: aws/_services/sns\n2013-04-22 17:53:24,100 - botocore.base - DEBUG - Attempting to Load: aws\n2013-04-22 17:53:24,100 - botocore.base - DEBUG - Attempting to Load: aws/_services\n2013-04-22 17:53:24,101 - botocore.base - DEBUG - Found data file: /Library/Python/2.7/site-packages/botocore/data/aws/_services.json\n2013-04-22 17:53:24,101 - botocore.base - DEBUG - Attempting to Load: aws/_services/sns\n2013-04-22 17:53:24,101 - botocore.base - DEBUG - Attempting to Load: aws/sns\n2013-04-22 17:53:24,103 - botocore.base - DEBUG - Found data file: /Library/Python/2.7/site-packages/botocore/data/aws/sns.json\n2013-04-22 17:53:24,107 - botocore.credentials - INFO - Found credentials in Environment variables\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/awscli/clidriver.py\", line 307, in call\n    self.endpoint, **params)\nTypeError: call() got multiple values for keyword argument 'endpoint'\n```\n\nJust installed awscli today:\n\n```\nAdministrators-Mac-Pro:~ dmeyers$ aws --version\naws-cli/0.9.1 Python/2.7.1 Darwin/11.4.2\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/95", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/95/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/95/events", "html_url": "https://github.com/aws/aws-cli/issues/95", "id": 13320284, "node_id": "MDU6SXNzdWUxMzMyMDI4NA==", "number": 95, "title": "aws ec2 create-key-pair - doesn't work in Windows environment", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-04-17T21:16:51Z", "updated_at": "2013-10-21T03:51:27Z", "closed_at": "2013-05-17T15:22:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "_Reported by a user. Adding the issue for them._\n\ntype at (Windows) command prompt:\n\naws ec2 create-key-pair --key-name MyKeyPair\n\nerror:\n\nC:\\Python27\\Scripts\\env15\\lib\\site-packages\\argparse-1.2.1-py2.7.egg\\argparse.py\n:2131: UnicodeWarning: Unicode equal comparison failed to convert both arguments\nto Unicode - interpreting them as being unequal\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\env15\\Scripts\\aws.cmd\", line 58, in <module>\n    main()\n  File \"C:\\Python27\\Scripts\\env15\\Scripts\\aws.cmd\", line 54, in main\n    driver.main()\n  File \"C:\\Python27\\Scripts\\env15\\lib\\site-packages\\awscli-0.9.1-py2.7.egg\\awscl\ni\\clidriver.py\", line 367, in main\n    self.args, remaining = self.parser.parse_known_args()\n  File \"build\\bdist.win32\\egg\\argparse.py\", line 1735, in parse_known_args\n    # they can't occur with\n  File \"build\\bdist.win32\\egg\\argparse.py\", line 1776, in _parse_known_args\n    def take_action(action, argument_strings, option_string=None):\n  File \"build\\bdist.win32\\egg\\argparse.py\", line 2073, in _parse_optional\n    # if it was not found as an option, but it looks like a negative\n  File \"build\\bdist.win32\\egg\\argparse.py\", line 2135, in _get_option_tuples\n    nargs = action.nargs\nUnicodeDecodeError: 'ascii' codec can't decode byte 0x96 in position 1: ordinal\nnot in range(128)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/95/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/95/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/91", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/91/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/91/events", "html_url": "https://github.com/aws/aws-cli/issues/91", "id": 13083877, "node_id": "MDU6SXNzdWUxMzA4Mzg3Nw==", "number": 91, "title": "Unable to supply a timestamp for SWF commands", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-04-11T19:08:37Z", "updated_at": "2013-04-15T11:55:43Z", "closed_at": "2013-04-15T11:55:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current handling of timestamp parameters is broken for SWF which wants timestamps to be supplied in epoch times rather than ISO-8601.\n\n```\nbash-3.2$ ~/local/bin/aws swf list-closed-workflow-executions --domain domain --close-time-filter '{\"oldest_date\":\"2012-12-19T02:42:39.000Z\", \"latest_date\":\"2012-12-19T02:42:39.000Z\"}'\n{\n    \"Message\": \"class java.lang.String can not be converted to milliseconds since epoch\", \n    \"__type\": \"com.amazon.coral.service#SerializationException\"\n}\nA client error (Unknown) occurred: Unknown\nbash-3.2$ ~/local/bin/aws swf list-closed-workflow-executions --domain domain --close-time-filter '{\"oldest_date\":\"136431000\", \"latest_date\":\"1364316087\"}'\nUnable to convert value (136431000) to type timestamp\nbash-3.2$ ~/local/bin/aws swf list-closed-workflow-executions --domain domain --close-time-filter '{\"oldest_date\":\"136431000000\", \"latest_date\":\"1364316087000\"}'\nUnable to convert value (136431000000) to type timestamp\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/91/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/91/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/89", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/89/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/89/events", "html_url": "https://github.com/aws/aws-cli/issues/89", "id": 13030972, "node_id": "MDU6SXNzdWUxMzAzMDk3Mg==", "number": 89, "title": "s3 copy-object fails with 501", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-04-10T17:40:32Z", "updated_at": "2013-04-10T18:02:04Z", "closed_at": "2013-04-10T18:02:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See https://github.com/boto/botocore/issues/35\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/89/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/89/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/87", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/87/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/87/events", "html_url": "https://github.com/aws/aws-cli/issues/87", "id": 12898641, "node_id": "MDU6SXNzdWUxMjg5ODY0MQ==", "number": 87, "title": "Broken output in aws --output table ec2 describe-instances", "user": {"login": "gerrywastaken", "id": 71481, "node_id": "MDQ6VXNlcjcxNDgx", "avatar_url": "https://avatars.githubusercontent.com/u/71481?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gerrywastaken", "html_url": "https://github.com/gerrywastaken", "followers_url": "https://api.github.com/users/gerrywastaken/followers", "following_url": "https://api.github.com/users/gerrywastaken/following{/other_user}", "gists_url": "https://api.github.com/users/gerrywastaken/gists{/gist_id}", "starred_url": "https://api.github.com/users/gerrywastaken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gerrywastaken/subscriptions", "organizations_url": "https://api.github.com/users/gerrywastaken/orgs", "repos_url": "https://api.github.com/users/gerrywastaken/repos", "events_url": "https://api.github.com/users/gerrywastaken/events{/privacy}", "received_events_url": "https://api.github.com/users/gerrywastaken/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-04-07T17:30:03Z", "updated_at": "2014-05-29T23:39:26Z", "closed_at": "2013-04-16T12:52:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "% aws --output table ec2 describe-instances\nu'RequesterId'\n\nI noticed issue #79 was closed as fixed so I cloned the latest version of the repo but it doesn't appear to be fixed in this case. I tried both develop and master branches but they both returned the same. As with #79 other forms of output display fine and --debug shows the correct information is being returned, just not displayed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/87/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/87/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/86", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/86/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/86/events", "html_url": "https://github.com/aws/aws-cli/issues/86", "id": 12880265, "node_id": "MDU6SXNzdWUxMjg4MDI2NQ==", "number": 86, "title": "aws s3 get-object doesn't seem to download data", "user": {"login": "dspinellis", "id": 1212716, "node_id": "MDQ6VXNlcjEyMTI3MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1212716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dspinellis", "html_url": "https://github.com/dspinellis", "followers_url": "https://api.github.com/users/dspinellis/followers", "following_url": "https://api.github.com/users/dspinellis/following{/other_user}", "gists_url": "https://api.github.com/users/dspinellis/gists{/gist_id}", "starred_url": "https://api.github.com/users/dspinellis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dspinellis/subscriptions", "organizations_url": "https://api.github.com/users/dspinellis/orgs", "repos_url": "https://api.github.com/users/dspinellis/repos", "events_url": "https://api.github.com/users/dspinellis/events{/privacy}", "received_events_url": "https://api.github.com/users/dspinellis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2013-04-06T16:49:52Z", "updated_at": "2013-05-22T11:12:20Z", "closed_at": "2013-04-11T00:10:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to download a binary file from an AWS S3 bucket using aws-cli. However, the tool responds with an error message.\n\n```\n$ aws s3 get-object --bucket myBucketName --key myFileName\n\n<requests.packages.urllib3.response.HTTPResponse object at 0x1e61710> is not JSON serializable\n```\n\nSpecifying text output format, gives the object's metadata, but again not the actual data.\n\n```\n$ aws --output text get-object --bucket myBucketName --key myFileName\n<requests.packages.urllib3.response.HTTPResponse object at 0x298f710>   Fri, 05 Apr 2013 18:11:47 GMT   bytes   application/x-rpm       310000\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/86/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/86/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/77", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/77/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/77/events", "html_url": "https://github.com/aws/aws-cli/issues/77", "id": 12158677, "node_id": "MDU6SXNzdWUxMjE1ODY3Nw==", "number": 77, "title": "Tab Completion issue when redirecting to a file", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-03-18T22:57:19Z", "updated_at": "2015-01-17T00:20:41Z", "closed_at": "2015-01-17T00:20:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Though #66 is fixed, it looks like now instead of a traceback, I get undesired behavior.  Running:\n\n```\n$ aws ec2 describe-instances > /tmp/[TAB]\n```\n\nI get this:\n\n```\n$ aws ec2 describe-instances > --\n```\n\nHitting tab a second time I get:\n\n```\n$ aws ec2 describe-instances > --[TAB]\n--color          --debug          --endpoint-url   --filters        --instance-ids   --no-verify-ssl  --output         --profile        --region         --version\n```\n\nThe expected behavior would be to complete the contents of the `/tmp/` directory.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/77/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/77/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/72", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/72/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/72/events", "html_url": "https://github.com/aws/aws-cli/issues/72", "id": 11932701, "node_id": "MDU6SXNzdWUxMTkzMjcwMQ==", "number": 72, "title": "Proxy server support", "user": {"login": "caluml", "id": 1416399, "node_id": "MDQ6VXNlcjE0MTYzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1416399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caluml", "html_url": "https://github.com/caluml", "followers_url": "https://api.github.com/users/caluml/followers", "following_url": "https://api.github.com/users/caluml/following{/other_user}", "gists_url": "https://api.github.com/users/caluml/gists{/gist_id}", "starred_url": "https://api.github.com/users/caluml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caluml/subscriptions", "organizations_url": "https://api.github.com/users/caluml/orgs", "repos_url": "https://api.github.com/users/caluml/repos", "events_url": "https://api.github.com/users/caluml/events{/privacy}", "received_events_url": "https://api.github.com/users/caluml/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2013-03-12T16:33:18Z", "updated_at": "2013-10-17T13:42:30Z", "closed_at": "2013-03-14T20:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't find much in the way of documentation about proxy server support.\n\nIf it supports proxy servers, could you add some documentation somewhere - and if it doesn't, could you add support for proxy servers, and then some documentation?\n\nI have tried most of the environment variables I can think of, but I can't get it working via a proxy.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/72/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/72/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/66", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/66/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/66/events", "html_url": "https://github.com/aws/aws-cli/issues/66", "id": 11642174, "node_id": "MDU6SXNzdWUxMTY0MjE3NA==", "number": 66, "title": "Tab Completion on Bash generates AttributeError", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2013-03-04T22:23:35Z", "updated_at": "2013-03-18T22:52:30Z", "closed_at": "2013-03-18T22:52:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Trying to redirect the json output to a text file generates an AttributeError when using tab completion for the filename.\n\nRepro:\n\n```\n$ aws ec2 describe-instances > /tmp/[TAB]\n```\n\nNormally when hitting tab this would autocomplete the contents of /tmp/, but instead I get:\n\n  File \"aws-cli3/bin/aws_completer\", line 7, in <module>\n    exec(compile(open(**file**).read(), **file**, 'exec'))\n  File \"aws-cli/bin/aws_completer\", line 22, in <module>\n    awscli.completer.complete(cline, cpoint)\n  File \"aws-cli/awscli/completer.py\", line 90, in complete\n    all_options.extend(param_names)\nAttributeError: 'dict_keys' object has no attribute 'extend'\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/66/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/66/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/55", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/55/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/55/events", "html_url": "https://github.com/aws/aws-cli/issues/55", "id": 11287202, "node_id": "MDU6SXNzdWUxMTI4NzIwMg==", "number": 55, "title": "Error messages regarding required parameters are not very helpful", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cli/milestones/4", "html_url": "https://github.com/aws/aws-cli/milestone/4", "labels_url": "https://api.github.com/repos/aws/aws-cli/milestones/4/labels", "id": 348546, "node_id": "MDk6TWlsZXN0b25lMzQ4NTQ2", "number": 4, "title": "0.20.0", "description": "", "creator": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2013-06-04T22:02:01Z", "updated_at": "2015-10-09T20:17:52Z", "due_on": "2013-06-30T07:00:00Z", "closed_at": "2015-10-09T20:17:52Z"}, "comments": 1, "created_at": "2013-02-22T14:20:39Z", "updated_at": "2013-07-15T16:25:23Z", "closed_at": "2013-07-15T16:25:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "see https://forums.aws.amazon.com/thread.jspa?messageID=426973 for details\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/55/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/55/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/54", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/54/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/54/events", "html_url": "https://github.com/aws/aws-cli/issues/54", "id": 11228771, "node_id": "MDU6SXNzdWUxMTIyODc3MQ==", "number": 54, "title": "Unhelpful error message when no credentials are found", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-02-21T05:36:39Z", "updated_at": "2013-02-21T05:39:01Z", "closed_at": "2013-02-21T05:39:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If no credentials are found, you get the following error message:\n\n'NoneType' object has no attribute 'token'\n\nwhich really doesn't help.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/54/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/54/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/52", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/52/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/52/events", "html_url": "https://github.com/aws/aws-cli/issues/52", "id": 11223653, "node_id": "MDU6SXNzdWUxMTIyMzY1Mw==", "number": 52, "title": "JSON output not mapping xmlnames to key names", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1180550233, "node_id": "MDU6TGFiZWwxMTgwNTUwMjMz", "url": "https://api.github.com/repos/aws/aws-cli/labels/breaking-change", "name": "breaking-change", "color": "d85658", "default": false, "description": "Issue requires a breaking change to remediate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-02-21T01:13:06Z", "updated_at": "2019-01-04T20:02:44Z", "closed_at": "2013-02-21T15:18:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The JSON models for operation output can optionally include xmlname attributes.  These attributes show how the data  is represented in the XML response from the service.  However, the returned JSON should really be using these xmlname attributes to map the response XML elements back to the key names in the output structure.  The current code is not doing this.\n\nFor example, the `DescribeInstances` operation in EC2 has an output definition that starts like this:\n\n```\n\"output\": {\n  \"members\": {\n    \"Reservation\": {\n        xmlname: \"reservationSet\"\n     }  \n}\n```\n\nCurrently, botocore produces a JSON structure that looks like this:\n\n```\n{'reservationSet': [\u2026] }\n```\n\nBut it really should be:\n\n```\n{'Reservation': [...]}\n```\n\nTo maintain compatibility with other AWS SDK's and tools, this really needs to be fixed in botocore.  Unfortunately, this may cause problems if current users are processing the JSON responses with tools like `jq`.  This will require that they update their path specifications.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/52/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/52/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/46", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/46/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/46/events", "html_url": "https://github.com/aws/aws-cli/issues/46", "id": 10666886, "node_id": "MDU6SXNzdWUxMDY2Njg4Ng==", "number": 46, "title": "debug option directly imports httplib", "user": {"login": "jamesls", "id": 368057, "node_id": "MDQ6VXNlcjM2ODA1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/368057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesls", "html_url": "https://github.com/jamesls", "followers_url": "https://api.github.com/users/jamesls/followers", "following_url": "https://api.github.com/users/jamesls/following{/other_user}", "gists_url": "https://api.github.com/users/jamesls/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesls/subscriptions", "organizations_url": "https://api.github.com/users/jamesls/orgs", "repos_url": "https://api.github.com/users/jamesls/repos", "events_url": "https://api.github.com/users/jamesls/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-02-05T20:49:53Z", "updated_at": "2013-02-05T20:57:30Z", "closed_at": "2013-02-05T20:57:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This breaks in python3:\n\n```\n$ aws --debug ses get-send-quota                                                                                                           \nTraceback (most recent call last):\n  File \"/Users/j/.virtualenvs/aws-cli3/bin/aws\", line 7, in <module>\n    exec(compile(open(__file__).read(), __file__, 'exec'))\n  File \"/Users/j/Source/aws-cli/bin/aws\", line 24, in <module>\n    main()\n  File \"/Users/j/Source/aws-cli/bin/aws\", line 20, in main\n    driver.main()\n  File \"/Users/j/Source/aws-cli/awscli/clidriver.py\", line 340, in main\n    import httplib\nImportError: No module named 'httplib'\n```\n\nWe can use `http_client` from `six.moves` to fix this.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/46/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/46/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/42", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/42/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/42/events", "html_url": "https://github.com/aws/aws-cli/issues/42", "id": 10501427, "node_id": "MDU6SXNzdWUxMDUwMTQyNw==", "number": 42, "title": "Parameters of type \"double\" cause errors", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-01-31T14:14:03Z", "updated_at": "2013-01-31T18:18:07Z", "closed_at": "2013-01-31T18:18:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Any parameter of type \"double\" will cause a validation error such as:\n\nUnable to convert value (80.1) to type float\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/42/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/42/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/41", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/41/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/41/events", "html_url": "https://github.com/aws/aws-cli/issues/41", "id": 10459225, "node_id": "MDU6SXNzdWUxMDQ1OTIyNQ==", "number": 41, "title": "Fix ec2 import-key-pair", "user": {"login": "boosh", "id": 362148, "node_id": "MDQ6VXNlcjM2MjE0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/362148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boosh", "html_url": "https://github.com/boosh", "followers_url": "https://api.github.com/users/boosh/followers", "following_url": "https://api.github.com/users/boosh/following{/other_user}", "gists_url": "https://api.github.com/users/boosh/gists{/gist_id}", "starred_url": "https://api.github.com/users/boosh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boosh/subscriptions", "organizations_url": "https://api.github.com/users/boosh/orgs", "repos_url": "https://api.github.com/users/boosh/repos", "events_url": "https://api.github.com/users/boosh/events{/privacy}", "received_events_url": "https://api.github.com/users/boosh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2013-01-30T13:56:16Z", "updated_at": "2019-06-20T23:01:19Z", "closed_at": "2013-03-08T13:08:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Ubuntu 12.04 I ran ssh-keygen and wrote the output to particular (non-default) file.\n\nWhen I try to use the 'aws ec2 import-key-pair' command it fails, complaining the .pub file isn't in OpenSSH format. However the same key works fine with the java CLI tools.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/41/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/26", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/26/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/26/events", "html_url": "https://github.com/aws/aws-cli/issues/26", "id": 9705072, "node_id": "MDU6SXNzdWU5NzA1MDcy", "number": 26, "title": "Endpoints for CloudWatch service are incorrect", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2013-01-05T11:53:51Z", "updated_at": "2013-01-05T11:54:24Z", "closed_at": "2013-01-05T11:54:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See https://github.com/boto/botocore/pull/7\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/26/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/24", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/24/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/24/events", "html_url": "https://github.com/aws/aws-cli/issues/24", "id": 9691094, "node_id": "MDU6SXNzdWU5NjkxMDk0", "number": 24, "title": "aws sqs create-queue doesn't work if attributes are provided", "user": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/aws/aws-cli/milestones/2", "html_url": "https://github.com/aws/aws-cli/milestone/2", "labels_url": "https://api.github.com/repos/aws/aws-cli/milestones/2/labels", "id": 250139, "node_id": "MDk6TWlsZXN0b25lMjUwMTM5", "number": 2, "title": "0.5.0", "description": "Mainly a bug fix release.  Some new capabilities.", "creator": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2013-01-23T16:42:39Z", "updated_at": "2013-01-26T00:54:34Z", "due_on": "2013-01-25T08:00:00Z", "closed_at": "2013-01-26T00:52:04Z"}, "comments": 0, "created_at": "2013-01-04T18:57:37Z", "updated_at": "2014-03-28T16:59:23Z", "closed_at": "2013-01-26T00:47:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `create-queue` operation allows optional attributes to be specified at the time the queue is created.  If you try to do that, you will get a stack trace.  The `map` parameter type is not being handled properly.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/24/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/12", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/12/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/12/events", "html_url": "https://github.com/aws/aws-cli/issues/12", "id": 9529455, "node_id": "MDU6SXNzdWU5NTI5NDU1", "number": 12, "title": "IAM roles: 'NoneType' object has no attribute 'access_key'", "user": {"login": "jdub", "id": 276281, "node_id": "MDQ6VXNlcjI3NjI4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/276281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdub", "html_url": "https://github.com/jdub", "followers_url": "https://api.github.com/users/jdub/followers", "following_url": "https://api.github.com/users/jdub/following{/other_user}", "gists_url": "https://api.github.com/users/jdub/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdub/subscriptions", "organizations_url": "https://api.github.com/users/jdub/orgs", "repos_url": "https://api.github.com/users/jdub/repos", "events_url": "https://api.github.com/users/jdub/events{/privacy}", "received_events_url": "https://api.github.com/users/jdub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/aws/aws-cli/milestones/1", "html_url": "https://github.com/aws/aws-cli/milestone/1", "labels_url": "https://api.github.com/repos/aws/aws-cli/milestones/1/labels", "id": 238194, "node_id": "MDk6TWlsZXN0b25lMjM4MTk0", "number": 1, "title": "0.4.5 Release", "description": "", "creator": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2013-01-03T23:52:09Z", "updated_at": "2013-03-20T23:31:58Z", "due_on": "2013-01-03T08:00:00Z", "closed_at": "2013-03-20T23:31:58Z"}, "comments": 9, "created_at": "2012-12-27T00:27:18Z", "updated_at": "2020-07-30T09:36:10Z", "closed_at": "2012-12-27T16:38:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have created an IAM role (using the VPC Full Access template, unedited, which includes `ec2:DescribeInstances`), launched an Ubuntu 12.04 LTS t1.micro with it attached, and installed aws-cli with easy_install...\n\n```\nubuntu@ip-10-128-3-5:~$ curl http://169.254.169.254/latest/meta-data/iam/info && echo\n{\n  \"Code\" : \"Success\",\n  \"LastUpdated\" : \"2012-12-26T23:44:36Z\",\n  \"InstanceProfileArn\" : \"arn:aws:iam::*REMOVED*:instance-profile/vpc-nat\",\n  \"InstanceProfileId\" : \"*REMOVED*\"\n}\nubuntu@ip-10-128-3-5:~$ curl http://169.254.169.254/latest/meta-data/iam/security-credentials/vpc-nat && echo\n{\n  \"Code\" : \"Success\",\n  \"LastUpdated\" : \"2012-12-26T23:44:38Z\",\n  \"Type\" : \"AWS-HMAC\",\n  \"AccessKeyId\" : \"*REMOVED*\",\n  \"SecretAccessKey\" : \"*REMOVED*\",\n  \"Token\" : \"*REMOVED*\",\n  \"Expiration\" : \"2012-12-27T06:07:57Z\"\n}\nubuntu@ip-10-128-3-5:~$ aws ec2 --region ap-southeast-2 describe-instances\n'NoneType' object has no attribute 'access_key'\n```\n\nPer strace, two of the final things it tries to do is:\n\n```\nopen(\"/etc/boto.cfg\", O_RDONLY)         = -1 ENOENT (No such file or directory)\nopen(\"/home/ubuntu/.boto\", O_RDONLY)    = -1 ENOENT (No such file or directory)\n```\n\nAnd the debug log:\n\n```\nubuntu@ip-10-128-3-5:~$ aws --debug ec2 --region ap-southeast-2 describe-instances\n2012-12-27 00:21:06,965 - botocore.base - DEBUG - Attempting to Load: aws/_services/ec2\n2012-12-27 00:21:06,965 - botocore.base - DEBUG - Attempting to Load: aws\n2012-12-27 00:21:06,965 - botocore.base - DEBUG - Attempting to Load: aws/_services\n2012-12-27 00:21:06,966 - botocore.base - DEBUG - Found data file: /usr/local/lib/python2.7/dist-packages/botocore-0.4.1-py2.7.egg/botocore/data/aws/_services.json\n2012-12-27 00:21:06,966 - botocore.base - DEBUG - Attempting to Load: aws/_services/ec2\n2012-12-27 00:21:06,966 - botocore.base - DEBUG - Attempting to Load: aws/ec2\n2012-12-27 00:21:06,996 - botocore.base - DEBUG - Found data file: /usr/local/lib/python2.7/dist-packages/botocore-0.4.1-py2.7.egg/botocore/data/aws/ec2.json\n2012-12-27 00:21:07,064 - botocore.endpoint - DEBUG - {}\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/awscli-0.4.4-py2.7.egg/awscli/clidriver.py\", line 296, in call\n    **params)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore-0.4.1-py2.7.egg/botocore/operation.py\", line 42, in call\n    return endpoint.make_request(self, params)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore-0.4.1-py2.7.egg/botocore/endpoint.py\", line 78, in make_request\n    headers={'User-Agent': user_agent})\n  File \"/usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg/requests/api.py\", line 98, in post\n    return request('post', url, data=data, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg/requests/safe_mode.py\", line 39, in wrapped\n    return function(method, url, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg/requests/api.py\", line 51, in request\n    return session.request(method=method, url=url, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg/requests/sessions.py\", line 228, in request\n    args = dispatch_hook('args', args['hooks'], args)\n  File \"/usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg/requests/hooks.py\", line 44, in dispatch_hook\n    _hook_data = hook(hook_data)\n  File \"/usr/local/lib/python2.7/dist-packages/botocore-0.4.1-py2.7.egg/botocore/auth.py\", line 77, in add_auth\n    args['params']['AWSAccessKeyId'] = self.credentials.access_key\nAttributeError: 'NoneType' object has no attribute 'access_key'\n```\n\nNote that if I supply AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY environment variables, it works as expected.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/12/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/9", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/9/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/9/events", "html_url": "https://github.com/aws/aws-cli/issues/9", "id": 9494210, "node_id": "MDU6SXNzdWU5NDk0MjEw", "number": 9, "title": "bash completion issue: --include-all-instances can't be used with describe-instance-status", "user": {"login": "solarce", "id": 9660, "node_id": "MDQ6VXNlcjk2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/9660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/solarce", "html_url": "https://github.com/solarce", "followers_url": "https://api.github.com/users/solarce/followers", "following_url": "https://api.github.com/users/solarce/following{/other_user}", "gists_url": "https://api.github.com/users/solarce/gists{/gist_id}", "starred_url": "https://api.github.com/users/solarce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/solarce/subscriptions", "organizations_url": "https://api.github.com/users/solarce/orgs", "repos_url": "https://api.github.com/users/solarce/repos", "events_url": "https://api.github.com/users/solarce/events{/privacy}", "received_events_url": "https://api.github.com/users/solarce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cli/milestones/1", "html_url": "https://github.com/aws/aws-cli/milestone/1", "labels_url": "https://api.github.com/repos/aws/aws-cli/milestones/1/labels", "id": 238194, "node_id": "MDk6TWlsZXN0b25lMjM4MTk0", "number": 1, "title": "0.4.5 Release", "description": "", "creator": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2013-01-03T23:52:09Z", "updated_at": "2013-03-20T23:31:58Z", "due_on": "2013-01-03T08:00:00Z", "closed_at": "2013-03-20T23:31:58Z"}, "comments": 2, "created_at": "2012-12-23T23:21:44Z", "updated_at": "2013-01-03T23:53:22Z", "closed_at": "2012-12-26T14:29:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using tab completion with `describe-instance-status` it shows `--include-all-instances` as a possible option, but when you try to use it, you get told it's not a valid option for this function.\n\n```\n$ aws ec2 describe-instance-status --include-all-instances \n{\n    \"Response\": {\n        \"Errors\": {\n            \"Error\": {\n                \"Message\": \"The parameter includeAllInstances is not recognized\", \n                \"Code\": \"UnknownParameter\"\n            }\n        }, \n        \"RequestID\": \"15bdcd8d-fd43-4f71-869f-ae23bfa51298\"\n    }\n}\n```\n\nUnfortunately I don't know enough about bash completions to provide a PR myself :/\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/9/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/8", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/8/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/8/events", "html_url": "https://github.com/aws/aws-cli/issues/8", "id": 9492460, "node_id": "MDU6SXNzdWU5NDkyNDYw", "number": 8, "title": "easy_install and pip failing on requirement \"requests>=0.12.1,<1.0.0\" (i.e. 0.14.2)", "user": {"login": "toyg", "id": 219614, "node_id": "MDQ6VXNlcjIxOTYxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/219614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toyg", "html_url": "https://github.com/toyg", "followers_url": "https://api.github.com/users/toyg/followers", "following_url": "https://api.github.com/users/toyg/following{/other_user}", "gists_url": "https://api.github.com/users/toyg/gists{/gist_id}", "starred_url": "https://api.github.com/users/toyg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toyg/subscriptions", "organizations_url": "https://api.github.com/users/toyg/orgs", "repos_url": "https://api.github.com/users/toyg/repos", "events_url": "https://api.github.com/users/toyg/events{/privacy}", "received_events_url": "https://api.github.com/users/toyg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cli/milestones/1", "html_url": "https://github.com/aws/aws-cli/milestone/1", "labels_url": "https://api.github.com/repos/aws/aws-cli/milestones/1/labels", "id": 238194, "node_id": "MDk6TWlsZXN0b25lMjM4MTk0", "number": 1, "title": "0.4.5 Release", "description": "", "creator": {"login": "garnaat", "id": 2056, "node_id": "MDQ6VXNlcjIwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garnaat", "html_url": "https://github.com/garnaat", "followers_url": "https://api.github.com/users/garnaat/followers", "following_url": "https://api.github.com/users/garnaat/following{/other_user}", "gists_url": "https://api.github.com/users/garnaat/gists{/gist_id}", "starred_url": "https://api.github.com/users/garnaat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garnaat/subscriptions", "organizations_url": "https://api.github.com/users/garnaat/orgs", "repos_url": "https://api.github.com/users/garnaat/repos", "events_url": "https://api.github.com/users/garnaat/events{/privacy}", "received_events_url": "https://api.github.com/users/garnaat/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2013-01-03T23:52:09Z", "updated_at": "2013-03-20T23:31:58Z", "due_on": "2013-01-03T08:00:00Z", "closed_at": "2013-03-20T23:31:58Z"}, "comments": 3, "created_at": "2012-12-23T19:02:06Z", "updated_at": "2013-01-03T23:53:21Z", "closed_at": "2013-01-03T23:20:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like the version of requests that is being pulled as part of awscli requirements (0.14.2) has a bug in setup.py. Considering it's an old release, awscli should either pin a different release (0.14.1 seems to work) or target a more recent build. For the record, installing chardet2 does not make any difference.\n\nThis is the traceback under python 3.3, OSX 10.8.2\n\n``` python\nDownloading/unpacking requests>=0.12.1,<1.0.0 (from botocore>=0.4.0->awscli)\n  Downloading requests-0.14.2.tar.gz (361kB): 361kB downloaded\n  Running setup.py egg_info for package requests\n    Traceback (most recent call last):\n      File \"<string>\", line 16, in <module>\n      File \"/Users/toyg/Dev/awscli/build/requests/setup.py\", line 6, in <module>\n        import requests\n      File \"requests/__init__.py\", line 52, in <module>\n        from . import utils\n      File \"requests/utils.py\", line 22, in <module>\n        from .compat import parse_http_list as _parse_list_header\n      File \"requests/compat.py\", line 112, in <module>\n        from .packages import chardet2 as chardet\n    ImportError: cannot import name chardet2\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n\n  File \"<string>\", line 16, in <module>\n\n  File \"/Users/toyg/Dev/awscli/build/requests/setup.py\", line 6, in <module>\n\n    import requests\n\n  File \"requests/__init__.py\", line 52, in <module>\n\n    from . import utils\n\n  File \"requests/utils.py\", line 22, in <module>\n\n    from .compat import parse_http_list as _parse_list_header\n\n  File \"requests/compat.py\", line 112, in <module>\n\n    from .packages import chardet2 as chardet\n\nImportError: cannot import name chardet2\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-cli/issues/8/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/aws/aws-cli/issues/8/timeline", "performed_via_github_app": null, "state_reason": "completed"}]