[{"url": "https://api.github.com/repos/fonttools/fonttools/issues/1633", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/1633/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/1633/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/1633/events", "html_url": "https://github.com/fonttools/fonttools/issues/1633", "id": 452279213, "node_id": "MDU6SXNzdWU0NTIyNzkyMTM=", "number": 1633, "title": "[subset] KeyError in EBDT table with msgothic.ttc", "user": {"login": "john45676", "id": 51390301, "node_id": "MDQ6VXNlcjUxMzkwMzAx", "avatar_url": "https://avatars.githubusercontent.com/u/51390301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john45676", "html_url": "https://github.com/john45676", "followers_url": "https://api.github.com/users/john45676/followers", "following_url": "https://api.github.com/users/john45676/following{/other_user}", "gists_url": "https://api.github.com/users/john45676/gists{/gist_id}", "starred_url": "https://api.github.com/users/john45676/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john45676/subscriptions", "organizations_url": "https://api.github.com/users/john45676/orgs", "repos_url": "https://api.github.com/users/john45676/repos", "events_url": "https://api.github.com/users/john45676/events{/privacy}", "received_events_url": "https://api.github.com/users/john45676/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-05T01:46:55Z", "updated_at": "2019-09-10T15:01:23Z", "closed_at": "2019-09-10T15:01:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "The font is Microsoft Windows embeded font.\r\n\r\nC:\\Windows\\Fonts\\MS UI Gothic\r\n\r\nFont number 0 & 1 are fine, but number 2 will subset fail. \r\n\r\nMy command code is:\r\npyftsubset msgothic.ttc --text-file=XXX.txt --output-file=msgothic_subset.ttf --drop-tables= --font-number=2\r\n\r\nHere is the message:\r\n`    load_entry_point('fonttools==3.42.0', 'console_scripts', 'pyftsubset')()\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\r\n    return func(*args, **kwds)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\subset\\__init__.py\", line 2873, in main\r\n    save_font(font, outfile, options)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\r\n    return func(*args, **kwds)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\subset\\__init__.py\", line 2720, in save_font\r\n    font.save(outfile, reorderTables=options.canonical_order)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\ttLib\\ttFont.py\", line 173, in save\r\n    writer_reordersTables = self._save(tmp)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\ttLib\\ttFont.py\", line 212, in _save\r\n    self._writeTable(tag, writer, done, tableCache)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\ttLib\\ttFont.py\", line 633, in _writeTable\r\n    tabledata = self.getTableData(tag)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\ttLib\\ttFont.py\", line 651, in getTableData\r\n    return self.tables[tag].compile(self)\r\n  File \"fonttools-3.42.0-py3.6.egg\\fontTools\\ttLib\\tables\\E_B_D_T_.py\", line 101, in compile\r\n    glyph = curGlyphDict[curName]\r\nKeyError: 'uni4E0A'`\r\n\r\nThanks.", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/1633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1541", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/1541/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/1541/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/1541/events", "html_url": "https://github.com/fonttools/fonttools/issues/1541", "id": 421528419, "node_id": "MDU6SXNzdWU0MjE1Mjg0MTk=", "number": 1541, "title": "[feaLib] Octal numbers are parsed as decimal", "user": {"login": "dscorbett", "id": 1124347, "node_id": "MDQ6VXNlcjExMjQzNDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1124347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dscorbett", "html_url": "https://github.com/dscorbett", "followers_url": "https://api.github.com/users/dscorbett/followers", "following_url": "https://api.github.com/users/dscorbett/following{/other_user}", "gists_url": "https://api.github.com/users/dscorbett/gists{/gist_id}", "starred_url": "https://api.github.com/users/dscorbett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dscorbett/subscriptions", "organizations_url": "https://api.github.com/users/dscorbett/orgs", "repos_url": "https://api.github.com/users/dscorbett/repos", "events_url": "https://api.github.com/users/dscorbett/events{/privacy}", "received_events_url": "https://api.github.com/users/dscorbett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-15T13:50:37Z", "updated_at": "2019-08-17T11:43:19Z", "closed_at": "2019-08-17T11:43:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[The OpenType feature file spec](https://www.adobe.com/devnet/opentype/afdko/topic_feature_file_syntax.html#9.e) says, \u201cDecimal numbers must begin with a non-0 digit, octal numbers with a 0 digit, and hexadecimal numbers with a 0x prefix to numbers and hexadecimal letters a-f or A-F.\u201d Octal numbers are accepted after `nameid`, `name`, and `sizemenuname`; makeotf also accepts them after `Character`. feaLib\u2019s parser does not recognize octal numbers and just treats them as decimal.", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/1541/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1459", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/1459/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/1459/events", "html_url": "https://github.com/fonttools/fonttools/issues/1459", "id": 400964374, "node_id": "MDU6SXNzdWU0MDA5NjQzNzQ=", "number": 1459, "title": "Pair position lookup NULL value record compiled incorrectly", "user": {"login": "bobh0303", "id": 6842108, "node_id": "MDQ6VXNlcjY4NDIxMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/6842108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobh0303", "html_url": "https://github.com/bobh0303", "followers_url": "https://api.github.com/users/bobh0303/followers", "following_url": "https://api.github.com/users/bobh0303/following{/other_user}", "gists_url": "https://api.github.com/users/bobh0303/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobh0303/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobh0303/subscriptions", "organizations_url": "https://api.github.com/users/bobh0303/orgs", "repos_url": "https://api.github.com/users/bobh0303/repos", "events_url": "https://api.github.com/users/bobh0303/events{/privacy}", "received_events_url": "https://api.github.com/users/bobh0303/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-01-19T05:45:27Z", "updated_at": "2019-01-19T18:35:50Z", "closed_at": "2019-01-19T15:08:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm converting a VOLT project to FEA. The project contains a number of pair position lookups where only the _second_ glyph has a non-empty valuerecord. ttx decompiles such lookups to the following (glyph names changed to protect the innocent, etc.):\r\n```\r\n        <!-- SubTableCount=1 -->\r\n        <PairPos index=\"0\" Format=\"1\">\r\n          <Coverage Format=\"1\">\r\n            <Glyph value=\"glyph1\"/>\r\n          </Coverage>\r\n          <ValueFormat1 value=\"0\"/>\r\n          <ValueFormat2 value=\"5\"/>\r\n          <!-- PairSetCount=1 -->\r\n          <PairSet index=\"0\">\r\n            <!-- PairValueCount=1 -->\r\n            <PairValueRecord index=\"0\">\r\n              <SecondGlyph value=\"glyph2\"/>\r\n              <Value2 XPlacement=\"-180\" XAdvance=\"-90\"/>\r\n            </PairValueRecord>\r\n          </PairSet>\r\n        </PairPos>\r\n```\r\nNote that ValueFormat1 is 0, meaning that valuerecord for the first glyph is empty, and Valueformat2 is 5, and thus the only ValueRecord provided is for glyph2.\r\n\r\nIt would seem that the obvious way to express this in FEA is:\r\n\r\n```\r\n    pos glyph1 <NULL> glyph2 <-180 0 -90 0>;\r\n```\r\nhowever when I try that, the result is that the non-empty value record is applied to _glyph1_:\r\n\r\n```\r\n        <PairPos index=\"0\" Format=\"1\">\r\n          <Coverage Format=\"1\">\r\n            <Glyph value=\"glyph1\"/>\r\n          </Coverage>\r\n          <ValueFormat1 value=\"5\"/>\r\n          <ValueFormat2 value=\"0\"/>\r\n          <!-- PairSetCount=1 -->\r\n          <PairSet index=\"0\">\r\n            <!-- PairValueCount=1 -->\r\n            <PairValueRecord index=\"0\">\r\n              <SecondGlyph value=\"glyph2\"/>\r\n              <Value1 XPlacement=\"-180\" XAdvance=\"-90\"/>\r\n            </PairValueRecord>\r\n          </PairSet>\r\n        </PairPos>\r\n```\r\nNote that ValueFormat1 is now 5 (rather than 0).\r\n\r\nI'll guess that the `<NULL>` valuerecord is being ignored, resulting in an effective rule of\r\n```\r\n    pos glyph1 glyph2 <-180 0 -90 0>;\r\n```\r\nwhich is what Adobe calls a _Format B_ pair position syntax which, [they say](https://rawgit.com/adobe-type-tools/afdko/develop/docs/OpenTypeFeatureFileSpecification.html#6.b), is shorthand for\r\n```\r\n    pos glyph1 <-180 0 -90 0> glyph2 <NULL>;\r\n```\r\n\r\nBob\r\n\r\nPS: Yes, I know I could effect the correct rendering by putting in a non-empty value record for the first glyph, e.g.:\r\n```\r\n pos glyph1 0 glyph2 <-180 0 -90 0>;\r\n```\r\nBut this causes the lookup to include two actual valuerecords rather than one.", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/1459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1226", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/1226/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/1226/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/1226/events", "html_url": "https://github.com/fonttools/fonttools/issues/1226", "id": 308784474, "node_id": "MDU6SXNzdWUzMDg3ODQ0NzQ=", "number": 1226, "title": "[designspaceLib] normalize() does not consider axisMap", "user": {"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "LettError", "id": 1243961, "node_id": "MDQ6VXNlcjEyNDM5NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1243961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LettError", "html_url": "https://github.com/LettError", "followers_url": "https://api.github.com/users/LettError/followers", "following_url": "https://api.github.com/users/LettError/following{/other_user}", "gists_url": "https://api.github.com/users/LettError/gists{/gist_id}", "starred_url": "https://api.github.com/users/LettError/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LettError/subscriptions", "organizations_url": "https://api.github.com/users/LettError/orgs", "repos_url": "https://api.github.com/users/LettError/repos", "events_url": "https://api.github.com/users/LettError/events{/privacy}", "received_events_url": "https://api.github.com/users/LettError/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "LettError", "id": 1243961, "node_id": "MDQ6VXNlcjEyNDM5NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1243961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LettError", "html_url": "https://github.com/LettError", "followers_url": "https://api.github.com/users/LettError/followers", "following_url": "https://api.github.com/users/LettError/following{/other_user}", "gists_url": "https://api.github.com/users/LettError/gists{/gist_id}", "starred_url": "https://api.github.com/users/LettError/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LettError/subscriptions", "organizations_url": "https://api.github.com/users/LettError/orgs", "repos_url": "https://api.github.com/users/LettError/repos", "events_url": "https://api.github.com/users/LettError/events{/privacy}", "received_events_url": "https://api.github.com/users/LettError/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2018-03-27T00:53:48Z", "updated_at": "2019-02-27T23:25:25Z", "closed_at": "2019-02-27T23:25:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/1226/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1096", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/1096/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/1096/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/1096/events", "html_url": "https://github.com/fonttools/fonttools/pull/1096", "id": 271700503, "node_id": "MDExOlB1bGxSZXF1ZXN0MTUxMDE4NDcx", "number": 1096, "title": "Split context", "user": {"login": "mhosken", "id": 5687149, "node_id": "MDQ6VXNlcjU2ODcxNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5687149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhosken", "html_url": "https://github.com/mhosken", "followers_url": "https://api.github.com/users/mhosken/followers", "following_url": "https://api.github.com/users/mhosken/following{/other_user}", "gists_url": "https://api.github.com/users/mhosken/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhosken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhosken/subscriptions", "organizations_url": "https://api.github.com/users/mhosken/orgs", "repos_url": "https://api.github.com/users/mhosken/repos", "events_url": "https://api.github.com/users/mhosken/events{/privacy}", "received_events_url": "https://api.github.com/users/mhosken/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-11-07T03:42:12Z", "updated_at": "2017-11-21T11:06:18Z", "closed_at": "2017-11-21T11:06:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/fonttools/fonttools/pulls/1096", "html_url": "https://github.com/fonttools/fonttools/pull/1096", "diff_url": "https://github.com/fonttools/fonttools/pull/1096.diff", "patch_url": "https://github.com/fonttools/fonttools/pull/1096.patch", "merged_at": null}, "body": "Given a split contextual lookup like:\r\n```\r\nsub a'lookup upper x x A'lookup lower;\r\n```\r\nFonttools silently does the wrong thing in that it brings the two marked glyphs together resulting in a reordered rule that looks like:\r\n```\r\nsub a'lookup upper A' lookup lower x x;\r\n```\r\nFontforge silently resolves this by inserting ' in all the intervening glyphs as in:\r\n```\r\nsub a'lookup upper x' x' A'lookup lower;\r\n```\r\nThis PR does the same thing. The alternative is that an error should be reported and the user forced to insert the extra marks themselves. I leave that option as an open bug.", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/1096/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1089", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/1089/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/1089/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/1089/events", "html_url": "https://github.com/fonttools/fonttools/issues/1089", "id": 270407397, "node_id": "MDU6SXNzdWUyNzA0MDczOTc=", "number": 1089, "title": "Apple kern tables are wrongly compiled", "user": {"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-11-01T18:35:29Z", "updated_at": "2017-11-04T16:41:54Z", "closed_at": "2017-11-04T16:41:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The Apple kern table (with uint32 version) has different subtable format than the OpenType one.  We ignore this when compiling kern subtables.\r\nhttps://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6kern.html\r\nhttps://www.microsoft.com/typography/otspec/kern.htm", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/1089/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1006", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/1006/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/1006/events", "html_url": "https://github.com/fonttools/fonttools/issues/1006", "id": 243906303, "node_id": "MDU6SXNzdWUyNDM5MDYzMDM=", "number": 1006, "title": "Distinction between hintmask bits and an operator in charstring", "user": {"login": "mashabow", "id": 6268183, "node_id": "MDQ6VXNlcjYyNjgxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/6268183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mashabow", "html_url": "https://github.com/mashabow", "followers_url": "https://api.github.com/users/mashabow/followers", "following_url": "https://api.github.com/users/mashabow/following{/other_user}", "gists_url": "https://api.github.com/users/mashabow/gists{/gist_id}", "starred_url": "https://api.github.com/users/mashabow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mashabow/subscriptions", "organizations_url": "https://api.github.com/users/mashabow/orgs", "repos_url": "https://api.github.com/users/mashabow/repos", "events_url": "https://api.github.com/users/mashabow/events{/privacy}", "received_events_url": "https://api.github.com/users/mashabow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-07-19T02:38:45Z", "updated_at": "2017-07-25T18:52:56Z", "closed_at": "2017-07-20T20:45:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While subsetting I got an error raised in `op_or()`, although this font has no `or` operators, of course.\r\n\r\n```console\r\n$ pyftsubset font.otf --text=\u5cf6 --no-hinting\r\nTraceback (most recent call last):\r\n  File \"/Users/mnakamura/.pyenv/versions/subset-2.7.13/bin/pyftsubset\", line 11, in <module>\r\n    load_entry_point('fonttools', 'console_scripts', 'pyftsubset')()\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/misc/loggingTools.py\", line 372, in wrapper\r\n    return func(*args, **kwds)\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/subset/__init__.py\", line 2971, in main\r\n    subsetter.subset(font)\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/subset/__init__.py\", line 2785, in subset\r\n    self._prune_post_subset(font)\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/subset/__init__.py\", line 2768, in _prune_post_subset\r\n    retain = table.prune_post_subset(self.options)\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/subset/__init__.py\", line 2208, in prune_post_subset\r\n    decompiler.execute(c)\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/subset/__init__.py\", line 2001, in execute\r\n    psCharStrings.T2WidthExtractor.execute(self, charString)\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/misc/psCharStrings.py\", line 303, in execute\r\n    rv = handler(index)\r\n  File \"/Users/mnakamura/.ghq/github.com/fonttools/fonttools/Lib/fontTools/misc/psCharStrings.py\", line 375, in op_or\r\n    raise NotImplementedError\r\nNotImplementedError\r\n```\r\n\r\nThis glyph has fifteen stems, and contains a sequence `hintmask 0110111101110010` in its charstring. Since the mask bits `0110111101110010` (= `6f72` in hex) can be decoded as a string \"or\" in ASCII-compatible encodings, the sequence is stored as `[..., 'hintmask', 'or', ...]` in `charString.program`, and eventually it's impossible to distinguish the bits from an `or` operator.\r\n\r\n### Workaround\r\n\r\nUse Python 3.", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/1006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/1006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/939", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/939/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/939/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/939/events", "html_url": "https://github.com/fonttools/fonttools/issues/939", "id": 224941179, "node_id": "MDU6SXNzdWUyMjQ5NDExNzk=", "number": 939, "title": "[varLib.merger] ", "user": {"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-04-27T23:34:00Z", "updated_at": "2017-04-27T23:44:02Z", "closed_at": "2017-04-27T23:44:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In `_ClassDef_invert()`, if allGlyphs is specified, then we should intersect all produced classes with allGlyphs.  This would fix kern merging when a PairPosFormat2 has ClassDef1 with glyphs that are NOT present in the Coverage.", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/939/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/856", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/856/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/856/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/856/events", "html_url": "https://github.com/fonttools/fonttools/issues/856", "id": 209390441, "node_id": "MDU6SXNzdWUyMDkzOTA0NDE=", "number": 856, "title": "[subset] Subr subsetting fails on some CID-keyed CFF", "user": {"login": "mashabow", "id": 6268183, "node_id": "MDQ6VXNlcjYyNjgxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/6268183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mashabow", "html_url": "https://github.com/mashabow", "followers_url": "https://api.github.com/users/mashabow/followers", "following_url": "https://api.github.com/users/mashabow/following{/other_user}", "gists_url": "https://api.github.com/users/mashabow/gists{/gist_id}", "starred_url": "https://api.github.com/users/mashabow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mashabow/subscriptions", "organizations_url": "https://api.github.com/users/mashabow/orgs", "repos_url": "https://api.github.com/users/mashabow/repos", "events_url": "https://api.github.com/users/mashabow/events{/privacy}", "received_events_url": "https://api.github.com/users/mashabow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-02-22T09:00:17Z", "updated_at": "2022-10-28T17:58:10Z", "closed_at": "2022-10-28T17:58:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Recently an issue with `--no-hinting` was fixed in #709, but I'm getting another error when subsetting a CID-keyed CFF:\r\n\r\n```\r\n$ pyftsubset OurAwesomeUnreleasedFont.otf --no-hinting --text=\"\u60c5\"\r\nTraceback (most recent call last):\r\n  File \"/Users/mnakamura/.pyenv/versions/fonttools-2.7.13/bin/pyftsubset\", line 11, in <module>\r\n    load_entry_point('fonttools', 'console_scripts', 'pyftsubset')()\r\n  File \"/Users/mnakamura/.ghq/github.com/mashabow/fonttools/Lib/fontTools/misc/loggingTools.py\", line 372, in wrapper\r\n    return func(*args, **kwds)\r\n  File \"/Users/mnakamura/.ghq/github.com/mashabow/fonttools/Lib/fontTools/subset/__init__.py\", line 2975, in main\r\n    subsetter.subset(font)\r\n  File \"/Users/mnakamura/.ghq/github.com/mashabow/fonttools/Lib/fontTools/subset/__init__.py\", line 2789, in subset\r\n    self._prune_post_subset(font)\r\n  File \"/Users/mnakamura/.ghq/github.com/mashabow/fonttools/Lib/fontTools/subset/__init__.py\", line 2772, in _prune_post_subset\r\n    retain = table.prune_post_subset(self.options)\r\n  File \"/Users/mnakamura/.ghq/github.com/mashabow/fonttools/Lib/fontTools/subset/__init__.py\", line 2281, in prune_post_subset\r\n    subr.subset_subroutines (local_subrs, font.GlobalSubrs)\r\n  File \"/Users/mnakamura/.ghq/github.com/mashabow/fonttools/Lib/fontTools/subset/__init__.py\", line 1917, in subset_subroutines\r\n    p[i-1] = subrs._used.index(p[i-1] + subrs._old_bias) - subrs._new_bias\r\nAttributeError: 'list' object has no attribute '_used'\r\n```\r\n\r\nAccording to [Lib/fontTools/subset/\\_\\_init\\_\\_.py#L2266-L2281](https://github.com/fonttools/fonttools/blob/87527d726110b5fb0ec36c95a5ca5801e3c1f82a/Lib/fontTools/subset/__init__.py#L2266-L2281), when processing the GlobalSubrs, the value of `local_subrs` is always `[]` even if there are actually some local subrs. This seems to cause the error in `subr.subset_subroutines()`.\r\n\r\nNote that this font hasn't been released yet, so unfortunately we cannot provide samples for now.\r\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/856/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/833", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/833/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/833/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/833/events", "html_url": "https://github.com/fonttools/fonttools/issues/833", "id": 206277020, "node_id": "MDU6SXNzdWUyMDYyNzcwMjA=", "number": 833, "title": "In GSUB alternate substitutions, order can be changed on round-trip.", "user": {"login": "readroberts", "id": 2856984, "node_id": "MDQ6VXNlcjI4NTY5ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2856984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/readroberts", "html_url": "https://github.com/readroberts", "followers_url": "https://api.github.com/users/readroberts/followers", "following_url": "https://api.github.com/users/readroberts/following{/other_user}", "gists_url": "https://api.github.com/users/readroberts/gists{/gist_id}", "starred_url": "https://api.github.com/users/readroberts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/readroberts/subscriptions", "organizations_url": "https://api.github.com/users/readroberts/orgs", "repos_url": "https://api.github.com/users/readroberts/repos", "events_url": "https://api.github.com/users/readroberts/events{/privacy}", "received_events_url": "https://api.github.com/users/readroberts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brawer", "id": 1527880, "node_id": "MDQ6VXNlcjE1Mjc4ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1527880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brawer", "html_url": "https://github.com/brawer", "followers_url": "https://api.github.com/users/brawer/followers", "following_url": "https://api.github.com/users/brawer/following{/other_user}", "gists_url": "https://api.github.com/users/brawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/brawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brawer/subscriptions", "organizations_url": "https://api.github.com/users/brawer/orgs", "repos_url": "https://api.github.com/users/brawer/repos", "events_url": "https://api.github.com/users/brawer/events{/privacy}", "received_events_url": "https://api.github.com/users/brawer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brawer", "id": 1527880, "node_id": "MDQ6VXNlcjE1Mjc4ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1527880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brawer", "html_url": "https://github.com/brawer", "followers_url": "https://api.github.com/users/brawer/followers", "following_url": "https://api.github.com/users/brawer/following{/other_user}", "gists_url": "https://api.github.com/users/brawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/brawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brawer/subscriptions", "organizations_url": "https://api.github.com/users/brawer/orgs", "repos_url": "https://api.github.com/users/brawer/repos", "events_url": "https://api.github.com/users/brawer/events{/privacy}", "received_events_url": "https://api.github.com/users/brawer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-02-08T18:02:21Z", "updated_at": "2017-02-11T16:52:57Z", "closed_at": "2017-02-11T16:08:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "On my system, with the main branch of fonttools, lists of GSUB alternate glyphs gets sorted alphabetically by glyph name when writing GSUB to XML. When the TTX dump is compiled back to a file, the alternate substitution glyph order is then in alphabetic order. This is a problem as alternate substitutions are selected by index in the alternate list, not by GID or glyph name, and the change in order will change which glyph is selected. \r\n\r\nExample from ArnoPro-Bold aalt feature:.\r\nOriginal font: sub ampersand from [ u0026.a u0026.db u0026.dc u0026.da]\r\nAfter roundtrip: sub ampersand from [ u0026.a u0026.da u0026.db u0026.dc];\r\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/833/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/798", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/798/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/798/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/798/events", "html_url": "https://github.com/fonttools/fonttools/issues/798", "id": 199552518, "node_id": "MDU6SXNzdWUxOTk1NTI1MTg=", "number": 798, "title": "otBase: AssertionError: (('LookupType', 1, 7), 'ExtensionSubst[0]', 'Lookup[2]', 'LookupList')", "user": {"login": "justvanrossum", "id": 4246121, "node_id": "MDQ6VXNlcjQyNDYxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4246121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justvanrossum", "html_url": "https://github.com/justvanrossum", "followers_url": "https://api.github.com/users/justvanrossum/followers", "following_url": "https://api.github.com/users/justvanrossum/following{/other_user}", "gists_url": "https://api.github.com/users/justvanrossum/gists{/gist_id}", "starred_url": "https://api.github.com/users/justvanrossum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justvanrossum/subscriptions", "organizations_url": "https://api.github.com/users/justvanrossum/orgs", "repos_url": "https://api.github.com/users/justvanrossum/repos", "events_url": "https://api.github.com/users/justvanrossum/events{/privacy}", "received_events_url": "https://api.github.com/users/justvanrossum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2017-01-09T13:31:01Z", "updated_at": "2017-01-10T05:45:38Z", "closed_at": "2017-01-10T03:53:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The assert in line 509 of `otBase.py` gets triggered when an `ExtensionSubst` is involved.", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/750", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/750/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/750/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/750/events", "html_url": "https://github.com/fonttools/fonttools/issues/750", "id": 192269373, "node_id": "MDU6SXNzdWUxOTIyNjkzNzM=", "number": 750, "title": "Pyftsubset fails to include codepoints outside BMP", "user": {"login": "rhythmus", "id": 903152, "node_id": "MDQ6VXNlcjkwMzE1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/903152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhythmus", "html_url": "https://github.com/rhythmus", "followers_url": "https://api.github.com/users/rhythmus/followers", "following_url": "https://api.github.com/users/rhythmus/following{/other_user}", "gists_url": "https://api.github.com/users/rhythmus/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhythmus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhythmus/subscriptions", "organizations_url": "https://api.github.com/users/rhythmus/orgs", "repos_url": "https://api.github.com/users/rhythmus/repos", "events_url": "https://api.github.com/users/rhythmus/events{/privacy}", "received_events_url": "https://api.github.com/users/rhythmus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-11-29T12:31:04Z", "updated_at": "2016-12-02T17:03:03Z", "closed_at": "2016-12-02T17:03:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I seems `pyftsubset` cannot handle characters that fall outside of Unicode\u2019s Basic Multilingual Plane (BMP), and/or are encoded in above 21 bits (?), such as those in the Supplementary Multilingual Plane and other supplementary planes.\r\n\r\nFor example, I have some text containing \ud83d\udd42 (U+1F542, Cross Pommee) and \ud83d\uded2 (U+1F6D2, Shopping Trolley). Feeding the text, and a font that _does contain the offending characters/glyphs_ to `pyftsubset`\r\n\r\n    pyftsubset BigFont.ttf --text=\"AB\u00e7d\u00e9\ud83d\udd42\ud83d\uded2\" --layout-features+=\"*\" --output-file=SubsettedFont.ttf\r\n\r\ngets me a glyph-subsetted font, containing all the glyphs that map to characters in my source text (A, B, \u00e7, d, \u00e9, \u2026) except for \ud83d\udd42 and \ud83d\uded2, i.e. those that are not in the BMP. `pyftsubset` is silent about this: it does not complain, the font is generated allright, the glyphs just won\u2019t be there. You\u2019ll notice this only when using the font\u2026\r\n\r\nYet my source text is a valid UTF-8 string, which, as per `pyftsubset --help`, should parse allright:\r\n\r\n    --text=<text>\r\n        Specify characters to include in the subset, as UTF-8 string.\r\n    --text-file=<path>\r\n        Like --text but reads from a file. Newline character are not added the the subset.\r\n\r\nI suppose `pyftsubset` is having difficulty with Unicode\u2019s variable length encoding. When we run the above command with the `--verbose` flag, then we get the following (i.a.) printed to the console:\r\n\r\n    Missing glyphs for requested Unicodes: ['U+DD42', 'U+DED2', 'U+D83D']\r\n\r\nMy guess: glyphs for those codepoints are missing from the input font indeed, because, obviously, such characters do not exist in Unicode. They are made up by `pyftsubset` parsing the bitstream of two characters (\ud83d\udd42\ud83d\uded2) encoded in 21 bits each, into three codepoints of 7 bits each.\r\n\r\nAm I missing something? Or, is support for characters out of the BMP on the roadmap?\r\n\r\nWhat can I do to circumvent this defect?", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/750/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/750/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/701", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/701/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/701/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/701/events", "html_url": "https://github.com/fonttools/fonttools/issues/701", "id": 182508757, "node_id": "MDU6SXNzdWUxODI1MDg3NTc=", "number": 701, "title": "designspace with non-standard axis can't be called with varlib.main()", "user": {"login": "LettError", "id": 1243961, "node_id": "MDQ6VXNlcjEyNDM5NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1243961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LettError", "html_url": "https://github.com/LettError", "followers_url": "https://api.github.com/users/LettError/followers", "following_url": "https://api.github.com/users/LettError/following{/other_user}", "gists_url": "https://api.github.com/users/LettError/gists{/gist_id}", "starred_url": "https://api.github.com/users/LettError/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LettError/subscriptions", "organizations_url": "https://api.github.com/users/LettError/orgs", "repos_url": "https://api.github.com/users/LettError/repos", "events_url": "https://api.github.com/users/LettError/events{/privacy}", "received_events_url": "https://api.github.com/users/LettError/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-10-12T12:07:46Z", "updated_at": "2017-04-29T07:30:49Z", "closed_at": "2017-04-29T07:30:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "- designspace with non-standard axis can't be called with main()\n- **varlib.build()** accepts an axisMap attribute which looks like it should be used to define non-standard axes. \n- but **main** calls build() without a map\n- [line 357 defines its own standard axes](https://github.com/fonttools/fonttools/blob/master/Lib/fontTools/varLib/__init__.py#L357)\n\nWhy not just extract the axes from the designspace file?\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/701/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/699", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/699/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/699/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/699/events", "html_url": "https://github.com/fonttools/fonttools/issues/699", "id": 182172239, "node_id": "MDU6SXNzdWUxODIxNzIyMzk=", "number": 699, "title": "varLib `_merge_OTL` assumes presence of GPOS table", "user": {"login": "djrrb", "id": 6578861, "node_id": "MDQ6VXNlcjY1Nzg4NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/6578861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djrrb", "html_url": "https://github.com/djrrb", "followers_url": "https://api.github.com/users/djrrb/followers", "following_url": "https://api.github.com/users/djrrb/following{/other_user}", "gists_url": "https://api.github.com/users/djrrb/gists{/gist_id}", "starred_url": "https://api.github.com/users/djrrb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djrrb/subscriptions", "organizations_url": "https://api.github.com/users/djrrb/orgs", "repos_url": "https://api.github.com/users/djrrb/repos", "events_url": "https://api.github.com/users/djrrb/events{/privacy}", "received_events_url": "https://api.github.com/users/djrrb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "behdad", "id": 142891, "node_id": "MDQ6VXNlcjE0Mjg5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/142891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behdad", "html_url": "https://github.com/behdad", "followers_url": "https://api.github.com/users/behdad/followers", "following_url": "https://api.github.com/users/behdad/following{/other_user}", "gists_url": "https://api.github.com/users/behdad/gists{/gist_id}", "starred_url": "https://api.github.com/users/behdad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behdad/subscriptions", "organizations_url": "https://api.github.com/users/behdad/orgs", "repos_url": "https://api.github.com/users/behdad/repos", "events_url": "https://api.github.com/users/behdad/events{/privacy}", "received_events_url": "https://api.github.com/users/behdad/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-10-11T04:39:16Z", "updated_at": "2016-11-08T23:45:11Z", "closed_at": "2016-11-08T23:45:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a reason that a GPOS table is required to generate a GX font using `varLib/__init__.py`? I was trying out a monospaced font and hitting an error. Removing the `\"GPOS\"` string from the tables argument of `merge_tables()` seemed to fix it, but I wasn't sure if you had reasons for hardcoding that table in.\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/699/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/650", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/650/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/650/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/650/events", "html_url": "https://github.com/fonttools/fonttools/issues/650", "id": 170136056, "node_id": "MDU6SXNzdWUxNzAxMzYwNTY=", "number": 650, "title": "[woff2] Support hmtx transformation", "user": {"login": "khaledhosny", "id": 93914, "node_id": "MDQ6VXNlcjkzOTE0", "avatar_url": "https://avatars.githubusercontent.com/u/93914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khaledhosny", "html_url": "https://github.com/khaledhosny", "followers_url": "https://api.github.com/users/khaledhosny/followers", "following_url": "https://api.github.com/users/khaledhosny/following{/other_user}", "gists_url": "https://api.github.com/users/khaledhosny/gists{/gist_id}", "starred_url": "https://api.github.com/users/khaledhosny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khaledhosny/subscriptions", "organizations_url": "https://api.github.com/users/khaledhosny/orgs", "repos_url": "https://api.github.com/users/khaledhosny/repos", "events_url": "https://api.github.com/users/khaledhosny/events{/privacy}", "received_events_url": "https://api.github.com/users/khaledhosny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2016-08-09T10:45:21Z", "updated_at": "2019-06-17T15:14:43Z", "closed_at": "2019-06-17T15:14:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The spec has been updated since WOFF2 support was added to FontTools, one of the additions is hmtx transformations. Processing such a font with FonTools gives:\n\n```\n$ ttx valid-005.woff2\nDumping \"valid-005.woff2\" to \"valid-005.ttx\"...\nERROR: bits 6-7 are reserved and must be 0\n```\n\n[valid-005.woff2.zip](https://github.com/behdad/fonttools/files/409108/valid-005.woff2.zip)\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/650/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/650/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/645", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/645/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/645/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/645/events", "html_url": "https://github.com/fonttools/fonttools/issues/645", "id": 169435668, "node_id": "MDU6SXNzdWUxNjk0MzU2Njg=", "number": 645, "title": "[hmtx] advanceWidth should be USHORT, why does fonttools reads it as SHORT?", "user": {"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-04T17:57:44Z", "updated_at": "2016-10-17T18:31:53Z", "closed_at": "2016-10-17T18:31:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems intentional, but why?\nhttps://github.com/behdad/fonttools/commit/035bc7da2318f0dcacecba2e1e24c0a4bf3cf80c#diff-f1a37102608ecea22d52a8cb91aba526R21\n\nAlso see: https://github.com/googlei18n/ufo2ft/pull/60\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/633", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/633/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/633/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/633/events", "html_url": "https://github.com/fonttools/fonttools/issues/633", "id": 164434665, "node_id": "MDU6SXNzdWUxNjQ0MzQ2NjU=", "number": 633, "title": "[feaLib] Class-to-class kerning zeroed out", "user": {"login": "jamesgk", "id": 988758, "node_id": "MDQ6VXNlcjk4ODc1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/988758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesgk", "html_url": "https://github.com/jamesgk", "followers_url": "https://api.github.com/users/jamesgk/followers", "following_url": "https://api.github.com/users/jamesgk/following{/other_user}", "gists_url": "https://api.github.com/users/jamesgk/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesgk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesgk/subscriptions", "organizations_url": "https://api.github.com/users/jamesgk/orgs", "repos_url": "https://api.github.com/users/jamesgk/repos", "events_url": "https://api.github.com/users/jamesgk/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesgk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brawer", "id": 1527880, "node_id": "MDQ6VXNlcjE1Mjc4ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1527880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brawer", "html_url": "https://github.com/brawer", "followers_url": "https://api.github.com/users/brawer/followers", "following_url": "https://api.github.com/users/brawer/following{/other_user}", "gists_url": "https://api.github.com/users/brawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/brawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brawer/subscriptions", "organizations_url": "https://api.github.com/users/brawer/orgs", "repos_url": "https://api.github.com/users/brawer/repos", "events_url": "https://api.github.com/users/brawer/events{/privacy}", "received_events_url": "https://api.github.com/users/brawer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brawer", "id": 1527880, "node_id": "MDQ6VXNlcjE1Mjc4ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1527880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brawer", "html_url": "https://github.com/brawer", "followers_url": "https://api.github.com/users/brawer/followers", "following_url": "https://api.github.com/users/brawer/following{/other_user}", "gists_url": "https://api.github.com/users/brawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/brawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brawer/subscriptions", "organizations_url": "https://api.github.com/users/brawer/orgs", "repos_url": "https://api.github.com/users/brawer/repos", "events_url": "https://api.github.com/users/brawer/events{/privacy}", "received_events_url": "https://api.github.com/users/brawer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2016-07-08T00:10:31Z", "updated_at": "2017-02-17T13:35:18Z", "closed_at": "2017-02-17T13:35:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I've noticed that for class-to-class kerning rules, if one rule has a value of zero some other ones get cleared out. For example this feature source:\n\n```\n@public.kern1.K = [K X];\n@public.kern2.O = [C O];\n@public.kern2.V = [V W];\n\nfeature kern {\n    pos @public.kern1.K @public.kern2.O -20;\n    pos @public.kern1.K @public.kern2.V 0;\n} kern;\n```\n\nproduces this output: \n\n```\n$ hb-shape out.otf K\n[K=0+619]\n$ hb-shape out.otf KO\n[K=0+619|O=1+781]\n```\n\nwith this GPOS:\n\n``` xml\n  <GPOS>\n    <Version value=\"1.0\"/>\n    <ScriptList>\n      <!-- ScriptCount=1 -->\n      <ScriptRecord index=\"0\">\n        <ScriptTag value=\"DFLT\"/>\n        <Script>\n          <DefaultLangSys>\n            <ReqFeatureIndex value=\"65535\"/>\n            <!-- FeatureCount=1 -->\n            <FeatureIndex index=\"0\" value=\"0\"/>\n          </DefaultLangSys>\n          <!-- LangSysCount=0 -->\n        </Script>\n      </ScriptRecord>\n    </ScriptList>\n    <FeatureList>\n      <!-- FeatureCount=1 -->\n      <FeatureRecord index=\"0\">\n        <FeatureTag value=\"kern\"/>\n        <Feature>\n          <!-- LookupCount=1 -->\n          <LookupListIndex index=\"0\" value=\"0\"/>\n        </Feature>\n      </FeatureRecord>\n    </FeatureList>\n    <LookupList>\n      <!-- LookupCount=1 -->\n      <Lookup index=\"0\">\n        <!-- LookupType=2 -->\n        <LookupFlag value=\"0\"/>\n        <!-- SubTableCount=2 -->\n        <PairPos index=\"0\" Format=\"2\">\n          <Coverage Format=\"1\">\n            <Glyph value=\"K\"/>\n            <Glyph value=\"X\"/>\n          </Coverage>\n          <ValueFormat1 value=\"0\"/>\n          <ValueFormat2 value=\"0\"/>\n          <ClassDef1 Format=\"2\">\n          </ClassDef1>\n          <ClassDef2 Format=\"1\">\n            <ClassDef glyph=\"V\" class=\"1\"/>\n            <ClassDef glyph=\"W\" class=\"1\"/>\n          </ClassDef2>\n          <!-- Class1Count=1 -->\n          <!-- Class2Count=2 -->\n          <Class1Record index=\"0\">\n            <Class2Record index=\"0\">\n            </Class2Record>\n            <Class2Record index=\"1\">\n            </Class2Record>\n          </Class1Record>\n        </PairPos>\n        <PairPos index=\"1\" Format=\"2\">\n          <Coverage Format=\"1\">\n            <Glyph value=\"K\"/>\n            <Glyph value=\"X\"/>\n          </Coverage>\n          <ValueFormat1 value=\"4\"/>\n          <ValueFormat2 value=\"0\"/>\n          <ClassDef1 Format=\"2\">\n          </ClassDef1>\n          <ClassDef2 Format=\"2\">\n            <ClassDef glyph=\"C\" class=\"1\"/>\n            <ClassDef glyph=\"O\" class=\"1\"/>\n          </ClassDef2>\n          <!-- Class1Count=1 -->\n          <!-- Class2Count=2 -->\n          <Class1Record index=\"0\">\n            <Class2Record index=\"0\">\n              <Value1 XAdvance=\"0\"/>\n            </Class2Record>\n            <Class2Record index=\"1\">\n              <Value1 XAdvance=\"-20\"/>\n            </Class2Record>\n          </Class1Record>\n        </PairPos>\n      </Lookup>\n    </LookupList>\n  </GPOS>\n```\n\nOne can work around this by simply not including class-to-class rules with value of 0 in the feature source. Still, it seems like a bug.\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/613", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/613/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/613/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/613/events", "html_url": "https://github.com/fonttools/fonttools/issues/613", "id": 157753728, "node_id": "MDU6SXNzdWUxNTc3NTM3Mjg=", "number": 613, "title": "feaLib not correctly applying script and language statements", "user": {"login": "jamesgk", "id": 988758, "node_id": "MDQ6VXNlcjk4ODc1OA==", "avatar_url": "https://avatars.githubusercontent.com/u/988758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesgk", "html_url": "https://github.com/jamesgk", "followers_url": "https://api.github.com/users/jamesgk/followers", "following_url": "https://api.github.com/users/jamesgk/following{/other_user}", "gists_url": "https://api.github.com/users/jamesgk/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesgk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesgk/subscriptions", "organizations_url": "https://api.github.com/users/jamesgk/orgs", "repos_url": "https://api.github.com/users/jamesgk/repos", "events_url": "https://api.github.com/users/jamesgk/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesgk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "brawer", "id": 1527880, "node_id": "MDQ6VXNlcjE1Mjc4ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1527880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brawer", "html_url": "https://github.com/brawer", "followers_url": "https://api.github.com/users/brawer/followers", "following_url": "https://api.github.com/users/brawer/following{/other_user}", "gists_url": "https://api.github.com/users/brawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/brawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brawer/subscriptions", "organizations_url": "https://api.github.com/users/brawer/orgs", "repos_url": "https://api.github.com/users/brawer/repos", "events_url": "https://api.github.com/users/brawer/events{/privacy}", "received_events_url": "https://api.github.com/users/brawer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brawer", "id": 1527880, "node_id": "MDQ6VXNlcjE1Mjc4ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1527880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brawer", "html_url": "https://github.com/brawer", "followers_url": "https://api.github.com/users/brawer/followers", "following_url": "https://api.github.com/users/brawer/following{/other_user}", "gists_url": "https://api.github.com/users/brawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/brawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brawer/subscriptions", "organizations_url": "https://api.github.com/users/brawer/orgs", "repos_url": "https://api.github.com/users/brawer/repos", "events_url": "https://api.github.com/users/brawer/events{/privacy}", "received_events_url": "https://api.github.com/users/brawer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-05-31T19:43:55Z", "updated_at": "2016-06-22T06:28:57Z", "closed_at": "2016-06-22T06:28:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I don't think feaLib correctly applies script and language statements.\n\nThis can be seen in the feaLib test for spec 4.h, which should generate a \"liga\" feature that is split so as to only apply some substitutions to certain scripts/languages. The expected ttx (which has a single liga feature with all substitutions) is inconsistent with the type of output makeotf generates with similar input.\n\nhttps://github.com/behdad/fonttools/blob/master/Lib/fontTools/feaLib/testdata/spec4h1.fea\nhttps://github.com/behdad/fonttools/blob/master/Lib/fontTools/feaLib/testdata/spec4h1.ttx\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/574", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/574/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/574/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/574/events", "html_url": "https://github.com/fonttools/fonttools/issues/574", "id": 148234360, "node_id": "MDU6SXNzdWUxNDgyMzQzNjA=", "number": 574, "title": "Assertion in compiling GPOS table built by feaLib", "user": {"login": "khaledhosny", "id": 93914, "node_id": "MDQ6VXNlcjkzOTE0", "avatar_url": "https://avatars.githubusercontent.com/u/93914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khaledhosny", "html_url": "https://github.com/khaledhosny", "followers_url": "https://api.github.com/users/khaledhosny/followers", "following_url": "https://api.github.com/users/khaledhosny/following{/other_user}", "gists_url": "https://api.github.com/users/khaledhosny/gists{/gist_id}", "starred_url": "https://api.github.com/users/khaledhosny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khaledhosny/subscriptions", "organizations_url": "https://api.github.com/users/khaledhosny/orgs", "repos_url": "https://api.github.com/users/khaledhosny/repos", "events_url": "https://api.github.com/users/khaledhosny/events{/privacy}", "received_events_url": "https://api.github.com/users/khaledhosny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-04-14T02:34:47Z", "updated_at": "2016-07-13T22:30:44Z", "closed_at": "2016-07-13T07:00:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I\u2019m not sure if this is a feaLib bug, ttLib bug or a bug in my font. I\u2019m getting this assertion error which I suspect is related to table splitting:\n\n```\nParsing 'GlyphOrder' table...\nParsing 'head' table...\nParsing 'hhea' table...\nParsing 'maxp' table...\nParsing 'OS/2' table...\nParsing 'name' table...\nParsing 'cmap' table...\nParsing 'post' table...\nParsing 'CFF ' table...\nParsing 'BASE' table...\nParsing 'GDEF' table...\nParsing 'GPOS' table...\nParsing 'GSUB' table...\nParsing 'hmtx' table...\nAttempting to fix OTLOffsetOverflowError ('GPOS', 'LookupIndex:', 11, 'SubTableIndex:', None, 'ItemName:', None, 'ItemIndex:', None)\nAttempting to fix OTLOffsetOverflowError ('GPOS', 'LookupIndex:', 10, 'SubTableIndex:', 1, 'ItemName:', 'Coverage', 'ItemIndex:', None)\nAttempting to fix OTLOffsetOverflowError ('GPOS', 'LookupIndex:', 10, 'SubTableIndex:', 1, 'ItemName:', 'Coverage', 'ItemIndex:', None)\nTraceback (most recent call last):\n  File \"/fonttools/Lib/fontTools/ttx.py\", line 383, in main\n    process(jobs, options)\n  File \"/fonttools/Lib/fontTools/ttx.py\", line 356, in process\n    action(input, output, options)\n  File \"/fonttools/Lib/fontTools/misc/loggingTools.py\", line 369, in wrapper\n    return func(*args, **kwds)\n  File \"/fonttools/Lib/fontTools/ttx.py\", line 277, in ttCompile\n    ttf.save(output)\n  File \"/fonttools/Lib/fontTools/ttLib/__init__.py\", line 216, in save\n    self._writeTable(tag, writer, done)\n  File \"/fonttools/Lib/fontTools/ttLib/__init__.py\", line 648, in _writeTable\n    tabledata = self.getTableData(tag)\n  File \"/fonttools/Lib/fontTools/ttLib/__init__.py\", line 659, in getTableData\n    return self.tables[tag].compile(self)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otBase.py\", line 90, in compile\n    self.table.compile(writer, font)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otBase.py\", line 660, in compile\n    conv.write(writer, font, table, value)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otConverters.py\", line 358, in write\n    value.compile(subWriter, font)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otBase.py\", line 635, in compile\n    conv.write(writer, font, table, value, i)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otConverters.py\", line 358, in write\n    value.compile(subWriter, font)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otBase.py\", line 635, in compile\n    conv.write(writer, font, table, value, i)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otConverters.py\", line 358, in write\n    value.compile(subWriter, font)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otBase.py\", line 618, in compile\n    writer['LookupType'].setValue(self.__class__.LookupType)\n  File \"/fonttools/Lib/fontTools/ttLib/tables/otBase.py\", line 514, in setValue\n    assert table[name] == value, (name, table[name], value)\nAssertionError: (('LookupType', 9, 2), 'PairPos[2]', 'Lookup[10]', 'LookupList')\n```\n\nWhen compiling the attached ttx file (which was created by from https://github.com/khaledhosny/mada. I had to save a ttx file since compiling directly was failing with the same assert).\n[Mada-Light.ttx.zip](https://github.com/behdad/fonttools/files/218283/Mada-Light.ttx.zip)\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/549", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/549/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/549/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/549/events", "html_url": "https://github.com/fonttools/fonttools/issues/549", "id": 141581627, "node_id": "MDU6SXNzdWUxNDE1ODE2Mjc=", "number": 549, "title": "differences in str(float) between Python 2 and 3", "user": {"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-03-17T13:21:08Z", "updated_at": "2022-10-28T17:59:38Z", "closed_at": "2022-10-28T17:59:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The fonttools xmlWriter also has the same problem with `str(float)` in python 2 and 3 as ufoLib, so I pinpoint the issue in here as well:\n\nhttps://github.com/unified-font-object/ufoLib/issues/19\n\nSee for example:\nhttps://github.com/behdad/fonttools/blob/master/Lib/fontTools/misc/xmlWriter.py#L146\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/549/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/549/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/540", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/540/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/540/events", "html_url": "https://github.com/fonttools/fonttools/issues/540", "id": 139836482, "node_id": "MDU6SXNzdWUxMzk4MzY0ODI=", "number": 540, "title": "tableVersion in 'vhea' is confusing", "user": {"login": "mashabow", "id": 6268183, "node_id": "MDQ6VXNlcjYyNjgxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/6268183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mashabow", "html_url": "https://github.com/mashabow", "followers_url": "https://api.github.com/users/mashabow/followers", "following_url": "https://api.github.com/users/mashabow/following{/other_user}", "gists_url": "https://api.github.com/users/mashabow/gists{/gist_id}", "starred_url": "https://api.github.com/users/mashabow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mashabow/subscriptions", "organizations_url": "https://api.github.com/users/mashabow/orgs", "repos_url": "https://api.github.com/users/mashabow/repos", "events_url": "https://api.github.com/users/mashabow/events{/privacy}", "received_events_url": "https://api.github.com/users/mashabow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-03-10T09:44:42Z", "updated_at": "2016-10-21T11:07:58Z", "closed_at": "2016-10-21T11:07:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I got a dump of 'vhea' table from `SourceHanSans-Regular.otf` like this:\n\n``` xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ttFont sfntVersion=\"OTTO\" ttLibVersion=\"3.0\">\n\n  <vhea>\n    <tableVersion value=\"1.0625\"/>\n...\n```\n\nIt says the version is 1.0625, while this font has a 'vhea' table with version 1.1 (`0x00011000`). \n\n\"Version Numbers\" section in [the OpenType spec](https://www.microsoft.com/typography/otspec/otff.htm) states as below.\n\n> When a Fixed number is used as a version, the upper 16 bits comprise a major version number, and the lower 16 bits a minor. Tables with non-zero minor version numbers always specify the literal value of the version number since the normal representation of Fixed numbers is not necessarily followed. For example, the version number of 'maxp' table version 0.5 is 0x00005000, and that of 'vhea' table version 1.1 is 0x00011000.\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/fonttools/fonttools/issues/536", "repository_url": "https://api.github.com/repos/fonttools/fonttools", "labels_url": "https://api.github.com/repos/fonttools/fonttools/issues/536/labels{/name}", "comments_url": "https://api.github.com/repos/fonttools/fonttools/issues/536/comments", "events_url": "https://api.github.com/repos/fonttools/fonttools/issues/536/events", "html_url": "https://github.com/fonttools/fonttools/issues/536", "id": 138218587, "node_id": "MDU6SXNzdWUxMzgyMTg1ODc=", "number": 536, "title": "file created too early in TTFont.save()", "user": {"login": "justvanrossum", "id": 4246121, "node_id": "MDQ6VXNlcjQyNDYxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4246121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justvanrossum", "html_url": "https://github.com/justvanrossum", "followers_url": "https://api.github.com/users/justvanrossum/followers", "following_url": "https://api.github.com/users/justvanrossum/following{/other_user}", "gists_url": "https://api.github.com/users/justvanrossum/gists{/gist_id}", "starred_url": "https://api.github.com/users/justvanrossum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justvanrossum/subscriptions", "organizations_url": "https://api.github.com/users/justvanrossum/orgs", "repos_url": "https://api.github.com/users/justvanrossum/repos", "events_url": "https://api.github.com/users/justvanrossum/events{/privacy}", "received_events_url": "https://api.github.com/users/justvanrossum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 49202271, "node_id": "MDU6TGFiZWw0OTIwMjI3MQ==", "url": "https://api.github.com/repos/fonttools/fonttools/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anthrotype", "id": 6939968, "node_id": "MDQ6VXNlcjY5Mzk5Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/6939968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthrotype", "html_url": "https://github.com/anthrotype", "followers_url": "https://api.github.com/users/anthrotype/followers", "following_url": "https://api.github.com/users/anthrotype/following{/other_user}", "gists_url": "https://api.github.com/users/anthrotype/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthrotype/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthrotype/subscriptions", "organizations_url": "https://api.github.com/users/anthrotype/orgs", "repos_url": "https://api.github.com/users/anthrotype/repos", "events_url": "https://api.github.com/users/anthrotype/events{/privacy}", "received_events_url": "https://api.github.com/users/anthrotype/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-03-03T15:59:54Z", "updated_at": "2021-03-31T21:16:15Z", "closed_at": "2021-03-31T18:27:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If an exception occurs during compilation, an empty file remains. This isn't so bad per se, but when overwriting the original file this destroys the original, which is rather nasty. It can probably be fixed by moving the file creation block to after the SFNTWriter is done.\n", "reactions": {"url": "https://api.github.com/repos/fonttools/fonttools/issues/536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/fonttools/fonttools/issues/536/timeline", "performed_via_github_app": null, "state_reason": "completed"}]