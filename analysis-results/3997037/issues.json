[{"url": "https://api.github.com/repos/mesonbuild/meson/issues/11388", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/11388/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/11388/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/11388/events", "html_url": "https://github.com/mesonbuild/meson/pull/11388", "id": 1581387764, "node_id": "PR_kwDOAS3iKM5JzLAs", "number": 11388, "title": "clang: -fprofile-correction isn't a valid flag.", "user": {"login": "lukester1975", "id": 9592489, "node_id": "MDQ6VXNlcjk1OTI0ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/9592489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukester1975", "html_url": "https://github.com/lukester1975", "followers_url": "https://api.github.com/users/lukester1975/followers", "following_url": "https://api.github.com/users/lukester1975/following{/other_user}", "gists_url": "https://api.github.com/users/lukester1975/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukester1975/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukester1975/subscriptions", "organizations_url": "https://api.github.com/users/lukester1975/orgs", "repos_url": "https://api.github.com/users/lukester1975/repos", "events_url": "https://api.github.com/users/lukester1975/events{/privacy}", "received_events_url": "https://api.github.com/users/lukester1975/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/93", "html_url": "https://github.com/mesonbuild/meson/milestone/93", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/93/labels", "id": 8826469, "node_id": "MI_kwDOAS3iKM4Ahq5l", "number": 93, "title": "1.0.1", "description": "Additional fixes that aren't listed in the milestone:\r\n\r\nhttps://github.com/mesonbuild/meson/pull/11440\r\n\r\nhttps://github.com/mesonbuild/meson/commit/66740b4ce1720ef520b867523273a89ad3226f47", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2023-01-06T03:07:05Z", "updated_at": "2023-02-22T23:35:51Z", "due_on": null, "closed_at": "2023-02-20T21:34:56Z"}, "comments": 5, "created_at": "2023-02-12T19:51:54Z", "updated_at": "2023-02-18T21:30:47Z", "closed_at": "2023-02-17T14:34:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/11388", "html_url": "https://github.com/mesonbuild/meson/pull/11388", "diff_url": "https://github.com/mesonbuild/meson/pull/11388.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/11388.patch", "merged_at": "2023-02-17T14:34:33Z"}, "body": "As per subject. It noisy and I'd rather not set `-Wno-ignored-optimization-argument`:\r\n\r\n```\r\nclang++ main.cpp -fprofile-correction\r\nclang-15: warning: optimization flag '-fprofile-correction' is not supported [-Wignored-optimization-argument]\r\n```\r\n\r\nFrom #2159. I'm afraid I don't know if any other GCC frontend compilers have the same issue and whether it's better to change GnuLikeCompiler / GnuCompiler instead.\r\n\r\nThanks", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/11388/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11376", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/11376/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/11376/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/11376/events", "html_url": "https://github.com/mesonbuild/meson/issues/11376", "id": 1579760637, "node_id": "I_kwDOAS3iKM5eKTv9", "number": 11376, "title": "ERROR: Unhandled python exception", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 4277250286, "node_id": "LA_kwDOAS3iKM7-8aju", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:cmake", "name": "module:cmake", "color": "36CB1A", "default": false, "description": "Issues related to the cmake module, including cmake.subproject"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-02-10T14:21:23Z", "updated_at": "2023-02-13T18:30:08Z", "closed_at": "2023-02-13T18:30:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Discussed in https://github.com/mesonbuild/meson/discussions/11374\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **bad-friday** February 10, 2023</sup>\r\nI'm coming from Raspberry Pi runing Debian Bullseye.\r\nI try to build libcamera following the instructions here: https://www.raspberrypi.com/documentation/computers/camera_software.html#building-libcamera-and-libcamera-apps\r\n[/home/swe]meson build --buildtype=release -Dpipelines=raspberrypi -Dipas=raspberrypi -Dv4l2=true -Dgstreamer=disabled -Dtest=false -Dlc-compliance=disabled -Dcam=disabled -Dqcam=enabled -Ddocumentation=disabled 2>/tmp/meson.log\r\nThe Meson build system\r\nVersion: 1.0.0\r\nSource dir: /home/swe/libcamera\r\nBuild dir: /home/swe/libcamera/build\r\nBuild type: native build\r\nProject name: libcamera\r\nProject version: 0.0.3\r\nC compiler for the host machine: cc (gcc 10.2.1 \"cc (Raspbian 10.2.1-6+rpi1) 10.2.1 20210110\")\r\nC linker for the host machine: cc ld.bfd 2.35.2\r\nC++ compiler for the host machine: c++ (gcc 10.2.1 \"c++ (Raspbian 10.2.1-6+rpi1) 10.2.1 20210110\")\r\nC++ linker for the host machine: c++ ld.bfd 2.35.2\r\nHost machine cpu family: arm\r\nHost machine cpu: armv7l\r\nmeson.build:33: WARNING: The sources disagree about the version: 0.0.0 != 0.0.3\r\nHeader \"unistd.h\" has symbol \"issetugid\" : NO \r\nHeader \"locale.h\" has symbol \"locale_t\" : YES \r\nHeader \"stdlib.h\" has symbol \"secure_getenv\" : YES \r\nCompiler for C supports arguments -Wno-c99-designator: NO \r\nFound pkg-config: /usr/bin/pkg-config (0.29.2)\r\n\r\nmeson.build:163:0: ERROR: Unhandled python exception\r\n\r\n    This is a Meson bug and should be reported!\r\n</div>", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/11376/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11264", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/11264/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/11264/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/11264/events", "html_url": "https://github.com/mesonbuild/meson/issues/11264", "id": 1525943167, "node_id": "I_kwDOAS3iKM5a9At_", "number": 11264, "title": "exe_wrapper isn't used when passing a built executable as a generator", "user": {"login": "Kazade", "id": 16649, "node_id": "MDQ6VXNlcjE2NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/16649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kazade", "html_url": "https://github.com/Kazade", "followers_url": "https://api.github.com/users/Kazade/followers", "following_url": "https://api.github.com/users/Kazade/following{/other_user}", "gists_url": "https://api.github.com/users/Kazade/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kazade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kazade/subscriptions", "organizations_url": "https://api.github.com/users/Kazade/orgs", "repos_url": "https://api.github.com/users/Kazade/repos", "events_url": "https://api.github.com/users/Kazade/events{/privacy}", "received_events_url": "https://api.github.com/users/Kazade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-09T16:43:23Z", "updated_at": "2023-01-10T21:02:08Z", "closed_at": "2023-01-10T21:02:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI'm attempting to cross compile an application from Linux -> Windows. The cross compile config specifies that the build needs an exe_wrapper (wine). \r\n\r\nTo build the project, meson first builds a number of small executable programs which then in turn generate source files, which are then compiled into the final program. In meson.build I achieve this by defining each executable, then using that executable in a generator(), before calling generator.process(). This works fine natively.\r\n\r\nHowever, when cross-compiling the executables (which are Windows .exe files) are not being run with the exe_wrapper (wine) - they are attempting to run natively (which appears to try to use mono). \r\n\r\n**To Reproduce**\r\n\r\nThis is an example from my meson.build:\r\n\r\n```\r\ngendec = executable(\r\n    'gendec',\r\n    files('src/tools/gendec.c', 'src/tools/insparse.c', 'src/tools/actparse.c'),\r\n    dependencies: glib_dep,\r\n    include_directories: include_dirs\r\n)\r\ngen = generator(\r\n    gendec,\r\n    arguments: ['@CURRENT_SOURCE_DIR@/src/sh4/sh4.def', '@INPUT@', '--output=@OUTPUT@'], output: '@BASENAME@.c',\r\n)\r\n\r\nsources += gen.process(\r\n    'src/sh4/sh4core.in',\r\n    'src/sh4/sh4dasm.in',\r\n    'src/sh4/sh4x86.in',\r\n    'src/sh4/sh4stat.in',\r\n    preserve_path_from: meson.current_source_dir()\r\n)\r\n```\r\n\r\nThe call to process() fails as meson attempts to run the executable as a native binary rather than through the exe_wrapper.\r\n\r\n**Expected behavior**\r\n\r\nIf the build has an exe_wrapper, it should be used to run the executable through a generator.\r\n\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)?\r\n\r\nCross-build\r\n\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.)\r\n\r\nFedora 37\r\n\r\n* what Python version are you using e.g. 3.8.0\r\n3.11.1\r\n* what `meson --version`\r\n0.63.3\r\n* what `ninja --version` if it's a Ninja build\r\n1.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/11264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11247", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/11247/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/11247/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/11247/events", "html_url": "https://github.com/mesonbuild/meson/issues/11247", "id": 1520744423, "node_id": "I_kwDOAS3iKM5apLfn", "number": 11247, "title": "Building an installed static library that links with an internal static library in rust doesn\u2019t work", "user": {"login": "bpeel", "id": 12873, "node_id": "MDQ6VXNlcjEyODcz", "avatar_url": "https://avatars.githubusercontent.com/u/12873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpeel", "html_url": "https://github.com/bpeel", "followers_url": "https://api.github.com/users/bpeel/followers", "following_url": "https://api.github.com/users/bpeel/following{/other_user}", "gists_url": "https://api.github.com/users/bpeel/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpeel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpeel/subscriptions", "organizations_url": "https://api.github.com/users/bpeel/orgs", "repos_url": "https://api.github.com/users/bpeel/repos", "events_url": "https://api.github.com/users/bpeel/events{/privacy}", "received_events_url": "https://api.github.com/users/bpeel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2423085415, "node_id": "MDU6TGFiZWwyNDIzMDg1NDE1", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:rust", "name": "language:rust", "color": "bc4e42", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2023-01-05T13:24:12Z", "updated_at": "2023-02-22T23:35:52Z", "closed_at": "2023-02-22T23:35:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to make an installable static library that is a mix of rust and C code. As far as I understand, the rust code needs to be in its own static_library because you can\u2019t combine C and rust sources directly. If I do this then the resulting installed library doesn\u2019t include the rust parts and then when I try to use it in an external application it gets link errors.\r\n\r\n## To reproduce\r\n\r\nHere\u2019s a example project:\r\n\r\n### meson.build\r\n\r\n```\r\nproject('coollib', ['c', 'rust'],\r\n        version : '0.1',\r\n        default_options : 'default_library=static')\r\n\r\ninternal_lib = static_library('internal',\r\n                              rust_crate_type : 'staticlib',\r\n                              sources : 'internal.rs')\r\n\r\ncool_lib = library('cool',\r\n                   sources : 'cool.c',\r\n                   install : true,\r\n                   link_with : internal_lib)\r\n\r\npkg = import('pkgconfig')\r\npkg.generate(cool_lib)\r\n```\r\n\r\n### internal.rs\r\n```rust\r\n#[no_mangle]\r\nextern \"C\" fn multiply_by_two(number: i32) -> i32\r\n{\r\n        number * 2\r\n}\r\n```\r\n\r\n### cool.c\r\n```C\r\nint\r\nmultiply_by_two(int);\r\n\r\nint\r\nget_cool_number(void)\r\n{\r\n        return multiply_by_two(21);\r\n}\r\n```\r\n\r\n### Building\r\nBuild the project like this:\r\n\r\n```\r\nmeson setup -Dprefix=$PWD/install build\r\nninja -C build install\r\n```\r\n\r\n### app.c\r\nWe can test with a sample app that uses the library like this:\r\n\r\n```C\r\n#include <stdio.h>\r\n\r\nint\r\nget_cool_number(void);\r\n\r\nint\r\nmain(int argc, char *argv)\r\n{\r\n        printf(\"cool number is %i\\n\", get_cool_number());\r\n\r\n        return 0;\r\n}\r\n```\r\n\r\nAnd then build it like this:\r\n\r\n```bash\r\ncc -o app app.c $(PKG_CONFIG_PATH=$PWD/install/lib64/pkgconfig pkg-config cool --libs --cflags)\r\n```\r\n\r\nThis fails:\r\n\r\n```\r\n/usr/bin/ld: /home/neil/c/test-library/install/lib64/libcool.a(cool.c.o): in function `get_cool_number':\r\n/home/neil/c/test-library/build/../cool.c:7: undefined reference to `multiply_by_two'\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n\r\nYou can see that `internal.a` was not included in the installed archive:\r\n\r\n```\r\n$ nm install/lib64/libcool.a\r\n\r\ncool.c.o:\r\n0000000000000000 T get_cool_number\r\n                 U multiply_by_two\r\n```\r\n\r\nIf I instead build a dynamic library by passing `-Ddefault_library=shared` to `meson setup` then it works fine.\r\n\r\n## Actual use case\r\n\r\nMy actual use case is trying to make a [port of vkrunner to rust](https://github.com/bpeel/vkrunner/commits/rust). If you run the `test-build.sh` script in that repo one of things it tries to do is link an application to the installed library.\r\n\r\n## System parameters\r\n\r\n* Native build\r\n* Fedora 37\r\n* Python 3.11.1\r\n* meson git head 25e73b6c9e9599e8\r\n* ninja 1.10.2", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/11247/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11225", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/11225/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/11225/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/11225/events", "html_url": "https://github.com/mesonbuild/meson/issues/11225", "id": 1512998318, "node_id": "I_kwDOAS3iKM5aLoWu", "number": 11225, "title": "'NoneType' object has no attribute 'current_node'", "user": {"login": "lb90", "id": 12200013, "node_id": "MDQ6VXNlcjEyMjAwMDEz", "avatar_url": "https://avatars.githubusercontent.com/u/12200013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lb90", "html_url": "https://github.com/lb90", "followers_url": "https://api.github.com/users/lb90/followers", "following_url": "https://api.github.com/users/lb90/following{/other_user}", "gists_url": "https://api.github.com/users/lb90/gists{/gist_id}", "starred_url": "https://api.github.com/users/lb90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lb90/subscriptions", "organizations_url": "https://api.github.com/users/lb90/orgs", "repos_url": "https://api.github.com/users/lb90/repos", "events_url": "https://api.github.com/users/lb90/events{/privacy}", "received_events_url": "https://api.github.com/users/lb90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/94", "html_url": "https://github.com/mesonbuild/meson/milestone/94", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/94/labels", "id": 9068672, "node_id": "MI_kwDOAS3iKM4AimCA", "number": 94, "title": "1.0.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2023-02-20T21:36:41Z", "updated_at": "2023-04-21T10:54:53Z", "due_on": null, "closed_at": "2023-04-21T10:54:53Z"}, "comments": 2, "created_at": "2022-12-28T17:18:51Z", "updated_at": "2023-04-04T12:14:34Z", "closed_at": "2023-02-27T18:40:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nI was setting up a build of GIMP3 from the master branch in MSYS2/MinGW64, but I'm getting an internal error:\r\n\r\n```\r\nConfiguring org.gimp.extension.goat-exercises.metainfo.xml.in using configuration\r\nTraceback (most recent call last):\r\n  File \"D:/meson/mesonbuild/mesonmain.py\", line 193, in run\r\n    return options.run_func(options)\r\n  File \"D:/meson/mesonbuild/msetup.py\", line 309, in run\r\n    app.generate()\r\n  File \"D:/meson/mesonbuild/msetup.py\", line 186, in generate\r\n    self._generate(env)\r\n  File \"D:/meson/mesonbuild/msetup.py\", line 230, in _generate\r\n    intr.run()\r\n  File \"D:/meson/mesonbuild/interpreter/interpreter.py\", line 2886, in run\r\n    super().run()\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 149, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 174, in evaluate_codeblock\r\n    raise e\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 167, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 180, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 462, in function_call\r\n    res = func(node, func_args, kwargs)\r\n  File \"D:/meson/mesonbuild/interpreterbase/decorators.py\", line 277, in wrapper\r\n    return f(*nargs, **wrapped_kwargs)\r\n  File \"D:/meson/mesonbuild/interpreterbase/decorators.py\", line 590, in wrapper\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"D:/meson/mesonbuild/interpreter/interpreter.py\", line 2298, in func_subdir\r\n    self.evaluate_codeblock(codeblock)\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 174, in evaluate_codeblock\r\n    raise e\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 167, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 208, in evaluate_statement\r\n    return self.evaluate_uminusstatement(cur)\r\n  File \"D:/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 339, in evaluate_uminusstatement\r\n    v.current_node = cur\r\nAttributeError: 'NoneType' object has no attribute 'current_node'\r\n\r\n../gimp/plug-ins/meson.build:4:1: ERROR: Unhandled python exception\r\n\r\n    This is a Meson bug and should be reported!\r\n```\r\n\r\nI am launching Meson with the following command-line:\r\n\r\n`python /d/meson/meson.py setup ../gimp --prefix=$GIMP_PREFIX --buildtype=debug`\r\n\r\n**To Reproduce**\r\n\r\n* `git clone --depth=1 https://gitlab.gnome.org/GNOME/gimp.git`\r\n* `mkdir gimp-build`\r\n* `cd gimp-build`\r\n* `meson setup ../gimp --buildtype=debug`\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? \r\n  `Native`\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.)\r\n  `Win10`\r\n* what Python version are you using e.g. 3.8.0\r\n  `Python 3.10.9`\r\n* what meson --version\r\n  `Tried both 0.64.1 and current master (1.0.99)`\r\n* what ninja --version if it's a Ninja build\r\n  `Ninja 1.11.1`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/11225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/11225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10737", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10737/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10737/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10737/events", "html_url": "https://github.com/mesonbuild/meson/issues/10737", "id": 1350600795, "node_id": "I_kwDOAS3iKM5QgIhb", "number": 10737, "title": "pymod.find_installation with modules is broken on conda Windows since 0.63.0", "user": {"login": "tschoonj", "id": 65736, "node_id": "MDQ6VXNlcjY1NzM2", "avatar_url": "https://avatars.githubusercontent.com/u/65736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschoonj", "html_url": "https://github.com/tschoonj", "followers_url": "https://api.github.com/users/tschoonj/followers", "following_url": "https://api.github.com/users/tschoonj/following{/other_user}", "gists_url": "https://api.github.com/users/tschoonj/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschoonj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschoonj/subscriptions", "organizations_url": "https://api.github.com/users/tschoonj/orgs", "repos_url": "https://api.github.com/users/tschoonj/repos", "events_url": "https://api.github.com/users/tschoonj/events{/privacy}", "received_events_url": "https://api.github.com/users/tschoonj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 2027527946, "node_id": "MDU6TGFiZWwyMDI3NTI3OTQ2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/modules:python", "name": "modules:python", "color": "b60205", "default": false, "description": "Issues specific to the python module"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-08-25T09:22:58Z", "updated_at": "2022-08-26T02:02:28Z", "closed_at": "2022-08-25T23:24:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nToday I observed while updating the [xraylib conda-forge feedstock](https://github.com/conda-forge/xraylib-feedstock/pull/40) that the build fails while trying to execute `pymod.find_installation(get_option('python'), modules: ['numpy',])` on Windows, when using meson 0.63.x\r\n\r\nI did a bit of debugging and realised that the command works fine, as long as I do not add the modules kwarg (which is not a realistic option for me though): the python interpreter is found but it fails at loading the requested modules.\r\n\r\nSince this build works fine for 0.62.x, I had a look at the changes that could have led to this, and realised quickly that https://github.com/mesonbuild/meson/pull/10309 is the culprit: I confirmed this with a custom build of meson 0.63.1 with the patch from that PR reverted.\r\n\r\n**To Reproduce**\r\nYou will need to create a Windows conda environment with meson, ninja and numpy installed from the conda-forge channel, and I expect that any `meson.build` file containing:\r\n\r\n```meson\r\n    pymod = import('python')\r\n    python = pymod.find_installation(get_option('python'), modules: ['numpy',])\r\n```\r\n\r\nwill error out.\r\n\r\n**Expected behavior**\r\nI expected the same behaviour from older releases\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? No\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.) Windows 10\r\n* what Python version are you using: 3.7, 3.8, 3.9 and 3.10\r\n* what `meson --version`: 0.63.1\r\n* what `ninja --version` if it's a Ninja build: 1.11.0\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10737/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10693", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10693/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10693/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10693/events", "html_url": "https://github.com/mesonbuild/meson/issues/10693", "id": 1339407978, "node_id": "I_kwDOAS3iKM5P1b5q", "number": 10693, "title": "0.63.1 breaks D builds with LDC when external linker flags are set", "user": {"login": "ximion", "id": 417468, "node_id": "MDQ6VXNlcjQxNzQ2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/417468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ximion", "html_url": "https://github.com/ximion", "followers_url": "https://api.github.com/users/ximion/followers", "following_url": "https://api.github.com/users/ximion/following{/other_user}", "gists_url": "https://api.github.com/users/ximion/gists{/gist_id}", "starred_url": "https://api.github.com/users/ximion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ximion/subscriptions", "organizations_url": "https://api.github.com/users/ximion/orgs", "repos_url": "https://api.github.com/users/ximion/repos", "events_url": "https://api.github.com/users/ximion/events{/privacy}", "received_events_url": "https://api.github.com/users/ximion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/86", "html_url": "https://github.com/mesonbuild/meson/milestone/86", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/86/labels", "id": 8309314, "node_id": "MI_kwDOAS3iKM4AfspC", "number": 86, "title": "0.63.2", "description": "", "creator": {"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2022-08-15T20:11:07Z", "updated_at": "2022-09-12T04:28:47Z", "due_on": "2022-09-03T07:00:00Z", "closed_at": "2022-09-12T04:28:47Z"}, "comments": 6, "created_at": "2022-08-15T19:41:56Z", "updated_at": "2022-08-25T05:21:34Z", "closed_at": "2022-08-25T05:18:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi!\r\nAt the moment all D packages that use Meson (which is quite a bunch!) fail to build in Debian with the upgrade to Meson 0.63.1 (0.63.0 was fine). Debian sets the `LDFLAGS` env var to set specific linker flags, which Meson passes through to the *compiler* in verbatim. The LDC D compiler can't understand GNU linker flags on its own though, they need to be preprocessed as done in the D compiler backend of Meson: https://github.com/mesonbuild/meson/blob/master/mesonbuild/compilers/d.py#L286\r\n\r\nThe commit that highly likely broke this is https://github.com/mesonbuild/meson/commit/0ec039d2597526c670f7e0478a7b5008e14ff474, see https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1017087 for the Debian bugreport.\r\n\r\n**To Reproduce**\r\nJust set `LDFLAGS=-Wl,-z,relro` and try to build the D examples from the testsuite.\r\n\r\n**Expected behavior**\r\nTo determine the linker, Meson should either not pass through all linker flags from the environment, or (probably better), if they are sent to the compiler give the compiler backend the chance to sanitize them into a form that the compiler can actually understand.\r\n\r\nCheers,\r\n    Matthias\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10632", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10632/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10632/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10632/events", "html_url": "https://github.com/mesonbuild/meson/issues/10632", "id": 1318576443, "node_id": "I_kwDOAS3iKM5Ol-E7", "number": 10632, "title": "Backend sometimes ends up in the `User defined options` section of the configure output when not specified by user", "user": {"login": "tristan957", "id": 11936772, "node_id": "MDQ6VXNlcjExOTM2Nzcy", "avatar_url": "https://avatars.githubusercontent.com/u/11936772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tristan957", "html_url": "https://github.com/tristan957", "followers_url": "https://api.github.com/users/tristan957/followers", "following_url": "https://api.github.com/users/tristan957/following{/other_user}", "gists_url": "https://api.github.com/users/tristan957/gists{/gist_id}", "starred_url": "https://api.github.com/users/tristan957/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tristan957/subscriptions", "organizations_url": "https://api.github.com/users/tristan957/orgs", "repos_url": "https://api.github.com/users/tristan957/repos", "events_url": "https://api.github.com/users/tristan957/events{/privacy}", "received_events_url": "https://api.github.com/users/tristan957/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2022-07-26T17:54:32Z", "updated_at": "2022-09-02T20:04:11Z", "closed_at": "2022-09-02T20:04:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`backend` will show up even if I never set it as an option.\r\n```\r\n  User defined options\r\n    backend       : ninja\r\n    buildtype     : debug\r\n```\r\n\r\n**To Reproduce**\r\nI think it only occurs after Meson reconfigures.\r\n\r\n**Expected behavior**\r\nNot show up in the output.\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)?\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.) fc36\r\n* what Python version are you using 3.10.5\r\n* what `meson --version` 0.62.2\r\n* what `ninja --version` if it's a Ninja build 1.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10587", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10587/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10587/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10587/events", "html_url": "https://github.com/mesonbuild/meson/pull/10587", "id": 1300738169, "node_id": "PR_kwDOAS3iKM47MfLB", "number": 10587, "title": "add test for global variable", "user": {"login": "ailin-nemui", "id": 5665186, "node_id": "MDQ6VXNlcjU2NjUxODY=", "avatar_url": "https://avatars.githubusercontent.com/u/5665186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ailin-nemui", "html_url": "https://github.com/ailin-nemui", "followers_url": "https://api.github.com/users/ailin-nemui/followers", "following_url": "https://api.github.com/users/ailin-nemui/following{/other_user}", "gists_url": "https://api.github.com/users/ailin-nemui/gists{/gist_id}", "starred_url": "https://api.github.com/users/ailin-nemui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ailin-nemui/subscriptions", "organizations_url": "https://api.github.com/users/ailin-nemui/orgs", "repos_url": "https://api.github.com/users/ailin-nemui/repos", "events_url": "https://api.github.com/users/ailin-nemui/events{/privacy}", "received_events_url": "https://api.github.com/users/ailin-nemui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-07-11T13:46:50Z", "updated_at": "2022-09-02T11:42:13Z", "closed_at": "2022-07-31T23:13:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/10587", "html_url": "https://github.com/mesonbuild/meson/pull/10587", "diff_url": "https://github.com/mesonbuild/meson/pull/10587.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/10587.patch", "merged_at": null}, "body": "source: https://lists.gnu.org/archive/html/libtool/2002-07/msg00025.html", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10587/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10586", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10586/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10586/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10586/events", "html_url": "https://github.com/mesonbuild/meson/issues/10586", "id": 1300023929, "node_id": "I_kwDOAS3iKM5NfMp5", "number": 10586, "title": "Meson crashes when calling dependency with no specified languages if a C toolchain is not installed", "user": {"login": "K4rakara", "id": 40474474, "node_id": "MDQ6VXNlcjQwNDc0NDc0", "avatar_url": "https://avatars.githubusercontent.com/u/40474474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/K4rakara", "html_url": "https://github.com/K4rakara", "followers_url": "https://api.github.com/users/K4rakara/followers", "following_url": "https://api.github.com/users/K4rakara/following{/other_user}", "gists_url": "https://api.github.com/users/K4rakara/gists{/gist_id}", "starred_url": "https://api.github.com/users/K4rakara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/K4rakara/subscriptions", "organizations_url": "https://api.github.com/users/K4rakara/orgs", "repos_url": "https://api.github.com/users/K4rakara/repos", "events_url": "https://api.github.com/users/K4rakara/events{/privacy}", "received_events_url": "https://api.github.com/users/K4rakara/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-10T21:44:55Z", "updated_at": "2022-11-28T23:48:29Z", "closed_at": "2022-11-28T23:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf your system doesn't have a C toolchain installed and you have a project with no specified languages, and try to call the dependency function, meson will encounter an uncaught exception and crash.\r\n\r\nI encountered this while installing meson as an overlay package on fedora silverblue.\r\n\r\n**To Reproduce**\r\n- have no C toolchain installed\r\n- place the following in `meson.build`:\r\n```meson\r\nproject('foo',\r\n  version: '0.1.0',\r\n  meson_version: '>= 0.59.0',\r\n  default_options: [ 'warning_level=2', 'werror=false' ])\r\n\r\ndependency('openssl', version: '>= 3.0', required: false)\r\n```\r\n- `meson build`\r\n\r\n**Expected behavior**\r\nNo crash, possibly an error telling the user that no C toolchain is installed.\r\n\r\n**System Parameters**\r\n* Native build\r\n* Fedora Silverblue 36\r\n* Python 3.10.5\r\n* Meson 0.62.2\r\n* Ninja 1.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10584", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10584/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10584/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10584/events", "html_url": "https://github.com/mesonbuild/meson/issues/10584", "id": 1299568702, "node_id": "I_kwDOAS3iKM5Nddg-", "number": 10584, "title": "`meson help foo` KeyError", "user": {"login": "baedert", "id": 887764, "node_id": "MDQ6VXNlcjg4Nzc2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/887764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baedert", "html_url": "https://github.com/baedert", "followers_url": "https://api.github.com/users/baedert/followers", "following_url": "https://api.github.com/users/baedert/following{/other_user}", "gists_url": "https://api.github.com/users/baedert/gists{/gist_id}", "starred_url": "https://api.github.com/users/baedert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baedert/subscriptions", "organizations_url": "https://api.github.com/users/baedert/orgs", "repos_url": "https://api.github.com/users/baedert/repos", "events_url": "https://api.github.com/users/baedert/events{/privacy}", "received_events_url": "https://api.github.com/users/baedert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-07-09T04:28:19Z", "updated_at": "2022-07-17T04:45:26Z", "closed_at": "2022-07-17T04:45:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n`meson help <arg>` needs an existing command as `<arg>`. Passing anything else leads to a `KeyError` instead of a nice error message.\r\n\r\n**To Reproduce**\r\n```\r\n~ \u276f meson --version\r\n0.62.2\r\n~ \u276f meson help foo\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mesonmain.py\", line 153, in run\r\n    return options.run_func(options)\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mesonmain.py\", line 118, in run_help_command\r\n    self.commands[options.command].print_help()\r\nKeyError: 'foo'\r\n\r\nERROR: Unhandled python exception\r\n\r\n    This is a Meson bug and should be reported!\r\n\r\n```\r\n\r\n**Expected behavior**\r\nSome error message like \"unknown command 'foo'\" would be better, and/or list the available valid `<arg>` values.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10584/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10579", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10579/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10579/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10579/events", "html_url": "https://github.com/mesonbuild/meson/issues/10579", "id": 1297727575, "node_id": "I_kwDOAS3iKM5NWcBX", "number": 10579, "title": "No host machine compiler for subproject linking to dependency in other subproject", "user": {"login": "iverks", "id": 73749615, "node_id": "MDQ6VXNlcjczNzQ5NjE1", "avatar_url": "https://avatars.githubusercontent.com/u/73749615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iverks", "html_url": "https://github.com/iverks", "followers_url": "https://api.github.com/users/iverks/followers", "following_url": "https://api.github.com/users/iverks/following{/other_user}", "gists_url": "https://api.github.com/users/iverks/gists{/gist_id}", "starred_url": "https://api.github.com/users/iverks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iverks/subscriptions", "organizations_url": "https://api.github.com/users/iverks/orgs", "repos_url": "https://api.github.com/users/iverks/repos", "events_url": "https://api.github.com/users/iverks/events{/privacy}", "received_events_url": "https://api.github.com/users/iverks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/84", "html_url": "https://github.com/mesonbuild/meson/milestone/84", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/84/labels", "id": 8160847, "node_id": "MI_kwDOAS3iKM4AfIZP", "number": 84, "title": "0.63.1", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2022-07-05T02:37:22Z", "updated_at": "2022-08-12T22:16:02Z", "due_on": null, "closed_at": "2022-08-12T22:16:02Z"}, "comments": 3, "created_at": "2022-07-07T16:24:06Z", "updated_at": "2022-08-11T12:36:36Z", "closed_at": "2022-08-11T12:36:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using c-subproject in the dependencies of cpp-subproject, I get an error about no host machine compiler for the c language. The base project is also cpp.\r\n\r\n```text\r\nsubprojects/animationwindow/meson.build:7:0: ERROR: No host machine compiler for 'subprojects/SDL2-2.0.20/src/SDL.c'\r\n```\r\n\r\nThis **doesn't** happen if:\r\n\r\n* I define `c` as one of the languages in the cpp-subproject\r\n* I remove animationwindow, and have SDL as the only subproject\r\n\r\nIt does not however matter whether or not i define `c` as one of the languages in base project, neither if animationwindow is present or not\r\n\r\n**To Reproduce**\r\nstructure:\r\n\r\n\u251c\u2500\u2500 subprojects\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cpp-subproject (animationwindow\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 c-subproject (sdl)\r\n\u251c\u2500\u2500 main.cpp\r\n\u2514\u2500\u2500 meson.build\r\n\r\nE.g. SDL and animationwindow are parallell, not nested.\r\n\r\nmeson.build\r\n```meson\r\nproject('testproject', 'cpp',\r\n  version : '0.1',\r\n  default_options : ['warning_level=2',\r\n                     'cpp_std=c++17',\r\n                     'c_std=c17',\r\n                     'default_library=static'])\r\n\r\nsdl2_dep = dependency('sdl2')\r\nanimationwindow_dep = dependency('animationwindow', fallback: ['animationwindow', 'animationwindow_dep'])\r\n\r\nsrc = ['main.cpp']\r\n\r\nexe = executable('program', src, dependencies : [animationwindow_dep, sdl2_dep])\r\n```\r\n\r\nsubprojects/animationwindow.cpp\r\n```meson\r\nproject('animationwindow', 'cpp', default_options: ['cpp_std=c++17', 'default_library=static', 'buildtype=debugoptimized'])\r\n\r\nsdl2_dep = dependency('sdl2')\r\n\r\nbuild_files = ['src/notfinished.cpp']\r\nincdir = include_directories('include')\r\nanimationwindow = static_library('animationwindow', build_files, include_directories: incdir, dependencies: [sdl2_dep], install: true)\r\ninstall_subdir('include', install_dir: '.')\r\ninstall_subdir('src', install_dir: '.')\r\n\r\nanimationwindow_dep = declare_dependency(link_with: animationwindow, include_directories: incdir)\r\n```\r\n\r\nsubprojects/sdl2.wrap\r\n```ini\r\n[wrap-file]\r\ndirectory = SDL2-2.0.20\r\nsource_url = https://libsdl.org/release/SDL2-2.0.20.tar.gz\r\nsource_filename = SDL2-2.0.20.tar.gz\r\nsource_hash = c56aba1d7b5b0e7e999e4a7698c70b63a3394ff9704b5f6e1c57e0c16f04dd06\r\npatch_filename = sdl2_2.0.20-5_patch.zip\r\npatch_url = https://wrapdb.mesonbuild.com/v2/sdl2_2.0.20-5/get_patch\r\npatch_hash = b0a3700820b2553ae228963f5a6168525404e65d579528957e872c19235deb22\r\nwrapdb_version = 2.0.20-5\r\n\r\n[provide]\r\nsdl2 = sdl2_dep\r\n```\r\n\r\n**Expected behavior**\r\nExpected to `meson setup debug` without any issues.\r\n\r\n**system parameters**\r\n* This is a native build\r\n* on a m1 Mac running macos monterey 12.4\r\n* meson 0.63.0 from homebrew\r\n* python 3.8.9\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10579/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10577", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10577/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10577/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10577/events", "html_url": "https://github.com/mesonbuild/meson/issues/10577", "id": 1297213730, "node_id": "I_kwDOAS3iKM5NUeki", "number": 10577, "title": "GJS tests get stuck since Meson 0.63.0", "user": {"login": "heftig", "id": 204006, "node_id": "MDQ6VXNlcjIwNDAwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/204006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heftig", "html_url": "https://github.com/heftig", "followers_url": "https://api.github.com/users/heftig/followers", "following_url": "https://api.github.com/users/heftig/following{/other_user}", "gists_url": "https://api.github.com/users/heftig/gists{/gist_id}", "starred_url": "https://api.github.com/users/heftig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heftig/subscriptions", "organizations_url": "https://api.github.com/users/heftig/orgs", "repos_url": "https://api.github.com/users/heftig/repos", "events_url": "https://api.github.com/users/heftig/events{/privacy}", "received_events_url": "https://api.github.com/users/heftig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/84", "html_url": "https://github.com/mesonbuild/meson/milestone/84", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/84/labels", "id": 8160847, "node_id": "MI_kwDOAS3iKM4AfIZP", "number": 84, "title": "0.63.1", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2022-07-05T02:37:22Z", "updated_at": "2022-08-12T22:16:02Z", "due_on": null, "closed_at": "2022-08-12T22:16:02Z"}, "comments": 2, "created_at": "2022-07-07T11:02:08Z", "updated_at": "2022-08-07T17:48:44Z", "closed_at": "2022-08-07T17:48:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nSome of GJS 1.72.1's tests time out since Meson 0.63.0. Meson 0.62.2 is fine.\r\nGJS issue report at https://gitlab.gnome.org/GNOME/gjs/-/issues/490.\r\n\r\nStderr is no longer properly consumed for TAP tests, so the test gets stuck when the pipe is full. It seems #10471 broke this. \r\n\r\n**To Reproduce**\r\n```\r\ngit clone https://gitlab.gnome.org/GNOME/gjs.git\r\ncd gjs\r\ngit checkout 1.72.1\r\nmeson . b\r\nmeson compile -C b\r\nmeson test -C b --print-errorlogs\r\n```\r\n\r\n**Expected behavior**\r\nTests pass.\r\n\r\n**system parameters**\r\n* Native build\r\n* Arch Linux\r\n* Python 3.10.5\r\n* Meson 0.63.0\r\n* Ninja 1.11.0", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10577/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10577/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10567", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10567/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10567/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10567/events", "html_url": "https://github.com/mesonbuild/meson/issues/10567", "id": 1294717569, "node_id": "I_kwDOAS3iKM5NK9KB", "number": 10567, "title": "OSError: [Errno 26] Text file busy Mint VM (virtualBox)", "user": {"login": "RafaelRMachado", "id": 1173357, "node_id": "MDQ6VXNlcjExNzMzNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1173357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RafaelRMachado", "html_url": "https://github.com/RafaelRMachado", "followers_url": "https://api.github.com/users/RafaelRMachado/followers", "following_url": "https://api.github.com/users/RafaelRMachado/following{/other_user}", "gists_url": "https://api.github.com/users/RafaelRMachado/gists{/gist_id}", "starred_url": "https://api.github.com/users/RafaelRMachado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RafaelRMachado/subscriptions", "organizations_url": "https://api.github.com/users/RafaelRMachado/orgs", "repos_url": "https://api.github.com/users/RafaelRMachado/repos", "events_url": "https://api.github.com/users/RafaelRMachado/events{/privacy}", "received_events_url": "https://api.github.com/users/RafaelRMachado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-07-05T20:08:08Z", "updated_at": "2022-11-25T18:03:17Z", "closed_at": "2022-11-25T18:03:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nFail to build a project https://github.com/rizinorg/rizin on a Linux Mint (linuxmint-20.3-xfce-64bit) virtualbox vm\r\n\r\n**To Reproduce**\r\n\r\nRizin project instructions are:\r\n$ git clone https://github.com/rizinorg/rizin\r\n$ meson build\r\n$ ninja -C build\r\n$ sudo ninja -C build install\r\n\r\nWhen running meson build, the following error happens:\r\n\r\nThe Meson build system\r\nVersion: 0.63.0\r\nSource dir: /mnt/VBoxShare/rizin\r\nBuild dir: /mnt/VBoxShare/rizin/build\r\nBuild type: native build\r\nProject name: rizin\r\nProject version: v0.4.0\r\nC compiler for the host machine: cc (gcc 9.4.0 \"cc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0\")\r\nC linker for the host machine: cc ld.bfd 2.34\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nProgram python3 found: YES (/usr/bin/python3)\r\nProgram git found: YES (/usr/bin/git)\r\nMessage: rizin lib version: 0.4\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/dist-packages/mesonbuild/mesonlib/universal.py\", line 1684, in cleanup\r\n    super().cleanup()\r\n  File \"/usr/lib/python3.8/tempfile.py\", line 970, in cleanup\r\n    self._rmtree(self.name)\r\n  File \"/usr/lib/python3.8/tempfile.py\", line 952, in _rmtree\r\n    _rmtree(name, onerror=onerror)\r\n  File \"/usr/lib/python3.8/shutil.py\", line 722, in rmtree\r\n    onerror(os.rmdir, path, sys.exc_info())\r\n  File \"/usr/lib/python3.8/shutil.py\", line 720, in rmtree\r\n    os.rmdir(path)\r\nOSError: [Errno 26] Text file busy: '/mnt/VBoxShare/rizin/build/meson-private/tmprr0_s2so'\r\n\r\n**Expected behavior**\r\nBuild should work correctly so the next step would be performed (ninja -C build)\r\n\r\n* what `meson --version`\r\n0.63.0\r\n\r\n* what `ninja --version` if it's a Ninja build\r\n1.10.0\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10563", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10563/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10563/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10563/events", "html_url": "https://github.com/mesonbuild/meson/issues/10563", "id": 1293628929, "node_id": "I_kwDOAS3iKM5NGzYB", "number": 10563, "title": "testlog.txt etc don't contain output of tap tests anymore", "user": {"login": "anarazel", "id": 1598211, "node_id": "MDQ6VXNlcjE1OTgyMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1598211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anarazel", "html_url": "https://github.com/anarazel", "followers_url": "https://api.github.com/users/anarazel/followers", "following_url": "https://api.github.com/users/anarazel/following{/other_user}", "gists_url": "https://api.github.com/users/anarazel/gists{/gist_id}", "starred_url": "https://api.github.com/users/anarazel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anarazel/subscriptions", "organizations_url": "https://api.github.com/users/anarazel/orgs", "repos_url": "https://api.github.com/users/anarazel/repos", "events_url": "https://api.github.com/users/anarazel/events{/privacy}", "received_events_url": "https://api.github.com/users/anarazel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/84", "html_url": "https://github.com/mesonbuild/meson/milestone/84", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/84/labels", "id": 8160847, "node_id": "MI_kwDOAS3iKM4AfIZP", "number": 84, "title": "0.63.1", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2022-07-05T02:37:22Z", "updated_at": "2022-08-12T22:16:02Z", "due_on": null, "closed_at": "2022-08-12T22:16:02Z"}, "comments": 3, "created_at": "2022-07-04T23:19:57Z", "updated_at": "2022-08-07T17:48:43Z", "closed_at": "2022-08-07T17:48:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Starting with 702f3fe15 meson-logs/testlog.txt don't contain output from tap test failures anymore. And not just when the test succeed, even when the tap test failed. @trhd I assume this was not intentional?\r\n\r\nReproducer:\r\n```\r\nproject('repro', ['c'])\r\n\r\ntest('ex', find_program('echo'),\r\n     args: ['ok 1 - frak\r\n# diag\r\nnot ok 2 - blarg\r\n1..2\r\n'],\r\n     protocol: 'tap',\r\n    )\r\n```\r\nwith 0.62 that'll include \r\n```\r\n----------------------------------- output -----------------------------------\r\nok 1 - frak\r\n# diag\r\nnot ok 2 - blarg\r\n1..2\r\n```\r\nin the log, but with 702f3fe15 that's not included anymore.\r\n\r\nObviously testlog.txt (etc) need to include the test output...", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10552", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10552/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10552/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10552/events", "html_url": "https://github.com/mesonbuild/meson/pull/10552", "id": 1290553927, "node_id": "PR_kwDOAS3iKM46qd90", "number": 10552, "title": "interpreter: fix both libraries with `pic : false` and generators", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-06-30T19:32:01Z", "updated_at": "2022-06-30T20:33:24Z", "closed_at": "2022-06-30T20:30:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/10552", "html_url": "https://github.com/mesonbuild/meson/pull/10552", "diff_url": "https://github.com/mesonbuild/meson/pull/10552.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/10552.patch", "merged_at": null}, "body": "If we have a call to `both_libraries()` with `pic : false` (or are using\r\nthe xcode backend), then we are forced to compile all of the sources\r\ntwice, once for the static library and once for the shared library. If\r\nthere is a generator in the sources, then we will create two rules that\r\nproduce the same output, and configuration will fail.\r\n\r\nTo avoid that, when this happens, rename the static library so that the\r\nstatic and shared libraries will get separate folder in the build tree,\r\nand no collision will happen.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10552/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10193", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10193/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10193/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10193/events", "html_url": "https://github.com/mesonbuild/meson/issues/10193", "id": 1182538926, "node_id": "I_kwDOAS3iKM5GfByu", "number": 10193, "title": "Python traceback when I run meson setup --backend xcode", "user": {"login": "jonancm", "id": 4405268, "node_id": "MDQ6VXNlcjQ0MDUyNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/4405268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonancm", "html_url": "https://github.com/jonancm", "followers_url": "https://api.github.com/users/jonancm/followers", "following_url": "https://api.github.com/users/jonancm/following{/other_user}", "gists_url": "https://api.github.com/users/jonancm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonancm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonancm/subscriptions", "organizations_url": "https://api.github.com/users/jonancm/orgs", "repos_url": "https://api.github.com/users/jonancm/repos", "events_url": "https://api.github.com/users/jonancm/events{/privacy}", "received_events_url": "https://api.github.com/users/jonancm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}, {"id": 2576035922, "node_id": "MDU6TGFiZWwyNTc2MDM1OTIy", "url": "https://api.github.com/repos/mesonbuild/meson/labels/backend:xcode", "name": "backend:xcode", "color": "f0ffb2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/79", "html_url": "https://github.com/mesonbuild/meson/milestone/79", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/79/labels", "id": 7796991, "node_id": "MI_kwDOAS3iKM4Advj_", "number": 79, "title": "0.62.1", "description": "Patches included in this release that aren't milestoned:\r\n\r\n* https://github.com/mesonbuild/meson/commit/1420d0daceb10cafb52a7405f157032a5cc811a5 (taken from https://github.com/mesonbuild/meson/pull/10202)\r\n* https://github.com/mesonbuild/meson/commit/3c80f8f96591a03207b58e8201700bfcbcfa95a1 (pushed directly to master from https://github.com/mesonbuild/meson/pull/10254)\r\n* https://github.com/mesonbuild/meson/commit/33aa803521b2aa62688833842ea7eddb828e0e25 (taken from https://github.com/mesonbuild/meson/pull/10276)", "creator": {"login": "xclaesse", "id": 1379109, "node_id": "MDQ6VXNlcjEzNzkxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1379109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xclaesse", "html_url": "https://github.com/xclaesse", "followers_url": "https://api.github.com/users/xclaesse/followers", "following_url": "https://api.github.com/users/xclaesse/following{/other_user}", "gists_url": "https://api.github.com/users/xclaesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/xclaesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xclaesse/subscriptions", "organizations_url": "https://api.github.com/users/xclaesse/orgs", "repos_url": "https://api.github.com/users/xclaesse/repos", "events_url": "https://api.github.com/users/xclaesse/events{/privacy}", "received_events_url": "https://api.github.com/users/xclaesse/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2022-03-23T17:50:03Z", "updated_at": "2022-04-23T12:35:13Z", "due_on": null, "closed_at": "2022-04-23T12:35:13Z"}, "comments": 1, "created_at": "2022-03-27T13:58:42Z", "updated_at": "2022-04-19T17:05:43Z", "closed_at": "2022-03-30T19:32:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen I try to set up a build directory with the Xcode backend, I get the following traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/jonancm/Library/Caches/pypoetry/virtualenvs/testapp-gtkmm3-UQ0_I4tI-py3.8/lib/python3.8/site-packages/mesonbuild/mesonmain.py\", line 146, in run\r\n    return options.run_func(options)\r\n  File \"/Users/jonancm/Library/Caches/pypoetry/virtualenvs/testapp-gtkmm3-UQ0_I4tI-py3.8/lib/python3.8/site-packages/mesonbuild/msetup.py\", line 294, in run\r\n    app.generate()\r\n  File \"/Users/jonancm/Library/Caches/pypoetry/virtualenvs/testapp-gtkmm3-UQ0_I4tI-py3.8/lib/python3.8/site-packages/mesonbuild/msetup.py\", line 185, in generate\r\n    self._generate(env)\r\n  File \"/Users/jonancm/Library/Caches/pypoetry/virtualenvs/testapp-gtkmm3-UQ0_I4tI-py3.8/lib/python3.8/site-packages/mesonbuild/msetup.py\", line 247, in _generate\r\n    intr.backend.generate()\r\n  File \"/Users/jonancm/Library/Caches/pypoetry/virtualenvs/testapp-gtkmm3-UQ0_I4tI-py3.8/lib/python3.8/site-packages/mesonbuild/backend/xcodebackend.py\", line 302, in generate\r\n    self.generate_pbx_file_reference(objects_dict)\r\n  File \"/Users/jonancm/Library/Caches/pypoetry/virtualenvs/testapp-gtkmm3-UQ0_I4tI-py3.8/lib/python3.8/site-packages/mesonbuild/backend/xcodebackend.py\", line 825, in generate_pbx_file_reference\r\n    s = os.path.joni(t.subdir, s)\r\nAttributeError: module 'posixpath' has no attribute 'joni'\r\n```\r\n\r\nThis is clearly caused by a misspelling of the word `join`.\r\n\r\n**To Reproduce**\r\n\r\n1. Create the following empty files:\r\n\r\n   - `main.c`\r\n   - `ui.gresources.xml`\r\n\r\n2. Create a `meson.build` file with the following content:\r\n\r\n   ```meson\r\n   project('xcode-test', 'c')\r\n   \r\n   gnome = import('gnome')\r\n   ui_resources = gnome.compile_resources(\r\n     'ui_resources',\r\n     'ui.gresource.xml',\r\n     source_dir : 'res/ui',\r\n   )\r\n   \r\n   exe = executable('xcode-test', 'main.c')\r\n   ```\r\n\r\n3. Set up a build with the Xcode backend\r\n\r\n   ```bash\r\n   meson setup build --backend xcode\r\n   ```\r\n\r\n**Expected behavior**\r\n\r\nAn Xcode project is created successfully, without any Python tracebacks.\r\n\r\n**system parameters**\r\n\r\n* Native build for Intel Mac\r\n* OS: macOS Catalina 10.15.7 (19H1715)\r\n* `python -V`: Python 3.8.12\r\n* `meson --version`: 0.61.3\r\n* `ninja --version`: 1.10.2\r\n\r\n\r\n**Debugging information**\r\n\r\nI debugged this with ipdb by setting a breakpoint at `mesonbuild/backend/xcodebackend.py:825`:\r\n\r\n```\r\nipdb> b mesonbuild/backend/xcodebackend.py:825\r\n```\r\n\r\nThe error arises when Meson is processing the argument `'ui.gresource.xml'` to `gnome.compile_resources`:\r\n\r\n```\r\n    824                 elif isinstance(s, str):\r\n1-> 825                     s = os.path.joni(t.subdir, s)\r\n    826                 else:\r\n\r\nipdb> print(s)\r\nres/ui.gresource.xml\r\n```\r\n\r\nI've also located 3 occurrences of this bug in 0.61.3:\r\n\r\n\r\nhttps://github.com/mesonbuild/meson/blob/5cf5575a7c76746935dcd9a9e380803c85023c04/mesonbuild/backend/xcodebackend.py#L825\r\n\r\nhttps://github.com/mesonbuild/meson/blob/5cf5575a7c76746935dcd9a9e380803c85023c04/mesonbuild/backend/xcodebackend.py#L945\r\n\r\nhttps://github.com/mesonbuild/meson/blob/5cf5575a7c76746935dcd9a9e380803c85023c04/mesonbuild/backend/xcodebackend.py#L978\r\n\r\n\r\nAs of now, the bug persists in the latest master (commit 86aaac8e4229608b25508027267f49624a9a8cb5).", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10193/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10091", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10091/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10091/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10091/events", "html_url": "https://github.com/mesonbuild/meson/issues/10091", "id": 1163184756, "node_id": "I_kwDOAS3iKM5FVMp0", "number": 10091, "title": "deja-dup 43.2 tests under xbps-src fail to run with a TypeError in meson", "user": {"login": "paper42", "id": 23639164, "node_id": "MDQ6VXNlcjIzNjM5MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/23639164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paper42", "html_url": "https://github.com/paper42", "followers_url": "https://api.github.com/users/paper42/followers", "following_url": "https://api.github.com/users/paper42/following{/other_user}", "gists_url": "https://api.github.com/users/paper42/gists{/gist_id}", "starred_url": "https://api.github.com/users/paper42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paper42/subscriptions", "organizations_url": "https://api.github.com/users/paper42/orgs", "repos_url": "https://api.github.com/users/paper42/repos", "events_url": "https://api.github.com/users/paper42/events{/privacy}", "received_events_url": "https://api.github.com/users/paper42/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-03-08T22:00:00Z", "updated_at": "2022-03-09T11:59:21Z", "closed_at": "2022-03-09T11:59:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nTrying to run deja-dup 43.2 tests under xbps-src (Void Linux build system) results in an error:\r\n```\r\n[0/1] Running all tests.\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mesonmain.py\", line 149, in run\r\n    return options.run_func(options)\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mtest.py\", line 2017, in run\r\n    return th.doit()\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mtest.py\", line 1685, in doit\r\n    runners.extend(self.get_test_runner(test) for test in tests)\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mtest.py\", line 1685, in <genexpr>\r\n    runners.extend(self.get_test_runner(test) for test in tests)\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mtest.py\", line 1586, in get_test_runner\r\n    return SingleTestRunner(test, env, name, options)\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mtest.py\", line 1308, in __init__\r\n    self.cmd = self._get_cmd()\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mtest.py\", line 1374, in _get_cmd\r\n    test_cmd = self._get_test_cmd()\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mtest.py\", line 1352, in _get_test_cmd\r\n    if self.options.no_rebuild and not os.path.isfile(testentry):\r\n  File \"/usr/lib/python3.10/genericpath.py\", line 30, in isfile\r\n    st = os.stat(path)\r\nTypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType\r\n\r\nERROR: Unhandled python exception\r\n\r\n    This is a Meson bug and should be reported!\r\nFAILED: meson-test \r\n/usr/bin/meson test --no-rebuild --print-errorlogs\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**To Reproduce**\r\nThis seems to only happen under xbps-src that runs builds in a limited chroot which might be why I can't reproduce this on my own computer.\r\n\r\n**Expected behavior**\r\nTests should run and meson shouldn't exit with a TypeError.\r\n\r\n**system parameters**\r\n* native build\r\n* Void Linux\r\n* Python 3.10\r\n* meson 0.61.99 (789f440f7c2bfda2e17f05ecdcb1a19245f892df), meson 0.61.2 and meson 0.60.3\r\n* ninja 1.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10091/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10091/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10080", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10080/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10080/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10080/events", "html_url": "https://github.com/mesonbuild/meson/issues/10080", "id": 1161605910, "node_id": "I_kwDOAS3iKM5FPLMW", "number": 10080, "title": "Building scipy with PyPy fails on windows", "user": {"login": "mattip", "id": 823911, "node_id": "MDQ6VXNlcjgyMzkxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/823911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattip", "html_url": "https://github.com/mattip", "followers_url": "https://api.github.com/users/mattip/followers", "following_url": "https://api.github.com/users/mattip/following{/other_user}", "gists_url": "https://api.github.com/users/mattip/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattip/subscriptions", "organizations_url": "https://api.github.com/users/mattip/orgs", "repos_url": "https://api.github.com/users/mattip/repos", "events_url": "https://api.github.com/users/mattip/events{/privacy}", "received_events_url": "https://api.github.com/users/mattip/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2022-03-07T15:58:32Z", "updated_at": "2022-04-14T20:04:54Z", "closed_at": "2022-04-14T20:04:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [error](https://github.com/mattip/scipy/runs/5450598923?check_suite_focus=true#step:9:57) is \r\n> Could not find Python3 library 'c:\\\\hostedtoolcache\\\\windows\\\\pypy\\\\3.8.12\\\\x86\\\\python38.dll'\r\n\r\nThe correct dll name is `libpypy3-c.dll`, but shouldn't the compiler be MSVC and the library it is looking for be the MSVC import library which is `c:\\\\hostedtoolcache\\\\windows\\\\pypy\\\\3.8.12\\\\x86\\\\libs\\python3.8.lib` (like CPython)?\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10080/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10044", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10044/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10044/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10044/events", "html_url": "https://github.com/mesonbuild/meson/pull/10044", "id": 1155851309, "node_id": "PR_kwDOAS3iKM4zwVqV", "number": 10044, "title": "compilers/d: fix mangling of rpath-link in DMD-like compilers", "user": {"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/76", "html_url": "https://github.com/mesonbuild/meson/milestone/76", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/76/labels", "id": 7678569, "node_id": "MI_kwDOAS3iKM4AdSpp", "number": 76, "title": "0.61.3", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2022-02-15T06:17:10Z", "updated_at": "2022-03-22T05:45:25Z", "due_on": null, "closed_at": "2022-03-22T05:45:25Z"}, "comments": 2, "created_at": "2022-03-01T21:47:41Z", "updated_at": "2022-03-25T05:00:06Z", "closed_at": "2022-03-02T02:34:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/10044", "html_url": "https://github.com/mesonbuild/meson/pull/10044", "diff_url": "https://github.com/mesonbuild/meson/pull/10044.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/10044.patch", "merged_at": "2022-03-02T02:34:58Z"}, "body": "We didn't consider that it has arguments following it, so the resulting compiler command line ended up with stuff like:\r\n\r\n```\r\n-L=-rpath-link -L=-L=/path/to/directory -L=more-args\r\n```\r\n\r\nand the directory for rpath-link got eaten up as a regular -L path to the compiler rather than being passed as -Xlinker to the linker.\r\n\r\nThen the -rpath-link would consume the next -Xlinker argument, end up with the wrong rpath-link (may or may not cause link errors) and then disappear arguments we need.\r\n\r\nAs an example failure mode, if the next argument is -soname this treats the soname text as an input file, which probably does not exist if it was generated in a subdirectory, and also because it can never be successfully built in the first place -- though if it did, it would link to itself which is very wrong.\r\n\r\n/cc @Panke ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10044/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10032", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/10032/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/10032/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/10032/events", "html_url": "https://github.com/mesonbuild/meson/issues/10032", "id": 1150692511, "node_id": "I_kwDOAS3iKM5Eliyf", "number": 10032, "title": "mtest TAP parser parses fails on Test::More and node-tap subtests", "user": {"login": "anarazel", "id": 1598211, "node_id": "MDQ6VXNlcjE1OTgyMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1598211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anarazel", "html_url": "https://github.com/anarazel", "followers_url": "https://api.github.com/users/anarazel/followers", "following_url": "https://api.github.com/users/anarazel/following{/other_user}", "gists_url": "https://api.github.com/users/anarazel/gists{/gist_id}", "starred_url": "https://api.github.com/users/anarazel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anarazel/subscriptions", "organizations_url": "https://api.github.com/users/anarazel/orgs", "repos_url": "https://api.github.com/users/anarazel/repos", "events_url": "https://api.github.com/users/anarazel/events{/privacy}", "received_events_url": "https://api.github.com/users/anarazel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-02-25T17:32:06Z", "updated_at": "2022-05-24T17:32:01Z", "closed_at": "2022-05-24T17:15:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nCC: @bonzini \r\n\r\nTest::More and node-tap generate subtest output like this:\r\n```\r\n# Subtest: some subject\r\n    ok 1 - one property\r\n    ok 2 - another property\r\n    1..2\r\nok 1 - some subject\r\n1..1\r\n\r\n```\r\n\r\nwhich mtest doesn't like: \"TAP parsing error: unexpected input at line 4\"\r\n\r\nThis is supposed to be backward compatible with tools that don't understand subtests. Apparently based on the following language in the tap spec (v12, not 13, which appears to be a draft or something?):\r\n\r\n> Any output line that is not a version, a plan, a test line, a diagnostic or a bail out is considered an \u201cunknown\u201d line. A TAP parser **is required to not consider an unknown line as an error** but may optionally choose to capture said line and hand it to the test harness, which may have custom behavior attached. This is to allow for forward compatability. Test::Harness silently ignores incorrect lines, but will become more stringent in the future. TAP::Harness reports TAP syntax errors at the end of a test run.\r\n\r\nI don't quite understand how \"required to not consider an unknown line as an error\", \"silently ignores incorrect lines\" and \"TAP::Harness reports TAP syntax errors at the end of a test run\" fit together...\r\n\r\nGiven that common producers of TAP generate output like this, it may be worth ignoring such lines unless v13 is specified? \r\n\r\nmeson.build:\r\n```meson\r\nproject('test', 'c')\r\n\r\nperl = find_program('perl')\r\ntest('subtest', perl,\r\n     protocol: 'tap',\r\n     args: [files('subtest.pl')])\r\n```\r\n\r\nsubtest.pl:\r\n```perl\r\nuse Test::More;\r\n\r\nsub run_sub\r\n{\r\n    my $arg = shift;\r\n    ok($arg, \"one property\");\r\n    ok($arg, \"another property\");\r\n}\r\n\r\nsubtest \"some subject\" => \\&run_sub, 1;\r\ndone_testing();\r\n```\r\n\r\nRegards,\r\n\r\nAndres", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/10032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/10032/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9925", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9925/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9925/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9925/events", "html_url": "https://github.com/mesonbuild/meson/issues/9925", "id": 1120593367, "node_id": "I_kwDOAS3iKM5CyuXX", "number": 9925, "title": " Meson told me report an \"Unhandled python exception\".", "user": {"login": "apoorv569", "id": 53279454, "node_id": "MDQ6VXNlcjUzMjc5NDU0", "avatar_url": "https://avatars.githubusercontent.com/u/53279454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apoorv569", "html_url": "https://github.com/apoorv569", "followers_url": "https://api.github.com/users/apoorv569/followers", "following_url": "https://api.github.com/users/apoorv569/following{/other_user}", "gists_url": "https://api.github.com/users/apoorv569/gists{/gist_id}", "starred_url": "https://api.github.com/users/apoorv569/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apoorv569/subscriptions", "organizations_url": "https://api.github.com/users/apoorv569/orgs", "repos_url": "https://api.github.com/users/apoorv569/repos", "events_url": "https://api.github.com/users/apoorv569/events{/privacy}", "received_events_url": "https://api.github.com/users/apoorv569/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 4277250286, "node_id": "LA_kwDOAS3iKM7-8aju", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:cmake", "name": "module:cmake", "color": "36CB1A", "default": false, "description": "Issues related to the cmake module, including cmake.subproject"}], "state": "closed", "locked": false, "assignee": {"login": "mensinda", "id": 3407462, "node_id": "MDQ6VXNlcjM0MDc0NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3407462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mensinda", "html_url": "https://github.com/mensinda", "followers_url": "https://api.github.com/users/mensinda/followers", "following_url": "https://api.github.com/users/mensinda/following{/other_user}", "gists_url": "https://api.github.com/users/mensinda/gists{/gist_id}", "starred_url": "https://api.github.com/users/mensinda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mensinda/subscriptions", "organizations_url": "https://api.github.com/users/mensinda/orgs", "repos_url": "https://api.github.com/users/mensinda/repos", "events_url": "https://api.github.com/users/mensinda/events{/privacy}", "received_events_url": "https://api.github.com/users/mensinda/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mensinda", "id": 3407462, "node_id": "MDQ6VXNlcjM0MDc0NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3407462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mensinda", "html_url": "https://github.com/mensinda", "followers_url": "https://api.github.com/users/mensinda/followers", "following_url": "https://api.github.com/users/mensinda/following{/other_user}", "gists_url": "https://api.github.com/users/mensinda/gists{/gist_id}", "starred_url": "https://api.github.com/users/mensinda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mensinda/subscriptions", "organizations_url": "https://api.github.com/users/mensinda/orgs", "repos_url": "https://api.github.com/users/mensinda/repos", "events_url": "https://api.github.com/users/mensinda/events{/privacy}", "received_events_url": "https://api.github.com/users/mensinda/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2022-02-01T12:12:20Z", "updated_at": "2022-08-04T19:23:37Z", "closed_at": "2022-08-04T19:23:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While defining a cross build file for `Windows`, I wrote a section for `cmake`,\r\n```ini\r\n[cmake]\r\nCMAKE_C_COMPILER_WORKS = 1\r\n```\r\nand I forgot to wrap \"1\" in single quotes and it threw this unhandled exception.\r\n```bash\r\n\u276f meson setup --cross-file=cross-windows-x86_64.ini build-win\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/mesonmain.py\", line 146, in run\r\n    return options.run_func(options)\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/msetup.py\", line 294, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/msetup.py\", line 180, in generate\r\n    env = environment.Environment(self.source_dir, self.build_dir, self.options)\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/environment.py\", line 536, in __init__\r\n    cmakevars.host = CMakeVariables(config.get('cmake', {}))\r\n  File \"/usr/lib/python3.10/site-packages/mesonbuild/envconfig.py\", line 442, in __init__\r\n    assert isinstance(i, str)\r\nAssertionError\r\n\r\nERROR: Unhandled python exception\r\n\r\n    This is a Meson bug and should be reported!\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9925/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9436", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9436/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9436/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9436/events", "html_url": "https://github.com/mesonbuild/meson/issues/9436", "id": 1034469577, "node_id": "I_kwDOAS3iKM49qMDJ", "number": 9436, "title": "0.60.0: `message()` does not accept bools anymore", "user": {"login": "Tachi107", "id": 34214253, "node_id": "MDQ6VXNlcjM0MjE0MjUz", "avatar_url": "https://avatars.githubusercontent.com/u/34214253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tachi107", "html_url": "https://github.com/Tachi107", "followers_url": "https://api.github.com/users/Tachi107/followers", "following_url": "https://api.github.com/users/Tachi107/following{/other_user}", "gists_url": "https://api.github.com/users/Tachi107/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tachi107/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tachi107/subscriptions", "organizations_url": "https://api.github.com/users/Tachi107/orgs", "repos_url": "https://api.github.com/users/Tachi107/repos", "events_url": "https://api.github.com/users/Tachi107/events{/privacy}", "received_events_url": "https://api.github.com/users/Tachi107/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/69", "html_url": "https://github.com/mesonbuild/meson/milestone/69", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/69/labels", "id": 7283760, "node_id": "MI_kwDOAS3iKM4AbyQw", "number": 69, "title": "0.60.1", "description": "Commits that were included but aren't on the milestone:\r\n\r\nhttps://github.com/mesonbuild/meson/commit/ab1741659ef751e90eaacb76dd724ab56b771e94\r\n\r\nhttps://github.com/mesonbuild/meson/commit/c8d125653d0535624741c591397a2b9b4ae3bb43", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 28, "state": "closed", "created_at": "2021-10-24T23:38:00Z", "updated_at": "2021-11-02T20:55:02Z", "due_on": null, "closed_at": "2021-11-02T20:55:02Z"}, "comments": 2, "created_at": "2021-10-24T17:25:20Z", "updated_at": "2021-10-26T15:31:26Z", "closed_at": "2021-10-26T14:59:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen passing a boolean to `message()`, Meson throws an error\r\n\r\n**To Reproduce**\r\nWrite `message(true)` in your meson.build file\r\n\r\n**Expected behavior**\r\nPrevious Meson versions converted booleans passed in `message()` to either `True` or `False`. This was useful, even if the [docs](https://mesonbuild.com/Reference-manual_functions.html#message) say that you can only pass strings to it. I know this is technically the correct behaviour, but this is an unannounced breaking change. I would suggest reverting this change and mentioning the boolean conversion in the documentation. I believe this was introduced in https://github.com/mesonbuild/meson/commit/941b8a6dbcd538e3313fad1be45290b59f92df91 (edit: yes, reverting the change fixes the \"issue\")\r\n\r\n**system parameters**\r\n* Debian Testing/12\r\n* Python 3.9.7\r\n* meson 0.60.0\r\n\r\nEdit: found in https://github.com/marzer/tomlplusplus/issues/121, see that issue for other details", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9436/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9350", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9350/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9350/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9350/events", "html_url": "https://github.com/mesonbuild/meson/issues/9350", "id": 1015137769, "node_id": "I_kwDOAS3iKM48gcXp", "number": 9350, "title": "Throws exception instead of parsing error", "user": {"login": "hadess", "id": 769861, "node_id": "MDQ6VXNlcjc2OTg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/769861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hadess", "html_url": "https://github.com/hadess", "followers_url": "https://api.github.com/users/hadess/followers", "following_url": "https://api.github.com/users/hadess/following{/other_user}", "gists_url": "https://api.github.com/users/hadess/gists{/gist_id}", "starred_url": "https://api.github.com/users/hadess/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hadess/subscriptions", "organizations_url": "https://api.github.com/users/hadess/orgs", "repos_url": "https://api.github.com/users/hadess/repos", "events_url": "https://api.github.com/users/hadess/events{/privacy}", "received_events_url": "https://api.github.com/users/hadess/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/65", "html_url": "https://github.com/mesonbuild/meson/milestone/65", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/65/labels", "id": 6996725, "node_id": "MI_kwDOAS3iKM4AasL1", "number": 65, "title": "0.60.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 33, "state": "closed", "created_at": "2021-07-22T16:08:52Z", "updated_at": "2021-10-28T21:39:24Z", "due_on": null, "closed_at": "2021-10-27T15:46:23Z"}, "comments": 9, "created_at": "2021-10-04T12:49:31Z", "updated_at": "2021-10-28T21:39:24Z", "closed_at": "2021-10-28T21:39:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "meson git c6d74ac7e0890c323bd1190d5f5d3d938fc6d59a\r\n\r\nWhen building this tree, meson throws an exception instead of complaining about the parsing error and where it occurred.\r\n\r\n[grilo-wip-hadess-grlnet-disable-fix.zip](https://github.com/mesonbuild/meson/files/7278069/grilo-wip-hadess-grlnet-disable-fix.zip)\r\n\r\n```sh\r\n$ ~/Projects/jhbuild/meson/meson.py --prefix /home/hadess/Projects/gnome-install --libdir lib  --buildtype=debugoptimized /home/hadess/Downloads/grilo-wip-hadess-grlnet-disable-fix\r\nThe Meson build system\r\nVersion: 0.59.99\r\nSource dir: /home/hadess/Downloads/grilo-wip-hadess-grlnet-disable-fix\r\nBuild dir: /tmp/bug-repro\r\nBuild type: native build\r\nProject name: grilo\r\nProject version: 0.3.14\r\nC compiler for the host machine: ccache cc (gcc 11.2.1 \"cc (GCC) 11.2.1 20210728 (Red Hat 11.2.1-1)\")\r\nC linker for the host machine: cc ld.bfd 2.37-10\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nFound pkg-config: /usr/bin/pkg-config (1.8.0)\r\nRun-time dependency gio-2.0 found: YES 2.70.0\r\nRun-time dependency glib-2.0 found: YES 2.70.0\r\nRun-time dependency gmodule-2.0 found: YES 2.70.0\r\nRun-time dependency gobject-2.0 found: YES 2.70.0\r\nRun-time dependency libxml-2.0 found: YES 2.9.12\r\nRun-time dependency libsoup-2.4 found: YES 2.74.0\r\nRun-time dependency totem-plparser found: YES 3.26.6\r\nProgram g-ir-scanner found: YES (/usr/bin/g-ir-scanner)\r\nProgram vapigen found: YES (/usr/bin/vapigen)\r\nRun-time dependency gtk+-3.0 found: YES 3.24.30\r\nRun-time dependency oauth found: YES 1.0.3\r\nRun-time dependency gobject-introspection-1.0 found: YES 1.70.0\r\nRun-time dependency vapigen found: YES 0.54.1\r\nFound pkg-config: /usr/bin/pkg-config (1.8.0)\r\nProgram glib-genmarshal found: YES (/usr/bin/glib-genmarshal)\r\nTraceback (most recent call last):\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/mesonmain.py\", line 228, in run\r\n    return options.run_func(options)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/msetup.py\", line 290, in run\r\n    app.generate()\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/msetup.py\", line 181, in generate\r\n    self._generate(env)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/msetup.py\", line 225, in _generate\r\n    intr.run()\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreter/interpreter.py\", line 2456, in run\r\n    super().run()\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 165, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 190, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 183, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 196, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 82, in wrapper\r\n    res = f(self, node)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 629, in function_call\r\n    return func(node, func_args, kwargs)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/decorators.py\", line 697, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/decorators.py\", line 114, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/decorators.py\", line 275, in wrapper\r\n    return f(*nargs, **wrapped_kwargs)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreter/interpreter.py\", line 1941, in func_subdir\r\n    self.evaluate_codeblock(codeblock)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 190, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 183, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 198, in evaluate_statement\r\n    self.assignment(cur)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 848, in assignment\r\n    value = self.evaluate_statement(node.value)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 200, in evaluate_statement\r\n    return self.method_call(cur)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/interpreterbase.py\", line 666, in method_call\r\n    return self._holderify(obj.method_call(method_name, args, kwargs))\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreter/interpreterobjects.py\", line 751, in method_call\r\n    ret = method(state, args, kwargs)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/interpreterbase/decorators.py\", line 114, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/modules/gnome.py\", line 1669, in genmarshal\r\n    header = build.CustomTarget(output + '_h', state.subdir, state.subproject, custom_kwargs)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/build.py\", line 2317, in __init__\r\n    self.process_kwargs(kwargs, backend)\r\n  File \"/home/hadess/Projects/jhbuild/meson/mesonbuild/build.py\", line 2426, in process_kwargs\r\n    if isinstance(kwargs['install_dir'], list):\r\nKeyError: 'install_dir'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9350/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9271", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9271/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9271/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9271/events", "html_url": "https://github.com/mesonbuild/meson/issues/9271", "id": 998926299, "node_id": "I_kwDOAS3iKM47imfb", "number": 9271, "title": "Required but not found dependencies shouldn't be cached", "user": {"login": "Plagman", "id": 529930, "node_id": "MDQ6VXNlcjUyOTkzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/529930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Plagman", "html_url": "https://github.com/Plagman", "followers_url": "https://api.github.com/users/Plagman/followers", "following_url": "https://api.github.com/users/Plagman/following{/other_user}", "gists_url": "https://api.github.com/users/Plagman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Plagman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Plagman/subscriptions", "organizations_url": "https://api.github.com/users/Plagman/orgs", "repos_url": "https://api.github.com/users/Plagman/repos", "events_url": "https://api.github.com/users/Plagman/events{/privacy}", "received_events_url": "https://api.github.com/users/Plagman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-17T04:26:25Z", "updated_at": "2021-09-20T20:42:12Z", "closed_at": "2021-09-20T20:42:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSome dependencies are required - the typical flow when a user is confronted with them is to install the missing dependency, then run the build again. Without user intervention such as forcing reconfigure, it will keep failing as the missing dependency stays cached.\r\n\r\n**To Reproduce**\r\nOn a system with wayland-protocols 1.21, check out wlroots prior to commit https://github.com/swaywm/wlroots/commit/c67e3fe3b7e189ed7a617cac412a16116d77cf21 and build it naively with eg. `mkdir build && cd build && meson ..`, then `ninja`. Then update it with eg. `git pull --rebase && ninja` from the same folder. Observe required dependency error. Acquire the missing dependency (through eg. `pacman -Syu`), then run `ninja` again. Observe error:\r\n\r\n```\r\nwlroots| Dependency wayland-protocols found: NO found 1.21 but need: '>=1.22' (cached)\r\n\r\n../subprojects/wlroots/protocol/meson.build:1:0: ERROR: Dependency 'wayland-protocols' is required but not found.\r\n```\r\n\r\n**Expected behavior**\r\nmeson appears to know that the dependency is missing, required, and not found. It seems like it has all the information to bypass its own cache here and make this process easier on the user and not require a manual meson reconfigure step requiring more familiarity with its internals.\r\n\r\n**system parameters**\r\nArch Linux, meson 0.59.1, ninja 1.10.2, Python 3.9.7\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9271/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9271/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9258", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9258/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9258/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9258/events", "html_url": "https://github.com/mesonbuild/meson/issues/9258", "id": 996402292, "node_id": "I_kwDOAS3iKM47Y-R0", "number": 9258, "title": "Regression for Fortran extension using `custom_target` from depscan input to json", "user": {"login": "rgommers", "id": 98330, "node_id": "MDQ6VXNlcjk4MzMw", "avatar_url": "https://avatars.githubusercontent.com/u/98330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rgommers", "html_url": "https://github.com/rgommers", "followers_url": "https://api.github.com/users/rgommers/followers", "following_url": "https://api.github.com/users/rgommers/following{/other_user}", "gists_url": "https://api.github.com/users/rgommers/gists{/gist_id}", "starred_url": "https://api.github.com/users/rgommers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rgommers/subscriptions", "organizations_url": "https://api.github.com/users/rgommers/orgs", "repos_url": "https://api.github.com/users/rgommers/repos", "events_url": "https://api.github.com/users/rgommers/events{/privacy}", "received_events_url": "https://api.github.com/users/rgommers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 1505960320, "node_id": "MDU6TGFiZWwxNTA1OTYwMzIw", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:fortran", "name": "language:fortran", "color": "5aabc4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/65", "html_url": "https://github.com/mesonbuild/meson/milestone/65", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/65/labels", "id": 6996725, "node_id": "MI_kwDOAS3iKM4AasL1", "number": 65, "title": "0.60.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 33, "state": "closed", "created_at": "2021-07-22T16:08:52Z", "updated_at": "2021-10-28T21:39:24Z", "due_on": null, "closed_at": "2021-10-27T15:46:23Z"}, "comments": 0, "created_at": "2021-09-14T20:24:53Z", "updated_at": "2021-09-20T05:25:21Z", "closed_at": "2021-09-20T05:25:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\ngh-9131 broke the SciPy build. Traceback:\r\n```\r\n[225/1400] Module scanner.\r\nFAILED: scipy/linalg/_fblas.cpython-39-x86_64-linux-gnu.so.p/depscan.dd \r\n/home/rgommers/anaconda3/envs/scipy-meson/bin/meson --internal depscan scipy/linalg/_fblas.cpython-39-x86_64-linux-gnu.so.p/_fblas.cpython-39-x86_64-linux-gnu.dat scipy/linalg/_fblas.cpython-39-x86_64-linux-gnu.so.p/depscan.dd /home/rgommers/code/bldscipy/build/scipy/linalg/_fblas.cpython-39-x86_64-linux-gnu.so.p/_fblas.cpython-39-x86_64-linux-gnu-deps.json\r\nTraceback (most recent call last):\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/bin/meson\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/mesonbuild/mesonmain.py\", line 326, in main\r\n    return run(sys.argv[1:], launcher)\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/mesonbuild/mesonmain.py\", line 314, in run\r\n    return run_script_command(args[1], args[2:])\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/mesonbuild/mesonmain.py\", line 262, in run_script_command\r\n    return module.run(script_args)\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/mesonbuild/scripts/depscan.py\", line 203, in run\r\n    return scanner.scan()\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/mesonbuild/scripts/depscan.py\", line 153, in scan\r\n    self.scan_file(s)\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/mesonbuild/scripts/depscan.py\", line 52, in scan_file\r\n    self.scan_fortran_file(fname)\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/mesonbuild/scripts/depscan.py\", line 61, in scan_fortran_file\r\n    for line in fpath.read_text(encoding='utf-8').split('\\n'):\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/pathlib.py\", line 1255, in read_text\r\n    with self.open(mode='r', encoding=encoding, errors=errors) as f:\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/pathlib.py\", line 1241, in open\r\n    return io.open(self, mode, buffering, encoding, errors, newline,\r\n  File \"/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/pathlib.py\", line 1109, in _opener\r\n    return self._accessor.open(self, flags, mode)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'scipy/linalg/_fblas-f2pywrappers.f'\r\n```\r\n\r\n**To Reproduce**\r\n\r\nThis can be reproduced by using these build instructions: https://github.com/rgommers/scipy/blob/meson/MESON_BUILD.md with Meson master.\r\n\r\nIt looks like gh-9131 fails to take into account generated files as dependencies. Relevant part of `meson.build` file (there's other parts of the build with the same pattern, it's generic to `f2py` usage, this is the first one that is hit):\r\n```python\r\n# fblas\r\nfblas_module = custom_target('fblas_module',\r\n  output : ['_fblasmodule.c', '_fblas-f2pywrappers.f'],\r\n  input : 'fblas.pyf.src',\r\n  command : [py3, generate_f2pymod, '@INPUT@', '-o', '@OUTDIR@'],\r\n)\r\n\r\npy3.extension_module('_fblas',\r\n  [fblas_module, fortranobject_c, g77_abi_wrappers],\r\n  c_args : numpy_nodepr_api,\r\n  include_directories : /b[inc_np, inc_f2py],\r\n  dependencies : [py3_dep, blas],\r\n  install : true,\r\n  link_language : 'fortran',\r\n  subdir : 'scipy/linalg')\r\n```\r\n\r\nI hope the above traceback is clear enough to pinpoint the problem, if not please let me know and I'll narrow it down to a self-contained example.\r\n\r\n\r\n**Expected behavior**\r\n\r\nBuild succeeds.\r\n\r\n**system parameters**\r\n* Native build\r\n* Linux and macOS\r\n* Python 3.9.0\r\n* `meson --version`: 0.59.99, commit 035df5369\r\n* `ninja --version`: 1.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9258/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9250", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9250/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9250/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9250/events", "html_url": "https://github.com/mesonbuild/meson/issues/9250", "id": 994717522, "node_id": "MDU6SXNzdWU5OTQ3MTc1MjI=", "number": 9250, "title": "[d] empty include directory when using include_directories('.') in meson.source_root()", "user": {"login": "Panke", "id": 31211, "node_id": "MDQ6VXNlcjMxMjEx", "avatar_url": "https://avatars.githubusercontent.com/u/31211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Panke", "html_url": "https://github.com/Panke", "followers_url": "https://api.github.com/users/Panke/followers", "following_url": "https://api.github.com/users/Panke/following{/other_user}", "gists_url": "https://api.github.com/users/Panke/gists{/gist_id}", "starred_url": "https://api.github.com/users/Panke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Panke/subscriptions", "organizations_url": "https://api.github.com/users/Panke/orgs", "repos_url": "https://api.github.com/users/Panke/repos", "events_url": "https://api.github.com/users/Panke/events{/privacy}", "received_events_url": "https://api.github.com/users/Panke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-09-13T10:23:29Z", "updated_at": "2022-02-06T22:16:55Z", "closed_at": "2022-02-06T22:16:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n**Describe the bug**\r\nIn my D project I need to always have the root source dir as an include-directory.\r\nThus I did\r\n```\r\n project_dep = declare_dependency(\r\n    include_directories: ['.'],\r\n)\r\n```\r\n\r\nand use it like this: \r\n```\r\nbix_lib = library(\r\n\t'bix',\r\n\t['bix.d'],\r\n    dependencies: [ project_dep]\r\n)\r\n```\r\n\r\nBut I get the following error using ldc:\r\n```\r\nldc2 -I=ex/mod/libbx.so.p -I=ex/mod -I=../ex/mod -I= -I=.. -I=subprojects -I=../subprojects -enable-color -wi -g -d-debug -relocation-model=pic -makedeps=ex/libbx.so.p/bx.d.o.deps -of=ex/libbx.so.p/bx.d.o -c ../ex/bx.d\r\nError: Expected argument to '-I'\r\n```\r\n\r\n**To Reproduce**\r\nAttached a tar ball reproducing the issue for me.\r\n[meson_issue.tar.gz](https://github.com/mesonbuild/meson/files/7153466/meson_issue.tar.gz)\r\n**Expected behavior**\r\n-I=. instead of -I=\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)?\r\nplain native\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.)\r\n linux (arch)\r\n* what Python version are you using e.g. 3.8.0\r\npython 3.9.6\r\n* what `meson --version`\r\n meson --version\r\n0.58.1\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9250/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9129", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9129/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9129/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9129/events", "html_url": "https://github.com/mesonbuild/meson/issues/9129", "id": 972554393, "node_id": "MDU6SXNzdWU5NzI1NTQzOTM=", "number": 9129, "title": "Response file needed for Fortran project on Linux", "user": {"login": "matcross", "id": 4477616, "node_id": "MDQ6VXNlcjQ0Nzc2MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4477616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matcross", "html_url": "https://github.com/matcross", "followers_url": "https://api.github.com/users/matcross/followers", "following_url": "https://api.github.com/users/matcross/following{/other_user}", "gists_url": "https://api.github.com/users/matcross/gists{/gist_id}", "starred_url": "https://api.github.com/users/matcross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matcross/subscriptions", "organizations_url": "https://api.github.com/users/matcross/orgs", "repos_url": "https://api.github.com/users/matcross/repos", "events_url": "https://api.github.com/users/matcross/events{/privacy}", "received_events_url": "https://api.github.com/users/matcross/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1505960320, "node_id": "MDU6TGFiZWwxNTA1OTYwMzIw", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:fortran", "name": "language:fortran", "color": "5aabc4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-08-17T10:50:19Z", "updated_at": "2021-08-18T18:58:46Z", "closed_at": "2021-08-18T18:58:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Inspired by #7212.\r\n\r\nA project with lots of Fortran source:\r\n\r\n```sh\r\n#!/bin/sh\r\nset -eu\r\nwork_dir=meson_toolong\r\nbuild_dir=b\r\nn=12000\r\nmkdir -p ${work_dir}\r\ncd ${work_dir}\r\nrm -rf ${build_dir}\r\n{\r\n  echo \"project('toolong', 'fortran')\"\r\n  echo \"srcs = [\"\r\n} > meson.build\r\nfor i in $(seq -w ${n})\r\ndo\r\n  src_file=f${i}.f90\r\n  {\r\n    echo \"Subroutine s${i}\"\r\n    echo \"End\"\r\n  } > \"${src_file}\"\r\n  echo \" '${src_file}',\" >> meson.build\r\ndone\r\n{\r\n  echo \"]\"\r\n  echo \"library('toolong', srcs)\"\r\n} >> meson.build\r\nmeson . ${build_dir}\r\ncd ${build_dir}\r\nninja -v\r\n```\r\n\r\ngives\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.59.0\r\nSource dir: /home/mat_cross/documents/Meson/resp/meson_toolong\r\nBuild dir: /home/mat_cross/documents/Meson/resp/meson_toolong/b\r\nBuild type: native build\r\nProject name: toolong\r\nProject version: undefined\r\nFortran compiler for the host machine: gfortran (gcc 11.2.1 \"GNU Fortran (GCC) 11.2.1 20210728 (Red Hat 11.2.1-1)\")\r\nFortran linker for the host machine: gfortran ld.bfd 2.35.2-4\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nBuild targets in project: 1\r\n\r\nFound ninja-1.10.2 at /usr/bin/ninja\r\nninja: fatal: posix_spawn: Argument list too long\r\n```\r\n\r\n(Python is 3.9.6).", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9129/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9057", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9057/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9057/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9057/events", "html_url": "https://github.com/mesonbuild/meson/pull/9057", "id": 958504303, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAxNzc4MzM2", "number": 9057, "title": "Fix using CustomTargetIndex as a cython source", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 3140427806, "node_id": "MDU6TGFiZWwzMTQwNDI3ODA2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:cython", "name": "language:cython", "color": "2ADCE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/64", "html_url": "https://github.com/mesonbuild/meson/milestone/64", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/64/labels", "id": 6957711, "node_id": "MI_kwDOAS3iKM4AaiqP", "number": 64, "title": "0.59.1", "description": null, "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2021-07-18T11:45:19Z", "updated_at": "2021-08-18T10:57:30Z", "due_on": null, "closed_at": "2021-08-18T10:57:30Z"}, "comments": 1, "created_at": "2021-08-02T21:02:36Z", "updated_at": "2021-08-03T21:03:37Z", "closed_at": "2021-08-03T21:03:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/9057", "html_url": "https://github.com/mesonbuild/meson/pull/9057", "diff_url": "https://github.com/mesonbuild/meson/pull/9057.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/9057.patch", "merged_at": "2021-08-03T21:03:34Z"}, "body": "We should have been using `.get_subdir()`, not `.subdir` as `CustomTargetIndex` classes don't have a `.subdir` attribute, just the `.get_subdir()` method.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9057/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9044", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9044/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9044/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9044/events", "html_url": "https://github.com/mesonbuild/meson/pull/9044", "id": 956440528, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwMDM2MDc5", "number": 9044, "title": "Fix native targets for vs backend cross compilation", "user": {"login": "GustavoLCR", "id": 23562137, "node_id": "MDQ6VXNlcjIzNTYyMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/23562137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GustavoLCR", "html_url": "https://github.com/GustavoLCR", "followers_url": "https://api.github.com/users/GustavoLCR/followers", "following_url": "https://api.github.com/users/GustavoLCR/following{/other_user}", "gists_url": "https://api.github.com/users/GustavoLCR/gists{/gist_id}", "starred_url": "https://api.github.com/users/GustavoLCR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GustavoLCR/subscriptions", "organizations_url": "https://api.github.com/users/GustavoLCR/orgs", "repos_url": "https://api.github.com/users/GustavoLCR/repos", "events_url": "https://api.github.com/users/GustavoLCR/events{/privacy}", "received_events_url": "https://api.github.com/users/GustavoLCR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983236977, "node_id": "MDU6TGFiZWwxOTgzMjM2OTc3", "url": "https://api.github.com/repos/mesonbuild/meson/labels/backend:visualstudio", "name": "backend:visualstudio", "color": "edc500", "default": false, "description": "Visual Studio project backends"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-07-30T06:18:17Z", "updated_at": "2021-08-12T00:28:28Z", "closed_at": "2021-08-09T18:27:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/9044", "html_url": "https://github.com/mesonbuild/meson/pull/9044", "diff_url": "https://github.com/mesonbuild/meson/pull/9044.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/9044.patch", "merged_at": "2021-08-09T18:27:10Z"}, "body": "This fixes the `.vcxproj` output for native targets during cross compilation using vs backends.\r\nTested by using the `vcvarsall.bat amd64_arm64` cross compilation toolchain and the `cross/arm64cl.txt` file.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9044/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9028", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9028/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9028/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9028/events", "html_url": "https://github.com/mesonbuild/meson/pull/9028", "id": 952064230, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2MzQyODI1", "number": 9028, "title": "ast: Add dummy \"support\" for fstrings in the ast package", "user": {"login": "mensinda", "id": 3407462, "node_id": "MDQ6VXNlcjM0MDc0NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3407462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mensinda", "html_url": "https://github.com/mensinda", "followers_url": "https://api.github.com/users/mensinda/followers", "following_url": "https://api.github.com/users/mensinda/following{/other_user}", "gists_url": "https://api.github.com/users/mensinda/gists{/gist_id}", "starred_url": "https://api.github.com/users/mensinda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mensinda/subscriptions", "organizations_url": "https://api.github.com/users/mensinda/orgs", "repos_url": "https://api.github.com/users/mensinda/repos", "events_url": "https://api.github.com/users/mensinda/events{/privacy}", "received_events_url": "https://api.github.com/users/mensinda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1710463117, "node_id": "MDU6TGFiZWwxNzEwNDYzMTE3", "url": "https://api.github.com/repos/mesonbuild/meson/labels/introspection", "name": "introspection", "color": "082375", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/64", "html_url": "https://github.com/mesonbuild/meson/milestone/64", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/64/labels", "id": 6957711, "node_id": "MI_kwDOAS3iKM4AaiqP", "number": 64, "title": "0.59.1", "description": null, "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2021-07-18T11:45:19Z", "updated_at": "2021-08-18T10:57:30Z", "due_on": null, "closed_at": "2021-08-18T10:57:30Z"}, "comments": 1, "created_at": "2021-07-24T12:17:16Z", "updated_at": "2021-07-25T18:38:49Z", "closed_at": "2021-07-25T18:36:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/9028", "html_url": "https://github.com/mesonbuild/meson/pull/9028", "diff_url": "https://github.com/mesonbuild/meson/pull/9028.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/9028.patch", "merged_at": "2021-07-25T18:36:52Z"}, "body": "Without this PR, introspection fails if any fstrings are present.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9028/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9003", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/9003/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/9003/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/9003/events", "html_url": "https://github.com/mesonbuild/meson/issues/9003", "id": 947447511, "node_id": "MDU6SXNzdWU5NDc0NDc1MTE=", "number": 9003, "title": "Deprecated features in FS module", "user": {"login": "SkyMaverick", "id": 7777402, "node_id": "MDQ6VXNlcjc3Nzc0MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/7777402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SkyMaverick", "html_url": "https://github.com/SkyMaverick", "followers_url": "https://api.github.com/users/SkyMaverick/followers", "following_url": "https://api.github.com/users/SkyMaverick/following{/other_user}", "gists_url": "https://api.github.com/users/SkyMaverick/gists{/gist_id}", "starred_url": "https://api.github.com/users/SkyMaverick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SkyMaverick/subscriptions", "organizations_url": "https://api.github.com/users/SkyMaverick/orgs", "repos_url": "https://api.github.com/users/SkyMaverick/repos", "events_url": "https://api.github.com/users/SkyMaverick/events{/privacy}", "received_events_url": "https://api.github.com/users/SkyMaverick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2838287339, "node_id": "MDU6TGFiZWwyODM4Mjg3MzM5", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:fs", "name": "module:fs", "color": "3AAA1C", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-07-19T09:15:50Z", "updated_at": "2021-08-04T14:47:48Z", "closed_at": "2021-08-04T14:47:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Meson code**\r\n\r\n```\r\nfilesystem = import('fs')\r\ntxt_file = fs.read(files('FILENAME'), encoding: 'utf-8')\r\n```\r\n\r\n**Meson output**\r\n```\r\nWARNING: Project targeting '>=0.58' but tried to use feature deprecated since '0.56.0': \r\nmeson.source_root. use meson.project_source_root() or meson.global_source_root() instead.\r\n...\r\nWARNING: Deprecated features used:\r\n * 0.56.0: {'meson.source_root'}\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/9003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/9003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8961", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8961/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8961/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8961/events", "html_url": "https://github.com/mesonbuild/meson/issues/8961", "id": 936462462, "node_id": "MDU6SXNzdWU5MzY0NjI0NjI=", "number": 8961, "title": "Cython does not respect dependency for generating `.pyx.c` file", "user": {"login": "rgommers", "id": 98330, "node_id": "MDQ6VXNlcjk4MzMw", "avatar_url": "https://avatars.githubusercontent.com/u/98330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rgommers", "html_url": "https://github.com/rgommers", "followers_url": "https://api.github.com/users/rgommers/followers", "following_url": "https://api.github.com/users/rgommers/following{/other_user}", "gists_url": "https://api.github.com/users/rgommers/gists{/gist_id}", "starred_url": "https://api.github.com/users/rgommers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rgommers/subscriptions", "organizations_url": "https://api.github.com/users/rgommers/orgs", "repos_url": "https://api.github.com/users/rgommers/repos", "events_url": "https://api.github.com/users/rgommers/events{/privacy}", "received_events_url": "https://api.github.com/users/rgommers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}, {"id": 3140427806, "node_id": "MDU6TGFiZWwzMTQwNDI3ODA2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:cython", "name": "language:cython", "color": "2ADCE4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2021-07-04T13:51:30Z", "updated_at": "2023-01-15T22:50:36Z", "closed_at": "2023-01-15T22:50:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nBuilding a Python extension from a generated Cython file (`_ufuncs.pyx`) fails with:\r\n```\r\n[1/539] Compiling Cython source scipy/special/_ufuncs.pyx\r\nFAILED: scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/scipy/special/_ufuncs.pyx.c \r\ncython --fast-fail -3 -o scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/scipy/special/_ufuncs.pyx.c scipy/special/_ufuncs.pyx\r\n\r\nError compiling Cython file:\r\n------------------------------------------------------------\r\n...\r\n# This file is automatically generated by _generate_pyx.py.\r\n# Do not edit manually!\r\n\r\ninclude \"_ufuncs_extra_code_common.pxi\"\r\n^\r\n------------------------------------------------------------\r\n```\r\n\r\nThe relevant `meson.build` content is:\r\n```python\r\n# Generates the `_ufuncs.pyx` file that fails to build later\r\n_generate_cy = custom_target('_generate_cy',\r\n  output : ['_ufuncs.pyx',\r\n            '_ufuncs_defs.h',\r\n            '_ufuncs_cxx.pyx',\r\n            '_ufuncs_cxx.pxd',\r\n            '_ufuncs_cxx_defs.h',\r\n            '_ufuncs.pyi',\r\n            'cython_special.pyx',\r\n            'cython_special.pxd'\r\n           ],\r\n  input : ['_generate_pyx.py', 'functions.json', 'add_newdocs.py'],\r\n  command : [py3, '@INPUT0@', '-o', '@OUTDIR@'],\r\n)\r\n\r\n# Simply copy over the files we need to the build dir\r\n_ufuncs_pxi_pxd_sources = custom_target('_ufuncs_pxi_pxd',\r\n  output : [\r\n    '__init__.py',\r\n    ...\r\n    '_ufuncs_extra_code.pxi',\r\n    '_ufuncs_extra_code_common.pxi',\r\n  ],\r\n  input : [\r\n    '__init__.py',\r\n    ...\r\n    '_ufuncs_extra_code.pxi',\r\n    '_ufuncs_extra_code_common.pxi',\r\n  ],\r\n  command : ['cp', '@INPUT@', '-t', '@OUTDIR@'],\r\n)\r\n\r\n# FIXME: the generated ninja.build file is missing the dependency between\r\n#       copying these files into the build dir and the `.pyx -> .c` stage.\r\n#       For the `.c -> .so` stage the dependency (see `||` in the `build.ninja`\r\n#       file) is picked up correctly. This only shows up when running the build\r\n#       with `-j 1` (when the steps are run in parallel, the copying of sources\r\n#       seems to always happen quickly enough. This will likely only be fixed\r\n#       by the \"structured sources\" PR on the Meson repo.\r\n_ufuncs_pxi_pxd_dep = declare_dependency(sources: _ufuncs_pxi_pxd_sources)\r\n\r\npy3.extension_module('_ufuncs',\r\n  [ufuncs_sources, _generate_cy[0], _dummy_init],\r\n  c_args : [numpy_nodepr_api, use_math_defines],\r\n  include_directories: [inc_np, '../_lib', '../_build_utils/src'],\r\n  dependencies : [py3_dep, lapack, npymath_lib, _ufuncs_pxi_pxd_dep],  # We have the right dependency here\r\n  link_with: [\r\n    amos_lib,\r\n    cdflib_lib,\r\n    cephes_lib,\r\n    mach_lib,\r\n    specfun_lib,\r\n  ],\r\n  install : true,\r\n  subdir : 'scipy/special'\r\n)\r\n```\r\n\r\nWhat seems to be happening is that a ninja order dependency goes missing. These are the build rules generated:\r\n```ninja\r\n\r\nbuild scipy/special/_ufuncs.pyx scipy/special/_ufuncs_defs.h scipy/special/_ufuncs_cxx.pyx scipy/special/_ufuncs_cxx.pxd scipy/special/_ufuncs_cxx_defs.h scipy/special/_ufuncs.pyi scipy/special/cython_special.pyx scipy/special/cython_special.pxd: CUSTOM_COMMAND ../scipy/special/_generate_pyx.py ../scipy/special/functions.json ../scipy/special/add_newdocs.py | /home/rgommers/anaconda3/envs/scipy-meson/bin/python3.9\r\n COMMAND = /home/rgommers/anaconda3/envs/scipy-meson/bin/python3.9 ../scipy/special/_generate_pyx.py -o scipy/special\r\n description = Generating$ _generate_cy$ with$ a$ custom$ command\r\n\r\nbuild scipy/special/__init__.py scipy/special/_agm.pxd scipy/special/_boxcox.pxd scipy/special/_cephes.pxd scipy/special/_complexstuff.pxd scipy/special/_convex_analysis.pxd scipy/special/_cunity.pxd scipy/special/_digamma.pxd scipy/special/_ellip_harm.pxd scipy/special/_ellip_harm_2.pxd scipy/special/_ellipk.pxd scipy/special/_evalpoly.pxd scipy/special/_exprel.pxd scipy/special/_factorial.pxd scipy/special/_hyp0f1.pxd scipy/special/_hypergeometric.pxd scipy/special/_lambertw.pxd scipy/special/_legacy.pxd scipy/special/_loggamma.pxd scipy/special/_ndtri_exp.pxd scipy/special/_sici.pxd scipy/special/_spence.pxd scipy/special/_spherical_bessel.pxd scipy/special/_trig.pxd scipy/special/_wright_bessel.pxd scipy/special/_xlogy.pxd scipy/special/orthogonal_eval.pxd scipy/special/sf_error.pxd scipy/special/sph_harm.pxd scipy/special/_cython_special.pxi scipy/special/_cython_special_custom.pxi scipy/special/_ufuncs_extra_code.pxi scipy/special/_ufuncs_extra_code_common.pxi: CUSTOM_COMMAND ../scipy/special/__init__.py ../scipy/special/_agm.pxd ../scipy/special/_boxcox.pxd ../scipy/special/_cephes.pxd ../scipy/special/_complexstuff.pxd ../scipy/special/_convex_analysis.pxd ../scipy/special/_cunity.pxd ../scipy/special/_digamma.pxd ../scipy/special/_ellip_harm.pxd ../scipy/special/_ellip_harm_2.pxd ../scipy/special/_ellipk.pxd ../scipy/special/_evalpoly.pxd ../scipy/special/_exprel.pxd ../scipy/special/_factorial.pxd ../scipy/special/_hyp0f1.pxd ../scipy/special/_hypergeometric.pxd ../scipy/special/_lambertw.pxd ../scipy/special/_legacy.pxd ../scipy/special/_loggamma.pxd ../scipy/special/_ndtri_exp.pxd ../scipy/special/_sici.pxd ../scipy/special/_spence.pxd ../scipy/special/_spherical_bessel.pxd ../scipy/special/_trig.pxd ../scipy/special/_wright_bessel.pxd ../scipy/special/_xlogy.pxd ../scipy/special/orthogonal_eval.pxd ../scipy/special/sf_error.pxd ../scipy/special/sph_harm.pxd ../scipy/special/_cython_special.pxi ../scipy/special/_cython_special_custom.pxi ../scipy/special/_ufuncs_extra_code.pxi ../scipy/special/_ufuncs_extra_code_common.pxi | /usr/bin/cp\r\n COMMAND = /usr/bin/cp ../scipy/special/__init__.py ../scipy/special/_agm.pxd ../scipy/special/_boxcox.pxd ../scipy/special/_cephes.pxd ../scipy/special/_complexstuff.pxd ../scipy/special/_convex_analysis.pxd ../scipy/special/_cunity.pxd ../scipy/special/_digamma.pxd ../scipy/special/_ellip_harm.pxd ../scipy/special/_ellip_harm_2.pxd ../scipy/special/_ellipk.pxd ../scipy/special/_evalpoly.pxd ../scipy/special/_exprel.pxd ../scipy/special/_factorial.pxd ../scipy/special/_hyp0f1.pxd ../scipy/special/_hypergeometric.pxd ../scipy/special/_lambertw.pxd ../scipy/special/_legacy.pxd ../scipy/special/_loggamma.pxd ../scipy/special/_ndtri_exp.pxd ../scipy/special/_sici.pxd ../scipy/special/_spence.pxd ../scipy/special/_spherical_bessel.pxd ../scipy/special/_trig.pxd ../scipy/special/_wright_bessel.pxd ../scipy/special/_xlogy.pxd ../scipy/special/orthogonal_eval.pxd ../scipy/special/sf_error.pxd ../scipy/special/sph_harm.pxd ../scipy/special/_cython_special.pxi ../scipy/special/_cython_special_custom.pxi ../scipy/special/_ufuncs_extra_code.pxi ../scipy/special/_ufuncs_extra_code_common.pxi -t scipy/special\r\n description = Generating$ _ufuncs_pxi_pxd$ with$ a$ custom$ command\r\n\r\n\r\nbuild scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/scipy/special/_ufuncs.pyx.c: cython_COMPILER scipy/special/_ufuncs.pyx\r\n ARGS = --fast-fail -3 -o scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/scipy/special/_ufuncs.pyx.c\r\n\r\nbuild scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/meson-generated_scipy_special__ufuncs.pyx.c.o: c_COMPILER scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/scipy/special/_ufuncs.pyx.c || scipy/__init__.py scipy/special/__init__.py scipy/special/_agm.pxd scipy/special/_boxcox.pxd scipy/special/_cephes.pxd scipy/special/_complexstuff.pxd scipy/special/_convex_analysis.pxd scipy/special/_cunity.pxd scipy/special/_cython_special.pxi scipy/special/_cython_special_custom.pxi scipy/special/_digamma.pxd scipy/special/_ellip_harm.pxd scipy/special/_ellip_harm_2.pxd scipy/special/_ellipk.pxd scipy/special/_evalpoly.pxd scipy/special/_exprel.pxd scipy/special/_factorial.pxd scipy/special/_hyp0f1.pxd scipy/special/_hypergeometric.pxd scipy/special/_lambertw.pxd scipy/special/_legacy.pxd scipy/special/_loggamma.pxd scipy/special/_ndtri_exp.pxd scipy/special/_sici.pxd scipy/special/_spence.pxd scipy/special/_spherical_bessel.pxd scipy/special/_trig.pxd scipy/special/_ufuncs_extra_code.pxi scipy/special/_ufuncs_extra_code_common.pxi scipy/special/_wright_bessel.pxd scipy/special/_xlogy.pxd scipy/special/orthogonal_eval.pxd scipy/special/sf_error.pxd scipy/special/sph_harm.pxd\r\n DEPFILE = scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/meson-generated_scipy_special__ufuncs.pyx.c.o.d\r\n DEPFILE_UNQUOTED = scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/meson-generated_scipy_special__ufuncs.pyx.c.o.d\r\n ARGS = -Iscipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p -Iscipy/special -I../scipy/special -I/home/rgommers/anaconda3/envs/scipy-meson/lib/python3.9/site-packages/numpy/core/include -Iscipy/_lib -I../scipy/_lib -I../scipy/_build_utils/src -Iscipy -I/home/rgommers/anaconda3/envs/scipy-meson/include/python3.9 -I/home/rgommers/anaconda3/envs/scipy-meson/include -fdiagnostics-color=always -D_FILE_OFFSET_BITS=64 -w -std=c99 -O2 -g -Wno-unused-function -Wno-conversion -Wno-unused-but-set-variable -Wno-misleading-indentation -Wno-incompatible-pointer-types -fPIC -DNPY_NO_DEPRECATED_API=NPY_1_9_API_VERSION\r\n```\r\n\r\nIf I inspect the files in the build dir, the `.pxi` files are indeed missing:\r\n```bash\r\n$ ls build/scipy/special\r\n_comb.cpython-39-x86_64-linux-gnu.so.p           _precompute\r\ncython_special.cpython-39-x86_64-linux-gnu.so.p  specfun.cpython-39-x86_64-linux-gnu.so\r\ncython_special.pxd                               specfun.cpython-39-x86_64-linux-gnu.so.p\r\ncython_special.pyx                               specfunmodule.c\r\n_ellip_harm_2.cpython-39-x86_64-linux-gnu.so.p   _test_round.cpython-39-x86_64-linux-gnu.so.p\r\nlibamos.a                                        tests\r\nlibamos.a.p                                      _ufuncs.cpython-39-x86_64-linux-gnu.so.p\r\nlibcdflib.a                                      _ufuncs_cxx.cpython-39-x86_64-linux-gnu.so.p\r\nlibcdflib.a.p                                    _ufuncs_cxx_defs.h\r\nlibcephes.a                                      _ufuncs_cxx.pxd\r\nlibcephes.a.p                                    _ufuncs_cxx.pyx\r\nlibmach.a                                        _ufuncs_defs.h\r\nlibmach.a.p                                      _ufuncs.pyi\r\nlibspecfun.a                                     _ufuncs.pyx\r\nlibspecfun.a.p\r\n```\r\n\r\nIf I understand what Ninja is doing correctly, this line:\r\n```ninja\r\nbuild scipy/special/_ufuncs.cpython-39-x86_64-linux-gnu.so.p/scipy/special/_ufuncs.pyx.c: cython_COMPILER scipy/special/_ufuncs.pyx\r\n```\r\nis missing the `|| scipy/__init__.py .... scipy/special/_ufuncs_extra_code_common.pxi ...` order dependency that the next line does have.\r\n\r\n**To Reproduce**\r\n\r\nI can write a standalone test case, but given that it's a bit of work and I'm not 100% sure what the best way is to write a test for such a timing sensitive order dependency issue, I wanted to describe my actual failure first. Should the test case use `-j 1`, somehow inspect the generated ninja build rules, or something else? \r\n\r\nIn the mean time, this is reproducible from https://github.com/rgommers/scipy/tree/meson-issue-ufuncs-pyx with:\r\n```bash\r\nconda env create -f environment.yml\r\nconda activate scipy-dev\r\npython -m pip install git+https://github.com/mesonbuild/meson.git@master\r\n\r\nmeson setup build --prefix=$PWD/installdir\r\nninja -C build -j 1  # it's timing-dependent, so build with 1 job to avoid that\r\n```\r\n\r\n**Expected behavior**\r\nBuild should respect order dependency, and hence Cython should not fail on a missing `.pxi` file that is a dependency.\r\n\r\n**system parameters**\r\n* native build\r\n* operating system: Arch Linux\r\n* Python version: 3.9.2\r\n* `meson --version`: 0.58.999\r\n* `ninja --version`: 1.10.2\r\n\r\n\r\n@dcbaker I know gh-8775 is supposed to address this in the long term, but I believe there will still be cases where we will need `custom_target` in combination with compiling Cython code - we have a lot of different cases where we codegen `.pyx` or `.pxd` files. ~EDIT: we also need it for adding `--cplus` for example.~", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8961/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8961/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8920", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8920/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8920/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8920/events", "html_url": "https://github.com/mesonbuild/meson/issues/8920", "id": 927519129, "node_id": "MDU6SXNzdWU5Mjc1MTkxMjk=", "number": 8920, "title": "qt preprocess calls individual functions, triggering incorrect FeatureNew calls", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 3050753856, "node_id": "MDU6TGFiZWwzMDUwNzUzODU2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:qt", "name": "module:qt", "color": "0A2172", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/62", "html_url": "https://github.com/mesonbuild/meson/milestone/62", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/62/labels", "id": 6734378, "node_id": "MDk6TWlsZXN0b25lNjczNDM3OA==", "number": 62, "title": "0.59.0", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 26, "state": "closed", "created_at": "2021-05-06T18:50:57Z", "updated_at": "2021-10-01T20:55:29Z", "due_on": null, "closed_at": "2021-07-18T12:31:45Z"}, "comments": 0, "created_at": "2021-06-22T18:24:25Z", "updated_at": "2021-06-27T20:59:40Z", "closed_at": "2021-06-27T20:59:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8920/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8876", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8876/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8876/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8876/events", "html_url": "https://github.com/mesonbuild/meson/issues/8876", "id": 919872932, "node_id": "MDU6SXNzdWU5MTk4NzI5MzI=", "number": 8876, "title": "gnome.generate_gir incorrectly filters clang cflags like -W , passed to g-ir-scanner, and gcc fails", "user": {"login": "bootchk", "id": 702481, "node_id": "MDQ6VXNlcjcwMjQ4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/702481?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bootchk", "html_url": "https://github.com/bootchk", "followers_url": "https://api.github.com/users/bootchk/followers", "following_url": "https://api.github.com/users/bootchk/following{/other_user}", "gists_url": "https://api.github.com/users/bootchk/gists{/gist_id}", "starred_url": "https://api.github.com/users/bootchk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bootchk/subscriptions", "organizations_url": "https://api.github.com/users/bootchk/orgs", "repos_url": "https://api.github.com/users/bootchk/repos", "events_url": "https://api.github.com/users/bootchk/events{/privacy}", "received_events_url": "https://api.github.com/users/bootchk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2423082217, "node_id": "MDU6TGFiZWwyNDIzMDgyMjE3", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:gnome", "name": "module:gnome", "color": "d1ab23", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-06-13T20:12:27Z", "updated_at": "2022-10-01T07:14:50Z", "closed_at": "2021-08-09T18:43:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe symptom is that, using clang, meson calls g-ir-scanner which calls gcc which fails with something like\r\n\r\n```\r\n \"gcc: error: unrecognized command-line option ... -Wsometimes-unitialized\"\r\n ```\r\n\r\n It seems that gnome.generate_gir is passing clang specific c flags to generate warnings, but g-ir-scanner calls gcc,\r\n and gcc fails, not recognizing flags specific to clang compiler.\r\n\r\n**To Reproduce**\r\n\r\nThe case is a meson build of the GIMP app v2.99, using clang, on Linux, Alpine or Ubuntu.\r\n\r\n**Analysis and suggested fix**\r\n\r\nIn the code for gnome.generate_gir there is this:\r\n\r\n```\r\ndef _get_scanner_cflags(cflags):\r\n        'g-ir-scanner only accepts -I/-D/-U; must ignore all other flags'\r\n        for f in cflags:\r\n            if f.startswith(('-D', '-U', '-I')):\r\n                yield f\r\n```\r\n\r\nSo it seems that the intent is to filter out all the -W flags.\r\n\r\nBut later:\r\n\r\n```\r\n        cflags, internal_ldflags, external_ldflags = self._get_langs_compilers_flags(state, langs_compilers)\r\n        ...omitted...\r\n        dep_cflags, dep_internal_ldflags, dep_external_ldflags, gi_includes = \\\r\n            self._get_dependencies_flags(deps, state, depends, use_gir_args=True)\r\n        cflags += list(self._get_scanner_cflags(dep_cflags))\r\n```\r\n\r\nIn the above, cflags is initially an unfiltered list of cflags, and then the code appends more cflags\r\nthat are filtered by calls to _get_scanner_cflags().\r\n\r\nI believe a fix is to add one line like so:\r\n\r\n```\r\ncflags, internal_ldflags, external_ldflags = self._get_langs_compilers_flags(state, langs_compilers)\r\ncflags = list(self._get_scanner_cflags(cflags))\r\n```\r\n\r\nThat is, immediately filter the initial contents of the variable cflag.\r\n\r\nI tested this fix minimally, only to build GIMP.\r\nThe meson build of GIMP is \"experimental\", not used for releases.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8876/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8827", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8827/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8827/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8827/events", "html_url": "https://github.com/mesonbuild/meson/issues/8827", "id": 909978478, "node_id": "MDU6SXNzdWU5MDk5Nzg0Nzg=", "number": 8827, "title": "subproject as symbolic link triggers Sandbox violation: file outside current (sub) project.", "user": {"login": "itldo", "id": 5800639, "node_id": "MDQ6VXNlcjU4MDA2Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/5800639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itldo", "html_url": "https://github.com/itldo", "followers_url": "https://api.github.com/users/itldo/followers", "following_url": "https://api.github.com/users/itldo/following{/other_user}", "gists_url": "https://api.github.com/users/itldo/gists{/gist_id}", "starred_url": "https://api.github.com/users/itldo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itldo/subscriptions", "organizations_url": "https://api.github.com/users/itldo/orgs", "repos_url": "https://api.github.com/users/itldo/repos", "events_url": "https://api.github.com/users/itldo/events{/privacy}", "received_events_url": "https://api.github.com/users/itldo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/77", "html_url": "https://github.com/mesonbuild/meson/milestone/77", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/77/labels", "id": 7729703, "node_id": "MI_kwDOAS3iKM4AdfIn", "number": 77, "title": "0.63.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2022-03-02T17:53:37Z", "updated_at": "2022-07-05T15:52:44Z", "due_on": null, "closed_at": "2022-07-05T15:52:44Z"}, "comments": 7, "created_at": "2021-06-03T00:16:36Z", "updated_at": "2022-06-01T19:32:54Z", "closed_at": "2022-06-01T19:32:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA subproject implemented as a symbolic link to another directory causes a false Sandbox violation.\r\n\r\n**To Reproduce**\r\nCreate a symbolic link under subprojects/ which links to a directory containing a typical subproject with source files.\r\n\r\nFor example:\r\n\r\n```\r\n/top/main_project/subdir/meson.build\r\n/top/main_project/subdir/src/main.cpp\r\n/top/main_project/subprojects/mysubproject --> /top/main_project/subdir\r\n```\r\n\r\nRun 'meson setup <builddir>'\r\nObserve:\r\n\r\n`subprojects/mysubproject/meson.build:30:0: ERROR: Sandbox violation: Tried to grab file main.cpp outside current (sub)project.\r\n`\r\nThe code that triggers the error is\r\nin mesonbuild/interpreter/interpreter.py:\r\n\r\n```\r\n  2681         if project_root not in norm.parents:\r\n  2682             raise InterpreterException(f'Sandbox violation: Tried to grab {inputtype} {norm.name} outside current (sub)project.')\r\n```\r\nbased on the following values:\r\n\r\n```\r\nmysubproject| srcdir: <path to top-level dir> e.g  /top/main_project\r\nmysubproject| norm: <absolute path to source file> e.g. /top/main_project/subdir/src/main.cpp\r\nmysubproject| project_root: <absolute path to subproject mysubproject symbolic link> e.g  /top/main_project/subprojects/mysubproject\r\n```\r\nNote that the (sub) project_root, which is a symbolic link is not \".resolve()\" 'd like the norm path is.\r\nAnd the following change allows this to work as expected.\r\n\r\n```\r\n< 2680         project_root = Path(srcdir, self.root_subdir)\r\n> 2680         project_root = Path(srcdir, self.root_subdir).resolve()\r\n\r\n```\r\n\r\n**Expected behavior**\r\nI expect to be able to use symbolic links to subproject directories without a Sandbox violation.\r\n\r\n**system parameters**\r\n*  plain native build (for the same computer)\r\n* Debian 7\r\n* Python 3.6\r\n* `meson --version` 0.58.0, but started with at least 0.57.2\r\n* `ninja --version`1.8.2\r\n\r\n\r\nThanks\r\n-tim", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8827/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8827/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8818", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8818/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8818/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8818/events", "html_url": "https://github.com/mesonbuild/meson/issues/8818", "id": 908136030, "node_id": "MDU6SXNzdWU5MDgxMzYwMzA=", "number": 8818, "title": "'meson scan-build' is broken", "user": {"login": "mcatanzaro", "id": 1424966, "node_id": "MDQ6VXNlcjE0MjQ5NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1424966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcatanzaro", "html_url": "https://github.com/mcatanzaro", "followers_url": "https://api.github.com/users/mcatanzaro/followers", "following_url": "https://api.github.com/users/mcatanzaro/following{/other_user}", "gists_url": "https://api.github.com/users/mcatanzaro/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcatanzaro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcatanzaro/subscriptions", "organizations_url": "https://api.github.com/users/mcatanzaro/orgs", "repos_url": "https://api.github.com/users/mcatanzaro/repos", "events_url": "https://api.github.com/users/mcatanzaro/events{/privacy}", "received_events_url": "https://api.github.com/users/mcatanzaro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/62", "html_url": "https://github.com/mesonbuild/meson/milestone/62", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/62/labels", "id": 6734378, "node_id": "MDk6TWlsZXN0b25lNjczNDM3OA==", "number": 62, "title": "0.59.0", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 26, "state": "closed", "created_at": "2021-05-06T18:50:57Z", "updated_at": "2021-10-01T20:55:29Z", "due_on": null, "closed_at": "2021-07-18T12:31:45Z"}, "comments": 22, "created_at": "2021-06-01T10:15:01Z", "updated_at": "2021-07-02T14:18:03Z", "closed_at": "2021-07-02T14:18:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nFrom #8707, `meson scan-build` is broken since https://github.com/mesonbuild/meson/commit/e81acbd6069e8c1ae8e3be7bb83ddc239009d42d. ~~This commit should be reverted.~~ Sorry, I see the regression from that commit was already fixed, and the real commit that introduced this bug is hidden by that one....\r\n\r\n**To Reproduce**\r\nSee #8707\r\n\r\n**Expected behavior**\r\nSee #8707\r\n\r\n**system parameters**\r\nSee #8707\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8818/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8746", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8746/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8746/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8746/events", "html_url": "https://github.com/mesonbuild/meson/issues/8746", "id": 880975008, "node_id": "MDU6SXNzdWU4ODA5NzUwMDg=", "number": 8746, "title": "shared_module() builds a module with SONAME field while it is not a shared_library()", "user": {"login": "mjt0k", "id": 51505912, "node_id": "MDQ6VXNlcjUxNTA1OTEy", "avatar_url": "https://avatars.githubusercontent.com/u/51505912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjt0k", "html_url": "https://github.com/mjt0k", "followers_url": "https://api.github.com/users/mjt0k/followers", "following_url": "https://api.github.com/users/mjt0k/following{/other_user}", "gists_url": "https://api.github.com/users/mjt0k/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjt0k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjt0k/subscriptions", "organizations_url": "https://api.github.com/users/mjt0k/orgs", "repos_url": "https://api.github.com/users/mjt0k/repos", "events_url": "https://api.github.com/users/mjt0k/events{/privacy}", "received_events_url": "https://api.github.com/users/mjt0k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-05-08T15:46:32Z", "updated_at": "2021-07-18T12:02:39Z", "closed_at": "2021-07-18T12:02:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "For an ELF targets (eg gcc on linux), shared_module() meson function builds a module with SONAME field (using -Wl,-soname argument). This is wrong, - only the shared_library() needs SONAME, while shared_module() does not. More, some tools - e.g. debian's dpkg-shlibdeps - uses presence of SONAME field as an indicator that this is shared _library_ (as opposed to shared module - for the module it is okay to have unresolved symbols which are imported from the executable which loads the module, while a library should have all symbols resolved).\r\n\r\nIt'd be very nice if meson will not use -soname when building shared_module(), -soname should be used only for shared_library().", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8746/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8744", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8744/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8744/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8744/events", "html_url": "https://github.com/mesonbuild/meson/issues/8744", "id": 880674958, "node_id": "MDU6SXNzdWU4ODA2NzQ5NTg=", "number": 8744, "title": "0.58.0: install target fails in gtkdoc helper script", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/61", "html_url": "https://github.com/mesonbuild/meson/milestone/61", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/61/labels", "id": 6728325, "node_id": "MDk6TWlsZXN0b25lNjcyODMyNQ==", "number": 61, "title": "0.58.1", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2021-05-05T04:29:00Z", "updated_at": "2021-07-18T12:31:48Z", "due_on": null, "closed_at": "2021-07-18T12:31:48Z"}, "comments": 7, "created_at": "2021-05-08T11:09:16Z", "updated_at": "2021-05-12T19:54:39Z", "closed_at": "2021-05-12T19:54:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrade from 0.57.2 to 0.58.0 I've started noticing strange issues in few projects like grillo and vte.\r\n`install` targe fails with:\r\n```console\r\n+ cd grilo-0.3.13\r\n+ DESTDIR=/home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64\r\n+ /usr/bin/meson install -C x86_64-redhat-linux-gnu --no-rebuild\r\nInstalling src/libgrilo-0.3.so.0.313.1 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64\r\nInstalling src/Grl-0.3.gir to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/gir-1.0\r\nInstalling src/Grl-0.3.typelib to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64/girepository-1.0\r\nInstalling libs/net/libgrlnet-0.3.so.0.313.0 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64\r\nInstalling libs/net/GrlNet-0.3.gir to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/gir-1.0\r\nInstalling libs/net/GrlNet-0.3.typelib to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64/girepository-1.0\r\nInstalling libs/pls/libgrlpls-0.3.so.0.313.0 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64\r\nInstalling libs/pls/GrlPls-0.3.gir to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/gir-1.0\r\nInstalling libs/pls/GrlPls-0.3.typelib to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64/girepository-1.0\r\nInstalling bindings/vala/grilo-0.3.vapi to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/vala/vapi\r\nInstalling bindings/vala/grilo-net-0.3.vapi to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/vala/vapi\r\nInstalling tools/grilo-inspect/grl-inspect-0.3 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/bin\r\nInstalling tools/grilo-launch/grl-launch-0.3 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/bin\r\nInstalling tools/grilo-test-ui/grilo-test-ui-0.3 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/bin\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/data/grl-config.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/data/grl-data.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/data/grl-media.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/data/grl-related-keys.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grilo.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-caps.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-definitions.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-error.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-log.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-metadata-key.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-multiple.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-operation-options.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-operation.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-plugin.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-range-value.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-registry.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-source.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-util.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src/grl-value-helper.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/libs/net/grl-net.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3/net\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/libs/net/grl-net-wc.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3/net\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/libs/pls/grl-pls.h to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/include/grilo-0.3/pls\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/man/grilo-test-ui-0.3.1 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/man/man1\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/man/grl-inspect-0.3.1 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/man/man1\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/man/grl-launch-0.3.1 to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/man/man1\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/meson-private/grilo-0.3.pc to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64/pkgconfig\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/meson-private/grilo-net-0.3.pc to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64/pkgconfig\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/meson-private/grilo-pls-0.3.pc to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/lib64/pkgconfig\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/meson-private/grilo-0.3.deps to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/vala/vapi\r\nInstalling /home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/meson-private/grilo-net-0.3.deps to /home/tkloczko/rpmbuild/BUILDROOT/grilo-0.3.13-4.fc35.x86_64/usr/share/vala/vapi\r\nRunning custom install script '/usr/bin/meson --internal gettext install --subdir=po --localedir=share/locale --pkgname=grilo'\r\nRunning custom install script '/usr/bin/meson --internal gtkdoc --sourcedir=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13 --builddir=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu --subdir=doc/grilo --headerdirs=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/libs --mainfile=grilo-docs.sgml --modulename=grilo --moduleversion= --mode=auto --gtkdoc-scan=/usr/bin/gtkdoc-scan --gtkdoc-scangobj=/usr/bin/gtkdoc-scangobj --gtkdoc-mkdb=/usr/bin/gtkdoc-mkdb --gtkdoc-mkhtml=/usr/bin/gtkdoc-mkhtml --gtkdoc-fixxref=/usr/bin/gtkdoc-fixxref --scanargs=--ignore-headers=grl-sync-priv.h grl-sync-priv.h grl-log-priv.h grl-metadata-key-priv.h grl-registry-priv.h grl-plugin-priv.h grl-operation-priv.h grl-operation-options-priv.h --gobjects-types-file=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/doc/grilo/grilo.types --content-files=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/environment-setup.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/plugins-sources.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/plugins-testing.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/quick-start.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/writing-apps.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/overview.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/configuring-plugins.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/browsing.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/searching.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/multivalues.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/efficient-metadata-resolution.c --cc=/usr/bin/gcc --ld=/usr/bin/gcc --cflags=-I@BUILD_ROOT@/src/. -I@SOURCE_ROOT@/src/. -I@BUILD_ROOT@/src/data -I@SOURCE_ROOT@/src/data -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -pthread -I/usr/include/libxml2 -O2 -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none --ldflags=-L/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/src -Wl,-rpath,/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/src -lgrilo-0.3 -lglib-2.0 -lgobject-2.0 -lgmodule-2.0 -pthread -lgio-2.0 -lxml2 -Wl,-z,relro -Wl,--as-needed -Wl,--gc-sections -Wl,-z,now -specs=/usr/lib/rpm/redhat/redhat-hardened-ld -flto=auto -flto-partition=none -fuse-linker-plugin -O2 -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none'\r\n--- stdout ---\r\nBuilding documentation for grilo\r\nERROR: Error in gtkdoc helper script:\r\n\r\nERROR: ['/usr/bin/gtkdoc-scangobj', '--types=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/doc/grilo/grilo.types', '--module=grilo', '--run=', '--cflags=-I@BUILD_ROOT@/src/. -I@SOURCE_ROOT@/src/. -I@BUILD_ROOT@/src/data -I@SOURCE_ROOT@/src/data -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -pthread -I/usr/include/libxml2 -O2 -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none', '--ldflags=-L/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/src -Wl,-rpath,/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/src -lgrilo-0.3 -lglib-2.0 -lgobject-2.0 -lgmodule-2.0 -pthread -lgio-2.0 -lxml2 -Wl,-z,relro -Wl,--as-needed -Wl,--gc-sections -Wl,-z,now -specs=/usr/lib/rpm/redhat/redhat-hardened-ld -flto=auto -flto-partition=none -fuse-linker-plugin -O2 -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none', '--cc=/usr/bin/gcc', '--ld=/usr/bin/gcc', '--output-dir=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/doc/grilo'] failed with status 1\r\ngrilo-scan.c:13:10: fatal error: grilo.h: No such file or directory\r\n   13 | #include <grilo.h>\r\n      |          ^~~~~~~~~\r\ncompilation terminated.\r\n2021-05-08 12:06:20,874:scangobj.py:execute_command:1289:WARNING:Compiling scanner failed: 1, command: /usr/bin/gcc -I@BUILD_ROOT@/src/. -I@SOURCE_ROOT@/src/. -I@BUILD_ROOT@/src/data -I@SOURCE_ROOT@/src/data -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -pthread -I/usr/include/libxml2 -O2 -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none -c -o grilo-scan.o grilo-scan.c\r\n\r\n\r\n--- stderr ---\r\n\r\nFAILED: install script '/usr/bin/meson --internal gtkdoc --sourcedir=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13 --builddir=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu --subdir=doc/grilo --headerdirs=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/src@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/libs --mainfile=grilo-docs.sgml --modulename=grilo --moduleversion= --mode=auto --gtkdoc-scan=/usr/bin/gtkdoc-scan --gtkdoc-scangobj=/usr/bin/gtkdoc-scangobj --gtkdoc-mkdb=/usr/bin/gtkdoc-mkdb --gtkdoc-mkhtml=/usr/bin/gtkdoc-mkhtml --gtkdoc-fixxref=/usr/bin/gtkdoc-fixxref --scanargs=--ignore-headers=grl-sync-priv.h grl-sync-priv.h grl-log-priv.h grl-metadata-key-priv.h grl-registry-priv.h grl-plugin-priv.h grl-operation-priv.h grl-operation-options-priv.h --gobjects-types-file=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/doc/grilo/grilo.types --content-files=/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/environment-setup.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/plugins-sources.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/plugins-testing.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/quick-start.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/writing-apps.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/doc/grilo/overview.xml@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/configuring-plugins.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/browsing.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/searching.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/multivalues.c@@/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/examples/efficient-metadata-resolution.c --cc=/usr/bin/gcc --ld=/usr/bin/gcc --cflags=-I@BUILD_ROOT@/src/. -I@SOURCE_ROOT@/src/. -I@BUILD_ROOT@/src/data -I@SOURCE_ROOT@/src/data -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -pthread -I/usr/include/libxml2 -O2 -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none --ldflags=-L/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/src -Wl,-rpath,/home/tkloczko/rpmbuild/BUILD/grilo-0.3.13/x86_64-redhat-linux-gnu/src -lgrilo-0.3 -lglib-2.0 -lgobject-2.0 -lgmodule-2.0 -pthread -lgio-2.0 -lxml2 -Wl,-z,relro -Wl,--as-needed -Wl,--gc-sections -Wl,-z,now -specs=/usr/lib/rpm/redhat/redhat-hardened-ld -flto=auto -flto-partition=none -fuse-linker-plugin -O2 -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection -fdata-sections -ffunction-sections -flto=auto -flto-partition=none' exit code 1, stopped\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8716", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8716/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8716/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8716/events", "html_url": "https://github.com/mesonbuild/meson/issues/8716", "id": 873497828, "node_id": "MDU6SXNzdWU4NzM0OTc4Mjg=", "number": 8716, "title": "Cannot link to built Vala shared library when using MSVC", "user": {"login": "Prince781", "id": 1341033, "node_id": "MDQ6VXNlcjEzNDEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1341033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Prince781", "html_url": "https://github.com/Prince781", "followers_url": "https://api.github.com/users/Prince781/followers", "following_url": "https://api.github.com/users/Prince781/following{/other_user}", "gists_url": "https://api.github.com/users/Prince781/gists{/gist_id}", "starred_url": "https://api.github.com/users/Prince781/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Prince781/subscriptions", "organizations_url": "https://api.github.com/users/Prince781/orgs", "repos_url": "https://api.github.com/users/Prince781/repos", "events_url": "https://api.github.com/users/Prince781/events{/privacy}", "received_events_url": "https://api.github.com/users/Prince781/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2021-05-01T01:54:39Z", "updated_at": "2021-05-07T08:04:20Z", "closed_at": "2021-05-07T08:04:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nLinking with a Vala shared library fails when using MSVC on Windows. The problem I think is that the import library for the dll isn't generated. Positional arguments like `implib` or `export_dynamic` aren't supported with `*library()`, but I think this should be done automatically. `link` gives an error like `cannot open input file lib\\valalib.lib`\r\n\r\n```\r\n[1/1] Linking target prog/valaprog.exe\r\nFAILED: prog/valaprog.exe prog/valaprog.pdb\r\n\"link\"  /MACHINE:x64 /OUT:prog/valaprog.exe prog/valaprog.exe.p/meson-generated_prog.c.obj \"/nologo\" \"/release\" \"/nologo\" \"/DEBUG\" \"/PDB:prog\\valaprog.pdb\" \"lib\\valalib.lib\" \"C:/lib/glib-2.0.lib\" \"C:/lib/intl.lib\" \"/LIBPATH:C://lib\" \"ws2_32.lib\" \"winmm.lib\" \"C:/lib/gobject-2.0.lib\" \"C:/lib/ffi.lib\" \"/LIBPATH:C://lib\" \"ws2_32.lib\" \"winmm.lib\" \"/SUBSYSTEM:CONSOLE\" \"kernel32.lib\" \"user32.lib\" \"gdi32.lib\" \"winspool.lib\" \"shell32.lib\" \"ole32.lib\" \"oleaut32.lib\" \"uuid.lib\" \"comdlg32.lib\" \"advapi32.lib\"\r\nLINK : fatal error LNK1181: cannot open input file 'lib\\valalib.lib'\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**To Reproduce**\r\nJust run test case `vala\\7 shared library` on Windows using `cl` for C compiler and `link` for linker.\r\n\r\n**Expected behavior**\r\nLinking with a Vala built shared library should work.\r\n\r\n**system parameters**\r\n* this is not a cross build\r\n* OS: Windows 10\r\n* Python 3.9.4\r\n* Meson 0.57.2\r\n* Ninja 1.10.2\r\n* `cl.exe` msvc 19.29.30031 \"Microsoft (R) C/C++ Optimizing Compiler Version 19.29.30031 for x64\"\r\n* `link.exe`14.29.30031.0\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8703", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8703/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8703/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8703/events", "html_url": "https://github.com/mesonbuild/meson/issues/8703", "id": 868681283, "node_id": "MDU6SXNzdWU4Njg2ODEyODM=", "number": 8703, "title": "MSVC cc.has_function() false negatives due to compiler flags", "user": {"login": "Neumann-A", "id": 30894796, "node_id": "MDQ6VXNlcjMwODk0Nzk2", "avatar_url": "https://avatars.githubusercontent.com/u/30894796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Neumann-A", "html_url": "https://github.com/Neumann-A", "followers_url": "https://api.github.com/users/Neumann-A/followers", "following_url": "https://api.github.com/users/Neumann-A/following{/other_user}", "gists_url": "https://api.github.com/users/Neumann-A/gists{/gist_id}", "starred_url": "https://api.github.com/users/Neumann-A/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Neumann-A/subscriptions", "organizations_url": "https://api.github.com/users/Neumann-A/orgs", "repos_url": "https://api.github.com/users/Neumann-A/repos", "events_url": "https://api.github.com/users/Neumann-A/events{/privacy}", "received_events_url": "https://api.github.com/users/Neumann-A/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-04-27T09:58:43Z", "updated_at": "2021-05-10T16:17:39Z", "closed_at": "2021-05-10T16:17:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nProblem `cc.has_function()` returns a false negative due to an intrinsic not being called with the correct set of parameters.\r\n\r\ne.g.\r\n```\r\nRunning compile:\r\nWorking directory:  E:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-rel\\meson-private\\tmprnijo34w\r\nCommand line:  C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.28.29910/bin/Hostx64/x64/cl.exe -INCREMENTAL:NO -I\"E:/vcpkg_folders/master/installed/x64-windows/include\" E:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-rel\\meson-private\\tmprnijo34w\\testfile.c /FeE:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-rel\\meson-private\\tmprnijo34w\\output.exe /nologo /showIncludes /MD -nologo -DWIN32 -D_WINDOWS -W3 -utf-8 -MP -MD -O2 -Oi -Gy -DNDEBUG -Z7 /nologo /showIncludes /Od kernel32.lib user32.lib gdi32.lib winspool.lib shell32.lib ole32.lib oleaut32.lib uuid.lib comdlg32.lib advapi32.lib /link -machine:x64 -DEBUG -OPT:REF -OPT:ICF /LIBPATH:E:/vcpkg_folders/master/installed/x64-windows/lib \r\n\r\nCode:\r\n \r\n        #define lrint meson_disable_define_of_lrint\r\n        \r\n        #include <limits.h>\r\n        #undef lrint\r\n        \r\n        #ifdef __cplusplus\r\n        extern \"C\"\r\n        #endif\r\n        char lrint (void);\r\n        \r\n        #if defined __stub_lrint || defined __stub___lrint\r\n        fail fail fail this function is not going to work\r\n        #endif\r\n        \r\n        int main(void) {\r\n          return lrint ();\r\n        }\r\nCompiler stdout:\r\n cl : Command line warning D9030 : '/showIncludes' is incompatible with multiprocessing; ignoring /MP switch\r\ntestfile.c\r\nNote: including file: C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\limits.h\r\nNote: including file:  C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\vcruntime.h\r\nNote: including file:   C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\sal.h\r\nNote: including file:    C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\concurrencysal.h\r\nNote: including file:   C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\vadefs.h\r\nE:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-rel\\meson-private\\tmprnijo34w\\testfile.c(10): warning C4391: 'char lrint(void)': incorrect return type for intrinsic function, expected 'long'\r\nE:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-rel\\meson-private\\tmprnijo34w\\testfile.c(10): warning C4392: 'char lrint(void)': incorrect number of arguments for intrinsic function, expected '1' arguments\r\nE:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-rel\\meson-private\\tmprnijo34w\\testfile.c(17): error C2168: 'lrint': too few actual parameters for intrinsic function\r\n\r\nCompiler stderr:\r\n cl : Command line warning D9025 : overriding '/O2' with '/Od'\r\n\r\nChecking for function \"lrint\" with dependency -lm: NO \r\n```\r\n\r\n\r\nwhile with debug flags\r\n\r\n```\r\nRunning compile:\r\nWorking directory:  E:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-dbg\\meson-private\\tmpomutgea3\r\nCommand line:  C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.28.29910/bin/Hostx64/x64/cl.exe -INCREMENTAL -I\"E:/vcpkg_folders/master/installed/x64-windows/include\" E:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-dbg\\meson-private\\tmpomutgea3\\testfile.c /FeE:\\vcpkg_folders\\master\\buildtrees\\gdk-pixbuf\\x64-windows-dbg\\meson-private\\tmpomutgea3\\output.exe /nologo /showIncludes /MDd -nologo -DWIN32 -D_WINDOWS -W3 -utf-8 -MP -D_DEBUG -MDd -Z7 -Ob0 -Od -RTC1 /nologo /showIncludes /Od kernel32.lib user32.lib gdi32.lib winspool.lib shell32.lib ole32.lib oleaut32.lib uuid.lib comdlg32.lib advapi32.lib /link -machine:x64 -debug /LIBPATH:E:/vcpkg_folders/master/installed/x64-windows/debug/lib \r\n\r\nCode:\r\n \r\n        #define lrint meson_disable_define_of_lrint\r\n        \r\n        #include <limits.h>\r\n        #undef lrint\r\n        \r\n        #ifdef __cplusplus\r\n        extern \"C\"\r\n        #endif\r\n        char lrint (void);\r\n        \r\n        #if defined __stub_lrint || defined __stub___lrint\r\n        fail fail fail this function is not going to work\r\n        #endif\r\n        \r\n        int main(void) {\r\n          return lrint ();\r\n        }\r\nCompiler stdout:\r\n cl : Command line warning D9030 : '/showIncludes' is incompatible with multiprocessing; ignoring /MP switch\r\ntestfile.c\r\nNote: including file: C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\limits.h\r\nNote: including file:  C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\vcruntime.h\r\nNote: including file:   C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\sal.h\r\nNote: including file:    C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\concurrencysal.h\r\nNote: including file:   C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.28.29910\\include\\vadefs.h\r\n\r\nCompiler stderr:\r\n \r\nChecking for function \"lrint\" with dependency -lm: YES \r\n```\r\n\r\nHow can I override the results of `cc.has_function()` or correct the behavior?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8703/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8652", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8652/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8652/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8652/events", "html_url": "https://github.com/mesonbuild/meson/issues/8652", "id": 857288804, "node_id": "MDU6SXNzdWU4NTcyODg4MDQ=", "number": 8652, "title": "OpenMP dependency explodes if version is not found", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-04-13T20:15:46Z", "updated_at": "2021-04-20T14:56:04Z", "closed_at": "2021-04-20T14:56:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Using GOMP with the C++ flag `-fdirectives-only` causes Meson to miss a dictionary lookup, and instead of getting an \"not found\" we get a python backtrace.\r\n\r\nSee [upstream issue](https://gitlab.freedesktop.org/mesa/mesa/-/issues/4632).", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8652/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8635", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8635/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8635/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8635/events", "html_url": "https://github.com/mesonbuild/meson/issues/8635", "id": 854972073, "node_id": "MDU6SXNzdWU4NTQ5NzIwNzM=", "number": 8635, "title": "custom_target does not validate that the input actually exists", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2021-04-10T03:42:09Z", "updated_at": "2021-12-08T02:08:38Z", "closed_at": "2021-12-08T02:08:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Describe the bug**\r\n```meson\r\ncustom_target(\r\n  'name',\r\n  input : 'nonexistant.py'\r\n  output : 'out.h',\r\n  command : ['@INPUT@', '@OUTPUT@']\r\n)\r\n```\r\n\r\nMeson will happily configure, then ninja will barf because `nonexistant.py` doesn't actually exist.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8560", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8560/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8560/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8560/events", "html_url": "https://github.com/mesonbuild/meson/issues/8560", "id": 836504521, "node_id": "MDU6SXNzdWU4MzY1MDQ1MjE=", "number": 8560, "title": "\"meson --wipe\" fails when used with --native-file ", "user": {"login": "john5342", "id": 61180, "node_id": "MDQ6VXNlcjYxMTgw", "avatar_url": "https://avatars.githubusercontent.com/u/61180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john5342", "html_url": "https://github.com/john5342", "followers_url": "https://api.github.com/users/john5342/followers", "following_url": "https://api.github.com/users/john5342/following{/other_user}", "gists_url": "https://api.github.com/users/john5342/gists{/gist_id}", "starred_url": "https://api.github.com/users/john5342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john5342/subscriptions", "organizations_url": "https://api.github.com/users/john5342/orgs", "repos_url": "https://api.github.com/users/john5342/repos", "events_url": "https://api.github.com/users/john5342/events{/privacy}", "received_events_url": "https://api.github.com/users/john5342/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1931593896, "node_id": "MDU6TGFiZWwxOTMxNTkzODk2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/machine%20files", "name": "machine files", "color": "24ada8", "default": false, "description": "Cross and Native files"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-20T00:00:11Z", "updated_at": "2021-03-22T18:45:10Z", "closed_at": "2021-03-22T18:45:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using `meson --wipe` meson looks for the native file in the wrong place. The file that should be used is still located in the same place in `/home/user/.local/share/meson/native/clang-13.ini`.\r\n\r\nUpon further inspection it seems the incorrect path is stored in `meson-private/cmd_line.txt`. Python is not my native language, but it looks like `__load_config_files` in coredata.py searches for files under `~/.local/meson/...` but `write_cmd_line_file` simply takes the original option and uses `os.path.abspath` on it.\r\n\r\n**To Reproduce**\r\n```\r\n$ meson setup --native-file clang-13.ini ..\r\n[...]\r\n```\r\n\r\nis successful, but:\r\n\r\n```\r\n$ meson --wipe\r\nCould not find any valid candidate for native files: /home/user/project_foo/build/clang-13.ini\r\n\r\nERROR: Cannot find specified native file: /home/user/project_foo/build/clang-13.ini\r\n```\r\n\r\n**Expected behavior**\r\nSuccessfully nuke everything in the directory and then reconfigure with the same options.\r\n\r\n**system parameters**\r\n* Plain native build, but in my case using native-file to specify an alternative native compiler.\r\n* Ubuntu (20.10) and Arch Linux\r\n* Python 3.8.6 and 3.9.2\r\n* Meson version 0.57.1 (latest from pip)\r\n* Ninja 1.10.0 and 1.10.2\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8560/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8523", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8523/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8523/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8523/events", "html_url": "https://github.com/mesonbuild/meson/issues/8523", "id": 829537081, "node_id": "MDU6SXNzdWU4Mjk1MzcwODE=", "number": 8523, "title": "Combining default_options : ['cpp_std=c++2a', 'cuda_std=c++17'] breaks nvcc", "user": {"login": "drewrobson", "id": 1786568, "node_id": "MDQ6VXNlcjE3ODY1Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drewrobson", "html_url": "https://github.com/drewrobson", "followers_url": "https://api.github.com/users/drewrobson/followers", "following_url": "https://api.github.com/users/drewrobson/following{/other_user}", "gists_url": "https://api.github.com/users/drewrobson/gists{/gist_id}", "starred_url": "https://api.github.com/users/drewrobson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drewrobson/subscriptions", "organizations_url": "https://api.github.com/users/drewrobson/orgs", "repos_url": "https://api.github.com/users/drewrobson/repos", "events_url": "https://api.github.com/users/drewrobson/events{/privacy}", "received_events_url": "https://api.github.com/users/drewrobson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2595116906, "node_id": "MDU6TGFiZWwyNTk1MTE2OTA2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:cuda", "name": "language:cuda", "color": "A0E474", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-03-11T21:28:03Z", "updated_at": "2021-03-28T18:43:30Z", "closed_at": "2021-03-28T18:43:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to compile a project where the host code (*.cpp) uses c++20, but the device code (*.cu) uses c++17, since that is the latest version currently supported by nvcc.\r\n\r\n**Describe the bug**\r\nIn `meson.build`, I tried this:\r\n```\r\nproject('C++ std', 'cpp', 'cuda', version : '1.0.0', default_options : ['cpp_std=c++2a', 'cuda_std=c++17'])\r\n```\r\nbut `nvcc` fails because it was called with `--std=c++17 -std=c++2a`:\r\n\r\n```\r\nmeson compile -v\r\nninja: Entering directory `.'\r\n[1/2] nvcc -Xcompiler=-Wall -Xcompiler=-Winvalid-pch -Xcompiler=-Wnon-virtual-dtor --std=c++17 -std=c++2a -g -G -g -I.. -I. -Iprog.p -Iprog.p -o prog.p/main.cu.o -c ../main.cu\r\nFAILED: prog.p/main.cu.o \r\nnvcc -Xcompiler=-Wall -Xcompiler=-Winvalid-pch -Xcompiler=-Wnon-virtual-dtor --std=c++17 -std=c++2a -g -G -g -I.. -I. -Iprog.p -Iprog.p -o prog.p/main.cu.o -c ../main.cu\r\nnvcc fatal   : Value 'c++2a' is not defined for option 'std'\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**To Reproduce**\r\nStart with cuda example [6 std](https://github.com/mesonbuild/meson/tree/master/test%20cases/cuda/6%20std), but use this:\r\n```project('C++ std', 'cpp', 'cuda', version : '1.0.0', default_options : ['cpp_std=c++2a', 'cuda_std=c++17'])```\r\n\r\n**Expected behavior**\r\nI expected that `gcc` would be invoked with c++2a and `nvcc` would be invoked with c++17.\r\n\r\nIf I manually remove the spurious `-std=c++2a` then `nvcc` succeeds.\r\n\r\n**system parameters**\r\nThis is a native build on 5.4.101-1-MANJARO with Meson 0.57.1.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8523/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8523/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8333", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8333/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8333/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8333/events", "html_url": "https://github.com/mesonbuild/meson/issues/8333", "id": 807308568, "node_id": "MDU6SXNzdWU4MDczMDg1Njg=", "number": 8333, "title": "Can't extract objects form custom_target()", "user": {"login": "elmarco", "id": 9381, "node_id": "MDQ6VXNlcjkzODE=", "avatar_url": "https://avatars.githubusercontent.com/u/9381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elmarco", "html_url": "https://github.com/elmarco", "followers_url": "https://api.github.com/users/elmarco/followers", "following_url": "https://api.github.com/users/elmarco/following{/other_user}", "gists_url": "https://api.github.com/users/elmarco/gists{/gist_id}", "starred_url": "https://api.github.com/users/elmarco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elmarco/subscriptions", "organizations_url": "https://api.github.com/users/elmarco/orgs", "repos_url": "https://api.github.com/users/elmarco/repos", "events_url": "https://api.github.com/users/elmarco/events{/privacy}", "received_events_url": "https://api.github.com/users/elmarco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-12T15:06:24Z", "updated_at": "2021-12-06T21:27:13Z", "closed_at": "2021-12-06T21:27:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While trying to add a custom_target() to a plugin in qemu, I reached the following error:\r\n\r\nERROR: Object extraction arguments must be strings or Files.\r\n\r\nHere is a small example:\r\n\r\n```\r\nproject('object extraction', 'c')\r\n\r\nct = custom_target('custom target', output: ['test.c'], command: ['echo', ''], capture: true)\r\nlib1 = shared_library('somelib', ct)\r\nobj1 = lib1.extract_objects(ct)\r\n```\r\n\r\nhelp welcome!", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8333/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8263", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8263/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8263/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8263/events", "html_url": "https://github.com/mesonbuild/meson/issues/8263", "id": 795506883, "node_id": "MDU6SXNzdWU3OTU1MDY4ODM=", "number": 8263, "title": "Codepage issue on Windows 8.1", "user": {"login": "ad8e", "id": 19739817, "node_id": "MDQ6VXNlcjE5NzM5ODE3", "avatar_url": "https://avatars.githubusercontent.com/u/19739817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ad8e", "html_url": "https://github.com/ad8e", "followers_url": "https://api.github.com/users/ad8e/followers", "following_url": "https://api.github.com/users/ad8e/following{/other_user}", "gists_url": "https://api.github.com/users/ad8e/gists{/gist_id}", "starred_url": "https://api.github.com/users/ad8e/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ad8e/subscriptions", "organizations_url": "https://api.github.com/users/ad8e/orgs", "repos_url": "https://api.github.com/users/ad8e/repos", "events_url": "https://api.github.com/users/ad8e/events{/privacy}", "received_events_url": "https://api.github.com/users/ad8e/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 28, "created_at": "2021-01-27T22:52:35Z", "updated_at": "2021-06-29T17:52:57Z", "closed_at": "2021-06-29T17:52:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI receive a build failure when building `harfbuzz` through `vcpkg`. `vcpkg` maintainers believe it is a `meson` upstream bug with codepages. The downstream bug is microsoft/vcpkg#15916. I have no ability to file a sane bug report, since I know nothing. However, I have logs.\r\n\r\n**To Reproduce**\r\nI can only reproduce this when building harfbuzz with vcpkg, using `./vcpkg install harfbuzz`. I don't receive this error when building harfbuzz with the project's native meson instructions without vcpkg. These builds are on the same system, but my native build uses mingw-w64's gcc, while the vcpkg build uses Visual Studio. The compiler isn't yet invoked when the build error occurs, so I don't believe this difference of compilers is the cause.\r\n\r\n**Expected behavior**\r\nI expected it to build cleanly. This is the log:\r\n\r\n```\r\n[3/66] \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\python\\python-3.9.0-x64\\python.exe\" \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\meson.py\" \"--internal\" \"depscan\" \"src/harfbuzz.dll.p/harfbuzz.dat\" src/harfbuzz.dll.p/depscan.dd ../src/f4d3aa1127-a820a32874.clean/src/hb-aat-layout.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-aat-map.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-blob.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-buffer-serialize.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-buffer.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-common.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-draw.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-face.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-fallback-shape.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-font.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-map.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-number.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-cff1-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-cff2-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-color.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-face.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-font.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-layout.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-map.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-math.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-meta.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-metrics.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-name.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-arabic.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-default.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-hangul.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-hebrew.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-indic-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-indic.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-khmer.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-myanmar.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-thai.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-use-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-use.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-vowel-constraints.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-fallback.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-normalize.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-tag.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-var.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-set.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-shape-plan.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-shape.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-shaper.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-static.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-style.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ucd.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-unicode.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ft.cc\r\nFAILED: src/harfbuzz.dll.p/depscan.dd \r\n\"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\python\\python-3.9.0-x64\\python.exe\" \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\meson.py\" \"--internal\" \"depscan\" \"src/harfbuzz.dll.p/harfbuzz.dat\" src/harfbuzz.dll.p/depscan.dd ../src/f4d3aa1127-a820a32874.clean/src/hb-aat-layout.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-aat-map.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-blob.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-buffer-serialize.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-buffer.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-common.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-draw.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-face.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-fallback-shape.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-font.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-map.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-number.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-cff1-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-cff2-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-color.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-face.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-font.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-layout.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-map.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-math.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-meta.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-metrics.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-name.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-arabic.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-default.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-hangul.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-hebrew.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-indic-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-indic.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-khmer.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-myanmar.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-thai.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-use-table.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-use.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-complex-vowel-constraints.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-fallback.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape-normalize.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-shape.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-tag.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ot-var.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-set.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-shape-plan.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-shape.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-shaper.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-static.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-style.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ucd.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-unicode.cc ../src/f4d3aa1127-a820a32874.clean/src/hb-ft.cc\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\meson.py\", line 29, in <module>\r\n    sys.exit(mesonmain.main())\r\n  File \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\mesonbuild\\mesonmain.py\", line 229, in main\r\n    return run(sys.argv[1:], launcher)\r\n  File \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\mesonbuild\\mesonmain.py\", line 218, in run\r\n    return run_script_command(args[1], args[2:])\r\n  File \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\mesonbuild\\mesonmain.py\", line 166, in run_script_command\r\n    return module.run(script_args)\r\n  File \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\mesonbuild\\scripts\\depscan.py\", line 91, in run\r\n    return scanner.scan()\r\n  File \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\mesonbuild\\scripts\\depscan.py\", line 64, in scan\r\n    self.scan_file(s)\r\n  File \"C:\\Users\\adm\\Downloads\\vcpkg\\downloads\\tools\\meson\\meson-f5871f434a5b768ad9fcafa797a6db0286421842\\mesonbuild\\scripts\\depscan.py\", line 37, in scan_file\r\n    for line in pathlib.Path(fname).read_text().split('\\n'):\r\n  File \"pathlib.py\", line 1256, in read_text\r\n  File \"encodings\\cp1252.py\", line 23, in decode\r\nUnicodeDecodeError: 'charmap' codec can't decode byte 0x9d in position 36961: character maps to <undefined>\r\n```\r\n\r\nAttached: [src\\harfbuzz.dll.p\\harfbuzz.dat](https://github.com/mesonbuild/meson/files/5883593/harfbuzz.txt)\r\nAttached: [package-x64-windows-rel-out.log](https://github.com/mesonbuild/meson/files/5883605/package-x64-windows-rel-out.log), probably no need to look at this\r\n\r\n\r\n**system parameters**\r\n* native build\r\n* Windows 8.1\r\n* Python 3.9.1\r\n* meson 0.56.2\r\n* ninja 1.10.2", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8255", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8255/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8255/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8255/events", "html_url": "https://github.com/mesonbuild/meson/issues/8255", "id": 794268300, "node_id": "MDU6SXNzdWU3OTQyNjgzMDA=", "number": 8255, "title": "Meson cannot cross compile libraries to windows with clang", "user": {"login": "dpassens", "id": 48860777, "node_id": "MDQ6VXNlcjQ4ODYwNzc3", "avatar_url": "https://avatars.githubusercontent.com/u/48860777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dpassens", "html_url": "https://github.com/dpassens", "followers_url": "https://api.github.com/users/dpassens/followers", "following_url": "https://api.github.com/users/dpassens/following{/other_user}", "gists_url": "https://api.github.com/users/dpassens/gists{/gist_id}", "starred_url": "https://api.github.com/users/dpassens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dpassens/subscriptions", "organizations_url": "https://api.github.com/users/dpassens/orgs", "repos_url": "https://api.github.com/users/dpassens/repos", "events_url": "https://api.github.com/users/dpassens/events{/privacy}", "received_events_url": "https://api.github.com/users/dpassens/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-01-26T14:19:24Z", "updated_at": "2021-01-26T17:38:13Z", "closed_at": "2021-01-26T17:32:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "When setting the compiler to `['clang', '--target=x86_64-unknown-windows']`, meson passes the `-fPIC` option for library source files, even if the entire project is compiled with `b_pie = false`.  As clang doesn't support `-fPIC` when compiling for windows, this makes the build fail.\r\n\r\nWhen I compile [this simple project](https://github.com/mesonbuild/meson/files/5873818/test.zip) on linux (arch), I get the following:\r\n```\r\n$ meson build --cross-file windows.cross && ninja -Cbuild\r\nThe Meson build system\r\nVersion: 0.56.2\r\nSource dir: /home/david/Projects/test\r\nBuild dir: /home/david/Projects/test/build\r\nBuild type: cross build\r\nProject name: example\r\nProject version: undefined\r\nC compiler for the host machine: clang --target=x86_64-unknown-windows (clang 11.0.1 \"clang version 11.0.1\")\r\nC linker for the host machine: clang --target=x86_64-unknown-windows ld.lld 11.0.1\r\nC compiler for the build machine: cc (gcc 10.2.0 \"cc (GCC) 10.2.0\")\r\nC linker for the build machine: cc ld.bfd 2.35.1\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nTarget machine cpu family: x86_64\r\nTarget machine cpu: x86_64\r\nBuild targets in project: 1\r\n\r\nFound ninja-1.10.2 at /usr/bin/ninja\r\nninja: Entering directory `build'\r\n[1/2] Compiling C object libexample.so.p/hello.c.o\r\nFAILED: libexample.so.p/hello.c.o \r\nclang --target=x86_64-unknown-windows -Ilibexample.so.p -I. -I.. -Xclang -fcolor-diagnostics -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -g -fPIC -MD -MQ libexample.so.p/hello.c.o -MF libexample.so.p/hello.c.o.d -o libexample.so.p/hello.c.o -c ../hello.c\r\nclang-11: error: unsupported option '-fPIC' for target 'x86_64-unknown-windows-msvc'\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nI only attached a cross file for amd64 but the issue also exists on i386.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8202", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8202/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8202/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8202/events", "html_url": "https://github.com/mesonbuild/meson/issues/8202", "id": 785993006, "node_id": "MDU6SXNzdWU3ODU5OTMwMDY=", "number": 8202, "title": "Linux: -bash: _meson-init: command not found", "user": {"login": "mhw0", "id": 69183283, "node_id": "MDQ6VXNlcjY5MTgzMjgz", "avatar_url": "https://avatars.githubusercontent.com/u/69183283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhw0", "html_url": "https://github.com/mhw0", "followers_url": "https://api.github.com/users/mhw0/followers", "following_url": "https://api.github.com/users/mhw0/following{/other_user}", "gists_url": "https://api.github.com/users/mhw0/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhw0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhw0/subscriptions", "organizations_url": "https://api.github.com/users/mhw0/orgs", "repos_url": "https://api.github.com/users/mhw0/repos", "events_url": "https://api.github.com/users/mhw0/events{/privacy}", "received_events_url": "https://api.github.com/users/mhw0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2658187213, "node_id": "MDU6TGFiZWwyNjU4MTg3MjEz", "url": "https://api.github.com/repos/mesonbuild/meson/labels/shell%20completions:bash", "name": "shell completions:bash", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2021-01-14T13:34:26Z", "updated_at": "2023-03-08T08:05:30Z", "closed_at": "2023-03-08T08:05:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm trying to view the available options using the command: `$ meson init -<TAB>`. But I'm getting this error: `-bash: _meson-init: command not found`\r\n\r\n\r\n\r\n![ezgif com-video-to-gif(1)](https://user-images.githubusercontent.com/69183283/104597198-d7c49580-5696-11eb-93b0-7778d9377774.gif)\r\n\r\n\r\n**system parameters**\r\n\r\n* OS: Manjaro Linux 20.2 Nibia. Kernel: x86_64 Linux 5.4.80-2-MANJARO\r\n* Python version: `3.8.6`\r\n* Meson version: `0.56.2`\r\n* Ninja version: `1.10.1`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8187", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8187/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8187/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8187/events", "html_url": "https://github.com/mesonbuild/meson/issues/8187", "id": 784399459, "node_id": "MDU6SXNzdWU3ODQzOTk0NTk=", "number": 8187, "title": "Executables with DLL deps passed to add_install_script() can't run on Windows", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/54", "html_url": "https://github.com/mesonbuild/meson/milestone/54", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/54/labels", "id": 5838953, "node_id": "MDk6TWlsZXN0b25lNTgzODk1Mw==", "number": 54, "title": "0.57", "description": null, "creator": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2020-09-03T01:35:14Z", "updated_at": "2021-10-09T22:13:36Z", "due_on": null, "closed_at": "2021-02-15T01:10:04Z"}, "comments": 2, "created_at": "2021-01-12T16:40:39Z", "updated_at": "2021-01-30T09:51:07Z", "closed_at": "2021-01-30T09:51:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If you have an `executable()` that has DLL deps in other builddir sub-dirs, then it can't be run by `meson.add_install_script()` on Windows because we do not do the same magic that we do for `custom_target()`, `test()`, etc to setup `PATH` to all the DLL dependencies of that executable.\r\n\r\nSpecifically, in `mesonbuild/backend/backends.py` we need to edit `Backend.generate_custom_install_script()` and have it do the same magic as `Backend.generate_custom_target()`. That is, it needs to call `self.as_meson_exe_cmdline()` which contains the necessary machinery, for instance it calls `self.determine_windows_extra_paths()`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8187/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8166", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8166/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8166/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8166/events", "html_url": "https://github.com/mesonbuild/meson/pull/8166", "id": 781647536, "node_id": "MDExOlB1bGxSZXF1ZXN0NTUxMzMzNzQ4", "number": 8166, "title": "Look for macos Framework dependencies when cross compiling", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-01-07T22:13:52Z", "updated_at": "2021-01-12T20:13:23Z", "closed_at": "2021-01-12T19:07:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/8166", "html_url": "https://github.com/mesonbuild/meson/pull/8166", "diff_url": "https://github.com/mesonbuild/meson/pull/8166.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/8166.patch", "merged_at": "2021-01-12T19:07:05Z"}, "body": "We currently use `mesonlib.is_osx()`, this isn't correct, as this is for the *build* machine, but we need to check for the machine that we are actually building for. This means that we can try frameworks when we shouldn't (cross compiling from osx -> !osx) and not when we should (cross compiling from !osx -> osx).\r\n\r\nDuring this I added some type annotations, which caused mypy to notice some incorrect annotations in the boost module, as well as a legitimate bug (passing a method instead of the return value of that method)\r\n\r\nFixes # #8165", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8166/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8060", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8060/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8060/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8060/events", "html_url": "https://github.com/mesonbuild/meson/issues/8060", "id": 756246213, "node_id": "MDU6SXNzdWU3NTYyNDYyMTM=", "number": 8060, "title": "Incorrect subsystem flag output under Windows Clang (and lld-link)", "user": {"login": "TheMadHau5", "id": 35187665, "node_id": "MDQ6VXNlcjM1MTg3NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/35187665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheMadHau5", "html_url": "https://github.com/TheMadHau5", "followers_url": "https://api.github.com/users/TheMadHau5/followers", "following_url": "https://api.github.com/users/TheMadHau5/following{/other_user}", "gists_url": "https://api.github.com/users/TheMadHau5/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheMadHau5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheMadHau5/subscriptions", "organizations_url": "https://api.github.com/users/TheMadHau5/orgs", "repos_url": "https://api.github.com/users/TheMadHau5/repos", "events_url": "https://api.github.com/users/TheMadHau5/events{/privacy}", "received_events_url": "https://api.github.com/users/TheMadHau5/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-12-03T14:30:29Z", "updated_at": "2021-01-06T00:02:48Z", "closed_at": "2021-01-06T00:02:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**The bug**\r\nMeson (on Windows, native) with Clang (and lld-link) adds `\"-Wl,--subsystem,console\"` instead of `\"-Wl,/SUBSYSTEM:CONSOLE\"`, causing the build to fail.\r\nManually editing the `build.ninja` and changing the flag allows the build to complete successfully.\r\n\r\n**To Reproduce**\r\nInstall Meson (with Ninja included) and Clang (at `C:\\Meson` and `C:\\LLVM` in my case, respectively) with both added to PATH.\r\nFollow [this section of the Meson Tutorial](https://mesonbuild.com/Tutorial.html#the-humble-beginning).\r\n(Note: `cmd.exe` was used as the shell, and all commands are identical except `./demo` which becomes `demo.exe`)\r\n\r\n**Expected behaviour**\r\nI expect the build to compile successfully, and running `demo.exe` should output \"Hello there.\"\r\nThe expected behaviour occurs when I manually fix `build.ninja`\r\n\r\n**System parameters**\r\n* Native build\r\n* Windows 10\r\n* Python isn't installed\r\n* Meson 0.56.0\r\n* Ninja 1.10.1\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8060/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8050", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/8050/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/8050/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/8050/events", "html_url": "https://github.com/mesonbuild/meson/issues/8050", "id": 752884046, "node_id": "MDU6SXNzdWU3NTI4ODQwNDY=", "number": 8050, "title": "override_dependency and dependency(..., static: true) broken", "user": {"login": "textshell", "id": 6579711, "node_id": "MDQ6VXNlcjY1Nzk3MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6579711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/textshell", "html_url": "https://github.com/textshell", "followers_url": "https://api.github.com/users/textshell/followers", "following_url": "https://api.github.com/users/textshell/following{/other_user}", "gists_url": "https://api.github.com/users/textshell/gists{/gist_id}", "starred_url": "https://api.github.com/users/textshell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/textshell/subscriptions", "organizations_url": "https://api.github.com/users/textshell/orgs", "repos_url": "https://api.github.com/users/textshell/repos", "events_url": "https://api.github.com/users/textshell/events{/privacy}", "received_events_url": "https://api.github.com/users/textshell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-29T10:22:48Z", "updated_at": "2021-08-23T14:52:18Z", "closed_at": "2021-08-23T14:52:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using `override_dependency` and a `dependency(...)` call that uses `static: true` the overridden dependency seems to be completely ignored.\r\n\r\nReproducer:\r\n\r\nmain project:\r\n\r\n```\r\nproject('parent', 'c')\r\ndependency('sub', static: true)\r\n```\r\n\r\nsub project:\r\n```\r\nproject('sub', 'c')\r\ndep = declare_dependency()\r\nmeson.override_dependency('sub', dep)\r\n```\r\n\r\nThis yields the following output:\r\n```\r\nRun-time dependency sub found: NO (tried pkgconfig and cmake)\r\nLooking for a fallback subproject for the dependency sub\r\n\r\n|Executing subproject sub method meson \r\n|\r\n|Project name: sub\r\n|Project version: undefined\r\n|C compiler for the host machine: ccache cc (gcc 8.3.0 \"cc (Debian 8.3.0-6) 8.3.0\")\r\n|C linker for the host machine: cc ld.bfd 2.31.1\r\n|Build targets in project: 0\r\n|Subproject sub finished.\r\n\r\nDependency sub from subproject subprojects/sub found: NO\r\n\r\nmeson.build:4:0: ERROR: Subproject subprojects/sub did not override dependency sub\r\n```\r\n\r\nThis should at least give a hint, that and how the overriding was found to be incompatible. I had to resort to adding debug prints to meson to understand why my override seemed to be completely ignored, so think trying to understand this will be frustrating to other users of meson as well.\r\n\r\nBut i think if the overriden dependency contains a static lib it should just work.\r\n\r\nTested using meson master from 24.11.2020 (0fa808f7066d)\r\n\r\n/CC @xclaesse ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/8050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/8050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7992", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7992/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7992/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7992/events", "html_url": "https://github.com/mesonbuild/meson/issues/7992", "id": 744352425, "node_id": "MDU6SXNzdWU3NDQzNTI0MjU=", "number": 7992, "title": "Xcode backend is broken again!", "user": {"login": "trilobite-coder", "id": 55331536, "node_id": "MDQ6VXNlcjU1MzMxNTM2", "avatar_url": "https://avatars.githubusercontent.com/u/55331536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trilobite-coder", "html_url": "https://github.com/trilobite-coder", "followers_url": "https://api.github.com/users/trilobite-coder/followers", "following_url": "https://api.github.com/users/trilobite-coder/following{/other_user}", "gists_url": "https://api.github.com/users/trilobite-coder/gists{/gist_id}", "starred_url": "https://api.github.com/users/trilobite-coder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trilobite-coder/subscriptions", "organizations_url": "https://api.github.com/users/trilobite-coder/orgs", "repos_url": "https://api.github.com/users/trilobite-coder/repos", "events_url": "https://api.github.com/users/trilobite-coder/events{/privacy}", "received_events_url": "https://api.github.com/users/trilobite-coder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2576035922, "node_id": "MDU6TGFiZWwyNTc2MDM1OTIy", "url": "https://api.github.com/repos/mesonbuild/meson/labels/backend:xcode", "name": "backend:xcode", "color": "f0ffb2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-17T02:23:48Z", "updated_at": "2021-12-02T03:18:31Z", "closed_at": "2021-12-02T03:18:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nOk. I was gonna use Xcode to work on a Turing-Machine when suddenly the backend gave me the error at the end of this output snippet.\r\n\r\n```console\r\nmike@Michaels-MBP turing_machine % meson setup builddir --backend xcode \r\nThe Meson build system\r\nVersion: 0.56.0\r\nSource dir: /Users/mike/Desktop/turing_machine\r\nBuild dir: /Users/mike/Desktop/turing_machine/builddir\r\nBuild type: native build\r\nProject name: Turing Machine\r\nProject version: 0.1.0\r\nC compiler for the host machine: ccache cc (clang 12.0.0 \"Apple clang version 12.0.0 (clang-1200.0.32.27)\")\r\nC linker for the host machine: cc ld64 609.7\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nBuild targets in project: 2\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.9/site-packages/mesonbuild/mesonmain.py\", line 140, in run\r\n    return options.run_func(options)\r\n  File \"/usr/local/lib/python3.9/site-packages/mesonbuild/msetup.py\", line 253, in run\r\n    app.generate()\r\n  File \"/usr/local/lib/python3.9/site-packages/mesonbuild/msetup.py\", line 161, in generate\r\n    self._generate(env)\r\n  File \"/usr/local/lib/python3.9/site-packages/mesonbuild/msetup.py\", line 223, in _generate\r\n    intr.backend.generate()\r\n  File \"/usr/local/lib/python3.9/site-packages/mesonbuild/backend/xcodebackend.py\", line 102, in generate\r\n    self.generate_pbx_build_file()\r\n  File \"/usr/local/lib/python3.9/site-packages/mesonbuild/backend/xcodebackend.py\", line 271, in generate_pbx_build_file\r\n    idval = self.buildmap[s]\r\nKeyError: 'modules/code/modules/code/project.c'\r\nmike@Michaels-MBP turing_machine % \r\n```\r\n\r\n**To Reproduce**\r\nThis is the link to the general structure of the project with those needed Meson build scripts.\r\n\r\n[project link](https://github.com/michaelbrockus/c_meson_program).\r\n\r\n**Expected behavior**\r\nI expect that the backend to not blow up and produce an Xcode project.\r\n\r\n**system parameters**\r\n* This is just a plain native build (for the same computer)?\r\n* MacOS Big Sur\r\n* `python 3.9`\r\n* `meson 0.56.0`\r\n* `ninja NA`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7992/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7992/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7920", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7920/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7920/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7920/events", "html_url": "https://github.com/mesonbuild/meson/issues/7920", "id": 733557231, "node_id": "MDU6SXNzdWU3MzM1NTcyMzE=", "number": 7920, "title": "dependency('xyzzy', required: false, include_type: 'system') crashes meson 0.56.0, python 3.6", "user": {"login": "borg323", "id": 39573933, "node_id": "MDQ6VXNlcjM5NTczOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/39573933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/borg323", "html_url": "https://github.com/borg323", "followers_url": "https://api.github.com/users/borg323/followers", "following_url": "https://api.github.com/users/borg323/following{/other_user}", "gists_url": "https://api.github.com/users/borg323/gists{/gist_id}", "starred_url": "https://api.github.com/users/borg323/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/borg323/subscriptions", "organizations_url": "https://api.github.com/users/borg323/orgs", "repos_url": "https://api.github.com/users/borg323/repos", "events_url": "https://api.github.com/users/borg323/events{/privacy}", "received_events_url": "https://api.github.com/users/borg323/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/57", "html_url": "https://github.com/mesonbuild/meson/milestone/57", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/57/labels", "id": 6291747, "node_id": "MDk6TWlsZXN0b25lNjI5MTc0Nw==", "number": 57, "title": "0.56.3 (release did not happen)", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 6, "state": "closed", "created_at": "2021-01-09T02:38:32Z", "updated_at": "2021-12-08T15:51:17Z", "due_on": null, "closed_at": "2021-02-21T19:12:09Z"}, "comments": 15, "created_at": "2020-10-30T22:42:01Z", "updated_at": "2021-01-17T21:04:24Z", "closed_at": "2021-01-17T21:04:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n`xyzzy = dependency('xyzzy', required: false, include_type: 'system')` crashes meson.\r\n\r\n**To Reproduce**\r\n```\r\nproject('foo', 'cpp')\r\n\r\nxyzzy = dependency('xyzzy', required: false, include_type: 'system')\r\n```\r\n\r\n**Expected behavior**\r\nClean exit\r\n\r\n**system parameters**\r\n* plain native build (for the same computer)\r\n* Ubuntu 16.04, but also reported on other linux versions and windows\r\n* Python version 3.5.1 but also reported with 3.6\r\n* meson 0.56.0\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7920/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7839", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7839/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7839/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7839/events", "html_url": "https://github.com/mesonbuild/meson/issues/7839", "id": 720283621, "node_id": "MDU6SXNzdWU3MjAyODM2MjE=", "number": 7839, "title": "gnome compile_resources doesn't work in C++ projects", "user": {"login": "mimi89999", "id": 8530546, "node_id": "MDQ6VXNlcjg1MzA1NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/8530546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mimi89999", "html_url": "https://github.com/mimi89999", "followers_url": "https://api.github.com/users/mimi89999/followers", "following_url": "https://api.github.com/users/mimi89999/following{/other_user}", "gists_url": "https://api.github.com/users/mimi89999/gists{/gist_id}", "starred_url": "https://api.github.com/users/mimi89999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mimi89999/subscriptions", "organizations_url": "https://api.github.com/users/mimi89999/orgs", "repos_url": "https://api.github.com/users/mimi89999/repos", "events_url": "https://api.github.com/users/mimi89999/events{/privacy}", "received_events_url": "https://api.github.com/users/mimi89999/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2423082217, "node_id": "MDU6TGFiZWwyNDIzMDgyMjE3", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:gnome", "name": "module:gnome", "color": "d1ab23", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-10-13T13:50:45Z", "updated_at": "2020-10-15T12:09:52Z", "closed_at": "2020-10-15T12:09:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`gnome.compile_resources` form the GNOME module always generates C source files. Those files can't be added to C++ executables.\r\n\r\n**To Reproduce**\r\n```\r\nproject('example', 'cpp')\r\n\r\ngnome = import('gnome')\r\n\r\ngtkmm = dependency('gtkmm-3.0')\r\n\r\ngresources = gnome.compile_resources('gresources', 'main.gresource.xml')\r\n\r\nexecutable(meson.project_name(), gresources, 'main.cpp', dependencies: gtkmm)\r\n```\r\nGives the following error:\r\n```\r\n$ meson _build\r\nThe Meson build system\r\nVersion: 0.55.3\r\nSource dir: example\r\nBuild dir: example/_build\r\nBuild type: native build\r\nProject name: example\r\nProject version: undefined\r\nC++ compiler for the host machine: ccache c++ (gcc 10.2.0 \"c++ (Debian 10.2.0-13) 10.2.0\")\r\nC++ linker for the host machine: c++ ld.bfd 2.35.1\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nFound pkg-config: /usr/bin/pkg-config (0.29.2)\r\nRun-time dependency gtkmm-3.0 found: YES 3.24.2\r\nFound pkg-config: /usr/bin/pkg-config (0.29.2)\r\n\r\nmeson.build:9:0: ERROR: No host machine compiler for \"gresources.c\"\r\n```\r\n\r\n**Expected behavior**\r\nA C++ source file should be generated named `gresources.cpp` instead of the C source file. It's possible to do that with `run_command('glib-compile-resources', '--target=gresources.cpp', '--generate-source', 'main.gresource.xml')`.\r\n\r\n**system parameters**\r\n* Is this a cross build: No\r\n* what operating system: `Debian GNU/Linux bullseye/sid`\r\n* what Python version are you using: `Python 3.8.6`\r\n* what `meson --version`: `0.55.3`\r\n* what `ninja --version` if it's a Ninja build: `1.10.1`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7839/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7744", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7744/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7744/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7744/events", "html_url": "https://github.com/mesonbuild/meson/issues/7744", "id": 702112971, "node_id": "MDU6SXNzdWU3MDIxMTI5NzE=", "number": 7744, "title": "Forwarding link_args within dependencies causes duplications", "user": {"login": "rhd", "id": 3422847, "node_id": "MDQ6VXNlcjM0MjI4NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3422847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhd", "html_url": "https://github.com/rhd", "followers_url": "https://api.github.com/users/rhd/followers", "following_url": "https://api.github.com/users/rhd/following{/other_user}", "gists_url": "https://api.github.com/users/rhd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhd/subscriptions", "organizations_url": "https://api.github.com/users/rhd/orgs", "repos_url": "https://api.github.com/users/rhd/repos", "events_url": "https://api.github.com/users/rhd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-15T17:20:05Z", "updated_at": "2020-09-26T20:17:31Z", "closed_at": "2020-09-26T20:17:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm getting linker errors when I use `link_args` in a `declare_dependency()` because the `link_args` gets duplicated.\r\n\r\n**To Reproduce**\r\n\r\n```\r\n# meson.build\r\n\r\nproject('test', 'cpp', default_options: ['buildtype=debugoptimized'])\r\n\r\ndep_base = declare_dependency(\r\n    compile_args: ['-Dfoo'],\r\n    link_args : ['-Xlinker', '-Map=/path/to/output.map', '-Wl,-T', '-Wl,/foo/bar'],\r\n)\r\n\r\ndep1 = declare_dependency(\r\n\r\n    dependencies: [dep_base],\r\n)\r\n\r\ndep2 = declare_dependency(\r\n    dependencies: [dep1],\r\n)\r\n\r\nexecutable('main1', 'main.cpp',\r\n    dependencies: [dep1],\r\n)\r\n\r\nexecutable('main2', 'main.cpp',\r\n    dependencies: [dep2],\r\n)\r\n```\r\n\r\n```\r\n# cross.txt\r\n[binaries]\r\nc='gcc'\r\ncpp='g++'\r\nstrip='strip'\r\n\r\n[properties]\r\ncpp_link_args = ['-lm']\r\n```\r\n\r\n**Expected behavior**\r\n\r\nI'd expect `-Xlinker -Map=/path/to/output.map` to appear on the gcc command line once. But it appears twice - once in the middle somewhere near all the libs getting linked in and once again at the end of the linker line.\r\n\r\nIf I do this, it only appears once\r\n\r\n```\r\nexecutable('foo', 'foo.cpp',\r\n  dependencies: [dep1],\r\n)\r\n```\r\n\r\nSo by forwarding the `link_args`, it's causing it to be duplicated from what I can tell.\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? `cross`\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.) `CentOS7`\r\n* what Python version are you using e.g. 3.8.0 - `3.6`\r\n* what `meson --version` - `0.55.1`\r\n* what `ninja --version` if it's a Ninja build - `1.7.2`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7744/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7744/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7731", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7731/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7731/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7731/events", "html_url": "https://github.com/mesonbuild/meson/issues/7731", "id": 700612777, "node_id": "MDU6SXNzdWU3MDA2MTI3Nzc=", "number": 7731, "title": "options in cross/native files cannot store capitals", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1931593896, "node_id": "MDU6TGFiZWwxOTMxNTkzODk2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/machine%20files", "name": "machine files", "color": "24ada8", "default": false, "description": "Cross and Native files"}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/52", "html_url": "https://github.com/mesonbuild/meson/milestone/52", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/52/labels", "id": 5647414, "node_id": "MDk6TWlsZXN0b25lNTY0NzQxNA==", "number": 52, "title": "0.56.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2020-07-13T12:22:26Z", "updated_at": "2021-01-09T02:43:51Z", "due_on": null, "closed_at": "2021-01-09T02:43:51Z"}, "comments": 0, "created_at": "2020-09-13T17:33:37Z", "updated_at": "2020-10-05T12:59:46Z", "closed_at": "2020-10-05T12:59:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`ConfigParser.configparser` by default stores all keys in sections as lower case strings. We need to change that.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7731/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7691", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7691/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7691/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7691/events", "html_url": "https://github.com/mesonbuild/meson/issues/7691", "id": 692108514, "node_id": "MDU6SXNzdWU2OTIxMDg1MTQ=", "number": 7691, "title": "FileNotFoundError when installing mesa", "user": {"login": "lrusak", "id": 1616460, "node_id": "MDQ6VXNlcjE2MTY0NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1616460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lrusak", "html_url": "https://github.com/lrusak", "followers_url": "https://api.github.com/users/lrusak/followers", "following_url": "https://api.github.com/users/lrusak/following{/other_user}", "gists_url": "https://api.github.com/users/lrusak/gists{/gist_id}", "starred_url": "https://api.github.com/users/lrusak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lrusak/subscriptions", "organizations_url": "https://api.github.com/users/lrusak/orgs", "repos_url": "https://api.github.com/users/lrusak/repos", "events_url": "https://api.github.com/users/lrusak/events{/privacy}", "received_events_url": "https://api.github.com/users/lrusak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-09-03T16:20:28Z", "updated_at": "2020-09-03T19:46:59Z", "closed_at": "2020-09-03T19:46:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\nWhen installing mesa 20.1.7 I get the following error.\r\n\r\nEDIT: full log here https://jenkins.kodi.tv/job/LINUX-arm-GBM/5/console\r\n\r\n```\r\n08:17:32 [1/2] /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/bin/meson install --no-rebuild\r\n08:17:33 Traceback (most recent call last):\r\n08:17:33   File \"/home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/lib/python3.8/site-packages/meson-0.55.1-py3.8.egg/mesonbuild/mesonmain.py\", line 131, in run\r\n08:17:33     return options.run_func(options)\r\n08:17:33   File \"/home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/lib/python3.8/site-packages/meson-0.55.1-py3.8.egg/mesonbuild/minstall.py\", line 542, in run\r\n08:17:33     installer.do_install(datafilename)\r\n08:17:33   File \"/home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/lib/python3.8/site-packages/meson-0.55.1-py3.8.egg/mesonbuild/minstall.py\", line 365, in do_install\r\n08:17:33     self.install_data(d)\r\n08:17:33   File \"/home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/lib/python3.8/site-packages/meson-0.55.1-py3.8.egg/mesonbuild/minstall.py\", line 396, in install_data\r\n08:17:33     if self.do_copyfile(fullfilename, outfilename, makedirs=(d.dirmaker, outdir)):\r\n08:17:33   File \"/home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/lib/python3.8/site-packages/meson-0.55.1-py3.8.egg/mesonbuild/minstall.py\", line 276, in do_copyfile\r\n08:17:33     shutil.copyfile(from_file, to_file)\r\n08:17:33   File \"/home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/lib/python3.8/shutil.py\", line 261, in copyfile\r\n08:17:33     with open(src, 'rb') as fsrc, open(dst, 'wb') as fdst:\r\n08:17:33 FileNotFoundError: [Errno 2] No such file or directory: '/home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib/pkgconfig/egl.pc'\r\n08:17:33 Installing src/mapi/shared-glapi/libglapi.so.0.0.0 to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib\r\n08:17:33 Installing src/mapi/es2api/libGLESv2.so.2.0.0 to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib\r\n08:17:33 Installing src/gbm/libgbm.so.1.0.0 to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib\r\n08:17:33 Installing src/egl/libEGL.so.1.0.0 to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib\r\n08:17:33 Installing src/gallium/targets/dri/libgallium_dri.so to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib/dri\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/KHR/khrplatform.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/KHR\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES2/gl2.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES2\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES2/gl2ext.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES2\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES2/gl2platform.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES2\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES3/gl3.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES3\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES3/gl31.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES3\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES3/gl32.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES3\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES3/gl3ext.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES3\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GLES3/gl3platform.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GLES3\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GL/gl.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GL/glcorearb.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GL/glext.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/EGL/egl.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/EGL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/EGL/eglext.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/EGL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/EGL/eglplatform.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/EGL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/EGL/eglmesaext.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/EGL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/EGL/eglextchromium.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/EGL\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/include/GL/internal/dri_interface.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include/GL/internal\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/src/gbm/main/gbm.h to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/include\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/src/util/00-mesa-defaults.conf to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/share/drirc.d\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/build/meson-private/glesv2.pc to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib/pkgconfig\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/build/meson-private/dri.pc to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib/pkgconfig\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/build/meson-private/gbm.pc to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib/pkgconfig\r\n08:17:33 Installing /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/target/mesa/arm-linux-gnueabihf-debug/build/meson-private/egl.pc to /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/arm-linux-gnueabihf-debug/lib/pkgconfig\r\n08:17:33 FAILED: meson-install \r\n08:17:33 /home/jenkins/workspace/LINUX-arm-GBM/tools/depends/xbmc-depends/x86_64-linux-gnu-native/bin/meson install --no-rebuild\r\n08:17:33 ninja: build stopped: subcommand failed.\r\n```\r\n\r\n**system parameters**\r\n\r\nThis is a cross build. Ubuntu 18.04 cross compiling for arm-linux-gnueabihf\r\n```\r\n$ ./arm-depends/x86_64-linux-gnu-native/bin/python3 --version\r\nPython 3.8.5\r\n```\r\n\r\n```\r\n$ ./arm-depends/x86_64-linux-gnu-native/bin/meson --version\r\n0.55.1\r\n```\r\n\r\n```\r\n$ ./arm-depends/x86_64-linux-gnu-native/bin/ninja --version\r\n1.9.0\r\n```\r\n\r\nCC @dcbaker \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7691/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7689", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7689/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7689/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7689/events", "html_url": "https://github.com/mesonbuild/meson/pull/7689", "id": 691599765, "node_id": "MDExOlB1bGxSZXF1ZXN0NDc4MzIxMzM3", "number": 7689, "title": "correct Fortran include algorithm", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1505960320, "node_id": "MDU6TGFiZWwxNTA1OTYwMzIw", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:fortran", "name": "language:fortran", "color": "5aabc4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-03T03:19:27Z", "updated_at": "2020-09-06T17:29:46Z", "closed_at": "2020-09-06T17:28:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/7689", "html_url": "https://github.com/mesonbuild/meson/pull/7689", "diff_url": "https://github.com/mesonbuild/meson/pull/7689.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/7689.patch", "merged_at": "2020-09-06T17:28:40Z"}, "body": "I wrote the recursive Fortran `include` statement scanning, and neglected to handle or test the case of CMake subprojects with `include` statements in Fortran. This PR fixes the issues and adds a test that fails on previous `master` but passes with the update in this PR.\r\n\r\nfixes #7687 ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7689/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7627", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7627/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7627/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7627/events", "html_url": "https://github.com/mesonbuild/meson/issues/7627", "id": 683678417, "node_id": "MDU6SXNzdWU2ODM2Nzg0MTc=", "number": 7627, "title": "meson install does not print a FAILED: message when an install script fails", "user": {"login": "m1027", "id": 34103781, "node_id": "MDQ6VXNlcjM0MTAzNzgx", "avatar_url": "https://avatars.githubusercontent.com/u/34103781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m1027", "html_url": "https://github.com/m1027", "followers_url": "https://api.github.com/users/m1027/followers", "following_url": "https://api.github.com/users/m1027/following{/other_user}", "gists_url": "https://api.github.com/users/m1027/gists{/gist_id}", "starred_url": "https://api.github.com/users/m1027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m1027/subscriptions", "organizations_url": "https://api.github.com/users/m1027/orgs", "repos_url": "https://api.github.com/users/m1027/repos", "events_url": "https://api.github.com/users/m1027/events{/privacy}", "received_events_url": "https://api.github.com/users/m1027/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850882010, "node_id": "MDU6TGFiZWw4NTA4ODIwMTA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/install%20targets", "name": "install targets", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/53", "html_url": "https://github.com/mesonbuild/meson/milestone/53", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/53/labels", "id": 5775340, "node_id": "MDk6TWlsZXN0b25lNTc3NTM0MA==", "number": 53, "title": "0.55.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2020-08-15T08:43:12Z", "updated_at": "2020-09-10T16:33:01Z", "due_on": null, "closed_at": "2020-09-10T16:33:01Z"}, "comments": 2, "created_at": "2020-08-21T16:32:16Z", "updated_at": "2020-09-08T15:27:35Z", "closed_at": "2020-09-08T15:27:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When calling meson install, my custom install.sh, added by a subdir, is\r\nsearched and detected but silently not executed! When instead calling ninja\r\ninstall, it works.\r\n\r\nIs it something trivial?  I am using meson-0.54.2, ninja-1.10.0.\r\n\r\nHow to reproduce:\r\n\r\n    mkdir -p main/subdir/my_module/scripts\r\n    \r\n    cd main\r\n    \r\n    cat <<EOF > meson.build\r\n    project('main', 'c')\r\n    subdir('subdir/my_module')\r\n    EOF\r\n    \r\n    cat <<EOF > subdir/my_module/meson.build\r\n    meson.add_install_script('scripts/install.sh')\r\n    EOF\r\n    \r\n    cat <<EOF > subdir/my_module/scripts/install.sh\r\n    #!/bin/bash\r\n    exit 1\r\n    EOF\r\n    \r\n    meson build\r\n    \r\n    meson install -C build\r\n    # (the script's exit 1 does not produce and error but should)\r\n    \r\n    ninja -C build install\r\n    # (works as expected and exits with error)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7627/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7613", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7613/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7613/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7613/events", "html_url": "https://github.com/mesonbuild/meson/issues/7613", "id": 681348126, "node_id": "MDU6SXNzdWU2ODEzNDgxMjY=", "number": 7613, "title": "Crash when using meson on existing build generated by older version", "user": {"login": "DaanDeMeyer", "id": 9395011, "node_id": "MDQ6VXNlcjkzOTUwMTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9395011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DaanDeMeyer", "html_url": "https://github.com/DaanDeMeyer", "followers_url": "https://api.github.com/users/DaanDeMeyer/followers", "following_url": "https://api.github.com/users/DaanDeMeyer/following{/other_user}", "gists_url": "https://api.github.com/users/DaanDeMeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/DaanDeMeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DaanDeMeyer/subscriptions", "organizations_url": "https://api.github.com/users/DaanDeMeyer/orgs", "repos_url": "https://api.github.com/users/DaanDeMeyer/repos", "events_url": "https://api.github.com/users/DaanDeMeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/DaanDeMeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-18T21:18:07Z", "updated_at": "2020-09-10T08:18:18Z", "closed_at": "2020-09-10T08:18:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mesonmain.py\", line 131, in run\r\n    return options.run_func(options)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mtest.py\", line 1220, in run\r\n    return th.doit()\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mtest.py\", line 975, in doit\r\n    self.run_tests(tests)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mtest.py\", line 1130, in run_tests\r\n    self.drain_futures(futures)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mtest.py\", line 1146, in drain_futures\r\n    self.process_test_result(result.result())\r\n  File \"/usr/lib/python3.8/concurrent/futures/_base.py\", line 432, in result\r\n    return self.__get_result()\r\n  File \"/usr/lib/python3.8/concurrent/futures/_base.py\", line 388, in __get_result\r\n    raise self._exception\r\n  File \"/usr/lib/python3.8/concurrent/futures/thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mtest.py\", line 628, in run\r\n    cmd = self._get_cmd()\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mtest.py\", line 612, in _get_cmd\r\n    elif self.test.cmd_is_built and self.test.needs_exe_wrapper:\r\nAttributeError: 'TestSerialisation' object has no attribute 'cmd_is_built'\r\n```\r\n\r\n**To Reproduce**\r\n\r\nThe issue occurred when running the latest version of meson on an already built version of systemd. After removing the build directory I cannot reproduce the issue anymore. Maybe some issue where the new version of meson can't handle serialized data from older versions?\r\n\r\n**Expected behavior**\r\n\r\nNo crash\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? \r\n\r\nNot a cross build\r\n\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.)\r\n\r\nPython: 3.8.5\r\nArch Linux\r\n\r\n* what `meson --version`\r\n\r\nmeson: 0.55.1\r\n\r\n* what `ninja --version` if it's a Ninja build\r\n\r\nninja: 1.10.0", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7542", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7542/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7542/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7542/events", "html_url": "https://github.com/mesonbuild/meson/issues/7542", "id": 673022947, "node_id": "MDU6SXNzdWU2NzMwMjI5NDc=", "number": 7542, "title": "`meson install` raises AttributeError with emscripten", "user": {"login": "Akaricchi", "id": 609016, "node_id": "MDQ6VXNlcjYwOTAxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/609016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akaricchi", "html_url": "https://github.com/Akaricchi", "followers_url": "https://api.github.com/users/Akaricchi/followers", "following_url": "https://api.github.com/users/Akaricchi/following{/other_user}", "gists_url": "https://api.github.com/users/Akaricchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akaricchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akaricchi/subscriptions", "organizations_url": "https://api.github.com/users/Akaricchi/orgs", "repos_url": "https://api.github.com/users/Akaricchi/repos", "events_url": "https://api.github.com/users/Akaricchi/events{/privacy}", "received_events_url": "https://api.github.com/users/Akaricchi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/51", "html_url": "https://github.com/mesonbuild/meson/milestone/51", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/51/labels", "id": 5647413, "node_id": "MDk6TWlsZXN0b25lNTY0NzQxMw==", "number": 51, "title": "0.55.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 48, "state": "closed", "created_at": "2020-07-13T12:21:47Z", "updated_at": "2020-08-15T16:57:42Z", "due_on": null, "closed_at": "2020-08-15T10:34:57Z"}, "comments": 4, "created_at": "2020-08-04T19:17:43Z", "updated_at": "2020-08-08T23:18:48Z", "closed_at": "2020-08-08T23:18:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n```\r\n$ meson install\r\nninja: Entering directory `.'\r\n[2/5] Generating version information with a custom command\r\nInstalling resources/bundle_gfx.data to /data/webshit/ports/taisei/out/.\r\nTraceback (most recent call last):\r\n  File \"/data/git/meson/mesonbuild/mesonmain.py\", line 131, in run\r\n    return options.run_func(options)\r\n  File \"/data/git/meson/mesonbuild/minstall.py\", line 542, in run\r\n    installer.do_install(datafilename)\r\n  File \"/data/git/meson/mesonbuild/minstall.py\", line 362, in do_install\r\n    self.install_targets(d)\r\n  File \"/data/git/meson/mesonbuild/minstall.py\", line 515, in install_targets\r\n    depfixer.fix_rpath(outname, t.rpath_dirs_to_remove, install_rpath, final_path,\r\nAttributeError: 'TargetInstallData' object has no attribute 'rpath_dirs_to_remove'\r\n```\r\n\r\nNote that Emscripten has no concept of `rpath`.\r\n\r\n**To Reproduce**\r\nUnfortunately, I have not been able to reproduce this with anything less complicated than [Taisei](https://github.com/taisei-project/taisei) so far.\r\n\r\n**Expected behavior**\r\nSuccessful installation.\r\n\r\n**system parameters**\r\n* Cross build (emscripten)\r\n* openSUSE Tumbleweed\r\n* Python 3.8.4\r\n* meson 0.55.999 (6006987ce)\r\n* ninja 1.10.0\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7515", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7515/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7515/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7515/events", "html_url": "https://github.com/mesonbuild/meson/issues/7515", "id": 668086162, "node_id": "MDU6SXNzdWU2NjgwODYxNjI=", "number": 7515, "title": "0.55 considers SKIP in tap output as failed", "user": {"login": "matthiasclasen", "id": 4834845, "node_id": "MDQ6VXNlcjQ4MzQ4NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/4834845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiasclasen", "html_url": "https://github.com/matthiasclasen", "followers_url": "https://api.github.com/users/matthiasclasen/followers", "following_url": "https://api.github.com/users/matthiasclasen/following{/other_user}", "gists_url": "https://api.github.com/users/matthiasclasen/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiasclasen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiasclasen/subscriptions", "organizations_url": "https://api.github.com/users/matthiasclasen/orgs", "repos_url": "https://api.github.com/users/matthiasclasen/repos", "events_url": "https://api.github.com/users/matthiasclasen/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiasclasen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 850863833, "node_id": "MDU6TGFiZWw4NTA4NjM4MzM=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/meson%20tests", "name": "meson tests", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/51", "html_url": "https://github.com/mesonbuild/meson/milestone/51", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/51/labels", "id": 5647413, "node_id": "MDk6TWlsZXN0b25lNTY0NzQxMw==", "number": 51, "title": "0.55.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 48, "state": "closed", "created_at": "2020-07-13T12:21:47Z", "updated_at": "2020-08-15T16:57:42Z", "due_on": null, "closed_at": "2020-08-15T10:34:57Z"}, "comments": 4, "created_at": "2020-07-29T19:26:11Z", "updated_at": "2020-09-21T07:25:08Z", "closed_at": "2020-08-05T20:08:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "GTK has a some tests that produce output like\r\n\r\n```\r\n1..227\r\n...\r\nok 57 /FinalizeObject/GtkConstraint\r\nok 58 /FinalizeObject/GtkConstraintGuide\r\nok 59 /FinalizeObject/GtkConstraintLayoutChild # SKIP Skipping GtkConstraintLayoutChild\r\nok 60 /FinalizeObject/GtkConstraintLayout\r\nok 61 /FinalizeObject/GtkCssProvider\r\n...\r\nok 227 /FinalizeObject/GtkWindowHandle\r\n```\r\n\r\nthat is, 227 ok's and an exit code of 0.\r\n\r\nAnd meson 0.55.0 on my local system says:\r\n\r\n```\r\n3/3 gtk:gtk+object / objects-finalize FAIL           11.85s (exit status 0)\r\n```\r\nIf I shorten the test to leave out all the cases that emit a # SKIP comment, meson 0.55 is happy again.\r\n\r\n0.54 in our ci thinks everything is just fine.\r\n\r\nI also think that everything with our testsuite is just fine, and meson regressed.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7515/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7501", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7501/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7501/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7501/events", "html_url": "https://github.com/mesonbuild/meson/issues/7501", "id": 665699663, "node_id": "MDU6SXNzdWU2NjU2OTk2NjM=", "number": 7501, "title": "Meson cmake method issue", "user": {"login": "InfRandomness", "id": 43730933, "node_id": "MDQ6VXNlcjQzNzMwOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/43730933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InfRandomness", "html_url": "https://github.com/InfRandomness", "followers_url": "https://api.github.com/users/InfRandomness/followers", "following_url": "https://api.github.com/users/InfRandomness/following{/other_user}", "gists_url": "https://api.github.com/users/InfRandomness/gists{/gist_id}", "starred_url": "https://api.github.com/users/InfRandomness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InfRandomness/subscriptions", "organizations_url": "https://api.github.com/users/InfRandomness/orgs", "repos_url": "https://api.github.com/users/InfRandomness/repos", "events_url": "https://api.github.com/users/InfRandomness/events{/privacy}", "received_events_url": "https://api.github.com/users/InfRandomness/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1455967581, "node_id": "MDU6TGFiZWwxNDU1OTY3NTgx", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependency:cmake", "name": "dependency:cmake", "color": "fce2ab", "default": false, "description": "Issues related to `dependency` with the `cmake` method"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/51", "html_url": "https://github.com/mesonbuild/meson/milestone/51", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/51/labels", "id": 5647413, "node_id": "MDk6TWlsZXN0b25lNTY0NzQxMw==", "number": 51, "title": "0.55.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 48, "state": "closed", "created_at": "2020-07-13T12:21:47Z", "updated_at": "2020-08-15T16:57:42Z", "due_on": null, "closed_at": "2020-08-15T10:34:57Z"}, "comments": 5, "created_at": "2020-07-26T03:18:35Z", "updated_at": "2020-08-07T16:00:59Z", "closed_at": "2020-08-07T16:00:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nMeson is failing to import multiple dependencies such as protobuf, the problem was also occuring with cpprestsdk \r\n\r\n**To Reproduce**\r\n```\r\nproject('App', 'cpp')\r\n\r\ngtkmmdep = dependency('gtkmm-3.0')\r\nprotobufdep = dependency('protobuf')\r\nexecutable('Application', 'src/app.cpp', dependencies : [gtkmmdep, protobufdep], cpp_pch : 'pch/App_pch.h')\r\n```\r\n\r\n**Current output**:\r\n```\r\n[0/1] Regenerating build files.\r\nThe Meson build system\r\nVersion: 0.55.0\r\nSource dir: /home/xxx/Documents/Developpement/App\r\nBuild dir: /home/xxx/Documents/Developpement/App/builddir\r\nBuild type: native build\r\nProject name: App\r\nProject version: undefined\r\nC++ compiler for the host machine: c++ (gcc 10.1.1 \"c++ (GCC) 10.1.1 20200507 (Red Hat 10.1.1-1)\")\r\nC++ linker for the host machine: c++ ld.bfd 2.34-3\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nFound pkg-config: /usr/bin/pkg-config (1.6.3)\r\nFound CMake: /usr/local/bin/cmake (3.18.20200725)\r\n\r\n../meson.build:3:0: ERROR: CMake: set() requires at least one argument\r\nCMake TRACE: /home/infrandomness/sdk/grpc/lib64/cmake/protobuf/protobuf-config-version.cmake:7 set(['', ''])\r\n```\r\n\r\n**Expected behavior**\r\nMeson succeeding at setting protobuf as a dependency and producing a binary with it\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)?\r\nJust a plain native build\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.)\r\nFedora 32 5.7.9-200.fc32.x86_64\r\n* what Python version are you using e.g. 3.8.0\r\nPython 3.8.3\r\n* what `meson --version`\r\n0.55.0\r\n* what `ninja --version` if it's a Ninja build\r\n1.10.0", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7404", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7404/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7404/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7404/events", "html_url": "https://github.com/mesonbuild/meson/issues/7404", "id": 649772161, "node_id": "MDU6SXNzdWU2NDk3NzIxNjE=", "number": 7404, "title": "The b_ndebug option doesn't define NDEBUG with MSVC", "user": {"login": "Jairard", "id": 763848, "node_id": "MDQ6VXNlcjc2Mzg0OA==", "avatar_url": "https://avatars.githubusercontent.com/u/763848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jairard", "html_url": "https://github.com/Jairard", "followers_url": "https://api.github.com/users/Jairard/followers", "following_url": "https://api.github.com/users/Jairard/following{/other_user}", "gists_url": "https://api.github.com/users/Jairard/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jairard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jairard/subscriptions", "organizations_url": "https://api.github.com/users/Jairard/orgs", "repos_url": "https://api.github.com/users/Jairard/repos", "events_url": "https://api.github.com/users/Jairard/events{/privacy}", "received_events_url": "https://api.github.com/users/Jairard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/52", "html_url": "https://github.com/mesonbuild/meson/milestone/52", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/52/labels", "id": 5647414, "node_id": "MDk6TWlsZXN0b25lNTY0NzQxNA==", "number": 52, "title": "0.56.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 37, "state": "closed", "created_at": "2020-07-13T12:22:26Z", "updated_at": "2021-01-09T02:43:51Z", "due_on": null, "closed_at": "2021-01-09T02:43:51Z"}, "comments": 0, "created_at": "2020-07-02T09:14:12Z", "updated_at": "2020-07-19T12:26:31Z", "closed_at": "2020-07-19T12:26:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When setting the option `b_ndebug` to `if-release` or `true`, the `NDEBUG` macro is not correctly defined for the msvc compiler.\r\n\r\n**To Reproduce**\r\n\r\n*meson.build*\r\n```\r\nproject('myProject', 'cpp',\r\n  version : '0.1',\r\n  default_options : ['b_ndebug=true'])\r\n\r\nexe = executable('exe', 'main.cpp')\r\n```\r\n\r\n*main.cpp*\r\n```\r\n#ifdef NDEBUG\r\n#pragma message(\"NDEBUG is defined\")\r\n#else\r\n#pragma message(\"NDEBUG is not defined\")\r\n#endif\r\n\r\nint main() { return 0; }\r\n```\r\n\r\nIn a VS BuildTools prompt:\r\n```\r\nmeson build\r\nninja -C build\r\n```\r\nninja output:\r\n```\r\nninja: Entering directory `build'\r\n[1/2] Compiling C++ object exe@exe/main.cpp.obj.\r\nNDEBUG is not defined\r\n[2/2] Linking target exe.exe.\r\n```\r\n\r\n**Expected behavior**\r\nCompilation should output  `NDEBUG is defined`.\r\n\r\n**System parameters**\r\n* It's a plain native build\r\n* OS: Windows 10\r\n* Python version: 2.7.17 (I know python < 3 is deprecated but I don't think it's a matter here)\r\n* Meson version: 0.53.1\r\n* Ninja version: 1.9.0\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7386", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7386/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7386/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7386/events", "html_url": "https://github.com/mesonbuild/meson/issues/7386", "id": 646547948, "node_id": "MDU6SXNzdWU2NDY1NDc5NDg=", "number": 7386, "title": "New choice in array option is ignored", "user": {"login": "pinchartl", "id": 281889, "node_id": "MDQ6VXNlcjI4MTg4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/281889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pinchartl", "html_url": "https://github.com/pinchartl", "followers_url": "https://api.github.com/users/pinchartl/followers", "following_url": "https://api.github.com/users/pinchartl/following{/other_user}", "gists_url": "https://api.github.com/users/pinchartl/gists{/gist_id}", "starred_url": "https://api.github.com/users/pinchartl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pinchartl/subscriptions", "organizations_url": "https://api.github.com/users/pinchartl/orgs", "repos_url": "https://api.github.com/users/pinchartl/repos", "events_url": "https://api.github.com/users/pinchartl/events{/privacy}", "received_events_url": "https://api.github.com/users/pinchartl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-26T22:46:57Z", "updated_at": "2020-10-05T20:10:36Z", "closed_at": "2020-10-05T20:10:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen a new choice \"newchoice\" is added to an existing array option \"foo\", _meson configure_ will not list the new choice in the \"Possible Values\" column, and _meson -Dfoo=newchoice_ complains that \"newchoice\" is not valid.\r\n\r\n`ERROR: Options \"newchoice\" are not in allowed choices: \"oldchoice\"`\r\n\r\n**To Reproduce**\r\n[choice.tar.gz](https://github.com/mesonbuild/meson/files/4839477/choice.tar.gz)\r\n\r\n1. Run _meson build_\r\n2. Edit meson_options.txt as follows:\r\n```\r\n-        choices : ['oldchoice'],\r\n+        choices : ['oldchoice', 'newchoice'],\r\n```\r\n3. Run _meson configure build_. The \"foo\" option should report \"newchoice\" as a Possible Value.\r\n\r\n**Expected behavior**\r\nThe new choice should be considered by meson as a possible value and accepted when modifying the option with -D.\r\n\r\n**system parameters**\r\n* Operating system: Gentoo Linux\r\n* Python version: 3.7\r\n* Meson version: 0.52.1 (tested the master branch as well)\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7386/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7371", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7371/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7371/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7371/events", "html_url": "https://github.com/mesonbuild/meson/issues/7371", "id": 643659567, "node_id": "MDU6SXNzdWU2NDM2NTk1Njc=", "number": 7371, "title": "LLVMDependencyConfigTool fails with exception if `llvm-config --shared-mode` returns in error", "user": {"login": "ydirson", "id": 1190950, "node_id": "MDQ6VXNlcjExOTA5NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1190950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ydirson", "html_url": "https://github.com/ydirson", "followers_url": "https://api.github.com/users/ydirson/followers", "following_url": "https://api.github.com/users/ydirson/following{/other_user}", "gists_url": "https://api.github.com/users/ydirson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ydirson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ydirson/subscriptions", "organizations_url": "https://api.github.com/users/ydirson/orgs", "repos_url": "https://api.github.com/users/ydirson/repos", "events_url": "https://api.github.com/users/ydirson/events{/privacy}", "received_events_url": "https://api.github.com/users/ydirson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-06-23T08:58:47Z", "updated_at": "2020-10-22T14:21:15Z", "closed_at": "2020-10-22T14:21:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While configuring mesa for cross-compiling I hit the following stack trace (with 0.53.2):\r\n\r\n```\r\n;; This buffer is for text that is not saved, and for Lisp evaluation.\r\n;; To create a file, visit it with C-x C-f and enter text in its buffer.\r\n\r\n| Checking for function \"strtof\" : YES\r\n| Checking for function \"mkostemp\" : YES\r\n| Traceback (most recent call last):\r\n|   File \".../mesonbuild/mesonmain.py\", line 129, in run\r\n|     return options.run_func(options)\r\n|   File \".../mesonbuild/msetup.py\", line 245, in run\r\n|     app.generate()\r\n|   File \".../mesonbuild/msetup.py\", line 159, in generate\r\n|     self._generate(env)\r\n|   File \".../mesonbuild/msetup.py\", line 192, in _generate\r\n|     intr.run()\r\n|   File \".../mesonbuild/interpreter.py\", line 4168, in run\r\n|     super().run()\r\n|   File \".../mesonbuild/interpreterbase.py\", line 412, in run\r\n|     self.evaluate_codeblock(self.ast, start=1)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 436, in evaluate_codeblock\r\n|     raise e\r\n|   File \".../mesonbuild/interpreterbase.py\", line 430, in evaluate_codeblock\r\n|     self.evaluate_statement(cur)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 451, in evaluate_statement\r\n|     return self.evaluate_if(cur)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 530, in evaluate_if\r\n|     self.evaluate_codeblock(i.block)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 436, in evaluate_codeblock\r\n|     raise e\r\n|   File \".../mesonbuild/interpreterbase.py\", line 430, in evaluate_codeblock\r\n|     self.evaluate_statement(cur)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 443, in evaluate_statement\r\n|     return self.assignment(cur)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 1064, in assignment\r\n|     value = self.evaluate_statement(node.value)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 441, in evaluate_statement\r\n|     return self.function_call(cur)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 788, in function_call\r\n|     return func(node, posargs, kwargs)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n|     return f(*wrapped_args, **wrapped_kwargs)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n|     return f(*wrapped_args, **wrapped_kwargs)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n|     return f(*wrapped_args, **wrapped_kwargs)\r\n|   [Previous line repeated 2 more times]\r\n|   File \".../mesonbuild/interpreterbase.py\", line 155, in wrapped\r\n|     ret = f(*wrapped_args, **wrapped_kwargs)\r\n|   File \".../mesonbuild/interpreterbase.py\", line 174, in wrapped\r\n|     return f(*wrapped_args, **wrapped_kwargs)\r\n|   File \".../mesonbuild/interpreter.py\", line 3237, in func_dependency\r\n|     d = self.dependency_impl(name, display_name, kwargs)\r\n|   File \".../mesonbuild/interpreter.py\", line 3284, in dependency_impl\r\n|     dep = dependencies.find_external_dependency(name, self.environment, kwargs)\r\n|   File \".../mesonbuild/dependencies/base.py\", line 2237, in find_external_dependency\r\n|     d = c()\r\n|   File \".../mesonbuild/dependencies/dev.py\", line 239, in __init__\r\n|     self._set_new_link_args(environment)\r\n|   File \".../mesonbuild/dependencies/dev.py\", line 287, in _set_new_link_args\r\n|     mode = self.get_config_value(['--shared-mode'], 'link_args')[0]\r\n| IndexError: list index out of range\r\n```\r\n\r\nTurns out `llvm-config --shared-mode` fails (separate issue, https://bugzilla.yoctoproject.org/show_bug.cgi?id=13937), but meson should catch the error and notify the user of the llvm-config failure.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7301", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7301/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7301/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7301/events", "html_url": "https://github.com/mesonbuild/meson/issues/7301", "id": 637187431, "node_id": "MDU6SXNzdWU2MzcxODc0MzE=", "number": 7301, "title": "[REGRESSION] UnboundLocalError in cmake configure_package_config_file()", "user": {"login": "p01arst0rm", "id": 11366022, "node_id": "MDQ6VXNlcjExMzY2MDIy", "avatar_url": "https://avatars.githubusercontent.com/u/11366022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/p01arst0rm", "html_url": "https://github.com/p01arst0rm", "followers_url": "https://api.github.com/users/p01arst0rm/followers", "following_url": "https://api.github.com/users/p01arst0rm/following{/other_user}", "gists_url": "https://api.github.com/users/p01arst0rm/gists{/gist_id}", "starred_url": "https://api.github.com/users/p01arst0rm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/p01arst0rm/subscriptions", "organizations_url": "https://api.github.com/users/p01arst0rm/orgs", "repos_url": "https://api.github.com/users/p01arst0rm/repos", "events_url": "https://api.github.com/users/p01arst0rm/events{/privacy}", "received_events_url": "https://api.github.com/users/p01arst0rm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1455967581, "node_id": "MDU6TGFiZWwxNDU1OTY3NTgx", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependency:cmake", "name": "dependency:cmake", "color": "fce2ab", "default": false, "description": "Issues related to `dependency` with the `cmake` method"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/50", "html_url": "https://github.com/mesonbuild/meson/milestone/50", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/50/labels", "id": 5475813, "node_id": "MDk6TWlsZXN0b25lNTQ3NTgxMw==", "number": 50, "title": "0.54.3", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2020-05-28T22:28:34Z", "updated_at": "2020-06-15T18:02:05Z", "due_on": null, "closed_at": "2020-06-15T18:02:05Z"}, "comments": 1, "created_at": "2020-06-11T17:11:54Z", "updated_at": "2020-06-12T15:51:23Z", "closed_at": "2020-06-12T15:51:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nwhen specifying `install_dir : join_paths(libdir, 'cmake')`  meson\r\npanics in function `configure_package_config_file()`  ;- line \r\n257 of `mesonbuild\\modules\\cmake.py`\r\n\r\n**To Reproduce**\r\n```\r\ncmake_conf = configuration_data()\r\ncmake_conf.set_quoted('foo', 'bar')\r\n\r\ncmake.configure_package_config_file(\r\n    name : 'foolib',\r\n    input : 'foolib.cmake.in',\r\n    install_dir : join_paths(libdir, 'cmake'),\r\n    configuration : cmake_conf)\r\n```\r\n\r\n**Expected behavior**\r\ngenerate a configured cmake package config file\r\n\r\n**system parameters**\r\n- native build\r\n- Windows 10 (Current latest patch KB4538461)\r\n- python version 3.7.1\r\n- meson version 0.54.1\r\n- ninja Not Applicable.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7295", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7295/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7295/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7295/events", "html_url": "https://github.com/mesonbuild/meson/issues/7295", "id": 636510915, "node_id": "MDU6SXNzdWU2MzY1MTA5MTU=", "number": 7295, "title": "Issue under MSYS2 on Windows when using ImDisk RAM disk", "user": {"login": "brechtsanders", "id": 17645177, "node_id": "MDQ6VXNlcjE3NjQ1MTc3", "avatar_url": "https://avatars.githubusercontent.com/u/17645177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brechtsanders", "html_url": "https://github.com/brechtsanders", "followers_url": "https://api.github.com/users/brechtsanders/followers", "following_url": "https://api.github.com/users/brechtsanders/following{/other_user}", "gists_url": "https://api.github.com/users/brechtsanders/gists{/gist_id}", "starred_url": "https://api.github.com/users/brechtsanders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brechtsanders/subscriptions", "organizations_url": "https://api.github.com/users/brechtsanders/orgs", "repos_url": "https://api.github.com/users/brechtsanders/repos", "events_url": "https://api.github.com/users/brechtsanders/events{/privacy}", "received_events_url": "https://api.github.com/users/brechtsanders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 2786641364, "node_id": "MDU6TGFiZWwyNzg2NjQxMzY0", "url": "https://api.github.com/repos/mesonbuild/meson/labels/msys", "name": "msys", "color": "6265A4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2020-06-10T20:01:59Z", "updated_at": "2021-06-29T17:52:57Z", "closed_at": "2021-06-29T17:52:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "To speed up my Windows builds under MSYS2 I always use an ImDisk RAM disk.\r\n\r\nMeson 0.54.0 and higher always seemed to be broken in my environment, but then I came across this Python issue: https://bugs.python.org/issue31842 which described exactly what I was experiencing.\r\n\r\nSo I tried building something that failed before - p11-kit v0.23.20 - on a regular Windows drive and apparently Meson 0.54.2 was working just fine in this case. On the RAM drive there were always Python errors.\r\n\r\nAfter some digging and trial and error I came up with this solution which fixes the problem:\r\n```\r\npatch -ulbf mesonbuild/interpreter.py << EOF\r\n@@ -2426,3 +2426,6 @@\r\n             builddir = Path(self.environment.get_build_dir())\r\n-            f = Path(f).resolve()\r\n+            if mesonlib.is_windows():\r\n+                f = Path(os.path.normpath(f))\r\n+            else:\r\n+                f = Path(f).resolve()\r\n             if builddir in f.parents:\r\nEOF\r\n```\r\n\r\nI'm not sure if this as a generally acceptible solution, but it may also fix issues on Windows with other types of non-local drives. It does however skip symlink resolution stuff, but I don't think that will be a problem on Windows.\r\n\r\nI hope you will consider my solution, so I start using the next Meson release without modifications.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7276", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7276/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7276/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7276/events", "html_url": "https://github.com/mesonbuild/meson/issues/7276", "id": 634874609, "node_id": "MDU6SXNzdWU2MzQ4NzQ2MDk=", "number": 7276, "title": "Meson will find build machine binaries for host if the build machine and host machine are the same", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-08T19:23:16Z", "updated_at": "2020-08-12T19:57:35Z", "closed_at": "2020-06-12T18:16:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If you have a case where the build machine == host machine (say x86_64-linux and x86_64-linux) then meson will try to use binaries from the build machine for the host unconditionally. There are however cases where this isn't safe, such as with cmake. When building chromeos this exact situation happens, and the default /usr/bin/cmake is selected, which in turn finds dependencies on the build machine, and tries to use them in the host machine, which obviously will compile, but results in an unusable system.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7276/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7111", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7111/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7111/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7111/events", "html_url": "https://github.com/mesonbuild/meson/issues/7111", "id": 615247325, "node_id": "MDU6SXNzdWU2MTUyNDczMjU=", "number": 7111, "title": "iOS simulator cross compiling is broken since Meson 0.54.0", "user": {"login": "tbodt", "id": 5678977, "node_id": "MDQ6VXNlcjU2Nzg5Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5678977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbodt", "html_url": "https://github.com/tbodt", "followers_url": "https://api.github.com/users/tbodt/followers", "following_url": "https://api.github.com/users/tbodt/following{/other_user}", "gists_url": "https://api.github.com/users/tbodt/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbodt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbodt/subscriptions", "organizations_url": "https://api.github.com/users/tbodt/orgs", "repos_url": "https://api.github.com/users/tbodt/repos", "events_url": "https://api.github.com/users/tbodt/events{/privacy}", "received_events_url": "https://api.github.com/users/tbodt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/49", "html_url": "https://github.com/mesonbuild/meson/milestone/49", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/49/labels", "id": 5363179, "node_id": "MDk6TWlsZXN0b25lNTM2MzE3OQ==", "number": 49, "title": "0.54.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 40, "state": "closed", "created_at": "2020-04-29T11:47:41Z", "updated_at": "2020-05-15T17:01:01Z", "due_on": null, "closed_at": "2020-05-15T17:01:01Z"}, "comments": 13, "created_at": "2020-05-09T19:45:29Z", "updated_at": "2020-05-14T14:33:05Z", "closed_at": "2020-05-14T04:18:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\niOS simulator binaries can't be run on the host. My cross file specifies this with `needs_exe_wrapper = true`.\r\n\r\n**To Reproduce**\r\nThe meson.build file is irrelevant, it only has to specify the C language. For example, `project('repro', 'c')`.\r\n\r\nCross file:\r\n```\r\n[binaries]\r\nc = 'clang'\r\nar = 'ar'\r\n\r\n[host_machine]\r\nsystem = 'darwin'\r\ncpu_family = 'x86_64'\r\ncpu = 'x86_64'\r\nendian = 'little'\r\n\r\n[properties]\r\nc_args = ['-arch', 'x86_64']\r\nneeds_exe_wrapper = true\r\n```\r\n\r\nInstall Xcode, then run meson with these environment variables. SDKROOT may have to be updated depending on your Xcode version, this works for Xcode 11.4.1.\r\n```sh\r\nexport SDKROOT=/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator13.4.sdk\r\nexport CC_FOR_BUILD=\"env -u SDKROOT clang\"\r\n```\r\n\r\n**Expected behavior**\r\nExpected Meson to succeed, instead got\r\n```\r\nmeson.build:1:0: ERROR: Executables created by c compiler ccache cc are not runnable.\r\n```\r\n\r\nIf I install meson 0.53.1 (and use CC instead of CC_FOR_BUILD due to #6806) it works. If I change the `'-arch'` in the cross file to arm64 and use the iPhone SDK instead of the simulator SDK, it works.\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? cross build\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.): macOS 10.15.4\r\n* what Python version are you using e.g. 3.8.0: 3.7.6\r\n* what `meson --version`: 0.54.0\r\n* what `ninja --version` if it's a Ninja build: 1.9.0\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7111/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7107", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7107/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7107/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7107/events", "html_url": "https://github.com/mesonbuild/meson/issues/7107", "id": 614941949, "node_id": "MDU6SXNzdWU2MTQ5NDE5NDk=", "number": 7107, "title": "disabler() objects convert arrays into non-arrays", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-08T19:34:11Z", "updated_at": "2020-08-18T14:08:00Z", "closed_at": "2020-08-18T14:08:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When an array is used to contain a bunch of built objects, e.g. executable()s , if any of those objects becomes a disabler() object, the array stops being an array, and syntactic breakage occurs.\r\n\r\nFor example:\r\n```python\r\nproject('list-of-disablers', 'c',\r\n        version : '2.35-rc2',\r\n        license : 'GPLv2+')\r\nexes = []\r\n\r\nexes += executable(\r\n  'foo',\r\n  'foo.c')\r\n\r\nexes += executable(\r\n  'foo2',\r\n  'foo.c',\r\n  dependencies : disabler())\r\n\r\nexes += executable(       #here\r\n  'foo3',\r\n  'foo.c')\r\n```\r\nThis fails with:\r\n```\r\n../meson.build:16:0: ERROR: The += operator currently only works with arrays, dicts, strings or ints \r\n```\r\nbecause fails because `exes` is suddenly not an array any more, but a disabler() object. This is just not terribly useful. Instead of changing the types, disabled object need to keep their type, but just get disabled.\r\n\r\nmeson-0.54.0-1.fc32.noarch", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7080", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7080/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7080/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7080/events", "html_url": "https://github.com/mesonbuild/meson/issues/7080", "id": 612285690, "node_id": "MDU6SXNzdWU2MTIyODU2OTA=", "number": 7080, "title": "Deprecation warnings are reversed", "user": {"login": "jtojnar", "id": 705123, "node_id": "MDQ6VXNlcjcwNTEyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/705123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtojnar", "html_url": "https://github.com/jtojnar", "followers_url": "https://api.github.com/users/jtojnar/followers", "following_url": "https://api.github.com/users/jtojnar/following{/other_user}", "gists_url": "https://api.github.com/users/jtojnar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtojnar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtojnar/subscriptions", "organizations_url": "https://api.github.com/users/jtojnar/orgs", "repos_url": "https://api.github.com/users/jtojnar/repos", "events_url": "https://api.github.com/users/jtojnar/events{/privacy}", "received_events_url": "https://api.github.com/users/jtojnar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/49", "html_url": "https://github.com/mesonbuild/meson/milestone/49", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/49/labels", "id": 5363179, "node_id": "MDk6TWlsZXN0b25lNTM2MzE3OQ==", "number": 49, "title": "0.54.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 40, "state": "closed", "created_at": "2020-04-29T11:47:41Z", "updated_at": "2020-05-15T17:01:01Z", "due_on": null, "closed_at": "2020-05-15T17:01:01Z"}, "comments": 3, "created_at": "2020-05-05T02:39:26Z", "updated_at": "2020-05-12T17:24:25Z", "closed_at": "2020-05-12T17:24:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen I use `python3` module with min_version where it was not deprecated yet, I get deprecation warning and a \u201cfeature too new\u201d warning:\r\n\r\n```\r\nDEPRECATION: Project targeting '>= 0.47' but tried to use feature deprecated since '0.48.0': python3 module\r\nBuild targets in project: 0\r\nWARNING: Project specifies a minimum meson_version '>= 0.47' but uses features which were added in newer versions:\r\n * 0.48.0: {'python3 module'}\r\nWARNING: Deprecated features used:\r\n * 0.48.0: {'python3 module'}\r\n```\r\n\r\nWhen I bump the min_version to 0.48 both warnings disappear.\r\n\r\n**To Reproduce**\r\n```\r\nproject('almanah', 'c', meson_version: '>= 0.47')\r\n\r\npython3 = import('python3')\r\npython = python3.find_python().path()\r\n```\r\n\r\n**Expected behavior**\r\n* Do not show deprecation warning with min_version < 48\r\n* Show deprecation warning with min_version \u2265 48\r\n* Never show \u201cfeature too new\u201d warning.\r\n\r\n**system parameters**\r\n* native build\r\n* NixOS\r\n* Python 3.7.7\r\n* Meson 0.54.1\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7080/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7062", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7062/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7062/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7062/events", "html_url": "https://github.com/mesonbuild/meson/issues/7062", "id": 609732881, "node_id": "MDU6SXNzdWU2MDk3MzI4ODE=", "number": 7062, "title": "[DPDK][meosn >= 0.54.0] meson doesn't find libs pointed by PKG_CONFIG_PATH in a cross build", "user": {"login": "alialnu", "id": 25791383, "node_id": "MDQ6VXNlcjI1NzkxMzgz", "avatar_url": "https://avatars.githubusercontent.com/u/25791383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alialnu", "html_url": "https://github.com/alialnu", "followers_url": "https://api.github.com/users/alialnu/followers", "following_url": "https://api.github.com/users/alialnu/following{/other_user}", "gists_url": "https://api.github.com/users/alialnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/alialnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alialnu/subscriptions", "organizations_url": "https://api.github.com/users/alialnu/orgs", "repos_url": "https://api.github.com/users/alialnu/repos", "events_url": "https://api.github.com/users/alialnu/events{/privacy}", "received_events_url": "https://api.github.com/users/alialnu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 850825624, "node_id": "MDU6TGFiZWw4NTA4MjU2MjQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/pkgconfig", "name": "pkgconfig", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/49", "html_url": "https://github.com/mesonbuild/meson/milestone/49", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/49/labels", "id": 5363179, "node_id": "MDk6TWlsZXN0b25lNTM2MzE3OQ==", "number": 49, "title": "0.54.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 40, "state": "closed", "created_at": "2020-04-29T11:47:41Z", "updated_at": "2020-05-15T17:01:01Z", "due_on": null, "closed_at": "2020-05-15T17:01:01Z"}, "comments": 2, "created_at": "2020-04-30T08:58:47Z", "updated_at": "2020-05-07T08:52:46Z", "closed_at": "2020-05-06T21:01:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Description**\r\nMeson does not set `PKG_CONFIG_PATH` internally and so it fails to find libraries pointed by the env variable in a cross build.\r\n\r\nThe cause is [Revert \"Naturally use env vars a bit more to match Autoconf\" ](https://github.com/mesonbuild/meson/commit/7924e5f).\r\n\r\n**To Reproduce for DPDK**\r\n```\r\ngit clone git://dpdk.org/dpdk; cd dpdk\r\nexport PKG_CONFIG_PATH=/path/to/lib/pkgconfig\r\nmeson --werror --cross-file config/arm/arm64_armv8_linux_gcc build\r\n```\r\n\r\nContents of `config/arm/arm64_armv8_linux_gcc`:\r\n```\r\n[binaries]\r\nc = 'aarch64-linux-gnu-gcc'\r\ncpp = 'aarch64-linux-gnu-cpp'\r\nar = 'aarch64-linux-gnu-gcc-ar'\r\nstrip = 'aarch64-linux-gnu-strip'\r\npkgconfig = 'aarch64-linux-gnu-pkg-config'\r\npcap-config = ''\r\n\r\n[host_machine]\r\nsystem = 'linux'\r\ncpu_family = 'aarch64'\r\ncpu = 'armv8-a'\r\nendian = 'little'\r\n...\r\n```\r\n\r\nMeson calls `/usr/bin/aarch64-linux-gnu-pkg-config --modversion lib` to find the lib but it doesn't because it sees `PKG_CONFIG_PATH` as empty.\r\n\r\nI noticed that meson warns about a bunch of unset env variables. Is this expected? Do I need to rename the variable names under `[binaries]` in my cross file?:\r\n```\r\nNone of 'PKG_CONFIG_PATH_FOR_BUILD' are defined in the environment, not changing global flags.\r\nNone of  are defined in the environment, not changing global flags.\r\nProject name: DPDK\r\nProject version: 20.05.0-rc1\r\nNone of 'CC_FOR_BUILD' are defined in the environment, not changing global flags.\r\nNone of 'CFLAGS_FOR_BUILD' are defined in the environment, not changing global flags.\r\nNone of 'LDFLAGS_FOR_BUILD' are defined in the environment, not changing global flags.\r\nNone of 'CPPFLAGS_FOR_BUILD' are defined in the environment, not changing global flags.\r\nNone of 'CC_LD_FOR_BUILD' are defined in the environment, not changing global flags.\r\n```\r\nI tried setting the env variable `PKG_CONFIG_PATH_FOR_BUILD`, but it produced the same issue.\r\n\r\n**Expected behavior**\r\nMeson is expected to find the libs, but it no longer does.\r\n\r\n**System parameters**\r\n* Is this a cross build: Yes\r\n* Operating system: 18.04.4 LTS\r\n* Python version: 3.6.9\r\n* Meson version: 0.54.1\r\n\r\n**EDIT**\r\nWith `-Dpkg_config_path`, the build works as expected.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7062/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7062/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7041", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7041/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7041/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7041/events", "html_url": "https://github.com/mesonbuild/meson/issues/7041", "id": 607157710, "node_id": "MDU6SXNzdWU2MDcxNTc3MTA=", "number": 7041, "title": "CLikeCompiler.run() ignores 'needs_exe_wrapper' property", "user": {"login": "floppym", "id": 504287, "node_id": "MDQ6VXNlcjUwNDI4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/504287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/floppym", "html_url": "https://github.com/floppym", "followers_url": "https://api.github.com/users/floppym/followers", "following_url": "https://api.github.com/users/floppym/following{/other_user}", "gists_url": "https://api.github.com/users/floppym/gists{/gist_id}", "starred_url": "https://api.github.com/users/floppym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/floppym/subscriptions", "organizations_url": "https://api.github.com/users/floppym/orgs", "repos_url": "https://api.github.com/users/floppym/repos", "events_url": "https://api.github.com/users/floppym/events{/privacy}", "received_events_url": "https://api.github.com/users/floppym/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/49", "html_url": "https://github.com/mesonbuild/meson/milestone/49", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/49/labels", "id": 5363179, "node_id": "MDk6TWlsZXN0b25lNTM2MzE3OQ==", "number": 49, "title": "0.54.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 40, "state": "closed", "created_at": "2020-04-29T11:47:41Z", "updated_at": "2020-05-15T17:01:01Z", "due_on": null, "closed_at": "2020-05-15T17:01:01Z"}, "comments": 1, "created_at": "2020-04-27T00:44:35Z", "updated_at": "2020-05-14T04:17:58Z", "closed_at": "2020-05-14T04:17:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWhen building a project using a cross file with `needs_exe_wrapper = false`, meson emits an error like this:\r\n```\r\n../glib-2.64.2/meson.build:865:4: ERROR: Can not run test applications in this cross environment.\r\n```\r\n\r\n**To Reproduce**\r\n\r\nAttempt to configure glib with a cross file containing `needs_exe_wrapper = false`.\r\n\r\nHere is the cross file I used.\r\n\r\n[i686.txt](https://github.com/mesonbuild/meson/files/4536788/i686.txt)\r\n\r\n**Expected behavior**\r\n\r\nmeson setup should succeed. This worked fine with meson 0.53.1.\r\n\r\n**system parameters**\r\n\r\n* Technically a cross-compile (i686 on an x86_64 machine), though the resulting binaries can be executed natively without emulation.\r\n* Gentoo Linux\r\n* Python 3.8.2\r\n* meson 0.54.0 or 0.54.1\r\n* ninja 1.10.0\r\n\r\nDownstream bug report: https://bugs.gentoo.org/719382", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7026", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/7026/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/7026/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/7026/events", "html_url": "https://github.com/mesonbuild/meson/issues/7026", "id": 606113468, "node_id": "MDU6SXNzdWU2MDYxMTM0Njg=", "number": 7026, "title": "Claims environment variables have changed even if they have not", "user": {"login": "michaelkuhn", "id": 4062614, "node_id": "MDQ6VXNlcjQwNjI2MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4062614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelkuhn", "html_url": "https://github.com/michaelkuhn", "followers_url": "https://api.github.com/users/michaelkuhn/followers", "following_url": "https://api.github.com/users/michaelkuhn/following{/other_user}", "gists_url": "https://api.github.com/users/michaelkuhn/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelkuhn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelkuhn/subscriptions", "organizations_url": "https://api.github.com/users/michaelkuhn/orgs", "repos_url": "https://api.github.com/users/michaelkuhn/repos", "events_url": "https://api.github.com/users/michaelkuhn/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelkuhn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-24T07:47:45Z", "updated_at": "2021-10-05T07:39:53Z", "closed_at": "2021-10-05T07:39:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI am not sure whether this issue existed prior to Meson 0.54 but I have just started noticing it due to the increased output (see #7025).\r\n\r\n**To Reproduce**\r\n\r\nUse the following `meson.build`:\r\n\r\n```\r\nproject('foo', 'c')\r\n\r\nglib_dep = dependency('glib-2.0')\r\ngio_dep = dependency('gio-2.0')\r\ngmodule_dep = dependency('gmodule-2.0')\r\ngthread_dep = dependency('gthread-2.0')\r\ngobject_dep = dependency('gobject-2.0')\r\n```\r\n\r\nIf I now do the following steps, I get warnings about changed environment variables:\r\n\r\n```console\r\n$ export PKG_CONFIG_PATH=/usr/lib64/pkgconfig \r\n$ meson foo                                  \r\n$ touch meson.build \r\n$ ninja -C foo\r\nninja: Entering directory `foo'\r\n[0/1] Regenerating build files.\r\nThe Meson build system\r\nVersion: 0.54.0\r\nSource dir: /home/michael/spack\r\nBuild dir: /home/michael/spack/foo\r\nBuild type: native build\r\nUsing 'PKG_CONFIG_PATH' from environment with value: '/usr/lib64/pkgconfig'\r\nWARNING: PKG_CONFIG_PATH environment variable has changed between configurations, meson ignores this. Use -Dpkg_config_path to change pkg-config search path instead.\r\nUsing 'PKG_CONFIG_PATH' from environment with value: '/usr/lib64/pkgconfig'\r\nWARNING: PKG_CONFIG_PATH environment variable has changed between configurations, meson ignores this. Use -Dpkg_config_path to change pkg-config search path instead.\r\nProject name: foo\r\nProject version: undefined\r\nC compiler for the host machine: cc (gcc 9.3.1 \"cc (GCC) 9.3.1 20200408 (Red Hat 9.3.1-2)\")\r\nC linker for the host machine: cc ld.bfd 2.32-31\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nDependency glib-2.0 found: YES 2.62.6 (cached)\r\nDependency gio-2.0 found: YES 2.62.6 (cached)\r\nDependency gmodule-2.0 found: YES 2.62.6 (cached)\r\nDependency gthread-2.0 found: YES 2.62.6 (cached)\r\nDependency gobject-2.0 found: YES 2.62.6 (cached)\r\nBuild targets in project: 0\r\n\r\nFound ninja-1.10.0 at /home/michael/spack/opt/spack/linux-fedora31-haswell/gcc-9.3.1/ninja-1.10.0-ptdbfquegwqmo4kgvvdde2m7vynle4rz/bin/ninja\r\nninja: no work to do.\r\n```\r\n\r\n**Expected behavior**\r\n\r\nMeson should not warn about changed environment variables if they have not changed.\r\n\r\n**System parameters**\r\n\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? native\r\n* Operating system: Fedora 31\r\n* Python version: 3.7.7\r\n* Meson version: 0.54.0", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/7026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/7026/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6932", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6932/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6932/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6932/events", "html_url": "https://github.com/mesonbuild/meson/issues/6932", "id": 597573210, "node_id": "MDU6SXNzdWU1OTc1NzMyMTA=", "number": 6932, "title": "cmake@ substitutions fail in 0.54.0, they worked in 0.53.0", "user": {"login": "Alan-R", "id": 1258659, "node_id": "MDQ6VXNlcjEyNTg2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1258659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alan-R", "html_url": "https://github.com/Alan-R", "followers_url": "https://api.github.com/users/Alan-R/followers", "following_url": "https://api.github.com/users/Alan-R/following{/other_user}", "gists_url": "https://api.github.com/users/Alan-R/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alan-R/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alan-R/subscriptions", "organizations_url": "https://api.github.com/users/Alan-R/orgs", "repos_url": "https://api.github.com/users/Alan-R/repos", "events_url": "https://api.github.com/users/Alan-R/events{/privacy}", "received_events_url": "https://api.github.com/users/Alan-R/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/47", "html_url": "https://github.com/mesonbuild/meson/milestone/47", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/47/labels", "id": 5254016, "node_id": "MDk6TWlsZXN0b25lNTI1NDAxNg==", "number": 47, "title": "0.54.1", "description": null, "creator": {"login": "xclaesse", "id": 1379109, "node_id": "MDQ6VXNlcjEzNzkxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1379109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xclaesse", "html_url": "https://github.com/xclaesse", "followers_url": "https://api.github.com/users/xclaesse/followers", "following_url": "https://api.github.com/users/xclaesse/following{/other_user}", "gists_url": "https://api.github.com/users/xclaesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/xclaesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xclaesse/subscriptions", "organizations_url": "https://api.github.com/users/xclaesse/orgs", "repos_url": "https://api.github.com/users/xclaesse/repos", "events_url": "https://api.github.com/users/xclaesse/events{/privacy}", "received_events_url": "https://api.github.com/users/xclaesse/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2020-03-30T18:58:03Z", "updated_at": "2020-04-27T17:59:38Z", "due_on": null, "closed_at": "2020-04-27T17:59:38Z"}, "comments": 2, "created_at": "2020-04-09T21:48:44Z", "updated_at": "2020-04-10T18:14:55Z", "closed_at": "2020-04-10T18:14:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nLatest version stopped supporting **cmake@** subsitutions in 0.54.0. It now finishes with an assert failure:\r\n                                                                                                                       \r\n```\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/mesonlib.py\", line 880, in do_replacement                                                                                                  \r\n    assert variable_format == 'meson'                                                                                                                                                                \r\nAssertionError\r\n```\r\n\r\n**To Reproduce**\r\n```\r\n# Create project_common.h from project_common.h.in\r\ncommon = configure_file(input: 'include/projectcommon.h.in',\r\n                        output: 'projectcommon.h',\r\n                        configuration: config_data,\r\n                        format: 'cmake@',\r\n                        )\r\n\r\n```\r\n**Expected behavior**\r\nIt should do the substitutions like it did in 0.53.0.\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? **Native**\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.) **Ubuntu**\r\n* what Python version are you using e.g. 3.8.0: **3.6.10**\r\n* what `meson --version`: **0.54.0**\r\n* what `ninja --version` if it's a Ninja build\r\n**It didn't get that far.**\r\n\r\nI discussed this with @dcbaker on IRC. You need a cmake@ regression test.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6932/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6882", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6882/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6882/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6882/events", "html_url": "https://github.com/mesonbuild/meson/issues/6882", "id": 591236738, "node_id": "MDU6SXNzdWU1OTEyMzY3Mzg=", "number": 6882, "title": "Multiple processes build does not work in Visual Studio", "user": {"login": "tomaszduda23", "id": 35012788, "node_id": "MDQ6VXNlcjM1MDEyNzg4", "avatar_url": "https://avatars.githubusercontent.com/u/35012788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaszduda23", "html_url": "https://github.com/tomaszduda23", "followers_url": "https://api.github.com/users/tomaszduda23/followers", "following_url": "https://api.github.com/users/tomaszduda23/following{/other_user}", "gists_url": "https://api.github.com/users/tomaszduda23/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaszduda23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaszduda23/subscriptions", "organizations_url": "https://api.github.com/users/tomaszduda23/orgs", "repos_url": "https://api.github.com/users/tomaszduda23/repos", "events_url": "https://api.github.com/users/tomaszduda23/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaszduda23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983236977, "node_id": "MDU6TGFiZWwxOTgzMjM2OTc3", "url": "https://api.github.com/repos/mesonbuild/meson/labels/backend:visualstudio", "name": "backend:visualstudio", "color": "edc500", "default": false, "description": "Visual Studio project backends"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-31T16:13:29Z", "updated_at": "2021-10-10T11:26:11Z", "closed_at": "2021-10-10T11:26:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nVisual Studio build takes much more time comparing to ninja build.\r\n\r\n1.\r\nhttps://docs.microsoft.com/en-us/cpp/build/reference/mp-build-with-multiple-processes?view=vs-2019 should be enabled by default\r\n\r\n2.\r\nvs2010backend.py:\r\nET.SubElement(inc_cl, 'ObjectFileName').text = \"$(IntDir)\" + self.object_filename_from_source(target, s)\r\nThis line causes that /MP does not work. In the past it was added only if there was conflict in source files. Now it is added by default.\r\n\r\n**Expected behavior**\r\nninja and VS build should take similar time\r\n\r\n**system parameters**\r\nmeson build --backend=vs2017\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6882/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6834", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6834/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6834/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6834/events", "html_url": "https://github.com/mesonbuild/meson/issues/6834", "id": 586719735, "node_id": "MDU6SXNzdWU1ODY3MTk3MzU=", "number": 6834, "title": "meson look in the main source_root directory for the included file instead of the actual sub-directory.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1505960320, "node_id": "MDU6TGFiZWwxNTA1OTYwMzIw", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:fortran", "name": "language:fortran", "color": "5aabc4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-24T06:13:53Z", "updated_at": "2021-02-01T21:42:18Z", "closed_at": "2021-02-01T21:42:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen parsing the included files in Fortran, meson look in the source_root directory instead of the source-current directory which leads to an error. \r\n\r\n**To Reproduce**\r\n```SHELL\r\ntree\r\n.                                                                                                                                                    \r\n\u251c\u2500\u2500 dir\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main.f90\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 meson.build\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 program.f90 \r\n\u2514\u2500\u2500 meson.build\r\n```\r\nmeson.build (source_root)\r\n```meson\r\nproject( 'include_bug', 'fortran' )\r\nsubdir( 'dir' )\r\n```\r\nmeson.build (sub-directory)\r\n```meson\r\nexecutable( 'main', 'main.f90' )\r\n```\r\nmain.f90\r\n```Fortran\r\nprogram main\r\ninclude \"program.f90\"\r\nend program main\r\n```\r\nprogram.f90\r\n```Fortran\r\nprint*, \"Hello World\"\r\n```\r\nTrying to configure:\r\n```SHELL\r\n meson build\r\nThe Meson build system\r\nVersion: 0.53.2\r\nSource dir: /mnt/d/Training/Fortran/meson/include_bug\r\nBuild dir: /mnt/d/Training/Fortran/meson/include_bug/build\r\nBuild type: native build\r\nProject name: include_bug\r\nProject version: undefined\r\nFortran compiler for the host machine: ifort (intel 19.1.0.166 \"ifort (IFORT) 19.1.0.166 20191121\")\r\nFortran linker for the host machine: ifort ld.bfd 2.30\r\nHost machine cpu family: x86_64\r\nHost machine cpu: x86_64\r\nBuild targets in project: 1\r\n\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\nTraceback (most recent call last):\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 129, in run\r\n    return options.run_func(options)\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/msetup.py\", line 245, in run\r\n    app.generate()\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/msetup.py\", line 159, in generate\r\n    self._generate(env)\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/msetup.py\", line 215, in _generate\r\n    intr.backend.generate(intr)\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 315, in generate\r\n    self.generate_target(t)\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 629, in generate_target\r\n    obj_list.append(self.generate_single_compile(target, src, False, [], header_deps))\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 2175, in generate_single_compile\r\n    extra_deps += self.get_fortran_deps(compiler, abs_src, target)\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 1884, in get_fortran_deps\r\n    mod_files = _scan_fortran_file_deps(src, srcdir, dirname, tdeps, compiler)\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 2828, in _scan_fortran_file_deps\r\n    mod_files.extend(_scan_fortran_file_deps(incfile, srcdir, dirname, tdeps, compiler))\r\n  File \"/home/mehdi/.local/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 2821, in _scan_fortran_file_deps\r\n    with src.open(encoding='ascii', errors='ignore') as f:\r\n  File \"/usr/lib/python3.6/pathlib.py\", line 1183, in open\r\n    opener=self._opener)\r\n  File \"/usr/lib/python3.6/pathlib.py\", line 1037, in _opener\r\n    return self._accessor.open(self, flags, mode)\r\n  File \"/usr/lib/python3.6/pathlib.py\", line 387, in wrapped\r\n    return strfunc(str(pathobj), *args)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/mnt/d/Training/Fortran/meson/include_bug/program.f90'\r\n```\r\n\r\n**Expected behavior**\r\nAs you can see, meson is looking for \"program.f90\" not for \"dir/program.f90\".\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)?\r\nplain native build.\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.)\r\nWindows-10/MSYS-MinGW-64 and Ubuntu-18.04(WSL)\r\n* what Python version are you using e.g. 3.8.0\r\n3.8.2 on MSYS-MinGW-64 and 3.6.9 on Ubuntu-18.04(WSL)\r\n* what `meson --version`\r\n0.53.2\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6834/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6801", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6801/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6801/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6801/events", "html_url": "https://github.com/mesonbuild/meson/issues/6801", "id": 584392934, "node_id": "MDU6SXNzdWU1ODQzOTI5MzQ=", "number": 6801, "title": "FileNotFoundError: [Errno 2] \\\\Meson\\\\mesonbuild\\\\dependencies\\\\data\\\\CMakePathInfo.txt", "user": {"login": "cherepanovic", "id": 10064548, "node_id": "MDQ6VXNlcjEwMDY0NTQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10064548?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cherepanovic", "html_url": "https://github.com/cherepanovic", "followers_url": "https://api.github.com/users/cherepanovic/followers", "following_url": "https://api.github.com/users/cherepanovic/following{/other_user}", "gists_url": "https://api.github.com/users/cherepanovic/gists{/gist_id}", "starred_url": "https://api.github.com/users/cherepanovic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cherepanovic/subscriptions", "organizations_url": "https://api.github.com/users/cherepanovic/orgs", "repos_url": "https://api.github.com/users/cherepanovic/repos", "events_url": "https://api.github.com/users/cherepanovic/events{/privacy}", "received_events_url": "https://api.github.com/users/cherepanovic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1455967581, "node_id": "MDU6TGFiZWwxNDU1OTY3NTgx", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependency:cmake", "name": "dependency:cmake", "color": "fce2ab", "default": false, "description": "Issues related to `dependency` with the `cmake` method"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-19T12:57:17Z", "updated_at": "2020-04-20T21:40:20Z", "closed_at": "2020-04-20T21:40:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to install the [BGP Scanner](https://gitlab.com/Isolario/bgpscanner) with meson, I got this failure. Could anyone provide an advice for this issue? Thanks! \r\n\r\n\r\n```\r\nC:\\Users\\icherepa\\Desktop\\bgpscanner> meson --buildtype=release ..\r\nThe Meson build system\r\nVersion: 0.53.2\r\nSource dir: C:\\Users\\icherepa\\Desktop\\bgpscanner\r\nBuild dir: C:\\Users\\icherepa\\Desktop\r\nBuild type: native build\r\nProject name: bgpscanner\r\nProject version: 2.31\r\nC compiler for the host machine: gcc (gcc 6.3.0 \"gcc (MinGW.org GCC-6.3.0-1) 6.3.0\")\r\nC linker for the host machine: gcc ld.bfd 2.28\r\nHost machine cpu family: x86\r\nHost machine cpu: x86\r\nRun-time dependency threads found: YES\r\nFound pkg-config: C:\\MinGW\\bin\\pkg-config.EXE (0.23)\r\nFound CMake: C:\\Program Files\\CMake\\bin\\cmake.EXE (3.17.0-rc3)\r\nTraceback (most recent call last):\r\n  File \"mesonbuild\\mesonmain.py\", line 129, in run\r\n  File \"mesonbuild\\msetup.py\", line 245, in run\r\n  File \"mesonbuild\\msetup.py\", line 159, in generate\r\n  File \"mesonbuild\\msetup.py\", line 192, in _generate\r\n  File \"mesonbuild\\interpreter.py\", line 4167, in run\r\n  File \"mesonbuild\\interpreterbase.py\", line 412, in run\r\n  File \"mesonbuild\\interpreterbase.py\", line 436, in evaluate_codeblock\r\n  File \"mesonbuild\\interpreterbase.py\", line 430, in evaluate_codeblock\r\n  File \"mesonbuild\\interpreterbase.py\", line 443, in evaluate_statement\r\n  File \"mesonbuild\\interpreterbase.py\", line 1064, in assignment\r\n  File \"mesonbuild\\interpreterbase.py\", line 441, in evaluate_statement\r\n  File \"mesonbuild\\interpreterbase.py\", line 788, in function_call\r\n  File \"mesonbuild\\interpreterbase.py\", line 285, in wrapped\r\n  File \"mesonbuild\\interpreterbase.py\", line 285, in wrapped\r\n  File \"mesonbuild\\interpreterbase.py\", line 285, in wrapped\r\n  [Previous line repeated 2 more times]\r\n  File \"mesonbuild\\interpreterbase.py\", line 155, in wrapped\r\n  File \"mesonbuild\\interpreterbase.py\", line 174, in wrapped\r\n  File \"mesonbuild\\interpreter.py\", line 3236, in func_dependency\r\n  File \"mesonbuild\\interpreter.py\", line 3283, in dependency_impl\r\n  File \"mesonbuild\\dependencies\\base.py\", line 2234, in find_external_dependency\r\n  File \"mesonbuild\\dependencies\\base.py\", line 1104, in __init__\r\n  File \"mesonbuild\\dependencies\\base.py\", line 1158, in _get_cmake_info\r\n  File \"mesonbuild\\dependencies\\base.py\", line 1533, in _call_cmake\r\n  File \"mesonbuild\\dependencies\\base.py\", line 1507, in _setup_cmake_dir\r\n  File \"pathlib.py\", line 1229, in read_text\r\n  File \"pathlib.py\", line 1215, in open\r\n  File \"pathlib.py\", line 1071, in _opener\r\nFileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Program Files\\\\Meson\\\\mesonbuild\\\\dependencies\\\\data\\\\CMakePathInfo.txt'\r\n```\r\n\r\nI don't know how my issue is related to https://github.com/mesonbuild/meson/issues/5858 (there is also no solution answer).\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6801/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6784", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6784/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6784/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6784/events", "html_url": "https://github.com/mesonbuild/meson/issues/6784", "id": 581360551, "node_id": "MDU6SXNzdWU1ODEzNjA1NTE=", "number": 6784, "title": "common/39 has function fails on Linux", "user": {"login": "ernestask", "id": 26867637, "node_id": "MDQ6VXNlcjI2ODY3NjM3", "avatar_url": "https://avatars.githubusercontent.com/u/26867637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ernestask", "html_url": "https://github.com/ernestask", "followers_url": "https://api.github.com/users/ernestask/followers", "following_url": "https://api.github.com/users/ernestask/following{/other_user}", "gists_url": "https://api.github.com/users/ernestask/gists{/gist_id}", "starred_url": "https://api.github.com/users/ernestask/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ernestask/subscriptions", "organizations_url": "https://api.github.com/users/ernestask/orgs", "repos_url": "https://api.github.com/users/ernestask/repos", "events_url": "https://api.github.com/users/ernestask/events{/privacy}", "received_events_url": "https://api.github.com/users/ernestask/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/53", "html_url": "https://github.com/mesonbuild/meson/milestone/53", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/53/labels", "id": 5775340, "node_id": "MDk6TWlsZXN0b25lNTc3NTM0MA==", "number": 53, "title": "0.55.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2020-08-15T08:43:12Z", "updated_at": "2020-09-10T16:33:01Z", "due_on": null, "closed_at": "2020-09-10T16:33:01Z"}, "comments": 2, "created_at": "2020-03-14T20:31:10Z", "updated_at": "2020-08-27T00:08:03Z", "closed_at": "2020-08-27T00:08:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nSeems that glibc has grown an lchmod implementation that breaks the test:\r\nhttps://sourceware.org/bugzilla/show_bug.cgi?id=14578\r\nhttps://sourceware.org/git/?p=glibc.git;a=commit;h=6b89c385d8bd0700b25bac2c2d0bebe68d5cc05d\r\n\r\n**To Reproduce**\r\nTry to build https://src.fedoraproject.org/rpms/meson/blob/master/f/meson.spec with tests enabled in the Rawhide chroot with Mock. Just booting the latest Rawhide compose and running the test there should work as well, I imagine (will try now).\r\n\r\n**Expected behavior**\r\ntest cases/common/39 has function passes.\r\n\r\n**system parameters**\r\n* Is this a [cross build](https://mesonbuild.com/Cross-compilation.html) or just a plain native build (for the same computer)? Native build\r\n* what operating system (e.g. MacOS Catalina, Windows 10, CentOS 8.0, Ubuntu 18.04, etc.): Fedora Rawhide\r\n* what Python version are you using e.g. 3.8.0: 3.8.2\r\n* what `meson --version`: 0.53.999 (88e40c7081b9bf8a337022ad2f12efe485fa8021)\r\n* what `ninja --version` if it's a Ninja build: N/A\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6784/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6784/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6769", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6769/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6769/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6769/events", "html_url": "https://github.com/mesonbuild/meson/issues/6769", "id": 579287393, "node_id": "MDU6SXNzdWU1NzkyODczOTM=", "number": 6769, "title": "`meson wrap install random` returns a stack trace", "user": {"login": "RazrFalcon", "id": 725494, "node_id": "MDQ6VXNlcjcyNTQ5NA==", "avatar_url": "https://avatars.githubusercontent.com/u/725494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RazrFalcon", "html_url": "https://github.com/RazrFalcon", "followers_url": "https://api.github.com/users/RazrFalcon/followers", "following_url": "https://api.github.com/users/RazrFalcon/following{/other_user}", "gists_url": "https://api.github.com/users/RazrFalcon/gists{/gist_id}", "starred_url": "https://api.github.com/users/RazrFalcon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RazrFalcon/subscriptions", "organizations_url": "https://api.github.com/users/RazrFalcon/orgs", "repos_url": "https://api.github.com/users/RazrFalcon/repos", "events_url": "https://api.github.com/users/RazrFalcon/events{/privacy}", "received_events_url": "https://api.github.com/users/RazrFalcon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-11T14:02:22Z", "updated_at": "2020-12-10T14:55:44Z", "closed_at": "2020-12-10T14:55:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n`meson wrap install random` returns a stack trace\r\n\r\n**To Reproduce**\r\n\r\n```\r\n> meson wrap install random\r\nSSL connection failed. Falling back to unencrypted connections.\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.6/site-packages/mesonbuild/mesonmain.py\", line 129, in run\r\n    return options.run_func(options)\r\n  File \"/usr/lib64/python3.6/site-packages/mesonbuild/wrap/wraptool.py\", line 216, in run\r\n    options.wrap_func(options)\r\n  File \"/usr/lib64/python3.6/site-packages/mesonbuild/wrap/wraptool.py\", line 100, in install\r\n    (branch, revision) = get_latest_version(name)\r\n  File \"/usr/lib64/python3.6/site-packages/mesonbuild/wrap/wraptool.py\", line 83, in get_latest_version\r\n    jd = get_result(API_ROOT + 'query/get_latest/' + name)\r\n  File \"/usr/lib64/python3.6/site-packages/mesonbuild/wrap/wraptool.py\", line 57, in get_result\r\n    u = open_wrapdburl(urlstring)\r\n  File \"/usr/lib64/python3.6/site-packages/mesonbuild/wrap/wrap.py\", line 72, in open_wrapdburl\r\n    return urllib.request.urlopen(urlstring, timeout=req_timeout)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 223, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 532, in open\r\n    response = meth(req, response)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 642, in http_response\r\n    'http', request, response, code, msg, hdrs)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 564, in error\r\n    result = self._call_chain(*args)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 504, in _call_chain\r\n    result = func(*args)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 756, in http_error_302\r\n    return self.parent.open(new, timeout=req.timeout)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 532, in open\r\n    response = meth(req, response)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 642, in http_response\r\n    'http', request, response, code, msg, hdrs)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 570, in error\r\n    return self._call_chain(*args)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 504, in _call_chain\r\n    result = func(*args)\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 650, in http_error_default\r\n    raise HTTPError(req.full_url, code, msg, hdrs, fp)\r\nurllib.error.HTTPError: HTTP Error 500: INTERNAL SERVER ERROR\r\n```\r\n\r\n**Expected behavior**\r\n\r\nA user-friendly error message.\r\n\r\n**system parameters**\r\n* Not a cross build\r\n* Gentoo Linux\r\n* Python 3.6.10\r\n* meson 0.52.1\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6747", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6747/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6747/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6747/events", "html_url": "https://github.com/mesonbuild/meson/issues/6747", "id": 576800007, "node_id": "MDU6SXNzdWU1NzY4MDAwMDc=", "number": 6747, "title": "coverage: lcov result incorrect", "user": {"login": "mine260309", "id": 717009, "node_id": "MDQ6VXNlcjcxNzAwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/717009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mine260309", "html_url": "https://github.com/mine260309", "followers_url": "https://api.github.com/users/mine260309/followers", "following_url": "https://api.github.com/users/mine260309/following{/other_user}", "gists_url": "https://api.github.com/users/mine260309/gists{/gist_id}", "starred_url": "https://api.github.com/users/mine260309/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mine260309/subscriptions", "organizations_url": "https://api.github.com/users/mine260309/orgs", "repos_url": "https://api.github.com/users/mine260309/repos", "events_url": "https://api.github.com/users/mine260309/events{/privacy}", "received_events_url": "https://api.github.com/users/mine260309/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 4886520601, "node_id": "LA_kwDOAS3iKM8AAAABI0JjGQ", "url": "https://api.github.com/repos/mesonbuild/meson/labels/not-our-bug", "name": "not-our-bug", "color": "0052CC", "default": false, "description": "Bug in upstream software"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-06T09:21:18Z", "updated_at": "2022-12-08T01:45:30Z", "closed_at": "2022-12-08T01:39:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nWith `lcov`, the coverage report is correct when `src` and `test` code are in different directories, and the `test` compiles the code in `src` directly.\r\n\r\nThe issue could be described in https://stackoverflow.com/questions/27556872/lcov-doesnt-match-gcov-coverage-results-for-a-googletest-unit-test\r\n\r\n**To Reproduce**\r\nWith below-simplified code:\r\n\r\n```\r\n$ tree .\r\n.\r\n\u251c\u2500\u2500 meson.build\r\n\u251c\u2500\u2500 src\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 foo.cpp\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 foo.hpp\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main.cpp\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 meson.build\r\n\u2514\u2500\u2500 test\r\n    \u251c\u2500\u2500 meson.build\r\n    \u2514\u2500\u2500 test_foo.cpp\r\n\r\n$ find ./ -type f | xargs tail -n +1\r\n==> ./test/test_foo.cpp <==\r\n#include <gtest/gtest.h>\r\n#include \"foo.hpp\"\r\n\r\nTEST(FOO, foo)\r\n{\r\n    EXPECT_EQ(foo(1, 2), 3);\r\n}\r\n\r\n==> ./test/meson.build <==\r\ngtest = dependency('gtest', main: true, disabler: true)\r\n\r\ntest_foo = executable(\r\n  'test_foo',\r\n  '../src/foo.cpp',\r\n  'test_foo.cpp',\r\n  include_directories: '../src',\r\n  dependencies: gtest)\r\n\r\ntest('foo', test_foo)\r\n\r\n==> ./meson.build <==\r\nproject('foo', 'cpp',\r\n        version: '0.1', meson_version: '>=0.49.0',\r\n        default_options: [\r\n          'warning_level=3',\r\n          'werror=true',\r\n          'cpp_std=c++17',\r\n        ])\r\n\r\nsubdir('src')\r\nsubdir('test')\r\n\r\n==> ./src/meson.build <==\r\nexecutable(\r\n  'foo',\r\n  'foo.cpp',\r\n  'main.cpp',\r\n  )\r\n\r\n\r\n==> ./src/main.cpp <==\r\n#include \"foo.hpp\"\r\n\r\n#include <cstdio>\r\n\r\nint main()\r\n{\r\n    auto ret = foo(1, 2);\r\n    printf(\"%d\\n\", ret);\r\n    return 0;\r\n}\r\n\r\n==> ./src/foo.hpp <==\r\n#pragma once\r\n\r\nint foo(int a, int b);\r\n\r\n==> ./src/foo.cpp <==\r\n#include \"foo.hpp\"\r\n\r\nint foo(int a, int b)\r\n{\r\n    return a + b;\r\n}\r\n```\r\n\r\n### When both lcov and gcovr are available:\r\n```\r\n$ meson -Db_coverage=true build-with-lcov\r\n$ ninja -C build-with-lcov test\r\n$ ninja -C build-with-lcov coverage-html\r\n$ lynx --dump build-with-lcov/meson-logs/coveragereport/index.html\r\n   LCOV - code coverage report\r\n   Current view: top level Hit Total Coverage\r\n   Test: Code coverage Lines: 3 9 33.3 %\r\n   Date: 2020-03-06 15:03:58 Functions: 4 6 66.7 %\r\n   Legend: Rating: low: < 75 % medium: >= 75 % high: >= 90 % Branches: 3\r\n   12 25.0 %\r\n\r\n   Directory Sort by name Line Coverage [1]Sort by line coverage Functions\r\n   [2]Sort by function coverage Branches [3]Sort by branch coverage\r\n   [4]src\r\n   0.0%\r\n   0.0 % 0 / 6 0.0 % 0 / 2 - 0 / 0\r\n   [5]test\r\n   100.0%\r\n   100.0 % 3 / 3 100.0 % 4 / 4 25.0 % 3 / 12\r\n\r\n   Generated by: [6]LCOV version 1.14-6-g40580cd\r\n```\r\n\r\nWhen the only gcovr is available:\r\n```\r\n$ meson -Db_coverage=true build-with-gcovr\r\n$ ninja -C build-with-gcovr test\r\n$ ninja -C build-with-gcovr coverage-html\r\n$ lynx --dump build-with-gcovr/meson-logs/coveragereport/index.html\r\n   GCC Code Coverage Report\r\n   Directory: ./ Exec Total Coverage\r\n   Date: 2020-03-06 17:13:07 Lines: 5 9 55.6 %\r\n   Legend: low: < 75.0 % medium: >= 75.0 % high: >= 90.0 % Branches: 3 12\r\n   25.0 %\r\n\r\n   File Lines Branches\r\n   [1]src/foo.cpp\r\n   100.0 % 2 / 2 - % 0 / 0\r\n   [2]src/main.cpp\r\n   0.0 % 0 / 4 - % 0 / 0\r\n   [3]test/test_foo.cpp\r\n   100.0 % 3 / 3 25.0 % 3 / 12\r\n\r\n   Generated by: [4]GCOVR (Version 4.2)\r\n```\r\n\r\nWe could see that `lcov` reports 0% in `src`, while `gcovr` reports 100% in `src/foo.cpp`.\r\n`gcovr` is correct here.\r\n\r\n**Expected behavior**\r\nLcov and gcovr should produce the same and correct result.\r\n\r\n**system parameters**\r\nUbuntu 18.04 with GCC 9.2\r\nPython 3.6.9\r\nmeson 0.52.0\r\nninja 1.9.0\r\nlcov: 1.14-6-g40580cd (currently the master revision)\r\ngcovr 4.2\r\n\r\n---\r\n\r\nAdditional information:\r\n\r\nThe document from https://mesonbuild.com/Feature-autodetection.html says:\r\n\r\n> When doing a code coverage build, Meson will check for existence of the binaries gcovr, lcov and genhtml. If version 3.3 or higher of the first is found, targets called coverage-text, coverage-xml and coverage-html are generated. Alternatively, if the latter two are found, only the target coverage-html is generated. Coverage reports can then be produced simply by calling e.g. ninja coverage-xml. As a convenience, a high-level coverage target is also generated which will produce all 3 coverage report types, if possible.\r\n\r\nHowever, when both `lcov` and `gcovr` are available, and running `coverage-html` target will prefer to use `lcov` than `gcovr`, which is a conflict with the document.\r\n\r\nIf meson could provide an option to specify the coverage tool, it could be much better.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6747/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6623", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6623/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6623/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6623/events", "html_url": "https://github.com/mesonbuild/meson/issues/6623", "id": 564908760, "node_id": "MDU6SXNzdWU1NjQ5MDg3NjA=", "number": 6623, "title": "Meson sometimes decides to write files into meson-out", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-02-13T19:42:02Z", "updated_at": "2020-04-10T20:15:08Z", "closed_at": "2020-04-10T20:15:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For whatever reason meson sometimes decides that it should write files into the meson-out folder instead of the proper mirrored file structure, this can lead to problems when you generate multiple files of the same name.\r\n\r\nSee this [mesa bug](https://gitlab.freedesktop.org/mesa/mesa/issues/2512). I've also hit this with one of my projects, although it's not as serious for me because I don't have any code generators.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6623/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6453", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6453/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6453/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6453/events", "html_url": "https://github.com/mesonbuild/meson/issues/6453", "id": 548640851, "node_id": "MDU6SXNzdWU1NDg2NDA4NTE=", "number": 6453, "title": "link_language has no effect", "user": {"login": "burp", "id": 1038232, "node_id": "MDQ6VXNlcjEwMzgyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1038232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burp", "html_url": "https://github.com/burp", "followers_url": "https://api.github.com/users/burp/followers", "following_url": "https://api.github.com/users/burp/following{/other_user}", "gists_url": "https://api.github.com/users/burp/gists{/gist_id}", "starred_url": "https://api.github.com/users/burp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burp/subscriptions", "organizations_url": "https://api.github.com/users/burp/orgs", "repos_url": "https://api.github.com/users/burp/repos", "events_url": "https://api.github.com/users/burp/events{/privacy}", "received_events_url": "https://api.github.com/users/burp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-12T22:56:42Z", "updated_at": "2020-05-01T22:57:10Z", "closed_at": "2020-05-01T22:57:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "A patch from issue 1534 introduced link_language, but I believe that it is not working and the introduced test case does not test link_language, see https://github.com/mesonbuild/meson/issues/1534\r\n\r\nThe introduced patch does not seem to work and the supplied test case does not seem to be a proper test of the functionality. This is because the C component is only supplied as a library and it will therefore select the Fortran compiler for linking. From a discussion in #mesonbuild we figured out that \"as far as executable() can tell, it is fortran-exclusive code, and shared libraries don't have a language type.\"\r\n\r\nA minimal example is:\r\n\r\nproject('tproj', ['fortran','cpp'])\r\nexecutable('run', ['test.f90','test.cpp'], link_language: 'fortran')\r\n\r\nthen it generates rule cpp_LINKER with the gcc command instead of gfortran", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6448", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6448/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6448/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6448/events", "html_url": "https://github.com/mesonbuild/meson/issues/6448", "id": 548564205, "node_id": "MDU6SXNzdWU1NDg1NjQyMDU=", "number": 6448, "title": "KeyError: 'c_args'", "user": {"login": "matanui159", "id": 5038541, "node_id": "MDQ6VXNlcjUwMzg1NDE=", "avatar_url": "https://avatars.githubusercontent.com/u/5038541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matanui159", "html_url": "https://github.com/matanui159", "followers_url": "https://api.github.com/users/matanui159/followers", "following_url": "https://api.github.com/users/matanui159/following{/other_user}", "gists_url": "https://api.github.com/users/matanui159/gists{/gist_id}", "starred_url": "https://api.github.com/users/matanui159/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matanui159/subscriptions", "organizations_url": "https://api.github.com/users/matanui159/orgs", "repos_url": "https://api.github.com/users/matanui159/repos", "events_url": "https://api.github.com/users/matanui159/events{/privacy}", "received_events_url": "https://api.github.com/users/matanui159/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/44", "html_url": "https://github.com/mesonbuild/meson/milestone/44", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/44/labels", "id": 4984533, "node_id": "MDk6TWlsZXN0b25lNDk4NDUzMw==", "number": 44, "title": "0.53.1", "description": null, "creator": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2020-01-08T04:49:33Z", "updated_at": "2020-01-23T22:27:23Z", "due_on": null, "closed_at": "2020-01-23T21:25:21Z"}, "comments": 0, "created_at": "2020-01-12T12:32:41Z", "updated_at": "2020-01-22T23:59:32Z", "closed_at": "2020-01-22T23:59:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nSimple Emscripten example can't build due to `KeyError: 'c_args'`\r\n\r\n**To Reproduce**\r\n```\r\nproject('mint2d', 'c', default_options: ['c_std=c99'])\r\n\r\nexecutable(\r\n   'mint2d', [\r\n      'main.c'\r\n   ]\r\n)\r\n```\r\n\r\n```toml\r\n[host_machine]\r\nsystem = 'linux'\r\ncpu_family = 'x86'\r\ncpu = 'wasm32'\r\nendian = 'little'\r\n\r\n[binaries]\r\nc = 'emcc'\r\nar = 'emar'\r\n```\r\n\r\n**Expected behavior**\r\nTo not crash\r\n\r\n**Crashlog**\r\n```\r\nThe Meson build system\r\nVersion: 0.53.999\r\nSource dir: /home/matanui159/vscode/mint2d-meson\r\nBuild dir: /home/matanui159/vscode/mint2d-meson/bin\r\nBuild type: cross build\r\nProject name: mint2d\r\nProject version: undefined\r\nC compiler for the build machine: cc (gcc 9.2.0 \"cc (GCC) 9.2.0\")\r\nC linker for the build machine: cc GNU ld.bfd 2.33.1\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/mesonmain.py\", line 129, in run\r\n    return options.run_func(options)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/msetup.py\", line 245, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/msetup.py\", line 159, in generate\r\n    self._generate(env)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/msetup.py\", line 176, in _generate\r\n    intr = interpreter.Interpreter(b)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreter.py\", line 2165, in __init__\r\n    self.parse_project()\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreterbase.py\", line 397, in parse_project\r\n    self.evaluate_codeblock(self.ast, end=1)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreterbase.py\", line 436, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreterbase.py\", line 430, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreterbase.py\", line 441, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreterbase.py\", line 788, in function_call\r\n    return func(node, posargs, kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreterbase.py\", line 143, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreterbase.py\", line 174, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreter.py\", line 2846, in func_project\r\n    self.add_languages(proj_langs, True)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreter.py\", line 2949, in add_languages\r\n    success &= self.add_languages_for(args, required, MachineChoice.HOST)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/interpreter.py\", line 2967, in add_languages_for\r\n    comp.sanity_check(self.environment.get_scratch_dir(), self.environment)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/compilers/c.py\", line 64, in sanity_check\r\n    return self.sanity_check_impl(work_dir, environment, 'sanitycheckc.c', code)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/compilers/mixins/clike.py\", line 220, in sanity_check_impl\r\n    cargs, largs = self._get_basic_compiler_args(environment, mode)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/compilers/mixins/clike.py\", line 304, in _get_basic_compiler_args\r\n    sys_args = env.coredata.get_external_args(self.for_machine, self.language)\r\n  File \"/usr/lib/python3.8/site-packages/mesonbuild/coredata.py\", line 626, in get_external_args\r\n    return self.compiler_options[for_machine][lang + '_args'].value\r\nKeyError: 'c_args'\r\n```\r\n\r\n**system parameters**\r\n* Cross build with the above cross file\r\n* Manjaro 4.19.88\r\n* Python 3.8.0\r\n* Meson 0.53.999 from git\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6448/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6429", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6429/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6429/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6429/events", "html_url": "https://github.com/mesonbuild/meson/pull/6429", "id": 546643102, "node_id": "MDExOlB1bGxSZXF1ZXN0MzYwMjgwMzc1", "number": 6429, "title": "bugfix: hdf5 dependency: make sure variable is always defined", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/44", "html_url": "https://github.com/mesonbuild/meson/milestone/44", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/44/labels", "id": 4984533, "node_id": "MDk6TWlsZXN0b25lNDk4NDUzMw==", "number": 44, "title": "0.53.1", "description": null, "creator": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2020-01-08T04:49:33Z", "updated_at": "2020-01-23T22:27:23Z", "due_on": null, "closed_at": "2020-01-23T21:25:21Z"}, "comments": 0, "created_at": "2020-01-08T04:49:46Z", "updated_at": "2020-01-08T17:03:45Z", "closed_at": "2020-01-08T16:59:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/6429", "html_url": "https://github.com/mesonbuild/meson/pull/6429", "diff_url": "https://github.com/mesonbuild/meson/pull/6429.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/6429.patch", "merged_at": "2020-01-08T16:59:49Z"}, "body": "A trivial mistake that causes Meson to crash if HDF5 pkg-config files not present.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6429/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6398", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6398/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6398/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6398/events", "html_url": "https://github.com/mesonbuild/meson/pull/6398", "id": 544082755, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4MjcwNjY2", "number": 6398, "title": "Bugfix: sanitize_dir: use pathlib to handle case-insensitive filesystems", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-31T04:14:27Z", "updated_at": "2020-02-06T18:14:23Z", "closed_at": "2020-01-30T21:07:45Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/6398", "html_url": "https://github.com/mesonbuild/meson/pull/6398", "diff_url": "https://github.com/mesonbuild/meson/pull/6398.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/6398.patch", "merged_at": "2020-01-30T21:07:45Z"}, "body": "fixes #6395\r\n\r\nThe unit tests needed to be updated to accurately reflect Windows path behavior. The prior method was fine for Posix-like filesystems, but conflicted with the distinct behavior of Windows paths respected in Python pathlib. This issue creeps up from time to time as we continue to implement pathlib inside Meson, this is just one step in that transition.\r\n\r\nd31cbf6a was just an obvious change for unreachable/dead code I happened across.\r\n\r\nI would suggest squashing these commits if desired, either way is fine. I just left them unsquashed to show the various steps needed to remove always-Posix assumptions from the relevant code.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6398/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6395", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6395/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6395/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6395/events", "html_url": "https://github.com/mesonbuild/meson/issues/6395", "id": 543921454, "node_id": "MDU6SXNzdWU1NDM5MjE0NTQ=", "number": 6395, "title": "`meson setup` fails on Windows with an absolute path for libdir on E:\\ drive and is case sensitive for Windows drive", "user": {"login": "azmr", "id": 5575948, "node_id": "MDQ6VXNlcjU1NzU5NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5575948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azmr", "html_url": "https://github.com/azmr", "followers_url": "https://api.github.com/users/azmr/followers", "following_url": "https://api.github.com/users/azmr/following{/other_user}", "gists_url": "https://api.github.com/users/azmr/gists{/gist_id}", "starred_url": "https://api.github.com/users/azmr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azmr/subscriptions", "organizations_url": "https://api.github.com/users/azmr/orgs", "repos_url": "https://api.github.com/users/azmr/repos", "events_url": "https://api.github.com/users/azmr/events{/privacy}", "received_events_url": "https://api.github.com/users/azmr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-30T15:38:56Z", "updated_at": "2020-01-30T21:07:45Z", "closed_at": "2020-01-30T21:07:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI'm learning to use Meson following the tutorial (which for Windows requires quite a lot of additional research to get things to work - something to address another time)\r\n\r\nI have python and Meson on the C:\\ drive, source and libraries on E:\\. (E:\\ is currently a USB drive if that's relevant.)\r\nWhen trying to add a dependency to a library, I tried to set the libdir to the library location on E:\\ with `meson setup build --libdir=E:/Documents/Coding/C/lib` (after an `rm -rf build`) and got a python stack trace in response:\r\n\r\n```\r\n$ meson setup build --libdir=E:/Documents/Coding/C/lib\r\nThe Meson build system\r\nVersion: 0.52.1\r\nSource dir: E:\\Documents\\Coding\\C\\meson_test\r\nBuild dir: E:\\Documents\\Coding\\C\\meson_test\\build\r\nBuild type: native build\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\mesonmain.py\", line 129, in run\r\n    return options.run_func(options)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\msetup.py\", line 245, in run\r\n    app.generate()\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\msetup.py\", line 159, in generate\r\n    self._generate(env)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\msetup.py\", line 176, in _generate\r\n    intr = interpreter.Interpreter(b)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreter.py\", line 2110, in __init__\r\n    self.parse_project()\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreterbase.py\", line 397, in parse_project\r\n    self.evaluate_codeblock(self.ast, end=1)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreterbase.py\", line 436, in evaluate_codeblock\r\n    raise e\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreterbase.py\", line 430, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreterbase.py\", line 441, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreterbase.py\", line 776, in function_call\r\n    return func(node, posargs, kwargs)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreterbase.py\", line 143, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreterbase.py\", line 174, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\interpreter.py\", line 2723, in func_project\r\n    self.coredata.set_default_options(default_options, self.subproject, self.environment)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\coredata.py\", line 742, in set_default_options\r\n    self.set_options(options, subproject=subproject)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\coredata.py\", line 674, in set_options\r\n    if self._try_set_builtin_option(k, v):\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\coredata.py\", line 531, in _try_set_builtin_option\r\n    value = self.sanitize_dir_option_value(prefix, optname, value)\r\n  File \"C:\\Users\\<user>\\AppData\\Roaming\\Python\\Python38\\site-packages\\mesonbuild\\coredata.py\", line 479, in sanitize_dir_option_value\r\n    if os.path.commonpath([value, prefix]) != str(PurePath(prefix)):\r\n  File \"c:\\users\\liz\\appdata\\local\\programs\\python\\python38\\lib\\ntpath.py\", line 763, in commonpath\r\n    raise ValueError(\"Paths don't have the same drive\")\r\nValueError: Paths don't have the same drive\r\n```\r\nThis is possibly related to #3239\r\n\r\nIf I try the same instruction but with the libraries copied to the C:\\ drive, I get the following response:\r\n\r\n```\r\n$ meson setup build --libdir=C:/Documents/Coding/C/lib\r\nThe Meson build system\r\nVersion: 0.52.1\r\nSource dir: E:\\Documents\\Coding\\C\\meson_test\r\nBuild dir: E:\\Documents\\Coding\\C\\meson_test\\build\r\nBuild type: native build\r\n\r\nmeson.build:1:0: ERROR: The value of the 'libdir' option is 'C:/Documents/Coding/C/lib' which must be a subdir of the prefix 'c:/'.\r\nNote that if you pass a relative path, it is assumed to be a subdir of prefix.\r\n\r\nA full log can be found at E:\\Documents\\Coding\\C\\meson_test\\build\\meson-logs\\meson-log.txt\r\n```\r\n\r\nIf I do the same again but with `$ meson setup build --libdir=c:/Documents/Coding/C/lib` (note the lowercase `c`) I get the same response as for `$ meson setup build` (i.e. it seems to work).\r\n\r\n(I'm aware that I should be setting the prefix argument to the \"installation directory\" but I'm not yet sure what that is)\r\n\r\n**Files To Reproduce**\r\nI don't think the contents of the files matters. These are as barebones as it gets.\r\n[main.c](https://github.com/mesonbuild/meson/files/4010104/main.c.txt)\r\n[meson.build](https://github.com/mesonbuild/meson/files/4010136/meson.build.txt)\r\n\r\n**Expected behavior**\r\nI would expect Meson to show me an error message and a way to fix things (rather than a stack trace).\r\nI would also expect Windows paths to be case insensitive or to be warned that they are case sensitive.\r\n\r\n**System Parameters**\r\n* Native build\r\n* Windows 10\r\n* Python 3.8.1\r\n* `meson --version` => `0.52.1`\r\n* `ninja --version` => `1.9.0.git.kitware.dyndep-1.jobserver-1`\r\n\r\n**Notes**\r\nThanks for all your work on Meson, it looks it will be a useful tool once I've figured it out.\r\nIf I can provide any more information, do let me know.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6395/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6381", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6381/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6381/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6381/events", "html_url": "https://github.com/mesonbuild/meson/pull/6381", "id": 541977532, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2NTEwNjAw", "number": 6381, "title": "bugfix: check len before index re #6228", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-24T03:43:13Z", "updated_at": "2019-12-24T14:25:58Z", "closed_at": "2019-12-24T14:25:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/6381", "html_url": "https://github.com/mesonbuild/meson/pull/6381", "diff_url": "https://github.com/mesonbuild/meson/pull/6381.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/6381.patch", "merged_at": "2019-12-24T14:25:54Z"}, "body": "fixes bug introduced by #6228 -- not checking length of string before indexing. With certain pkgconfig files, say MSYS2 HDF5, there are zero length strings passed. This causes Python traceback to be emitted as Meson crashes.\r\n\r\n In any case, before indexing a string from the world, the length should be checked.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6381/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6359", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6359/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6359/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6359/events", "html_url": "https://github.com/mesonbuild/meson/issues/6359", "id": 538947151, "node_id": "MDU6SXNzdWU1Mzg5NDcxNTE=", "number": 6359, "title": "meson 0.52.1 breaking shared linking with D", "user": {"login": "Cogitri", "id": 8766773, "node_id": "MDQ6VXNlcjg3NjY3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/8766773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cogitri", "html_url": "https://github.com/Cogitri", "followers_url": "https://api.github.com/users/Cogitri/followers", "following_url": "https://api.github.com/users/Cogitri/following{/other_user}", "gists_url": "https://api.github.com/users/Cogitri/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cogitri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cogitri/subscriptions", "organizations_url": "https://api.github.com/users/Cogitri/orgs", "repos_url": "https://api.github.com/users/Cogitri/repos", "events_url": "https://api.github.com/users/Cogitri/events{/privacy}", "received_events_url": "https://api.github.com/users/Cogitri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-12-17T09:37:36Z", "updated_at": "2020-03-11T22:57:53Z", "closed_at": "2020-03-11T22:57:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nSince meson 0.52.1 building my project does succeed, but running the resulting binary doesn't work. See the following ldd output:\r\n\r\n```\r\n\t/lib/ld-musl-x86_64.so.1 (0x7f1f79f0c000)\r\nError loading shared library source/corecollector/libcorecollector.so.0.0.1: No such file or directory (needed by /usr/bin/corectl)\r\n\tlibhunt.so.0 => /usr/local/lib/libhunt.so.0 (0x7f1f7999e000)\r\n\tlibphobos2-ldc-shared.so.88 => /usr/lib/libphobos2-ldc-shared.so.88 (0x7f1f7952e000)\r\n\tlibdruntime-ldc-shared.so.88 => /usr/lib/libdruntime-ldc-shared.so.88 (0x7f1f79419000)\r\n\tlibgcc_s.so.1 => /usr/lib/libgcc_s.so.1 (0x7f1f79405000)\r\n\tlibc.musl-x86_64.so.1 => /lib/ld-musl-x86_64.so.1 (0x7f1f79f0c000)\r\n```\r\n\r\nWith meson 0.51.2 this works:\r\n\r\n```\r\nldd /usr/bin/corectl\r\n\t/lib/ld-musl-x86_64.so.1 (0x7fe1af538000)\r\n\tlibcorecollector.so.0 => /usr/lib/libcorecollector.so.0 (0x7fe1af409000)\r\n\tlibhunt.so.0 => /usr/local/lib/libhunt.so.0 (0x7fe1aef15000)\r\n\tlibphobos2-ldc-shared.so.88 => /usr/lib/libphobos2-ldc-shared.so.88 (0x7fe1aeaa5000)\r\n\tlibdruntime-ldc-shared.so.88 => /usr/lib/libdruntime-ldc-shared.so.88 (0x7fe1ae990000)\r\n\tlibgcc_s.so.1 => /usr/lib/libgcc_s.so.1 (0x7fe1ae97c000)\r\n\tlibc.musl-x86_64.so.1 => /lib/ld-musl-x86_64.so.1 (0x7fe1af538000)\r\n```\r\n\r\n**To Reproduce**\r\nBuild https://github.com/Cogitri/corecollector\r\n\r\n**system parameters**\r\nNative build on Alpine Linux Edge with meson 0.52.1. Tested with latest scm (being 585ccfc78922393a375160ee3d994ddfcd716f6a) too.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6342", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6342/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6342/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6342/events", "html_url": "https://github.com/mesonbuild/meson/issues/6342", "id": 537804711, "node_id": "MDU6SXNzdWU1Mzc4MDQ3MTE=", "number": 6342, "title": "meson 0.52 and newer adds /FORCE to link parameters on Windows with MSVC", "user": {"login": "peterh", "id": 79339, "node_id": "MDQ6VXNlcjc5MzM5", "avatar_url": "https://avatars.githubusercontent.com/u/79339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterh", "html_url": "https://github.com/peterh", "followers_url": "https://api.github.com/users/peterh/followers", "following_url": "https://api.github.com/users/peterh/following{/other_user}", "gists_url": "https://api.github.com/users/peterh/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterh/subscriptions", "organizations_url": "https://api.github.com/users/peterh/orgs", "repos_url": "https://api.github.com/users/peterh/repos", "events_url": "https://api.github.com/users/peterh/events{/privacy}", "received_events_url": "https://api.github.com/users/peterh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/43", "html_url": "https://github.com/mesonbuild/meson/milestone/43", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/43/labels", "id": 4897324, "node_id": "MDk6TWlsZXN0b25lNDg5NzMyNA==", "number": 43, "title": "0.53.0", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2019-12-03T00:43:47Z", "updated_at": "2020-01-31T09:44:44Z", "due_on": null, "closed_at": "2020-01-13T18:16:20Z"}, "comments": 3, "created_at": "2019-12-13T22:25:04Z", "updated_at": "2019-12-18T19:57:04Z", "closed_at": "2019-12-18T19:57:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Meson 0.52 adds /FORCE to the link parameters on Windows with MSVC. This makes it annoying to use as a developer, because I can accidentally break a library and ninja will still complete successfully. I'll have all my binaries, but they won't run.\r\n\r\nThis issue is not reproducible with meson 0.51.2.\r\n\r\nAt first glance, the regression appears to have been caused by 06dcbd50eea47b3182081527ea1c0ada01d4d847 . (From that commit, it seems like I could disable /FORCE by setting b_lundef, but b_lundef is not settable from \"meson configure\" when using msvc)", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6342/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6335", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6335/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6335/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6335/events", "html_url": "https://github.com/mesonbuild/meson/pull/6335", "id": 537183015, "node_id": "MDExOlB1bGxSZXF1ZXN0MzUyNTg1NDEz", "number": 6335, "title": "intel/intel-cl: bugfix: handle arguments in intel-specific way", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/43", "html_url": "https://github.com/mesonbuild/meson/milestone/43", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/43/labels", "id": 4897324, "node_id": "MDk6TWlsZXN0b25lNDg5NzMyNA==", "number": 43, "title": "0.53.0", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2019-12-03T00:43:47Z", "updated_at": "2020-01-31T09:44:44Z", "due_on": null, "closed_at": "2020-01-13T18:16:20Z"}, "comments": 0, "created_at": "2019-12-12T19:57:26Z", "updated_at": "2019-12-16T17:00:11Z", "closed_at": "2019-12-14T21:35:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/6335", "html_url": "https://github.com/mesonbuild/meson/pull/6335", "diff_url": "https://github.com/mesonbuild/meson/pull/6335.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/6335.patch", "merged_at": "2019-12-14T21:35:08Z"}, "body": "intel compiler's defaults are different enough from MSVC and GNU\r\nthat it's necessary to set specific defaults for Intel compilers.\r\n\r\nThis corrects/improves behaviors initially addressed in  #6275,\r\nwhich introduced some duplicated/conflicting arguments.\r\n\r\nSpecifically, prior to this PR, unintended behavior included:\r\n\r\n* Intel-Cl: optimization was still enabled on `debug` builds\r\n* Intel: clashing -O2 -O3 release arguments unintentionally overriding and duplicated -O0 on debug\r\n\r\non this PR, I was more careful to manually inspect build.ninja across `buildtype` to verify the intended arguments were sent, considering the unique defaults of Intel compilers distinct from GNU/MSVC.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6335/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6331", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6331/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6331/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6331/events", "html_url": "https://github.com/mesonbuild/meson/issues/6331", "id": 537050611, "node_id": "MDU6SXNzdWU1MzcwNTA2MTE=", "number": 6331, "title": "Python extension_module does not install in site_packages", "user": {"login": "gerion0", "id": 32870336, "node_id": "MDQ6VXNlcjMyODcwMzM2", "avatar_url": "https://avatars.githubusercontent.com/u/32870336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gerion0", "html_url": "https://github.com/gerion0", "followers_url": "https://api.github.com/users/gerion0/followers", "following_url": "https://api.github.com/users/gerion0/following{/other_user}", "gists_url": "https://api.github.com/users/gerion0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gerion0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gerion0/subscriptions", "organizations_url": "https://api.github.com/users/gerion0/orgs", "repos_url": "https://api.github.com/users/gerion0/repos", "events_url": "https://api.github.com/users/gerion0/events{/privacy}", "received_events_url": "https://api.github.com/users/gerion0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850882010, "node_id": "MDU6TGFiZWw4NTA4ODIwMTA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/install%20targets", "name": "install targets", "color": "0052cc", "default": false, "description": ""}, {"id": 2027527946, "node_id": "MDU6TGFiZWwyMDI3NTI3OTQ2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/modules:python", "name": "modules:python", "color": "b60205", "default": false, "description": "Issues specific to the python module"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-12T15:32:35Z", "updated_at": "2021-08-19T03:00:13Z", "closed_at": "2021-08-19T03:00:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the *python* module documentation is claimed that `extension_module` install per default in `site_packages`:\r\n> `subdir`: By default, meson will install the extension module in the relevant top-level location for the python installation, eg `/usr/lib/site-packages`. When subdir is passed to this method, it will be appended to that location. This keyword argument is mutually exclusive with `install_dir`\r\n\r\nHowever, this does not work. When set `install: true` the modules are installed to `$prefix/lib64` on my system.\r\n\r\nOne workaround is to specify the target like:\r\n```\r\npy3_mod = import('python')\r\npy3_inst = py3_mod.find_installation('python3')\r\n\r\nfoo = py3_inst.extension_module('foo',\r\n    <source_target>,\r\n    install: true,\r\n    subdir: get_option('prefix') + py3_inst.get_path('purelib'),\r\n    dependencies: [py3_inst.dependency()]\r\n)\r\n```\r\nIt would be nice, if the subdir is set autotically to the `site-packages` folder.\r\n\r\nThis bug is btw similar to #2859. However, this talks about the now deprecated *python3* module.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6331/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6291", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6291/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6291/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6291/events", "html_url": "https://github.com/mesonbuild/meson/issues/6291", "id": 533393331, "node_id": "MDU6SXNzdWU1MzMzOTMzMzE=", "number": 6291, "title": "Unhelpful error for non-well-formed array option", "user": {"login": "jtojnar", "id": 705123, "node_id": "MDQ6VXNlcjcwNTEyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/705123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtojnar", "html_url": "https://github.com/jtojnar", "followers_url": "https://api.github.com/users/jtojnar/followers", "following_url": "https://api.github.com/users/jtojnar/following{/other_user}", "gists_url": "https://api.github.com/users/jtojnar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtojnar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtojnar/subscriptions", "organizations_url": "https://api.github.com/users/jtojnar/orgs", "repos_url": "https://api.github.com/users/jtojnar/repos", "events_url": "https://api.github.com/users/jtojnar/events{/privacy}", "received_events_url": "https://api.github.com/users/jtojnar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850828231, "node_id": "MDU6TGFiZWw4NTA4MjgyMzE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/options", "name": "options", "color": "fef2c0", "default": false, "description": "Meson configuration options"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-05T14:40:04Z", "updated_at": "2019-12-07T12:24:33Z", "closed_at": "2019-12-07T12:24:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nI ran the following command in gst-plugins-base:\r\n\r\n```ShellSession\r\n$ meson buidl -Dgl_winsys=['x11','wayland']\r\nThe Meson build system\r\nVersion: 0.52.1\r\nSource dir: /home/jtojnar/Projects/gst-plugins-base\r\nBuild dir: /home/jtojnar/Projects/gst-plugins-base/buidl\r\nBuild type: native build\r\nTraceback (most recent call last):\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/mesonmain.py\", line 129, in run\r\n    return options.run_func(options)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/msetup.py\", line 245, in run\r\n    app.generate()\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/msetup.py\", line 159, in generate\r\n    self._generate(env)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/msetup.py\", line 176, in _generate\r\n    intr = interpreter.Interpreter(b)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreter.py\", line 2110, in __init__\r\n    self.parse_project()\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 397, in parse_project\r\n    self.evaluate_codeblock(self.ast, end=1)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 436, in evaluate_codeblock\r\n    raise e\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 430, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 441, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 776, in function_call\r\n    return func(node, posargs, kwargs)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 143, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 174, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/interpreter.py\", line 2723, in func_project\r\n    self.coredata.set_default_options(default_options, self.subproject, self.environment)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/coredata.py\", line 737, in set_default_options\r\n    self.set_options(options, subproject=subproject)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/coredata.py\", line 675, in set_options\r\n    tgt.set_value(v)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/coredata.py\", line 70, in set_value\r\n    self.value = self.validate_value(newvalue)\r\n  File \"/nix/store/lxgl0ximm5vca0jy7zrbybydp7vp5brq-meson-0.52.1/lib/python3.7/site-packages/mesonbuild/coredata.py\", line 183, in validate_value\r\n    newvalue = ast.literal_eval(value)\r\n  File \"/nix/store/qcqxn0bvj9mhzzcsn02flxky3k4pxpy4-python3-3.7.5/lib/python3.7/ast.py\", line 91, in literal_eval\r\n    return _convert(node_or_string)\r\n  File \"/nix/store/qcqxn0bvj9mhzzcsn02flxky3k4pxpy4-python3-3.7.5/lib/python3.7/ast.py\", line 74, in _convert\r\n    return list(map(_convert, node.elts))\r\n  File \"/nix/store/qcqxn0bvj9mhzzcsn02flxky3k4pxpy4-python3-3.7.5/lib/python3.7/ast.py\", line 90, in _convert\r\n    return _convert_signed_num(node)\r\n  File \"/nix/store/qcqxn0bvj9mhzzcsn02flxky3k4pxpy4-python3-3.7.5/lib/python3.7/ast.py\", line 63, in _convert_signed_num\r\n    return _convert_num(node)\r\n  File \"/nix/store/qcqxn0bvj9mhzzcsn02flxky3k4pxpy4-python3-3.7.5/lib/python3.7/ast.py\", line 55, in _convert_num\r\n    raise ValueError('malformed node or string: ' + repr(node))\r\nValueError: malformed node or string: <_ast.Name object at 0x7fcba6584c50>\r\n```\r\nImmediately, it printed an unhelpful traceback.\r\n\r\n**To Reproduce**\r\nCheckout a meson project with an array option (e.g. https://gitlab.freedesktop.org/gstreamer/gst-plugins-base/blob/3b8769e67351f079184b24b7b04b327fd3f16aad/meson_options.txt#L14-16) and try to configure it with an array, not quoting the items.\r\n\r\n**Expected behavior**\r\nA clear error message like the following should be displayed:\r\n\r\n> **error**: unable to parse option `-Dgl_winsys`: expected a list of values. If you used quotes in the array, make sure to also quote the whole thing to avoid shell from eating them. See https://mesonbuild.com/Build-options.html#using-build-options for more information\r\n\r\n**system parameters**\r\n* NixOS\r\n* Python 3.7.5\r\n* Meson 0.52.1\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6139", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6139/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6139/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6139/events", "html_url": "https://github.com/mesonbuild/meson/pull/6139", "id": 518351380, "node_id": "MDExOlB1bGxSZXF1ZXN0MzM3MjYxNDM1", "number": 6139, "title": "wrap.py: fail gracefully if no internet connection", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-06T09:39:13Z", "updated_at": "2019-11-08T00:43:24Z", "closed_at": "2019-11-07T20:15:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/6139", "html_url": "https://github.com/mesonbuild/meson/pull/6139", "diff_url": "https://github.com/mesonbuild/meson/pull/6139.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/6139.patch", "merged_at": "2019-11-07T20:15:00Z"}, "body": "fixes #6130 \r\n\r\nMWE to reveal problem / fix (make sure your computer is offline first):\r\n\r\n```meson\r\nproject('offline')\r\ndep = dependency('aaa', required: false, fallback: ['gtest', 'gtest_dep'])\r\n```\r\n\r\nalso added type annotation in wrap.py, fixing other import/syntax issues thereby discovered.\r\nTo type check just part of Meson, in general do like:\r\n\r\n```sh\r\nmypy mesonbuild/wrap --follow-imports=skip\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6139/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6130", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6130/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6130/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6130/events", "html_url": "https://github.com/mesonbuild/meson/issues/6130", "id": 516889591, "node_id": "MDU6SXNzdWU1MTY4ODk1OTE=", "number": 6130, "title": "Failed fallback dependency download causes unhandled exception", "user": {"login": "vedranmiletic", "id": 246061, "node_id": "MDQ6VXNlcjI0NjA2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/246061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vedranmiletic", "html_url": "https://github.com/vedranmiletic", "followers_url": "https://api.github.com/users/vedranmiletic/followers", "following_url": "https://api.github.com/users/vedranmiletic/following{/other_user}", "gists_url": "https://api.github.com/users/vedranmiletic/gists{/gist_id}", "starred_url": "https://api.github.com/users/vedranmiletic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vedranmiletic/subscriptions", "organizations_url": "https://api.github.com/users/vedranmiletic/orgs", "repos_url": "https://api.github.com/users/vedranmiletic/repos", "events_url": "https://api.github.com/users/vedranmiletic/events{/privacy}", "received_events_url": "https://api.github.com/users/vedranmiletic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-03T21:12:58Z", "updated_at": "2019-11-07T20:15:01Z", "closed_at": "2019-11-07T20:15:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Consider the case where you depend on GTest like:\r\n\r\n`gtest_dep = dependency('gtest', fallback : ['gtest', 'gtest_dep'], required : false)`\r\n\r\nIf GTest is available, use it. If not, use the fallback. If WrapDB is down or there is no internet connection so fallback isn't available, dependancy isn't required so the build can still go on.\r\n\r\nHowever, with Meson 0.52.0 I get the following unhandled exception:\r\n\r\n```\r\nRun-time dependency GTest found: NO (tried pkgconfig and system)\r\nLooking for a fallback subproject for the dependency gtest\r\nDownloading gtest source from https://github.com/google/googletest/archive/release-1.8.1.zip\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.7/urllib/request.py\", line 1317, in do_open\r\n    encode_chunked=req.has_header('Transfer-encoding'))\r\n  File \"/usr/lib64/python3.7/http/client.py\", line 1252, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/usr/lib64/python3.7/http/client.py\", line 1298, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/usr/lib64/python3.7/http/client.py\", line 1247, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/usr/lib64/python3.7/http/client.py\", line 1026, in _send_output\r\n    self.send(msg)\r\n  File \"/usr/lib64/python3.7/http/client.py\", line 966, in send\r\n    self.connect()\r\n  File \"/usr/lib64/python3.7/http/client.py\", line 1414, in connect\r\n    super().connect()\r\n  File \"/usr/lib64/python3.7/http/client.py\", line 938, in connect\r\n    (self.host,self.port), self.timeout, self.source_address)\r\n  File \"/usr/lib64/python3.7/socket.py\", line 707, in create_connection\r\n    for res in getaddrinfo(host, port, 0, SOCK_STREAM):\r\n  File \"/usr/lib64/python3.7/socket.py\", line 748, in getaddrinfo\r\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\r\nsocket.gaierror: [Errno -2] Name or service not known\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/mesonmain.py\", line 129, in run\r\n    return options.run_func(options)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/msetup.py\", line 245, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/msetup.py\", line 159, in generate\r\n    self._generate(env)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/msetup.py\", line 192, in _generate\r\n    intr.run()\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreter.py\", line 4020, in run\r\n    super().run()\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 412, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 436, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 430, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 451, in evaluate_statement\r\n    return self.evaluate_if(cur)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 516, in evaluate_if\r\n    self.evaluate_codeblock(i.block)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 436, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 430, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 443, in evaluate_statement\r\n    return self.assignment(cur)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 1053, in assignment\r\n    value = self.evaluate_statement(node.value)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 441, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 778, in function_call\r\n    return func(node, posargs, kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  [Previous line repeated 2 more times]\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 155, in wrapped\r\n    ret = f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreterbase.py\", line 174, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreter.py\", line 3088, in func_dependency\r\n    d = self.dependency_impl(name, display_name, kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreter.py\", line 3148, in dependency_impl\r\n    return self.dependency_fallback(display_name, kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreter.py\", line 3199, in dependency_fallback\r\n    self.do_subproject(dirname, 'meson', sp_kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/interpreter.py\", line 2489, in do_subproject\r\n    resolved = r.resolve(dirname, method)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/wrap/wrap.py\", line 151, in resolve\r\n    self.get_file()\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/wrap/wrap.py\", line 217, in get_file\r\n    path = self.get_file_internal('source')\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/wrap/wrap.py\", line 361, in get_file_internal\r\n    self.download(what, cache_path)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/wrap/wrap.py\", line 343, in download\r\n    dhash, tmpfile = self.get_data(srcurl)\r\n  File \"/usr/lib/python3.7/site-packages/mesonbuild/wrap/wrap.py\", line 300, in get_data\r\n    resp = urllib.request.urlopen(url, timeout=req_timeout)\r\n  File \"/usr/lib64/python3.7/urllib/request.py\", line 222, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"/usr/lib64/python3.7/urllib/request.py\", line 525, in open\r\n    response = self._open(req, data)\r\n  File \"/usr/lib64/python3.7/urllib/request.py\", line 543, in _open\r\n    '_open', req)\r\n  File \"/usr/lib64/python3.7/urllib/request.py\", line 503, in _call_chain\r\n    result = func(*args)\r\n  File \"/usr/lib64/python3.7/urllib/request.py\", line 1360, in https_open\r\n    context=self._context, check_hostname=self._check_hostname)\r\n  File \"/usr/lib64/python3.7/urllib/request.py\", line 1319, in do_open\r\n    raise URLError(err)\r\nurllib.error.URLError: <urlopen error [Errno -2] Name or service not known>\r\n```\r\n\r\nI get the same output without `required : false`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6130/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6067", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6067/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6067/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6067/events", "html_url": "https://github.com/mesonbuild/meson/pull/6067", "id": 508731533, "node_id": "MDExOlB1bGxSZXF1ZXN0MzI5NDcxMTg2", "number": 6067, "title": "xcode 64 bit for catalina", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-17T21:31:54Z", "updated_at": "2019-10-17T22:47:27Z", "closed_at": "2019-10-17T22:07:53Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/6067", "html_url": "https://github.com/mesonbuild/meson/pull/6067", "diff_url": "https://github.com/mesonbuild/meson/pull/6067.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/6067.patch", "merged_at": "2019-10-17T22:07:53Z"}, "body": "Fixes #6035 no 32-bit project warning in MacOS Catalina Xcode 11.1\r\n\r\nWould like someone familiar with Xcode to verify nothing breaks by this slight change.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6067/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6057", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6057/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6057/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6057/events", "html_url": "https://github.com/mesonbuild/meson/issues/6057", "id": 508205626, "node_id": "MDU6SXNzdWU1MDgyMDU2MjY=", "number": 6057, "title": "meson 0.52.0 breaks cross compilation due to linker \"guess\"", "user": {"login": "saurik", "id": 36743, "node_id": "MDQ6VXNlcjM2NzQz", "avatar_url": "https://avatars.githubusercontent.com/u/36743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saurik", "html_url": "https://github.com/saurik", "followers_url": "https://api.github.com/users/saurik/followers", "following_url": "https://api.github.com/users/saurik/following{/other_user}", "gists_url": "https://api.github.com/users/saurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/saurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saurik/subscriptions", "organizations_url": "https://api.github.com/users/saurik/orgs", "repos_url": "https://api.github.com/users/saurik/repos", "events_url": "https://api.github.com/users/saurik/events{/privacy}", "received_events_url": "https://api.github.com/users/saurik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/43", "html_url": "https://github.com/mesonbuild/meson/milestone/43", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/43/labels", "id": 4897324, "node_id": "MDk6TWlsZXN0b25lNDg5NzMyNA==", "number": 43, "title": "0.53.0", "description": null, "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 23, "state": "closed", "created_at": "2019-12-03T00:43:47Z", "updated_at": "2020-01-31T09:44:44Z", "due_on": null, "closed_at": "2020-01-13T18:16:20Z"}, "comments": 10, "created_at": "2019-10-17T03:09:01Z", "updated_at": "2019-12-28T15:19:43Z", "closed_at": "2019-12-11T21:29:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "With meson 0.52.0, there is a new function _guess_nix_linker in environment.py that attempts to guess the linker being used; it does this by passing -Wl,--version to the compiler, but as it doesn't pass the various compiler flags added in a --cross-file, it returns the default linker for the build system instead of the chosen linker for the host system (which might be the default for a --target or might be a specific override due to -B or -fuse-ld). This worked fine with 0.51.1.\r\n\r\nIn my case, I have the following --cross-file, which uses clang from the Android NDK and overrides --target, at which point it will use a GNU linker (sometimes gold); by default, however, this version of clang will happily compile for macOS, and so will run ld64 if no arguments are passed. (FWIW, I partly include this as maybe I'm using the arguments wrong, like maybe I need to be putting these --target arguments somewhere more fundamental than merely c_args?)\r\n\r\n```\r\n[host_machine]\r\nsystem = 'linux'\r\ncpu_family = 'aarch64'\r\ncpu = 'aarch64'\r\nendian = 'little'\r\n\r\n[properties]\r\nc_args = ['--sysroot=/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/sysroot', '-fno-addrsig', '-target', 'aarch64-unknown-linux-android21', '-gfull', '-Os', '-fdebug-prefix-map=./=', '-fdebug-prefix-map=/Users/saurik/orchid/app-android=.', '-fdata-sections', '-ffunction-sections', '-fvisibility=hidden', '-fPIC', '-I/Users/saurik/orchid/app-android/out-and/arm64-v8a/usr/include']\r\ncpp_args = ['--sysroot=/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/sysroot', '-fno-addrsig', '-stdlib=libc++', '-target', 'aarch64-unknown-linux-android21', '-gfull', '-Os', '-fdebug-prefix-map=./=', '-fdebug-prefix-map=/Users/saurik/orchid/app-android=.', '-fdata-sections', '-ffunction-sections', '-fvisibility=hidden', '-fPIC', '-I/Users/saurik/orchid/app-android/out-and/arm64-v8a/usr/include']\r\nobjc_args = ['aarch64-unknown-linux-android21', '-gfull', '-Os', '-fdebug-prefix-map=./=', '-fdebug-prefix-map=/Users/saurik/orchid/app-android=.', '-fdata-sections', '-ffunction-sections', '-fvisibility=hidden', '-fPIC', '-I/Users/saurik/orchid/app-android/out-and/arm64-v8a/usr/include']\r\nc_link_args = ['--sysroot=/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/sysroot', '-fno-addrsig', '-target', 'aarch64-unknown-linux-android21', '-L/Users/saurik/orchid/app-android/out-and/arm64-v8a/usr/lib']\r\ncpp_link_args = ['--sysroot=/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/sysroot', '-fno-addrsig', '-stdlib=libc++', '-target', 'aarch64-unknown-linux-android21', '-L/Users/saurik/orchid/app-android/out-and/arm64-v8a/usr/lib']\r\nobjc_link_args = ['aarch64-unknown-linux-android21', '-L/Users/saurik/orchid/app-android/out-and/arm64-v8a/usr/lib']\r\n\r\n[binaries]\r\nc = '/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang'\r\ncpp = '/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang++'\r\nobjc = '-target'\r\nar = '/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android-ar'\r\nstrip = '/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/aarch64-linux-android-strip'\r\npkgconfig = '/Users/saurik/orchid/app-android/env/pkg-config'\r\n```\r\n\r\nHere is the output from meson, instrumenting the run process with RUNNING lines.\r\n\r\n```\r\nRUNNING ['cc', '-Wl,--version']\r\nld: unknown option: --version\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\nC compiler for the build machine: ccache cc (clang 10.0.1 \"Apple LLVM version 10.0.1 (clang-1001.0.46.3)\")\r\nC linker for the build machine: APPLE ld 450.3\r\nRUNNING ['c++', '-Wl,--version']\r\nld: unknown option: --version\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\nC++ compiler for the build machine: ccache c++ (clang 10.0.1 \"Apple LLVM version 10.0.1 (clang-1001.0.46.3)\")\r\nC++ linker for the build machine: APPLE ld 450.3\r\nRUNNING ['/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang', '-Wl,--version']\r\nld: unknown option: --version\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\nC compiler for the host machine: /Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang (clang 8.0.7 \"Android (5220042 based on r346389c) clang version 8.0.7 (https://android.googlesource.com/toolchain/clang b55f2d4ebfd35bf643d27dbca1bb228957008617) (https://android.googlesource.com/toolchain/llvm 3c393fe7a7e13b0fba4ac75a01aa683d7a5b11cd) (based on LLVM 8.0.7svn)\")\r\nC linker for the host machine: APPLE ld 450.3\r\nRUNNING ['/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang++', '-Wl,--version']\r\nld: unknown option: --version\r\nclang++: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\nC++ compiler for the host machine: /Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang++ (clang 8.0.7 \"Android (5220042 based on r346389c) clang version 8.0.7 (https://android.googlesource.com/toolchain/clang b55f2d4ebfd35bf643d27dbca1bb228957008617) (https://android.googlesource.com/toolchain/llvm 3c393fe7a7e13b0fba4ac75a01aa683d7a5b11cd) (based on LLVM 8.0.7svn)\")\r\nC++ linker for the host machine: APPLE ld 450.3\r\n```\r\n\r\nThe resulting issue, btw, is that I end up with Apple-specific flags being passed to my Android compiler, and Apple-specific file extensions being used for my libraries; I thereby end up with -dead_strip_dylibs (which isn't supported by this compiler, but is hilariously parsed as a kind of symbol to define and re-export) and .dylib. Here's an example LINK_ARGS from the resulting build.ninja (this is a compile of glib).\r\n\r\n```\r\n LINK_ARGS = -L/Users/saurik/orchid/app-android/out-and/arm64-v8a/usr/lib -Wl,-dead_strip_dylibs -Wl,-undefined,error -Wl,-headerpad_max_install_names -shared -fPIC -install_name @rpath/libintl.dylib --sysroot=/Users/saurik/Library/Android/sdk/ndk-bundle/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -fno-addrsig -target aarch64-unknown-linux-android21\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6057/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6035", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6035/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6035/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6035/events", "html_url": "https://github.com/mesonbuild/meson/issues/6035", "id": 506088900, "node_id": "MDU6SXNzdWU1MDYwODg5MDA=", "number": 6035, "title": "32 bit warning with Xcode backend on Catalina", "user": {"login": "nhooyr", "id": 10180857, "node_id": "MDQ6VXNlcjEwMTgwODU3", "avatar_url": "https://avatars.githubusercontent.com/u/10180857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhooyr", "html_url": "https://github.com/nhooyr", "followers_url": "https://api.github.com/users/nhooyr/followers", "following_url": "https://api.github.com/users/nhooyr/following{/other_user}", "gists_url": "https://api.github.com/users/nhooyr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhooyr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhooyr/subscriptions", "organizations_url": "https://api.github.com/users/nhooyr/orgs", "repos_url": "https://api.github.com/users/nhooyr/repos", "events_url": "https://api.github.com/users/nhooyr/events{/privacy}", "received_events_url": "https://api.github.com/users/nhooyr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-11T22:55:49Z", "updated_at": "2019-10-17T22:07:53Z", "closed_at": "2019-10-17T22:07:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "<img width=\"1512\" alt=\"Screen Shot 2019-10-11 at 6 54 30 PM\" src=\"https://user-images.githubusercontent.com/10180857/66689367-9144e780-ec58-11e9-83b3-9d9a523cd883.png\">\r\n\r\nUsing a simple project with a single main.c\r\n\r\n```c\r\n#include <stdio.h>                                                                                                                                                                                                                     \r\n\r\nint main(int argc, char **argv) {\r\n  printf(\"Hello there.\\n\");\r\n  return 0;\r\n}\r\n```\r\n\r\n```python\r\nproject('c', 'c')\r\n\r\nexecutable('main', 'main.c')\r\n```\r\n\r\nI ran `meson --backend xcode xcode` and then opened the Xcode project in Xcode and got the error in the screenshot.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6032", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6032/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6032/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6032/events", "html_url": "https://github.com/mesonbuild/meson/pull/6032", "id": 505968415, "node_id": "MDExOlB1bGxSZXF1ZXN0MzI3Mjk0Mzg5", "number": 6032, "title": "environment: Fix detection of xild with icc", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/41", "html_url": "https://github.com/mesonbuild/meson/milestone/41", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/41/labels", "id": 4729061, "node_id": "MDk6TWlsZXN0b25lNDcyOTA2MQ==", "number": 41, "title": "0.52.1", "description": "MRs and issues for the 0.52.1 release.", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2019-10-07T17:07:50Z", "updated_at": "2020-01-13T18:16:15Z", "due_on": null, "closed_at": "2020-01-13T18:16:15Z"}, "comments": 1, "created_at": "2019-10-11T17:21:18Z", "updated_at": "2019-10-14T15:27:01Z", "closed_at": "2019-10-14T15:26:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/6032", "html_url": "https://github.com/mesonbuild/meson/pull/6032", "diff_url": "https://github.com/mesonbuild/meson/pull/6032.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/6032.patch", "merged_at": "2019-10-14T15:26:58Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6032/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6027", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6027/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6027/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6027/events", "html_url": "https://github.com/mesonbuild/meson/issues/6027", "id": 505756425, "node_id": "MDU6SXNzdWU1MDU3NTY0MjU=", "number": 6027, "title": "-Wl,-rpath-link for secondary dependencies causes linking failure when there are two prefixes", "user": {"login": "lantw44", "id": 3016644, "node_id": "MDQ6VXNlcjMwMTY2NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3016644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lantw44", "html_url": "https://github.com/lantw44", "followers_url": "https://api.github.com/users/lantw44/followers", "following_url": "https://api.github.com/users/lantw44/following{/other_user}", "gists_url": "https://api.github.com/users/lantw44/gists{/gist_id}", "starred_url": "https://api.github.com/users/lantw44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lantw44/subscriptions", "organizations_url": "https://api.github.com/users/lantw44/orgs", "repos_url": "https://api.github.com/users/lantw44/repos", "events_url": "https://api.github.com/users/lantw44/events{/privacy}", "received_events_url": "https://api.github.com/users/lantw44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/41", "html_url": "https://github.com/mesonbuild/meson/milestone/41", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/41/labels", "id": 4729061, "node_id": "MDk6TWlsZXN0b25lNDcyOTA2MQ==", "number": 41, "title": "0.52.1", "description": "MRs and issues for the 0.52.1 release.", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2019-10-07T17:07:50Z", "updated_at": "2020-01-13T18:16:15Z", "due_on": null, "closed_at": "2020-01-13T18:16:15Z"}, "comments": 6, "created_at": "2019-10-11T09:57:49Z", "updated_at": "2019-11-13T15:46:35Z", "closed_at": "2019-11-13T15:46:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a regression of Meson 0.52.0. https://github.com/mesonbuild/meson/pull/5647 breaks it and reverting 7b9c348102792030859ed0001a51416506a0a092 fixes the problem. Tag the author @SoapGentoo and reviewers @jpakkane, @dcbaker and @textshell .\r\n\r\nIt is typical for a development environment to have at least two prefixes, one for the development work under the home directory and one for libraries installed on the system. We have to ensure that libraries under the development prefix is always preferred to libraries under the system prefix. Otherwise, the linker may report undefined reference errors because the version provided by the system may be too old.\r\n\r\nThe way https://github.com/mesonbuild/meson/pull/5647 adds `-Wl,-rpath-link` breaks the development environment managed by JHBuild seriously because everything linking to GLib is likely to trigger undefined reference errors with GNU ld. LLVM lld isn't affected because it just ignores `-Wl,-rpath-link`. There are two problems in the current implementation of `-Wl,-rpath-link` in `PkgConfigDependency`:\r\n\r\n1. It only adds `-Wl,-rpath-link` for `secondary_libpaths`. It is possible for a secondary dependency to come from `prefix_libpaths`, so it should add `-Wl,-rpath-link` for `prefix_libpaths` as well. `prefix_libpaths` should come before `secondary_libpaths` because it should be preferred.\r\n2. It appears on the command line too early. In file `mesonbuild/backend/ninjabackend.py`, class `NinjaBackend`, function `generate_link`, `linker.get_dependency_link_args` is called before `linker.build_rpath_args`. This means `-Wl,-rpath-link` arguments for external dependencies returned by `linker.get_dependency_link_args` come before `-Wl,-rpath-link` arguments for internal dependencies returned by `linker.build_rpath_args`, which is wrong because we should always prefer internal libraries to external libraries.\r\n\r\nLet's see an example here. I was trying to build `pixman` with JHBuild.\r\n\r\n * The development prefix `/home/lantw44/gnome/devinstall/lib` has GLib, GTK, Pango, FriBidi.\r\n * The system prefix `/usr/local/lib` has PCRE, libintl, libiconv.\r\n\r\nHere are the error messages:\r\n```\r\nFAILED: demos/gradient-test \r\nclang -B/home/lantw44/.local/bin  -o demos/gradient-test 'demos/03bf7ed@@gradient-test@exe/gradient-test.c.o' -L/home/lantw44/gnome/devinstall/lib -L/usr/local/lib -Wl,--as-needed -Wl,--no-undefined -march=corei7 -B/home/lantw44/.local/bin -pipe -g3 -Og -gz -fdebug-macro -B/home/lantw44/.local/bin -Wl,--compress-debug-sections=zlib -fuse-ld=bfd -Wl,--start-group demos/libdemo.a test/libtestutils.a pixman/libpixman-1.so.0.38.5 -Wl,-rpath-link,/usr/local/lib /home/lantw44/gnome/devinstall/lib/libglib-2.0.so -L/home/lantw44/gnome/devinstall/lib -lintl /home/lantw44/gnome/devinstall/lib/libgtk-x11-2.0.so /home/lantw44/gnome/devinstall/lib/libgdk-x11-2.0.so /home/lantw44/gnome/devinstall/lib/libpangocairo-1.0.so /home/lantw44/gnome/devinstall/lib/libatk-1.0.so /home/lantw44/gnome/devinstall/lib/libcairo.so /home/lantw44/gnome/devinstall/lib/libgdk_pixbuf-2.0.so /home/lantw44/gnome/devinstall/lib/libgio-2.0.so /home/lantw44/gnome/devinstall/lib/libpangoft2-1.0.so /home/lantw44/gnome/devinstall/lib/libpango-1.0.so /home/lantw44/gnome/devinstall/lib/libgobject-2.0.so /usr/local/lib/libintl.so /home/lantw44/gnome/devinstall/lib/libharfbuzz.so /usr/local/lib/libfontconfig.so /usr/local/lib/libfreetype.so -fopenmp -Wl,-rpath-link,/usr/local/lib -L/home/lantw44/gnome/devinstall/lib -lintl /usr/local/lib/libpng16.so /usr/lib/libz.so -lm -Wl,--end-group -fopenmp -fopenmp '-Wl,-rpath,$ORIGIN/:$ORIGIN/../test:$ORIGIN/../pixman' -Wl,-rpath-link,/home/lantw44/gnome/build/pixman/demos -Wl,-rpath-link,/home/lantw44/gnome/build/pixman/test -Wl,-rpath-link,/home/lantw44/gnome/build/pixman/pixman\r\n/usr/local/bin/ld.bfd: /home/lantw44/gnome/devinstall/lib/libpango-1.0.so: undefined reference to `fribidi_get_par_embedding_levels_ex'\r\n/usr/local/bin/ld.bfd: /home/lantw44/gnome/devinstall/lib/libpango-1.0.so: undefined reference to `fribidi_get_bracket'\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n```\r\n\r\nFunction `_set_libs` of class `PkgConfigDependency` calls `pkg-config` three times, and here are results under the JHBuild environment.\r\n\r\nThis is `out`.\r\n```\r\n$ PKG_CONFIG_ALLOW_SYSTEM_LIBS=1 pkg-config --libs glib-2.0\r\n-L/home/lantw44/gnome/devinstall/lib -lglib-2.0 -lintl\r\n```\r\n\r\nThis is `out_raw`.\r\n```\r\n$ pkg-config --libs glib-2.0 \r\n-L/home/lantw44/gnome/devinstall/lib -lglib-2.0 -lintl \r\n```\r\n\r\nThis is `out_all`.\r\n```\r\n$ pkg-config --libs glib-2.0 --static\r\n-L/home/lantw44/gnome/devinstall/lib -lglib-2.0 -lintl -pthread -liconv -L/usr/local/lib -lpcre -D_THREAD_SAFE -pthread\r\n```\r\n\r\nWe can see that `-L/usr/local/lib` only appers in `out_all`, so we have:\r\n * `prefix_libpaths = ['/home/lantw44/gnome/devinstall/lib']`\r\n * `secondary_libpaths = ['/usr/local/lib']`\r\n * `system_libpaths = []`\r\n\r\nThey get translated to command line arguments as `-Wl,-rpath-link,/usr/local/lib -L/home/lantw44/gnome/devinstall/lib`.\r\n\r\nAssume that there is an executables which need both GLib and GTK. Meson processes GLib first and put `-Wl,-rpath-link,/usr/local/lib -L/home/lantw44/gnome/devinstall/lib` on the command line. Therefore, when the linker searches for direct dependencies, it finds `/home/lantw44/gnome/devinstall/lib` first. However, when the linker searches for secondary dependencies, it finds `/usr/local/lib` first. This means that the system prefix is now even more important than the project itself because it comes before `-Wl,-rpath-link,/home/lantw44/gnome/build/pixman/demos -Wl,-rpath-link,/home/lantw44/gnome/build/pixman/test -Wl,-rpath-link,/home/lantw44/gnome/build/pixman/pixman` added by `linker.build_rpath_args`.\r\n\r\nThis is obviously wrong. The result is that the linker finds FriBidi from the wrong directory and report undefined reference errors. GTK needs Pango, and Pango needs FriBidi. The linker finds both GTK and Pango correctly because they are direct dependencies, but it finds FriBidi wrongly because it is a secondary dependency. It should find the one installed in `/home/lantw44/gnome/devinstall/lib`, not `/usr/local/lib`.\r\n\r\nI think the solution is to\r\n1. Add `-Wl,-rpath-link` for both `prefix_libpaths` and `secondary_libpaths`.\r\n2. Separate `-Wl,-rpath-link` from other arguments, so they can be added in the correct order.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6008", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6008/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6008/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6008/events", "html_url": "https://github.com/mesonbuild/meson/issues/6008", "id": 503803081, "node_id": "MDU6SXNzdWU1MDM4MDMwODE=", "number": 6008, "title": "meson 0.52.0 infinitely recurses in get_transitive_build_target_deps", "user": {"login": "anitazha", "id": 4282808, "node_id": "MDQ6VXNlcjQyODI4MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/4282808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anitazha", "html_url": "https://github.com/anitazha", "followers_url": "https://api.github.com/users/anitazha/followers", "following_url": "https://api.github.com/users/anitazha/following{/other_user}", "gists_url": "https://api.github.com/users/anitazha/gists{/gist_id}", "starred_url": "https://api.github.com/users/anitazha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anitazha/subscriptions", "organizations_url": "https://api.github.com/users/anitazha/orgs", "repos_url": "https://api.github.com/users/anitazha/repos", "events_url": "https://api.github.com/users/anitazha/events{/privacy}", "received_events_url": "https://api.github.com/users/anitazha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/41", "html_url": "https://github.com/mesonbuild/meson/milestone/41", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/41/labels", "id": 4729061, "node_id": "MDk6TWlsZXN0b25lNDcyOTA2MQ==", "number": 41, "title": "0.52.1", "description": "MRs and issues for the 0.52.1 release.", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2019-10-07T17:07:50Z", "updated_at": "2020-01-13T18:16:15Z", "due_on": null, "closed_at": "2020-01-13T18:16:15Z"}, "comments": 2, "created_at": "2019-10-08T03:28:42Z", "updated_at": "2019-11-06T20:11:17Z", "closed_at": "2019-11-06T19:58:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Discovered by @mrc0mmand in https://github.com/systemd/systemd/issues/13742, the latest version of meson is now calling `get_transitive_build_target_deps()` on the custom targets where it wasn't before. This causes some custom targets to recurse indefinitely in the function.\r\nI believe the blame is https://github.com/mesonbuild/meson/commit/f95c965043221b2fc0e40c9410bd9efa88f31832 which makes this change:\r\n```\r\nmeson_exe_cmd = self.as_meson_exe_cmdline(target.name, target.command[0], cmd[1:],\r\n                                          for_machine=target.for_machine,\r\n                                          extra_bdeps=target.get_transitive_build_target_deps(),\r\n                                          capture=ofilenames[0] if target.capture else None)\r\n```\r\nwhich calls `get_transitive_build_target_deps` every time it goes through this path, when the previous version of the code would only call it for Windows-like environments.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6008/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6004", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6004/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6004/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6004/events", "html_url": "https://github.com/mesonbuild/meson/issues/6004", "id": 503445953, "node_id": "MDU6SXNzdWU1MDM0NDU5NTM=", "number": 6004, "title": "[0.52.0] Failed test-suite 47 pkgconfig-gen", "user": {"login": "DimStar77", "id": 532559, "node_id": "MDQ6VXNlcjUzMjU1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/532559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DimStar77", "html_url": "https://github.com/DimStar77", "followers_url": "https://api.github.com/users/DimStar77/followers", "following_url": "https://api.github.com/users/DimStar77/following{/other_user}", "gists_url": "https://api.github.com/users/DimStar77/gists{/gist_id}", "starred_url": "https://api.github.com/users/DimStar77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DimStar77/subscriptions", "organizations_url": "https://api.github.com/users/DimStar77/orgs", "repos_url": "https://api.github.com/users/DimStar77/repos", "events_url": "https://api.github.com/users/DimStar77/events{/privacy}", "received_events_url": "https://api.github.com/users/DimStar77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/42", "html_url": "https://github.com/mesonbuild/meson/milestone/42", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/42/labels", "id": 4887464, "node_id": "MDk6TWlsZXN0b25lNDg4NzQ2NA==", "number": 42, "title": "0.52.2", "description": "Possible new .2 stable release (initially created for tracking whatever regressions couldn't be fixed in time for 0.52.1)", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2019-11-28T11:34:57Z", "updated_at": "2020-01-22T22:10:56Z", "due_on": null, "closed_at": "2020-01-13T18:16:18Z"}, "comments": 8, "created_at": "2019-10-07T13:16:29Z", "updated_at": "2020-01-22T22:10:56Z", "closed_at": "2020-01-22T22:10:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After updating Meson to 0.52.0 its own test suite fails:\r\n\r\n```\r\n[  240s] The Meson build system\r\n[  240s] Version: 0.52.0\r\n[  240s] Source dir: /home/abuild/rpmbuild/BUILD/meson-0.52.0/test cases/common/47 pkgconfig-gen/dependencies\r\n[  240s] Build dir: /home/abuild/rpmbuild/BUILD/meson-0.52.0/tmp342kl9m2\r\n[  240s] Build type: native build\r\n[  240s] Project name: pkgconfig-gen-dependencies\r\n[  240s] Project version: 1.0\r\n[  240s] C compiler for the host machine: cc (gcc 9.2.1 \"cc (SUSE Linux) 9.2.1 20190903 [gcc-9-branch revision 275330]\")\r\n[  240s] C linker for the host machine: GNU ld.bfd 2.32.0.20190909-7\r\n[  240s] Host machine cpu family: x86_64\r\n[  240s] Host machine cpu: x86_64\r\n[  240s] Found pkg-config: /usr/bin/pkg-config (1.6.3)\r\n[  240s] Run-time dependency libfoo found: YES 1.0\r\n[  240s] Dependency libfoo found: YES (cached)\r\n[  240s] Found CMake: /usr/bin/cmake (3.15.3)\r\n[  240s] Run-time dependency notfound found: NO (tried pkgconfig and cmake)\r\n[  240s] Run-time dependency threads found: YES \r\n[  240s] Build targets in project: 7\r\n[  240s] Found ninja-1.9.0 at /usr/bin/ninja\r\n[  240s] \r\n[  240s] /home/abuild/rpmbuild/BUILD/meson-0.52.0/tmp342kl9m2/meson-private/dependency-test.pc:7: warning: malformed version field with whitespace, trimming to [1.0]\r\n[  240s] /home/abuild/rpmbuild/BUILD/meson-0.52.0/tmp342kl9m2/meson-private/libexposed.pc:7: warning: malformed version field with whitespace, trimming to [1.0]\r\n[  240s] \r\n[  240s] libexposed\r\n[  240s] libfoo >= 1.0\r\n[  240s] libhello\r\n[  240s] \r\n[  240s] libexposed\r\n[  240s] libfoo >= 1.0\r\n[  240s] libhello\r\n[  240s] \r\n[  240s] -L/usr/lib -llibmain2 -llibinternal \r\n[  240s] \r\n[  240s] error: Bad exit status from /var/tmp/rpm-tmp.nzjD9p (%check)\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6004/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6003", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6003/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6003/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6003/events", "html_url": "https://github.com/mesonbuild/meson/issues/6003", "id": 503429767, "node_id": "MDU6SXNzdWU1MDM0Mjk3Njc=", "number": 6003, "title": "Regression in Ninja link flags generation in 0.52.0", "user": {"login": "coffee-lord", "id": 8833283, "node_id": "MDQ6VXNlcjg4MzMyODM=", "avatar_url": "https://avatars.githubusercontent.com/u/8833283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coffee-lord", "html_url": "https://github.com/coffee-lord", "followers_url": "https://api.github.com/users/coffee-lord/followers", "following_url": "https://api.github.com/users/coffee-lord/following{/other_user}", "gists_url": "https://api.github.com/users/coffee-lord/gists{/gist_id}", "starred_url": "https://api.github.com/users/coffee-lord/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coffee-lord/subscriptions", "organizations_url": "https://api.github.com/users/coffee-lord/orgs", "repos_url": "https://api.github.com/users/coffee-lord/repos", "events_url": "https://api.github.com/users/coffee-lord/events{/privacy}", "received_events_url": "https://api.github.com/users/coffee-lord/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/41", "html_url": "https://github.com/mesonbuild/meson/milestone/41", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/41/labels", "id": 4729061, "node_id": "MDk6TWlsZXN0b25lNDcyOTA2MQ==", "number": 41, "title": "0.52.1", "description": "MRs and issues for the 0.52.1 release.", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2019-10-07T17:07:50Z", "updated_at": "2020-01-13T18:16:15Z", "due_on": null, "closed_at": "2020-01-13T18:16:15Z"}, "comments": 0, "created_at": "2019-10-07T12:46:56Z", "updated_at": "2019-10-07T21:07:08Z", "closed_at": "2019-10-07T21:07:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Meson version: **0.52.0**  \r\nOS: **Linux**  \r\nCompiler toolchain: **LLVM/Clang**\r\n\r\nI believe the change introduced in 0.52.0 wrt link flag generation caused a regression. Not sure what the minimal working example would look like but in my case the error appears when using Boost with `BOOST_ROOT` defined.\r\n\r\nAfter successfully running `meson` followed by `ninja` the linker errors out with:\r\n\r\n```\r\n[2/2] Linking target test_app.\r\nFAILED: test_app\r\nclang++  -o test_app ... /opt/boost/lib -L ...\r\nld.lld: error: cannot open /opt/boost/lib: Is a directory\r\n```\r\nNinja generator puts `-L` after the path instead of the other way around.\r\n\r\nI've found a probable cause:\r\n\r\nIn 0.51.2:\r\n\r\nhttps://github.com/mesonbuild/meson/blob/6857936c592d6f9608add5a74a51ee405aaddc0d/mesonbuild/compilers/clike.py#L270-L271\r\n\r\n\r\nIn 0.52.0:\r\n\r\nhttps://github.com/mesonbuild/meson/blob/2779603c689c6347809255a5aa3bd59b46b18b81/mesonbuild/linkers.py#L414-L415\r\n\r\nHere:\r\n\r\nhttps://github.com/mesonbuild/meson/blob/ba1367b588388ebe9e37057cee9639e2ea2046fb/mesonbuild/backend/ninjabackend.py#L2517\r\n\r\n`extend_preserving_lflags` receives an argument that looks like this:\r\n\r\n```python\r\n# In 0.52.0\r\nlinker.get_dependency_link_args(dep)\r\n# ['-L', '/boost/root/lib']\r\n\r\n# In 0.51.2\r\ndep.get_link_args()\r\n# ['-L/boost/root/lib'] \r\n```\r\nAnd `extend_preserving_lflags` reorders the args here:\r\n\r\nhttps://github.com/mesonbuild/meson/blob/ba1367b588388ebe9e37057cee9639e2ea2046fb/mesonbuild/compilers/compilers.py#L589-L598\r\n\r\n`-L` goes into `lflags` and `/opt/boost/lib` goes into `normal_flags` then `normal_flags` gets appended first resulting in `[ ..., '/opt/boost/lib', '-L', ...]`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6000", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/6000/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/6000/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/6000/events", "html_url": "https://github.com/mesonbuild/meson/issues/6000", "id": 503254436, "node_id": "MDU6SXNzdWU1MDMyNTQ0MzY=", "number": 6000, "title": " windows build broken with 0.52.0", "user": {"login": "borg323", "id": 39573933, "node_id": "MDQ6VXNlcjM5NTczOTMz", "avatar_url": "https://avatars.githubusercontent.com/u/39573933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/borg323", "html_url": "https://github.com/borg323", "followers_url": "https://api.github.com/users/borg323/followers", "following_url": "https://api.github.com/users/borg323/following{/other_user}", "gists_url": "https://api.github.com/users/borg323/gists{/gist_id}", "starred_url": "https://api.github.com/users/borg323/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/borg323/subscriptions", "organizations_url": "https://api.github.com/users/borg323/orgs", "repos_url": "https://api.github.com/users/borg323/repos", "events_url": "https://api.github.com/users/borg323/events{/privacy}", "received_events_url": "https://api.github.com/users/borg323/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/41", "html_url": "https://github.com/mesonbuild/meson/milestone/41", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/41/labels", "id": 4729061, "node_id": "MDk6TWlsZXN0b25lNDcyOTA2MQ==", "number": 41, "title": "0.52.1", "description": "MRs and issues for the 0.52.1 release.", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 26, "state": "closed", "created_at": "2019-10-07T17:07:50Z", "updated_at": "2020-01-13T18:16:15Z", "due_on": null, "closed_at": "2020-01-13T18:16:15Z"}, "comments": 9, "created_at": "2019-10-07T06:20:49Z", "updated_at": "2019-10-11T17:08:01Z", "closed_at": "2019-10-11T17:08:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "We get a: \r\n```meson.build:182:2: ERROR: Search directory \\usr\\local\\lib\\tensorflow_cc is not an absolute path.```\r\nThis is from: \r\n```tf_tensorflow_lib = cc.find_library('libtensorflow_cc', dirs: tensorflow_libdir, required: false)```\r\nand tensorflow_libdir is initialized through an array option with default value `['/usr/local/lib/tensorflow_cc/']`.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/6000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/6000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5984", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5984/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5984/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5984/events", "html_url": "https://github.com/mesonbuild/meson/issues/5984", "id": 501047695, "node_id": "MDU6SXNzdWU1MDEwNDc2OTU=", "number": 5984, "title": "executables passed as an argument to a test in the same directory will not run", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-01T17:46:00Z", "updated_at": "2020-05-18T21:23:21Z", "closed_at": "2020-05-18T21:23:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since the path we create is relative to the build directory the executable lives in, if we call the executable outside its directory we get a path, ie `../foo`, which is generally understood. If we call it from the same directory we get `foo`, which does not work, we'd need to add `./` to it.\r\n\r\nThis sounds like a compatibility nightmare to me.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5984/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5982", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5982/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5982/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5982/events", "html_url": "https://github.com/mesonbuild/meson/issues/5982", "id": 500981472, "node_id": "MDU6SXNzdWU1MDA5ODE0NzI=", "number": 5982, "title": "meson test does not skip test that are passed a cross exectuable when an exe_wrapper is required", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-01T15:40:43Z", "updated_at": "2019-10-29T18:10:11Z", "closed_at": "2019-10-29T18:10:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Mesa has several tests that pass a compiled executable to a python script which calls the executable and compares its output to some expectation. This works great, except when cross compiling when no exe_wrapper is available, but one is needed, as meson doesn't flag these tests as skip due to having no exe_wrapper, and they fail.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5982/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5982/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5884", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5884/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5884/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5884/events", "html_url": "https://github.com/mesonbuild/meson/issues/5884", "id": 489293974, "node_id": "MDU6SXNzdWU0ODkyOTM5NzQ=", "number": 5884, "title": "meson instrospect without configured directory broken by b72b5365afe319e576e254f12437aeff899eb03e", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-09-04T17:31:02Z", "updated_at": "2019-09-04T22:05:44Z", "closed_at": "2019-09-04T22:05:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Before said commit `meson introspect --buildoptions meson.build` would return something, now it returns nothing.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5884/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5884/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5834", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5834/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5834/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5834/events", "html_url": "https://github.com/mesonbuild/meson/pull/5834", "id": 484164608, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwMTAxNTMw", "number": 5834, "title": "cmake:correct logic for too old cmake", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1455967581, "node_id": "MDU6TGFiZWwxNDU1OTY3NTgx", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependency:cmake", "name": "dependency:cmake", "color": "fce2ab", "default": false, "description": "Issues related to `dependency` with the `cmake` method"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-22T19:13:38Z", "updated_at": "2019-08-23T10:24:40Z", "closed_at": "2019-08-22T21:39:14Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/5834", "html_url": "https://github.com/mesonbuild/meson/pull/5834", "diff_url": "https://github.com/mesonbuild/meson/pull/5834.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/5834.patch", "merged_at": "2019-08-22T21:39:14Z"}, "body": "Fixes #5827 \r\n\r\ndependency() calls crash if too old CMake (like 2.8) is present on a system, as is typical of HPC / CentOS systems.\r\nThere was just a line of code out of place, which is fixed here.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5834/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5823", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5823/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5823/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5823/events", "html_url": "https://github.com/mesonbuild/meson/pull/5823", "id": 483370941, "node_id": "MDExOlB1bGxSZXF1ZXN0MzA5NDU5OTQw", "number": 5823, "title": "PGI compiler fixes", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-21T11:45:37Z", "updated_at": "2019-09-06T01:56:53Z", "closed_at": "2019-09-05T20:45:55Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/5823", "html_url": "https://github.com/mesonbuild/meson/pull/5823", "diff_url": "https://github.com/mesonbuild/meson/pull/5823.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/5823.patch", "merged_at": "2019-09-05T20:45:55Z"}, "body": "The new linker layout by dcbaker made finding and fixing these issues easier--these issues generally existed since PGI was added months ago.\r\nBefore this, PGI Windows C programs were not buildable (I had previously focused on Fortran-only projects for PGI where these bugs were not invoked).\r\n\r\n* corrected use of internal PGI-specific functions and methods (some bugfixes)\r\n* added PGIStaticLinker\r\n* added that PGI on Windows has an `ar`-like wrapper for Link/Lib\r\n\r\n* allowed several `common` tests to Skip instead of Fail when C++ compiler not available, such as PGI for Windows\r\n\r\nPGI's solution for those needing to use C++ with PGI on Windows appears to be to have the user convert C++ code to C (!)\r\nPGI's Windows custom shell environment does not accommodate MSVC.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5823/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5733", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5733/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5733/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5733/events", "html_url": "https://github.com/mesonbuild/meson/pull/5733", "id": 473831678, "node_id": "MDExOlB1bGxSZXF1ZXN0MzAxODkzMjUz", "number": 5733, "title": "PGI: correct Fortran so that Fortran run_project_tests.py pass", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-29T03:27:44Z", "updated_at": "2019-07-31T10:44:15Z", "closed_at": "2019-07-30T21:31:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/5733", "html_url": "https://github.com/mesonbuild/meson/pull/5733", "diff_url": "https://github.com/mesonbuild/meson/pull/5733.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/5733.patch", "merged_at": "2019-07-30T21:31:16Z"}, "body": "* Linux: all tests pass except the skipped \"13 coarray\"\r\n* Windows: all tests pass except skipped: 6 (dynamic lib on non-Gfortran Windows takes peculiar non-standard Fortran syntax), 9 (can't mix compilers on Windows), 10 (zlib not on windows), 13 coarray\r\n\r\nOpenMP is included right in the PGI compiler.\r\n\r\n```sh\r\nFC=pgfortran CC=pgcc CXX=pgc++ python run_project_tests.py --only fortran\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5733/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5689", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5689/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5689/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5689/events", "html_url": "https://github.com/mesonbuild/meson/pull/5689", "id": 470508856, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjk5NDYxODgz", "number": 5689, "title": "bugfix: sometimes test.fname is None in mtest.py", "user": {"login": "scivision", "id": 10931741, "node_id": "MDQ6VXNlcjEwOTMxNzQx", "avatar_url": "https://avatars.githubusercontent.com/u/10931741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scivision", "html_url": "https://github.com/scivision", "followers_url": "https://api.github.com/users/scivision/followers", "following_url": "https://api.github.com/users/scivision/following{/other_user}", "gists_url": "https://api.github.com/users/scivision/gists{/gist_id}", "starred_url": "https://api.github.com/users/scivision/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scivision/subscriptions", "organizations_url": "https://api.github.com/users/scivision/orgs", "repos_url": "https://api.github.com/users/scivision/repos", "events_url": "https://api.github.com/users/scivision/events{/privacy}", "received_events_url": "https://api.github.com/users/scivision/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-19T19:42:24Z", "updated_at": "2019-07-19T22:56:54Z", "closed_at": "2019-07-19T22:56:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/5689", "html_url": "https://github.com/mesonbuild/meson/pull/5689", "diff_url": "https://github.com/mesonbuild/meson/pull/5689.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/5689.patch", "merged_at": null}, "body": "This allows for the case where TestRun.test.fname is None instead of List[str].\r\nThis seems to happen with meson.build test() that are defined at configure time depending on other conditions.  It seems this is intended for cross compiled binaries, which I am not using in the projects where this error shows up.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/code/meson/mesonbuild/mesonmain.py\", line 127, in run\r\n    return options.run_func(options)\r\n  File \"/code/meson/mesonbuild/mtest.py\", line 1034, in run\r\n    return th.doit()\r\n  File \"/code/meson/mesonbuild/mtest.py\", line 791, in doit\r\n    self.run_tests(tests)\r\n  File \"/code/meson/mesonbuild/mtest.py\", line 941, in run_tests\r\n    self.drain_futures(futures)\r\n  File \"/code/meson/mesonbuild/mtest.py\", line 957, in drain_futures\r\n    self.process_test_result(result.result())\r\n  File \"/miniconda3/lib/python3.7/concurrent/futures/_base.py\", line 425, in result\r\n    return self.__get_result()\r\n  File \"/miniconda3/lib/python3.7/concurrent/futures/_base.py\", line 384, in __get_result\r\n    raise self._exception\r\n  File \"/miniconda3/lib/python3.7/concurrent/futures/thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/code/meson/mesonbuild/mtest.py\", line 475, in run\r\n    cmd = self._get_cmd()\r\n  File \"/code/meson/mesonbuild/mtest.py\", line 455, in _get_cmd\r\n    if self.test.fname[0].endswith('.jar'):\r\nAttributeError: 'NoneType' object has no attribute 'endswith'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5689/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5640", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5640/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5640/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5640/events", "html_url": "https://github.com/mesonbuild/meson/issues/5640", "id": 467218696, "node_id": "MDU6SXNzdWU0NjcyMTg2OTY=", "number": 5640, "title": "Very counter-intuitive \"Cross and native files must not be directories\" error", "user": {"login": "Akaricchi", "id": 609016, "node_id": "MDQ6VXNlcjYwOTAxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/609016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akaricchi", "html_url": "https://github.com/Akaricchi", "followers_url": "https://api.github.com/users/Akaricchi/followers", "following_url": "https://api.github.com/users/Akaricchi/following{/other_user}", "gists_url": "https://api.github.com/users/Akaricchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akaricchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akaricchi/subscriptions", "organizations_url": "https://api.github.com/users/Akaricchi/orgs", "repos_url": "https://api.github.com/users/Akaricchi/repos", "events_url": "https://api.github.com/users/Akaricchi/events{/privacy}", "received_events_url": "https://api.github.com/users/Akaricchi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-12T04:45:44Z", "updated_at": "2019-07-31T19:37:00Z", "closed_at": "2019-07-31T19:37:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Consider the following:\r\n\r\n```c\r\n[0] [akari@navi] [master \u2190 /home/akari/git/cosuzu/build]\r\n % ls -l\r\ntotal 0\r\ndrwxr-xr-x 6 akari users 122 Jul 12 07:39 native-gcc\r\n\r\n[0] [akari@navi] [master \u2190 /home/akari/git/cosuzu/build]\r\n % file ~/.local/share/meson/cross/llvm-mingw-i686\r\n/home/akari/.local/share/meson/cross/llvm-mingw-i686: ASCII text\r\n\r\n[0] [akari@navi] [master \u2190 /home/akari/git/cosuzu/build]\r\n % meson --cross-file llvm-mingw-i686 ../ llvm-mingw-i686\r\n\r\nERROR: Cross and native files must not be directories\r\n\r\n[1] [akari@navi] [master \u2190 /home/akari/git/cosuzu/build]\r\n % ls -l                                                 \r\ntotal 0\r\ndrwxr-xr-x 5 akari users  63 Jul 12 07:43 llvm-mingw-i686\r\ndrwxr-xr-x 6 akari users 122 Jul 12 07:39 native-gcc\r\n```\r\n\r\nPerhaps the cross/native file paths should be resolved *before* the build directory is created?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5640/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5570", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5570/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5570/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5570/events", "html_url": "https://github.com/mesonbuild/meson/issues/5570", "id": 461629055, "node_id": "MDU6SXNzdWU0NjE2MjkwNTU=", "number": 5570, "title": "Meson 0.51.0 Xcode backend is not working.", "user": {"login": "squidfarts", "id": 42789598, "node_id": "MDQ6VXNlcjQyNzg5NTk4", "avatar_url": "https://avatars.githubusercontent.com/u/42789598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/squidfarts", "html_url": "https://github.com/squidfarts", "followers_url": "https://api.github.com/users/squidfarts/followers", "following_url": "https://api.github.com/users/squidfarts/following{/other_user}", "gists_url": "https://api.github.com/users/squidfarts/gists{/gist_id}", "starred_url": "https://api.github.com/users/squidfarts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/squidfarts/subscriptions", "organizations_url": "https://api.github.com/users/squidfarts/orgs", "repos_url": "https://api.github.com/users/squidfarts/repos", "events_url": "https://api.github.com/users/squidfarts/events{/privacy}", "received_events_url": "https://api.github.com/users/squidfarts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/39", "html_url": "https://github.com/mesonbuild/meson/milestone/39", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/39/labels", "id": 4416298, "node_id": "MDk6TWlsZXN0b25lNDQxNjI5OA==", "number": 39, "title": "0.51.1", "description": "https://github.com/mesonbuild/meson/commits/0.51", "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 35, "state": "closed", "created_at": "2019-06-17T18:15:05Z", "updated_at": "2019-07-15T19:16:26Z", "due_on": null, "closed_at": "2019-07-14T15:12:55Z"}, "comments": 4, "created_at": "2019-06-27T16:29:14Z", "updated_at": "2019-06-29T21:29:41Z", "closed_at": "2019-06-29T21:29:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "The backend for Xcode doesn\u2019t work for some reason.\r\n\r\nI\u2019m using Meson version 0.51.0.\r\n![A331EFB7-3CAC-4949-8B24-E7C3FA00FEFF](https://user-images.githubusercontent.com/42789598/60283549-3e6c3d80-98be-11e9-8d84-91364a16e373.jpeg)", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5567", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5567/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5567/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5567/events", "html_url": "https://github.com/mesonbuild/meson/issues/5567", "id": 461609300, "node_id": "MDU6SXNzdWU0NjE2MDkzMDA=", "number": 5567, "title": "cross compiler needs_exe_wrapper is ignored", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/39", "html_url": "https://github.com/mesonbuild/meson/milestone/39", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/39/labels", "id": 4416298, "node_id": "MDk6TWlsZXN0b25lNDQxNjI5OA==", "number": 39, "title": "0.51.1", "description": "https://github.com/mesonbuild/meson/commits/0.51", "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 35, "state": "closed", "created_at": "2019-06-17T18:15:05Z", "updated_at": "2019-07-15T19:16:26Z", "due_on": null, "closed_at": "2019-07-14T15:12:55Z"}, "comments": 3, "created_at": "2019-06-27T15:49:41Z", "updated_at": "2019-08-20T15:59:35Z", "closed_at": "2019-06-27T18:06:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I tried to compile mesa with meson 0.51 with an x86_64 -> x86 cross compile, and it fails because one of our generators is host compiled, which will run just fine but meson asserts and dies instead. Looks pretty trivial, I'll fix it.\r\n\r\nRelated to #5509", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5550", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5550/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5550/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5550/events", "html_url": "https://github.com/mesonbuild/meson/issues/5550", "id": 459796613, "node_id": "MDU6SXNzdWU0NTk3OTY2MTM=", "number": 5550, "title": "running meson fails on latest release 0.51.0", "user": {"login": "cxleb", "id": 19945752, "node_id": "MDQ6VXNlcjE5OTQ1NzUy", "avatar_url": "https://avatars.githubusercontent.com/u/19945752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cxleb", "html_url": "https://github.com/cxleb", "followers_url": "https://api.github.com/users/cxleb/followers", "following_url": "https://api.github.com/users/cxleb/following{/other_user}", "gists_url": "https://api.github.com/users/cxleb/gists{/gist_id}", "starred_url": "https://api.github.com/users/cxleb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cxleb/subscriptions", "organizations_url": "https://api.github.com/users/cxleb/orgs", "repos_url": "https://api.github.com/users/cxleb/repos", "events_url": "https://api.github.com/users/cxleb/events{/privacy}", "received_events_url": "https://api.github.com/users/cxleb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/39", "html_url": "https://github.com/mesonbuild/meson/milestone/39", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/39/labels", "id": 4416298, "node_id": "MDk6TWlsZXN0b25lNDQxNjI5OA==", "number": 39, "title": "0.51.1", "description": "https://github.com/mesonbuild/meson/commits/0.51", "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 35, "state": "closed", "created_at": "2019-06-17T18:15:05Z", "updated_at": "2019-07-15T19:16:26Z", "due_on": null, "closed_at": "2019-07-14T15:12:55Z"}, "comments": 2, "created_at": "2019-06-24T09:50:43Z", "updated_at": "2019-06-26T07:57:31Z", "closed_at": "2019-06-26T07:57:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "i installed meson 0.51.0 64 using the msi installer and when running \"meson\" as a test i produces this stack trace:\r\nTraceback (most recent call last):\r\n\r\n```\r\n  File \"C:\\python\\lib\\site-packages\\cx_Freeze\\initscripts\\__startup__.py\", line 14, in run\r\n  File \"C:\\python\\lib\\site-packages\\cx_Freeze\\initscripts\\Console.py\", line 26, in run\r\n  File \"meson.py\", line 22, in <module>\r\n  File \"C:\\python\\lib\\pathlib.py\", line 1109, in resolve\r\n  File \"C:\\python\\lib\\pathlib.py\", line 186, in resolve\r\nFileNotFoundError: [WinError 2] The system cannot find the file specified: 'meson'\r\n```\r\n\r\ni rolled back to version 0.50.1 which worked correctly", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5550/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5539", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5539/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5539/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5539/events", "html_url": "https://github.com/mesonbuild/meson/issues/5539", "id": 459407721, "node_id": "MDU6SXNzdWU0NTk0MDc3MjE=", "number": 5539, "title": "Trying to set c_std to 18 and got an error", "user": {"login": "squidfarts", "id": 42789598, "node_id": "MDQ6VXNlcjQyNzg5NTk4", "avatar_url": "https://avatars.githubusercontent.com/u/42789598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/squidfarts", "html_url": "https://github.com/squidfarts", "followers_url": "https://api.github.com/users/squidfarts/followers", "following_url": "https://api.github.com/users/squidfarts/following{/other_user}", "gists_url": "https://api.github.com/users/squidfarts/gists{/gist_id}", "starred_url": "https://api.github.com/users/squidfarts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/squidfarts/subscriptions", "organizations_url": "https://api.github.com/users/squidfarts/orgs", "repos_url": "https://api.github.com/users/squidfarts/repos", "events_url": "https://api.github.com/users/squidfarts/events{/privacy}", "received_events_url": "https://api.github.com/users/squidfarts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-06-21T23:49:45Z", "updated_at": "2019-07-11T23:23:06Z", "closed_at": "2019-07-11T23:23:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to set \u2018c_std\u2019 to version 18 and it printed an error about that version not being valid.  The document on built-in options states that it is.\r\n\r\nHowever the value \u201cc17\u201d is working.\r\n\r\nWould this be fixed at some point?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5530", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5530/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5530/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5530/events", "html_url": "https://github.com/mesonbuild/meson/issues/5530", "id": 459272001, "node_id": "MDU6SXNzdWU0NTkyNzIwMDE=", "number": 5530, "title": "apple clang does not have visibility \"protected\"", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-21T16:12:24Z", "updated_at": "2019-06-24T21:02:43Z", "closed_at": "2019-06-24T21:02:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This results in the attribute check function returning false on apple clang, but symbol visibility otherwise working.\r\n\r\nso something like:\r\n```meson\r\nargs = []\r\nif cc.has_function_attribute('visibility')\r\n  args += '-DEXPORT=__attribute__((visibility(\"default\")))\r\nendif\r\n\r\nlibrary(\r\n  'foo.c',\r\n  c_args : args,\r\n  gnu_symbol_visibility : 'hidden',\r\n)\r\n```\r\n\r\nwill fail with missing symbols because args is `[]`", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5530/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5481", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5481/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5481/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5481/events", "html_url": "https://github.com/mesonbuild/meson/issues/5481", "id": 455355880, "node_id": "MDU6SXNzdWU0NTUzNTU4ODA=", "number": 5481, "title": "Function check regression", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/36", "html_url": "https://github.com/mesonbuild/meson/milestone/36", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/36/labels", "id": 4101227, "node_id": "MDk6TWlsZXN0b25lNDEwMTIyNw==", "number": 36, "title": "0.51.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 24, "state": "closed", "created_at": "2019-03-02T00:18:20Z", "updated_at": "2020-03-11T11:12:01Z", "due_on": null, "closed_at": "2019-06-17T21:24:26Z"}, "comments": 3, "created_at": "2019-06-12T18:16:36Z", "updated_at": "2019-07-05T20:58:21Z", "closed_at": "2019-07-05T20:58:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is a regression since meson 0.50.0, meson incorrectly detects not available functions as available since 0.50.0.\r\n\r\nIt seems this is caused by meson not passing some of the crossfile cflags that were passed before, it clearly lacks `c_args`:\r\n\r\n### Meson 0.50.0\r\n```\r\nRunning compile:\r\nWorking directory:  /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpw3x_eba0\r\nCommand line:  clang -L/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/lib /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpw3x_eba0/testfile.c -pipe -o /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpw3x_eba0/output.exe -Wl,-ios_version_min,9.0 -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk -O0 -D_POSIX_C_SOURCE=200112L -Wl,-no_weak_imports \r\n\r\nCode:\r\n #include <time.h>\r\n#include <limits.h>\r\n\r\n        #if defined __stub_clock_gettime || defined __stub___clock_gettime\r\n        fail fail fail this function is not going to work\r\n        #endif\r\n        \r\nint main() {\r\n            void *a = (void*) &clock_gettime;\r\n            long b = (long) a;\r\n            return (int) b;\r\n        }\r\nCompiler stdout:\r\n \r\nCompiler stderr:\r\n``` \r\n\r\n### Meson 0.49.2\r\n```\r\nRunning compile:\r\nWorking directory:  /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpsqqg32j7\r\nCommand line:  clang -I/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/include -L/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/lib /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpsqqg32j7/testfile.c -pipe -o /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpsqqg32j7/output.exe -mios-version-min=9.0 -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk -mios-version-min=9.0 -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk -g -O2 -Wl,-ios_version_min,9.0 -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk -O0 -std=c99 -D_POSIX_C_SOURCE=200112L -Wl,-no_weak_imports \r\n\r\nCode:\r\n #include <time.h>\r\n#include <limits.h>\r\n\r\n        #if defined __stub_clock_gettime || defined __stub___clock_gettime\r\n        fail fail fail this function is not going to work\r\n        #endif\r\n        \r\nint main() {\r\n            void *a = (void*) &clock_gettime;\r\n            long b = (long) a;\r\n            return (int) b;\r\n        }\r\nCompiler stdout:\r\n \r\nCompiler stderr:\r\n ld: weak import of symbol '_clock_gettime' not supported because of option: -no_weak_imports for architecture arm64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n```\r\n\r\nMy crossfile:\r\n\r\n```\r\n# Automatically generated by contrib makefile\r\n\r\n[binaries]\r\nc = 'clang'\r\ncpp = 'clang++'\r\nar = 'ar'\r\nstrip = 'strip'\r\npkgconfig = 'pkg-config'\r\nwindres = 'aarch64-apple-darwin18.6.0-windres'\r\n\r\n[properties]\r\nneeds_exe_wrapper = true\r\nc_args = ['-mios-version-min=9.0', '-arch', 'arm64', '-isysroot', '/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk', '-mios-version-min=9.0', '-arch', 'arm64', '-isysroot', '/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk', '-I/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/include', '-g', '-O2', ]\r\nc_link_args = ['-Wl,-ios_version_min,9.0', '-arch', 'arm64', '-isysroot', '/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk', '-L/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/lib', ]\r\ncpp_args = ['-mios-version-min=9.0', '-arch', 'arm64', '-isysroot', '/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk', '-mios-version-min=9.0', '-arch', 'arm64', '-isysroot', '/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk', '-mios-version-min=9.0', '-arch', 'arm64', '-isysroot', '/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk', '-I/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/include', '-g', '-I/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/include', '-g', '-O2', ]\r\ncpp_link_args = ['-Wl,-ios_version_min,9.0', '-arch', 'arm64', '-isysroot', '/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS12.2.sdk', '-L/Users/epirat/Projects/VideoLAN/VLC/build-test/contrib/arm64-apple-iOS_9.0/lib', ]\r\n\r\n[host_machine]\r\nsystem = 'darwin'\r\ncpu_family = 'aarch64'\r\ncpu = 'aarch64'\r\nendian = 'little'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5464", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5464/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5464/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5464/events", "html_url": "https://github.com/mesonbuild/meson/issues/5464", "id": 453662319, "node_id": "MDU6SXNzdWU0NTM2NjIzMTk=", "number": 5464, "title": "windres module doesn't flatten arguments", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-07T19:31:22Z", "updated_at": "2019-07-05T19:20:17Z", "closed_at": "2019-07-05T19:20:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```meson\r\nimport('windows').compile_resources('file.rc', args : [[-DFOO'], '-DBAR])\r\n```\r\nresults in\r\n```\r\nERROR: List item must be one of <class 'str'>\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5449", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5449/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5449/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5449/events", "html_url": "https://github.com/mesonbuild/meson/pull/5449", "id": 452722197, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjg1NTU1MTA3", "number": 5449, "title": "compilers/c: Fix removal of name from Combo options for ICL", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/36", "html_url": "https://github.com/mesonbuild/meson/milestone/36", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/36/labels", "id": 4101227, "node_id": "MDk6TWlsZXN0b25lNDEwMTIyNw==", "number": 36, "title": "0.51.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 24, "state": "closed", "created_at": "2019-03-02T00:18:20Z", "updated_at": "2020-03-11T11:12:01Z", "due_on": null, "closed_at": "2019-06-17T21:24:26Z"}, "comments": 0, "created_at": "2019-06-05T21:19:05Z", "updated_at": "2019-06-05T23:33:38Z", "closed_at": "2019-06-05T22:57:14Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/5449", "html_url": "https://github.com/mesonbuild/meson/pull/5449", "diff_url": "https://github.com/mesonbuild/meson/pull/5449.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/5449.patch", "merged_at": "2019-06-05T22:57:14Z"}, "body": "ICL didn't get updated when the name field was removed for the Option types, and is broken without this fix.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5449/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5419", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5419/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5419/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5419/events", "html_url": "https://github.com/mesonbuild/meson/issues/5419", "id": 447901986, "node_id": "MDU6SXNzdWU0NDc5MDE5ODY=", "number": 5419, "title": "llvm broken on windows with static linking", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/36", "html_url": "https://github.com/mesonbuild/meson/milestone/36", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/36/labels", "id": 4101227, "node_id": "MDk6TWlsZXN0b25lNDEwMTIyNw==", "number": 36, "title": "0.51.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 24, "state": "closed", "created_at": "2019-03-02T00:18:20Z", "updated_at": "2020-03-11T11:12:01Z", "due_on": null, "closed_at": "2019-06-17T21:24:26Z"}, "comments": 0, "created_at": "2019-05-23T22:33:14Z", "updated_at": "2019-05-26T22:10:18Z", "closed_at": "2019-05-26T22:10:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I bisected to dd2c44cdf6f8ed8a969d0666cafb08aaf78a919d, so this is a regression between 0.50 and 0.51, and should be resolved before 0.51 is realeased. I'm actively working on this, but wanted to have a tracker bug.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5338", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5338/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5338/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5338/events", "html_url": "https://github.com/mesonbuild/meson/pull/5338", "id": 438949937, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjc0ODY1NjEz", "number": 5338, "title": "mesonlib: Make typing.Type calls into strings", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-04-30T19:54:31Z", "updated_at": "2019-05-02T20:41:07Z", "closed_at": "2019-05-02T20:38:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/5338", "html_url": "https://github.com/mesonbuild/meson/pull/5338", "diff_url": "https://github.com/mesonbuild/meson/pull/5338.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/5338.patch", "merged_at": "2019-05-02T20:38:37Z"}, "body": "To (hopefully) work around a bug in old versions of python 3.5 (at least\r\nas late as 3.5.2, but before 3.5.5).\r\n\r\nFixes #5326", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5338/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5326", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5326/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5326/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5326/events", "html_url": "https://github.com/mesonbuild/meson/issues/5326", "id": 438267571, "node_id": "MDU6SXNzdWU0MzgyNjc1NzE=", "number": 5326, "title": "Broken meson after 60969d9", "user": {"login": "TheQwertiest", "id": 4470278, "node_id": "MDQ6VXNlcjQ0NzAyNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/4470278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheQwertiest", "html_url": "https://github.com/TheQwertiest", "followers_url": "https://api.github.com/users/TheQwertiest/followers", "following_url": "https://api.github.com/users/TheQwertiest/following{/other_user}", "gists_url": "https://api.github.com/users/TheQwertiest/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheQwertiest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheQwertiest/subscriptions", "organizations_url": "https://api.github.com/users/TheQwertiest/orgs", "repos_url": "https://api.github.com/users/TheQwertiest/repos", "events_url": "https://api.github.com/users/TheQwertiest/events{/privacy}", "received_events_url": "https://api.github.com/users/TheQwertiest/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/36", "html_url": "https://github.com/mesonbuild/meson/milestone/36", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/36/labels", "id": 4101227, "node_id": "MDk6TWlsZXN0b25lNDEwMTIyNw==", "number": 36, "title": "0.51.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 24, "state": "closed", "created_at": "2019-03-02T00:18:20Z", "updated_at": "2020-03-11T11:12:01Z", "due_on": null, "closed_at": "2019-06-17T21:24:26Z"}, "comments": 2, "created_at": "2019-04-29T11:23:52Z", "updated_at": "2019-05-02T20:38:37Z", "closed_at": "2019-05-02T20:38:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`meson` is totally broken after https://github.com/mesonbuild/meson/commit/60969d99d33001317c569a9b37d3b9efae08d387: every meson call triggers the following error\r\nhttps://paste.ofcode.org/yFytL9HLtXJQEKz8WYfVKN\r\n\r\nmeson.sh:\r\n```bash\r\n#!/bin/bash\r\n/usr/bin/python3 /home/theqwertiest/meson_trunk/meson.py \"$@\"  \r\n```\r\n\r\nPython version:\r\n```\r\n> python3 --version\r\n> Python 3.5.2\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5295", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5295/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5295/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5295/events", "html_url": "https://github.com/mesonbuild/meson/issues/5295", "id": 435470026, "node_id": "MDU6SXNzdWU0MzU0NzAwMjY=", "number": 5295, "title": "dependency('appleframeworks') should work on Linux (but fail)", "user": {"login": "chergert", "id": 25676, "node_id": "MDQ6VXNlcjI1Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/25676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chergert", "html_url": "https://github.com/chergert", "followers_url": "https://api.github.com/users/chergert/followers", "following_url": "https://api.github.com/users/chergert/following{/other_user}", "gists_url": "https://api.github.com/users/chergert/gists{/gist_id}", "starred_url": "https://api.github.com/users/chergert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chergert/subscriptions", "organizations_url": "https://api.github.com/users/chergert/orgs", "repos_url": "https://api.github.com/users/chergert/repos", "events_url": "https://api.github.com/users/chergert/events{/privacy}", "received_events_url": "https://api.github.com/users/chergert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-21T03:07:12Z", "updated_at": "2019-05-02T18:38:12Z", "closed_at": "2019-05-02T18:38:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently, I have to put this in a `'darwin'` check, because it fails to run on Linux. I think it's reasonable for it to be outside a darwin check, so long as `required:false`.\r\n\r\n```\r\ncocoa_dep = dependency('appleframeworks', modules: 'Cocoa', required: false)\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5295/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5286", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5286/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5286/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5286/events", "html_url": "https://github.com/mesonbuild/meson/issues/5286", "id": 435263158, "node_id": "MDU6SXNzdWU0MzUyNjMxNTg=", "number": 5286, "title": "meson introspect doesn't handle expressions as possitional args to build targets correctly", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/38", "html_url": "https://github.com/mesonbuild/meson/milestone/38", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/38/labels", "id": 4237899, "node_id": "MDk6TWlsZXN0b25lNDIzNzg5OQ==", "number": 38, "title": "0.50.2", "description": "Milestone to gather possible fixes for a .2 release", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-04-17T13:45:59Z", "updated_at": "2019-11-25T10:54:08Z", "due_on": null, "closed_at": "2019-07-09T09:58:52Z"}, "comments": 4, "created_at": "2019-04-19T18:22:56Z", "updated_at": "2019-04-24T19:50:23Z", "closed_at": "2019-04-24T19:50:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "currently Mesa cannot be introspected without a build directory, we end up trying to pop an empty list in build_targets.\r\n\r\nThat seemed easy enough to fix, but that just turns up other problems. It turns out that we don't correctly handle build targets that use expressions for their name, in mesa that looks like this:\r\n\r\n```meson\r\nshared_library('mylib' + suffix, ['sources'])\r\n```\r\nHowever, I've tested with string replacement and that has the same problem:\r\n```meson\r\nshared_library('mylib@0@'.format(suffix), 'one source')\r\n```\r\n\r\nmodifying the 'unit/55 introspection' test with the following content will replicate:\r\n```meson\r\n# Using a an expresion for the name and a list for sources is intentional\r\nt1 = executable('test' + '1', ['t1.cpp'], link_with: [sharedlib], install: true, build_by_default: get_option('test_opt2'))\r\nt2 = executable('test@0@'.format('2'), 't2.cpp', link_with: [staticlib])\r\nt3 = executable('test3', 't3.cpp', link_with: [sharedlib, staticlib], dependencies: [dep1])\r\n```\r\n\r\nI've tried to resolve this, but I'm not sure how the code is supposed to work.\r\n\r\nCan be replicated with master and 0.50.1", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5286/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5285", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5285/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5285/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5285/events", "html_url": "https://github.com/mesonbuild/meson/issues/5285", "id": 435255553, "node_id": "MDU6SXNzdWU0MzUyNTU1NTM=", "number": 5285, "title": "meson setup with Boost deps fails after upgrade to 0.50.1", "user": {"login": "mtrenkmann", "id": 1024387, "node_id": "MDQ6VXNlcjEwMjQzODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1024387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtrenkmann", "html_url": "https://github.com/mtrenkmann", "followers_url": "https://api.github.com/users/mtrenkmann/followers", "following_url": "https://api.github.com/users/mtrenkmann/following{/other_user}", "gists_url": "https://api.github.com/users/mtrenkmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtrenkmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtrenkmann/subscriptions", "organizations_url": "https://api.github.com/users/mtrenkmann/orgs", "repos_url": "https://api.github.com/users/mtrenkmann/repos", "events_url": "https://api.github.com/users/mtrenkmann/events{/privacy}", "received_events_url": "https://api.github.com/users/mtrenkmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/38", "html_url": "https://github.com/mesonbuild/meson/milestone/38", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/38/labels", "id": 4237899, "node_id": "MDk6TWlsZXN0b25lNDIzNzg5OQ==", "number": 38, "title": "0.50.2", "description": "Milestone to gather possible fixes for a .2 release", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-04-17T13:45:59Z", "updated_at": "2019-11-25T10:54:08Z", "due_on": null, "closed_at": "2019-07-09T09:58:52Z"}, "comments": 8, "created_at": "2019-04-19T17:53:59Z", "updated_at": "2019-06-06T18:19:10Z", "closed_at": "2019-06-06T18:19:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "`meson build` cannot detect Boost dependencies anymore after updating from `0.49.2` to `0.50.1`.\r\n\r\nThis `meson.build` file with a Boost dependency worked with `0.49.2` **but not with** `0.50.1`:\r\n\r\n```meson\r\nproject('tutorial', 'cpp')\r\nboost = dependency('boost', modules : ['program_options'])\r\nexecutable('demo', 'main.cc', dependencies : [ boost ])\r\n```\r\n\r\nConsole output:\r\n\r\n```sh\r\n~/projects/test$ meson build\r\nThe Meson build system\r\nVersion: 0.50.1\r\nSource dir: /home/martin/projects/test\r\nBuild dir: /home/martin/projects/test/build\r\nBuild type: native build\r\nProject name: tutorial\r\nProject version: undefined\r\nNative C++ compiler: c++ (gcc 7.3.0 \"c++ (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0\")\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/mesonmain.py\", line 122, in run\r\n    return options.run_func(options)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/msetup.py\", line 246, in run\r\n    app.generate()\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/msetup.py\", line 163, in generate\r\n    self._generate(env)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/msetup.py\", line 193, in _generate\r\n    intr.run()\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreter.py\", line 3817, in run\r\n    super().run()\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 407, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 431, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 425, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 438, in evaluate_statement\r\n    return self.assignment(cur)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 1019, in assignment\r\n    value = self.evaluate_statement(node.value)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 436, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 762, in function_call\r\n    return func(node, posargs, kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 285, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  [Previous line repeated 1 more time]\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 155, in wrapped\r\n    ret = f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreterbase.py\", line 174, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreter.py\", line 2934, in func_dependency\r\n    d = self.dependency_impl(name, display_name, kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/interpreter.py\", line 2981, in dependency_impl\r\n    dep = dependencies.find_external_dependency(name, self.environment, kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/dependencies/base.py\", line 2350, in find_external_dependency\r\n    d = c()\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/dependencies/boost.py\", line 145, in __init__\r\n    self.detect_lib_modules()\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/dependencies/boost.py\", line 271, in detect_lib_modules\r\n    self.detect_lib_modules_nix()\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/dependencies/boost.py\", line 446, in detect_lib_modules_nix\r\n    libdirs = mesonlib.get_library_dirs()\r\n  File \"/usr/local/lib/python3.6/dist-packages/mesonbuild/mesonlib.py\", line 692, in get_library_dirs\r\n    unixdirs += [str(x) for x in (Path('/usr/lib/') / plat).iterdir() if x.is_dir()]\r\nUnboundLocalError: local variable 'plat' referenced before assignment\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5285/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5285/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5281", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5281/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5281/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5281/events", "html_url": "https://github.com/mesonbuild/meson/issues/5281", "id": 434612593, "node_id": "MDU6SXNzdWU0MzQ2MTI1OTM=", "number": 5281, "title": "Shitty error message when building a project that uses a new user option type with an old version of meson", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}, {"id": 850828231, "node_id": "MDU6TGFiZWw4NTA4MjgyMzE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/options", "name": "options", "color": "fef2c0", "default": false, "description": "Meson configuration options"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-18T06:37:51Z", "updated_at": "2019-04-18T08:07:36Z", "closed_at": "2019-04-18T08:07:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n$ cat meson.build\r\nproject('test', 'c', meson_version : '>= 0.58.0')\r\n$ cat meson_options.txt\r\noption('some-option', type: 'foo', value: '')\r\n```\r\n\r\n```\r\n$ meson _build\r\nThe Meson build system\r\nVersion: 0.50.1\r\nSource dir: C:\\projects\\repos\\test.git\r\nBuild dir: C:\\projects\\repos\\test.git\\_build\r\nBuild type: native build\r\n\r\nmeson_options.txt:1:0: ERROR: Unknown type foo.\r\n```\r\n\r\nThis happens because we're parsing `meson_options.txt` ~~before the first line of `meson.build`~~ before checking the required meson version to figure out if we can even parse it, which leads to an unhelpful error message.\r\n\r\nI've seen a lot of people run into this, most recently at https://gitlab.gnome.org/GNOME/glib/issues/1752.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5281/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5141", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5141/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5141/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5141/events", "html_url": "https://github.com/mesonbuild/meson/issues/5141", "id": 424981290, "node_id": "MDU6SXNzdWU0MjQ5ODEyOTA=", "number": 5141, "title": "if-release probably should catch buildtype=plain", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-25T15:55:39Z", "updated_at": "2019-03-26T20:17:28Z", "closed_at": "2019-03-26T20:17:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5141/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5140", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5140/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5140/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5140/events", "html_url": "https://github.com/mesonbuild/meson/issues/5140", "id": 424896858, "node_id": "MDU6SXNzdWU0MjQ4OTY4NTg=", "number": 5140, "title": "-std=c++17 not passed to MinGW", "user": {"login": "jhasse", "id": 80071, "node_id": "MDQ6VXNlcjgwMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/80071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhasse", "html_url": "https://github.com/jhasse", "followers_url": "https://api.github.com/users/jhasse/followers", "following_url": "https://api.github.com/users/jhasse/following{/other_user}", "gists_url": "https://api.github.com/users/jhasse/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhasse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhasse/subscriptions", "organizations_url": "https://api.github.com/users/jhasse/orgs", "repos_url": "https://api.github.com/users/jhasse/repos", "events_url": "https://api.github.com/users/jhasse/events{/privacy}", "received_events_url": "https://api.github.com/users/jhasse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-25T13:18:01Z", "updated_at": "2019-04-02T15:47:56Z", "closed_at": "2019-04-02T15:47:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "meson.build:\r\n```meson\r\nproject('test', 'cpp', default_options : ['cpp_std=c++17'])\r\nexecutable('foo', 'main.cpp')\r\n```\r\n\r\nmain.cpp:\r\n```cpp\r\nint main() {\r\n  if (int a = 123; a != 0) {\r\n    return 0;\r\n  }\r\n}\r\n```\r\n\r\nmingw.ini:\r\n```ini\r\n[binaries]\r\nc = 'i686-w64-mingw32-gcc'\r\ncpp = 'i686-w64-mingw32-g++'\r\nar = 'i686-w64-mingw32-ar'\r\nstrip = 'i686-w64-mingw32-strip'\r\nexe_wrapper = 'wine'\r\n\r\n[host_machine]\r\nsystem = 'mingw'\r\ncpu_family = 'x86_64'\r\ncpu = 'amd64'\r\nendian = 'little'\r\n\r\n[target_machine]\r\nsystem = 'mingw'\r\ncpu_family = 'x86'\r\ncpu = 'i686'\r\nendian = 'little'\r\n```\r\n\r\nBut `-std=c++17` is never passed to `i686-w64-mingw32-g++` resulting in a warning:\r\n```\r\n$ meson build-mingw --cross-file mingw.ini\r\nThe Meson build system\r\nVersion: 0.50.0\r\nSource dir: /home/jhasse/git/test\r\nBuild dir: /home/jhasse/git/test/build-mingw\r\nBuild type: cross build\r\nProject name: test\r\nProject version: undefined\r\n000b:fixme:winediag:start_process Wine Staging 4.4 is a testing version containing experimental patches.\r\n000b:fixme:winediag:start_process Please mention your exact version when filing bug reports on winehq.org.\r\nNative C++ compiler: c++ (gcc 8.3.1 \"c++ (GCC) 8.3.1 20190223 (Red Hat 8.3.1-2)\")\r\nCross C++ compiler: i686-w64-mingw32-g++ (gcc 8.3.0)\r\nHost machine cpu family: x86_64\r\nHost machine cpu: amd64\r\nTarget machine cpu family: x86\r\nTarget machine cpu: i686\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nBuild targets in project: 1\r\nFound ninja-1.8.2.git at /usr/local/bin/ninja\r\n~/git/test $ ninja -C build-mingw -v\r\nninja: Entering directory `build-mingw'\r\n[1/2] i686-w64-mingw32-g++ -Ifoo@exe -I. -I.. -fdiagnostics-color=always -pipe -Wall -Winvalid-pch -Wnon-virtual-dtor -g -MD -MQ 'foo@exe/main.cpp.o' -MF 'foo@exe/main.cpp.o.d' -o 'foo@exe/main.cpp.o' -c ../main.cpp\r\n../main.cpp: In function 'int main()':\r\n../main.cpp:2:7: warning: init-statement in selection statements only available with -std=c++17 or -std=gnu++17\r\n   if (int a = 123; a != 0) {\r\n       ^~~\r\n[2/2] i686-w64-mingw32-g++  -o foo 'foo@exe/main.cpp.o' -mconsole -Wl,--start-group -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 -Wl,--end-group\r\n```\r\n\r\nI would guess that Meson thinks that `i686-w64-mingw32-g++` version 8.3.0 behaves like the normal `g++` in that version and defaults to C++17 by default. Apparently it doesn't though.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5140/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5115", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5115/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5115/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5115/events", "html_url": "https://github.com/mesonbuild/meson/issues/5115", "id": 422471202, "node_id": "MDU6SXNzdWU0MjI0NzEyMDI=", "number": 5115, "title": "openmp arguments added when openmp is not preasnat", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-18T22:58:19Z", "updated_at": "2019-03-20T23:21:37Z", "closed_at": "2019-03-20T23:21:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It turns out that we assume that a compiler will always have openmp support if it can have openmp support, which is a bad assumption. If GCC is compiled without openmp support we'll still introduce `-fopenmp` into the command line arguments for the compiler, which it doesn't recognize and will reject.\r\n\r\nI have some WIP patches for this already.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5115/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5079", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5079/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5079/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5079/events", "html_url": "https://github.com/mesonbuild/meson/issues/5079", "id": 420750949, "node_id": "MDU6SXNzdWU0MjA3NTA5NDk=", "number": 5079, "title": "i18n.merge_file() + build_by_default = warning", "user": {"login": "GeorgesStavracas", "id": 3518204, "node_id": "MDQ6VXNlcjM1MTgyMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3518204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GeorgesStavracas", "html_url": "https://github.com/GeorgesStavracas", "followers_url": "https://api.github.com/users/GeorgesStavracas/followers", "following_url": "https://api.github.com/users/GeorgesStavracas/following{/other_user}", "gists_url": "https://api.github.com/users/GeorgesStavracas/gists{/gist_id}", "starred_url": "https://api.github.com/users/GeorgesStavracas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GeorgesStavracas/subscriptions", "organizations_url": "https://api.github.com/users/GeorgesStavracas/orgs", "repos_url": "https://api.github.com/users/GeorgesStavracas/repos", "events_url": "https://api.github.com/users/GeorgesStavracas/events{/privacy}", "received_events_url": "https://api.github.com/users/GeorgesStavracas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-13T22:37:59Z", "updated_at": "2019-03-14T05:14:47Z", "closed_at": "2019-03-14T05:14:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Meson 0.49.2 throws the following warnings when building GNOME Settings:\r\n\r\n```\r\ntests/interactive-panels/applications/meson.build:14: WARNING: Passed invalid keyword argument \"build_by_default\".\r\nWARNING: This will become a hard error in the future.\r\n```\r\nHere's the snippet that triggers it:\r\n\r\n```\r\ndesktop_files = [\r\n  'dynamic-panel',\r\n  'header-widget',\r\n  'sidebar-widget',\r\n  'static-init',\r\n  'toplevel-sidebar-widget',\r\n]\r\n\r\nforeach desktop_file : desktop_files\r\n  i18n.merge_file(\r\n              desktop,\r\n                type : 'desktop',\r\n               input : 'gtp-@0@.desktop.in'.format(desktop_file),\r\n              output : 'gnome-@0@-panel.desktop'.format(desktop_file),\r\n              po_dir : po_dir,\r\n    build_by_default : true,\r\n             install : false,\r\n  )\r\nendforeach\r\n```\r\n\r\nDiscussing on IRC, this is a buggy behavior, since i18n actually uses the `build_by_default` value, and yet warns about it.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5059", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5059/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5059/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5059/events", "html_url": "https://github.com/mesonbuild/meson/issues/5059", "id": 419671489, "node_id": "MDU6SXNzdWU0MTk2NzE0ODk=", "number": 5059, "title": "llvm dependency fails to locate llvm-config on fedora 30", "user": {"login": "chergert", "id": 25676, "node_id": "MDQ6VXNlcjI1Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/25676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chergert", "html_url": "https://github.com/chergert", "followers_url": "https://api.github.com/users/chergert/followers", "following_url": "https://api.github.com/users/chergert/following{/other_user}", "gists_url": "https://api.github.com/users/chergert/gists{/gist_id}", "starred_url": "https://api.github.com/users/chergert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chergert/subscriptions", "organizations_url": "https://api.github.com/users/chergert/orgs", "repos_url": "https://api.github.com/users/chergert/repos", "events_url": "https://api.github.com/users/chergert/events{/privacy}", "received_events_url": "https://api.github.com/users/chergert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/37", "html_url": "https://github.com/mesonbuild/meson/milestone/37", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/37/labels", "id": 4127179, "node_id": "MDk6TWlsZXN0b25lNDEyNzE3OQ==", "number": 37, "title": "0.50.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2019-03-11T03:50:51Z", "updated_at": "2019-04-17T13:45:42Z", "due_on": null, "closed_at": "2019-04-17T13:45:42Z"}, "comments": 3, "created_at": "2019-03-11T20:36:10Z", "updated_at": "2019-03-14T21:35:44Z", "closed_at": "2019-03-14T21:35:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nllvm-config found: NO need '>= 3.5'\r\nDependency LLVM found: NO (tried config-tool)\r\n\r\nsrc/plugins/clang/meson.build:47:0: ERROR: Dependency \"llvm\" not found, tried config-tool\r\n```\r\n\r\nApparently, the tool has been named something rather odd now, 'llvm-config-64', which seems to differ from other naming schemes in `dependencies.py`.\r\n\r\n```\r\nrpm -q --whatprovides /usr/bin/llvm-config-64 \r\nllvm-devel-8.0.0-0.4.rc3.fc30.x86_64\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5059/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5056", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5056/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5056/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5056/events", "html_url": "https://github.com/mesonbuild/meson/issues/5056", "id": 419538346, "node_id": "MDU6SXNzdWU0MTk1MzgzNDY=", "number": 5056, "title": "0.50.0: test target: AttributeError: Can't get attribute 'ConfigData' on <module 'mesonbuild.coredata' from '/usr/lib/python3.7/site-packages/mesonbuild/coredata.py'>", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/37", "html_url": "https://github.com/mesonbuild/meson/milestone/37", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/37/labels", "id": 4127179, "node_id": "MDk6TWlsZXN0b25lNDEyNzE3OQ==", "number": 37, "title": "0.50.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2019-03-11T03:50:51Z", "updated_at": "2019-04-17T13:45:42Z", "due_on": null, "closed_at": "2019-04-17T13:45:42Z"}, "comments": 3, "created_at": "2019-03-11T15:39:39Z", "updated_at": "2019-03-12T03:54:42Z", "closed_at": "2019-03-12T03:54:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "<pre>+ /usr/bin/ninja test -v -j4 -C x86_64-redhat-linux-gnu\r\nninja: Entering directory `x86_64-redhat-linux-gnu&apos;\r\n[0/1] /usr/bin/meson test --no-rebuild --print-errorlogs\r\nTraceback (most recent call last):\r\n  File &quot;/usr/lib/python3.7/site-packages/mesonbuild/mesonmain.py&quot;, line 122, in run\r\n    return options.run_func(options)\r\n  File &quot;/usr/lib/python3.7/site-packages/mesonbuild/mtest.py&quot;, line 1002, in run\r\n    return th.doit()\r\n  File &quot;/usr/lib/python3.7/site-packages/mesonbuild/mtest.py&quot;, line 753, in doit\r\n    self.run_tests(tests)\r\n  File &quot;/usr/lib/python3.7/site-packages/mesonbuild/mtest.py&quot;, line 888, in run_tests\r\n    self.build_data = build.load(os.getcwd())\r\n  File &quot;/usr/lib/python3.7/site-packages/mesonbuild/build.py&quot;, line 2307, in load\r\n    obj = pickle.load(f)\r\nAttributeError: Can&apos;t get attribute &apos;ConfigData&apos; on &lt;module &apos;mesonbuild.coredata&apos; from &apos;/usr/lib/python3.7/site-packages/mesonbuild/coredata.py&apos;&gt;\r\nFAILED: meson-test \r\n/usr/bin/meson test --no-rebuild --print-errorlogs\r\nninja: build stopped: subcommand failed.\r\nerror: Bad exit status from /var/tmp/rpm-tmp.GduYpo (%check)\r\n</pre>", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5056/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5046", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5046/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5046/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5046/events", "html_url": "https://github.com/mesonbuild/meson/issues/5046", "id": 419228038, "node_id": "MDU6SXNzdWU0MTkyMjgwMzg=", "number": 5046, "title": "0.50.0 regression: gnome test does not install gresource file", "user": {"login": "heftig", "id": 204006, "node_id": "MDQ6VXNlcjIwNDAwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/204006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heftig", "html_url": "https://github.com/heftig", "followers_url": "https://api.github.com/users/heftig/followers", "following_url": "https://api.github.com/users/heftig/following{/other_user}", "gists_url": "https://api.github.com/users/heftig/gists{/gist_id}", "starred_url": "https://api.github.com/users/heftig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heftig/subscriptions", "organizations_url": "https://api.github.com/users/heftig/orgs", "repos_url": "https://api.github.com/users/heftig/repos", "events_url": "https://api.github.com/users/heftig/events{/privacy}", "received_events_url": "https://api.github.com/users/heftig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/37", "html_url": "https://github.com/mesonbuild/meson/milestone/37", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/37/labels", "id": 4127179, "node_id": "MDk6TWlsZXN0b25lNDEyNzE3OQ==", "number": 37, "title": "0.50.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2019-03-11T03:50:51Z", "updated_at": "2019-04-17T13:45:42Z", "due_on": null, "closed_at": "2019-04-17T13:45:42Z"}, "comments": 3, "created_at": "2019-03-10T20:24:13Z", "updated_at": "2019-03-17T17:26:31Z", "closed_at": "2019-03-17T17:26:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As of 0.50.0, the `test cases/frameworks/7 gnome` project no longer installs the `simple-resources.gresource` file, causing the test to fail.\r\n\r\nBuilding the same project (from the 0.50.0 tarball) with meson 0.49.2 installs the file, as expected.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5046/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5027", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5027/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5027/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5027/events", "html_url": "https://github.com/mesonbuild/meson/issues/5027", "id": 417778096, "node_id": "MDU6SXNzdWU0MTc3NzgwOTY=", "number": 5027, "title": "timestamp of copied configuration_file is not reproducible", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-06T12:25:37Z", "updated_at": "2021-11-23T17:36:03Z", "closed_at": "2021-11-22T19:57:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm building glib2, and it uses `configuration_file(..., copy: true)` to copy some python .py files to installation root. The files  end up having different modification timestamps. This file is then bytecompiled, the timestamp is embedded in the header, and the result becomes unreproducible.\r\n\r\nMeson tries to preserve timestamps when installing files, so it'd be great if it could also preserve timestamps when doing internal copies.\r\n\r\nSimplified test case:\r\n```python\r\n# meson.build\r\nproject('copy-timestamp-test')\r\n\r\nconfigure_file(input : 'bar',\r\n               output : 'bar',\r\n               install : true,\r\n               install_dir : '/foo/',\r\n               copy : true)\r\n```\r\n```console\r\n$ touch bar\r\n$ meson build\r\n$ DESTDIR=/var/tmp/inst1 ninja -C build install\r\n$ DESTDIR=/var/tmp/inst2 ninja -C build install\r\n$ stat bar build/bar /var/tmp/inst?/foo/bar\r\n  File: bar\r\n  Size: 4         \tBlocks: 8          IO Block: 4096   regular file\r\nDevice: fd03h/64771d\tInode: 699931      Links: 1\r\nAccess: (0664/-rw-rw-r--)  Uid: ( 1000/ zbyszek)   Gid: ( 1000/ zbyszek)\r\nContext: unconfined_u:object_r:user_home_t:s0\r\nAccess: 2019-03-06 13:02:03.244669514 +0100\r\nModify: 2019-03-06 13:02:01.131648469 +0100   <----------------------\r\nChange: 2019-03-06 13:02:01.131648469 +0100\r\n Birth: -\r\n  File: build/bar\r\n  Size: 4         \tBlocks: 8          IO Block: 4096   regular file\r\nDevice: fd03h/64771d\tInode: 699932      Links: 1\r\nAccess: (0664/-rw-rw-r--)  Uid: ( 1000/ zbyszek)   Gid: ( 1000/ zbyszek)\r\nContext: unconfined_u:object_r:user_home_t:s0\r\nAccess: 2019-03-06 13:02:18.099817487 +0100\r\nModify: 2019-03-06 13:02:03.244669514 +0100   <----------------------\r\nChange: 2019-03-06 13:02:03.244669514 +0100\r\n Birth: -\r\n  File: /var/tmp/inst1/foo/bar\r\n  Size: 4         \tBlocks: 8          IO Block: 4096   regular file\r\nDevice: fd01h/64769d\tInode: 533115      Links: 1\r\nAccess: (0644/-rw-r--r--)  Uid: ( 1000/ zbyszek)   Gid: ( 1000/ zbyszek)\r\nContext: unconfined_u:object_r:user_home_t:s0\r\nAccess: 2019-03-06 13:02:18.099817487 +0100\r\nModify: 2019-03-06 13:02:03.244669514 +0100   <----------------------\r\nChange: 2019-03-06 13:02:18.099817487 +0100\r\n Birth: -\r\n  File: /var/tmp/inst2/foo/bar\r\n  Size: 4         \tBlocks: 8          IO Block: 4096   regular file\r\nDevice: fd01h/64769d\tInode: 533116      Links: 1\r\nAccess: (0644/-rw-r--r--)  Uid: ( 1000/ zbyszek)   Gid: ( 1000/ zbyszek)\r\nContext: unconfined_u:object_r:user_home_t:s0\r\nAccess: 2019-03-06 13:02:18.099817487 +0100\r\nModify: 2019-03-06 13:02:03.244669514 +0100   <----------------------\r\nChange: 2019-03-06 13:02:21.400850373 +0100\r\n Birth: -\r\n```\r\nThe timestamp is *preserved* in the installation step, but *changed* in the earlier copy step.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5027/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5003", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/5003/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/5003/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/5003/events", "html_url": "https://github.com/mesonbuild/meson/issues/5003", "id": 415927642, "node_id": "MDU6SXNzdWU0MTU5Mjc2NDI=", "number": 5003, "title": "Ternary operator inside method call crashes the parser", "user": {"login": "Akaricchi", "id": 609016, "node_id": "MDQ6VXNlcjYwOTAxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/609016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akaricchi", "html_url": "https://github.com/Akaricchi", "followers_url": "https://api.github.com/users/Akaricchi/followers", "following_url": "https://api.github.com/users/Akaricchi/following{/other_user}", "gists_url": "https://api.github.com/users/Akaricchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akaricchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akaricchi/subscriptions", "organizations_url": "https://api.github.com/users/Akaricchi/orgs", "repos_url": "https://api.github.com/users/Akaricchi/repos", "events_url": "https://api.github.com/users/Akaricchi/events{/privacy}", "received_events_url": "https://api.github.com/users/Akaricchi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-01T03:40:31Z", "updated_at": "2019-03-02T10:57:39Z", "closed_at": "2019-03-02T10:57:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```meson\r\nproject('mesonfail')\r\nfoo = 'FOO=@0@'.format(get_option('foo') == 'bar' ? 0 : 1)\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/data/git/meson/mesonbuild/mesonmain.py\", line 115, in run\r\n    return options.run_func(options)\r\n  File \"/data/git/meson/mesonbuild/msetup.py\", line 245, in run\r\n    app.generate()\r\n  File \"/data/git/meson/mesonbuild/msetup.py\", line 163, in generate\r\n    self._generate(env)\r\n  File \"/data/git/meson/mesonbuild/msetup.py\", line 180, in _generate\r\n    intr = interpreter.Interpreter(b)\r\n  File \"/data/git/meson/mesonbuild/interpreter.py\", line 2018, in __init__\r\n    self.load_root_meson_file()\r\n  File \"/data/git/meson/mesonbuild/interpreterbase.py\", line 379, in load_root_meson_file\r\n    self.ast = mparser.Parser(code, self.subdir).parse()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 514, in parse\r\n    block = self.codeblock()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 792, in codeblock\r\n    curline = self.line()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 786, in line\r\n    return self.statement()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 519, in statement\r\n    return self.e1()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 529, in e1\r\n    value = self.e1()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 522, in e1\r\n    left = self.e2()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 547, in e2\r\n    left = self.e3()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 556, in e3\r\n    left = self.e4()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 565, in e4\r\n    left = self.e5()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 574, in e5\r\n    return self.e5add()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 577, in e5add\r\n    left = self.e5sub()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 583, in e5sub\r\n    left = self.e5mod()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 589, in e5mod\r\n    left = self.e5mul()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 595, in e5mul\r\n    left = self.e5div()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 601, in e5div\r\n    left = self.e6()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 611, in e6\r\n    return self.e7()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 628, in e7\r\n    left = self.method_call(left)\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 720, in method_call\r\n    args = self.args()\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 692, in args\r\n    a = ArgumentNode(s)\r\n  File \"/data/git/meson/mesonbuild/mparser.py\", line 419, in __init__\r\n    self.subdir = token.subdir\r\nAttributeError: 'TernaryNode' object has no attribute 'subdir'\r\nThe Meson build system\r\nVersion: 0.49.999\r\nSource dir: /tmp/mesonfail\r\nBuild dir: /tmp/mesonfail/build\r\nBuild type: native build\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/5003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/5003/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4953", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4953/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4953/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4953/events", "html_url": "https://github.com/mesonbuild/meson/issues/4953", "id": 412182979, "node_id": "MDU6SXNzdWU0MTIxODI5Nzk=", "number": 4953, "title": "Dependency found but it isn't a library", "user": {"login": "ljmf00", "id": 5050669, "node_id": "MDQ6VXNlcjUwNTA2Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/5050669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ljmf00", "html_url": "https://github.com/ljmf00", "followers_url": "https://api.github.com/users/ljmf00/followers", "following_url": "https://api.github.com/users/ljmf00/following{/other_user}", "gists_url": "https://api.github.com/users/ljmf00/gists{/gist_id}", "starred_url": "https://api.github.com/users/ljmf00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ljmf00/subscriptions", "organizations_url": "https://api.github.com/users/ljmf00/orgs", "repos_url": "https://api.github.com/users/ljmf00/repos", "events_url": "https://api.github.com/users/ljmf00/events{/privacy}", "received_events_url": "https://api.github.com/users/ljmf00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-20T00:06:41Z", "updated_at": "2019-05-22T20:55:36Z", "closed_at": "2019-05-22T20:55:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For libraries declared with `staticLibrary`, `sourceLibrary` or `dynamicLibrary` in a `dub` package, meson will return this:\r\n```\r\n...\r\nDependency gtkd-3 found: YES 3.8.5\r\nFound DUB: /usr/bin/dub (DUB version 1.13.0, built on Jan 05 2019)\r\nERROR: riverd-lua found but it isn't a library\r\nDependency riverd-lua found: NO\r\n\r\nmeson.build:19:0: ERROR: Dependency \"riverd-lua\" not found\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4953/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4822", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4822/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4822/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4822/events", "html_url": "https://github.com/mesonbuild/meson/issues/4822", "id": 402765167, "node_id": "MDU6SXNzdWU0MDI3NjUxNjc=", "number": 4822, "title": "Cross override for \"ar\" is ignored", "user": {"login": "Akaricchi", "id": 609016, "node_id": "MDQ6VXNlcjYwOTAxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/609016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akaricchi", "html_url": "https://github.com/Akaricchi", "followers_url": "https://api.github.com/users/Akaricchi/followers", "following_url": "https://api.github.com/users/Akaricchi/following{/other_user}", "gists_url": "https://api.github.com/users/Akaricchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akaricchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akaricchi/subscriptions", "organizations_url": "https://api.github.com/users/Akaricchi/orgs", "repos_url": "https://api.github.com/users/Akaricchi/repos", "events_url": "https://api.github.com/users/Akaricchi/events{/privacy}", "received_events_url": "https://api.github.com/users/Akaricchi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/34", "html_url": "https://github.com/mesonbuild/meson/milestone/34", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/34/labels", "id": 3993315, "node_id": "MDk6TWlsZXN0b25lMzk5MzMxNQ==", "number": 34, "title": "0.50.0", "description": null, "creator": {"login": "xclaesse", "id": 1379109, "node_id": "MDQ6VXNlcjEzNzkxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1379109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xclaesse", "html_url": "https://github.com/xclaesse", "followers_url": "https://api.github.com/users/xclaesse/followers", "following_url": "https://api.github.com/users/xclaesse/following{/other_user}", "gists_url": "https://api.github.com/users/xclaesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/xclaesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xclaesse/subscriptions", "organizations_url": "https://api.github.com/users/xclaesse/orgs", "repos_url": "https://api.github.com/users/xclaesse/repos", "events_url": "https://api.github.com/users/xclaesse/events{/privacy}", "received_events_url": "https://api.github.com/users/xclaesse/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2019-01-22T16:56:28Z", "updated_at": "2019-03-11T03:51:06Z", "due_on": null, "closed_at": "2019-03-11T03:51:06Z"}, "comments": 2, "created_at": "2019-01-24T15:37:44Z", "updated_at": "2019-02-14T19:18:57Z", "closed_at": "2019-02-14T19:18:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a regression. Bisected, first bad commit is b53c982b58372901bfd9ffbbfe36831c85b465b4 (#4755). Pinging @Ericson2314 \r\n\r\nCross file:\r\n```ini\r\n[binaries]\r\nc = '/home/akari/git/taisei-osx-build/osxcross/target/bin/x86_64-apple-darwin15-clang'\r\nar = '/home/akari/git/taisei-osx-build/osxcross/target/bin/x86_64-apple-darwin15-ar'\r\n...........\r\n```\r\n\r\nRelevant build output:\r\n```\r\n[69/269] rm -f subprojects/cglm/libcglm.a && gcc-ar csrD subprojects/cglm/libcglm.a 'subprojects/cglm/9f68372@@cglm@sta/src_affine.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_box.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_cam.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_ease.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_euler.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_frustum.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_io.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_mat3.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_mat4.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_plane.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_project.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_quat.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_sphere.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_vec3.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_vec4.c.o'\r\n................\r\nld: archive has no table of contents file 'subprojects/cglm/libcglm.a' for architecture x86_64\r\nclang-7.0.1: error: linker command failed with exit code 1 (use -v to see invocation)\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nBuild output prior to bad commit:\r\n```\r\n[70/269] rm -f subprojects/cglm/libcglm.a && /home/akari/git/taisei-osx-build/osxcross/target/bin/x86_64-apple-darwin15-ar csr subprojects/cglm/libcglm.a 'subprojects/cglm/9f68372@@cglm@sta/src_affine.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_box.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_cam.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_ease.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_euler.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_frustum.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_io.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_mat3.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_mat4.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_plane.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_project.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_quat.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_sphere.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_vec3.c.o' 'subprojects/cglm/9f68372@@cglm@sta/src_vec4.c.o'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4728", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4728/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4728/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4728/events", "html_url": "https://github.com/mesonbuild/meson/issues/4728", "id": 396252310, "node_id": "MDU6SXNzdWUzOTYyNTIzMTA=", "number": 4728, "title": "AttributeError: 'bool' object has no attribute 'get_path' on git master", "user": {"login": "z3ntu", "id": 3768500, "node_id": "MDQ6VXNlcjM3Njg1MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3768500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/z3ntu", "html_url": "https://github.com/z3ntu", "followers_url": "https://api.github.com/users/z3ntu/followers", "following_url": "https://api.github.com/users/z3ntu/following{/other_user}", "gists_url": "https://api.github.com/users/z3ntu/gists{/gist_id}", "starred_url": "https://api.github.com/users/z3ntu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/z3ntu/subscriptions", "organizations_url": "https://api.github.com/users/z3ntu/orgs", "repos_url": "https://api.github.com/users/z3ntu/repos", "events_url": "https://api.github.com/users/z3ntu/events{/privacy}", "received_events_url": "https://api.github.com/users/z3ntu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/34", "html_url": "https://github.com/mesonbuild/meson/milestone/34", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/34/labels", "id": 3993315, "node_id": "MDk6TWlsZXN0b25lMzk5MzMxNQ==", "number": 34, "title": "0.50.0", "description": null, "creator": {"login": "xclaesse", "id": 1379109, "node_id": "MDQ6VXNlcjEzNzkxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1379109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xclaesse", "html_url": "https://github.com/xclaesse", "followers_url": "https://api.github.com/users/xclaesse/followers", "following_url": "https://api.github.com/users/xclaesse/following{/other_user}", "gists_url": "https://api.github.com/users/xclaesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/xclaesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xclaesse/subscriptions", "organizations_url": "https://api.github.com/users/xclaesse/orgs", "repos_url": "https://api.github.com/users/xclaesse/repos", "events_url": "https://api.github.com/users/xclaesse/events{/privacy}", "received_events_url": "https://api.github.com/users/xclaesse/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2019-01-22T16:56:28Z", "updated_at": "2019-03-11T03:51:06Z", "due_on": null, "closed_at": "2019-03-11T03:51:06Z"}, "comments": 8, "created_at": "2019-01-06T12:04:41Z", "updated_at": "2019-01-30T16:40:42Z", "closed_at": "2019-01-30T05:39:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nTraceback (most recent call last):\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 111, in run\r\n    return options.run_func(options)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\msetup.py\", line 230, in run\r\n    app.generate()\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\msetup.py\", line 161, in generate\r\n    self._generate(env)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\msetup.py\", line 190, in _generate\r\n    intr.run()\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 3880, in run\r\n    super().run()\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 408, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 432, in evaluate_codeblock\r\n    raise e\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 426, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 447, in evaluate_statement\r\n    return self.evaluate_if(cur)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 515, in evaluate_if\r\n    self.evaluate_codeblock(node.elseblock)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 432, in evaluate_codeblock\r\n    raise e\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 426, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 439, in evaluate_statement\r\n    return self.assignment(cur)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 1019, in assignment\r\n    value = self.evaluate_statement(node.value)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 437, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 763, in function_call\r\n    return func(node, posargs, kwargs)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 292, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 292, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 292, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  [Previous line repeated 1 more time]\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 153, in wrapped\r\n    ret = f(*wrapped_args, **wrapped_kwargs)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreterbase.py\", line 181, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 2963, in func_dependency\r\n    d = self.dependency_impl(name, display_name, kwargs)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 3015, in dependency_impl\r\n    dep = dependencies.find_external_dependency(name, self.environment, kwargs)\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\dependencies\\base.py\", line 2095, in find_external_dependency\r\n    raise pkg_exc[0]\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\dependencies\\base.py\", line 2049, in find_external_dependency\r\n    d = c()\r\n  File \"c:\\python37\\lib\\site-packages\\mesonbuild\\dependencies\\base.py\", line 551, in __init__\r\n    '{!r}'.format(name, self.pkgbin.get_path()))\r\nAttributeError: 'bool' object has no attribute 'get_path'\r\n```\r\n\r\nGit master from yesterday 13:00 GMT+1 still worked.\r\n\r\nComplete build log: https://ci.appveyor.com/project/z3ntu/razer-test-pnxsa/builds/21415050/job/5p7gj4d3aw4neui0\r\n\r\nEDIT: My Linux & macOS CI don't report any issue so this might be Windows-only / systems without pkg-config?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4671", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4671/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4671/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4671/events", "html_url": "https://github.com/mesonbuild/meson/issues/4671", "id": 393477231, "node_id": "MDU6SXNzdWUzOTM0NzcyMzE=", "number": 4671, "title": "Incorrect handling of strings in cross file", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-21T14:27:31Z", "updated_at": "2019-03-11T10:34:33Z", "closed_at": "2019-01-02T20:28:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A cross-file containing:\r\n\r\n```\r\nc_args = '-I /root/vlc/contrib/i686-w64-mingw32/include' \r\ncpp_args = '-I /root/vlc/contrib/i686-w64-mingw32/include' \r\nc_link_args = '-L /root/vlc/contrib/i686-w64-mingw32/lib' \r\ncpp_link_args =  '-L /root/vlc/contrib/i686-w64-mingw32/lib' \r\n```\r\n\r\nis incorrectly handled by meson. Either it should error, because it expects an array, or treat this as one argument.\r\n\r\nWhat happens instead is that meson treats the string as an array and produces a completely messed-up command line:\r\n\r\n```\r\nSanity check compiler command line: i686-w64-mingw32-gcc - I   / r o o t / v l c / c o n t r i b / i 6 8 6 - w 6 4 - m i n g w 3 2 / i n c l u d e -c /root/vlc/contrib/contrib-win32/libplacebo/build/meson-private/sanitycheckc.c -o /root/vlc/contrib/contrib-win32/libplacebo/build/meson-private/sanitycheckc_cross.exe\r\nSanity check compile stdout:\r\n\r\n-----\r\nSanity check compile stderr:\r\ni686-w64-mingw32-gcc: error: I: No such file or directory\r\ni686-w64-mingw32-gcc: error:  : No such file or directory\r\ni686-w64-mingw32-gcc: error: r: No such file or directory\r\ni686-w64-mingw32-gcc: error: o: No such file or directory\r\ni686-w64-mingw32-gcc: error: o: No such file or directory\r\ni686-w64-mingw32-gcc: error: t: No such file or directory\r\n[\u2026]\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4641", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4641/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4641/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4641/events", "html_url": "https://github.com/mesonbuild/meson/issues/4641", "id": 391465577, "node_id": "MDU6SXNzdWUzOTE0NjU1Nzc=", "number": 4641, "title": "0.49.0 fails to find Qt5 using qmake", "user": {"login": "z3ntu", "id": 3768500, "node_id": "MDQ6VXNlcjM3Njg1MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/3768500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/z3ntu", "html_url": "https://github.com/z3ntu", "followers_url": "https://api.github.com/users/z3ntu/followers", "following_url": "https://api.github.com/users/z3ntu/following{/other_user}", "gists_url": "https://api.github.com/users/z3ntu/gists{/gist_id}", "starred_url": "https://api.github.com/users/z3ntu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/z3ntu/subscriptions", "organizations_url": "https://api.github.com/users/z3ntu/orgs", "repos_url": "https://api.github.com/users/z3ntu/repos", "events_url": "https://api.github.com/users/z3ntu/events{/privacy}", "received_events_url": "https://api.github.com/users/z3ntu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}, {"id": 716668530, "node_id": "MDU6TGFiZWw3MTY2Njg1MzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/qt", "name": "qt", "color": "41cd52", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/33", "html_url": "https://github.com/mesonbuild/meson/milestone/33", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/33/labels", "id": 3897098, "node_id": "MDk6TWlsZXN0b25lMzg5NzA5OA==", "number": 33, "title": "0.49.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2018-12-13T15:43:46Z", "updated_at": "2019-01-29T18:10:02Z", "due_on": null, "closed_at": "2019-01-29T18:10:02Z"}, "comments": 2, "created_at": "2018-12-16T13:06:35Z", "updated_at": "2018-12-19T21:15:22Z", "closed_at": "2018-12-19T21:15:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "My CI fails on both macOS and Windows:\r\nhttps://travis-ci.org/z3ntu/razer_test/jobs/468630035\r\nhttps://ci.appveyor.com/project/z3ntu/razer-test/builds/21043013/job/5upak41rvyneo2qu\r\n\r\n`meson.build:20:0: ERROR:  Dependency \"qt5\" not found, tried pkgconfig, qmake-qt5 and qmake`\r\n\r\nOn those platforms, meson used the `qmake` detection with earlier versions", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4527", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4527/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4527/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4527/events", "html_url": "https://github.com/mesonbuild/meson/issues/4527", "id": 381948480, "node_id": "MDU6SXNzdWUzODE5NDg0ODA=", "number": 4527, "title": "Detection of moc broken by #4216", "user": {"login": "jon-turney", "id": 3497232, "node_id": "MDQ6VXNlcjM0OTcyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-turney", "html_url": "https://github.com/jon-turney", "followers_url": "https://api.github.com/users/jon-turney/followers", "following_url": "https://api.github.com/users/jon-turney/following{/other_user}", "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions", "organizations_url": "https://api.github.com/users/jon-turney/orgs", "repos_url": "https://api.github.com/users/jon-turney/repos", "events_url": "https://api.github.com/users/jon-turney/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-turney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-18T10:43:12Z", "updated_at": "2019-01-14T09:43:06Z", "closed_at": "2018-11-22T21:37:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As requested by https://github.com/mesonbuild/meson/pull/4216#issuecomment-439661292.\r\n\r\nmeson now fails to detect qt tools in some situations, see https://travis-ci.org/jon-turney/meson-corpus-test/jobs/456407389#L497\r\n\r\nBisection lands on aa04147, unsurprisingly. Prior to this moc is found as /usr/lib/qt5/bin/moc", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4527/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4463", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4463/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4463/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4463/events", "html_url": "https://github.com/mesonbuild/meson/issues/4463", "id": 377091631, "node_id": "MDU6SXNzdWUzNzcwOTE2MzE=", "number": 4463, "title": "Unable to link a static library with MSVC for ARM, when windows resources are included", "user": {"login": "mstorsjo", "id": 69727, "node_id": "MDQ6VXNlcjY5NzI3", "avatar_url": "https://avatars.githubusercontent.com/u/69727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mstorsjo", "html_url": "https://github.com/mstorsjo", "followers_url": "https://api.github.com/users/mstorsjo/followers", "following_url": "https://api.github.com/users/mstorsjo/following{/other_user}", "gists_url": "https://api.github.com/users/mstorsjo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mstorsjo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mstorsjo/subscriptions", "organizations_url": "https://api.github.com/users/mstorsjo/orgs", "repos_url": "https://api.github.com/users/mstorsjo/repos", "events_url": "https://api.github.com/users/mstorsjo/events{/privacy}", "received_events_url": "https://api.github.com/users/mstorsjo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-03T20:46:43Z", "updated_at": "2019-03-19T18:39:34Z", "closed_at": "2019-03-19T18:39:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When creating a library that contains a windows resource (to add metadata about the library), e.g. like this, building with MSVC can fail when targeting non-x86 architectures.\r\n```\r\nmylib_rc_obj = winmod.compile_resources(rc_file)\r\nmylib = library('mylib', mylib_rc_obj, ...)\r\n```\r\nWith MSVC tools, the output of `rc.exe` is an arch independent resource file (contrary to windres which by default outputs an arch specific object file). When including this in a static library, MSVC `lib.exe` will convert it into an arch specific object file. (Including it in static libraries is of course pointless, but since one doesn't know if the library is going to be static or shared, it gets included in both.)\r\n\r\n`lib.exe` will infer what architecture to use, based on earlier object files processed, or based on the `/machine:` option. Normally the `/machine:` option isn't needed and thus Meson doesn't currently pass it.\r\n\r\nHowever, if the resource file gets passed to `lib.exe` before any of the actual object files, creating the library will fail:\r\n\r\n```\r\n$ lib /NOLOGO /OUT:libmylib.a src/src_mylib.rc_mylib.res 'src/src@@mylib@sta/implementation1.c.obj' ...\r\nLINK : warning LNK4068: /MACHINE not specified; defaulting to X86\r\nsrc\\src@@mylib@sta\\implementation1.c.obj : fatal error LNK1112: module machine type 'ARM' conflicts with target machine type 'x86'\r\n```\r\n\r\nIf the `lib.exe` invocation would include a `/machine:` parameter, this wouldn't be an issue. Being able to omit the resource file from the static library altogether (close to what is discussed in #4159) would also solve the situation, as including the resource file in the static library is mostly pointless, at least when the resource is just DLL metadata.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4360", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4360/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4360/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4360/events", "html_url": "https://github.com/mesonbuild/meson/issues/4360", "id": 368935526, "node_id": "MDU6SXNzdWUzNjg5MzU1MjY=", "number": 4360, "title": "The llvm test fails if static llvm libraries are not provided", "user": {"login": "williamh", "id": 64355, "node_id": "MDQ6VXNlcjY0MzU1", "avatar_url": "https://avatars.githubusercontent.com/u/64355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamh", "html_url": "https://github.com/williamh", "followers_url": "https://api.github.com/users/williamh/followers", "following_url": "https://api.github.com/users/williamh/following{/other_user}", "gists_url": "https://api.github.com/users/williamh/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamh/subscriptions", "organizations_url": "https://api.github.com/users/williamh/orgs", "repos_url": "https://api.github.com/users/williamh/repos", "events_url": "https://api.github.com/users/williamh/events{/privacy}", "received_events_url": "https://api.github.com/users/williamh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/31", "html_url": "https://github.com/mesonbuild/meson/milestone/31", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/31/labels", "id": 3680297, "node_id": "MDk6TWlsZXN0b25lMzY4MDI5Nw==", "number": 31, "title": "0.48.1", "description": null, "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 16, "state": "closed", "created_at": "2018-09-23T09:22:41Z", "updated_at": "2018-10-22T15:35:28Z", "due_on": null, "closed_at": "2018-10-22T15:32:59Z"}, "comments": 4, "created_at": "2018-10-11T03:15:00Z", "updated_at": "2018-10-15T13:52:15Z", "closed_at": "2018-10-11T20:20:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On Gentoo Linux at least, and maybe other distros, the static llvm libraries are not provided by default.\r\nThis means that the test suite fails because it is unable to statically link llvm.\r\nThe issue is in the following file:\r\n\r\ntest cases/frameworks/15 llvm/meson.build\r\n\r\nIn this file, the foreach loop  currently reads:\r\n\r\n```\r\nforeach static : [true, false]\r\n```\r\n\r\nWe patch it like this to get passed the failure:\r\n\r\n```\r\nforeach static : [false]\r\n```\r\n\r\nI'm thinking we should dynamically generate this list based on what is on the system and use that to control the loop instead of hard coding the list.\r\n\r\nAny thoughts?\r\n\r\n@floppym ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4360/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4272", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4272/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4272/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4272/events", "html_url": "https://github.com/mesonbuild/meson/issues/4272", "id": 364245908, "node_id": "MDU6SXNzdWUzNjQyNDU5MDg=", "number": 4272, "title": "Meson does not properly uses CXXFLAGS in compiler test", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-26T23:06:43Z", "updated_at": "2019-03-27T14:45:43Z", "closed_at": "2019-03-27T14:45:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Meson should use CXXFLAGS env variable for compiler tests, it does for some but not for others.\r\n\r\nHere the `has_library` test (remove some unnecessary info):\r\n\r\n```\r\nRunning compile:\r\nCommand line:  c++ -I/Users/epirat/Projects/Misc/plprefix/include -L/Users/epirat/Projects/Misc/plprefix/lib /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpnho14245/testfile.cpp -pipe -o /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmpnho14245/output.exe -O0 -fpermissive -lSPVRemapper -Wl,-undefined,dynamic_lookup \r\n```\r\n\r\nAs can be seen, meson properly uses the `CXXFLAGS` `-I/Users/epirat/Projects/Misc/plprefix/include`.\r\n\r\n\r\nHere the `get_define`:\r\n\r\n```\r\nRunning compile:\r\nCommand line:  c++ /var/folders/rw/l97gj1cd6vd_wrf_zjcbycjc0000gn/T/tmph8m3486_/testfile.cpp -pipe -E -P -O0 -fpermissive \r\n```\r\n\r\nAs can be seen, it lacks the `CXXFLAGS`.\r\n\r\nThis is very inconsistent, and leads to weird bugs, even worse than before as now it finds the library but fails with a (for the user) inexplicable other error because headers of that library are not properly found.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4272/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4135", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4135/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4135/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4135/events", "html_url": "https://github.com/mesonbuild/meson/issues/4135", "id": 357645959, "node_id": "MDU6SXNzdWUzNTc2NDU5NTk=", "number": 4135, "title": "Regression from 0.46.0 to 0.47.0 using custom pkg-config modules", "user": {"login": "nacho", "id": 18858, "node_id": "MDQ6VXNlcjE4ODU4", "avatar_url": "https://avatars.githubusercontent.com/u/18858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nacho", "html_url": "https://github.com/nacho", "followers_url": "https://api.github.com/users/nacho/followers", "following_url": "https://api.github.com/users/nacho/following{/other_user}", "gists_url": "https://api.github.com/users/nacho/gists{/gist_id}", "starred_url": "https://api.github.com/users/nacho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nacho/subscriptions", "organizations_url": "https://api.github.com/users/nacho/orgs", "repos_url": "https://api.github.com/users/nacho/repos", "events_url": "https://api.github.com/users/nacho/events{/privacy}", "received_events_url": "https://api.github.com/users/nacho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 850825624, "node_id": "MDU6TGFiZWw4NTA4MjU2MjQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/pkgconfig", "name": "pkgconfig", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/37", "html_url": "https://github.com/mesonbuild/meson/milestone/37", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/37/labels", "id": 4127179, "node_id": "MDk6TWlsZXN0b25lNDEyNzE3OQ==", "number": 37, "title": "0.50.1", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 47, "state": "closed", "created_at": "2019-03-11T03:50:51Z", "updated_at": "2019-04-17T13:45:42Z", "due_on": null, "closed_at": "2019-04-17T13:45:42Z"}, "comments": 12, "created_at": "2018-09-06T13:05:27Z", "updated_at": "2019-03-11T17:38:35Z", "closed_at": "2019-03-11T17:38:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a custom script that does the following:\r\n\r\n```\r\nexport PKG_CONFIG_PATH=\"${_dir}/deps/gtk-binaries/${_flavor}/x86_64/lib/meson-pkgconfig/\"\r\nrm -rf \"${_builddir}\"\r\nmkdir -p \"${_builddir}\"\r\n\r\nmeson \"${_builddir}\" --prefix ${_prefix}\r\nninja -C \"${_builddir}\" $@\r\n```\r\n\r\nWith meson 0.46.0 it picks the right libraries specified by the custom pkgconfig, instead with 0.47.2 it tries to use the system libraries and clearly fails because they are older.\r\nIf the behaviour has changed and I need to specify something else fine for me, just asking for help here.\r\n\r\nThis is the error I get:\r\n/usr/bin/ld.bfd.real: /usr/lib/x86_64-linux-gnu/libturbojpeg.a(libturbojpeg_la-turbojpeg.o): relocation R_X86_64_32 against `.data' can not be used when making a shared object; recompile with -fPIC\r\n/usr/lib/x86_64-linux-gnu/libturbojpeg.a: error adding symbols: Bad value\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4128", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4128/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4128/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4128/events", "html_url": "https://github.com/mesonbuild/meson/issues/4128", "id": 356865582, "node_id": "MDU6SXNzdWUzNTY4NjU1ODI=", "number": 4128, "title": "python module doesn't find python3.7", "user": {"login": "prlw1", "id": 3217855, "node_id": "MDQ6VXNlcjMyMTc4NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3217855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prlw1", "html_url": "https://github.com/prlw1", "followers_url": "https://api.github.com/users/prlw1/followers", "following_url": "https://api.github.com/users/prlw1/following{/other_user}", "gists_url": "https://api.github.com/users/prlw1/gists{/gist_id}", "starred_url": "https://api.github.com/users/prlw1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prlw1/subscriptions", "organizations_url": "https://api.github.com/users/prlw1/orgs", "repos_url": "https://api.github.com/users/prlw1/repos", "events_url": "https://api.github.com/users/prlw1/events{/privacy}", "received_events_url": "https://api.github.com/users/prlw1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2018-09-04T15:32:52Z", "updated_at": "2020-05-24T18:05:54Z", "closed_at": "2019-07-29T14:25:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The python binaries available in my path are python2.7, python3.6, python3.7. (There are also python2.7-config etc. config files, and they each have a .pc in PKG_CONFIG_PATH.)\r\n\r\nglib hunts for python by doing\r\n```\r\npython = import('python').find_installation('python3')\r\n# used for '#!/usr/bin/env <name>'\r\npython_name = 'python3'\r\n\r\npython_version = python.language_version()\r\npython_version_req = '>=3.4'\r\nif not python_version.version_compare(python_version_req)\r\n  error('Requires Python @0@, @1@ found.'.format(python_version_req, python_version))\r\nendif\r\n```\r\nand errors out with 'meson.build:1876:0: ERROR:  python3 not found'\r\n\r\nmeson itself is happily running python3.6.\r\n\r\n- maybe modules/python.py could try more version variations?\r\n- in autotools the traditional hint was to set the PYTHON environment variable - is there an equivalent?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4128/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4117", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4117/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4117/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4117/events", "html_url": "https://github.com/mesonbuild/meson/issues/4117", "id": 356401075, "node_id": "MDU6SXNzdWUzNTY0MDEwNzU=", "number": 4117, "title": "python extension_module should not link to python library on macOS and Linux", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-09-03T08:14:37Z", "updated_at": "2018-12-10T18:25:48Z", "closed_at": "2018-12-10T18:25:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Continuing from https://gitlab.gnome.org/GNOME/pygobject/issues/253#note_307567\r\n\r\n`python.extension_module()` needs to be passed `python_dep` explicitly, which makes sense because meson can't always know what python the project wants to use, but it should not explicitly link to the Python `so` or `dylib` (but it should link to the `dll`) since it's a `shared_module()`.\r\n\r\nCurrently projects need to use `python_dep.partial_dependency(compile_args: true)` on non-Windows platforms, but we should handle this automatically.\r\n\r\nCCing @MathieuDuponchelle @tschoonj ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4107", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4107/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4107/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4107/events", "html_url": "https://github.com/mesonbuild/meson/issues/4107", "id": 356042167, "node_id": "MDU6SXNzdWUzNTYwNDIxNjc=", "number": 4107, "title": "custom_target: install: true always enables build_by_default even when explicitly disabled", "user": {"login": "bluca", "id": 782193, "node_id": "MDQ6VXNlcjc4MjE5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/782193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluca", "html_url": "https://github.com/bluca", "followers_url": "https://api.github.com/users/bluca/followers", "following_url": "https://api.github.com/users/bluca/following{/other_user}", "gists_url": "https://api.github.com/users/bluca/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluca/subscriptions", "organizations_url": "https://api.github.com/users/bluca/orgs", "repos_url": "https://api.github.com/users/bluca/repos", "events_url": "https://api.github.com/users/bluca/events{/privacy}", "received_events_url": "https://api.github.com/users/bluca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}, {"id": 850882010, "node_id": "MDU6TGFiZWw4NTA4ODIwMTA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/install%20targets", "name": "install targets", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-08-31T16:13:03Z", "updated_at": "2019-01-17T18:40:20Z", "closed_at": "2019-01-17T18:40:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With Meson 0.47.2 it seems a custom_target with install set to true will always override build_by_default. Which means it's not possible to have an optional target that can also be installed.\r\n\r\nMinimal repro:\r\n\r\n```\r\nproject('test')\r\ncustom_target('test_bug',\r\n\tcommand: ['echo', 'executed'],\r\n\toutput: '.',\r\n\tinstall: true,\r\n\tinstall_dir: '/tmp',\r\n\tbuild_by_default: false)\r\n```\r\n\r\n```\r\n$ ninja -C build\r\nninja: Entering directory `build'\r\n[1/1] Generating test_bug with a custom command.\r\nexecuted\r\n```\r\n\r\nwith install: false:\r\n\r\n```\r\n$ ninja -C build\r\nninja: Entering directory `build'\r\nninja: no work to do.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4100", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4100/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4100/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4100/events", "html_url": "https://github.com/mesonbuild/meson/issues/4100", "id": 355449071, "node_id": "MDU6SXNzdWUzNTU0NDkwNzE=", "number": 4100, "title": "`dependency()` always picks the macOS frameworks even when cross-compiling for iOS", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/35", "html_url": "https://github.com/mesonbuild/meson/milestone/35", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/35/labels", "id": 4002644, "node_id": "MDk6TWlsZXN0b25lNDAwMjY0NA==", "number": 35, "title": "0.49.2", "description": null, "creator": {"login": "xclaesse", "id": 1379109, "node_id": "MDQ6VXNlcjEzNzkxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1379109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xclaesse", "html_url": "https://github.com/xclaesse", "followers_url": "https://api.github.com/users/xclaesse/followers", "following_url": "https://api.github.com/users/xclaesse/following{/other_user}", "gists_url": "https://api.github.com/users/xclaesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/xclaesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xclaesse/subscriptions", "organizations_url": "https://api.github.com/users/xclaesse/orgs", "repos_url": "https://api.github.com/users/xclaesse/repos", "events_url": "https://api.github.com/users/xclaesse/events{/privacy}", "received_events_url": "https://api.github.com/users/xclaesse/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-01-25T15:31:34Z", "updated_at": "2019-03-11T03:50:17Z", "due_on": null, "closed_at": "2019-03-11T03:50:17Z"}, "comments": 1, "created_at": "2018-08-30T06:56:34Z", "updated_at": "2019-01-31T18:44:10Z", "closed_at": "2019-01-31T18:44:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "$subject, this happens because:\r\n\r\n1. It doesn't care about `is_cross`\r\n\r\n2. It always pokes at the filesystem; it should use the compiler instead perhaps", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4100/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4049", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4049/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4049/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4049/events", "html_url": "https://github.com/mesonbuild/meson/issues/4049", "id": 351829541, "node_id": "MDU6SXNzdWUzNTE4Mjk1NDE=", "number": 4049, "title": "test-suite failure on Debian 9: cppd      FAIL     0.01 s (killed by signal 11 SIGSEGV)", "user": {"login": "mbiebl", "id": 3609611, "node_id": "MDQ6VXNlcjM2MDk2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3609611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbiebl", "html_url": "https://github.com/mbiebl", "followers_url": "https://api.github.com/users/mbiebl/followers", "following_url": "https://api.github.com/users/mbiebl/following{/other_user}", "gists_url": "https://api.github.com/users/mbiebl/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbiebl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbiebl/subscriptions", "organizations_url": "https://api.github.com/users/mbiebl/orgs", "repos_url": "https://api.github.com/users/mbiebl/repos", "events_url": "https://api.github.com/users/mbiebl/events{/privacy}", "received_events_url": "https://api.github.com/users/mbiebl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 17, "created_at": "2018-08-18T15:36:59Z", "updated_at": "2018-08-20T11:31:44Z", "closed_at": "2018-08-20T11:31:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to run the test-suite on Debian 9, the following test fails:\r\n```\r\n2/2 cppd                                    FAIL     0.01 s (killed by signal 11 SIGSEGV)\r\n```\r\nmight be related to\r\n```\r\nCode:\r\n \r\n        #include <linux/if.h>\r\nCompiler stdout:\r\n \r\nCompiler stderr:\r\n In file included from /tmp/tmpp25lvr20/testfile.c:2:0:\r\n/usr/include/linux/if.h:234:19: error: field \u2018ifru_addr\u2019 has incomplete type\r\n   struct sockaddr ifru_addr;\r\n                   ^~~~~~~~~\r\n/usr/include/linux/if.h:235:19: error: field \u2018ifru_dstaddr\u2019 has incomplete type\r\n   struct sockaddr ifru_dstaddr;\r\n                   ^~~~~~~~~~~~\r\n/usr/include/linux/if.h:236:19: error: field \u2018ifru_broadaddr\u2019 has incomplete type\r\n   struct sockaddr ifru_broadaddr;\r\n                   ^~~~~~~~~~~~~~\r\n/usr/include/linux/if.h:237:19: error: field \u2018ifru_netmask\u2019 has incomplete type\r\n   struct sockaddr ifru_netmask;\r\n                   ^~~~~~~~~~~~\r\n/usr/include/linux/if.h:238:20: error: field \u2018ifru_hwaddr\u2019 has incomplete type\r\n   struct  sockaddr ifru_hwaddr;\r\n                    ^~~~~~~~~~~\r\n\r\nCheck usable header \"linux/if.h\": NO\r\n\r\nmeson.build:36:4: ERROR:  Assert failed: Could not find <linux/if.h>\r\n```\r\nThe following versions are installed:\r\n```\r\ngcc:\r\n  Installed: 4:6.3.0-4\r\n  Candidate: 4:6.3.0-4\r\n  Version table:\r\n *** 4:6.3.0-4 500\r\n        500 http://ftp.de.debian.org/debian stretch/main amd64 Packages\r\n        100 /var/lib/dpkg/status\r\nlibc6-dev:\r\n  Installed: 2.24-11+deb9u3\r\n  Candidate: 2.24-11+deb9u3\r\n  Version table:\r\n *** 2.24-11+deb9u3 500\r\n        500 http://ftp.de.debian.org/debian stretch/main amd64 Packages\r\n        100 /var/lib/dpkg/status\r\nlinux-libc-dev:\r\n  Installed: 4.9.110-1\r\n  Candidate: 4.9.110-1\r\n  Version table:\r\n *** 4.9.110-1 500\r\n        500 http://ftp.de.debian.org/debian stretch/main amd64 Packages\r\n        100 /var/lib/dpkg/status\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4049/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4044", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4044/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4044/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4044/events", "html_url": "https://github.com/mesonbuild/meson/issues/4044", "id": 351672292, "node_id": "MDU6SXNzdWUzNTE2NzIyOTI=", "number": 4044, "title": "BOOST detection on Windows is not compatible with prebuilt binaries, ABI tag is wrong", "user": {"login": "mqudsi", "id": 606923, "node_id": "MDQ6VXNlcjYwNjkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mqudsi", "html_url": "https://github.com/mqudsi", "followers_url": "https://api.github.com/users/mqudsi/followers", "following_url": "https://api.github.com/users/mqudsi/following{/other_user}", "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions", "organizations_url": "https://api.github.com/users/mqudsi/orgs", "repos_url": "https://api.github.com/users/mqudsi/repos", "events_url": "https://api.github.com/users/mqudsi/events{/privacy}", "received_events_url": "https://api.github.com/users/mqudsi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-17T17:13:54Z", "updated_at": "2018-08-20T17:01:07Z", "closed_at": "2018-08-20T17:01:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "The ABI tag for the pre-built Windows BOOST binaries includes the system architecture:\r\n\r\n```\r\nC:\\Users\\mqudsi>fd boost_system C:\\local\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\boost_system-vc141-mt-gd-x64-1_68.dll\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\boost_system-vc141-mt-gd-x64-1_68.lib\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\boost_system-vc141-mt-x64-1_68.dll\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\boost_system-vc141-mt-x64-1_68.lib\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\libboost_system-vc141-mt-gd-x64-1_68.lib\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\libboost_system-vc141-mt-s-x64-1_68.lib\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\libboost_system-vc141-mt-sgd-x64-1_68.lib\r\nC:\\local\\boost_1_68_0\\lib64-msvc-14.1\\libboost_system-vc141-mt-x64-1_68.lib\r\n```\r\n\r\nHowever, meson searches for the library without the `-x64` modifier in the ABI tag:\r\n\r\n```log\r\n\r\nCouldn't find library 'boost_system-vc141-mt-gd-1_68' for boost module 'system'  (ABI tag = '-vc141-mt-gd-1_68')\r\nCouldn't find library 'boost_system-mt' for boost module 'system'  (ABI tag = '-mt')\r\nRequested Boost library 'system' not found\r\nBoost library directory is C:\\local\\boost_1_68_0\\lib64-msvc-14.1\r\nDependency Boost (system) found: NO\r\n```\r\n\r\nThe libraries were installed from the prebuilt binaries available at https://sourceforge.net/projects/boost/files/boost-binaries/1.68.0/\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4044/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4032", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4032/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4032/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4032/events", "html_url": "https://github.com/mesonbuild/meson/issues/4032", "id": 351119208, "node_id": "MDU6SXNzdWUzNTExMTkyMDg=", "number": 4032, "title": "Dub method for dependencies", "user": {"login": "russel", "id": 24420, "node_id": "MDQ6VXNlcjI0NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/24420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/russel", "html_url": "https://github.com/russel", "followers_url": "https://api.github.com/users/russel/followers", "following_url": "https://api.github.com/users/russel/following{/other_user}", "gists_url": "https://api.github.com/users/russel/gists{/gist_id}", "starred_url": "https://api.github.com/users/russel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/russel/subscriptions", "organizations_url": "https://api.github.com/users/russel/orgs", "repos_url": "https://api.github.com/users/russel/repos", "events_url": "https://api.github.com/users/russel/events{/privacy}", "received_events_url": "https://api.github.com/users/russel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-08-16T09:09:48Z", "updated_at": "2018-09-03T16:30:52Z", "closed_at": "2018-09-03T16:30:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "The dependency search for Dub method dependencies always seems to find that the library was built with dmd even when it was built with ldc2.\r\n```\r\nFound DUB: /usr/bin/dub (DUB version 1.10.0, built on Jul  3 2018)\r\nERROR: Dependency unit-threaded found but it was compiled with dmd and we are using ldc\r\nDependency unit-threaded found: NO \r\n\r\nmeson.build:38:0: ERROR:  Dependency \"unit-threaded\" not found, tried \r\n```\r\n\r\nUpdate: building everything with dmd does work, building with ldc2 always fails.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4032/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4027", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4027/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4027/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4027/events", "html_url": "https://github.com/mesonbuild/meson/issues/4027", "id": 350569171, "node_id": "MDU6SXNzdWUzNTA1NjkxNzE=", "number": 4027, "title": "Meson strips rpaths set via pkgconfig on install", "user": {"login": "dankegel", "id": 170976, "node_id": "MDQ6VXNlcjE3MDk3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/170976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dankegel", "html_url": "https://github.com/dankegel", "followers_url": "https://api.github.com/users/dankegel/followers", "following_url": "https://api.github.com/users/dankegel/following{/other_user}", "gists_url": "https://api.github.com/users/dankegel/gists{/gist_id}", "starred_url": "https://api.github.com/users/dankegel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dankegel/subscriptions", "organizations_url": "https://api.github.com/users/dankegel/orgs", "repos_url": "https://api.github.com/users/dankegel/repos", "events_url": "https://api.github.com/users/dankegel/events{/privacy}", "received_events_url": "https://api.github.com/users/dankegel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 850825624, "node_id": "MDU6TGFiZWw4NTA4MjU2MjQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/pkgconfig", "name": "pkgconfig", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-08-14T19:38:14Z", "updated_at": "2020-07-12T16:55:57Z", "closed_at": "2020-05-18T20:17:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If a .pc file specifies -Wl,-rpath, it probably has a good reason to.\r\nThus it is surprising that meson strips those rpaths on install.\r\nThe workaround suggested by https://github.com/mesonbuild/meson/issues/1411\r\nis awkward as it requires knowing what rpath the library needed.\r\n[Edit: and it requires editing the meson config, which is awkward when\r\nyou're just trying to package, say, gstreamer to install to /opt/foo.\r\nWhat's the point of meson's --prefix option if it forbids rpaths pointing into that prefix?]\r\n\r\nSince rpath in .pc files are frowned upon in linux distributions, this is likely to only\r\naffect third-party software that installs libraries to /opt.\r\n\r\nIf meson is making a policy statement that .pc files must not contain rpath options, it should say so clearly, and possibly abort when such .pc files are encountered", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4027/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4025", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4025/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4025/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4025/events", "html_url": "https://github.com/mesonbuild/meson/issues/4025", "id": 350488508, "node_id": "MDU6SXNzdWUzNTA0ODg1MDg=", "number": 4025, "title": "Cannot create shared libraries from D sources on OSX (and macOS)", "user": {"login": "russel", "id": 24420, "node_id": "MDQ6VXNlcjI0NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/24420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/russel", "html_url": "https://github.com/russel", "followers_url": "https://api.github.com/users/russel/followers", "following_url": "https://api.github.com/users/russel/following{/other_user}", "gists_url": "https://api.github.com/users/russel/gists{/gist_id}", "starred_url": "https://api.github.com/users/russel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/russel/subscriptions", "organizations_url": "https://api.github.com/users/russel/orgs", "repos_url": "https://api.github.com/users/russel/repos", "events_url": "https://api.github.com/users/russel/events{/privacy}", "received_events_url": "https://api.github.com/users/russel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-08-14T15:48:19Z", "updated_at": "2018-08-29T15:59:55Z", "closed_at": "2018-08-20T17:25:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using the `library` function in a 'meson.build' to create a shared library on Debian Sid and Fedora Rawhide works fine. For example:\r\n```\r\ntinyendian_lib = library(\r\n    meson.project_name(),\r\n    [tinyendian_src],\r\n    include_directories: [src_dir],\r\n    version: meson.project_version(),\r\n    pic: true,\r\n    install: true,\r\n)\r\n```\r\ncorrectly builds the '.so' file and it all installs fine. However on OSX (I am on El Capitan) and I assume macOS, the option `-L-soname` is passed to the 'ldc2' command line, and whilst this works for Linux, it does not work for OSX:\r\n```\r\n  FAILED: libtinyendian.0.dylib \r\nldc2  -of libtinyendian.0.dylib 'tinyendian@sha/source_tinyendian.d.o' -shared -relocation-model=pic -L-soname -Llibtinyendian.dylib.0  \r\nld: unknown option: -soname\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nError: /usr/bin/gcc failed with status: 1\r\n```\r\nI believe this to be an error in the D tooling for Meson.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4025/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4023", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/4023/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/4023/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/4023/events", "html_url": "https://github.com/mesonbuild/meson/issues/4023", "id": 350442647, "node_id": "MDU6SXNzdWUzNTA0NDI2NDc=", "number": 4023, "title": "Wrong libdir for implicitly included pkg-config dependencies", "user": {"login": "jadahl", "id": 46741, "node_id": "MDQ6VXNlcjQ2NzQx", "avatar_url": "https://avatars.githubusercontent.com/u/46741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jadahl", "html_url": "https://github.com/jadahl", "followers_url": "https://api.github.com/users/jadahl/followers", "following_url": "https://api.github.com/users/jadahl/following{/other_user}", "gists_url": "https://api.github.com/users/jadahl/gists{/gist_id}", "starred_url": "https://api.github.com/users/jadahl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jadahl/subscriptions", "organizations_url": "https://api.github.com/users/jadahl/orgs", "repos_url": "https://api.github.com/users/jadahl/repos", "events_url": "https://api.github.com/users/jadahl/events{/privacy}", "received_events_url": "https://api.github.com/users/jadahl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 850825624, "node_id": "MDU6TGFiZWw4NTA4MjU2MjQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/pkgconfig", "name": "pkgconfig", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 20, "created_at": "2018-08-14T14:02:48Z", "updated_at": "2018-08-21T20:22:30Z", "closed_at": "2018-08-21T20:22:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "meson version: 0.47.1\r\n\r\nWhen working on various things, I'm using [jhbuild](https://developer.gnome.org/jhbuild/) to have some of my dependencies more up to date than what is available from the distribution.\r\n\r\nHowever, when I have a meson.build which includes a dependency that implicitly pulls in other dependencies, it won't use the correct libdir from those dependencies.\r\n\r\nFor example, let's say I have this rule:\r\n```\r\nproject('test-deps', 'c')\r\n\r\nglib_dep = dependency('glib-2.0')\r\njson_glib_dep = dependency('json-glib-1.0')\r\n\r\nexecutable('test-deps',\r\n  sources: 'test-deps.c',\r\n  dependencies: [json_glib_dep, glib_dep]\r\n)\r\n```\r\n\r\nand there are two `glib-2.0.pc`, one (the one that comes first in the path) is located in `/home/user/jhbuild/install/lib/pkgconfig/glib-2.0`, the other in `/usr/lib64/pkgconfig/glib-2.0.so`; and `json-glib-1.0.pc` is located in `/usr/lib64/pkgconfig/json-glib-1.0.pc`.\r\n\r\nWhile meson properly discovers `glib-2.0` in `/home/user/jhbuild/install`, when it then generates ninja rules and sees that `json-glib-1.0.pc` depends on `glib-2.0`, it'll take the one in `/usr/`.\r\n\r\nTo reproduce:\r\n\r\n1. Install glib in jhbuild\r\n2. Install json-glib devel distribution package\r\n3. Use above meson rule (with an empty test-deps.c)\r\n4. From within jhbulid, run `meson build` and see that it uses the correct glib\r\n5. From within jhbuild, run `ninja -v -C build` and observe that it includes the wrong glib-2.0.so\r\n\r\nYou can also probably replace jhbulid with something that just overrides `$LD_LIBRARY_PATH` and `$PKG_CONFIG_PATH` but i haven't tested.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/4023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/4023/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3995", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3995/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3995/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3995/events", "html_url": "https://github.com/mesonbuild/meson/issues/3995", "id": 348828473, "node_id": "MDU6SXNzdWUzNDg4Mjg0NzM=", "number": 3995, "title": "install_sources installs python sources into wrong directory on windows", "user": {"login": "fpn", "id": 1007715, "node_id": "MDQ6VXNlcjEwMDc3MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1007715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fpn", "html_url": "https://github.com/fpn", "followers_url": "https://api.github.com/users/fpn/followers", "following_url": "https://api.github.com/users/fpn/following{/other_user}", "gists_url": "https://api.github.com/users/fpn/gists{/gist_id}", "starred_url": "https://api.github.com/users/fpn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fpn/subscriptions", "organizations_url": "https://api.github.com/users/fpn/orgs", "repos_url": "https://api.github.com/users/fpn/repos", "events_url": "https://api.github.com/users/fpn/events{/privacy}", "received_events_url": "https://api.github.com/users/fpn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 850882010, "node_id": "MDU6TGFiZWw4NTA4ODIwMTA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/install%20targets", "name": "install targets", "color": "0052cc", "default": false, "description": ""}, {"id": 2027527946, "node_id": "MDU6TGFiZWwyMDI3NTI3OTQ2", "url": "https://api.github.com/repos/mesonbuild/meson/labels/modules:python", "name": "modules:python", "color": "b60205", "default": false, "description": "Issues specific to the python module"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-08-08T17:51:14Z", "updated_at": "2021-08-27T11:46:59Z", "closed_at": "2021-08-27T11:46:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Standard MSVC python:\r\n```\r\nPython 3.6.6 (v3.6.6:4cf1f54eb7, Jun 27 2018, 03:37:03) [MSC v.1900 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from distutils import sysconfig\r\n>>> sysconfig.get_python_lib()\r\n'C:\\\\Python36\\\\Lib\\\\site-packages'\r\n```\r\n\r\nmodules/python.py  - INSTALL_PATHS_COMMAND - sets posix_prefix (on windows)\r\n\r\n```\r\nprint (json.dumps(sysconfig.get_paths(scheme='posix_prefix', vars={'base': '', 'platbase': '', 'installed_base': ''})))\r\n{\"stdlib\": \"\\\\lib\\\\python3.6\", \"platstdlib\": \"\\\\lib\\\\python3.6\", \"purelib\": \"\\\\lib\\\\python3.6\\\\site-packages\", \"platlib\": \"\\\\lib\\\\python3.6\\\\site-packages\", \"include\": \"\\\\include\\\\python3.6\", \"platinclude\": \"C:\\\\Python36\\\\include\\\\python3.6\", \"scripts\": \"\\\\bin\", \"data\": \".\"}\r\n```\r\n\r\nsyconfig does the right thing when not forced into posix_prefix\r\n```\r\nprint (json.dumps(sysconfig.get_paths( vars={'base': '', 'platbase': '', 'installed_base': ''})))\r\n>>> print (json.dumps(sysconfig.get_paths( vars={'base': '', 'platbase': '', 'installed_base': ''})))\r\n{\"stdlib\": \"\\\\Lib\", \"platstdlib\": \"\\\\Lib\", \"purelib\": \"\\\\Lib\\\\site-packages\", \"platlib\": \"\\\\Lib\\\\site-packages\", \"include\": \"\\\\Include\", \"platinclude\": \"\\\\Include\", \"scripts\": \"\\\\Scripts\", \"data\": \".\"}\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3995/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3979", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3979/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3979/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3979/events", "html_url": "https://github.com/mesonbuild/meson/issues/3979", "id": 347750767, "node_id": "MDU6SXNzdWUzNDc3NTA3Njc=", "number": 3979, "title": "Unknown linker for D projects on Windows", "user": {"login": "GoaLitiuM", "id": 4064397, "node_id": "MDQ6VXNlcjQwNjQzOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4064397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoaLitiuM", "html_url": "https://github.com/GoaLitiuM", "followers_url": "https://api.github.com/users/GoaLitiuM/followers", "following_url": "https://api.github.com/users/GoaLitiuM/following{/other_user}", "gists_url": "https://api.github.com/users/GoaLitiuM/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoaLitiuM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoaLitiuM/subscriptions", "organizations_url": "https://api.github.com/users/GoaLitiuM/orgs", "repos_url": "https://api.github.com/users/GoaLitiuM/repos", "events_url": "https://api.github.com/users/GoaLitiuM/events{/privacy}", "received_events_url": "https://api.github.com/users/GoaLitiuM/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 2, "created_at": "2018-08-06T01:27:37Z", "updated_at": "2018-09-04T17:18:14Z", "closed_at": "2018-09-04T17:18:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Building a simple D-program does not seem to work on Windows. With the following meson.build file:\r\n```\r\nproject('myapp', 'd')\r\nexecutable('myapp', 'myapp.d')\r\n```\r\n...produces the following output:\r\n```\r\n> meson.py build\r\nThe Meson build system\r\nVersion: 0.48.0.dev1\r\nSource dir: C:\\dev\\myapp\r\nBuild dir: C:\\dev\\myapp\\build\r\nBuild type: native build\r\nProject name: myapp\r\nProject version: undefined\r\nNative D compiler: ldc2 (llvm 1.11.0-beta1 \"LDC - the LLVM D compiler (1.11.0-beta1):\")\r\n\r\nmeson.build:1:0: ERROR:  Unknown linker(s): [['ar']]\r\nThe follow exceptions were encountered:\r\nRunning \"ar --version\" gave \"[WinError 2] The system cannot find the file specified\"\r\n```\r\nOn Windows platform, D compilers should be able to use following linkers, but meson does not even attempt to detect and use them:\r\n\r\n- Digital Mars Optlink linker (link.exe), bundled with DMD and only supports 32-bit OMF targets\r\n- Visual Studio linker (link.exe), the recommended linker for 32/64-bit MSCOFF targets\r\n- LLVM linker (lld-link.exe), built-in linker in LDC2, and fairly recently also bundled with DMD\r\n\r\nI tried setting the AR environment variable to point at these linkers but they all produced the same \"unknown linker\" error message.\r\n\r\nEdit: I also tried running vcvarsall.bat beforehand, and it didn't help with the linker detection at all.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3967", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3967/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3967/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3967/events", "html_url": "https://github.com/mesonbuild/meson/issues/3967", "id": 346717048, "node_id": "MDU6SXNzdWUzNDY3MTcwNDg=", "number": 3967, "title": "Meson crashes while running GLib gdbus-proxy-threads test", "user": {"login": "lantw44", "id": 3016644, "node_id": "MDQ6VXNlcjMwMTY2NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3016644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lantw44", "html_url": "https://github.com/lantw44", "followers_url": "https://api.github.com/users/lantw44/followers", "following_url": "https://api.github.com/users/lantw44/following{/other_user}", "gists_url": "https://api.github.com/users/lantw44/gists{/gist_id}", "starred_url": "https://api.github.com/users/lantw44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lantw44/subscriptions", "organizations_url": "https://api.github.com/users/lantw44/orgs", "repos_url": "https://api.github.com/users/lantw44/repos", "events_url": "https://api.github.com/users/lantw44/events{/privacy}", "received_events_url": "https://api.github.com/users/lantw44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 680510296, "node_id": "MDU6TGFiZWw2ODA1MTAyOTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:*BSD", "name": "OS:*BSD", "color": "990000", "default": false, "description": "Issues specific to one of the BSD Operating Systems"}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-08-01T18:31:33Z", "updated_at": "2018-09-06T16:19:44Z", "closed_at": "2018-09-06T16:19:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is currently a blocker for adding FreeBSD CI to GLib. It is easily reproducible and it makes it almost impossible to complete the GLib test on FreeBSD.\r\n```\r\n$ ~/gnome/source/meson/meson.py test gdbus-proxy-threads\r\nninja: Entering directory `/tmp/ram/glib-build'\r\nninja: no work to do.\r\nTraceback (most recent call last):\r\n  File \"/home/lantw44/gnome/source/meson/meson.py\", line 29, in <module>\r\n    sys.exit(mesonmain.main())\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mesonmain.py\", line 379, in main\r\n    return run(sys.argv[1:], launcher)\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mesonmain.py\", line 278, in run\r\n    return mtest.run(remaining_args)\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mtest.py\", line 759, in run\r\n    return th.run_special()\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mtest.py\", line 692, in run_special\r\n    self.run_tests(tests)\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mtest.py\", line 666, in run_tests\r\n    self.drain_futures(futures)\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mtest.py\", line 682, in drain_futures\r\n    self.process_test_result(result.result())\r\n  File \"/usr/local/lib/python3.6/concurrent/futures/_base.py\", line 432, in result\r\n    return self.__get_result()\r\n  File \"/usr/local/lib/python3.6/concurrent/futures/_base.py\", line 384, in __get_result\r\n    raise self._exception\r\n  File \"/usr/local/lib/python3.6/concurrent/futures/thread.py\", line 56, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mtest.py\", line 262, in run\r\n    return self._run_cmd(wrap + cmd + self.test.cmd_args + self.options.test_args)\r\n  File \"/home/lantw44/gnome/source/meson/mesonbuild/mtest.py\", line 353, in _run_cmd\r\n    (stdo, stde) = p.communicate()\r\n  File \"/usr/local/lib/python3.6/subprocess.py\", line 843, in communicate\r\n    stdout, stderr = self._communicate(input, endtime, timeout)\r\n  File \"/usr/local/lib/python3.6/subprocess.py\", line 1505, in _communicate\r\n    selector.register(self.stdout, selectors.EVENT_READ)\r\n  File \"/usr/local/lib/python3.6/selectors.py\", line 351, in register\r\n    key = super().register(fileobj, events, data)\r\n  File \"/usr/local/lib/python3.6/selectors.py\", line 237, in register\r\n    key = SelectorKey(fileobj, self._fileobj_lookup(fileobj), events, data)\r\n  File \"/usr/local/lib/python3.6/selectors.py\", line 224, in _fileobj_lookup\r\n    return _fileobj_to_fd(fileobj)\r\n  File \"/usr/local/lib/python3.6/selectors.py\", line 39, in _fileobj_to_fd\r\n    \"{!r}\".format(fileobj)) from None\r\nValueError: Invalid file object: <_io.BufferedReader name=6>\r\n```\r\n\r\nIt took 30 seconds for meson to crash, so it looked like a timeout issue. However, `gdbus-proxy-threads` test itself completed in less than 5 seconds. It exited and became a zombie process before meson crashed.\r\n```\r\n \u2514\u2500\u252c= 93390 lantw44 python3 /home/lantw44/gnome/source/meson/meson.py test gdbus-proxy-threads (python3.6)\r\n   \u2514\u2500\u2500= 93399 lantw44 <defunct>\r\n```\r\n\r\nInterestingly, meson doesn't crash when running the same test with `-v` flag.\r\n```\r\n$ ~/gnome/source/meson/meson.py test -v gdbus-proxy-threads\r\nninja: Entering directory `/tmp/ram/glib-build'\r\nninja: no work to do.\r\n/gdbus/proxy/vs-threads: OK\r\n1/1 glib:gio / gdbus-proxy-threads          OK       2.58 s \r\n\r\nOK:         1\r\nFAIL:       0\r\nSKIP:       0\r\nTIMEOUT:    0\r\n```\r\n\r\nRunning `meson test` with `-v` avoids the crash, but it still doesn't work with GitLab runner. It seems there is a leftover `dbus-daemon` process when running `meson test` with `-v` and GitLab runner waits forever for it. The test https://gitlab.gnome.org/GNOME/glib/-/jobs/70974 already runs for a week and GitLab runner still waits for it.\r\n\r\nRelated comments on GNOME GitLab:\r\n- https://gitlab.gnome.org/Infrastructure/GitLab/issues/286#note_273597\r\n- https://gitlab.gnome.org/Infrastructure/GitLab/issues/286#note_273789", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3965", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3965/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3965/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3965/events", "html_url": "https://github.com/mesonbuild/meson/issues/3965", "id": 346532274, "node_id": "MDU6SXNzdWUzNDY1MzIyNzQ=", "number": 3965, "title": "Don't require import library on installation for shared modules", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 850882010, "node_id": "MDU6TGFiZWw4NTA4ODIwMTA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/install%20targets", "name": "install targets", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/28", "html_url": "https://github.com/mesonbuild/meson/milestone/28", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/28/labels", "id": 3480202, "node_id": "MDk6TWlsZXN0b25lMzQ4MDIwMg==", "number": 28, "title": "0.48.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2018-07-07T14:00:50Z", "updated_at": "2018-09-24T10:15:12Z", "due_on": null, "closed_at": "2018-09-24T10:15:12Z"}, "comments": 0, "created_at": "2018-08-01T10:01:59Z", "updated_at": "2018-08-09T15:39:32Z", "closed_at": "2018-08-09T15:39:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Shared modules might not export any symbols at all, so while we should install an import library if the linker generated one, if it doesn't exist, we should print a message about that and continue the installation instead of throwing a traceback:\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"d:\\\\projects\\\\cerbero\\\\meson\\\\master\\\\build\\\\build-tools\\\\Scripts\\\\meson.py\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('meson==0.47.0', 'meson.py')\r\n  File \"c:\\Python36-32\\lib\\site-packages\\pkg_resources\\__init__.py\", line 658, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"c:\\Python36-32\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1438, in run_script\r\n    exec(code, namespace, namespace)\r\n  File \"d:\\projects\\cerbero\\meson\\master\\build\\build-tools\\lib\\site-packages\\meson-0.47.0-py3.6.egg\\EGG-INFO\\scripts\\meson.py\", line 29, in <module>\r\n    sys.exit(mesonmain.main())\r\n  File \"d:\\projects\\cerbero\\meson\\master\\build\\build-tools\\Lib\\site-packages\\meson-0.47.0-py3.6.egg\\mesonbuild\\mesonmain.py\", line 367, in main\r\n    return run(sys.argv[1:], launcher)\r\n  File \"d:\\projects\\cerbero\\meson\\master\\build\\build-tools\\Lib\\site-packages\\meson-0.47.0-py3.6.egg\\mesonbuild\\mesonmain.py\", line 281, in run\r\n    return minstall.run(remaining_args)\r\n  File \"d:\\projects\\cerbero\\meson\\master\\build\\build-tools\\Lib\\site-packages\\meson-0.47.0-py3.6.egg\\mesonbuild\\minstall.py\", line 466, in run\r\n    installer.do_install(datafilename)\r\n  File \"d:\\projects\\cerbero\\meson\\master\\build\\build-tools\\Lib\\site-packages\\meson-0.47.0-py3.6.egg\\mesonbuild\\minstall.py\", line 298, in do_install\r\n    self.install_targets(d)\r\n  File \"d:\\projects\\cerbero\\meson\\master\\build\\build-tools\\Lib\\site-packages\\meson-0.47.0-py3.6.egg\\mesonbuild\\minstall.py\", line 387, in install_targets\r\n    fname = check_for_stampfile(t.fname)\r\n  File \"d:\\projects\\cerbero\\meson\\master\\build\\build-tools\\Lib\\site-packages\\meson-0.47.0-py3.6.egg\\mesonbuild\\minstall.py\", line 170, in check_for_stampfile\r\n    if os.stat(fname).st_size == 0:\r\nFileNotFoundError: [WinError 2] The system cannot find the file specified: 'tls/gnutls\\\\giognutls.lib'\r\nFAILED: meson-install\r\n\"c:\\\\Python36-32\\\\python.exe\" \"d:\\\\projects\\\\cerbero\\\\meson\\\\master\\\\build\\\\build-tools\\\\Scripts\\\\meson.py\" \"install\" \"--no-rebuild\"\r\nninja: build stopped: subcommand failed.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3965/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3958", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3958/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3958/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3958/events", "html_url": "https://github.com/mesonbuild/meson/issues/3958", "id": 345657080, "node_id": "MDU6SXNzdWUzNDU2NTcwODA=", "number": 3958, "title": "C++ library not found unless linker is changed", "user": {"login": "ismaelgv", "id": 8478202, "node_id": "MDQ6VXNlcjg0NzgyMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/8478202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ismaelgv", "html_url": "https://github.com/ismaelgv", "followers_url": "https://api.github.com/users/ismaelgv/followers", "following_url": "https://api.github.com/users/ismaelgv/following{/other_user}", "gists_url": "https://api.github.com/users/ismaelgv/gists{/gist_id}", "starred_url": "https://api.github.com/users/ismaelgv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ismaelgv/subscriptions", "organizations_url": "https://api.github.com/users/ismaelgv/orgs", "repos_url": "https://api.github.com/users/ismaelgv/repos", "events_url": "https://api.github.com/users/ismaelgv/events{/privacy}", "received_events_url": "https://api.github.com/users/ismaelgv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 6, "created_at": "2018-07-30T08:20:43Z", "updated_at": "2018-08-11T11:35:29Z", "closed_at": "2018-08-11T11:35:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "***Problem***\r\nSome libraries are not found when `compiler.find_library(\"lib\")` is used unless linker is changed. A clear example is `gsl` library (another one is `deal_II`). When you set linker to `CXXFLAGS='-fuse-ld=gold'` or `CXX=clang++ CXXFLAGS='-fuse-ld=lld'`, meson finds these libraries without problem.\r\n\r\n***Configuration example***\r\n```python\r\nproject('test', 'cpp',\r\n        default_options : ['cpp_std=c++14',\r\n                           'buildtype=release',])\r\n\r\ncpp = meson.get_compiler('cpp')\r\n\r\nlibraries = ['gmp', 'mpfr', 'gsl', 'gslcblas', 'tbb']\r\nforeach lib : libraries\r\n  system_lib = cpp.find_library(lib)\r\nendforeach\r\n```\r\nAll libraries are found using this configuration example except 'gsl'. This library is found when linker is changed to `ld.gold` or `ld.lld` with `clang++`.\r\n\r\n***Meson version***\r\nThis bug is present in version `0.47.0` and above. I've done a `git bisect` and the commit that apparently introduced this bug is: af546b52ca0281a595f4395425905c68ff0d21c2", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3958/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3951", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3951/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3951/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3951/events", "html_url": "https://github.com/mesonbuild/meson/issues/3951", "id": 344840126, "node_id": "MDU6SXNzdWUzNDQ4NDAxMjY=", "number": 3951, "title": "Linking failed but build passed", "user": {"login": "ondrejholy", "id": 1051384, "node_id": "MDQ6VXNlcjEwNTEzODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1051384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ondrejholy", "html_url": "https://github.com/ondrejholy", "followers_url": "https://api.github.com/users/ondrejholy/followers", "following_url": "https://api.github.com/users/ondrejholy/following{/other_user}", "gists_url": "https://api.github.com/users/ondrejholy/gists{/gist_id}", "starred_url": "https://api.github.com/users/ondrejholy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ondrejholy/subscriptions", "organizations_url": "https://api.github.com/users/ondrejholy/orgs", "repos_url": "https://api.github.com/users/ondrejholy/repos", "events_url": "https://api.github.com/users/ondrejholy/events{/privacy}", "received_events_url": "https://api.github.com/users/ondrejholy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 10, "created_at": "2018-07-26T13:18:05Z", "updated_at": "2018-08-21T20:22:31Z", "closed_at": "2018-08-21T20:22:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using `jhbuild` to build selected projects in `/opt/gnome` prefix, but it basically does the following:\r\n\r\n```\r\nexport PKG_CONFIG_PATH=/opt/gnome/lib64/pkgconfig:/opt/gnome/lib/pkgconfig:/opt/gnome/share/pkgconfig:/usr/lib64/pkgconfig:/usr/share/pkgconfig\r\nexport LD_LIBRARY_PATH=/opt/gnome/lib\r\nmeson ../build/gvfs --prefix=/opt/gnome\r\nninja -C ../build/gvfs\r\n```\r\n\r\nSo some dependencies come from `/opt/gnome` prefix and some from system locations. I hit the following problem this week:\r\n\r\n```\r\nninja: Entering directory `build'\r\n[253/253] Linking target monitor/goa/gvfs-goa-volume-monitor.\r\nFAILED: monitor/goa/gvfs-goa-volume-monitor \r\ncc  -o monitor/goa/gvfs-goa-volume-monitor 'monitor/goa/monitor@goa@@gvfs-goa-volume-monitor@exe/goavolumemonitordaemon.c.o' 'monitor/goa/monitor@goa@@gvfs-goa-volume-monitor@exe/goavolume.c.o' 'monitor/goa/monitor@goa@@gvfs-goa-volume-monitor@exe/goavolumemonitor.c.o' -Wl,--no-undefined -Wl,--as-needed -Wl,--start-group monitor/proxy/libgvfsproxyvolumemonitordaemon-noin.a /opt/gnome/lib/libglib-2.0.so /usr/lib64/libgoa-1.0.so /usr/lib64/libgio-2.0.so /usr/lib64/libgobject-2.0.so /usr/lib64/libglib-2.0.so /opt/gnome/lib/libgobject-2.0.so /opt/gnome/lib/libgio-2.0.so -Wl,--end-group '-Wl,-rpath,$ORIGIN/../../../../../../../opt/gnome/lib' -Wl,-rpath-link,/opt/gnome/lib  \r\nmonitor/proxy/libgvfsproxyvolumemonitordaemon-noin.a(gvfsproxyvolumemonitordaemon.c.o): In function `handle_mount_op_reply2':\r\n/home/oholy/gnome/gvfs/build/../monitor/proxy/gvfsproxyvolumemonitordaemon.c:1149: undefined reference to `g_mount_operation_set_is_tcrypt_hidden_volume'\r\n/home/oholy/gnome/gvfs/build/../monitor/proxy/gvfsproxyvolumemonitordaemon.c:1151: undefined reference to `g_mount_operation_set_is_tcrypt_system_volume'\r\n/home/oholy/gnome/gvfs/build/../monitor/proxy/gvfsproxyvolumemonitordaemon.c:1153: undefined reference to `g_mount_operation_set_pim'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nThe problem is that `/usr/lib64/libgio-2.0.so` comes as a dependency from `/usr/lib64/libgoa-1.0.so` library and `/opt/gnome/lib/libgio-2.0.so` cames from another. Linker obviously uses `/usr/lib64/libgio-2.0.so`, which doesn't contain the new API and fails.\r\n\r\nI wonder if only `/opt/gnome/lib/libgio-2.0.so` can't be passed to linker. Similarly to header files, obviously, the correct header file has been used when building.\r\n\r\nJust a note that it works properly if I build `libgoa-1.0.so` also under the `/opt/gnome` prefix.\r\n\r\nOriginally reported in gvfs tracker where you can also find the gvfs source codes:\r\nhttps://gitlab.gnome.org/GNOME/gvfs/issues/14", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3951/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3938", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3938/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3938/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3938/events", "html_url": "https://github.com/mesonbuild/meson/issues/3938", "id": 344295047, "node_id": "MDU6SXNzdWUzNDQyOTUwNDc=", "number": 3938, "title": "Default value of UserFeatureOption is `enabled` instead of `auto`", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 3, "created_at": "2018-07-25T05:13:01Z", "updated_at": "2018-07-25T15:14:36Z", "closed_at": "2018-07-25T15:14:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "According to `meson --help`:\r\n\r\n```\r\n  --auto-features {enabled,disabled,auto}\r\n                        Override value of all 'auto' features (default: auto).\r\n```\r\n\r\nHowever, in reality the default value is `enabled`. We should fix it to be `auto`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3938/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3938/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3937", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3937/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3937/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3937/events", "html_url": "https://github.com/mesonbuild/meson/issues/3937", "id": 344286112, "node_id": "MDU6SXNzdWUzNDQyODYxMTI=", "number": 3937, "title": "Meson does not add objects from not-installed static libraries while creating static libraries", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-25T04:13:18Z", "updated_at": "2019-10-01T17:09:55Z", "closed_at": "2019-10-01T17:09:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Projects often have internal (not-installed) static libraries which are linked into the installed library (f.ex., `libcharset.a`, `libgnulib.a`, and `libpcre.a` into `libglib-2.0`). These static libraries are always correctly linked into the shared library, but not into the static library, because Meson assumes that all static libraries that we `link_with:` are available after installation, and must be linked via the pkg-config file.\r\n\r\nHowever, the aforementioned libraries must *NOT* be `link_whole:` because when you're doing a shared link, you don't want all the objects from them, only those that are actually used.\r\n\r\nSolution: add the objects from not-installed static library that a static library links with.\r\n\r\nThis is also what autotools does: it tracks `noinst_LTLIBRARIES` and transparently adds the objects from libraries in `LIBADD` when generating a static librari.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3935", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3935/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3935/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3935/events", "html_url": "https://github.com/mesonbuild/meson/issues/3935", "id": 344142098, "node_id": "MDU6SXNzdWUzNDQxNDIwOTg=", "number": 3935, "title": "Internal static library leaks to the ldflags when using gnome.gtkdoc()", "user": {"login": "ebassi", "id": 1665, "node_id": "MDQ6VXNlcjE2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebassi", "html_url": "https://github.com/ebassi", "followers_url": "https://api.github.com/users/ebassi/followers", "following_url": "https://api.github.com/users/ebassi/following{/other_user}", "gists_url": "https://api.github.com/users/ebassi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebassi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebassi/subscriptions", "organizations_url": "https://api.github.com/users/ebassi/orgs", "repos_url": "https://api.github.com/users/ebassi/repos", "events_url": "https://api.github.com/users/ebassi/events{/privacy}", "received_events_url": "https://api.github.com/users/ebassi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-07-24T17:57:49Z", "updated_at": "2018-09-28T20:02:14Z", "closed_at": "2018-09-28T20:02:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Similar to #3934: additional uninstalled static libraries end up on the linker flags for shared libraries, causing build failures when running `gtkdoc-scangobj`:\r\n\r\n```\r\nERROR: 'gtkdoc-scangobj' failed with status 1\r\n/usr/bin/ld: cannot find -lgeoclue-public-api\r\ncollect2: error: ld returned 1 exit status\r\n2018-07-24 18:53:45,120:scangobj.py:execute_command:1196:WARNING:Linking scanner failed: 1, command: ccache cc libgeoclue-scan.o -L/home/ebassi/gnome/source/geoclue/_build/libgeoclue -L/home/ebassi/gnome/install/lib -Wl,-rpath,/home/ebassi/gnome/install/lib -Wl,-rpath,/home/ebassi/gnome/source/geoclue/_build/libgeoclue -lgeoclue-2 -lgeoclue-public-api -lglib-2.0 -lgio-2.0 -lgobject-2.0 -o libgeoclue-scan\r\n```\r\n\r\n`geoclue-public-api` is a static library defined as an internal dependency of `geoclue-2`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3935/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3934", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3934/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3934/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3934/events", "html_url": "https://github.com/mesonbuild/meson/issues/3934", "id": 344127522, "node_id": "MDU6SXNzdWUzNDQxMjc1MjI=", "number": 3934, "title": "Generated pkg-config file contain linker flags for uninstalled static libraries", "user": {"login": "ebassi", "id": 1665, "node_id": "MDQ6VXNlcjE2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebassi", "html_url": "https://github.com/ebassi", "followers_url": "https://api.github.com/users/ebassi/followers", "following_url": "https://api.github.com/users/ebassi/following{/other_user}", "gists_url": "https://api.github.com/users/ebassi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebassi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebassi/subscriptions", "organizations_url": "https://api.github.com/users/ebassi/orgs", "repos_url": "https://api.github.com/users/ebassi/repos", "events_url": "https://api.github.com/users/ebassi/events{/privacy}", "received_events_url": "https://api.github.com/users/ebassi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 850825624, "node_id": "MDU6TGFiZWw4NTA4MjU2MjQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/pkgconfig", "name": "pkgconfig", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-07-24T17:12:57Z", "updated_at": "2019-10-01T17:09:39Z", "closed_at": "2019-10-01T17:09:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If a library target A depend on an uninstalled static library target B, `pkgconfig.generate()` will add `-lB` to the `Libs.private` key of the pkg-config file.\r\n\r\nMeson version: 0.47.1\r\n\r\nExample, taken from Geoclue:\r\n\r\n * `public-api/meson.build`:\r\n```meson\r\nlibgeoclue_public_api_lib = static_library('geoclue-public-api',\r\n  libgeoclue_public_api_gen_sources,\r\n  dependencies: base_deps,\r\n)\r\n\r\nlibgeoclue_public_api = declare_dependency(link_with: libgeoclue_public_api_lib,\r\n  sources: gclue_enum_types_h,\r\n  include_directories: include_directories('.'),\r\n  dependencies: base_deps,\r\n)\r\n```\r\n\r\n * `libgeoclue/meson.build`:\r\n```meson\r\nlibgeoclue_lib = library('geoclue-2',\r\n  libgeoclue_sources,\r\n  include_directories: config_inc,\r\n  dependencies: base_deps + [\r\n    libgeoclue_public_api,\r\n  ],\r\n  soversion: '0',\r\n  version: '0.0.0',\r\n  install: true,\r\n)\r\n\r\npkgconf = import('pkgconfig')\r\npkgconf.generate(libgeoclue_lib,\r\n  name: 'Geoclue Client Library',\r\n  description: 'A convenience library to interact with Geoclue service',\r\n  version: gclue_version,\r\n  filebase: 'libgeoclue-' + gclue_api_version,\r\n  subdirs: [ header_dir ],\r\n)\r\n```\r\n\r\n * generated `libgeoclue-2.0.pc` file:\r\n```\r\nprefix=/home/ebassi/gnome/install\r\nlibdir=${prefix}/lib\r\nincludedir=${prefix}/include\r\n\r\nName: Geoclue Client Library\r\nDescription: A convenience library to interact with Geoclue service\r\nVersion: 2.4.10\r\nRequires.private: glib-2.0 >=  2.34.0, gio-2.0 >=  2.34.0, gio-unix-2.0 >=  2.34.0\r\nLibs: -L${libdir} -lgeoclue-2\r\nLibs.private: -L${libdir} -lgeoclue-public-api\r\nCflags: /home/ebassi/gnome/install/include/libgeoclue-2.0\r\n```\r\n\r\nThe `-lgeoclue-public-api` is wrong, and will cause any user of `libgeoclue-2.0` to break.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3934/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3928", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3928/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3928/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3928/events", "html_url": "https://github.com/mesonbuild/meson/issues/3928", "id": 343477664, "node_id": "MDU6SXNzdWUzNDM0Nzc2NjQ=", "number": 3928, "title": "rpath order of two subprojects is not deterministic", "user": {"login": "espindola", "id": 42633, "node_id": "MDQ6VXNlcjQyNjMz", "avatar_url": "https://avatars.githubusercontent.com/u/42633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/espindola", "html_url": "https://github.com/espindola", "followers_url": "https://api.github.com/users/espindola/followers", "following_url": "https://api.github.com/users/espindola/following{/other_user}", "gists_url": "https://api.github.com/users/espindola/gists{/gist_id}", "starred_url": "https://api.github.com/users/espindola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/espindola/subscriptions", "organizations_url": "https://api.github.com/users/espindola/orgs", "repos_url": "https://api.github.com/users/espindola/repos", "events_url": "https://api.github.com/users/espindola/events{/privacy}", "received_events_url": "https://api.github.com/users/espindola/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 2, "created_at": "2018-07-23T03:44:38Z", "updated_at": "2018-07-25T16:40:55Z", "closed_at": "2018-07-25T16:40:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is related to issue #3922.\r\nIn the attached testcase meson sometimes uses\r\n\r\n'-Wl,-rpath,$$ORIGIN/subprojects/sub1:$$ORIGIN/subprojects/sub2'\r\n\r\nand sometimes\r\n\r\n'-Wl,-rpath,$$ORIGIN/subprojects/sub2:$$ORIGIN/subprojects/sub1'\r\n\r\n[meson-test.zip](https://github.com/mesonbuild/meson/files/2217864/meson-test.zip)", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3928/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3912", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3912/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3912/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3912/events", "html_url": "https://github.com/mesonbuild/meson/issues/3912", "id": 342635976, "node_id": "MDU6SXNzdWUzNDI2MzU5NzY=", "number": 3912, "title": "sizeof compiler check should #include after {prefix}", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/94", "html_url": "https://github.com/mesonbuild/meson/milestone/94", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/94/labels", "id": 9068672, "node_id": "MI_kwDOAS3iKM4AimCA", "number": 94, "title": "1.0.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2023-02-20T21:36:41Z", "updated_at": "2023-04-21T10:54:53Z", "due_on": null, "closed_at": "2023-04-21T10:54:53Z"}, "comments": 0, "created_at": "2018-07-19T08:50:02Z", "updated_at": "2023-04-04T12:33:31Z", "closed_at": "2023-03-18T13:47:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Else, things like `#define _GNU_SOURCE` do not get applied to it.\r\n\r\nhttps://github.com/systemd/casync/pull/160#issuecomment-406201718", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3912/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3901", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3901/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3901/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3901/events", "html_url": "https://github.com/mesonbuild/meson/issues/3901", "id": 342037970, "node_id": "MDU6SXNzdWUzNDIwMzc5NzA=", "number": 3901, "title": "WARNING: Unknown CPU family 'sparc', please report this", "user": {"login": "pseiderer", "id": 10682417, "node_id": "MDQ6VXNlcjEwNjgyNDE3", "avatar_url": "https://avatars.githubusercontent.com/u/10682417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pseiderer", "html_url": "https://github.com/pseiderer", "followers_url": "https://api.github.com/users/pseiderer/followers", "following_url": "https://api.github.com/users/pseiderer/following{/other_user}", "gists_url": "https://api.github.com/users/pseiderer/gists{/gist_id}", "starred_url": "https://api.github.com/users/pseiderer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pseiderer/subscriptions", "organizations_url": "https://api.github.com/users/pseiderer/orgs", "repos_url": "https://api.github.com/users/pseiderer/repos", "events_url": "https://api.github.com/users/pseiderer/events{/privacy}", "received_events_url": "https://api.github.com/users/pseiderer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 7, "created_at": "2018-07-17T18:41:54Z", "updated_at": "2018-08-02T21:27:50Z", "closed_at": "2018-08-02T21:27:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using meson/ninja for Buildroot [1] builds, e.g. with the provides sparc toolchain [2].\r\n\r\n[1] https://buildroot.org/\r\n[2] http://autobuild.buildroot.org/toolchains/tarballs/br-sparc-uclibc-2017.11-rc1.tar.bz2", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3901/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3896", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3896/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3896/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3896/events", "html_url": "https://github.com/mesonbuild/meson/issues/3896", "id": 341819590, "node_id": "MDU6SXNzdWUzNDE4MTk1OTA=", "number": 3896, "title": "quadmath is used unconditionally, even if not available", "user": {"login": "xnox", "id": 19779, "node_id": "MDQ6VXNlcjE5Nzc5", "avatar_url": "https://avatars.githubusercontent.com/u/19779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xnox", "html_url": "https://github.com/xnox", "followers_url": "https://api.github.com/users/xnox/followers", "following_url": "https://api.github.com/users/xnox/following{/other_user}", "gists_url": "https://api.github.com/users/xnox/gists{/gist_id}", "starred_url": "https://api.github.com/users/xnox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xnox/subscriptions", "organizations_url": "https://api.github.com/users/xnox/orgs", "repos_url": "https://api.github.com/users/xnox/repos", "events_url": "https://api.github.com/users/xnox/events{/privacy}", "received_events_url": "https://api.github.com/users/xnox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-17T08:37:54Z", "updated_at": "2019-03-14T05:10:07Z", "closed_at": "2019-03-14T05:10:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nclass GnuFortranCompiler(GnuCompiler, FortranCompiler):\r\n\r\n    def language_stdlib_only_link_flags(self):\r\n        return ['-lgfortran', '-lm', '-lquadmath']\r\n```\r\n\r\nHowever quadmath is not available on all architectures. On ubuntu, it is shipped for i686, x86_64 and ppc64el. But not other arches. Thus somehow, detection should be executed here and quadmath returned, only if available.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3896/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3862", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3862/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3862/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3862/events", "html_url": "https://github.com/mesonbuild/meson/issues/3862", "id": 339773140, "node_id": "MDU6SXNzdWUzMzk3NzMxNDA=", "number": 3862, "title": "intel compiler doesn't implement link_whole", "user": {"login": "asartori86", "id": 10710861, "node_id": "MDQ6VXNlcjEwNzEwODYx", "avatar_url": "https://avatars.githubusercontent.com/u/10710861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asartori86", "html_url": "https://github.com/asartori86", "followers_url": "https://api.github.com/users/asartori86/followers", "following_url": "https://api.github.com/users/asartori86/following{/other_user}", "gists_url": "https://api.github.com/users/asartori86/gists{/gist_id}", "starred_url": "https://api.github.com/users/asartori86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asartori86/subscriptions", "organizations_url": "https://api.github.com/users/asartori86/orgs", "repos_url": "https://api.github.com/users/asartori86/repos", "events_url": "https://api.github.com/users/asartori86/events{/privacy}", "received_events_url": "https://api.github.com/users/asartori86/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-10T09:57:19Z", "updated_at": "2018-07-10T20:23:51Z", "closed_at": "2018-07-10T20:23:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nI got an error when including PETSc as external dependency. Here is my `meson.build`\r\n```\r\nproject('xxx', 'cpp', default_options : ['cpp_std=c++11'])\r\n\r\npdep = dependency('PETSc')\r\n```\r\nthis is what I get when I run meson\r\n\r\n```The Meson build system\r\nVersion: 0.47.0\r\nSource dir: /some/path/\r\nBuild dir: /some/path/build\r\nBuild type: native build\r\nProject name: xxx\r\nProject version: undefined\r\nNative C++ compiler: icpc (intel 17.0.4 \"icpc (ICC) 17.0.4 20170411\")\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: /usr/bin/pkg-config (0.27.1)\r\n\r\nmeson.build:5:0: ERROR:  Language C++ does not support linking whole archives.\r\n\r\nA full log can be found at /some/path/build/meson-logs/meson-log.txt\r\n```\r\nand the log is\r\n```\r\nBuild started at 2018-07-10T11:48:00.454242\r\nMain binary: /bin/python3\r\nPython system: Linux\r\nThe Meson build system\r\nVersion: 0.47.0\r\nSource dir: /some/path\r\nBuild dir: /some/path/build\r\nBuild type: native build\r\nProject name: xxx\r\nProject version: undefined\r\nSanity testing C++ compiler: icpc\r\nIs cross compiler: False.\r\nSanity check compiler command line: icpc /some/path/build/meson-private/sanitycheckcpp.cc -o /some/path/build/meson-private/sanitycheckcpp.exe\r\nSanity check compile stdout:\r\n\r\n-----\r\nSanity check compile stderr:\r\n\r\n-----\r\nRunning test binary command: /some/path/build/meson-private/sanitycheckcpp.exe\r\nNative C++ compiler: icpc (intel 17.0.4 \"icpc (ICC) 17.0.4 20170411\")\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: /usr/bin/pkg-config (0.27.1)\r\nDetermining dependency 'PETSc' with pkg-config executable '/usr/bin/pkg-config'\r\nCalled `/usr/bin/pkg-config --modversion PETSc` -> 0\r\n3.9.2\r\nCalled `/usr/bin/pkg-config --cflags PETSc` -> 0\r\n-I/...../petsc-3.9.2/arch-linux-c-dbg-g-real-avx-2-512-int64/include\r\nCalled `/usr/bin/pkg-config PETSc --libs` -> 0\r\n-L/...../petsc-3.9.2/arch-linux-c-dbg-g-real-avx-2-512-int64/lib -lpetsc\r\nCalled `/usr/bin/pkg-config PETSc --libs` -> 0\r\n-L/......./petsc-3.9.2/arch-linux-c-dbg-g-real-avx-2-512-int64/lib -lpetsc\r\n\r\nmeson.build:5:0: ERROR:  Language C++ does not support linking whole archives.\r\n```\r\n\r\nhowever, if I issue from the command line\r\n\r\n```\r\nicpc $(pkg-config --cflags --libs PETSc) meson-private/sanitycheckcpp.cc\r\n```\r\nit compiles and links..\r\n\r\nWhat happens inside the call to `dependency`? Why I get that error and how can I solve it?\r\n\r\nthanks\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3862/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3849", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3849/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3849/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3849/events", "html_url": "https://github.com/mesonbuild/meson/issues/3849", "id": 339183254, "node_id": "MDU6SXNzdWUzMzkxODMyNTQ=", "number": 3849, "title": "Meson fails to find dependency even though it does find it", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 850825624, "node_id": "MDU6TGFiZWw4NTA4MjU2MjQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/pkgconfig", "name": "pkgconfig", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-07-07T23:35:50Z", "updated_at": "2018-10-05T13:03:06Z", "closed_at": "2018-10-05T13:03:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've added a new dependency to my build, libcaca:\r\n\r\n```meson\r\ncaca_dep = dependency('caca', version : '>= 0.99.beta14', required : get_option('caca'))\r\n```\r\n\r\n```\r\noption('caca',\r\n    type : 'feature',\r\n    value : 'auto',\r\n    description : 'Enable/disable caca support')\r\n```\r\n\r\nWhen I run `ninja reconfigure` I get:\r\n\r\n```\r\nDependency caca found: NO\r\n```\r\n\r\nyet the meson log has this to say:\r\n\r\n```\r\nDetermining dependency 'caca' with pkg-config executable '/usr/local/bin/pkg-config'\r\nCalled `/usr/local/bin/pkg-config --modversion caca` -> 0\r\n0.99.beta19\r\nDependency caca found: NO\r\n```\r\n\r\nSo clearly it finds it but then it claims it does not?!", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3849/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3841", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3841/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3841/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3841/events", "html_url": "https://github.com/mesonbuild/meson/issues/3841", "id": 338725512, "node_id": "MDU6SXNzdWUzMzg3MjU1MTI=", "number": 3841, "title": "meson install and VisualStudio backend", "user": {"login": "pelijah", "id": 16493991, "node_id": "MDQ6VXNlcjE2NDkzOTkx", "avatar_url": "https://avatars.githubusercontent.com/u/16493991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pelijah", "html_url": "https://github.com/pelijah", "followers_url": "https://api.github.com/users/pelijah/followers", "following_url": "https://api.github.com/users/pelijah/following{/other_user}", "gists_url": "https://api.github.com/users/pelijah/gists{/gist_id}", "starred_url": "https://api.github.com/users/pelijah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pelijah/subscriptions", "organizations_url": "https://api.github.com/users/pelijah/orgs", "repos_url": "https://api.github.com/users/pelijah/repos", "events_url": "https://api.github.com/users/pelijah/events{/privacy}", "received_events_url": "https://api.github.com/users/pelijah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 850882010, "node_id": "MDU6TGFiZWw4NTA4ODIwMTA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/install%20targets", "name": "install targets", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-07-05T21:04:29Z", "updated_at": "2018-08-12T06:25:26Z", "closed_at": "2018-07-27T11:39:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is no `meson-private/install.dat` for VS backend.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3841/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3817", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3817/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3817/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3817/events", "html_url": "https://github.com/mesonbuild/meson/issues/3817", "id": 337277562, "node_id": "MDU6SXNzdWUzMzcyNzc1NjI=", "number": 3817, "title": "Unhandled exception when passing a program object that wasn't found to run_target", "user": {"login": "Akaricchi", "id": 609016, "node_id": "MDQ6VXNlcjYwOTAxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/609016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akaricchi", "html_url": "https://github.com/Akaricchi", "followers_url": "https://api.github.com/users/Akaricchi/followers", "following_url": "https://api.github.com/users/Akaricchi/following{/other_user}", "gists_url": "https://api.github.com/users/Akaricchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akaricchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akaricchi/subscriptions", "organizations_url": "https://api.github.com/users/Akaricchi/orgs", "repos_url": "https://api.github.com/users/Akaricchi/repos", "events_url": "https://api.github.com/users/Akaricchi/events{/privacy}", "received_events_url": "https://api.github.com/users/Akaricchi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 1, "created_at": "2018-07-01T09:33:24Z", "updated_at": "2021-11-21T23:21:45Z", "closed_at": "2021-11-21T23:21:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```meson\r\nproject('bad_run_target', 'c')\r\n\r\nbad_program = find_program('xxxdoesnotexistxxx', required : false)\r\nrun_target('bad target', command : [bad_program])\r\n```\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.47.0.dev1\r\nSource dir: /tmp/mesontest/bad_run_target\r\nBuild dir: /tmp/mesontest/bad_run_target/builddir\r\nBuild type: native build\r\nProject name: bad_run_target\r\nProject version: undefined\r\nNative C compiler: ccache cc (gcc 8.1.1 \"cc (SUSE Linux) 8.1.1 20180523 [gcc-8-branch revision 260570]\")\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram xxxdoesnotexistxxx found: NO\r\nBuild targets in project: 1\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\nTraceback (most recent call last):\r\n  File \"/data/git/meson/mesonbuild/mesonmain.py\", line 339, in run\r\n    app.generate()\r\n  File \"/data/git/meson/mesonbuild/mesonmain.py\", line 114, in generate\r\n    self._generate(env)\r\n  File \"/data/git/meson/mesonbuild/mesonmain.py\", line 163, in _generate\r\n    intr.backend.generate(intr)\r\n  File \"/data/git/meson/mesonbuild/backend/ninjabackend.py\", line 220, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"/data/git/meson/mesonbuild/backend/ninjabackend.py\", line 323, in generate_target\r\n    self.generate_run_target(target, outfile)\r\n  File \"/data/git/meson/mesonbuild/backend/ninjabackend.py\", line 616, in generate_run_target\r\n    cmd = self.replace_paths(target, cmd)\r\n  File \"/data/git/meson/mesonbuild/backend/ninjabackend.py\", line 1880, in replace_paths\r\n    for x in args]\r\n  File \"/data/git/meson/mesonbuild/backend/ninjabackend.py\", line 1880, in <listcomp>\r\n    for x in args]\r\nAttributeError: 'NoneType' object has no attribute 'replace'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3817/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3807", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3807/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3807/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3807/events", "html_url": "https://github.com/mesonbuild/meson/issues/3807", "id": 336958581, "node_id": "MDU6SXNzdWUzMzY5NTg1ODE=", "number": 3807, "title": "find_library does not check that libraries are usable", "user": {"login": "bruce-richardson", "id": 12200944, "node_id": "MDQ6VXNlcjEyMjAwOTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/12200944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bruce-richardson", "html_url": "https://github.com/bruce-richardson", "followers_url": "https://api.github.com/users/bruce-richardson/followers", "following_url": "https://api.github.com/users/bruce-richardson/following{/other_user}", "gists_url": "https://api.github.com/users/bruce-richardson/gists{/gist_id}", "starred_url": "https://api.github.com/users/bruce-richardson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bruce-richardson/subscriptions", "organizations_url": "https://api.github.com/users/bruce-richardson/orgs", "repos_url": "https://api.github.com/users/bruce-richardson/repos", "events_url": "https://api.github.com/users/bruce-richardson/events{/privacy}", "received_events_url": "https://api.github.com/users/bruce-richardson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 3, "created_at": "2018-06-29T11:07:57Z", "updated_at": "2018-07-06T17:40:21Z", "closed_at": "2018-07-06T17:14:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Inside find_library, there is a basic check for a library just linking using \"-l<libname>\". If that fails, then we loop over a set of search directories looking for a copy of the library.\r\n```\r\n\r\n             for suffix in suffixes:\r\n                 for prefix in prefixes:\r\n                     trial = os.path.join(d, prefix + libname + '.' + suffix)\r\n                     if os.path.isfile(trial):\r\n                          return [trial]\r\n```\r\n\r\nunfortunately, this never actually checks that the found library \"trial\" is usable.\r\n\r\nA specific case where this causes problems  is when doing a 32-bit build on a 64-bit system. I have installed libbsd-dev package which gives me the 64-bit libraries but not the 32-bit one. When compiling a 32-bit app, and using find_library(), find_library returns the 64-bit libbsd.a file, which then causes ninja to fail the link when actually building.\r\n\r\nOne potential fix is to check the build with each file. For static archives, a --whole-archive flag will need to be used to actually have the linker check the architecture type if there are no unresolved symbols in the test c code compiled.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3800", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3800/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3800/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3800/events", "html_url": "https://github.com/mesonbuild/meson/issues/3800", "id": 336440883, "node_id": "MDU6SXNzdWUzMzY0NDA4ODM=", "number": 3800, "title": "Messed up linker flags with -frameworks", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 1, "created_at": "2018-06-28T01:25:24Z", "updated_at": "2018-07-01T12:31:43Z", "closed_at": "2018-07-01T12:31:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a .pc file with the following Libs definition:\r\n\r\n```\r\nLibs:  -L/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib -lsoxr \r\n-L/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib -lavcodec\r\n-lvpx -lm -lpthread -lvpx -lm -lpthread -lm -lz -framework AudioToolbox -lgsm -lmp3lame\r\n-lm -lopenjp2 -lm -pthread -framework VideoToolbox -framework CoreFoundation\r\n-framework CoreMedia -framework CoreVideo -framework CoreServices -lavutil\r\n-pthread -lm -framework VideoToolbox -framework CoreFoundation\r\n-framework CoreMedia -framework CoreVideo -framework CoreServices\r\n-L/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib\r\n-lavutil -pthread -lm -framework VideoToolbox -framework CoreFoundation\r\n-framework CoreMedia -framework CoreVideo -framework CoreServices\r\n```\r\n\r\nMeson somehow completely mishandles this and it results in this:\r\n\r\n```\r\ncc  -o modules/libsoxr_plugin.dylib 'modules/modules@@soxr_plugin@sha/audio_filter_resampler_soxr.c.o'\r\n-Wl,-dead_strip_dylibs -Wl,-headerpad_max_install_names -shared\r\n-install_name @rpath/libsoxr_plugin.dylib -mmacosx-version-min=10.10\r\ncompat/libcompat.a src/libvlccore.9.dylib -lm\r\n-L/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib\r\n /Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libsoxr.a\r\n /Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libavcodec.a\r\n /Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libvpx.a -lm -lpthread\r\n /Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libz.a\r\n-framework AudioToolbox\r\n/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libgsm.a \r\n/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libmp3lame.a \r\n/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libopenjp2.a -pthread \r\nVideoToolbox CoreFoundation CoreMedia CoreVideo CoreServices \r\n/Users/epirat/Projects/VideoLAN/VLC/contrib/x86_64-apple-darwin16/lib/libavutil.a\r\n-lm -Wl,-headerpad_max_install_names\r\n-Wl,-rpath,/Users/epirat/Projects/VideoLAN/vlc_meson_build/src  \r\n```\r\n\r\nWhich is obviously incorrect and fails:\r\n\r\n```\r\nclang: error: no such file or directory: 'VideoToolbox'\r\nclang: error: no such file or directory: 'CoreFoundation'\r\nclang: error: no such file or directory: 'CoreMedia'\r\nclang: error: no such file or directory: 'CoreVideo'\r\nclang: error: no such file or directory: 'CoreServices'\r\n```\r\n\r\nI suspect this is a dedupe error or something.\r\n\r\n(The newlines in the codeblocks were added by me, not present in the .pc file or output. It is else just all in one line and very very hard to read properly)", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3800/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3766", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3766/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3766/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3766/events", "html_url": "https://github.com/mesonbuild/meson/issues/3766", "id": 333865816, "node_id": "MDU6SXNzdWUzMzM4NjU4MTY=", "number": 3766, "title": "gdbus-codegen: c-generate-autocleanup not supported by version 2.48.2", "user": {"login": "wberrier", "id": 329898, "node_id": "MDQ6VXNlcjMyOTg5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/329898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wberrier", "html_url": "https://github.com/wberrier", "followers_url": "https://api.github.com/users/wberrier/followers", "following_url": "https://api.github.com/users/wberrier/following{/other_user}", "gists_url": "https://api.github.com/users/wberrier/gists{/gist_id}", "starred_url": "https://api.github.com/users/wberrier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wberrier/subscriptions", "organizations_url": "https://api.github.com/users/wberrier/orgs", "repos_url": "https://api.github.com/users/wberrier/repos", "events_url": "https://api.github.com/users/wberrier/events{/privacy}", "received_events_url": "https://api.github.com/users/wberrier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 1, "created_at": "2018-06-19T22:47:31Z", "updated_at": "2018-06-20T13:27:36Z", "closed_at": "2018-06-20T13:27:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running meson master failed because the version (glib 2.48.2) of gdbus-codegen does not support \"c-generate-autocleanup\".\r\n\r\nNot sure the best way to fix this, but doesn't it seem unreasonable to break LTS distros (Ubuntu 16.04 in this case)?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3766/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3762", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3762/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3762/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3762/events", "html_url": "https://github.com/mesonbuild/meson/issues/3762", "id": 333800680, "node_id": "MDU6SXNzdWUzMzM4MDA2ODA=", "number": 3762, "title": "Invalid 'runpython' dependency added to custom_target", "user": {"login": "nathanm2", "id": 1047805, "node_id": "MDQ6VXNlcjEwNDc4MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1047805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathanm2", "html_url": "https://github.com/nathanm2", "followers_url": "https://api.github.com/users/nathanm2/followers", "following_url": "https://api.github.com/users/nathanm2/following{/other_user}", "gists_url": "https://api.github.com/users/nathanm2/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathanm2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathanm2/subscriptions", "organizations_url": "https://api.github.com/users/nathanm2/orgs", "repos_url": "https://api.github.com/users/nathanm2/repos", "events_url": "https://api.github.com/users/nathanm2/events{/privacy}", "received_events_url": "https://api.github.com/users/nathanm2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 1, "created_at": "2018-06-19T19:07:34Z", "updated_at": "2018-06-26T20:02:04Z", "closed_at": "2018-06-26T20:02:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to build glib on Windows with the meson executable (meson.exe) installed via Meson's MSI installer produces the following:\r\n\r\n```\r\nC:\\Users\\XXXX\\src\\glib>ninja -C meson-build\r\nninja: Entering directory `meson-build'\r\nninja: error: '../runpython', needed by 'gobject/tests/marshalers.c', missing and no known rule to make it\r\n```\r\n\r\nThe generated build.ninja file shows an erroneous '../runpython' dependency:\r\n\r\n```\r\nbuild gobject/tests/marshalers.c: CUSTOM_COMMAND ../gobject/tests/marshalers.list | ../runpython gobject/glib-genmarshal\r\n COMMAND = \"C:/Program$ Files/Meson/meson.exe\" \"runpython\" \"gobject/glib-genmarshal\" \"--prefix=test\" \"--valist-marshallers\" \"--include-header=marshalers.h\" \"--output=gobject/tests/marshalers.c\" \"--quiet\" \"--body\" \"../gobject/tests/marshalers.list\"\r\n```\r\n\r\n'runpython' seems to be the way that Meson wants to invoke Python 3 when running from within 'meson.exe'.\r\n\r\nI found this in Meson's mesonbuild/mesonlib.py:\r\n\r\n```\r\nif os.path.basename(sys.executable) == 'meson.exe':\r\n    # In Windows and using the MSI installed executable.\r\n    python_command = [sys.executable, 'runpython']\r\nelse:\r\n    python_command = [sys.executable]\r\nmeson_command = None\r\n```\r\n\r\nWithin the glib build, the python module is resolved in the top-level meson.build:\r\n\r\n```\r\npython = import('python3').find_python()\r\n```\r\n\r\nIt's later referenced inside gobject/tests/meson.build:\r\n\r\n```\r\nmarshalers_c = custom_target('marshalers_c',\r\n  output : 'marshalers.c',\r\n  input : 'marshalers.list',\r\n  command : [\r\n    python, glib_genmarshal,\r\n    '--prefix=test',\r\n    '--valist-marshallers',\r\n    '--include-header=marshalers.h',\r\n    '--output=@OUTPUT@',\r\n    '--quiet',\r\n    '--body',\r\n    '@INPUT@',\r\n  ],\r\n)\r\n```\r\n\r\nOn the surface this appears to be a Meson issue, but perhaps the glib build should be structured differently?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3761", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3761/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3761/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3761/events", "html_url": "https://github.com/mesonbuild/meson/issues/3761", "id": 333758107, "node_id": "MDU6SXNzdWUzMzM3NTgxMDc=", "number": 3761, "title": "environment().append does not append", "user": {"login": "lazka", "id": 991986, "node_id": "MDQ6VXNlcjk5MTk4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/991986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazka", "html_url": "https://github.com/lazka", "followers_url": "https://api.github.com/users/lazka/followers", "following_url": "https://api.github.com/users/lazka/following{/other_user}", "gists_url": "https://api.github.com/users/lazka/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazka/subscriptions", "organizations_url": "https://api.github.com/users/lazka/orgs", "repos_url": "https://api.github.com/users/lazka/repos", "events_url": "https://api.github.com/users/lazka/events{/privacy}", "received_events_url": "https://api.github.com/users/lazka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-19T16:58:41Z", "updated_at": "2018-06-20T13:27:36Z", "closed_at": "2018-06-20T13:27:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Maybe I'm missing something. I expected the example to print `BAR:QUUX`, but I get only `QUUX`\r\n\r\n```python\r\nproject('test', 'c', 'cpp',\r\n  version : '1.0',\r\n  meson_version : '>= 0.46.1',\r\n)\r\n\r\nenv = environment()\r\nenv.append('FOO', 'BAR')\r\nenv.append('FOO', 'QUUX')\r\n\r\ntest('test', find_program('python3'), args: ['-c', 'import os; assert 0, os.environ[\"FOO\"]'], env: env)\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3754", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3754/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3754/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3754/events", "html_url": "https://github.com/mesonbuild/meson/issues/3754", "id": 333270858, "node_id": "MDU6SXNzdWUzMzMyNzA4NTg=", "number": 3754, "title": "dependency('', fallback: ['something', 'dep']) doesn't look for the fallback", "user": {"login": "ystreet", "id": 1631425, "node_id": "MDQ6VXNlcjE2MzE0MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1631425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ystreet", "html_url": "https://github.com/ystreet", "followers_url": "https://api.github.com/users/ystreet/followers", "following_url": "https://api.github.com/users/ystreet/following{/other_user}", "gists_url": "https://api.github.com/users/ystreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ystreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ystreet/subscriptions", "organizations_url": "https://api.github.com/users/ystreet/orgs", "repos_url": "https://api.github.com/users/ystreet/repos", "events_url": "https://api.github.com/users/ystreet/events{/privacy}", "received_events_url": "https://api.github.com/users/ystreet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-06-18T13:31:17Z", "updated_at": "2018-10-23T01:02:39Z", "closed_at": "2018-10-23T01:02:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As it says on the tin nothing is output about the dependency or looking for the fallback subproject if the '' dependency is searched for.\r\n\r\nChanging the dependency name to some not-found dependency results in:\r\n```\r\nDependency no-find found: NO\r\nAlso couldn't find a fallback subproject in subprojects/something for the dependency no-find \r\nReason: Subproject directory 'subprojects/something' does not exist and cannot be downloaded:\r\nNo something.wrap found for 'subprojects/something'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3754/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3738", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3738/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3738/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3738/events", "html_url": "https://github.com/mesonbuild/meson/issues/3738", "id": 332100809, "node_id": "MDU6SXNzdWUzMzIxMDA4MDk=", "number": 3738, "title": "Doesn't warn cleanly about missing dependency for gtk-doc", "user": {"login": "hadess", "id": 769861, "node_id": "MDQ6VXNlcjc2OTg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/769861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hadess", "html_url": "https://github.com/hadess", "followers_url": "https://api.github.com/users/hadess/followers", "following_url": "https://api.github.com/users/hadess/following{/other_user}", "gists_url": "https://api.github.com/users/hadess/gists{/gist_id}", "starred_url": "https://api.github.com/users/hadess/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hadess/subscriptions", "organizations_url": "https://api.github.com/users/hadess/orgs", "repos_url": "https://api.github.com/users/hadess/repos", "events_url": "https://api.github.com/users/hadess/events{/privacy}", "received_events_url": "https://api.github.com/users/hadess/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-06-13T17:56:55Z", "updated_at": "2020-05-13T18:31:08Z", "closed_at": "2020-05-13T18:31:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using meson 0.45.1, I get this traceback instead of a nice warning telling me that gtk-doc isn't installed when generating docs in libfprint.\r\n\r\n```\r\nBuilding documentation for libfprint\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/meson\", line 26, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/bin/meson\", line 23, in main\r\n    return mesonmain.run(sys.argv[1:], launcher)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 318, in run\r\n    sys.exit(run_script_command(args[1:]))\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 274, in run_script_command\r\n    return cmdfunc(cmdargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/scripts/gtkdochelper.py\", line 231, in run\r\n    options.mode)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/scripts/gtkdochelper.py\", line 113, in build_gtkdoc\r\n    gtkdoc_run_check(scan_cmd, abs_out)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/scripts/gtkdochelper.py\", line 55, in gtkdoc_run_check\r\n    p, out = Popen_safe(cmd, cwd=cwd, env=env, stderr=subprocess.STDOUT)[0:2]\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonlib.py\", line 721, in Popen_safe\r\n    stderr=stderr, **kwargs)\r\n  File \"/usr/lib64/python3.6/subprocess.py\", line 709, in __init__\r\n    restore_signals, start_new_session)\r\n  File \"/usr/lib64/python3.6/subprocess.py\", line 1344, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg, err_filename)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'gtkdoc-scan': 'gtkdoc-scan'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3738/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3738/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3737", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3737/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3737/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3737/events", "html_url": "https://github.com/mesonbuild/meson/issues/3737", "id": 331722715, "node_id": "MDU6SXNzdWUzMzE3MjI3MTU=", "number": 3737, "title": "Bad interaction with cross file and find_program()", "user": {"login": "rossburton", "id": 32394, "node_id": "MDQ6VXNlcjMyMzk0", "avatar_url": "https://avatars.githubusercontent.com/u/32394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rossburton", "html_url": "https://github.com/rossburton", "followers_url": "https://api.github.com/users/rossburton/followers", "following_url": "https://api.github.com/users/rossburton/following{/other_user}", "gists_url": "https://api.github.com/users/rossburton/gists{/gist_id}", "starred_url": "https://api.github.com/users/rossburton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rossburton/subscriptions", "organizations_url": "https://api.github.com/users/rossburton/orgs", "repos_url": "https://api.github.com/users/rossburton/repos", "events_url": "https://api.github.com/users/rossburton/events{/privacy}", "received_events_url": "https://api.github.com/users/rossburton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 0, "created_at": "2018-06-12T19:31:16Z", "updated_at": "2018-07-01T13:59:49Z", "closed_at": "2018-07-01T13:59:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Because it's generated, my cross file often contains arguments to commands.  To make things easier, all items are written as lists.  For example:\r\n\r\n```\r\n[binaries]\r\nnm = ['my-nm']\r\n```\r\n\r\nI believe this is fine because we've done this for a while to pass CFLAGS and so on.\r\n\r\nHowever if meson.build does find_program('nm').path(), you get a exception from inside posixpath.\r\n\r\n```\r\n| Traceback (most recent call last):\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 376, in run\r\n|     app.generate()\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 134, in generate\r\n|     self._generate(env)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 185, in _generate\r\n|     intr.run()\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 3261, in run\r\n|     super().run()\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 215, in run\r\n|     self.evaluate_codeblock(self.ast, start=1)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 239, in evaluate_codeblock\r\n|     raise e\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 231, in evaluate_codeblock\r\n|     self.evaluate_statement(cur)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 248, in evaluate_statement\r\n|     return self.method_call(cur)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 529, in method_call\r\n|     (args, kwargs) = self.reduce_arguments(args)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 688, in reduce_arguments\r\n|     reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 688, in <listcomp>\r\n|     reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 248, in evaluate_statement\r\n|     return self.method_call(cur)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 514, in method_call\r\n|     obj = self.evaluate_statement(invokable)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 244, in evaluate_statement\r\n|     return self.function_call(cur)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 504, in function_call\r\n|     return func(node, posargs, kwargs)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 99, in wrapped\r\n|     return f(s, node_or_state, args, kwargs)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2417, in func_find_program\r\n|     return self.find_program_impl(args, native=use_native, required=required, silent=False)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2396, in find_program_impl\r\n|     progobj = self.program_from_cross_file(args, silent=silent)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2335, in program_from_cross_file\r\n|     extprog = dependencies.ExternalProgram(exename, silent=silent)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/dependencies/base.py\", line 747, in __init__\r\n|     self.command = self._search(name, search_dir)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/site-packages/mesonbuild/dependencies/base.py\", line 881, in _search\r\n|     command = shutil.which(name)\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/shutil.py\", line 1110, in which\r\n|     if os.path.dirname(cmd):\r\n|   File \"/data/poky-tmp/master/work/corei7-64-poky-linux/libdrm/2.4.92-r0/recipe-sysroot-native/usr/lib/python3.5/posixpath.py\", line 148, in dirname\r\n|     i = p.rfind(sep) + 1\r\n| AttributeError: 'list' object has no attribute 'rfind'\r\n```\r\n\r\nChanging the cross to be nm = \"my-nm\" works fine, but I suspect this is a workaround and not a fix.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3737/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3735", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3735/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3735/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3735/events", "html_url": "https://github.com/mesonbuild/meson/issues/3735", "id": 331437436, "node_id": "MDU6SXNzdWUzMzE0Mzc0MzY=", "number": 3735, "title": "macOS static linker doesn't support archives that are only aggregates of other static archives", "user": {"login": "justinjoy", "id": 3125172, "node_id": "MDQ6VXNlcjMxMjUxNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3125172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinjoy", "html_url": "https://github.com/justinjoy", "followers_url": "https://api.github.com/users/justinjoy/followers", "following_url": "https://api.github.com/users/justinjoy/following{/other_user}", "gists_url": "https://api.github.com/users/justinjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinjoy/subscriptions", "organizations_url": "https://api.github.com/users/justinjoy/orgs", "repos_url": "https://api.github.com/users/justinjoy/repos", "events_url": "https://api.github.com/users/justinjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/justinjoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-06-12T04:58:17Z", "updated_at": "2022-09-10T00:02:25Z", "closed_at": "2022-09-10T00:02:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found this bug while building libnice on Mac OSX.\r\n\r\n```\r\n[1/67] Linking static target nice/libnice.a.\r\nFAILED: nice/libnice.a\r\nrm -f nice/libnice.a && ar csr nice/libnice.a\r\nar: no archive members specified\r\nusage:  ar -d [-TLsv] archive file ...\r\n\tar -m [-TLsv] archive file ...\r\n\tar -m [-abiTLsv] position archive file ...\r\n\tar -p [-TLsv] archive [file ...]\r\n\tar -q [-cTLsv] archive file ...\r\n\tar -r [-cuTLsv] archive file ...\r\n\tar -r [-abciuTLsv] position archive file ...\r\n\tar -t [-TLsv] archive [file ...]\r\n\tar -x [-ouTLsv] archive [file ...]\r\n```\r\n\r\nActually, `ar` on Mac OSX seems not to support generating a static library without arguments.\r\nHow can I fix or avoid this problem?\r\n\r\n```\r\n $ ar csr libfoo.a\r\nar: no archive members specified\r\nusage:  ar -d [-TLsv] archive file ...\r\n\tar -m [-TLsv] archive file ...\r\n\tar -m [-abiTLsv] position archive file ...\r\n\tar -p [-TLsv] archive [file ...]\r\n\tar -q [-cTLsv] archive file ...\r\n\tar -r [-cuTLsv] archive file ...\r\n\tar -r [-abciuTLsv] position archive file ...\r\n\tar -t [-TLsv] archive [file ...]\r\n\tar -x [-ouTLsv] archive [file ...]\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3735/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3735/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3731", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3731/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3731/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3731/events", "html_url": "https://github.com/mesonbuild/meson/issues/3731", "id": 330997261, "node_id": "MDU6SXNzdWUzMzA5OTcyNjE=", "number": 3731, "title": "get_define should raise a better Error if compiler does not support it.", "user": {"login": "behlec", "id": 33778676, "node_id": "MDQ6VXNlcjMzNzc4Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/33778676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behlec", "html_url": "https://github.com/behlec", "followers_url": "https://api.github.com/users/behlec/followers", "following_url": "https://api.github.com/users/behlec/following{/other_user}", "gists_url": "https://api.github.com/users/behlec/gists{/gist_id}", "starred_url": "https://api.github.com/users/behlec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behlec/subscriptions", "organizations_url": "https://api.github.com/users/behlec/orgs", "repos_url": "https://api.github.com/users/behlec/repos", "events_url": "https://api.github.com/users/behlec/events{/privacy}", "received_events_url": "https://api.github.com/users/behlec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-10T19:51:18Z", "updated_at": "2018-06-18T07:52:16Z", "closed_at": "2018-06-18T07:52:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If one calls `get_define` for the rust compiler the result is a backtrace. We should check if the compiler  has `get_define` defined and raise a better error message if not.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3731/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3720", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3720/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3720/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3720/events", "html_url": "https://github.com/mesonbuild/meson/issues/3720", "id": 330786333, "node_id": "MDU6SXNzdWUzMzA3ODYzMzM=", "number": 3720, "title": "CLFAGS/LDFLAGS ignored for compiler has_function / find_library and other tests", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-06-08T20:04:07Z", "updated_at": "2018-10-05T13:04:04Z", "closed_at": "2018-10-05T13:04:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Setting CLFAGS and LDFLAGS in the env are ignored for compiler tests like `has_function` and `find_library`, which can cause misleading results for those, like not finding a library or function during the checks that would be found during \"normal\" compilation.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3720/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3707", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3707/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3707/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3707/events", "html_url": "https://github.com/mesonbuild/meson/issues/3707", "id": 330221967, "node_id": "MDU6SXNzdWUzMzAyMjE5Njc=", "number": 3707, "title": "nasm test case failure in configure_file", "user": {"login": "ystreet", "id": 1631425, "node_id": "MDQ6VXNlcjE2MzE0MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1631425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ystreet", "html_url": "https://github.com/ystreet", "followers_url": "https://api.github.com/users/ystreet/followers", "following_url": "https://api.github.com/users/ystreet/following{/other_user}", "gists_url": "https://api.github.com/users/ystreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ystreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ystreet/subscriptions", "organizations_url": "https://api.github.com/users/ystreet/orgs", "repos_url": "https://api.github.com/users/ystreet/repos", "events_url": "https://api.github.com/users/ystreet/events{/privacy}", "received_events_url": "https://api.github.com/users/ystreet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-06-07T10:59:32Z", "updated_at": "2018-06-18T04:58:20Z", "closed_at": "2018-06-18T04:58:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running the test case as of master today results in a failure in the recently added nasm configure_file test case.\r\n\r\nLog is \r\n```\r\nThe Meson build system\r\nVersion: 0.47.0.dev1\r\nSource dir: /home/matt/Projects/gst/gst-build/meson/test cases/nasm/1 configure file\r\nBuild dir: /home/matt/Projects/gst/gst-build/meson/b 8fd956165c\r\nBuild type: native build\r\nProject name: nasm config file\r\nProject version: undefined\r\nNative C compiler: cc (gcc 7.3.1 \"cc (GCC) 7.3.1 20180406\")\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram nasm found: YES (/usr/bin/nasm)\r\nConfiguring config.asm using configuration\r\nBuild targets in project: 1\r\nMinimum version of features used:\r\n0.41.0: {'custom pkgconfig variables', 'Optional fallback in vcs_tag'}\r\n0.42.0: {'SIMD module'}\r\n0.44.0: {'get_configtool_variable'}\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\n[0/1] Regenerating build files.\r\nThe Meson build system\r\nVersion: 0.47.0.dev1\r\nSource dir: /home/matt/Projects/gst/gst-build/meson/test cases/nasm/1 configure file\r\nBuild dir: /home/matt/Projects/gst/gst-build/meson/b 8fd956165c\r\nBuild type: native build\r\nProject name: nasm config file\r\nProject version: undefined\r\nNative C compiler: cc (gcc 7.3.1 \"cc (GCC) 7.3.1 20180406\")\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram nasm found: YES (/usr/bin/nasm)\r\nConfiguring config.asm using configuration\r\nBuild targets in project: 1\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\n[1/2] Generating 'hello@exe/hello.o'.\r\n[2/2] Linking target hello.\r\nFAILED: hello \r\ncc  -o hello 'hello@exe/hello.o' -Wl,--no-undefined -Wl,--as-needed  \r\n/usr/bin/ld: hello@exe/hello.o: relocation R_X86_64_32 against `.data' can not be used when making a PIE object; recompile with -fPIC\r\n/usr/bin/ld: final link failed: Nonrepresentable section on output\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n \r\n\r\nninja explain: output build.ninja older than most recent input ../test cases/nasm/1 configure file/meson.build (1528367910 vs 1528367911)\r\nninja explain: output hello@exe/hello.o doesn't exist\r\nninja explain: hello@exe/hello.o is dirty\r\nninja explain: hello is dirty\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3707/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3700", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3700/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3700/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3700/events", "html_url": "https://github.com/mesonbuild/meson/issues/3700", "id": 329707635, "node_id": "MDU6SXNzdWUzMjk3MDc2MzU=", "number": 3700, "title": "subdir_done is not working inside a condition", "user": {"login": "xclaesse", "id": 1379109, "node_id": "MDQ6VXNlcjEzNzkxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1379109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xclaesse", "html_url": "https://github.com/xclaesse", "followers_url": "https://api.github.com/users/xclaesse/followers", "following_url": "https://api.github.com/users/xclaesse/following{/other_user}", "gists_url": "https://api.github.com/users/xclaesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/xclaesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xclaesse/subscriptions", "organizations_url": "https://api.github.com/users/xclaesse/orgs", "repos_url": "https://api.github.com/users/xclaesse/repos", "events_url": "https://api.github.com/users/xclaesse/events{/privacy}", "received_events_url": "https://api.github.com/users/xclaesse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 1, "created_at": "2018-06-06T04:36:27Z", "updated_at": "2018-06-07T12:56:44Z", "closed_at": "2018-06-07T12:56:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "IMO the whole point of subdir_done is to do something like this:\r\n```meson\r\nif not dep.found()\r\n  subdir_done()\r\nendif\r\nexecutable('app', dependencies : dep)\r\n```\r\n\r\nBut it's not working, and app fails to build because dep is not found.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3700/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3697", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3697/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3697/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3697/events", "html_url": "https://github.com/mesonbuild/meson/issues/3697", "id": 329524373, "node_id": "MDU6SXNzdWUzMjk1MjQzNzM=", "number": 3697, "title": "Known issues with the FeatureNew framework", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 6, "created_at": "2018-06-05T16:04:02Z", "updated_at": "2018-07-02T18:03:42Z", "closed_at": "2018-07-02T18:03:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- [x] [FeatureNew prints the same warning twice sometimes](https://github.com/mesonbuild/meson/issues/3660). Fixed in: https://github.com/mesonbuild/meson/pull/3681\r\n- [x] Mention the decorators in `Contributing.md`, fixed in https://github.com/mesonbuild/meson/pull/3823\r\n- [x] [`windows.compile_resources` decorator is broken](https://github.com/mesonbuild/meson/pull/3661#discussion_r192525020). Fixed in: https://github.com/mesonbuild/meson/pull/3681\r\n- [x] [Parent project version is incorrectly used when printing warnings for subprojects](https://github.com/mesonbuild/meson/pull/3661#issuecomment-394190910), fixed in https://github.com/mesonbuild/meson/pull/3823\r\n- [x] [`FeatureNew` usage is always printed in summary, even if no warning is caused](https://github.com/mesonbuild/meson/issues/3660#issuecomment-394974235), fixed in https://github.com/mesonbuild/meson/pull/3681\r\n- [x] Version comparison thinks `0.47` is older than `0.47.0`, fixed in https://github.com/mesonbuild/meson/pull/3681\r\n\r\nCC @Salamandar ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3697/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3690", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3690/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3690/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3690/events", "html_url": "https://github.com/mesonbuild/meson/issues/3690", "id": 329429230, "node_id": "MDU6SXNzdWUzMjk0MjkyMzA=", "number": 3690, "title": "Ternary expression doesn't work inside square braces", "user": {"login": "Hi-Angel", "id": 7935057, "node_id": "MDQ6VXNlcjc5MzUwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7935057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hi-Angel", "html_url": "https://github.com/Hi-Angel", "followers_url": "https://api.github.com/users/Hi-Angel/followers", "following_url": "https://api.github.com/users/Hi-Angel/following{/other_user}", "gists_url": "https://api.github.com/users/Hi-Angel/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hi-Angel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hi-Angel/subscriptions", "organizations_url": "https://api.github.com/users/Hi-Angel/orgs", "repos_url": "https://api.github.com/users/Hi-Angel/repos", "events_url": "https://api.github.com/users/Hi-Angel/events{/privacy}", "received_events_url": "https://api.github.com/users/Hi-Angel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-05T12:16:06Z", "updated_at": "2019-03-02T10:57:39Z", "closed_at": "2019-03-02T10:57:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Steps to reproduce: \r\n\r\n1. Create the following `meson.build`:\r\n\t```\r\n\tproject(\r\n\t  'foo',\r\n\t  'cpp',\r\n\t  version: '0.1.0',\r\n\t)\r\n\r\n\tEXTRA_DEBUG_ARGS = [(get_option('buildtype') == 'debug')? '-g3' : '']\r\n\t```\r\n2. Run `meson build`.\r\n\r\n## Expected: \r\n\r\nA build directory should've been generated\r\n\r\n## Actual:\r\n\r\n\t$ meson build\r\n\tThe Meson build system\r\n\tVersion: 0.46.1\r\n\tSource dir: /home/constantine/Projects/meson-test\r\n\tBuild dir: /home/constantine/Projects/meson-test/build\r\n\tBuild type: native build\r\n\tTraceback (most recent call last):\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 364, in run\r\n\t\tapp.generate()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 135, in generate\r\n\t\tself._generate(env)\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 174, in _generate\r\n\t\tintr = interpreter.Interpreter(b, g)\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 1603, in __init__\r\n\t\tself.load_root_meson_file()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 191, in load_root_meson_file\r\n\t\tself.ast = mparser.Parser(code, self.subdir).parse()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 476, in parse\r\n\t\tblock = self.codeblock()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 712, in codeblock\r\n\t\tcurline = self.line()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 706, in line\r\n\t\treturn self.statement()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 481, in statement\r\n\t\treturn self.e1()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 491, in e1\r\n\t\tvalue = self.e1()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 484, in e1\r\n\t\tleft = self.e2()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 509, in e2\r\n\t\tleft = self.e3()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 518, in e3\r\n\t\tleft = self.e4()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 527, in e4\r\n\t\tleft = self.e5()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 534, in e5\r\n\t\treturn self.e5add()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 537, in e5add\r\n\t\tleft = self.e5sub()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 543, in e5sub\r\n\t\tleft = self.e5mod()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 549, in e5mod\r\n\t\tleft = self.e5mul()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 555, in e5mul\r\n\t\tleft = self.e5div()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 561, in e5div\r\n\t\tleft = self.e6()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 571, in e6\r\n\t\treturn self.e7()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 574, in e7\r\n\t\tleft = self.e8()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 601, in e8\r\n\t\targs = self.args()\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 623, in args\r\n\t\ta = ArgumentNode(s)\r\n\t  File \"/usr/lib/python3.6/site-packages/mesonbuild/mparser.py\", line 383, in __init__\r\n\t\tself.subdir = token.subdir\r\n\tAttributeError: 'TernaryNode' object has no attribute 'subdir'\r\n\r\n\r\n## Additional info:\r\n\r\nA workaround: extracting ternary from the braces works, e.g.: `EXTRA_DEBUG_ARGS = (get_option('buildtype') == 'debug')? ['-g3'] : ['']`\r\n\r\nBug #2404 could be related.\r\n\r\nMeson version: 0.46.1", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3690/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3678", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3678/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3678/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3678/events", "html_url": "https://github.com/mesonbuild/meson/issues/3678", "id": 328850514, "node_id": "MDU6SXNzdWUzMjg4NTA1MTQ=", "number": 3678, "title": "Wrong meson/python for tests", "user": {"login": "cdunn2001", "id": 450656, "node_id": "MDQ6VXNlcjQ1MDY1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/450656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdunn2001", "html_url": "https://github.com/cdunn2001", "followers_url": "https://api.github.com/users/cdunn2001/followers", "following_url": "https://api.github.com/users/cdunn2001/following{/other_user}", "gists_url": "https://api.github.com/users/cdunn2001/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdunn2001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdunn2001/subscriptions", "organizations_url": "https://api.github.com/users/cdunn2001/orgs", "repos_url": "https://api.github.com/users/cdunn2001/repos", "events_url": "https://api.github.com/users/cdunn2001/events{/privacy}", "received_events_url": "https://api.github.com/users/cdunn2001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}, {"id": 850863833, "node_id": "MDU6TGFiZWw4NTA4NjM4MzM=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/meson%20tests", "name": "meson tests", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-06-03T18:25:26Z", "updated_at": "2018-06-03T18:56:43Z", "closed_at": "2018-06-03T18:56:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* https://github.com/open-source-parsers/jsoncpp/blob/master/meson.build\r\n\r\n```sh\r\nrm -rf build-static\r\nmeson --buildtype debug --default-library static . build-static\r\nninja -vv -C build-${LIB_TYPE} test\r\n```\r\n```\r\n[9/10] ccache c++  -o jsoncpp_test 'jsoncpp_test@exe/src_test_lib_json_jsontest.cpp.o' 'jsoncpp_test@exe/src_test_lib_json_main.cpp.o' libjsoncpp.a\r\n[9/10] /usr/local/opt/python/bin/python3.6 -u /usr/local/Cellar/meson/0.44.1_1/libexec/bin/meson test --no-rebuild --print-errorlogs\r\n/usr/local/Cellar/meson/0.44.1_1/libexec/bin/meson <source directory> <build directory>\r\nIf you omit either directory, the current directory is substituted.\r\nRun /usr/local/Cellar/meson/0.44.1_1/libexec/bin/meson --help for more information.\r\nFAILED: meson-test\r\n```\r\nThe problem seems to come from this part of the generated ninja file, `build-static/build.ninja`:\r\n```make\r\n# Test rules\r\n\r\nbuild meson-test: CUSTOM_COMMAND all PHONY\r\n COMMAND = /usr/local/opt/python/bin/python3.6 -u /usr/local/Cellar/meson/0.44.1_1/libexec/bin/meson test --no-rebuild --print-errorlogs\r\n DESC = Running$ all$ tests.\r\n pool = console\r\n\r\nbuild test: phony meson-test\r\n```\r\nIt works fine if I alter that manually to run\r\n```sh\r\nmeson test --no-rebuild --print-errorlogs\r\n```\r\nI am on OSX with up-to-date brew-installed **meson** and **ninja**. More details:\r\n```sh\r\n$ cat /usr/local/bin/meson\r\n#!/bin/bash\r\nPYTHONPATH=\"/usr/local/Cellar/meson/0.44.1_1/lib/python3.6/site-packages\" exec \"/usr/local/Cellar/meson/0.44.1_1/libexec/bin/meson\" \"$@\"\r\n\r\n$ which python3.6\r\n/usr/local/bin/python3.6\r\n\r\n$ greadlink -f /usr/local/bin/python3.6\r\n/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/bin/python3.6\r\n```\r\nThis used to work, and I don't know what changed. How do I convince Meson to generate a ninja file which either uses the correct Python3.6 (not `/usr/local/opt/python/bin/python3.6`) or simply calls `meson test` from my `$PATH`?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3672", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3672/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3672/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3672/events", "html_url": "https://github.com/mesonbuild/meson/issues/3672", "id": 328768627, "node_id": "MDU6SXNzdWUzMjg3Njg2Mjc=", "number": 3672, "title": "Meson misdetects some functions with mingw-w64", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2018-06-02T18:58:02Z", "updated_at": "2020-08-31T19:36:05Z", "closed_at": "2020-08-31T19:36:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Meson detects for example `strndup` as available even though it is not, with mingw-w64 and clang as compiler and lld as linker.\r\n\r\n```\r\nRunning compile:\r\nWorking directory:  /tmp/tmpdupt2xhm\r\nCommand line:  x86_64-w64-mingw32-gcc -L/home/epirat/Documents/Crosscompile/VLC/vlc/contrib/x86_64-w64-mingw32/lib /tmp/tmpdupt2xhm/testfile.c -pipe -o /tmp/tmpdupt2xhm/output.exe -O0 -std=gnu11 \r\n\r\nCode:\r\n #define _REENTRANT 1\r\n#define _THREAD_SAFE 1\r\n#define _GNU_SOURCE 1\r\n#define _POSIX_PTHREAD_SEMANTICS 1\r\n#define __EXTENSIONS__ 1\r\n#define _BSD_SOURCE 1\r\n#define _FILE_OFFSET_BITS 64\r\n#define UNICODE 1\r\n#define _UNICODE 1\r\n#define _WIN32_WINNT 0x0601\r\n#define _WIN32_IE 0x0600\r\n#define __USE_MINGW_ANSI_STDIO 1\r\n#define _ISOC99_SOURCE 1\r\n#define _ISOC11_SOURCE 1\r\n#define _POSIX_SOURCE 1\r\n#define _POSIX_C_SOURCE 200809L\r\n#define _XOPEN_SOURCE 700\r\n#define _XOPEN_SOURCE_EXTENDED 1\r\n#define _BSD_SOURCE 1\r\n#define _SVID_SOURCE 1\r\n#include <string.h>\r\n#include <limits.h>\r\n\r\n        #if defined __stub_strndup || defined __stub___strndup\r\n        fail fail fail this function is not going to work\r\n        #endif\r\n        \r\nint main() {\r\n            void *a = (void*) &strndup;\r\n            long b = (long) a;\r\n            return (int) b;\r\n        }\r\nCompiler stdout:\r\n \r\nCompiler stderr:\r\n /tmp/tmpdupt2xhm/testfile.c:29:32: warning: implicitly declaring library function 'strndup' with type 'char *(const char *, unsigned long long)' [-Wimplicit-function-declaration]\r\n            void *a = (void*) &strndup;\r\n                               ^\r\n/tmp/tmpdupt2xhm/testfile.c:29:32: note: include the header <string.h> or explicitly provide a declaration for 'strndup'\r\n1 warning generated.\r\nlld-link: error: /tmp/testfile-750040.o: undefined symbol: strndup\r\nclang-7.0: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\nRunning compile:\r\nWorking directory:  /tmp/tmpaytbse8x\r\nCommand line:  x86_64-w64-mingw32-gcc -L/home/epirat/Documents/Crosscompile/VLC/vlc/contrib/x86_64-w64-mingw32/lib /tmp/tmpaytbse8x/testfile.c -pipe -o /tmp/tmpaytbse8x/output.exe -O0 -std=gnu11 \r\n\r\nCode:\r\n #define _REENTRANT 1\r\n#define _THREAD_SAFE 1\r\n#define _GNU_SOURCE 1\r\n#define _POSIX_PTHREAD_SEMANTICS 1\r\n#define __EXTENSIONS__ 1\r\n#define _BSD_SOURCE 1\r\n#define _FILE_OFFSET_BITS 64\r\n#define UNICODE 1\r\n#define _UNICODE 1\r\n#define _WIN32_WINNT 0x0601\r\n#define _WIN32_IE 0x0600\r\n#define __USE_MINGW_ANSI_STDIO 1\r\n#define _ISOC99_SOURCE 1\r\n#define _ISOC11_SOURCE 1\r\n#define _POSIX_SOURCE 1\r\n#define _POSIX_C_SOURCE 200809L\r\n#define _XOPEN_SOURCE 700\r\n#define _XOPEN_SOURCE_EXTENDED 1\r\n#define _BSD_SOURCE 1\r\n#define _SVID_SOURCE 1\r\n#include <string.h>\r\n        int main() {\r\n        #ifdef __has_builtin\r\n            #if !__has_builtin(__builtin_strndup)\r\n                #error \"__builtin_strndup not found\"\r\n            #endif\r\n        #elif ! defined(strndup)\r\n            /* Check for __builtin_strndup only if no includes were added to the\r\n             * prefix above, which means no definition of strndup can be found.\r\n             * We would always check for this, but we get false positives on\r\n             * MSYS2 if we do. Their toolchain is broken, but we can at least\r\n             * give them a workaround. */\r\n            #if 0\r\n                __builtin_strndup;\r\n            #else\r\n                #error \"No definition for __builtin_strndup found in the prefix\"\r\n            #endif\r\n        #endif\r\n        }\r\nCompiler stdout:\r\n \r\nCompiler stderr:\r\n \r\nChecking for function \"strndup\": YES\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3672/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3670", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3670/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3670/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3670/events", "html_url": "https://github.com/mesonbuild/meson/issues/3670", "id": 328762354, "node_id": "MDU6SXNzdWUzMjg3NjIzNTQ=", "number": 3670, "title": "Do not use --no-undefined and --as-needed with lld cross-compiling for windows", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-06-02T17:36:09Z", "updated_at": "2018-09-23T18:31:45Z", "closed_at": "2018-09-23T08:23:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When cross-compiling and linking with lld + mingw for Windows, meson links with  `--no-undefined` and `--as-needed`, both of these are not supported.\r\n\r\nMeson should either try if those flags are accepted by the linker before trying to use those or the defaults need adjustment for the case of lld when cross compiling for windows.\r\n\r\n(This can be easily worked around by disabling the flags, so this is not a urgent issue but should eventually be solved.)", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3670/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3670/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3669", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3669/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3669/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3669/events", "html_url": "https://github.com/mesonbuild/meson/issues/3669", "id": 328762014, "node_id": "MDU6SXNzdWUzMjg3NjIwMTQ=", "number": 3669, "title": "add_project_link_arguments adds arguments to native compiler", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/28", "html_url": "https://github.com/mesonbuild/meson/milestone/28", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/28/labels", "id": 3480202, "node_id": "MDk6TWlsZXN0b25lMzQ4MDIwMg==", "number": 28, "title": "0.48.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2018-07-07T14:00:50Z", "updated_at": "2018-09-24T10:15:12Z", "due_on": null, "closed_at": "2018-09-24T10:15:12Z"}, "comments": 10, "created_at": "2018-06-02T17:31:44Z", "updated_at": "2018-08-22T20:23:14Z", "closed_at": "2018-08-22T20:23:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using `add_project_link_arguments` to set linker arguments but those end up applied to the native compiler not the cross-compiler.\r\n\r\nThis is IMO a bit unexpected but I guess changing this is not really possible without breaking things.\r\nSo maybe a `native` kwarg can be added, so that it can be chosen to which compiler the flags will be added.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3663", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3663/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3663/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3663/events", "html_url": "https://github.com/mesonbuild/meson/issues/3663", "id": 328690952, "node_id": "MDU6SXNzdWUzMjg2OTA5NTI=", "number": 3663, "title": "Compiler get_define returns unexpected string value", "user": {"login": "ePirat", "id": 323210, "node_id": "MDQ6VXNlcjMyMzIxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/323210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ePirat", "html_url": "https://github.com/ePirat", "followers_url": "https://api.github.com/users/ePirat/followers", "following_url": "https://api.github.com/users/ePirat/following{/other_user}", "gists_url": "https://api.github.com/users/ePirat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ePirat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ePirat/subscriptions", "organizations_url": "https://api.github.com/users/ePirat/orgs", "repos_url": "https://api.github.com/users/ePirat/repos", "events_url": "https://api.github.com/users/ePirat/events{/privacy}", "received_events_url": "https://api.github.com/users/ePirat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-01T23:47:29Z", "updated_at": "2018-06-12T00:14:55Z", "closed_at": "2018-06-12T00:14:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In specific circumstances, `get_define()` returns weird results, for example:\r\n\r\n```\r\n    mingw_version = cc.get_define('__MINGW64_VERSION_STR',\r\n        prefix : '#include <_mingw.h>')\r\n\r\n    message('Using MinGW-w64 ' + mingw_version)\r\n```\r\n\r\nThis is defines as:\r\n\r\n```c\r\n#define __STRINGIFY(x) #x\r\n#define __MINGW64_STRINGIFY(x) \\\r\n  __STRINGIFY(x)\r\n\r\n#define __MINGW64_VERSION_MAJOR 6\r\n#define __MINGW64_VERSION_MINOR 0\r\n#define __MINGW64_VERSION_BUGFIX 0\r\n\r\n// [\u2026]\r\n\r\n#define __MINGW64_VERSION_STR\t\\\r\n  __MINGW64_STRINGIFY(__MINGW64_VERSION_MAJOR) \\\r\n  \".\" \\\r\n  __MINGW64_STRINGIFY(__MINGW64_VERSION_MINOR) \\\r\n  \".\" \\\r\n  __MINGW64_STRINGIFY(__MINGW64_VERSION_BUGFIX)\r\n```\r\n\r\nSo what I expected was `6.0.0` or `\"6.0.0\"` but instead it is `\"6\" \".\" \"0\" \".\" \"0\"`, which I guess is technically correct but at least for my usecase relatively useless/unreadable and I can't find an easy way to get the \"normalized\" string for this.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3663/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3663/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3662", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3662/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3662/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3662/events", "html_url": "https://github.com/mesonbuild/meson/issues/3662", "id": 328683745, "node_id": "MDU6SXNzdWUzMjg2ODM3NDU=", "number": 3662, "title": "tests compiled even when build_by_default is false", "user": {"login": "mqudsi", "id": 606923, "node_id": "MDQ6VXNlcjYwNjkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mqudsi", "html_url": "https://github.com/mqudsi", "followers_url": "https://api.github.com/users/mqudsi/followers", "following_url": "https://api.github.com/users/mqudsi/following{/other_user}", "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions", "organizations_url": "https://api.github.com/users/mqudsi/orgs", "repos_url": "https://api.github.com/users/mqudsi/repos", "events_url": "https://api.github.com/users/mqudsi/events{/privacy}", "received_events_url": "https://api.github.com/users/mqudsi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-01T22:56:40Z", "updated_at": "2022-01-13T03:50:41Z", "closed_at": "2022-01-13T03:50:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if this is by design, but there doesn't seem to be a way to suppress tests from being compiled by default (vs only when the test target is built/run).\r\n\r\n```python\r\nexe1 = executable('test1, ['test1.cpp'], build_by_default: false)\r\ntest('test1', exe1)\r\n```\r\n\r\n`ninja` here compiles test1 unconditionally. I would expect it to only be compiled when `ninja test` is run.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3662/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3660", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3660/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3660/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3660/events", "html_url": "https://github.com/mesonbuild/meson/issues/3660", "id": 328662491, "node_id": "MDU6SXNzdWUzMjg2NjI0OTE=", "number": 3660, "title": "FeatureNew prints the same warning twice sometimes.", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-06-01T21:12:25Z", "updated_at": "2018-07-02T07:05:22Z", "closed_at": "2018-07-02T07:05:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```meson\r\nproject('featurenew', meson_version: '>=0.43')\r\n\r\ncdata = configuration_data()\r\ncdata.set('FOO', 'bar')\r\nmessage(cdata.get_unquoted('FOO'))\r\n```\r\n\r\nThis outputs:\r\n\r\n```\r\nERROR: Project targetting '>=0.43' but tried to use feature introduced in '0.44.0': get_unquoted\r\nERROR: Project targetting '>=0.43' but tried to use feature introduced in '0.44.0': get_unquoted\r\n```\r\n\r\naka, twice. The backtrace for each via `traceback.print_stack()` is:\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.47.0.dev1\r\nSource dir: C:\\projects\\meson\\meson.git\r\nBuild dir: C:\\projects\\meson\\meson.git\\build\r\nBuild type: native build\r\nProject name: featurenew\r\nProject version: undefined\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\n  File \"./meson.py\", line 29, in <module>\r\n    sys.exit(mesonmain.main())\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 401, in main\r\n    return run(sys.argv[1:], launcher)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 377, in run\r\n    app.generate()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 134, in generate\r\n    self._generate(env)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 185, in _generate\r\n    intr.run()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreter.py\", line 3502, in run\r\n    super().run()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 331, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 347, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 360, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 642, in function_call\r\n    (posargs, kwargs) = self.reduce_arguments(node.args)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 873, in reduce_arguments\r\n    reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 873, in <listcomp>\r\n    reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 364, in evaluate_statement\r\n    return self.method_call(cur)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 686, in method_call\r\n    return obj.method_call(method_name, args, kwargs)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 256, in method_call\r\n    return method(args, kwargs)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 162, in wrapped\r\n    self.use()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 154, in use\r\n    print(traceback.print_stack())\r\nNone\r\nERROR: Project targetting '>=0.43' but tried to use feature introduced in '0.44.0': get_unquoted\r\n  File \"./meson.py\", line 29, in <module>\r\n    sys.exit(mesonmain.main())\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 401, in main\r\n    return run(sys.argv[1:], launcher)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 377, in run\r\n    app.generate()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 134, in generate\r\n    self._generate(env)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\mesonmain.py\", line 185, in _generate\r\n    intr.run()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreter.py\", line 3502, in run\r\n    super().run()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 331, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 347, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 360, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 650, in function_call\r\n    return func(node, posargs, kwargs)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 85, in wrapped\r\n    return f(*wrapped_args, **wrapped_kwargs)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreter.py\", line 2351, in func_message\r\n    argstr = self.get_message_string_arg(node)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreter.py\", line 2331, in get_message_string_arg\r\n    (posargs, _) = self.reduce_arguments(node.args)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 873, in reduce_arguments\r\n    reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 873, in <listcomp>\r\n    reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 364, in evaluate_statement\r\n    return self.method_call(cur)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 686, in method_call\r\n    return obj.method_call(method_name, args, kwargs)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 256, in method_call\r\n    return method(args, kwargs)\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 162, in wrapped\r\n    self.use()\r\n  File \"C:\\projects\\meson\\meson.git\\mesonbuild\\interpreterbase.py\", line 154, in use\r\n    print(traceback.print_stack())\r\nNone\r\nERROR: Project targetting '>=0.43' but tried to use feature introduced in '0.44.0': get_unquoted\r\nMessage: bar\r\nBuild targets in project: 0\r\nMinimum version of features used:\r\n0.44.0: {'get_unquoted'}\r\nFound ninja-1.7.2 at 'C:\\Python36-32\\Scripts\\ninja.EXE'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3660/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3655", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3655/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3655/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3655/events", "html_url": "https://github.com/mesonbuild/meson/issues/3655", "id": 328493063, "node_id": "MDU6SXNzdWUzMjg0OTMwNjM=", "number": 3655, "title": "gdbus_codegen should return two different targets (.c, .h)", "user": {"login": "Salamandar", "id": 6552989, "node_id": "MDQ6VXNlcjY1NTI5ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/6552989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Salamandar", "html_url": "https://github.com/Salamandar", "followers_url": "https://api.github.com/users/Salamandar/followers", "following_url": "https://api.github.com/users/Salamandar/following{/other_user}", "gists_url": "https://api.github.com/users/Salamandar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Salamandar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Salamandar/subscriptions", "organizations_url": "https://api.github.com/users/Salamandar/orgs", "repos_url": "https://api.github.com/users/Salamandar/repos", "events_url": "https://api.github.com/users/Salamandar/events{/privacy}", "received_events_url": "https://api.github.com/users/Salamandar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 2, "created_at": "2018-06-01T12:00:35Z", "updated_at": "2018-06-18T12:00:29Z", "closed_at": "2018-06-18T12:00:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With glib<2.56.2, gdbus_codegen() returns twice the same custom_target, with two outputs.\r\n\r\nA bug occurs when this return value is used for generate_gir(). The source list then contains twice the .c, and zero times the .h\u2026\r\n\r\nMaybe gdbus_codegen() should return two custom_targets, with each one output (once the .c, once the .h).\r\n\r\nEDIT : Actually, after reading the source of generate_gir, I suppose the bug is there.\r\n\r\n```\r\n                    gir_filelist.write(os.path.join(state.environment.get_build_dir(),\r\n                                                    state.backend.get_target_dir(s),\r\n                                                    s.get_outputs()[0]) + '\\n')\r\n```\r\nWhy only `s.get_outputs()[0]` ?\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3655/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3641", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3641/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3641/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3641/events", "html_url": "https://github.com/mesonbuild/meson/issues/3641", "id": 327392938, "node_id": "MDU6SXNzdWUzMjczOTI5Mzg=", "number": 3641, "title": "clang 6.x warning when using precompiled header input with .h extension", "user": {"login": "tycho", "id": 29616, "node_id": "MDQ6VXNlcjI5NjE2", "avatar_url": "https://avatars.githubusercontent.com/u/29616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tycho", "html_url": "https://github.com/tycho", "followers_url": "https://api.github.com/users/tycho/followers", "following_url": "https://api.github.com/users/tycho/following{/other_user}", "gists_url": "https://api.github.com/users/tycho/gists{/gist_id}", "starred_url": "https://api.github.com/users/tycho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tycho/subscriptions", "organizations_url": "https://api.github.com/users/tycho/orgs", "repos_url": "https://api.github.com/users/tycho/repos", "events_url": "https://api.github.com/users/tycho/events{/privacy}", "received_events_url": "https://api.github.com/users/tycho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-29T16:16:45Z", "updated_at": "2019-01-01T16:57:44Z", "closed_at": "2019-01-01T16:57:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "If my precompiled header ends with \".h\", clang assumes the input type is `c-header`, but since Clang is being invoked as `clang++` it knows it needs to treat it as a `c++-header`, but it complains about it:\r\n```\r\nclang-6.0: warning: treating 'c-header' input as 'c++-header' when in C++ mode, this behavior is deprecated [-Wdeprecated]\r\n```\r\nIt looks like meson needs to be adding `-x c++-header` to the compile command for the precompiled header, since it already does know the what language the precompiled header is for anyway.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3641/reactions", "total_count": 4, "+1": 3, "-1": 1, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3641/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3630", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3630/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3630/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3630/events", "html_url": "https://github.com/mesonbuild/meson/issues/3630", "id": 326573708, "node_id": "MDU6SXNzdWUzMjY1NzM3MDg=", "number": 3630, "title": "windows msvc cross-compilation uses wrong link.exe", "user": {"login": "exhu", "id": 884304, "node_id": "MDQ6VXNlcjg4NDMwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/884304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exhu", "html_url": "https://github.com/exhu", "followers_url": "https://api.github.com/users/exhu/followers", "following_url": "https://api.github.com/users/exhu/following{/other_user}", "gists_url": "https://api.github.com/users/exhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/exhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exhu/subscriptions", "organizations_url": "https://api.github.com/users/exhu/orgs", "repos_url": "https://api.github.com/users/exhu/repos", "events_url": "https://api.github.com/users/exhu/events{/privacy}", "received_events_url": "https://api.github.com/users/exhu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-05-25T15:40:30Z", "updated_at": "2022-11-09T18:40:37Z", "closed_at": "2022-11-09T18:40:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given a path to \"cl.exe\" in the cross-file, it uses this \"cl.exe\" but links program using default link.exe rather than that from the path to cl, so the final program fails to link.\r\n``\r\n[binaries]\r\nc = 'C:\\\\\\\\Program Files (x86)\\\\\\\\Microsoft Visual Studio\\\\\\\\2017\\\\\\\\Professional\\\\\\\\VC\\\\\\\\Tools\\\\\\\\MSVC\\\\\\\\14.11.25503\\\\\\\\bin\\\\\\\\Hostx64\\\\\\\\x86\\\\\\\\cl'", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3630/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3629", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3629/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3629/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3629/events", "html_url": "https://github.com/mesonbuild/meson/issues/3629", "id": 326572775, "node_id": "MDU6SXNzdWUzMjY1NzI3NzU=", "number": 3629, "title": "windows msvc cross-compilation linker arguments are wrong for sanity-check", "user": {"login": "exhu", "id": 884304, "node_id": "MDQ6VXNlcjg4NDMwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/884304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exhu", "html_url": "https://github.com/exhu", "followers_url": "https://api.github.com/users/exhu/followers", "following_url": "https://api.github.com/users/exhu/following{/other_user}", "gists_url": "https://api.github.com/users/exhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/exhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exhu/subscriptions", "organizations_url": "https://api.github.com/users/exhu/orgs", "repos_url": "https://api.github.com/users/exhu/repos", "events_url": "https://api.github.com/users/exhu/events{/privacy}", "received_events_url": "https://api.github.com/users/exhu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-25T15:37:36Z", "updated_at": "2019-07-10T23:06:06Z", "closed_at": "2019-07-10T23:06:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "given a cross-file:\r\n``\r\n[binaries]\r\nc = 'C:\\\\\\\\Program Files (x86)\\\\\\\\Microsoft Visual Studio\\\\\\\\2017\\\\\\\\Professional\\\\\\\\VC\\\\\\\\Tools\\\\\\\\MSVC\\\\\\\\14.11.25503\\\\\\\\bin\\\\\\\\Hostx64\\\\\\\\x86\\\\\\\\cl'\r\n\r\n\r\n[properties]\r\nc_link_args = ['/LIBPATH:C:\\\\\\\\Program Files (x86)\\\\\\\\Microsoft Visual Studio\\\\\\\\2017\\\\\\\\Professional\\\\\\\\VC\\\\\\\\Tools\\\\\\\\MSVC\\\\\\\\14.11.25503\\\\\\\\lib\\\\\\\\x86',\r\n    '/LIBPATH:C:\\\\\\\\Program Files (x86)\\\\\\\\Windows Kits\\\\\\\\NETFXSDK\\\\\\\\4.6.1\\\\\\\\lib\\\\\\\\um\\\\\\\\x86',\r\n    '/LIBPATH:C:\\\\\\\\Program Files (x86)\\\\\\\\Windows Kits\\\\\\\\10\\\\\\\\lib\\\\\\\\10.0.16299.0\\\\\\\\ucrt\\\\\\\\x86',\r\n    '/LIBPATH:C:\\\\\\\\Program Files (x86)\\\\\\\\Windows Kits\\\\\\\\10\\\\\\\\lib\\\\\\\\10.0.16299.0\\\\\\\\um\\\\\\\\x86',\r\n    '/MACHINE:X86']\r\n``\r\n\r\nit tries to run cl.exe sanity-check.c with linker arguments which are not recognized (linker arguments must be prefixed with /link and passed after all other options and source files) ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3629/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3574", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3574/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3574/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3574/events", "html_url": "https://github.com/mesonbuild/meson/issues/3574", "id": 323470704, "node_id": "MDU6SXNzdWUzMjM0NzA3MDQ=", "number": 3574, "title": "gnome.generate_gir appends @rpath erroneously", "user": {"login": "matthewbauer", "id": 19036, "node_id": "MDQ6VXNlcjE5MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/19036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewbauer", "html_url": "https://github.com/matthewbauer", "followers_url": "https://api.github.com/users/matthewbauer/followers", "following_url": "https://api.github.com/users/matthewbauer/following{/other_user}", "gists_url": "https://api.github.com/users/matthewbauer/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewbauer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewbauer/subscriptions", "organizations_url": "https://api.github.com/users/matthewbauer/orgs", "repos_url": "https://api.github.com/users/matthewbauer/repos", "events_url": "https://api.github.com/users/matthewbauer/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewbauer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-05-16T05:09:47Z", "updated_at": "2018-08-14T23:34:30Z", "closed_at": "2018-08-14T23:34:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "The file for shared-library will not exist in Meson's handling of it. The path should be absolute, but Meson will add on @rpath to it.\r\n\r\nThis is the definition for ATK:\r\n\r\n```\r\n<?xml version=\"1.0\"?>\r\n<!-- This file was automatically generated from C sources - DO NOT EDIT!\r\nTo affect the contents of this file, edit the original C definitions,\r\nand/or use gtk-doc annotations.  -->\r\n<repository version=\"1.2\"\r\n            xmlns=\"http://www.gtk.org/introspection/core/1.0\"\r\n            xmlns:c=\"http://www.gtk.org/introspection/c/1.0\"\r\n            xmlns:glib=\"http://www.gtk.org/introspection/glib/1.0\">\r\n  <include name=\"GObject\" version=\"2.0\"/>\r\n  <package name=\"atk\"/>\r\n  <c:include name=\"atk/atk.h\"/>\r\n  <namespace name=\"Atk\"\r\n             version=\"1.0\"\r\n             shared-library=\"/nix/store/3y2alx23lizpj0pqsz8g9ydfcmw6b3qs-atk-2.28.1/lib/@rpath/libatk-1.0.0.dylib\"\r\n             c:identifier-prefixes=\"Atk\"\r\n             c:symbol-prefixes=\"atk\">\r\n    <alias name=\"AttributeSet\" c:type=\"AtkAttributeSet\">\r\n      <doc xml:space=\"preserve\">This is a singly-linked list (a #GSList) of #AtkAttribute. It is\r\nused by atk_text_get_run_attributes(),\r\natk_text_get_default_attributes(),\r\natk_editable_text_set_run_attributes(),\r\natk_document_get_attributes() and atk_object_get_attributes()</doc>\r\n      <type name=\"GLib.SList\" c:type=\"GSList\"/>\r\n    </alias>\r\n...\r\n```\r\n\r\nNotice the @rpath for shared-library definition.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3569", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3569/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3569/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3569/events", "html_url": "https://github.com/mesonbuild/meson/issues/3569", "id": 323023899, "node_id": "MDU6SXNzdWUzMjMwMjM4OTk=", "number": 3569, "title": "PermissionError when a test times out in OpenBSD", "user": {"login": "kernigh", "id": 1202850, "node_id": "MDQ6VXNlcjEyMDI4NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1202850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kernigh", "html_url": "https://github.com/kernigh", "followers_url": "https://api.github.com/users/kernigh/followers", "following_url": "https://api.github.com/users/kernigh/following{/other_user}", "gists_url": "https://api.github.com/users/kernigh/gists{/gist_id}", "starred_url": "https://api.github.com/users/kernigh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kernigh/subscriptions", "organizations_url": "https://api.github.com/users/kernigh/orgs", "repos_url": "https://api.github.com/users/kernigh/repos", "events_url": "https://api.github.com/users/kernigh/events{/privacy}", "received_events_url": "https://api.github.com/users/kernigh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 680510296, "node_id": "MDU6TGFiZWw2ODA1MTAyOTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:*BSD", "name": "OS:*BSD", "color": "990000", "default": false, "description": "Issues specific to one of the BSD Operating Systems"}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-05-15T00:14:42Z", "updated_at": "2018-05-29T00:14:54Z", "closed_at": "2018-05-29T00:14:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I run OpenBSD/amd64 6.3. This issue happened with OpenBSD's package of meson 0.45.0 and still happens with meson 0.47.0.dev1 from commit 8a9f7cf.\r\n\r\nWhen a test times out, Meson shows a PermissionError, then gets stuck until the test finishes, then exits. Meson doesn't kill the test, doesn't give the name of the timed-out test, and doesn't run any more tests. While Meson is stuck, it ignores ^C SIGINT, but I can still use ^Z SIGTSTP to get a shell prompt. If the test doesn't finish, I need SIGTERM to kill Meson.\r\n\r\nTo reproduce, write a test that times out, as in this *meson.build* file:\r\n\r\n```\r\nproject('example')\r\nsleep = find_program('sleep')\r\ntest('siesta', sleep, args: '2', timeout: 1)\r\n```\r\n\r\nThen try to run it:\r\n\r\n```\r\n$ meson build\r\nThe Meson build system\r\nVersion: 0.47.0.dev1\r\nSource dir: /home/kernigh/park/example\r\nBuild dir: /home/kernigh/park/example/build\r\nBuild type: native build\r\nProject name: example\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram sleep found: YES (/bin/sleep)\r\nBuild targets in project: 0\r\nFound ninja-1.8.2 at /usr/local/bin/ninja\r\n$ ninja -C build test\r\nninja: Entering directory `build'                                              \r\n[0/1] Running all tests.\r\nTraceback (most recent call last):\r\n  File \"/home/kernigh/bin/meson\", line 26, in <module>                         \r\n    sys.exit(main())                                                           \r\n  File \"/home/kernigh/bin/meson\", line 23, in main                             \r\n    return mesonmain.run(sys.argv[1:], launcher)                               \r\n  File \"/home/kernigh/park/meson/mesonbuild/mesonmain.py\", line 290, in run    \r\n    return mtest.run(remaining_args)                                           \r\n  File \"/home/kernigh/park/meson/mesonbuild/mtest.py\", line 712, in run        \r\n    return th.doit()                                                           \r\n  File \"/home/kernigh/park/meson/mesonbuild/mtest.py\", line 463, in doit       \r\n    self.run_tests(tests)                                                      \r\n  File \"/home/kernigh/park/meson/mesonbuild/mtest.py\", line 621, in run_tests  \r\n    self.drain_futures(futures)\r\n  File \"/home/kernigh/park/meson/mesonbuild/mtest.py\", line 637, in drain_future\r\ns                        \r\n    self.process_test_result(result.result())                                  \r\n  File \"/usr/local/lib/python3.6/concurrent/futures/_base.py\", line 432, in resu\r\nlt                                                                             \r\n    return self.__get_result() \r\n  File \"/usr/local/lib/python3.6/concurrent/futures/_base.py\", line 384, in __ge\r\nt_result                \r\n    raise self._exception         \r\n  File \"/usr/local/lib/python3.6/concurrent/futures/thread.py\", line 56, in run\r\n    result = self.fn(*self.args, **self.kwargs)                                \r\n  File \"/home/kernigh/park/meson/mesonbuild/mtest.py\", line 232, in run        \r\n    return self._run_cmd(wrap + cmd + self.test.cmd_args + self.options.test_arg\r\ns)                                                                             \r\n  File \"/home/kernigh/park/meson/mesonbuild/mtest.py\", line 307, in _run_cmd   \r\n    os.killpg(os.getpgid(p.pid), signal.SIGKILL)                               \r\nPermissionError: [Errno 1] Operation not permitted                             \r\nFAILED: meson-test                                                             \r\n/usr/local/bin/python3 -u /home/kernigh/bin/meson test --no-rebuild --print-erro\r\nrlogs                                                                          \r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nThe traceback suggests that getpgid(2) or killpg(3) failed. I trace the system calls with `ktrace -i ninja -C build test` and `kdump`. The trace shows that getpgid(2) failed:\r\n\r\n```\r\n 24750 python3.6 CALL  fork()\r\n 24750 python3.6 RET   fork 58015/0xe29f\r\n 58015 python3.6 RET   fork 0\r\n...\r\n 58015 python3.6 CALL  setsid()\r\n 58015 python3.6 RET   setsid 58015/0xe29f\r\n...\r\n 58015 python3.6 CALL  execve(0x1ee0c4ca3630,0x1ee0c4c7bfd8,0x1ee0f7c09158)\r\n 58015 python3.6 NAMI  \"/bin/sleep\"\r\n 58015 python3.6 ARGS  \r\n        [0] = \"/bin/sleep\"\r\n        [1] = \"2\"\r\n 58015 sleep    RET   execve 0\r\n...\r\n 24750 python3.6 CALL  getpgid(58015)\r\n 24750 python3.6 RET   getpgid -1 errno 1 Operation not permitted\r\n```\r\n\r\nOpenBSD's manual for [getpgid(2)](https://man.openbsd.org/getpgid) says,\r\n\r\n```\r\n     [EPERM]            The current process and the process pid are not in the\r\n                        same session.\r\n```\r\n\r\nThe child had called setsid(2) before it executed /bin/sleep, so the parent and child were not in the same session. Therefore, the parent's call to getpgid(2) failed.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3568", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3568/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3568/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3568/events", "html_url": "https://github.com/mesonbuild/meson/issues/3568", "id": 322987364, "node_id": "MDU6SXNzdWUzMjI5ODczNjQ=", "number": 3568, "title": "Meson doesn't handle 'link_args' correctly for non-gnu D compilers", "user": {"login": "FFY00", "id": 11718923, "node_id": "MDQ6VXNlcjExNzE4OTIz", "avatar_url": "https://avatars.githubusercontent.com/u/11718923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FFY00", "html_url": "https://github.com/FFY00", "followers_url": "https://api.github.com/users/FFY00/followers", "following_url": "https://api.github.com/users/FFY00/following{/other_user}", "gists_url": "https://api.github.com/users/FFY00/gists{/gist_id}", "starred_url": "https://api.github.com/users/FFY00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FFY00/subscriptions", "organizations_url": "https://api.github.com/users/FFY00/orgs", "repos_url": "https://api.github.com/users/FFY00/repos", "events_url": "https://api.github.com/users/FFY00/events{/privacy}", "received_events_url": "https://api.github.com/users/FFY00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 933684701, "node_id": "MDU6TGFiZWw5MzM2ODQ3MDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:D", "name": "language:D", "color": "a40000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-05-14T21:24:39Z", "updated_at": "2018-09-03T16:30:52Z", "closed_at": "2018-09-03T16:30:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Sample config\r\n```\r\nproject('test-project', 'd')\r\n\r\nlibabc_dep = dependency('libabc')\r\n\r\ntest_exe = executable('test', 'app.d',\r\n                        #d_args: ['-I/usr/include', '-L/usr/lib'],\r\n                        dependencies: libabc_dep\r\n)\r\n```\r\nWhen compiling the `test_exe` target, the compiler fails to add the arguments specified in the pkgconfig (usually, `-I/usr/include` and `-L/usr/lib`). If I add the right arguments to `d_args`, as shown in the commented code, it works.\r\n\r\nI have only tried to link dependencies provided by pkgconfig. I also tried compiling with both LDC and DMD, same result.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3558", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3558/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3558/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3558/events", "html_url": "https://github.com/mesonbuild/meson/issues/3558", "id": 321823333, "node_id": "MDU6SXNzdWUzMjE4MjMzMzM=", "number": 3558, "title": "wrap/wrapb version ordering wrong", "user": {"login": "fzwoch", "id": 439605, "node_id": "MDQ6VXNlcjQzOTYwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/439605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fzwoch", "html_url": "https://github.com/fzwoch", "followers_url": "https://api.github.com/users/fzwoch/followers", "following_url": "https://api.github.com/users/fzwoch/following{/other_user}", "gists_url": "https://api.github.com/users/fzwoch/gists{/gist_id}", "starred_url": "https://api.github.com/users/fzwoch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fzwoch/subscriptions", "organizations_url": "https://api.github.com/users/fzwoch/orgs", "repos_url": "https://api.github.com/users/fzwoch/repos", "events_url": "https://api.github.com/users/fzwoch/events{/privacy}", "received_events_url": "https://api.github.com/users/fzwoch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 1, "created_at": "2018-05-10T06:23:44Z", "updated_at": "2018-06-18T11:17:51Z", "closed_at": "2018-06-18T11:17:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have manually downloaded the `zlib 1.11.2 1` wrap from wrapdb. Running `meson wrap status` yields in the following output:\r\n\r\n```shell\r\n$ meson wrap status\r\nSubproject status\r\n zlib not up to date. Have 1.2.11 1, but 1.2.8 8 is available.\r\n```\r\n\r\nNot sure how things are sorted by wrap/wrapdb, But for me 1.2.11 seems more recent than 1.2.8 and the downgrade is probbaly not what I want.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3558/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3538", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3538/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3538/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3538/events", "html_url": "https://github.com/mesonbuild/meson/issues/3538", "id": 320579934, "node_id": "MDU6SXNzdWUzMjA1Nzk5MzQ=", "number": 3538, "title": "'Executable' object has no attribute 'vala_vapi' when using shared_module", "user": {"login": "Exalm", "id": 1510457, "node_id": "MDQ6VXNlcjE1MTA0NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1510457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Exalm", "html_url": "https://github.com/Exalm", "followers_url": "https://api.github.com/users/Exalm/followers", "following_url": "https://api.github.com/users/Exalm/following{/other_user}", "gists_url": "https://api.github.com/users/Exalm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Exalm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Exalm/subscriptions", "organizations_url": "https://api.github.com/users/Exalm/orgs", "repos_url": "https://api.github.com/users/Exalm/repos", "events_url": "https://api.github.com/users/Exalm/events{/privacy}", "received_events_url": "https://api.github.com/users/Exalm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/26", "html_url": "https://github.com/mesonbuild/meson/milestone/26", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/26/labels", "id": 3293842, "node_id": "MDk6TWlsZXN0b25lMzI5Mzg0Mg==", "number": 26, "title": "0.46.1", "description": "0.46.1 bugfix release", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2018-04-24T17:45:01Z", "updated_at": "2018-06-18T05:30:38Z", "due_on": null, "closed_at": "2018-06-18T05:30:38Z"}, "comments": 10, "created_at": "2018-05-06T10:17:37Z", "updated_at": "2018-05-10T10:31:05Z", "closed_at": "2018-05-10T10:31:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "See example repo: https://github.com/Exalm/meson_issue3538_demo\r\n\r\nCurrent result: C program builds and runs fine:\r\n```bash\r\n> meson _build\r\nThe Meson build system\r\nVersion: 0.45.1\r\nSource dir: /host/var/home/exalm/aa/c\r\nBuild dir: /host/var/home/exalm/aa/c/_build\r\nBuild type: native build\r\nProject name: test\r\nNative C compiler: cc (gcc 8.0.1 \"cc (GCC) 8.0.1 20180324 (Red Hat 8.0.1-0.20)\")\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: /bin/pkg-config (1.4.2)\r\nNative dependency glib-2.0 found: YES 2.56.1\r\nNative dependency gmodule-2.0 found: YES 2.56.1\r\nBuild targets in project: 2\r\nFound ninja-1.8.2 at /bin/ninja\r\n\r\n> cd _build\r\n\r\n> ninja\r\n[4/4] Linking target libapp_module.so.\r\n>LD_LIBRARY_PATH=. ./app\r\n42\r\n```\r\n\r\nAnd Vala program crashes Meson:\r\n```bash\r\n> meson _build\r\nThe Meson build system\r\nVersion: 0.45.1\r\nSource dir: /host/var/home/exalm/aa/vala\r\nBuild dir: /host/var/home/exalm/aa/vala/_build\r\nBuild type: native build\r\nProject name: test\r\nNative C compiler: cc (gcc 8.0.1 \"cc (GCC) 8.0.1 20180324 (Red Hat 8.0.1-0.20)\")\r\nNative Vala compiler: valac (valac 0.40.4)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: /bin/pkg-config (1.4.2)\r\nNative dependency glib-2.0 found: YES 2.56.1\r\nNative dependency gmodule-2.0 found: YES 2.56.1\r\nBuild targets in project: 2\r\nFound ninja-1.8.2 at /bin/ninja\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 361, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 150, in generate\r\n    self._generate(env)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 207, in _generate\r\n    g.generate(intr)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 219, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 356, in generate_target\r\n    vala_generated_sources = self.generate_vala_compile(target, outfile)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 1238, in generate_vala_compile\r\n    dependency_vapis = self.determine_dep_vapis(target)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 1072, in determine_dep_vapis\r\n    vapiname = dep.vala_vapi\r\nAttributeError: 'Executable' object has no attribute 'vala_vapi'\r\n```\r\n\r\nExpected result: both programs behave the same way and output \"42\"\r\n\r\nSteps to reproduce: clone the repo and run `reproduce.sh` script\r\n\r\nFedora 28, meson 0.45.1.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3538/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3533", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3533/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3533/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3533/events", "html_url": "https://github.com/mesonbuild/meson/pull/3533", "id": 320501703, "node_id": "MDExOlB1bGxSZXF1ZXN0MTg2MTUyMzU2", "number": 3533, "title": "gnome: Use the header basename for #include in mkenums_simple", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/26", "html_url": "https://github.com/mesonbuild/meson/milestone/26", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/26/labels", "id": 3293842, "node_id": "MDk6TWlsZXN0b25lMzI5Mzg0Mg==", "number": 26, "title": "0.46.1", "description": "0.46.1 bugfix release", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2018-04-24T17:45:01Z", "updated_at": "2018-06-18T05:30:38Z", "due_on": null, "closed_at": "2018-06-18T05:30:38Z"}, "comments": 0, "created_at": "2018-05-05T11:24:46Z", "updated_at": "2018-05-05T15:33:35Z", "closed_at": "2018-05-05T15:33:30Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3533", "html_url": "https://github.com/mesonbuild/meson/pull/3533", "diff_url": "https://github.com/mesonbuild/meson/pull/3533.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3533.patch", "merged_at": "2018-05-05T15:33:30Z"}, "body": "Otherwise, when you use a File target, the value will be the full path to the header from the build root, which is not what anyone wants.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3533/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3525", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3525/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3525/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3525/events", "html_url": "https://github.com/mesonbuild/meson/issues/3525", "id": 320201326, "node_id": "MDU6SXNzdWUzMjAyMDEzMjY=", "number": 3525, "title": "add_test_setup - new environment behavior ?", "user": {"login": "andreas-amlabs", "id": 28764847, "node_id": "MDQ6VXNlcjI4NzY0ODQ3", "avatar_url": "https://avatars.githubusercontent.com/u/28764847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-amlabs", "html_url": "https://github.com/andreas-amlabs", "followers_url": "https://api.github.com/users/andreas-amlabs/followers", "following_url": "https://api.github.com/users/andreas-amlabs/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-amlabs/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-amlabs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-amlabs/subscriptions", "organizations_url": "https://api.github.com/users/andreas-amlabs/orgs", "repos_url": "https://api.github.com/users/andreas-amlabs/repos", "events_url": "https://api.github.com/users/andreas-amlabs/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-amlabs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/26", "html_url": "https://github.com/mesonbuild/meson/milestone/26", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/26/labels", "id": 3293842, "node_id": "MDk6TWlsZXN0b25lMzI5Mzg0Mg==", "number": 26, "title": "0.46.1", "description": "0.46.1 bugfix release", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2018-04-24T17:45:01Z", "updated_at": "2018-06-18T05:30:38Z", "due_on": null, "closed_at": "2018-06-18T05:30:38Z"}, "comments": 0, "created_at": "2018-05-04T09:05:54Z", "updated_at": "2018-05-10T10:30:48Z", "closed_at": "2018-05-10T10:30:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The behavior of environment for `add_test_setup()` seems\r\nto have changed between 0.44.1 and 0.45.0\r\n\r\nOur code using\r\n```meson\r\nadd_test_setup('valgrind',\r\n               exe_wrapper : ['valgrind', '--error-exitcode=1', '--leak-check=full'],\r\n               timeout_multiplier : 100)\r\n```\r\ndoes not work anymore, seems like `os.environ` is not available\r\n\r\nPatching like\r\n```meson\r\ne = environment()\r\ne.append('PATH', '', separator : '')\r\ne.append('SHELL', '', separator : '')\r\ne.append('DBUS_SESSION_BUS_ADDRESS', '', separator : '')\r\nadd_test_setup('valgrind',\r\n               env : e,\r\n               exe_wrapper : ['valgrind', '--error-exitcode=1', '--leak-check=full'],\r\n               timeout_multiplier : 100)\r\n```\r\nmakes all tests pass again (our code uses sd_bus)\r\nI run like: `meson test --setup valgrind`\r\n\r\nIf we just do meson test, it seems that the full os.environ is available during test\r\n\r\n\r\nSurely it cannot be correct that test_setup has a different environment ?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3525/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3511", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3511/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3511/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3511/events", "html_url": "https://github.com/mesonbuild/meson/issues/3511", "id": 319380732, "node_id": "MDU6SXNzdWUzMTkzODA3MzI=", "number": 3511, "title": "Ctrl-C during build can leave builddir in unrecoverable state", "user": {"login": "benjamin-otte", "id": 23507211, "node_id": "MDQ6VXNlcjIzNTA3MjEx", "avatar_url": "https://avatars.githubusercontent.com/u/23507211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjamin-otte", "html_url": "https://github.com/benjamin-otte", "followers_url": "https://api.github.com/users/benjamin-otte/followers", "following_url": "https://api.github.com/users/benjamin-otte/following{/other_user}", "gists_url": "https://api.github.com/users/benjamin-otte/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjamin-otte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjamin-otte/subscriptions", "organizations_url": "https://api.github.com/users/benjamin-otte/orgs", "repos_url": "https://api.github.com/users/benjamin-otte/repos", "events_url": "https://api.github.com/users/benjamin-otte/events{/privacy}", "received_events_url": "https://api.github.com/users/benjamin-otte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 15, "created_at": "2018-05-02T01:24:02Z", "updated_at": "2018-05-20T21:48:40Z", "closed_at": "2018-05-20T21:48:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Steps to reproduce:\r\n\r\n1. Make sure meson --regenerate needs to be run\r\n2. Run ninja\r\n3. While ninja runs meson --regenerate, press Ctrl-C at exactly the right time\r\n4. Run ninja again\r\n5. See this:  \"Something went terribly wrong. Please file a bug.\"\r\n\r\nAfter trying to track down what that error even means (the error message could really be more informative), it turns out my coredata.dat was missing.\r\n\r\nIt would be nice if Ctrl-C during a build would never leave the builddir in a non-recoverable state.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3511/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3511/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3480", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3480/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3480/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3480/events", "html_url": "https://github.com/mesonbuild/meson/issues/3480", "id": 318097768, "node_id": "MDU6SXNzdWUzMTgwOTc3Njg=", "number": 3480, "title": "project(meson_version:) constraint isn't checked until after options are processed", "user": {"login": "jon-turney", "id": 3497232, "node_id": "MDQ6VXNlcjM0OTcyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-turney", "html_url": "https://github.com/jon-turney", "followers_url": "https://api.github.com/users/jon-turney/followers", "following_url": "https://api.github.com/users/jon-turney/following{/other_user}", "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions", "organizations_url": "https://api.github.com/users/jon-turney/orgs", "repos_url": "https://api.github.com/users/jon-turney/repos", "events_url": "https://api.github.com/users/jon-turney/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-turney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-26T16:05:15Z", "updated_at": "2019-04-18T19:18:22Z", "closed_at": "2019-04-18T19:18:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`project(meson_version:)` constraint doesn't appear to be  checked until after options are processed, which leads to the following confusing output when trying to build mesa with an insufficent version of meson:\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.43.0\r\nSource dir: /buildslave/builder-work/mesa-mesa-meson/build\r\nBuild dir: /buildslave/builder-work/mesa-mesa-meson/build/build\r\nBuild type: native build\r\nProgram python found: YES (/bin/python)\r\n\r\nMeson encountered an error in file meson_options.txt, line 21, column 0:\r\nUnknown type array.\r\n```\r\nexpected output would be the more helpful:\r\n\r\n```\r\nMeson version is 0.43.0 but project requires >= 0.44.1.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3480/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3473", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3473/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3473/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3473/events", "html_url": "https://github.com/mesonbuild/meson/issues/3473", "id": 317746922, "node_id": "MDU6SXNzdWUzMTc3NDY5MjI=", "number": 3473, "title": "Build fails when passing -Dc_args due to extra quotes", "user": {"login": "ndufresne", "id": 3606728, "node_id": "MDQ6VXNlcjM2MDY3Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/3606728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndufresne", "html_url": "https://github.com/ndufresne", "followers_url": "https://api.github.com/users/ndufresne/followers", "following_url": "https://api.github.com/users/ndufresne/following{/other_user}", "gists_url": "https://api.github.com/users/ndufresne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndufresne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndufresne/subscriptions", "organizations_url": "https://api.github.com/users/ndufresne/orgs", "repos_url": "https://api.github.com/users/ndufresne/repos", "events_url": "https://api.github.com/users/ndufresne/events{/privacy}", "received_events_url": "https://api.github.com/users/ndufresne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850828231, "node_id": "MDU6TGFiZWw4NTA4MjgyMzE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/options", "name": "options", "color": "fef2c0", "default": false, "description": "Meson configuration options"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/26", "html_url": "https://github.com/mesonbuild/meson/milestone/26", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/26/labels", "id": 3293842, "node_id": "MDk6TWlsZXN0b25lMzI5Mzg0Mg==", "number": 26, "title": "0.46.1", "description": "0.46.1 bugfix release", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2018-04-24T17:45:01Z", "updated_at": "2018-06-18T05:30:38Z", "due_on": null, "closed_at": "2018-06-18T05:30:38Z"}, "comments": 5, "created_at": "2018-04-25T18:39:36Z", "updated_at": "2018-05-01T12:09:46Z", "closed_at": "2018-05-01T12:09:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I encountered this regression when moving of 0.45 to 0.46 today.  If I call meson with ```-Dc_args=\"-g -O0\" ```\r\n\r\nI get the following error at build:\r\n```\r\ncc -Iorc/orc@@orc-0.4@sha -Iorc -I../orc -I. -I../ -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -std=gnu99 -O2 -g -DHAVE_CONFIG_H '-g -O0' -fPIC -DORC_ENABLE_UNSTABLE_API -D_GNU_SOURCE  -MD -MQ 'orc/orc@@orc-0.4@sha/orcdebug.c.o' -MF 'orc/orc@@orc-0.4@sha/orcdebug.c.o.d' -o 'orc/orc@@orc-0.4@sha/orcdebug.c.o' -c ../orc/orcdebug.c\r\ncc: error: unrecognized debug output level ' -O0'\r\n```\r\nAs you can see, meson added quotes around '-g -O0'. Removing the qotes fixes it.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3473/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3464", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3464/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3464/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3464/events", "html_url": "https://github.com/mesonbuild/meson/issues/3464", "id": 317292058, "node_id": "MDU6SXNzdWUzMTcyOTIwNTg=", "number": 3464, "title": "incorrect shared-library in .gir files", "user": {"login": "jasperla", "id": 637504, "node_id": "MDQ6VXNlcjYzNzUwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/637504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasperla", "html_url": "https://github.com/jasperla", "followers_url": "https://api.github.com/users/jasperla/followers", "following_url": "https://api.github.com/users/jasperla/following{/other_user}", "gists_url": "https://api.github.com/users/jasperla/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasperla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasperla/subscriptions", "organizations_url": "https://api.github.com/users/jasperla/orgs", "repos_url": "https://api.github.com/users/jasperla/repos", "events_url": "https://api.github.com/users/jasperla/events{/privacy}", "received_events_url": "https://api.github.com/users/jasperla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/26", "html_url": "https://github.com/mesonbuild/meson/milestone/26", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/26/labels", "id": 3293842, "node_id": "MDk6TWlsZXN0b25lMzI5Mzg0Mg==", "number": 26, "title": "0.46.1", "description": "0.46.1 bugfix release", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 34, "state": "closed", "created_at": "2018-04-24T17:45:01Z", "updated_at": "2018-06-18T05:30:38Z", "due_on": null, "closed_at": "2018-06-18T05:30:38Z"}, "comments": 1, "created_at": "2018-04-24T15:58:56Z", "updated_at": "2018-04-24T18:22:22Z", "closed_at": "2018-04-24T18:22:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Originally reported at [libgweather](https://gitlab.gnome.org/GNOME/libgweather/issues/4#note_99973), though the issue also present on OpenBSD for at least `Gepub-0.6.gir` and `libical-3.0.3.gir`.\r\n\r\nThis is with the following components:\r\n- meson-0.46.0 \r\n- gobject-introspection-1.56.1\r\n- clang version 6.0.0\r\n\r\nAfter the update to libgweather-3.28.1 (from 3.26.1, thus switching to meson), the shared-library gets incorrectly recorded in the .gir and .typelib files:\r\n\r\n```\r\nshared-library=\"libgweather-3.28.1/build-amd64/tmp-introspecteuljis0a/GWeather-3.0\"\r\n```\r\n\r\ncompared to other gir files on the filesystem:\r\n\r\n```\r\nshared-library=\"libsoup-2.4.so.10.1\"\r\n```\r\n\r\nSo in case of libgweather it should be \"libgweather-3.so.3.2\" as that's the name the library gets installed as.\r\n\r\nI've attached the build logs for [libgweather-3.28.1](https://github.com/mesonbuild/meson/files/1943566/libgweather-3.28.1.log) and \r\n[libgepub-0.6.0](https://github.com/mesonbuild/meson/files/1943584/libgepub-0.6.0.log)\r\n\r\nThe `generate_gir` calls from both projects look sane, but apparently something is still off. Any help narrowing down this issue is most welcome.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3427", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3427/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3427/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3427/events", "html_url": "https://github.com/mesonbuild/meson/pull/3427", "id": 315403287, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyNDIwMTY3", "number": 3427, "title": "Update 'manual tests/2 multiwrap' libpng dependency to 1.6.34", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850863833, "node_id": "MDU6TGFiZWw4NTA4NjM4MzM=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/meson%20tests", "name": "meson tests", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-18T09:35:26Z", "updated_at": "2018-04-18T18:09:59Z", "closed_at": "2018-04-18T18:09:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3427", "html_url": "https://github.com/mesonbuild/meson/pull/3427", "diff_url": "https://github.com/mesonbuild/meson/pull/3427.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3427.patch", "merged_at": "2018-04-18T18:09:59Z"}, "body": "1.6.17-6 has a bug with missing -lm linking on ArchLinux.\r\nSee https://github.com/mesonbuild/libpng/pull/7", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3427/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3421", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3421/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3421/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3421/events", "html_url": "https://github.com/mesonbuild/meson/pull/3421", "id": 315132031, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyMjE5Nzk4", "number": 3421, "title": "fix fallback variable name", "user": {"login": "glslang", "id": 14957728, "node_id": "MDQ6VXNlcjE0OTU3NzI4", "avatar_url": "https://avatars.githubusercontent.com/u/14957728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glslang", "html_url": "https://github.com/glslang", "followers_url": "https://api.github.com/users/glslang/followers", "following_url": "https://api.github.com/users/glslang/following{/other_user}", "gists_url": "https://api.github.com/users/glslang/gists{/gist_id}", "starred_url": "https://api.github.com/users/glslang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glslang/subscriptions", "organizations_url": "https://api.github.com/users/glslang/orgs", "repos_url": "https://api.github.com/users/glslang/repos", "events_url": "https://api.github.com/users/glslang/events{/privacy}", "received_events_url": "https://api.github.com/users/glslang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850863833, "node_id": "MDU6TGFiZWw4NTA4NjM4MzM=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/meson%20tests", "name": "meson tests", "color": "0e8a16", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-17T16:13:44Z", "updated_at": "2018-04-17T19:01:12Z", "closed_at": "2018-04-17T19:00:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3421", "html_url": "https://github.com/mesonbuild/meson/pull/3421", "diff_url": "https://github.com/mesonbuild/meson/pull/3421.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3421.patch", "merged_at": "2018-04-17T19:00:58Z"}, "body": "Hi,\r\n\r\nThe variable name in the wrap meson build appears to be png_dep and not pngdep and the fallback will fail on my ubuntu 17.10.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3421/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3401", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3401/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3401/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3401/events", "html_url": "https://github.com/mesonbuild/meson/issues/3401", "id": 314051607, "node_id": "MDU6SXNzdWUzMTQwNTE2MDc=", "number": 3401, "title": "transitive extract_all_objects no longer works", "user": {"login": "bruce-richardson", "id": 12200944, "node_id": "MDQ6VXNlcjEyMjAwOTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/12200944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bruce-richardson", "html_url": "https://github.com/bruce-richardson", "followers_url": "https://api.github.com/users/bruce-richardson/followers", "following_url": "https://api.github.com/users/bruce-richardson/following{/other_user}", "gists_url": "https://api.github.com/users/bruce-richardson/gists{/gist_id}", "starred_url": "https://api.github.com/users/bruce-richardson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bruce-richardson/subscriptions", "organizations_url": "https://api.github.com/users/bruce-richardson/orgs", "repos_url": "https://api.github.com/users/bruce-richardson/repos", "events_url": "https://api.github.com/users/bruce-richardson/events{/privacy}", "received_events_url": "https://api.github.com/users/bruce-richardson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 5, "created_at": "2018-04-13T10:20:53Z", "updated_at": "2018-04-19T21:58:08Z", "closed_at": "2018-04-19T21:58:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is new error added by commit 809f01833336be63eb07441e120de2e4f8c4b3c4: \"extract_all_objects: Also extract generated sources\". \r\n\r\n ERROR:  Cannot extract objects from a target that itself has extracted objects\r\n\r\nThere are many cases where this might be needed, and it seemed to work fine in previous versions of meson. This is breaking the build of the DPDK project where we are compiling for older x86_64 targets without AVX2 instruction set support. In that case, we compile the AVX2 code separately as a static lib, extact it and then merge with the rest of the code into the official library static lib. That lib in turn is converted to a shared lib again by extract_all_objects(). [Yes, I have a TODO to look at SIMD module and \"both_library\" support for this, but it is what it is now.]\r\n\r\nPlease fix before next release. This used to work and is a regression IMHO.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3391", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3391/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3391/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3391/events", "html_url": "https://github.com/mesonbuild/meson/pull/3391", "id": 313490567, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgxMDI5OTYy", "number": 3391, "title": "Don't fail on not-required not-found deps in forcefallback mode", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 1, "created_at": "2018-04-11T21:13:28Z", "updated_at": "2018-04-21T13:10:13Z", "closed_at": "2018-04-21T13:10:04Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3391", "html_url": "https://github.com/mesonbuild/meson/pull/3391", "diff_url": "https://github.com/mesonbuild/meson/pull/3391.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3391.patch", "merged_at": "2018-04-21T13:10:04Z"}, "body": "Otherwise, we will fail if we could not setup a subproject for an optional fallback dependency.\r\n\r\nThis involves the creation of a new dummy NotFoundDependency.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3391/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3378", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3378/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3378/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3378/events", "html_url": "https://github.com/mesonbuild/meson/issues/3378", "id": 312762454, "node_id": "MDU6SXNzdWUzMTI3NjI0NTQ=", "number": 3378, "title": "dist command does not work with git worktrees", "user": {"login": "chergert", "id": 25676, "node_id": "MDQ6VXNlcjI1Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/25676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chergert", "html_url": "https://github.com/chergert", "followers_url": "https://api.github.com/users/chergert/followers", "following_url": "https://api.github.com/users/chergert/following{/other_user}", "gists_url": "https://api.github.com/users/chergert/gists{/gist_id}", "starred_url": "https://api.github.com/users/chergert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chergert/subscriptions", "organizations_url": "https://api.github.com/users/chergert/orgs", "repos_url": "https://api.github.com/users/chergert/repos", "events_url": "https://api.github.com/users/chergert/events{/privacy}", "received_events_url": "https://api.github.com/users/chergert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-04-10T03:42:33Z", "updated_at": "2019-01-30T21:20:51Z", "closed_at": "2019-01-30T21:20:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "As managing branches gets more complex for my various gnome projects, I've started using `git worktree add ...` to manage each of them as separate checkouts. When running `ninja dist` from within the worktree, it fails.\r\n\r\n```\r\n[christian@starthink build]$ ninja dist \r\n[0/1] Creating source packages\r\nDist currently only works with Git or Mercurial repos.\r\nFAILED: meson-dist \r\n/usr/bin/python3 /opt/gnome/bin/meson --internal dist /home/christian/Projects/libdazzle-3-28 /home/christian/Projects/libdazzle-3-28/build /usr/bin/python3 /opt/gnome/bin/meson\r\nninja: build stopped: subcommand failed.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3378/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3331", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3331/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3331/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3331/events", "html_url": "https://github.com/mesonbuild/meson/issues/3331", "id": 309131642, "node_id": "MDU6SXNzdWUzMDkxMzE2NDI=", "number": 3331, "title": "MSVC: -Ddefault_library=static does not work, but --default-library=static works", "user": {"login": "textshell", "id": 6579711, "node_id": "MDQ6VXNlcjY1Nzk3MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/6579711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/textshell", "html_url": "https://github.com/textshell", "followers_url": "https://api.github.com/users/textshell/followers", "following_url": "https://api.github.com/users/textshell/following{/other_user}", "gists_url": "https://api.github.com/users/textshell/gists{/gist_id}", "starred_url": "https://api.github.com/users/textshell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/textshell/subscriptions", "organizations_url": "https://api.github.com/users/textshell/orgs", "repos_url": "https://api.github.com/users/textshell/repos", "events_url": "https://api.github.com/users/textshell/events{/privacy}", "received_events_url": "https://api.github.com/users/textshell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}, {"id": 850828231, "node_id": "MDU6TGFiZWw4NTA4MjgyMzE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/options", "name": "options", "color": "fef2c0", "default": false, "description": "Meson configuration options"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-27T20:59:15Z", "updated_at": "2018-06-11T00:04:17Z", "closed_at": "2018-06-11T00:04:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It seems that default_library=static does not work on windows / msvc, as it still creates a .dll.\r\n\r\n```\r\n$ cat test\\ cases/common/4\\ shared/meson.build\r\nproject('library test', 'c')\r\nlib = library('mylib', 'libfile.c', install : true)\r\n \r\nC:\\Users\\User\\source\\meson>rmdir /s builddir\r\nbuilddir, Are you sure (Y/N)? Y\r\n \r\nC:\\Users\\User\\source\\meson>python3 C:/Users/User/source/meson/meson.py -Ddefault_library=static \"test cases\\common\\4 shared\" builddir\r\nThe Meson build system\r\nVersion: 0.46.0.dev1\r\nSource dir: C:\\Users\\User\\source\\meson\\test cases\\common\\4 shared\r\nBuild dir: C:\\Users\\User\\source\\meson\\builddir\r\nBuild type: native build\r\nProject name: library test\r\nNative C compiler: cl (msvc 19.11.25507.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nBuild targets in project: 1\r\nFound ninja-1.8.2.git at 'C:\\Program Files (x86)\\Meson\\ninja.EXE'\r\n \r\nC:\\Users\\User\\source\\meson>ninja -C builddir\r\nninja: Entering directory `builddir'\r\n[2/2] Linking target mylib.dll.\r\n   Creating library mylib.lib and object mylib.exp\r\n \r\nC:\\Users\\User\\source\\meson>dir builddir\r\n Volume in drive C has no label.\r\n Volume Serial Number is 5651-4677\r\n \r\n Directory of C:\\Users\\User\\source\\meson\\builddir\r\n \r\n03/26/2018  03:27 PM    <DIR>          .\r\n03/26/2018  03:27 PM    <DIR>          ..\r\n03/26/2018  03:27 PM                64 .ninja_deps\r\n03/26/2018  03:27 PM               129 .ninja_log\r\n03/26/2018  03:27 PM             5,081 build.ninja\r\n03/26/2018  03:27 PM               184 compile_commands.json\r\n03/26/2018  03:27 PM    <DIR>          meson-logs\r\n03/26/2018  03:27 PM    <DIR>          meson-private\r\n03/26/2018  03:27 PM            56,320 mylib.dll\r\n03/26/2018  03:27 PM               666 mylib.exp\r\n03/26/2018  03:27 PM           379,152 mylib.ilk\r\n03/26/2018  03:27 PM             1,672 mylib.lib\r\n03/26/2018  03:27 PM           503,808 mylib.pdb\r\n03/26/2018  03:27 PM    <DIR>          mylib@sha\r\n               9 File(s)        947,076 bytes\r\n               5 Dir(s)  70,589,988,864 bytes free\r\n```\r\n\r\n\r\n\r\n(Thanks to @MathieuDuponchelle for testing this. Original data from https://pastebin.com/NLhZpnTe )", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3322", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3322/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3322/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3322/events", "html_url": "https://github.com/mesonbuild/meson/pull/3322", "id": 308555258, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc3NDMzMzAy", "number": 3322, "title": "Isolate single test invocation in mtest.py and fix flakiness", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-26T12:41:11Z", "updated_at": "2018-03-29T18:48:10Z", "closed_at": "2018-03-29T18:48:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3322", "html_url": "https://github.com/mesonbuild/meson/pull/3322", "diff_url": "https://github.com/mesonbuild/meson/pull/3322.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3322.patch", "merged_at": "2018-03-29T18:48:10Z"}, "body": "Also set timeout for unit test subprocesses to fail loudly instead of hanging the CI and letting it abort with obscure message.\r\n\r\nCloses #3318 ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3322/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3318", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3318/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3318/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3318/events", "html_url": "https://github.com/mesonbuild/meson/issues/3318", "id": 308393896, "node_id": "MDU6SXNzdWUzMDgzOTM4OTY=", "number": 3318, "title": "test_testsetup_selection is getting stuck/flaky", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-03-25T22:51:39Z", "updated_at": "2018-03-29T18:48:10Z", "closed_at": "2018-03-29T18:48:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I find it suspicious that this unit test is lately a case for stuckness in travis first and second build and it might be an indication of some actual problem.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3307", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3307/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3307/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3307/events", "html_url": "https://github.com/mesonbuild/meson/issues/3307", "id": 308171513, "node_id": "MDU6SXNzdWUzMDgxNzE1MTM=", "number": 3307, "title": "gtkdoc-scangobj fails to find the shared library it scans (W32)", "user": {"login": "LRN", "id": 91705, "node_id": "MDQ6VXNlcjkxNzA1", "avatar_url": "https://avatars.githubusercontent.com/u/91705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LRN", "html_url": "https://github.com/LRN", "followers_url": "https://api.github.com/users/LRN/followers", "following_url": "https://api.github.com/users/LRN/following{/other_user}", "gists_url": "https://api.github.com/users/LRN/gists{/gist_id}", "starred_url": "https://api.github.com/users/LRN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LRN/subscriptions", "organizations_url": "https://api.github.com/users/LRN/orgs", "repos_url": "https://api.github.com/users/LRN/repos", "events_url": "https://api.github.com/users/LRN/events{/privacy}", "received_events_url": "https://api.github.com/users/LRN/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 3, "created_at": "2018-03-23T20:38:04Z", "updated_at": "2018-08-07T11:42:15Z", "closed_at": "2018-08-07T11:42:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "For example:\r\n`Error in gtkdoc helper script:`\r\n`'mingw\\\\bin\\\\python.EXE' failed with status 3221225781`\r\n`WARNING:root:Running scanner failed: -1073741515, command: ./gtk4-scan.exe`\r\nThis is because the shared library being scanned is not in library search path. On *nix that is handled by adjusting `LD_LIBRARY_PATH`, but on W32 the variable that needs adjustment is `PATH`, and meson doesn't change it.\r\n\r\nHere's a patch to fix that.\r\n[0001-gtk-doc-Use-LD_LIBRARY_PATH-to-modify-PATH-on-W32.patch.txt](https://github.com/mesonbuild/meson/files/1843401/0001-gtk-doc-Use-LD_LIBRARY_PATH-to-modify-PATH-on-W32.patch.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3279", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3279/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3279/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3279/events", "html_url": "https://github.com/mesonbuild/meson/issues/3279", "id": 307221451, "node_id": "MDU6SXNzdWUzMDcyMjE0NTE=", "number": 3279, "title": "extract_all_objects() does not return objects from generated sources", "user": {"login": "etrunko", "id": 835663, "node_id": "MDQ6VXNlcjgzNTY2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/835663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etrunko", "html_url": "https://github.com/etrunko", "followers_url": "https://api.github.com/users/etrunko/followers", "following_url": "https://api.github.com/users/etrunko/following{/other_user}", "gists_url": "https://api.github.com/users/etrunko/gists{/gist_id}", "starred_url": "https://api.github.com/users/etrunko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etrunko/subscriptions", "organizations_url": "https://api.github.com/users/etrunko/orgs", "repos_url": "https://api.github.com/users/etrunko/repos", "events_url": "https://api.github.com/users/etrunko/events{/privacy}", "received_events_url": "https://api.github.com/users/etrunko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-03-21T12:17:56Z", "updated_at": "2018-04-05T12:00:13Z", "closed_at": "2018-04-05T12:00:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am building a library with symbols table, which means not all symbols will be exported. Some sources of this library are generated with `gnome.mkenums()`.\r\n\r\nThe tests do make reference to many unexported symbols of the library, so in the `executable()` call, I use the keyword `objects : lib.extract_all_objects()` and even after that I still get undefined references to symbols in the enums.\r\n\r\nThe library do have those symbols, as verified with `readelf --syms`, and the workaround is to include the generated enum sources to the tests, but ideally `extract_all_objects()` would return the generated objects for generated files so they can be reused.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3279/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3274", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3274/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3274/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3274/events", "html_url": "https://github.com/mesonbuild/meson/pull/3274", "id": 307083894, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc2MzU2ODEy", "number": 3274, "title": "Fix b_ndebug=if-release silently not working", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/25", "html_url": "https://github.com/mesonbuild/meson/milestone/25", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/25/labels", "id": 3163061, "node_id": "MDk6TWlsZXN0b25lMzE2MzA2MQ==", "number": 25, "title": "0.45.1", "description": null, "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2018-03-05T18:44:02Z", "updated_at": "2018-04-03T13:03:07Z", "due_on": null, "closed_at": "2018-04-03T13:03:07Z"}, "comments": 8, "created_at": "2018-03-21T00:18:46Z", "updated_at": "2018-03-25T22:42:01Z", "closed_at": "2018-03-21T19:26:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3274", "html_url": "https://github.com/mesonbuild/meson/pull/3274", "diff_url": "https://github.com/mesonbuild/meson/pull/3274.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3274.patch", "merged_at": "2018-03-21T19:26:17Z"}, "body": "Co-authored-by: David Seifert <soap@gentoo.org>\r\n\r\nThis reveals a bug with `b_ndebug=if-release`. This feature was introduced in #1896 but it never worked and never was tested.\r\nCurrently `compilers.get_base_compile_args()` does not have target context, e.g. `buildtype`. The problem is `if-release` depends on target settings, particularly `buildtype`.\r\n\r\nSo the question is\r\n- Do we want `compilers.get_base_compile_args()` to be independent from target options?\r\n- Do we want to keep abstraction-breaking `if-release` at all? Probably yes because users like it. But it never worked...\r\n- Could it be that it should be `c_ndebug` option which can depend on target?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3274/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3263", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3263/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3263/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3263/events", "html_url": "https://github.com/mesonbuild/meson/issues/3263", "id": 306698055, "node_id": "MDU6SXNzdWUzMDY2OTgwNTU=", "number": 3263, "title": "Generator output messages with empty string", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-20T01:46:52Z", "updated_at": "2023-03-18T13:44:54Z", "closed_at": "2023-03-18T13:44:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```meson\r\nprotoc_cpp_gen = generator(protoc,\r\n    output    : ['@BASENAME@.pb.cc',\r\n                 '@BASENAME@.pb.h'],\r\n    arguments : ['--proto_path=@CURRENT_SOURCE_DIR@/include',\r\n                 '--cpp_out=@BUILD_DIR@', '@INPUT@'])\r\n```\r\n\r\n```text\r\n[192/361] Generating ''.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3263/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3263/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3244", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3244/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3244/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3244/events", "html_url": "https://github.com/mesonbuild/meson/pull/3244", "id": 305626124, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc1MzA3MDkw", "number": 3244, "title": "Fix appveyor failures: do not use PowerShell since it triggers NativeCommandError if pacman prints to stderr", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-03-15T16:27:53Z", "updated_at": "2018-03-17T16:43:16Z", "closed_at": "2018-03-17T16:43:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3244", "html_url": "https://github.com/mesonbuild/meson/pull/3244", "diff_url": "https://github.com/mesonbuild/meson/pull/3244.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3244.patch", "merged_at": null}, "body": "Also use --needed for pacman to not reinstall already installed packages.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3244/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3241", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3241/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3241/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3241/events", "html_url": "https://github.com/mesonbuild/meson/pull/3241", "id": 305324430, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc1MDgxNzUx", "number": 3241, "title": "Use target.get_id() instead of concatenating basename and type_suffix at call site", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-14T20:53:17Z", "updated_at": "2018-03-15T19:34:44Z", "closed_at": "2018-03-15T19:14:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3241", "html_url": "https://github.com/mesonbuild/meson/pull/3241", "diff_url": "https://github.com/mesonbuild/meson/pull/3241.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3241.patch", "merged_at": "2018-03-15T19:14:59Z"}, "body": "Fixes the bug with flat layout and identical target names in subprojects.\r\nWithout this change directories are not created with subproject prefix\r\nand they can collide.\r\n\r\nAlso use double blank line in run_unittests.py according to\r\nhttps://www.python.org/dev/peps/pep-0008/#blank-lines.\r\n\r\nThis is a preparation for #2861", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3241/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3239", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3239/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3239/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3239/events", "html_url": "https://github.com/mesonbuild/meson/issues/3239", "id": 304989846, "node_id": "MDU6SXNzdWUzMDQ5ODk4NDY=", "number": 3239, "title": "Cross-drive build is not supported on Windows", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-14T01:15:36Z", "updated_at": "2018-10-10T16:43:25Z", "closed_at": "2018-10-10T16:43:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nStdout:\r\nTraceback (most recent call last):\r\n  File \"D:\\dev\\meson\\mesonbuild\\mesonmain.py\", line 368, in run\r\n    app.generate()\r\n  File \"D:\\dev\\meson\\mesonbuild\\mesonmain.py\", line 150, in generate\r\n    self._generate(env)\r\n  File \"D:\\dev\\meson\\mesonbuild\\mesonmain.py\", line 168, in _generate\r\n    g = ninjabackend.NinjaBackend(b)\r\n  File \"D:\\dev\\meson\\mesonbuild\\backend\\ninjabackend.py\", line 143, in __init__\r\n    super().__init__(build)\r\n  File \"D:\\dev\\meson\\mesonbuild\\backend\\backends.py\", line 111, in __init__\r\n    self.environment.get_build_dir())\r\n  File \"C:\\Python36\\lib\\ntpath.py\", line 585, in relpath\r\n    path_drive, start_drive))\r\nValueError: path is on mount 'D:', start on mount 'C:'\r\n```\r\n\r\nA little bit of debugging shows that this happens in `Backend.__init__()`, \r\n```python\r\nself.build_to_src = os.path.relpath(self.environment.get_source_dir(), # D:\\dev\\meson\\test cases\\common\\5 linkstatic\r\n                                    self.environment.get_build_dir())  # C:\\Users\\$NAME\\AppData\\Local\\Temp\\tmp1iii95om\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3232", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3232/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3232/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3232/events", "html_url": "https://github.com/mesonbuild/meson/pull/3232", "id": 304595727, "node_id": "MDExOlB1bGxSZXF1ZXN0MTc0NTM1NzU4", "number": 3232, "title": "Fix failing tests introduced by #3131", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-13T01:22:58Z", "updated_at": "2018-03-13T17:20:42Z", "closed_at": "2018-03-13T17:20:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3232", "html_url": "https://github.com/mesonbuild/meson/pull/3232", "diff_url": "https://github.com/mesonbuild/meson/pull/3232.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3232.patch", "merged_at": "2018-03-13T17:20:42Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3232/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3221", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3221/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3221/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3221/events", "html_url": "https://github.com/mesonbuild/meson/issues/3221", "id": 304187237, "node_id": "MDU6SXNzdWUzMDQxODcyMzc=", "number": 3221, "title": "Pkg-config not found.", "user": {"login": "elig0n", "id": 31196036, "node_id": "MDQ6VXNlcjMxMTk2MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/31196036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elig0n", "html_url": "https://github.com/elig0n", "followers_url": "https://api.github.com/users/elig0n/followers", "following_url": "https://api.github.com/users/elig0n/following{/other_user}", "gists_url": "https://api.github.com/users/elig0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/elig0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elig0n/subscriptions", "organizations_url": "https://api.github.com/users/elig0n/orgs", "repos_url": "https://api.github.com/users/elig0n/repos", "events_url": "https://api.github.com/users/elig0n/events{/privacy}", "received_events_url": "https://api.github.com/users/elig0n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 850825624, "node_id": "MDU6TGFiZWw4NTA4MjU2MjQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/pkgconfig", "name": "pkgconfig", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2018-03-11T19:43:22Z", "updated_at": "2023-03-24T13:41:44Z", "closed_at": "2018-03-12T20:25:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Found Pkg-config: NO\r\n\r\napp\\meson.build:21:0: ERROR: Pkg-config not found.\r\n\r\nWindows 10, pip3\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3221/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3217", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3217/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3217/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3217/events", "html_url": "https://github.com/mesonbuild/meson/issues/3217", "id": 304166210, "node_id": "MDU6SXNzdWUzMDQxNjYyMTA=", "number": 3217, "title": "Provide a meson.bat for Windows users", "user": {"login": "elig0n", "id": 31196036, "node_id": "MDQ6VXNlcjMxMTk2MDM2", "avatar_url": "https://avatars.githubusercontent.com/u/31196036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elig0n", "html_url": "https://github.com/elig0n", "followers_url": "https://api.github.com/users/elig0n/followers", "following_url": "https://api.github.com/users/elig0n/following{/other_user}", "gists_url": "https://api.github.com/users/elig0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/elig0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elig0n/subscriptions", "organizations_url": "https://api.github.com/users/elig0n/orgs", "repos_url": "https://api.github.com/users/elig0n/repos", "events_url": "https://api.github.com/users/elig0n/events{/privacy}", "received_events_url": "https://api.github.com/users/elig0n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-03-11T15:15:01Z", "updated_at": "2018-08-02T10:47:22Z", "closed_at": "2018-08-02T10:47:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "meson 0.45.0 install with pip3 on Windows 10  (Python 3.6.2 )\r\n\r\n>\\>python meson.py\r\nTraceback (most recent call last):\r\n  File \"meson.py\", line 17, in <module>\r\n    from mesonbuild import mesonmain, mesonlib\r\n  File \"C:\\Users\\x\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 18, in <module>\r\n    from . import environment, interpreter, mesonlib\r\n  File \"C:\\Users\\x\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mesonbuild\\environment.py\", line 17, in <module>\r\n    from . import coredata\r\n  File \"C:\\Users\\x\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mesonbuild\\coredata.py\", line 20, in <module>\r\n    from .mesonlib import MesonException\r\n  File \"C:\\Users\\x\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mesonbuild\\mesonlib.py\", line 78, in <module>\r\n    meson_command = python_command + [detect_meson_py_location()]\r\n  File \"C:\\Users\\x\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mesonbuild\\mesonlib.py\", line 70, in detect_meson_py_location\r\n    raise RuntimeError('Could not determine how to run Meson. Please file a bug with details.')\r\nRuntimeError: Could not determine how to run Meson. Please file a bug with details.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3195", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3195/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3195/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3195/events", "html_url": "https://github.com/mesonbuild/meson/pull/3195", "id": 302935704, "node_id": "MDExOlB1bGxSZXF1ZXN0MTczMzMyNTU0", "number": 3195, "title": "Get generated headers from link_whole_targets as meson does for link_targets", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-07T01:54:25Z", "updated_at": "2018-03-12T17:53:07Z", "closed_at": "2018-03-07T19:05:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3195", "html_url": "https://github.com/mesonbuild/meson/pull/3195", "diff_url": "https://github.com/mesonbuild/meson/pull/3195.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3195.patch", "merged_at": "2018-03-07T19:05:25Z"}, "body": "This test covers usage of generated files in static_library that is later linked into shared_library.\r\nThis test is flaky because dependencies are not set correctly. Tests are not robust because the only way I found to trigger this reliably is building with `-j20`. But it randomly fails at least in specific test case so it might be good enough.\r\n\r\n5th test is what actually fails, all the rest is just a verification that something very similar works fine.\r\nI copied `build.ninja` below, the difference between 4th and 5th tests is that I replaced `link_with` with `link_whole`, and dependency on header file disappeared. Since header file is created by generator and dependency does not exist, ninja will not necessary execute generator before trying to compile `main.c.o`, and this will manifest in missing `meson_test_function.h`. Note that `-j20` is helpful because it forces ninja to execute everything at the same time. I did not figure out robust way to write a test for meson, but since it is naturally flaky it randomly fails in CI. Example is below:\r\n\r\n```text\r\n$ ninja -vC build -j20\r\nninja: Entering directory `build'\r\n[1/30] cc  -Iexe5@exe -I. -I.. -Istlib5@sta -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g -MD -MQ 'exe5@exe/main.c.o' -MF 'exe5@exe/main.c.o.d' -o 'exe5@exe/main.c.o' -c ../main.c\r\nFAILED: exe5@exe/main.c.o\r\ncc  -Iexe5@exe -I. -I.. -Istlib5@sta -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g -MD -MQ 'exe5@exe/main.c.o' -MF 'exe5@exe/main.c.o.d' -o 'exe5@exe/main.c.o' -c ../main.c\r\n../main.c:1:10: fatal error: meson_test_function.h: No such file or directory\r\n #include \"meson_test_function.h\"\r\n          ^~~~~~~~~~~~~~~~~~~~~~~\r\ncompilation terminated.\r\n[2/30] '/home/$USER/meson/test cases/common/180 generator link whole/generator.py' ../meson_test_function.tmpl exe1@exe\r\n/home/$USER/meson/test cases/common/180 generator link whole/build exe1@exe/meson_test_function.h\r\n[3/30] '/home/$USER/meson/test cases/common/180 generator link whole/generator.py' ../meson_test_function.tmpl shlib2@sha\r\n/home/$USER/meson/test cases/common/180 generator link whole/build shlib2@sha/meson_test_function.h\r\n[4/30] '/home/$USER/meson/test cases/common/180 generator link whole/generator.py' ../meson_test_function.tmpl stlib3@sta\r\n/home/$USER/meson/test cases/common/180 generator link whole/build stlib3@sta/meson_test_function.h\r\n[5/30] '/home/$USER/meson/test cases/common/180 generator link whole/generator.py' ../meson_test_function.tmpl stlib4@sta\r\n/home/$USER/meson/test cases/common/180 generator link whole/build stlib4@sta/meson_test_function.h\r\n[6/30] '/home/$USER/meson/test cases/common/180 generator link whole/generator.py' ../meson_test_function.tmpl stlib5@sta\r\n/home/$USER/meson/test cases/common/180 generator link whole/build stlib5@sta/meson_test_function.h\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n#### 4th test object file\r\n\r\n```text\r\nbuild exe4@exe/main.c.o: c_COMPILER ../main.c || stlib4@sta/meson_test_function.h\r\n DEPFILE = exe4@exe/main.c.o.d\r\n ARGS = -Iexe4@exe -I. -I.. -Istlib4@sta -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g\r\n\r\n```\r\n\r\n#### 5th test object file\r\n\r\n```text\r\nbuild exe5@exe/main.c.o: c_COMPILER ../main.c\r\n DEPFILE = exe5@exe/main.c.o.d\r\n ARGS = -Iexe5@exe -I. -I.. -Istlib5@sta -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g\r\n```\r\n\r\n#### Full output for 4th and 5th test\r\n\r\n```text\r\nbuild stlib4@sta/meson_test_function.h stlib4@sta/meson_test_function.c: CUSTOM_COMMAND ../meson_test_function.tmpl\r\n DESC = Generating$ ''.\r\n COMMAND = '/home/$USER/meson/test$ cases/common/180$ generator$ link$ whole/generator.py' ../meson_test_function.tmpl stlib4@sta\r\n\r\nbuild stlib4@sta/meson-generated_meson_test_function.c.o: c_COMPILER stlib4@sta/meson_test_function.c | stlib4@sta/meson_test_function.h\r\n DEPFILE = stlib4@sta/meson-generated_meson_test_function.c.o.d\r\n ARGS = -Istlib4@sta -I. -I.. -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g -fPIC -DBUILDING_DLL\r\n\r\nbuild libstlib4.a: STATIC_LINKER stlib4@sta/meson-generated_meson_test_function.c.o\r\n LINK_ARGS = csrD\r\n\r\nbuild shlib4@sha/pull_meson_test_function.c.o: c_COMPILER ../pull_meson_test_function.c || stlib4@sta/meson_test_function.h\r\n DEPFILE = shlib4@sha/pull_meson_test_function.c.o.d\r\n ARGS = -Ishlib4@sha -I. -I.. -Istlib4@sta -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g -fPIC -DBUILDING_DLL\r\n\r\nbuild shlib4@sha/libshlib4.so.symbols: SHSYM libshlib4.so\r\n\r\nbuild libshlib4.so: c_LINKER shlib4@sha/pull_meson_test_function.c.o | libstlib4.a\r\n LINK_ARGS = -Wl,--no-undefined -Wl,--as-needed -shared -fPIC -Wl,--start-group -Wl,-soname,libshlib4.so libstlib4.a -Wl,--end-group\r\n\r\nbuild exe4@exe/main.c.o: c_COMPILER ../main.c || stlib4@sta/meson_test_function.h\r\n DEPFILE = exe4@exe/main.c.o.d\r\n ARGS = -Iexe4@exe -I. -I.. -Istlib4@sta -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g\r\n\r\nbuild exe4: c_LINKER exe4@exe/main.c.o | shlib4@sha/libshlib4.so.symbols\r\n LINK_ARGS = -Wl,--no-undefined -Wl,--as-needed -Wl,--start-group libshlib4.so -Wl,--end-group '-Wl,-rpath,$$ORIGIN/' '-Wl,-rpath-link,/home/$USER/meson/test$ cases/common/180$ generator$ link$ whole/build/'\r\n\r\nbuild stlib5@sta/meson_test_function.h stlib5@sta/meson_test_function.c: CUSTOM_COMMAND ../meson_test_function.tmpl\r\n DESC = Generating$ ''.\r\n COMMAND = '/home/$USER/meson/test$ cases/common/180$ generator$ link$ whole/generator.py' ../meson_test_function.tmpl stlib5@sta\r\n\r\nbuild stlib5@sta/meson-generated_meson_test_function.c.o: c_COMPILER stlib5@sta/meson_test_function.c | stlib5@sta/meson_test_function.h\r\n DEPFILE = stlib5@sta/meson-generated_meson_test_function.c.o.d\r\n ARGS = -Istlib5@sta -I. -I.. -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g -fPIC -DBUILDING_DLL\r\n\r\nbuild libstlib5.a: STATIC_LINKER stlib5@sta/meson-generated_meson_test_function.c.o\r\n LINK_ARGS = csrD\r\n\r\nbuild shlib5@sha/libshlib5.so.symbols: SHSYM libshlib5.so\r\n\r\nbuild libshlib5.so: c_LINKER  | libstlib5.a\r\n LINK_ARGS = -Wl,--no-undefined -Wl,--as-needed -shared -fPIC -Wl,--start-group -Wl,-soname,libshlib5.so -Wl,--whole-archive libstlib5.a -Wl,--end-group -Wl,--no-whole-archive\r\n\r\nbuild exe5@exe/main.c.o: c_COMPILER ../main.c\r\n DEPFILE = exe5@exe/main.c.o.d\r\n ARGS = -Iexe5@exe -I. -I.. -Istlib5@sta -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -O0 -g\r\n\r\nbuild exe5: c_LINKER exe5@exe/main.c.o | shlib5@sha/libshlib5.so.symbols\r\n LINK_ARGS = -Wl,--no-undefined -Wl,--as-needed -Wl,--start-group libshlib5.so -Wl,--end-group '-Wl,-rpath,$$ORIGIN/' '-Wl,-rpath-link,/home/$USER/meson/test$ cases/common/180$ generator$ link$ whole/build/'\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3195/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3169", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3169/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3169/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3169/events", "html_url": "https://github.com/mesonbuild/meson/issues/3169", "id": 302040585, "node_id": "MDU6SXNzdWUzMDIwNDA1ODU=", "number": 3169, "title": "Unable to use find's `print0` with meson", "user": {"login": "mithro", "id": 21212, "node_id": "MDQ6VXNlcjIxMjEy", "avatar_url": "https://avatars.githubusercontent.com/u/21212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mithro", "html_url": "https://github.com/mithro", "followers_url": "https://api.github.com/users/mithro/followers", "following_url": "https://api.github.com/users/mithro/following{/other_user}", "gists_url": "https://api.github.com/users/mithro/gists{/gist_id}", "starred_url": "https://api.github.com/users/mithro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mithro/subscriptions", "organizations_url": "https://api.github.com/users/mithro/orgs", "repos_url": "https://api.github.com/users/mithro/repos", "events_url": "https://api.github.com/users/mithro/events{/privacy}", "received_events_url": "https://api.github.com/users/mithro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-03-03T23:10:59Z", "updated_at": "2018-04-17T09:55:35Z", "closed_at": "2018-04-17T09:55:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On Linux you can have some *super* weird characters in your paths -- include newlines. This means the only safe character you can use is the null terminator.\r\n\r\nfind and xarg provide tools for doing this;\r\n* From the find man page;\r\n```\r\n       -print0\r\n              True;  print  the  full  file  name on the standard output, followed by a null character\r\n              (instead of the newline character that -print uses).  This allows file names  that  con\u2010\r\n              tain newlines or other types of white space to be correctly interpreted by programs that\r\n              process the find output.  This option corresponds to the -0 option of xargs.\r\n```\r\n\r\n* From the xargs man page;\r\n```\r\n       -0, --null\r\n              Input  items are terminated by a null character instead of by whitespace, and the quotes\r\n              and backslash are not special (every character is taken literally).  Disables the end of\r\n              file  string,  which  is treated like any other argument.  Useful when input items might\r\n              contain white space, quote marks, or backslashes.  The GNU find -print0 option  produces\r\n              input suitable for this mode.\r\n```\r\n\r\nHowever, when you try and to this with meson using the following;\r\n```meson\r\nproject('100 print null')\r\n\r\nfind_file_list = run_command(find_program('find'), '-type', 'f', '-print0')\r\nassert(find_file_list.returncode() == 0, 'Didn\\'t find any files.')\r\n\r\nfound_files = []\r\nforeach l : find_file_list.stdout().split('\\0')\r\n\tfound_files += [files([l])]\r\nendforeach\r\n```\r\n\r\nYou get the following error output;\r\n```\r\ntansell@tansell:~/github/mesonbuild/meson/test cases/common/100 print null$ meson build .\r\nThe Meson build system\r\nVersion: 0.45.0.dev1\r\nSource dir: XXXX/github/mesonbuild/meson/test cases/common/100 print null\r\nBuild dir: XXXX/github/mesonbuild/meson/test cases/common/100 print null/build\r\nBuild type: native build\r\nProject name: 100 print null\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram find found: YES (/usr/bin/find)\r\nTraceback (most recent call last):\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line\r\n363, in run\r\n    app.generate()\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line\r\n150, in generate\r\n    self._generate(env)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line\r\n197, in _generate\r\n    intr.run()\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2992, in run\r\n    super().run()\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 173, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 195, in evaluate_codeblock\r\n    raise e\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 189, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 230, in evaluate_statement\r\n    return self.evaluate_foreach(cur)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 404, in evaluate_foreach\r\n    self.evaluate_codeblock(node.block)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 195, in evaluate_codeblock\r\n    raise e\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 189, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 232, in evaluate_statement\r\n    return self.evaluate_plusassign(cur)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 409, in evaluate_plusassign\r\n    addition = self.evaluate_statement(node.value)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 216, in evaluate_statement\r\n    return self.evaluate_arraystatement(cur)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 243, in evaluate_arraystatement\r\n    (arguments, kwargs) = self.reduce_arguments(cur.args)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 640, in reduce_arguments\r\n    reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 640, in <listcomp>\r\n    reduced_pos = [self.evaluate_statement(arg) for arg in args.arguments]\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 200, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 456, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 55, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 47, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1614, in func_files\r\n    return [mesonlib.File.from_source_file(self.environment.source_dir, self.subdir, fname) for fname in\r\nargs]\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1614, in <listcomp>\r\n    return [mesonlib.File.from_source_file(self.environment.source_dir, self.subdir, fname) for fname in\r\nargs]\r\n  File \"XXXX/.local/lib/python3.5/site-packages/mesonbuild/mesonlib.py\", line 230, in from_source_file\r\n    if not os.path.isfile(os.path.join(source_root, subdir, fname)):\r\n  File \"/usr/lib/python3.5/genericpath.py\", line 30, in isfile\r\n    st = os.stat(path)\r\nValueError: embedded null byte\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3167", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3167/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3167/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3167/events", "html_url": "https://github.com/mesonbuild/meson/issues/3167", "id": 302038702, "node_id": "MDU6SXNzdWUzMDIwMzg3MDI=", "number": 3167, "title": "Figure out if commented-out build_ssl_context() in wrap.py makes sense", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-03-03T22:41:46Z", "updated_at": "2020-11-22T21:29:26Z", "closed_at": "2020-11-22T21:29:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/mesonbuild/meson/commit/a5508d3fd362ea33633d9706a6257ef0f0c2bbc0#diff-44e2c8c3145ed32e67e572d35ae4dbe0R32", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3156", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3156/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3156/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3156/events", "html_url": "https://github.com/mesonbuild/meson/issues/3156", "id": 301811420, "node_id": "MDU6SXNzdWUzMDE4MTE0MjA=", "number": 3156, "title": "SIGINT not handled exclusively by gdb", "user": {"login": "ntrrgc", "id": 1002436, "node_id": "MDQ6VXNlcjEwMDI0MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1002436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ntrrgc", "html_url": "https://github.com/ntrrgc", "followers_url": "https://api.github.com/users/ntrrgc/followers", "following_url": "https://api.github.com/users/ntrrgc/following{/other_user}", "gists_url": "https://api.github.com/users/ntrrgc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ntrrgc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ntrrgc/subscriptions", "organizations_url": "https://api.github.com/users/ntrrgc/orgs", "repos_url": "https://api.github.com/users/ntrrgc/repos", "events_url": "https://api.github.com/users/ntrrgc/events{/privacy}", "received_events_url": "https://api.github.com/users/ntrrgc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-02T15:49:55Z", "updated_at": "2018-03-04T22:04:30Z", "closed_at": "2018-03-04T22:04:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "How to reproduce:\r\n\r\n1. Run `meson test --gdb`.\r\n2. Type `r` and press Return.\r\n3. Press Ctrl+C.\r\n\r\nExpected behavior:\r\n\r\ngdb pauses the execution of the program and you can see where it got stuck.\r\n\r\nActual behavior:\r\n\r\nBoth gdb and meson handle the SIGINT, so gdb pauses the execution of the program, but at the same time meson terminates and both the gdb prompt and Bash send vt100 command codes to the terminal and both attempt to read from it, rendering it unusable until resetted.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3148", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3148/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3148/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3148/events", "html_url": "https://github.com/mesonbuild/meson/pull/3148", "id": 301091920, "node_id": "MDExOlB1bGxSZXF1ZXN0MTcyMDA0NTM0", "number": 3148, "title": "Add a test for shared_library using link_whole and non-empty source list", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-28T16:29:24Z", "updated_at": "2018-03-06T01:42:14Z", "closed_at": "2018-03-06T01:42:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/3148", "html_url": "https://github.com/mesonbuild/meson/pull/3148", "diff_url": "https://github.com/mesonbuild/meson/pull/3148.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/3148.patch", "merged_at": null}, "body": "This is a weird bug I am trying to reproduce. The test is trivial and fails with\r\n```text\r\nLINK : fatal error LNK1104: cannot open file 'shared.lib'\r\nninja: build stopped: subcommand failed.\r\n ```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3148/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3125", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3125/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3125/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3125/events", "html_url": "https://github.com/mesonbuild/meson/issues/3125", "id": 299328681, "node_id": "MDU6SXNzdWUyOTkzMjg2ODE=", "number": 3125, "title": "compile c++ exe with d library dependency does not work", "user": {"login": "germandiagogomez", "id": 13551083, "node_id": "MDQ6VXNlcjEzNTUxMDgz", "avatar_url": "https://avatars.githubusercontent.com/u/13551083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/germandiagogomez", "html_url": "https://github.com/germandiagogomez", "followers_url": "https://api.github.com/users/germandiagogomez/followers", "following_url": "https://api.github.com/users/germandiagogomez/following{/other_user}", "gists_url": "https://api.github.com/users/germandiagogomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/germandiagogomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/germandiagogomez/subscriptions", "organizations_url": "https://api.github.com/users/germandiagogomez/orgs", "repos_url": "https://api.github.com/users/germandiagogomez/repos", "events_url": "https://api.github.com/users/germandiagogomez/events{/privacy}", "received_events_url": "https://api.github.com/users/germandiagogomez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-22T12:09:07Z", "updated_at": "2018-05-02T21:44:49Z", "closed_at": "2018-05-02T21:44:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nSo, this is my use case:\r\n\r\n```python\r\nmy_d_lib = static_library('dlib', sources : ['src/dsource.d'], ...)\r\n\r\nwx_dep = dependency('wxwidgets', version : '>=3.0.0', required : true)\r\n\r\nmy_cpp_exe = executable('mywxgui', sources : ['src/some.cpp'], dependencies : [wx_dep],\r\n                                             link_with : my_d_lib)\r\n```\r\n\r\nmy_d_lib has some code that can be called from c++. I want to compile my c++ executable and link it with my_d_lib and call my_d_lib routine (which has extern \"C\" linkage) from C++. The problem seems to be that executable assumes this is a d executable when I use `link_with` so it uses dmd to try to put everything together. It should use, for my use case, the c++ compiler and link against the d library.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3113", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3113/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3113/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3113/events", "html_url": "https://github.com/mesonbuild/meson/issues/3113", "id": 298801038, "node_id": "MDU6SXNzdWUyOTg4MDEwMzg=", "number": 3113, "title": "cross compilation struct size guessing \"high\" limit is too low.", "user": {"login": "asavah", "id": 5447220, "node_id": "MDQ6VXNlcjU0NDcyMjA=", "avatar_url": "https://avatars.githubusercontent.com/u/5447220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asavah", "html_url": "https://github.com/asavah", "followers_url": "https://api.github.com/users/asavah/followers", "following_url": "https://api.github.com/users/asavah/following{/other_user}", "gists_url": "https://api.github.com/users/asavah/gists{/gist_id}", "starred_url": "https://api.github.com/users/asavah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asavah/subscriptions", "organizations_url": "https://api.github.com/users/asavah/orgs", "repos_url": "https://api.github.com/users/asavah/repos", "events_url": "https://api.github.com/users/asavah/events{/privacy}", "received_events_url": "https://api.github.com/users/asavah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-21T00:33:42Z", "updated_at": "2018-05-22T18:28:43Z", "closed_at": "2018-03-25T14:27:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "When crosscompiling meson size checks for large structs fails,\r\nfor example systemd just introduced statx check here https://github.com/systemd/systemd/blob/master/meson.build#L462\r\n\r\nCross compilation fails\r\n```\r\nChecking for size of \"struct ethtool_link_settings\": 48\r\nChecking for size of \"struct fib_rule_uid_range\": 8\r\n\r\nMeson encountered an error in file meson.build, line 466, column 8:\r\nCross-compile check overflowed\r\n```\r\nThe cause is that here\r\nhttps://github.com/mesonbuild/meson/blob/master/mesonbuild/compilers/c.py#L419\r\n\"high\" limit of 128 is too low for statx which size is 256 on ARM 32 bit (glibc 2.27, kernel headers 4.14.x),\r\nManually bumping \"high\" value to 1024 in the line above allows the check to determine the correct size of 256.\r\n\r\n```\r\nChecking for size of \"struct ethtool_link_settings\": 48\r\nChecking for size of \"struct fib_rule_uid_range\": 8\r\nChecking for size of \"struct statx\": 256\r\n```\r\nBuild succeeds.\r\n\r\nI don't know whether 1024 is a sane value, but 128 is too low.\r\n\r\nEdit: forgot to mention meson version: 0.44.1 ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3113/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3095", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3095/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3095/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3095/events", "html_url": "https://github.com/mesonbuild/meson/issues/3095", "id": 298110657, "node_id": "MDU6SXNzdWUyOTgxMTA2NTc=", "number": 3095, "title": "Confusing output about promotion when a subproject fails to configure", "user": {"login": "jon-turney", "id": 3497232, "node_id": "MDQ6VXNlcjM0OTcyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-turney", "html_url": "https://github.com/jon-turney", "followers_url": "https://api.github.com/users/jon-turney/followers", "following_url": "https://api.github.com/users/jon-turney/following{/other_user}", "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions", "organizations_url": "https://api.github.com/users/jon-turney/orgs", "repos_url": "https://api.github.com/users/jon-turney/repos", "events_url": "https://api.github.com/users/jon-turney/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-turney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-02-18T19:27:55Z", "updated_at": "2019-04-30T00:12:56Z", "closed_at": "2019-04-30T00:12:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```console\r\n# git clone https://github.com/valum-framework/valum\r\nCloning into 'valum'...\r\nremote: Counting objects: 10216, done.\r\nremote: Compressing objects: 100% (25/25), done.\r\nremote: Total 10216 (delta 8), reused 12 (delta 5), pack-reused 10186\r\nReceiving objects: 100% (10216/10216), 3.34 MiB | 2.22 MiB/s, done.\r\nResolving deltas: 100% (7262/7262), done.\r\n# cd valum\r\n# meson _build\r\nThe Meson build system\r\nVersion: 0.45.0.dev1\r\nSource dir: /valum\r\nBuild dir: /valum/_build\r\nBuild type: native build\r\nProject name: valum\r\nNative C compiler: cc (gcc 7.2.0 \"cc (Ubuntu 7.2.0-8ubuntu3) 7.2.0\")\r\nNative Vala compiler: valac (valac 0.36.6)\r\nBuild machine cpu family: x86\r\nBuild machine cpu: i686\r\nFound pkg-config: /usr/bin/pkg-config (0.29.1)\r\nNative dependency glib-2.0 found: YES 2.54.1\r\nNative dependency gobject-2.0 found: YES 2.54.1\r\nNative dependency gio-2.0 found: YES 2.54.1\r\nNative dependency libsoup-2.4 found: YES 2.60.1\r\nCloning into 'vsgi'...\r\nremote: Counting objects: 5749, done.\r\nremote: Total 5749 (delta 0), reused 0 (delta 0), pack-reused 5749\r\nReceiving objects: 100% (5749/5749), 1.76 MiB | 1.86 MiB/s, done.\r\nResolving deltas: 100% (3896/3896), done.\r\nAlready on 'master'\r\nYour branch is up-to-date with 'origin/master'.\r\n\r\nExecuting subproject vsgi.\r\n\r\nProject name: vsgi\r\nNative C compiler: cc (gcc 7.2.0 \"cc (Ubuntu 7.2.0-8ubuntu3) 7.2.0\")\r\nNative Vala compiler: valac (valac 0.36.6)\r\nDependency glib-2.0 found: YES (cached)\r\nDependency gobject-2.0 found: YES (cached)\r\nDependency gio-2.0 found: YES (cached)\r\nNative dependency gio-unix-2.0 found: YES 2.54.1\r\nNative dependency gmodule-2.0 found: YES 2.54.1\r\nDependency libsoup-2.4 found: YES (cached)\r\nDependency libsystemd found: NO\r\nAlso couldn't find a fallback subproject in subprojects/vsgi for the dependency vsgi\r\nReason: Native dependency 'openssl' not found                                         <----\r\n\r\nDependency vsgi not found but it is available in a sub-subproject.\r\nTo use it in the current project, promote it by going in the project source\r\nroot and issuing one of the following commands.\r\n\r\nmeson wrap promote subprojects/vsgi\r\nmeson wrap promote subprojects/vsgi.wrap\r\n\r\nmeson.build:17:0: ERROR: Native dependency 'vsgi' not found\r\n```\r\n\r\nAfter PR #2334 it is assumed that a subproject has failed to configure because it's not a top-level subproject.\r\n\r\nIf it failed for any other reason (e.g. a missing dependency) then `print_nested_info()` shouldn't be called, as this obscures the actual error, and offers incorrect advice about remediation.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3095/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3088", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3088/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3088/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3088/events", "html_url": "https://github.com/mesonbuild/meson/issues/3088", "id": 298083899, "node_id": "MDU6SXNzdWUyOTgwODM4OTk=", "number": 3088, "title": "subproject initialization fails with uninitialized git submodules", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-02-18T13:14:01Z", "updated_at": "2018-02-20T21:11:25Z", "closed_at": "2018-02-19T22:16:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This broke after #3035, see: https://github.com/mesonbuild/meson/pull/3035/files#r168265735\r\n\r\nNeeds a test also, and must be fixed before release.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3077", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3077/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3077/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3077/events", "html_url": "https://github.com/mesonbuild/meson/issues/3077", "id": 297846042, "node_id": "MDU6SXNzdWUyOTc4NDYwNDI=", "number": 3077, "title": "macOS: incorrect rpath handling for dependencies", "user": {"login": "siriobalmelli", "id": 23038812, "node_id": "MDQ6VXNlcjIzMDM4ODEy", "avatar_url": "https://avatars.githubusercontent.com/u/23038812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siriobalmelli", "html_url": "https://github.com/siriobalmelli", "followers_url": "https://api.github.com/users/siriobalmelli/followers", "following_url": "https://api.github.com/users/siriobalmelli/following{/other_user}", "gists_url": "https://api.github.com/users/siriobalmelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/siriobalmelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siriobalmelli/subscriptions", "organizations_url": "https://api.github.com/users/siriobalmelli/orgs", "repos_url": "https://api.github.com/users/siriobalmelli/repos", "events_url": "https://api.github.com/users/siriobalmelli/events{/privacy}", "received_events_url": "https://api.github.com/users/siriobalmelli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-02-16T16:37:41Z", "updated_at": "2018-06-18T06:33:38Z", "closed_at": "2018-06-18T06:33:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "rpath handling on macOS is incorrect in 2 ways:\r\n- LC_RPATH pointing to the build dir is NOT stripped on `ninja install`\r\n- LC_RPATH for dependencies is OMITTED\r\n\r\nThe first problem is trivial, but conceivably a security concern if an attacker can manipulate the filesystem at runtime and put a compromised library in the \"build rpath\" not sripped.\r\n\r\nThe second problem is critical, but only shows up when dependencies are in non-standard paths (e.g.: Nix).\r\n\r\n## reproduce with intra-project dependency\r\n\r\nA straightforward is the `ncp` utility of [nonlibc](https://siriobalmelli.github.io/nonlibc/):\r\n\r\n```bash\r\n~ $ git clone https://github.com/siriobalmelli/nonlibc.git\r\n~ $ cd nonlibc\r\nnonlibc $ git checkout tags/v0.1.9b\r\nnonlibc $ nix-build\r\n```\r\n\r\nYou will see it builds and tests successfully, including the test for `ncp`.\r\nFor context, `ncp` is declared in `util/meson.build`:\r\n\r\n```meson\r\nncp = executable('ncp', 'ncp.c',\r\n\t\tinclude_directories : inc,\r\n\t\tlink_with : nonlibc,\r\n\t\tinstall : true)\r\n\r\ntest('ncp test',\r\n\tfind_program('test_ncp.py'),\r\n\targs : ncp.full_path())\r\n```\r\n\r\nHowever, trying to execute the result throws a linker error:\r\n\r\n```bash\r\nnonlibc$ result/bin/ncp\r\ndyld: Library not loaded: @rpath/libnonlibc.dylib\r\n  Referenced from: /Users/siriobalmelli/nonlibc/result/bin/ncp\r\n  Reason: image not found\r\n```\r\n\r\nNOTE that `result` is actually a symlink to the Nix build:\r\n\r\n```bash\r\nnonlibc$ readlink result\r\n/nix/store/p7mmc0i21967k7a2hmxdm67mx36766a2-nonlibc\r\n```\r\n\r\nHowever, the linking dependency IS correctly declared and exported to `pkgconfig` by meson:\r\n\r\n```bash\r\nnonlibc$ pkg-config --libs result/lib/pkgconfig/nonlibc.pc \r\n-L/nix/store/p7mmc0i21967k7a2hmxdm67mx36766a2-nonlibc/lib -lnonlibc\r\n```\r\n\r\nBy looking at the \"load commands\" of `ncp` we see the problem (some output elided for clarity):\r\n\r\n```bash\r\nnonlibc$ otool -l result/bin/ncp | grep -E '\\s+(name|path)'\r\n         name @rpath/libnonlibc.dylib (offset 24)\r\n         path /private/tmp/nix-build-nonlibc.drv-0/nonlibc/build/src (offset 12)\r\n```\r\n\r\nHere we see a (correct) `@rpath` name for nonlibc, but then we see:\r\n- a `path` directive pointing to the build directory (should have been stripped)\r\n- no `path` directive pointing to `/nix/store/p7mmc0i21967k7a2hmxdm67mx36766a2-nonlibc/lib`\r\n\r\n## hack for intra-project dependencies\r\n\r\nThe can be ~fixed~ hacked by:\r\n\r\n1. forcing a linker argument when we declare the `dependecy` in meson:\r\n```meson\r\n# Force dependers to have an rpath entry pointing to where we KNOW we'll install.\r\n# This fixes both Nix and non-nix projects (providing 'prefix' is set correctly),\r\n#+  and does OPAQUELY (depender doesn't have to add an 'install_rpath' directive).\r\nrpath = get_option('prefix') + '/' + get_option('libdir')\r\nnonlibc_dep_shared = declare_dependency(link_with : nonlibc,\r\n\t\t\t\t\tinclude_directories : inc,\r\n\t\t\t\t\tdependencies : deps,\r\n\t\t\t\t\tlink_args : '-Wl,-rpath,' + rpath)\r\n```\r\n\r\n2. changing the `ncp` definition to use `dependencies` instead of `link_with`:\r\n```meson\r\nncp = executable('ncp', 'ncp.c',\r\n\t\tinclude_directories : inc,\r\n\t\tdependencies: nonlibc_dep_shared,\r\n\t\tinstall : true)\r\n```\r\n\r\nHere is what the build looks like (some output elided for clarity):\r\n\r\n```bash\r\n~ $ git clone https://github.com/siriobalmelli/nonlibc.git\r\n~ $ cd nonlibc\r\nnonlibc $ nix-build\r\nnonlibc $ result/bin/ncp \r\nUsage: result/bin/ncp [OPTION]... SOURCE_FILE DEST_FILE\r\n  or:  result/bin/ncp [OPTION]... SOURCE_FILE... DEST_DIR/\r\nnonlibc $ otool -l result/bin/ncp | grep -E '\\s+(name|path)'\r\n         name @rpath/libnonlibc.dylib (offset 24)\r\n         path /nix/store/0xvwwzz02ngn63hiqv825fg0kyh5vldv-nonlibc/lib (offset 12)\r\n         path /private/tmp/nix-build-nonlibc.drv-0/nonlibc/build/src (offset 12)\r\n```\r\n\r\n## reproduce with inter-project (cannot fix as above)\r\n\r\nThe above would be all well and good, but when importing a dependency which is NOT a meson subproject, using `pkgconfig`, there is no straightforward way to force meson to generate an rpath.\r\n\r\nAn example is [memorywell](https://siriobalmelli.github.io/memorywell/) which depends on nonlibc:\r\n\r\n```bash\r\n~ $ git clone https://github.com/siriobalmelli/nonlibc.git\r\n~ $ git clone --branch=sirio https://github.com/siriobalmelli/memorywell.git\r\n~ $ cd memorywell\r\nmemorywell $ nix-build -I ~\r\ndyld: Library not loaded: @rpath/libnonlibc.dylib\r\n  Referenced from: /private/tmp/nix-build-memorywell.drv-0/memorywell/build/test/well_test_shared\r\n  Reason: image not found\r\n```\r\n\r\nThis is easier to see building step-by-step inside a `nix-shell`:\r\n\r\n```bash\r\nmemorywell $ nix-shell -I ~ --pure\r\n[nix-shell:~/memorywell]$ CC=clang meson --buildtype=release build-release-clang\r\nThe Meson build system\r\nVersion: 0.44.0\r\nSource dir: /Users/siriobalmelli/memorywell\r\nBuild dir: /Users/siriobalmelli/memorywell/build-release-clang\r\nBuild type: native build\r\nProject name: memorywell\r\nNative C compiler: clang (clang 4.0.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: /nix/store/7p159gq5b79cxwjcpw1z3wjfcw0bjwdi-pkg-config-0.29.2/bin/pkg-config (0.29.2)\r\nNative dependency nonlibc found: YES 0.1.9\r\nConfiguring well_config.h using configuration\r\nDependency threads found: YES\r\nBuild targets in project: 26\r\nFound ninja-1.8.2 at /nix/store/yxpay4bx8b8fccgvk21fnn15kglkfllk-ninja-1.8.2/bin/ninja\r\n[nix-shell:~/memorywell]$ cd build-release-clang/\r\n[nix-shell:~/memorywell/build-release-clang]$ ninja \r\n[nix-shell:~/memorywell/build-release-clang]$ otool -l test/well_test_shared | grep -E '\\s+(name|path)'\r\n         name @rpath/libmemorywell.dylib (offset 24)\r\n         name @rpath/libnonlibc.dylib (offset 24)\r\n         path /Users/siriobalmelli/memorywell/build-release-clang/src (offset 12)\r\n[nix-shell:~/memorywell/build-release-clang]$ pkg-config --libs nonlibc \r\n-L/nix/store/dbxywb352yx39j15hk7kmlsxqwc520nm-nonlibc/lib -lnonlibc\r\n```\r\n\r\nAs you can see above:\r\n- meson finds the `nonlibc` dependency using `pkgconfig`\r\n- `pkgconfig` gives the right link path\r\n- ... this path is absent from the `well_test_shared` executable\r\n\r\n## proposal\r\n\r\nI propose that rpath logic for macOS be modified to:\r\n\r\n1. At build-time: dereference all `dependencies` objects into a (unique) list of all LC_RPATH entries to add into the binary's \"load commands\" section:\r\n- for intra-project dependencies these point to the build dir\r\n- for pkgconfig (and any other) dependencies, these point to the system tree\r\n- don't take any paths for granted, even if `/usr/lib` etc - always insert an LC_RPATH entry\r\n\r\n2. At install-time, rewrite all intra-project LC_RPATH entries to point to `get_option('prefix') + '/' + get_option('libdir')`", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3077/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3077/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3071", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3071/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3071/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3071/events", "html_url": "https://github.com/mesonbuild/meson/issues/3071", "id": 297292031, "node_id": "MDU6SXNzdWUyOTcyOTIwMzE=", "number": 3071, "title": "Problem with linker argument deduplication not working", "user": {"login": "rib", "id": 235361, "node_id": "MDQ6VXNlcjIzNTM2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/235361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rib", "html_url": "https://github.com/rib", "followers_url": "https://api.github.com/users/rib/followers", "following_url": "https://api.github.com/users/rib/following{/other_user}", "gists_url": "https://api.github.com/users/rib/gists{/gist_id}", "starred_url": "https://api.github.com/users/rib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rib/subscriptions", "organizations_url": "https://api.github.com/users/rib/orgs", "repos_url": "https://api.github.com/users/rib/repos", "events_url": "https://api.github.com/users/rib/events{/privacy}", "received_events_url": "https://api.github.com/users/rib/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-02-15T00:18:17Z", "updated_at": "2018-06-18T06:33:37Z", "closed_at": "2018-06-18T06:33:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I can see from a quick inspection of code that Meson theoretically should be deduplicating `-l` arguments but I'm apparently hitting some kind of corner case because we are seeing linking times of around 25 seconds due to a huge number of duplicate `-lboost_system`,  `-lboost_thread` and `-lm` arguments:\r\n\r\n```make\r\ntime g++ -o glimpse_viewer 'glimpse_viewer@exe/src_glimpse_viewer.cc.o' 'glimpse_viewer@exe/src_glimpse_config.cc.o' 'glimpse_viewer@exe/src_glimpse_context.cc.o' 'glimpse_viewer@exe/src_glimpse_device.cc.o' 'glimpse_viewer@exe/src_glimpse_record.cc.o' 'glimpse_viewer@exe/src_glimpse_assets.c.o' 'glimpse_viewer@exe/src_glimpse_mem_pool.cc.o' 'glimpse_viewer@exe/src_glimpse_log.c.o' 'glimpse_viewer@exe/src_glimpse_gl.c.o' 'glimpse_viewer@exe/src_infer.cc.o' 'glimpse_viewer@exe/src_loader.cc.o' 'glimpse_viewer@exe/src_xalloc.c.o' 'glimpse_viewer@exe/src_image_utils.cc.o' 'glimpse_viewer@exe/src_llist.c.o' 'glimpse_viewer@exe/src_tinyexr.cc.o' 'glimpse_viewer@exe/src_parson.c.o' 'glimpse_viewer@exe/src_imgui_imgui.cpp.o' 'glimpse_viewer@exe/src_imgui_imgui_demo.cpp.o' 'glimpse_viewer@exe/src_imgui_imgui_draw.cpp.o' 'glimpse_viewer@exe/src_imgui_profiler.cpp.o' 'glimpse_viewer@exe/src_imgui_timer.cpp.o' 'glimpse_viewer@exe/src_imgui_imgui_impl_glfw_gles3.cpp.o' -Wl,--no-undefined -Wl,--as-needed -Wl,--start-group subprojects/libpng-1.6.17/libpng.so subprojects/dlib/libdlib.so.19.7.0 subprojects/pcl/libpcl_common.so.1.8.1 subprojects/pcl/libpcl_segmentation.so.1.8.1 subprojects/pcl/libpcl_kdtree.so.1.8.1 subprojects/pcl/libpcl_octree.so.1.8.1 subprojects/pcl/libpcl_search.so.1.8.1 subprojects/pcl/libpcl_sample_consensus.so.1.8.1 subprojects/pcl/libpcl_filters.so.1.8.1 subprojects/pcl/libpcl_features.so.1.8.1 subprojects/pcl/libpcl_ml.so.1.8.1 -pthread -lepoxy -lpng16 -lz -ljpeg -lX11 -lcblas -llapack -lm -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lm -lflann_cpp -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -lm -lboost_system -lboost_thread -lboost_system -lboost_thread -lboost_system -lboost_thread -L/home/bob/local/libfreenect/lib -lfreenect -lunwind -lglfw -Wl,--end-group '-Wl,-rpath,$ORIGIN/subprojects/libpng-1.6.17:$ORIGIN/subprojects/dlib:$ORIGIN/subprojects/pcl' -Wl,-rpath-link,/home/bob/src/glimpse/glimpse-sdk/build-debug/subprojects/libpng-1.6.17:/home/bob/src/glimpse/glimpse-sdk/build-debug/subprojects/dlib:/home/bob/src/glimpse/glimpse-sdk/build-debug/subprojects/pcl\r\n\r\nreal    0m25.637s\r\nuser    0m19.087s\r\nsys     0m6.466s\r\n```\r\n\r\nManually de-duplicating the same tool links in about three seconds:\r\n```\r\ntime g++ -o glimpse_viewer 'glimpse_viewer@exe/src_glimpse_viewer.cc.o' 'glimpse_viewer@exe/src_glimpse_config.cc.o' 'glimpse_viewer@exe/src_glimpse_context.cc.o' 'glimpse_viewer@exe/src_glimpse_device.cc.o' 'glimpse_viewer@exe/src_glimpse_record.cc.o' 'glimpse_viewer@exe/src_glimpse_assets.c.o' 'glimpse_viewer@exe/src_glimpse_mem_pool.cc.o' 'glimpse_viewer@exe/src_glimpse_log.c.o' 'glimpse_viewer@exe/src_glimpse_gl.c.o' 'glimpse_viewer@exe/src_infer.cc.o' 'glimpse_viewer@exe/src_loader.cc.o' 'glimpse_viewer@exe/src_xalloc.c.o' 'glimpse_viewer@exe/src_image_utils.cc.o' 'glimpse_viewer@exe/src_llist.c.o' 'glimpse_viewer@exe/src_tinyexr.cc.o' 'glimpse_viewer@exe/src_parson.c.o' 'glimpse_viewer@exe/src_imgui_imgui.cpp.o' 'glimpse_viewer@exe/src_imgui_imgui_demo.cpp.o' 'glimpse_viewer@exe/src_imgui_imgui_draw.cpp.o' 'glimpse_viewer@exe/src_imgui_profiler.cpp.o' 'glimpse_viewer@exe/src_imgui_timer.cpp.o' 'glimpse_viewer@exe/src_imgui_imgui_impl_glfw_gles3.cpp.o' -Wl,--no-undefined -Wl,--as-needed -Wl,--start-group subprojects/libpng-1.6.17/libpng.so subprojects/dlib/libdlib.so.19.7.0 subprojects/pcl/libpcl_common.so.1.8.1 subprojects/pcl/libpcl_segmentation.so.1.8.1 subprojects/pcl/libpcl_kdtree.so.1.8.1 subprojects/pcl/libpcl_octree.so.1.8.1 subprojects/pcl/libpcl_search.so.1.8.1 subprojects/pcl/libpcl_sample_consensus.so.1.8.1 subprojects/pcl/libpcl_filters.so.1.8.1 subprojects/pcl/libpcl_features.so.1.8.1 subprojects/pcl/libpcl_ml.so.1.8.1 -pthread -lepoxy -lpng16 -lz -ljpeg -lX11 -lcblas -llapack -lm -lboost_system -lboost_thread -lflann_cpp -L/home/bob/local/libfreenect/lib -lfreenect -lunwind -lglfw -Wl,--end-group '-Wl,-rpath,$ORIGIN/subprojects/libpng-1.6.17:$ORIGIN/subprojects/dlib:$ORIGIN/subprojects/pcl' -Wl,-rpath-link,/home/bob/src/glimpse/glimpse-sdk/build-debug/subprojects/libpng-1.6.17:/home/bob/src/glimpse/glimpse-sdk/build-debug/subprojects/dlib:/home/bob/src/glimpse/glimpse-sdk/build-debug/subprojects/pcl                                                                                                                                                                                                                                                                                                                             real    0m2.754s                                                                                                                                                                                                   user    0m2.163s                                                                                                                                                                                                   sys     0m0.579s\r\n```\r\n\r\nIt should be possible to replicate via:\r\n```\r\ngit clone https://github.com/glimpse-project/glimpse\r\nmkdir glimpse/build\r\ncd glimpse/build\r\nmeson --buildtype=debug -Duse_system_libs=false ..\r\nninja glimpse_viewer\r\n```\r\n\r\nTesting with meson 0.45.0-dev1 based on 0e07f1a8963c75b57bbe445821c7291f81d1e10b", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3071/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3044", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3044/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3044/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3044/events", "html_url": "https://github.com/mesonbuild/meson/issues/3044", "id": 296250804, "node_id": "MDU6SXNzdWUyOTYyNTA4MDQ=", "number": 3044, "title": "Unknown type integer error", "user": {"login": "Muffo", "id": 538925, "node_id": "MDQ6VXNlcjUzODkyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/538925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Muffo", "html_url": "https://github.com/Muffo", "followers_url": "https://api.github.com/users/Muffo/followers", "following_url": "https://api.github.com/users/Muffo/following{/other_user}", "gists_url": "https://api.github.com/users/Muffo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Muffo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Muffo/subscriptions", "organizations_url": "https://api.github.com/users/Muffo/orgs", "repos_url": "https://api.github.com/users/Muffo/repos", "events_url": "https://api.github.com/users/Muffo/events{/privacy}", "received_events_url": "https://api.github.com/users/Muffo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 575908313, "node_id": "MDU6TGFiZWw1NzU5MDgzMTM=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/documentation", "name": "documentation", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-12T02:18:03Z", "updated_at": "2018-02-13T22:16:00Z", "closed_at": "2018-02-13T22:16:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using the following options taken directly from the [online documentation](http://mesonbuild.com/Build-options.html):\r\n\r\n```\r\noption('someoption', type : 'string', value : 'optval', description : 'An option')\r\noption('other_one', type : 'boolean', value : false)\r\noption('combo_opt', type : 'combo', choices : ['one', 'two', 'three'], value : 'three')\r\noption('integer_opt', type : 'integer', min : 0, max : 5, value : 3)\r\noption('free_array_opt', type : 'array', value : ['one', 'two'])\r\noption('array_opt', type : 'array', choices : ['one', 'two', 'three'], value : ['one', 'two'])\r\n```\r\n\r\nWhen I build I get the following error:\r\n\r\n```\r\n[0/1] Regenerating build files.\r\nThe Meson build system\r\nVersion: 0.44.0\r\nSource dir: /Users/Muffo/Devel/Repos/mesontest\r\nBuild dir: /Users/Muffo/Devel/Repos/mesontest/builddir\r\nBuild type: native build\r\n\r\nMeson encountered an error in file meson_options.txt, line 4, column 0:\r\nUnknown type integer.\r\n\r\nA full log can be found at /Users/Muffo/Devel/Repos/mesontest/builddir/meson-logs/meson-log.txt\r\nFAILED: build.ninja \r\n/usr/local/opt/python3/bin/python3.6 /usr/local/bin/meson --internal regenerate /Users/Muffo/Devel/Repos/mesontest /Users/Muffo/Devel/Repos/mesontest/builddir --backend ninja\r\nninja: error: rebuilding 'build.ninja': subcommand failed\r\n```\r\n\r\nI guess it's a typo in the documentation, however I am just starting to learn Meson and I don't know what should be the right syntax.\r\n\r\n**Additional info:**\r\n\r\n```\r\n$ meson --version\r\n0.44.0\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3044/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3034", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3034/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3034/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3034/events", "html_url": "https://github.com/mesonbuild/meson/issues/3034", "id": 295903208, "node_id": "MDU6SXNzdWUyOTU5MDMyMDg=", "number": 3034, "title": "Reported benchmark times too big", "user": {"login": "W4RH4WK", "id": 328798, "node_id": "MDQ6VXNlcjMyODc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/328798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/W4RH4WK", "html_url": "https://github.com/W4RH4WK", "followers_url": "https://api.github.com/users/W4RH4WK/followers", "following_url": "https://api.github.com/users/W4RH4WK/following{/other_user}", "gists_url": "https://api.github.com/users/W4RH4WK/gists{/gist_id}", "starred_url": "https://api.github.com/users/W4RH4WK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/W4RH4WK/subscriptions", "organizations_url": "https://api.github.com/users/W4RH4WK/orgs", "repos_url": "https://api.github.com/users/W4RH4WK/repos", "events_url": "https://api.github.com/users/W4RH4WK/events{/privacy}", "received_events_url": "https://api.github.com/users/W4RH4WK/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-02-09T15:13:45Z", "updated_at": "2018-02-12T19:39:29Z", "closed_at": "2018-02-12T19:39:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I just tried using Meson's provided `benchmark` directive and noticed something odd. The times reported by running the benchmarks through meson are much bigger compared to running them on their own.\r\n\r\nThis probably also affects the times reported for unit tests, but I honestly don't care about them.\r\n\r\nThe related project is available on GitHub [here](https://github.com/W4RH4WK/mCc).\r\nTo reproduce this, make sure you have `flex` and `bison` installed and run the following:\r\n\r\n    $ git clone https://github.com/W4RH4WK/mCc\r\n    $ cd mCc\r\n    $ git checkout 700ce09ea8ebe5b82256843d13a6224ef9da86c6\r\n    $ meson builddir\r\n    $ cd builddir\r\n    $ ninja benchmark\r\n\r\nThe project is built and the benchmarks are run.\r\nMy system yields the following output:\r\n\r\n```\r\n...\r\n[22/22] Running benchmark suite.\r\n1/2 parser/binary_op: 100000                OK       0.43 s\r\n2/2 parser/nested_expression: 100000        OK       0.46 s\r\n\r\nOK:         2\r\nFAIL:       0\r\nSKIP:       0\r\nTIMEOUT:    0\r\n\r\nFull log written to /home/w4rh4wk/git/mCc/builddir/meson-logs/benchmarklog.txt\r\n```\r\n\r\nNow if I run the corresponding benchmark binary, with the same number of repetitions (first argument), I get significantly faster reported runtime:\r\n\r\n```\r\n$ \\time -v ./bench_parser_binary_op 100000\r\n\tCommand being timed: \"./bench_parser_binary_op 100000\"\r\n\tUser time (seconds): 0.22\r\n\tSystem time (seconds): 0.06\r\n\tPercent of CPU this job got: 99%\r\n\tElapsed (wall clock) time (h:mm:ss or m:ss): 0:00.29\r\n\tAverage shared text size (kbytes): 0\r\n\tAverage unshared data size (kbytes): 0\r\n\tAverage stack size (kbytes): 0\r\n\tAverage total size (kbytes): 0\r\n\tMaximum resident set size (kbytes): 1432\r\n\tAverage resident set size (kbytes): 0\r\n\tMajor (requiring I/O) page faults: 0\r\n\tMinor (reclaiming a frame) page faults: 69\r\n\tVoluntary context switches: 1\r\n\tInvoluntary context switches: 1\r\n\tSwaps: 0\r\n\tFile system inputs: 0\r\n\tFile system outputs: 0\r\n\tSocket messages sent: 0\r\n\tSocket messages received: 0\r\n\tSignals delivered: 0\r\n\tPage size (bytes): 4096\r\n\tExit status: 0\r\n```\r\n\r\n- - -\r\n\r\nI am on a Lenovo T460s:\r\n\r\n```\r\n$ lscpu\r\nArchitecture:          x86_64\r\nCPU op-mode(s):        32-bit, 64-bit\r\nByte Order:            Little Endian\r\nCPU(s):                4\r\nOn-line CPU(s) list:   0-3\r\nThread(s) per core:    2\r\nCore(s) per socket:    2\r\nSocket(s):             1\r\nNUMA node(s):          1\r\nVendor ID:             GenuineIntel\r\nCPU family:            6\r\nModel:                 78\r\nModel name:            Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz\r\nStepping:              3\r\nCPU MHz:               757.226\r\nCPU max MHz:           3000.0000\r\nCPU min MHz:           400.0000\r\nBogoMIPS:              4992.46\r\nVirtualization:        VT-x\r\nL1d cache:             32K\r\nL1i cache:             32K\r\nL2 cache:              256K\r\nL3 cache:              3072K\r\nNUMA node0 CPU(s):     0-3\r\nFlags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc art arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowprefetch epb invpcid_single intel_pt spec_ctrl kaiser tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx rdseed adx smap clflushopt xsaveopt xsavec xgetbv1 dtherm ida arat pln pts hwp hwp_notify hwp_act_window hwp_epp\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3029", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3029/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3029/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3029/events", "html_url": "https://github.com/mesonbuild/meson/issues/3029", "id": 295497400, "node_id": "MDU6SXNzdWUyOTU0OTc0MDA=", "number": 3029, "title": "generated Vala source can not be found", "user": {"login": "eyelash", "id": 2668288, "node_id": "MDQ6VXNlcjI2NjgyODg=", "avatar_url": "https://avatars.githubusercontent.com/u/2668288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eyelash", "html_url": "https://github.com/eyelash", "followers_url": "https://api.github.com/users/eyelash/followers", "following_url": "https://api.github.com/users/eyelash/following{/other_user}", "gists_url": "https://api.github.com/users/eyelash/gists{/gist_id}", "starred_url": "https://api.github.com/users/eyelash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eyelash/subscriptions", "organizations_url": "https://api.github.com/users/eyelash/orgs", "repos_url": "https://api.github.com/users/eyelash/repos", "events_url": "https://api.github.com/users/eyelash/events{/privacy}", "received_events_url": "https://api.github.com/users/eyelash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-08T12:40:33Z", "updated_at": "2018-02-11T14:04:57Z", "closed_at": "2018-02-11T14:04:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "meson.build:\r\n```meson\r\nproject('vala-test', 'vala', 'c')\r\nconfig = configuration_data()\r\nconfig.set('MESSAGE', 'Hello')\r\nmain_vala = configure_file(configuration: config, input: 'main.vala.in', output: 'main.vala')\r\nexecutable('vala-test', main_vala, dependencies: dependency('glib-2.0'))\r\n```\r\nmain.vala.in:\r\n```vala\r\nvoid main() {\r\n    stdout.printf(\"@MESSAGE@\\n\");\r\n}\r\n```\r\nThe above project builds without errors with Meson 0.39.1 but fails with Meson 0.44.0 from the GNOME SDK Flatpak with the following error:\r\n```\r\n[2/3] Compiling C object 'vala-test@exe/meson-generated_main.c.o'.\r\nFAILED: vala-test@exe/meson-generated_main.c.o \r\nccache cc  -Ivala-test@exe -I. -I.. -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -w -O0 -g -MMD -MQ 'vala-test@exe/meson-generated_main.c.o' -MF 'vala-test@exe/meson-generated_main.c.o.d' -o 'vala-test@exe/meson-generated_main.c.o' -c 'vala-test@exe/main.c'\r\ncc: error: vala-test@exe/main.c: No such file or directory\r\ncc: fatal error: no input files\r\ncompilation terminated.\r\nninja: build stopped: subcommand failed.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3029/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3025", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3025/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3025/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3025/events", "html_url": "https://github.com/mesonbuild/meson/issues/3025", "id": 295333774, "node_id": "MDU6SXNzdWUyOTUzMzM3NzQ=", "number": 3025, "title": "subprojects always inherit c_std and cpp_std from the parent project", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-07T23:38:50Z", "updated_at": "2018-02-11T14:51:08Z", "closed_at": "2018-02-11T14:51:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If I have a project that uses `c_std=c99` and a subproject that uses `c_std=gnu99`, then the subproject will be compiled with `c_std=c99`. This might be fine, or there might be gnu extensions in use in the subproject.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3025/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3025/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3015", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3015/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3015/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3015/events", "html_url": "https://github.com/mesonbuild/meson/issues/3015", "id": 294450394, "node_id": "MDU6SXNzdWUyOTQ0NTAzOTQ=", "number": 3015, "title": "Can't run test cases against installed meson due to changes in how meson is detected in mesonlib.py", "user": {"login": "DimStar77", "id": 532559, "node_id": "MDQ6VXNlcjUzMjU1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/532559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DimStar77", "html_url": "https://github.com/DimStar77", "followers_url": "https://api.github.com/users/DimStar77/followers", "following_url": "https://api.github.com/users/DimStar77/following{/other_user}", "gists_url": "https://api.github.com/users/DimStar77/gists{/gist_id}", "starred_url": "https://api.github.com/users/DimStar77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DimStar77/subscriptions", "organizations_url": "https://api.github.com/users/DimStar77/orgs", "repos_url": "https://api.github.com/users/DimStar77/repos", "events_url": "https://api.github.com/users/DimStar77/events{/privacy}", "received_events_url": "https://api.github.com/users/DimStar77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-05T16:14:50Z", "updated_at": "2018-02-20T21:11:25Z", "closed_at": "2018-02-19T22:17:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm backaging meson for a distro, and naturally, I'm interested to monitor that meson, the package I provide, works.\r\n\r\nUp to version 0.43.0, I carried a small patch on the test suite that forced the usage of /usr/bin/meson instead of the local sources (the directories mesonbuild and the file meson.py were removed before running the test suite, to ensure the distro provided files are used)\r\n\r\nWith 0.44.0, this is no longer possible - as mesonbuild/mesonnlib.py has code to 'detect how meson is being started' - and fails in pretty much any way possible.\r\n\r\nThe simplest reproducer is ```python3 -c 'from mesonbuild import mesonlib'``` which results in an error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonlib.py\", line 63, in <module>\r\n    meson_command = python_command + [detect_meson_py_location()]\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonlib.py\", line 54, in detect_meson_py_location\r\n    raise RuntimeError('Could not determine how to run Meson. Please file a bug with details.')\r\nRuntimeError: Could not determine how to run Meson. Please file a bug with details.\r\n```\r\n\r\nIt would be really great if the test suite could be run with the installed meson as test target; this allows distro packagers to validate their package being correct.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3015/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3006", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/3006/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/3006/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/3006/events", "html_url": "https://github.com/mesonbuild/meson/issues/3006", "id": 293915569, "node_id": "MDU6SXNzdWUyOTM5MTU1Njk=", "number": 3006, "title": "Installation messages are inconsistent if DESTDIR is present", "user": {"login": "sarum9in", "id": 1058248, "node_id": "MDQ6VXNlcjEwNTgyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1058248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarum9in", "html_url": "https://github.com/sarum9in", "followers_url": "https://api.github.com/users/sarum9in/followers", "following_url": "https://api.github.com/users/sarum9in/following{/other_user}", "gists_url": "https://api.github.com/users/sarum9in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarum9in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarum9in/subscriptions", "organizations_url": "https://api.github.com/users/sarum9in/orgs", "repos_url": "https://api.github.com/users/sarum9in/repos", "events_url": "https://api.github.com/users/sarum9in/events{/privacy}", "received_events_url": "https://api.github.com/users/sarum9in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-02-02T14:59:01Z", "updated_at": "2018-02-11T13:27:18Z", "closed_at": "2018-02-05T20:34:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For install subdirectories it does not include DESTDIR in log message, but for files it does.\r\nThis was tested on released 0.44 version and master.\r\nI believe correct behavior would be to show actual destination path, including DESTDIR.\r\n\r\n```\r\n$ env DESTDIR=/tmp/root ninja -C bd install -j1 \r\n...\r\n[4/5] Installing files.\r\nInstalling subdir /home/XXX/dev/bacs-project/bunsan/test/include/bunsan to /usr/local/include\r\nInstalling subdir /home/XXX/dev/bacs-project/bunsan/common/include/bunsan to /usr/local/include\r\nInstalling subdir /home/XXX/dev/bacs-project/bunsan/crypto/include/bunsan to /usr/local/include\r\nInstalling bunsan/test/libbunsan_test.so.0.1.0 to /tmp/root/usr/local/lib/libbunsan_test.so.0.1.0\r\nInstalling bunsan/common/libbunsan_common.so.0.1.0 to /tmp/root/usr/local/lib/libbunsan_common.so.0.1.0\r\nInstalling bunsan/crypto/libbunsan_crypto.so.0.1.0 to /tmp/root/usr/local/lib/libbunsan_crypto.so.0.1.0\r\n```\r\n\r\nSidenote:\r\nI can fix this since I am already working on #2869, pending #2994.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/3006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/3006/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2990", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2990/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2990/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2990/events", "html_url": "https://github.com/mesonbuild/meson/issues/2990", "id": 292362880, "node_id": "MDU6SXNzdWUyOTIzNjI4ODA=", "number": 2990, "title": "cannot use BOOST_ROOT in msys2 [crash]", "user": {"login": "lb90", "id": 12200013, "node_id": "MDQ6VXNlcjEyMjAwMDEz", "avatar_url": "https://avatars.githubusercontent.com/u/12200013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lb90", "html_url": "https://github.com/lb90", "followers_url": "https://api.github.com/users/lb90/followers", "following_url": "https://api.github.com/users/lb90/following{/other_user}", "gists_url": "https://api.github.com/users/lb90/gists{/gist_id}", "starred_url": "https://api.github.com/users/lb90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lb90/subscriptions", "organizations_url": "https://api.github.com/users/lb90/orgs", "repos_url": "https://api.github.com/users/lb90/repos", "events_url": "https://api.github.com/users/lb90/events{/privacy}", "received_events_url": "https://api.github.com/users/lb90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-01-29T10:54:58Z", "updated_at": "2018-04-16T10:43:21Z", "closed_at": "2018-04-16T10:43:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To use boost in msys2 one have to use BOOST_ROOT because msys2 has a non standard directory layout, but it crashes:\r\n```\r\n$ BOOST_ROOT=/mingw64 meson builddir\r\nThe Meson build system\r\nVersion: 0.44.0\r\nSource dir: C:/msys64/home/luca9/myproject\r\nBuild dir: C:/msys64/home/luca9/myproject/builddir\r\nBuild type: native build\r\nProject name: myproject\r\nNative C++ compiler: c++ (gcc 7.2.0)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nTraceback (most recent call last):\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\mesonmain.py\", line 365, in run\r\n    app.generate()\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\mesonmain.py\", line 151, in generate\r\n    self._generate(env)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\mesonmain.py\", line 199, in _generate\r\n    intr.run()\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreter.py\", line 2868, in run\r\n    super().run()\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 171, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 193, in evaluate_codeblock\r\n    raise e\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 187, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 200, in evaluate_statement\r\n    return self.assignment(cur)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 659, in assignment\r\n    value = self.evaluate_statement(node.value)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 198, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 441, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreterbase.py\", line 77, in wrapped\r\n    return f(s, node_or_state, args, kwargs)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\interpreter.py\", line 2185, in func_dependency\r\n    dep = dependencies.find_external_dependency(name, self.environment, kwargs)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\dependencies\\base.py\", line 864, in find_external_dependency\r\n    dep = packages[lname](env, kwargs)\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\dependencies\\misc.py\", line 121, in __init__\r\n    self.detect_lib_modules()\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\dependencies\\misc.py\", line 237, in detect_lib_modules\r\n    return self.detect_lib_modules_win()\r\n  File \"C:/msys64/mingw64/lib/python3.6/site-packages\\mesonbuild\\dependencies\\misc.py\", line 242, in detect_lib_modules_win\r\n    comp_ts_version = self.env.detect_cpp_compiler(self.want_cross).get_toolset_version()\r\nAttributeError: 'GnuCPPCompiler' object has no attribute 'get_toolset_version'\r\n```\r\nTo reproduce the issue, simply create an empty directory with this meson.build\r\n```meson\r\nproject('myproject', ['cpp'])\r\n\r\nboost_dep = dependency('boost', modules: [])\r\n```\r\nAlso tried with clang and clang++ but it's the same", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2990/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2946", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2946/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2946/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2946/events", "html_url": "https://github.com/mesonbuild/meson/issues/2946", "id": 289653168, "node_id": "MDU6SXNzdWUyODk2NTMxNjg=", "number": 2946, "title": "Meson rebuilds everything on meson.build file change", "user": {"login": "Salamandar", "id": 6552989, "node_id": "MDQ6VXNlcjY1NTI5ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/6552989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Salamandar", "html_url": "https://github.com/Salamandar", "followers_url": "https://api.github.com/users/Salamandar/followers", "following_url": "https://api.github.com/users/Salamandar/following{/other_user}", "gists_url": "https://api.github.com/users/Salamandar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Salamandar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Salamandar/subscriptions", "organizations_url": "https://api.github.com/users/Salamandar/orgs", "repos_url": "https://api.github.com/users/Salamandar/repos", "events_url": "https://api.github.com/users/Salamandar/events{/privacy}", "received_events_url": "https://api.github.com/users/Salamandar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-18T14:44:18Z", "updated_at": "2019-12-10T08:31:03Z", "closed_at": "2018-01-29T19:33:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nMeson seems to rebuild every obj file on any meson.build change (even touch).\r\nThat's not a Ninja issue as CMake+Ninja does not have this behaviour. Does Meson internally store build informations, to know which targets need rebuild ?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2946/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2937", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2937/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2937/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2937/events", "html_url": "https://github.com/mesonbuild/meson/issues/2937", "id": 289282240, "node_id": "MDU6SXNzdWUyODkyODIyNDA=", "number": 2937, "title": "Source only internal dependencies does not work in mixed projects", "user": {"login": "lravasz", "id": 35530218, "node_id": "MDQ6VXNlcjM1NTMwMjE4", "avatar_url": "https://avatars.githubusercontent.com/u/35530218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lravasz", "html_url": "https://github.com/lravasz", "followers_url": "https://api.github.com/users/lravasz/followers", "following_url": "https://api.github.com/users/lravasz/following{/other_user}", "gists_url": "https://api.github.com/users/lravasz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lravasz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lravasz/subscriptions", "organizations_url": "https://api.github.com/users/lravasz/orgs", "repos_url": "https://api.github.com/users/lravasz/repos", "events_url": "https://api.github.com/users/lravasz/events{/privacy}", "received_events_url": "https://api.github.com/users/lravasz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-17T14:20:11Z", "updated_at": "2018-10-05T13:00:30Z", "closed_at": "2018-10-05T13:00:29Z", "author_association": "NONE", "active_lock_reason": null, "body": " I created a mixed project with langs 'c' & 'cpp'.\r\nThe executable is pure c++ and depends on a pure c module.\r\n\r\n```\r\nexe = executable('projtest',\r\n    'main.cpp',\r\n    dependencies : dep\r\n)\r\n```\r\n```\r\ninc = include_directories('.')\r\ndep = declare_dependency(\r\n    sources : 'lib.c',\r\n    include_directories : inc,\r\n)\r\n```\r\n In this setup the build process fails for the executeble because the 'c' compiler is not found for the internal dependency 'lib/lib.c'. \r\n\r\n```{r}\r\n$ meson build\r\nThe Meson build system\r\nVersion: 0.44.0\r\nSource dir: /tmp/mixed-internal-dep\r\nBuild dir: /tmp/mixed-internal-dep/build\r\nBuild type: native build\r\nProject name: mixed internal dependency\r\nNative C compiler: cc (gcc 4.8.4)\r\nNative C++ compiler: c++ (gcc 4.8.4)\r\nBuild machine cpu family: x86\r\nBuild machine cpu: i686\r\nBuild targets in project: 1\r\nFound ninja-1.8.2 at /usr/local/bin/ninja\r\nTraceback (most recent call last):\r\n  File \"/home/deveushu/VEnv/all/lib/python3.6/site-packages/meson-0.44.0-py3.6.egg/mesonbuild/mesonmain.py\", line 365, in run\r\n    app.generate()\r\n  File \"/home/deveushu/VEnv/all/lib/python3.6/site-packages/meson-0.44.0-py3.6.egg/mesonbuild/mesonmain.py\", line 151, in generate\r\n    self._generate(env)\r\n  File \"/home/deveushu/VEnv/all/lib/python3.6/site-packages/meson-0.44.0-py3.6.egg/mesonbuild/mesonmain.py\", line 208, in _generate\r\n    g.generate(intr)\r\n  File \"/home/deveushu/VEnv/all/lib/python3.6/site-packages/meson-0.44.0-py3.6.egg/mesonbuild/backend/ninjabackend.py\", line 210, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"/home/deveushu/VEnv/all/lib/python3.6/site-packages/meson-0.44.0-py3.6.egg/mesonbuild/backend/ninjabackend.py\", line 457, in generate_target\r\n    obj_list.append(self.generate_single_compile(target, outfile, src, False, [], header_deps))\r\n  File \"/home/deveushu/VEnv/all/lib/python3.6/site-packages/meson-0.44.0-py3.6.egg/mesonbuild/backend/ninjabackend.py\", line 2146, in generate_single_compile\r\n    compiler = get_compiler_for_source(target.compilers.values(), src)\r\n  File \"/home/deveushu/VEnv/all/lib/python3.6/site-packages/meson-0.44.0-py3.6.egg/mesonbuild/mesonlib.py\", line 227, in get_compiler_for_source\r\n    raise RuntimeError('No specified compiler can handle file {!s}'.format(src))\r\nRuntimeError: No specified compiler can handle file lib/lib.c\r\n```\r\n As far as i know the compilers are searched for the sources in the BuildTarget class. The dependecies are extracted with the process_kwargs(), while the compilers with the process_compilers() and process_compilers_late() methods. The process_compilers() method is called in the init before the source dependencies are extracted in the process_kwargs() method, and the process_compilers_late() method called later does not add the 'c' compiler in case of pure source code dependency.\r\n\r\n\r\n[mixed-internal-dep.tar.gz](https://github.com/mesonbuild/meson/files/1639101/mixed-internal-dep.tar.gz)\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2919", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2919/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2919/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2919/events", "html_url": "https://github.com/mesonbuild/meson/issues/2919", "id": 288409049, "node_id": "MDU6SXNzdWUyODg0MDkwNDk=", "number": 2919, "title": "Directories added to REGENERATE_BUILD ninja target", "user": {"login": "baedert", "id": 887764, "node_id": "MDQ6VXNlcjg4Nzc2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/887764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baedert", "html_url": "https://github.com/baedert", "followers_url": "https://api.github.com/users/baedert/followers", "following_url": "https://api.github.com/users/baedert/following{/other_user}", "gists_url": "https://api.github.com/users/baedert/gists{/gist_id}", "starred_url": "https://api.github.com/users/baedert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baedert/subscriptions", "organizations_url": "https://api.github.com/users/baedert/orgs", "repos_url": "https://api.github.com/users/baedert/repos", "events_url": "https://api.github.com/users/baedert/events{/privacy}", "received_events_url": "https://api.github.com/users/baedert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-14T13:38:15Z", "updated_at": "2018-02-18T18:32:48Z", "closed_at": "2018-02-14T17:14:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "The gtk+ build currently causes a meson to regenerate the build files on every change. This seems to happen because both the `gtk/` and the `gdk/` subdirectory are added to the `REGENERATE_BUILD` rule in the generated `build.ninja`:\r\n```\r\nbuild build.ninja: REGENERATE_BUILD ../meson.build ../modules/input/meson.build ../gdk/meson.build ../gdk/gen-gdk-gresources-xml.py ../gdk ../build/gdk/gdk.gresource.xml ../gdk/gdkconfig.h.meson ../gdk/gdkversionmacros.h.in ../gdk/wayland/meson.build ../gdk/x11/meson.build ../gsk/meson.build ../gsk/gen-gsk-gresources-xml.py ../build/gsk/gsk.resources.xml ../gtk/meson.build ../gtk/deprecated\r\n/meson.build ../gtk/a11y/meson.build ../gtk/inspector/meson.build ../gtk/gen-gtk-gresources-xml.py ../gtk ../build/gtk/gtk.gresources.xml ../gtk/theme/Adwaita/meson.build ../gtk/theme/HighContrast/meson.build ../gtk/gtkversion.h.in ../modules/meson.build ../modules/printbackends/meson.build ../modules/printbackends/file/meson.build ../modules/printbackends/cups/meson.build ../modules/printbackends/cloudprint/meson.build ../tests/meson.build ../tests/visuals/meson.build ../testsuite/meson.build ../testsuite/gdk/meson.build ../testsuite/gsk/meson.build ../testsuite/gtk/meson.build ../testsuite\r\n/css/meson.build ../testsuite/css/parser/meson.build ../testsuite/css/nodes/meson.build ../testsuite/css/style/meson.build ../testsuite/a11y/meson.build ../testsuite/tools/meson.build ../testsuite/tools/simplify.in ../testsuite/tools/settings.in ../demos/meson.build ../demos/gtk-demo/meson.build ../demos/icon-browser/meson.build ../demos/widget-factory/meson.build ../examples/meson.build ../examples/bp/meson.build ../examples/application1/meson.build ../examples/application2/meson.build \r\n../examples/application3/meson.build ../examples/application4/meson.build ../examples/application5/meson.build ../examples/application6/meson.build ../examples/application7/meson.build ../examples\r\n/application8/meson.build ../examples/application9/meson.build ../examples/application10/meson.build ../config.h.meson ../gtk+-4.0.pc.in ../gtk+-unix-print-4.0.pc.in ../po/meson.build ../po-properties/meson.build meson-private/coredata.dat ../meson_options.txt\r\n```\r\n... which contains an entry for `..gdk/` and `..gtk/`.\r\n\r\nThis happens both with 0.44 and master from yesterday as far as I can tell.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2919/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2911", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2911/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2911/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2911/events", "html_url": "https://github.com/mesonbuild/meson/issues/2911", "id": 288332695, "node_id": "MDU6SXNzdWUyODgzMzI2OTU=", "number": 2911, "title": "Optional dependency added to generated pkgconfig file even when not found", "user": {"login": "ebassi", "id": 1665, "node_id": "MDQ6VXNlcjE2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebassi", "html_url": "https://github.com/ebassi", "followers_url": "https://api.github.com/users/ebassi/followers", "following_url": "https://api.github.com/users/ebassi/following{/other_user}", "gists_url": "https://api.github.com/users/ebassi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebassi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebassi/subscriptions", "organizations_url": "https://api.github.com/users/ebassi/orgs", "repos_url": "https://api.github.com/users/ebassi/repos", "events_url": "https://api.github.com/users/ebassi/events{/privacy}", "received_events_url": "https://api.github.com/users/ebassi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-13T14:19:42Z", "updated_at": "2018-02-18T18:32:48Z", "closed_at": "2018-01-19T13:50:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If I have an optional dependency `foo`:\r\n\r\n```meson\r\nfoo_dep = dependency('foo', required: false)\r\n```\r\n\r\nand I use `foo_dep` to build a shared library that will then be fed to `pkgconfig.generate()`, the dependency on `foo` will be added to the `Requires.private` field, regardless of whether `foo_dep` was found or not. This behaviour changed between Meson 0.44.0 and 0.44.0-176-g81100f06.\r\n\r\nAs a real world issue: building libdrm with `-Dvalgrind=false`, and without Valgrind installed, with Meson 0.44 will generate a libdrm.pc file that does not depend on `valgrind`, whereas doing the same with Meson master will generate a libdrm.pc file that adds a dependency on `valgrind`:\r\n\r\n```\r\n--- /home/ebassi/Junk/libdrm-meson-stable.pc\t2018-01-13 14:13:20.247204072 +0000\r\n+++ /home/ebassi/Junk/libdrm-meson-master.pc\t2018-01-13 14:17:00.365290492 +0000\r\n@@ -5,5 +5,7 @@ includedir=${prefix}/include\r\n Name: libdrm\r\n Description: Userspace interface to kernel DRM services\r\n Version: 2.4.89\r\n+Requires.private: valgrind\r\n Libs: -L${libdir} -ldrm\r\n+Libs.private: -lm\r\n Cflags: -I${includedir} -I${includedir}/libdrm\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2910", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2910/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2910/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2910/events", "html_url": "https://github.com/mesonbuild/meson/issues/2910", "id": 288141930, "node_id": "MDU6SXNzdWUyODgxNDE5MzA=", "number": 2910, "title": "-Ddefault_library=static doesn't set the default_library option", "user": {"login": "djdeath", "id": 434333, "node_id": "MDQ6VXNlcjQzNDMzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/434333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djdeath", "html_url": "https://github.com/djdeath", "followers_url": "https://api.github.com/users/djdeath/followers", "following_url": "https://api.github.com/users/djdeath/following{/other_user}", "gists_url": "https://api.github.com/users/djdeath/gists{/gist_id}", "starred_url": "https://api.github.com/users/djdeath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djdeath/subscriptions", "organizations_url": "https://api.github.com/users/djdeath/orgs", "repos_url": "https://api.github.com/users/djdeath/repos", "events_url": "https://api.github.com/users/djdeath/events{/privacy}", "received_events_url": "https://api.github.com/users/djdeath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}, {"id": 850828231, "node_id": "MDU6TGFiZWw4NTA4MjgyMzE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/options", "name": "options", "color": "fef2c0", "default": false, "description": "Meson configuration options"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-01-12T14:48:53Z", "updated_at": "2018-08-11T15:25:11Z", "closed_at": "2018-08-11T15:25:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Configuring a project with -Ddefault_library=static leaves subprojects' libraries dynamically linked.\r\nPassing --default-library=static does make them link statically.\r\n\r\nSimilarly giving default_library: 'static' in the project doesn't work either : \r\n```\r\nproject('GPUTop', 'c', 'cpp',            \r\n        version : '0.0.2',               \r\n        default_options : [              \r\n          'warning_level=2',             \r\n          'c_std=gnu99',                 \r\n        ],                               \r\n        license : 'MIT',                 \r\n        default_library : 'static',      \r\n        meson_version : '>0.40.0')       \r\n```\r\n\r\nIs this expected behavior?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2910/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2905", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2905/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2905/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2905/events", "html_url": "https://github.com/mesonbuild/meson/issues/2905", "id": 287505059, "node_id": "MDU6SXNzdWUyODc1MDUwNTk=", "number": 2905, "title": "dependency('gl') can return an object which claims to be a pkgconfig dependency, but isn't", "user": {"login": "jon-turney", "id": 3497232, "node_id": "MDQ6VXNlcjM0OTcyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-turney", "html_url": "https://github.com/jon-turney", "followers_url": "https://api.github.com/users/jon-turney/followers", "following_url": "https://api.github.com/users/jon-turney/following{/other_user}", "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions", "organizations_url": "https://api.github.com/users/jon-turney/orgs", "repos_url": "https://api.github.com/users/jon-turney/repos", "events_url": "https://api.github.com/users/jon-turney/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-turney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-10T16:54:30Z", "updated_at": "2018-02-11T18:01:33Z", "closed_at": "2018-02-11T18:01:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```meson.build\r\nproject('gl dependency', 'c')\r\n\r\ngl_dep = dependency('gl', method: 'pkg-config', required: false)\r\nmessage(gl_dep.type_name())\r\nif gl_dep.found() and gl_dep.type_name() == 'pkgconfig'\r\n  gl_dep.get_pkgconfig_variable('prefix')\r\nendif\r\n```\r\n\r\nconfusingly fails with:\r\n\r\n```\r\nMessage: pkgconfig\r\n\r\nMeson encountered an error in file meson.build, line 6, column 0:\r\n'gl' is not a pkgconfig dependency\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2905/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2887", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2887/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2887/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2887/events", "html_url": "https://github.com/mesonbuild/meson/issues/2887", "id": 286529308, "node_id": "MDU6SXNzdWUyODY1MjkzMDg=", "number": 2887, "title": "meson should reuse the same llvm-config on reconfigure", "user": {"login": "jvesely", "id": 5942874, "node_id": "MDQ6VXNlcjU5NDI4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5942874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvesely", "html_url": "https://github.com/jvesely", "followers_url": "https://api.github.com/users/jvesely/followers", "following_url": "https://api.github.com/users/jvesely/following{/other_user}", "gists_url": "https://api.github.com/users/jvesely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvesely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvesely/subscriptions", "organizations_url": "https://api.github.com/users/jvesely/orgs", "repos_url": "https://api.github.com/users/jvesely/repos", "events_url": "https://api.github.com/users/jvesely/events{/privacy}", "received_events_url": "https://api.github.com/users/jvesely/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-01-06T23:32:49Z", "updated_at": "2018-12-26T20:25:37Z", "closed_at": "2018-11-17T04:22:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is possible to redirect llvm-config by modifying the PATH variable and use a locally built llvm instead of the system provided one.\r\nmeson falls back to system provided llvm during reconfigure unless the user sets PATH every time he/she builds a project.\r\nIt would be nice if either:\r\na) meson remembered the original absolute path of llvm-config and prioritized it during reconfigure\r\nb) there was a way to provide custom llvm-config location (--with-llvm-config) that is remembered so the PATH adjustment is not necessary", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2887/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2881", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2881/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2881/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2881/events", "html_url": "https://github.com/mesonbuild/meson/issues/2881", "id": 286372345, "node_id": "MDU6SXNzdWUyODYzNzIzNDU=", "number": 2881, "title": "Meson doesn't set LD_LIBRARY_PATH when executables in builddir are used to run custom_target", "user": {"login": "lantw44", "id": 3016644, "node_id": "MDQ6VXNlcjMwMTY2NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3016644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lantw44", "html_url": "https://github.com/lantw44", "followers_url": "https://api.github.com/users/lantw44/followers", "following_url": "https://api.github.com/users/lantw44/following{/other_user}", "gists_url": "https://api.github.com/users/lantw44/gists{/gist_id}", "starred_url": "https://api.github.com/users/lantw44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lantw44/subscriptions", "organizations_url": "https://api.github.com/users/lantw44/orgs", "repos_url": "https://api.github.com/users/lantw44/repos", "events_url": "https://api.github.com/users/lantw44/events{/privacy}", "received_events_url": "https://api.github.com/users/lantw44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}, {"id": 680510296, "node_id": "MDU6TGFiZWw2ODA1MTAyOTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:*BSD", "name": "OS:*BSD", "color": "990000", "default": false, "description": "Issues specific to one of the BSD Operating Systems"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-01-05T18:48:35Z", "updated_at": "2023-03-19T03:54:33Z", "closed_at": "2018-06-20T14:33:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "colord uses custom_target to run `cd-create-profile` to generate icc files during the build. `cd-create-profile` is an executable built from the same source tree, which should have RPATH set by Meson. However, FreeBSD configures its compiler to pass `--enable-new-dtags` to the linker, so RPATH are converted to RUNPATH. If users have LD_LIBRARY_PATH set in the environment, it will override RUNPATH and cause `cd-create-profile` to fail to run because the runtime linker picks the already installed `libcolordprivate.so.2` from LD_LIBRARY_PATH instead of the one built in builddir.\r\n\r\n```\r\n$ ninja\r\n[108/215] Generating AppleRGB.icc with a custom command.\r\nFAILED: data/profiles/AppleRGB.icc \r\n/home/lantw44/gnome/build/colord/client/cd-create-profile --output=data/profiles/AppleRGB.icc data/profiles/AppleRGB.iccprofile.xml\r\n/home/lantw44/gnome/build/colord/client/cd-create-profile: Undefined symbol \"cd_icc_set_created\"\r\n[109/215] Generating AdobeRGB1998.icc with a custom command.\r\nFAILED: data/profiles/AdobeRGB1998.icc \r\n/home/lantw44/gnome/build/colord/client/cd-create-profile --output=data/profiles/AdobeRGB1998.icc data/profiles/AdobeRGB1998.iccprofile.xml\r\n/home/lantw44/gnome/build/colord/client/cd-create-profile: Undefined symbol \"cd_icc_set_created\"\r\n[111/215] Generating BestRGB.icc with a custom command.\r\nFAILED: data/profiles/BestRGB.icc \r\n/home/lantw44/gnome/build/colord/client/cd-create-profile --output=data/profiles/BestRGB.icc data/profiles/BestRGB.iccprofile.xml\r\n/home/lantw44/gnome/build/colord/client/cd-create-profile: Undefined symbol \"cd_icc_set_created\"\r\n$ chrpath /home/lantw44/gnome/build/colord/client/cd-create-profile\r\n/home/lantw44/gnome/build/colord/client/cd-create-profile: RUNPATH=$ORIGIN/../lib/colord\r\n```\r\n\r\nIt seems there are some similar issues for tests: #1383, #1635.\r\n\r\nI know I can workaround it by using a shell script to set LD_LIBRARY_PATH and run `cd-create-profile`, but it will become a problem if I have to patch all projects using uninstalled executables to run custom_target.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2881/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2881/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2878", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2878/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2878/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2878/events", "html_url": "https://github.com/mesonbuild/meson/issues/2878", "id": 286133864, "node_id": "MDU6SXNzdWUyODYxMzM4NjQ=", "number": 2878, "title": "Strange output when find_program() fails", "user": {"login": "haasn", "id": 1149047, "node_id": "MDQ6VXNlcjExNDkwNDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1149047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haasn", "html_url": "https://github.com/haasn", "followers_url": "https://api.github.com/users/haasn/followers", "following_url": "https://api.github.com/users/haasn/following{/other_user}", "gists_url": "https://api.github.com/users/haasn/gists{/gist_id}", "starred_url": "https://api.github.com/users/haasn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haasn/subscriptions", "organizations_url": "https://api.github.com/users/haasn/orgs", "repos_url": "https://api.github.com/users/haasn/repos", "events_url": "https://api.github.com/users/haasn/events{/privacy}", "received_events_url": "https://api.github.com/users/haasn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-04T22:32:10Z", "updated_at": "2018-02-09T14:01:00Z", "closed_at": "2018-01-10T22:34:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "meson.build:\r\n```\r\nproject('example')\r\nfoo = find_program('asd12343', required: false)\r\n```\r\n\r\noutput:\r\n```\r\n$ meson build\r\nThe Meson build system\r\nVersion: 0.44.0\r\nSource dir: /mem/test\r\nBuild dir: /mem/test/build\r\nBuild type: native build\r\nProject name: example\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram asd12343 found: NO\r\nProgram nonexistingprogram found: NO       <- bug\r\nBuild targets in project: 0\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\n```\r\n\r\nI've highlighted the strange line.\r\n  ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2878/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2870", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2870/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2870/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2870/events", "html_url": "https://github.com/mesonbuild/meson/issues/2870", "id": 285835407, "node_id": "MDU6SXNzdWUyODU4MzU0MDc=", "number": 2870, "title": "Reject comparison between boolean & string (or any incompatible combinations)", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-03T23:01:45Z", "updated_at": "2018-02-01T20:57:08Z", "closed_at": "2018-02-01T20:57:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While reviewing libdrm's meson port I found such construction (which is typo, but anyway).\r\n\r\n`if get_option('foo') != 'false'`\r\n\r\nTo be honest, I want meson to fail hard on this... Or at least show noisy warning.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2870/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2870/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2868", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2868/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2868/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2868/events", "html_url": "https://github.com/mesonbuild/meson/issues/2868", "id": 285739561, "node_id": "MDU6SXNzdWUyODU3Mzk1NjE=", "number": 2868, "title": "LANG should not be relied on by a build tool to operate properly", "user": {"login": "imirkin", "id": 817874, "node_id": "MDQ6VXNlcjgxNzg3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/817874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imirkin", "html_url": "https://github.com/imirkin", "followers_url": "https://api.github.com/users/imirkin/followers", "following_url": "https://api.github.com/users/imirkin/following{/other_user}", "gists_url": "https://api.github.com/users/imirkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/imirkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imirkin/subscriptions", "organizations_url": "https://api.github.com/users/imirkin/orgs", "repos_url": "https://api.github.com/users/imirkin/repos", "events_url": "https://api.github.com/users/imirkin/events{/privacy}", "received_events_url": "https://api.github.com/users/imirkin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}, {"id": 569977980, "node_id": "MDU6TGFiZWw1Njk5Nzc5ODA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/mesa/wayland/xorg", "name": "mesa/wayland/xorg", "color": "808000", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-01-03T16:33:56Z", "updated_at": "2018-01-14T17:18:11Z", "closed_at": "2018-01-14T17:18:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It seems like the user's LANG setting is relied upon by meson. It should work independently of such user environment details. (In my personal case, I set LANG to C since I don't use a utf8-capable terminal emulator.)\r\n\r\nIdeally the solution isn't \"switch to a different terminal emulator in order to be able to build projects with meson\". Specifically in addition to a ton of error spew while trying to build mesa, it ends up failing in one of the build steps (which naturally succeeds with an autoconf-based build in the same environment). I haven't investigated in detail why that failure happens, could be something mesa-specific. The larger point stands even if it is though.\r\n\r\nMy guess is that this is due to some implicit conversions between bytes and runes. These should all have explicit encodings set, probably configured in the build file and defaulting to utf8. When printing messages to the screen, a conversion with errors=ignore would be fine.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2868/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2860", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2860/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2860/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2860/events", "html_url": "https://github.com/mesonbuild/meson/issues/2860", "id": 285347284, "node_id": "MDU6SXNzdWUyODUzNDcyODQ=", "number": 2860, "title": "gnome.compile_resources builds wrong paths since 0.44", "user": {"login": "aclemons", "id": 346774, "node_id": "MDQ6VXNlcjM0Njc3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/346774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aclemons", "html_url": "https://github.com/aclemons", "followers_url": "https://api.github.com/users/aclemons/followers", "following_url": "https://api.github.com/users/aclemons/following{/other_user}", "gists_url": "https://api.github.com/users/aclemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/aclemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aclemons/subscriptions", "organizations_url": "https://api.github.com/users/aclemons/orgs", "repos_url": "https://api.github.com/users/aclemons/repos", "events_url": "https://api.github.com/users/aclemons/events{/privacy}", "received_events_url": "https://api.github.com/users/aclemons/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-01-02T02:47:34Z", "updated_at": "2018-02-20T21:11:24Z", "closed_at": "2018-02-20T17:26:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since upgrading to meson 0.44, the paths generated from a call to gnome.compile_resources include the subdirectory twice, breaking the build.\r\n\r\nThis is on Slackware Linux 14.2 x86_64 using meson 0.44. Example projects breaking are appstream-glib and fwupd.\r\n\r\nappstream-glib includes this in its meson.build:\r\n```meson\r\nasresources = gnome.compile_resources(\r\n  'as-resources', 'appstream-glib.gresource.xml',\r\n  c_name : 'as'\r\n)\r\n```\r\n\r\nThat results in this in the build.ninja file:\r\n```ninja\r\nbuild libappstream-glib/as-resources.c: CUSTOM_COMMAND ../libappstream-glib/appstream-glib.gresource.xml | ../libappstream-glib/libappstream-glib/as-stock-icons.txt ../libappstream-glib/libappstream-glib/as-license-ids.txt ../libappstream-glib/libappstream-glib/as-category-ids.txt ../libappstream-glib/libappstream-glib/as-environment-ids.txt\r\n COMMAND = glib-compile-resources ../libappstream-glib/appstream-glib.gresource.xml --sourcedir ../libappstream-glib --c-name as --internal --generate --target libappstream-glib/as-resources.c\r\n description = Generating$ as-resources_c$ with$ a$ custom$ command.\r\n```\r\nnote the double `libappstream-glib` directory.\r\n\r\nThe same happens with fwupd:\r\n\r\n```meson\r\nresources_src = gnome.compile_resources(\r\n  'fwupd-resources',\r\n  'fwupd.gresource.xml',\r\n  source_dir : '.',\r\n  c_name : 'fu'\r\n)\r\n```\r\n\r\n```ninja\r\nbuild src/fwupd-resources.c: CUSTOM_COMMAND ../src/fwupd.gresource.xml | ../src/src/org.freedesktop.fwupd.xml\r\n COMMAND = glib-compile-resources ../src/fwupd.gresource.xml --sourcedir ../src/. --sourcedir ../src --c-name fu --internal --generate --target src/fwupd-resources.c\r\n description = Generating$ fwupd-resources_c$ with$ a$ custom$ command.\r\n```\r\nnote the duplicated `src` directory.\r\n\r\nThe builds were fine with meson 0.43.\r\n\r\nReverting the commit 5219333 unbreaks the build, but that commit was added to fix #2633.\r\n\r\nI initially reported this as an appstream-glib issue here hughsie/appstream-glib#216, but it seems to be a meson regression.\r\n\r\nSlackbuilds for meson, appstream-glib, and fwupd are here:\r\nhttps://slackbuilds.org/slackbuilds/14.2/libraries/appstream-glib/appstream-glib.SlackBuild\r\nhttps://slackbuilds.org/repository/14.2/libraries/appstream-glib/\r\nhttps://slackbuilds.org/slackbuilds/14.2/development/meson/meson.SlackBuild\r\nhttps://slackbuilds.org/repository/14.2/development/meson/\r\nhttp://slackbuilds.org/slackbuilds/14.2/system/fwupd/fwupd.SlackBuild\r\nhttp://slackbuilds.org/repository/14.2/system/fwupd/\r\n\r\nThe appstream-glib build includes a work-around for now to remove the duplicated paths from the generated ninja files.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2860/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2848", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2848/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2848/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2848/events", "html_url": "https://github.com/mesonbuild/meson/issues/2848", "id": 285149989, "node_id": "MDU6SXNzdWUyODUxNDk5ODk=", "number": 2848, "title": "Visual Studio REGEN target fails when using `vs` backend", "user": {"login": "polarina", "id": 419473, "node_id": "MDQ6VXNlcjQxOTQ3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/419473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polarina", "html_url": "https://github.com/polarina", "followers_url": "https://api.github.com/users/polarina/followers", "following_url": "https://api.github.com/users/polarina/following{/other_user}", "gists_url": "https://api.github.com/users/polarina/gists{/gist_id}", "starred_url": "https://api.github.com/users/polarina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polarina/subscriptions", "organizations_url": "https://api.github.com/users/polarina/orgs", "repos_url": "https://api.github.com/users/polarina/repos", "events_url": "https://api.github.com/users/polarina/events{/privacy}", "received_events_url": "https://api.github.com/users/polarina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-29T20:17:41Z", "updated_at": "2018-02-18T18:32:48Z", "closed_at": "2017-12-30T21:22:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The version auto-detection does not work when building the `REGEN` target in Visual Studio, if meson was initially invoked with `--backend=vs`.\r\n\r\n```\r\n1>------ Build started: Project: REGEN, Configuration: debug Win32 ------\r\n1>Checking whether solution needs to be regenerated.\r\n1>The Meson build system\r\n1>Version: 0.45.0.dev1\r\n1>Source dir: C:\\msys64\\home\\Polarina\\mysa\r\n1>Build dir: C:\\msys64\\home\\Polarina\\mysa\\build\r\n1>Build type: native build\r\n1>Traceback (most recent call last):\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 365, in run\r\n1>    app.generate()\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 151, in generate\r\n1>    self._generate(env)\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 174, in _generate\r\n1>    g = vs2010backend.autodetect_vs_version(b)\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\backend\\vs2010backend.py\", line 38, in autodetect_vs_version\r\n1>    if vs_version == '14.0' or 'Visual Studio 14' in vs_install_dir:\r\n1>TypeError: argument of type 'NoneType' is not iterable\r\n1>Traceback (most recent call last):\r\n1>  File \"C:\\Users\\Polarina\\AppData\\Local\\Programs\\Python\\Python36-32\\Scripts\\meson.py\", line 26, in <module>\r\n1>    sys.exit(main())\r\n1>  File \"C:\\Users\\Polarina\\AppData\\Local\\Programs\\Python\\Python36-32\\Scripts\\meson.py\", line 23, in main\r\n1>    return mesonmain.run(sys.argv[1:], launcher)\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 322, in run\r\n1>    sys.exit(run_script_command(args[1:]))\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 278, in run_script_command\r\n1>    return cmdfunc(cmdargs)\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\scripts\\regen_checker.py\", line 55, in run\r\n1>    regen(regeninfo, mesonscript, backend)\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\scripts\\regen_checker.py\", line 41, in regen\r\n1>    subprocess.check_call(cmd)\r\n1>  File \"c:\\users\\polarina\\appdata\\local\\programs\\python\\python36-32\\lib\\subprocess.py\", line 291, in check_call\r\n1>    raise CalledProcessError(retcode, cmd)\r\n1>subprocess.CalledProcessError: Command '['c:\\\\users\\\\polarina\\\\appdata\\\\local\\\\programs\\\\python\\\\python36-32\\\\python.exe', 'C:\\\\Users\\\\Polarina\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python36-32\\\\Scripts\\\\meson.py', '--internal', 'regenerate', 'C:\\\\msys64\\\\home\\\\Polarina\\\\mysa\\\\build', 'C:\\\\msys64\\\\home\\\\Polarina\\\\mysa', '--backend=vs']' returned non-zero exit status 1.\r\n1>C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\VC\\VCTargets\\Microsoft.CppCommon.targets(171,5): error MSB6006: \"cmd.exe\" exited with code 1.\r\n1>Done building project \"REGEN.vcxproj\" -- FAILED.\r\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2848/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2834", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2834/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2834/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2834/events", "html_url": "https://github.com/mesonbuild/meson/issues/2834", "id": 284771152, "node_id": "MDU6SXNzdWUyODQ3NzExNTI=", "number": 2834, "title": "Mix of C and Fortran sources + threads dependency = Backend setup failure", "user": {"login": "alyst", "id": 348591, "node_id": "MDQ6VXNlcjM0ODU5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/348591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alyst", "html_url": "https://github.com/alyst", "followers_url": "https://api.github.com/users/alyst/followers", "following_url": "https://api.github.com/users/alyst/following{/other_user}", "gists_url": "https://api.github.com/users/alyst/gists{/gist_id}", "starred_url": "https://api.github.com/users/alyst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alyst/subscriptions", "organizations_url": "https://api.github.com/users/alyst/orgs", "repos_url": "https://api.github.com/users/alyst/repos", "events_url": "https://api.github.com/users/alyst/events{/privacy}", "received_events_url": "https://api.github.com/users/alyst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-27T18:13:01Z", "updated_at": "2018-02-18T18:33:06Z", "closed_at": "2017-12-30T21:21:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to create a static library that contains a mixture of C and Fortran sources. It also needs `threads` dependency (for C part).\r\nWhen I'm running `meson . build`, I get the following trace:\r\n```\r\nBuild targets in project: 19\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 365, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 151, in generate\r\n    self._generate(env)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 208, in _generate\r\n    g.generate(intr)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 210, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 455, in generate_target\r\n    obj_list.append(self.generate_single_compile(target, outfile, src, False, [], header_deps))\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 2149, in generate_single_compile\r\n    commands = self._generate_single_compile(target, compiler, is_generated)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 2074, in _generate_single_compile\r\n    commands += self.generate_basic_compiler_args(target, compiler, no_warn_args)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/backends.py\", line 514, in generate_basic_compiler_args\r\n    commands += compiler.thread_flags(self.environment)\r\nAttributeError: 'GnuFortranCompiler' object has no attribute 'thread_flags'\r\n```\r\n\r\nProbably `backends.py` should just skip `thread_flags` if not supported by the compiler (maybe with a warning when all target compilers do not support it).\r\n\r\nThe current workaround is to split the target into C target and F target, but when `threads` dependency is implicit (e.g. part of `declare_dependency()`), it becomes annoying.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2834/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2833", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2833/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2833/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2833/events", "html_url": "https://github.com/mesonbuild/meson/issues/2833", "id": 284656213, "node_id": "MDU6SXNzdWUyODQ2NTYyMTM=", "number": 2833, "title": "MSVC backend crashes when `c_pch` or `cpp_pch` is not an array", "user": {"login": "polarina", "id": 419473, "node_id": "MDQ6VXNlcjQxOTQ3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/419473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polarina", "html_url": "https://github.com/polarina", "followers_url": "https://api.github.com/users/polarina/followers", "following_url": "https://api.github.com/users/polarina/following{/other_user}", "gists_url": "https://api.github.com/users/polarina/gists{/gist_id}", "starred_url": "https://api.github.com/users/polarina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polarina/subscriptions", "organizations_url": "https://api.github.com/users/polarina/orgs", "repos_url": "https://api.github.com/users/polarina/repos", "events_url": "https://api.github.com/users/polarina/events{/privacy}", "received_events_url": "https://api.github.com/users/polarina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-27T06:13:01Z", "updated_at": "2018-02-18T18:33:06Z", "closed_at": "2018-01-08T18:34:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/mesonbuild/meson/blob/5626df46453e73b63827c4542aae36443fbd928b/mesonbuild/backend/vs2010backend.py#L864\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"mesonbuild\\mesonmain.py\", line 352, in run\r\n  File \"mesonbuild\\mesonmain.py\", line 147, in generate\r\n  File \"mesonbuild\\mesonmain.py\", line 197, in _generate\r\n  File \"mesonbuild\\backend\\vs2010backend.py\", line 161, in generate\r\n  File \"mesonbuild\\backend\\vs2010backend.py\", line 311, in generate_projects\r\n  File \"mesonbuild\\backend\\vs2010backend.py\", line 864, in gen_vcxproj\r\nIndexError: list index out of range\r\n```\r\n\r\nThe PCH example from the manual is sufficient to reproduce this issue: http://mesonbuild.com/Precompiled-headers.html\r\n\r\n```meson\r\nproject('issue2833', 'c')\r\nsourcelist = files('main.c')\r\nexecutable('myexe', sources : sourcelist, c_pch : 'pch/myexe_pch.h')\r\n```\r\n\r\nBuild with `meson --backend vs2017 builddir/`.\r\n\r\n---\r\n\r\n_Side note:_ The Ninja backend is slightly more helpful. It tells you that MSVC expects `c_pch` and `cpp_pch` to be an array.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"mesonbuild\\mesonmain.py\", line 352, in run\r\n  File \"mesonbuild\\mesonmain.py\", line 147, in generate\r\n  File \"mesonbuild\\mesonmain.py\", line 197, in _generate\r\n  File \"mesonbuild\\backend\\ninjabackend.py\", line 210, in generate\r\n  File \"mesonbuild\\backend\\ninjabackend.py\", line 362, in generate_target\r\n  File \"mesonbuild\\backend\\ninjabackend.py\", line 2283, in generate_pch\r\n  File \"mesonbuild\\backend\\ninjabackend.py\", line 2244, in generate_msvc_pch_command\r\nRuntimeError: MSVC requires one header and one source to produce precompiled headers.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2833/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2828", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2828/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2828/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2828/events", "html_url": "https://github.com/mesonbuild/meson/issues/2828", "id": 284352891, "node_id": "MDU6SXNzdWUyODQzNTI4OTE=", "number": 2828, "title": "dependency() - main keyword argument gives warning", "user": {"login": "afq984", "id": 4318379, "node_id": "MDQ6VXNlcjQzMTgzNzk=", "avatar_url": "https://avatars.githubusercontent.com/u/4318379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afq984", "html_url": "https://github.com/afq984", "followers_url": "https://api.github.com/users/afq984/followers", "following_url": "https://api.github.com/users/afq984/following{/other_user}", "gists_url": "https://api.github.com/users/afq984/gists{/gist_id}", "starred_url": "https://api.github.com/users/afq984/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afq984/subscriptions", "organizations_url": "https://api.github.com/users/afq984/orgs", "repos_url": "https://api.github.com/users/afq984/repos", "events_url": "https://api.github.com/users/afq984/events{/privacy}", "received_events_url": "https://api.github.com/users/afq984/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-24T09:32:13Z", "updated_at": "2018-02-18T19:09:59Z", "closed_at": "2018-02-09T15:07:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running meson with https://github.com/mesonbuild/meson/tree/master/test%20cases/frameworks/2%20gtest gives: \r\n```\r\nThe Meson build system\r\nVersion: 0.44.0\r\nSource dir: /home/afg/Downloads/meson/test cases/frameworks/2 gtest\r\nBuild dir: /home/afg/Downloads/meson/test cases/frameworks/2 gtest/build\r\nBuild type: native build\r\nProject name: gtest\r\nNative C++ compiler: c++ (gcc 7.2.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nWARNING: Passed invalid keyword argument \"main\" in meson.build line 3.\r\nThis will become a hard error in the future.\r\nDependency GTest found: YES (prebuilt)\r\nWARNING: Passed invalid keyword argument \"main\" in meson.build line 4.\r\nThis will become a hard error in the future.\r\nDependency GTest found: YES (prebuilt)\r\nBuild targets in project: 2\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\n```\r\nDespite the warning, the `main` argument does affect wheter `-lgtest_main` is present on the compiling command.\r\n\r\nProbably related: #665", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2823", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2823/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2823/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2823/events", "html_url": "https://github.com/mesonbuild/meson/issues/2823", "id": 284260875, "node_id": "MDU6SXNzdWUyODQyNjA4NzU=", "number": 2823, "title": "meson is failing to detect boost libraries suffixed with '-mt' on mac", "user": {"login": "bredelings", "id": 140268, "node_id": "MDQ6VXNlcjE0MDI2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/140268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bredelings", "html_url": "https://github.com/bredelings", "followers_url": "https://api.github.com/users/bredelings/followers", "following_url": "https://api.github.com/users/bredelings/following{/other_user}", "gists_url": "https://api.github.com/users/bredelings/gists{/gist_id}", "starred_url": "https://api.github.com/users/bredelings/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bredelings/subscriptions", "organizations_url": "https://api.github.com/users/bredelings/orgs", "repos_url": "https://api.github.com/users/bredelings/repos", "events_url": "https://api.github.com/users/bredelings/events{/privacy}", "received_events_url": "https://api.github.com/users/bredelings/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-22T22:13:13Z", "updated_at": "2018-02-18T18:34:29Z", "closed_at": "2018-01-02T20:17:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On macports boost library names look like '/opt/local/lib/libboost_program_options-mt.dylib'.  Boost builds are finding boost, but then saying that the modules are not found.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2823/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2820", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2820/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2820/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2820/events", "html_url": "https://github.com/mesonbuild/meson/issues/2820", "id": 284175559, "node_id": "MDU6SXNzdWUyODQxNzU1NTk=", "number": 2820, "title": "build.ninja file generation error - directory doubled 0.44.0 (0.42.1 ok)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-22T14:26:00Z", "updated_at": "2018-02-18T18:34:45Z", "closed_at": "2018-01-02T07:31:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "error compiling appstream-glib\r\n0.44.0\r\n-subdirectory dir1\r\nbuild dir/file: CUSTOM_COMMAND ../dir1/dir1/file1\r\n-should be:\r\nbuild dir/file: CUSTOM_COMMAND ../dir1/file1\r\n0.42.1 is ok", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2820/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2814", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2814/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2814/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2814/events", "html_url": "https://github.com/mesonbuild/meson/issues/2814", "id": 283947164, "node_id": "MDU6SXNzdWUyODM5NDcxNjQ=", "number": 2814, "title": "Empty rpath-link path prevents linking libstdc++ with clang++ under Linux", "user": {"login": "bredelings", "id": 140268, "node_id": "MDQ6VXNlcjE0MDI2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/140268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bredelings", "html_url": "https://github.com/bredelings", "followers_url": "https://api.github.com/users/bredelings/followers", "following_url": "https://api.github.com/users/bredelings/following{/other_user}", "gists_url": "https://api.github.com/users/bredelings/gists{/gist_id}", "starred_url": "https://api.github.com/users/bredelings/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bredelings/subscriptions", "organizations_url": "https://api.github.com/users/bredelings/orgs", "repos_url": "https://api.github.com/users/bredelings/repos", "events_url": "https://api.github.com/users/bredelings/events{/privacy}", "received_events_url": "https://api.github.com/users/bredelings/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-21T17:10:49Z", "updated_at": "2017-12-26T11:39:13Z", "closed_at": "2017-12-26T11:13:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nMy meson build fails to link with clang++ on Linux because clang++ doesn't link in libstdc++.  This works with autotools, and it works with meson and gcc.  The reason seems to be that (for both g++ and clang++) the link command ends with `-Wl,-rpath-link,`.  This doesn't bother gcc, but it does bother clang++, probably because `-Wl,-rpath-link,` absorbs the next argument to the linker, which is probably `-lstdc++` or similar.\r\n\r\nIf I remove this or change it to  `-Wl,-rpath-link,yo` then it works.  Also, if I change\r\n```\r\n            args += ['-Wl,-rpath-link,' + lpaths]\r\n```\r\nto\r\n```\r\n            if lpaths != '':\r\n                args += ['-Wl,-rpath-link,' + lpaths]\r\n```\r\nin compilers/compilers.py  Does this sound like the right fix?  Maybe the test should be for something containing only whitespace.\r\n\r\n-BenRI", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2813", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2813/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2813/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2813/events", "html_url": "https://github.com/mesonbuild/meson/issues/2813", "id": 283878742, "node_id": "MDU6SXNzdWUyODM4Nzg3NDI=", "number": 2813, "title": "Boost not detected on Fedora 27", "user": {"login": "astoeckel", "id": 1783545, "node_id": "MDQ6VXNlcjE3ODM1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1783545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astoeckel", "html_url": "https://github.com/astoeckel", "followers_url": "https://api.github.com/users/astoeckel/followers", "following_url": "https://api.github.com/users/astoeckel/following{/other_user}", "gists_url": "https://api.github.com/users/astoeckel/gists{/gist_id}", "starred_url": "https://api.github.com/users/astoeckel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astoeckel/subscriptions", "organizations_url": "https://api.github.com/users/astoeckel/orgs", "repos_url": "https://api.github.com/users/astoeckel/repos", "events_url": "https://api.github.com/users/astoeckel/events{/privacy}", "received_events_url": "https://api.github.com/users/astoeckel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-12-21T13:15:12Z", "updated_at": "2018-02-12T15:04:54Z", "closed_at": "2017-12-26T11:13:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed `boost-devel` as well as `boost-static` using `dnf` on Fedora 27. I am including boost in a Meson project with\r\n\r\n```\r\ndep_boost = dependency('boost', modules : ['filesystem', 'system', 'asio'])\r\n```\r\n\r\nWhich results in the following error messages:\r\n\r\n```\r\nWARNING: Invalid Boost modules: asio\r\nDependency Boost (filesystem, system, asio) found: NO\r\n\r\nMeson encountered an error in file meson.build, line 69, column 0:\r\nDependency \"boost\" not found\r\n```\r\n\r\nI also installed `boost-*`, which didn't help. Meson version is `0.44.0`. Works fine with `0.42.1`.\r\n\r\nTo me this does not seem to be related to #2547 and #2564, my locale is English.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2813/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2811", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2811/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2811/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2811/events", "html_url": "https://github.com/mesonbuild/meson/issues/2811", "id": 283660613, "node_id": "MDU6SXNzdWUyODM2NjA2MTM=", "number": 2811, "title": "Prefix-dependent types for sysconfdir, etc, do not work with default_options: in project()", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-20T18:49:41Z", "updated_at": "2017-12-26T11:39:28Z", "closed_at": "2017-12-26T11:22:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Specifically, [this](http://mesonbuild.com/Release-notes-for-0-44-0.html#prefixdependent-defaults-for-sysconfdir-localstatedir-and-sharedstatedir) does not work:\r\n\r\n```meson\r\nproject('testprefix', 'c', default_options: ['prefix=/usr'])\r\n```\r\n\r\n```console\r\n$ meson _build\r\n$ meson configure _build\r\n...\r\nDirectories:\r\n  Option         Current Value  Description\r\n  ------         -------------  -----------\r\n  prefix         /usr           Installation prefix.\r\n...\r\n  sysconfdir     etc            Sysconf data directory.\r\n  localstatedir  /var/local     Localstate data directory.\r\n  sharedstatedir /var/local/lib Architecture-independent data directory.\r\n...\r\n```\r\n\r\nHowever, passing `--prefix=/usr` works as expected.\r\n\r\nReported by @williamh on IRC.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2811/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2810", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2810/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2810/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2810/events", "html_url": "https://github.com/mesonbuild/meson/issues/2810", "id": 283602382, "node_id": "MDU6SXNzdWUyODM2MDIzODI=", "number": 2810, "title": "wraptool error on Debian unstable", "user": {"login": "djdeath", "id": 434333, "node_id": "MDQ6VXNlcjQzNDMzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/434333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djdeath", "html_url": "https://github.com/djdeath", "followers_url": "https://api.github.com/users/djdeath/followers", "following_url": "https://api.github.com/users/djdeath/following{/other_user}", "gists_url": "https://api.github.com/users/djdeath/gists{/gist_id}", "starred_url": "https://api.github.com/users/djdeath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djdeath/subscriptions", "organizations_url": "https://api.github.com/users/djdeath/orgs", "repos_url": "https://api.github.com/users/djdeath/repos", "events_url": "https://api.github.com/users/djdeath/events{/privacy}", "received_events_url": "https://api.github.com/users/djdeath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-20T15:34:33Z", "updated_at": "2018-02-18T18:35:33Z", "closed_at": "2018-01-07T17:27:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nJust running : wraptool list \r\nGives me this error : \r\n\r\n```\r\n$ wraptool list\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/wraptool\", line 17, in <module>\r\n    from mesonbuild.wrap import wraptool\r\n  File \"/usr/share/meson/mesonbuild/wrap/wraptool.py\", line 22, in <module>\r\n    from .wrap import API_ROOT, open_wrapdburl\r\n  File \"/usr/share/meson/mesonbuild/wrap/wrap.py\", line 22, in <module>\r\n    from ..mesonlib import Popen_safe\r\n  File \"/usr/share/meson/mesonbuild/mesonlib.py\", line 60, in <module>\r\n    meson_command = python_command + [detect_meson_py_location()]\r\n  File \"/usr/share/meson/mesonbuild/mesonlib.py\", line 51, in detect_meson_py_location\r\n    raise RuntimeError('Could not determine how to run Meson. Please file a bug with details.')\r\nRuntimeError: Could not determine how to run Meson. Please file a bug with details.\r\n```\r\nThis is on Debian unstable with meson 0.44.0.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2810/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2810/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2795", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2795/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2795/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2795/events", "html_url": "https://github.com/mesonbuild/meson/issues/2795", "id": 282688423, "node_id": "MDU6SXNzdWUyODI2ODg0MjM=", "number": 2795, "title": "Build not reproducible with Fortran, improper USE dependency scanning", "user": {"login": "vedranmiletic", "id": 246061, "node_id": "MDQ6VXNlcjI0NjA2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/246061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vedranmiletic", "html_url": "https://github.com/vedranmiletic", "followers_url": "https://api.github.com/users/vedranmiletic/followers", "following_url": "https://api.github.com/users/vedranmiletic/following{/other_user}", "gists_url": "https://api.github.com/users/vedranmiletic/gists{/gist_id}", "starred_url": "https://api.github.com/users/vedranmiletic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vedranmiletic/subscriptions", "organizations_url": "https://api.github.com/users/vedranmiletic/orgs", "repos_url": "https://api.github.com/users/vedranmiletic/repos", "events_url": "https://api.github.com/users/vedranmiletic/events{/privacy}", "received_events_url": "https://api.github.com/users/vedranmiletic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-17T11:54:26Z", "updated_at": "2019-03-14T21:37:51Z", "closed_at": "2019-03-14T21:37:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm evaluating Meson for usage in [CP2K](https://www.cp2k.org/) ([source](https://github.com/cp2k/cp2k)), a large Fortran codebase using handwritten Makefile and some scripts. I started with `cp2k/src/base` and I'm overjoyed with how simple the syntax is; my `meson.build` is:\r\n\r\n```python\r\nproject('cp2k_base', 'fortran')\r\nadd_project_arguments('-ffree-form', '-std=f2003', '-fimplicit-none', language : 'fortran')\r\n\r\nbase_files = files(\r\n        'base_hooks.F',\r\n        'kinds.F',\r\n        'machine.F',\r\n        'machine_internal.F'\r\n)\r\ndynamic = shared_library('cp2k_base', base_files)\r\n```\r\n\r\nUnfortunately, the build is not reproducible, and `ninja` will fail most of the time (but **not every time**) because `base_hooks.F` has `USE kinds` directive, and `kinds.F` hasn't been compiled before it. If I put `kinds.F` before `base_hooks.F` then the build seems to succeed more often, but still not every time in a reproducible way.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2795/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2786", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2786/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2786/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2786/events", "html_url": "https://github.com/mesonbuild/meson/issues/2786", "id": 282524660, "node_id": "MDU6SXNzdWUyODI1MjQ2NjA=", "number": 2786, "title": "LLVM library detection fails because of *git* version suffix", "user": {"login": "gerddie", "id": 2786969, "node_id": "MDQ6VXNlcjI3ODY5Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/2786969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gerddie", "html_url": "https://github.com/gerddie", "followers_url": "https://api.github.com/users/gerddie/followers", "following_url": "https://api.github.com/users/gerddie/following{/other_user}", "gists_url": "https://api.github.com/users/gerddie/gists{/gist_id}", "starred_url": "https://api.github.com/users/gerddie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gerddie/subscriptions", "organizations_url": "https://api.github.com/users/gerddie/orgs", "repos_url": "https://api.github.com/users/gerddie/repos", "events_url": "https://api.github.com/users/gerddie/events{/privacy}", "received_events_url": "https://api.github.com/users/gerddie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-15T19:29:12Z", "updated_at": "2017-12-20T19:01:32Z", "closed_at": "2017-12-16T12:42:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "See here: https://travis-ci.org/gerddie/mesa/jobs/316903830 \r\n\r\nmeson should use the new link library detection method but uses the old method searching for libLLVM-5.0.so - probably because it fails to extract the proper version due to the *git+xxx* suffix. ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2786/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2785", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2785/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2785/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2785/events", "html_url": "https://github.com/mesonbuild/meson/issues/2785", "id": 282381727, "node_id": "MDU6SXNzdWUyODIzODE3Mjc=", "number": 2785, "title": "meson 0.44.0 cannot find (system) static library if we use pkg-config file with custom libprefix", "user": {"login": "mgautierfr", "id": 86161, "node_id": "MDQ6VXNlcjg2MTYx", "avatar_url": "https://avatars.githubusercontent.com/u/86161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgautierfr", "html_url": "https://github.com/mgautierfr", "followers_url": "https://api.github.com/users/mgautierfr/followers", "following_url": "https://api.github.com/users/mgautierfr/following{/other_user}", "gists_url": "https://api.github.com/users/mgautierfr/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgautierfr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgautierfr/subscriptions", "organizations_url": "https://api.github.com/users/mgautierfr/orgs", "repos_url": "https://api.github.com/users/mgautierfr/repos", "events_url": "https://api.github.com/users/mgautierfr/events{/privacy}", "received_events_url": "https://api.github.com/users/mgautierfr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2017-12-15T10:22:46Z", "updated_at": "2018-02-20T21:11:24Z", "closed_at": "2018-02-20T17:26:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Assuming those files :\r\n\r\n`meson.build` :\r\n```\r\nproject('test', ['c'])\r\n\r\ntestlib = dependency('testlib', static:true)\r\n```\r\n\r\nand `/some/custom/prefix/lib/pkgconfig/testlib.pc` :\r\n```\r\nprefix=/some/custom/prefix\r\nlibdir=${prefix}/lib\r\n\r\nName: testlib\r\nDescription: A test library\r\nVersion: 0.0.1\r\nLibs: -L${libdir} \r\nLibs.private: -lm\r\n```\r\n\r\nWith meson 0.43.0 :\r\n```\r\n$ PKG_CONFIG_PATH=/some/custom/prefix/lib/pkgconfig meson . build\r\nThe Meson build system\r\nVersion: 0.43.0\r\nSource dir: [...]\r\nBuild dir: [...]\r\nBuild type: native build\r\nProject name: test\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: /usr/bin/pkg-config (1.3.10)\r\nNative dependency testlib found: YES 0.0.1\r\nBuild targets in project: 0\r\nFound ninja-1.8.2 at /usr/bin/ninja\r\n```\r\n\r\nWith meson 0.44.0 :\r\n```\r\n$ PKG_CONFIG_PATH=lib/pkgconfig meson . build\r\nThe Meson build system\r\nVersion: 0.44.0\r\nSource dir: [...]\r\nBuild dir: [...]\r\nBuild type: native build\r\nProject name: test\r\nNative C compiler: ccache cc (gcc 7.2.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: /usr/bin/pkg-config (1.3.10)\r\n\r\nMeson encountered an error in file meson.build, line 3, column 0:\r\nStatic library not found for 'm'\r\n\r\nA full log can be found at /home/mgautier/Project/KIWIX/test_meson_0.44.0/build/meson-logs/meson-log.txt\r\n```\r\n\r\nThis is probably because here (https://github.com/mesonbuild/meson/blob/master/mesonbuild/dependencies/base.py#L473-L487), we are only searching for static library in path provided by pkg-config and not in standard library directories.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2785/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2784", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2784/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2784/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2784/events", "html_url": "https://github.com/mesonbuild/meson/issues/2784", "id": 282115112, "node_id": "MDU6SXNzdWUyODIxMTUxMTI=", "number": 2784, "title": "0.44 throws an exception when python is on another drive on Windows", "user": {"login": "abby-sergz", "id": 2505903, "node_id": "MDQ6VXNlcjI1MDU5MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2505903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abby-sergz", "html_url": "https://github.com/abby-sergz", "followers_url": "https://api.github.com/users/abby-sergz/followers", "following_url": "https://api.github.com/users/abby-sergz/following{/other_user}", "gists_url": "https://api.github.com/users/abby-sergz/gists{/gist_id}", "starred_url": "https://api.github.com/users/abby-sergz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abby-sergz/subscriptions", "organizations_url": "https://api.github.com/users/abby-sergz/orgs", "repos_url": "https://api.github.com/users/abby-sergz/repos", "events_url": "https://api.github.com/users/abby-sergz/events{/privacy}", "received_events_url": "https://api.github.com/users/abby-sergz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-14T14:16:25Z", "updated_at": "2018-02-18T18:37:34Z", "closed_at": "2018-02-13T19:28:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Steps to reproduce:\r\n\r\n- change the drive, e.g.\r\n\r\n> echo %cd%\r\n\r\n`e:\\projects\\meson-relpath-issue`\r\n\r\n- obtain the latest release of meson\r\n> git clone https://github.com/mesonbuild/meson.git third_party/meson\r\n> cd third_party\\meson\r\n> git checkout -b last-release 0.44.0\r\n> cd ..\\\\..\r\n- put ninja.exe into the current directory\r\n- create meson.build with the following content\r\n\r\n```\r\nproject('relpath_issue', license: ['GPL3'], meson_version: '0.44.0')\r\n\r\npython = import('python3').find_python()\r\n\r\ncommand = run_command(python, '-c', 'print(\"hello\")')\r\n```\r\n- run meson\r\n> py -3 third_party\\meson build\r\n### Observed error\r\n> The Meson build system\r\n> Version: 0.44.0\r\n> Source dir: e:\\projects\\meson-relpath-issue\r\n> Build dir: e:\\projects\\meson-relpath-issue\\build\r\n> Build type: native build\r\n> Project name: relpath_issue\r\n> Build machine cpu family: x86_64\r\n> Build machine cpu: x86_64\r\n> Traceback (most recent call last):\r\n>   File \"third_party\\meson\\mesonbuild\\mesonmain.py\", line 365, in run\r\n>     app.generate()\r\n>   File \"third_party\\meson\\mesonbuild\\mesonmain.py\", line 151, in generate\r\n>     self._generate(env)\r\n>   File \"third_party\\meson\\mesonbuild\\mesonmain.py\", line 199, in _generate\r\n>     intr.run()\r\n>   File \"third_party\\meson\\mesonbuild\\interpreter.py\", line 2868, in run\r\n>     super().run()\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 171, in run\r\n>     self.evaluate_codeblock(self.ast, start=1)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 193, in evaluate_codeblock\r\n>     raise e\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 187, in evaluate_codeblock\r\n>     self.evaluate_statement(cur)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 200, in evaluate_statement\r\n>     return self.assignment(cur)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 659, in assignment\r\n>     value = self.evaluate_statement(node.value)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 198, in evaluate_statement\r\n>     return self.function_call(cur)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 441, in function_call\r\n>     return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreterbase.py\", line 47, in wrapped\r\n>     return f(self, node, args, kwargs)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreter.py\", line 1648, in func_run_command\r\n>     return self.run_command_impl(node, args, kwargs)\r\n>   File \"third_party\\meson\\mesonbuild\\interpreter.py\", line 1673, in run_command_impl\r\n>     cmd_path = os.path.relpath(cmd.get_path(), start=srcdir)\r\n>   File \"C:\\Users\\\\-----\\AppData\\Local\\Programs\\Python\\Python36\\lib\\ntpath.py\", line 585, in relpath\r\n>     path_drive, start_drive))\r\n> ValueError: path is on mount 'C:', start on mount 'e:'\r\n\r\n\r\n### Expected to work without errors, e.g.\r\n> cd third_party\\meson\r\n> git reset --hard 0.43.0\r\n> cd ..\\\\..\r\n- change meson.build to use 0.43.0\r\n> py -3 third_party\\meson build\r\n\r\n> The Meson build system\r\n> Version: 0.43.0\r\n> Source dir: e:\\projects\\meson-relpath-issue\r\n> Build dir: e:\\projects\\meson-relpath-issue\\build\r\n> Build type: native build\r\n> Project name: relpath_issue\r\n> Build machine cpu family: x86_64\r\n> Build machine cpu: x86_64\r\n> Build targets in project: 0\r\n> Found ninja-1.8.2 at '.\\ninja.EXE'", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2784/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2784/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2783", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2783/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2783/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2783/events", "html_url": "https://github.com/mesonbuild/meson/issues/2783", "id": 282071378, "node_id": "MDU6SXNzdWUyODIwNzEzNzg=", "number": 2783, "title": "mintro: AttributeError: 'str' object has no attribute 'subdir'", "user": {"login": "1ace", "id": 297576, "node_id": "MDQ6VXNlcjI5NzU3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/297576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1ace", "html_url": "https://github.com/1ace", "followers_url": "https://api.github.com/users/1ace/followers", "following_url": "https://api.github.com/users/1ace/following{/other_user}", "gists_url": "https://api.github.com/users/1ace/gists{/gist_id}", "starred_url": "https://api.github.com/users/1ace/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1ace/subscriptions", "organizations_url": "https://api.github.com/users/1ace/orgs", "repos_url": "https://api.github.com/users/1ace/repos", "events_url": "https://api.github.com/users/1ace/events{/privacy}", "received_events_url": "https://api.github.com/users/1ace/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-14T11:39:12Z", "updated_at": "2018-11-28T19:58:12Z", "closed_at": "2018-11-28T19:58:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running this in [Mesa](/mesa3d/mesa) breaks meson:\r\n\r\n```\r\n$ meson -v\r\n0.44.0\r\n\r\n$ meson introspect --target-files egd_tables.h@cus \r\nTraceback (most recent call last):\r\n  File \"/usr/bin/meson\", line 37, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/bin/meson\", line 34, in main\r\n    return mesonmain.run(sys.argv[1:], launcher)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 297, in run\r\n    return mintro.run(remaining_args)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mintro.py\", line 236, in run\r\n    list_target_files(options.target_files, coredata, builddata)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mintro.py\", line 118, in list_target_files\r\n    sources = [os.path.join(i.subdir, i.fname) for i in sources]\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mintro.py\", line 118, in <listcomp>\r\n    sources = [os.path.join(i.subdir, i.fname) for i in sources]\r\nAttributeError: 'str' object has no attribute 'subdir'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2783/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2769", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2769/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2769/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2769/events", "html_url": "https://github.com/mesonbuild/meson/issues/2769", "id": 281235869, "node_id": "MDU6SXNzdWUyODEyMzU4Njk=", "number": 2769, "title": "No modules named codecs", "user": {"login": "mlschneid", "id": 328514, "node_id": "MDQ6VXNlcjMyODUxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/328514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mlschneid", "html_url": "https://github.com/mlschneid", "followers_url": "https://api.github.com/users/mlschneid/followers", "following_url": "https://api.github.com/users/mlschneid/following{/other_user}", "gists_url": "https://api.github.com/users/mlschneid/gists{/gist_id}", "starred_url": "https://api.github.com/users/mlschneid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mlschneid/subscriptions", "organizations_url": "https://api.github.com/users/mlschneid/orgs", "repos_url": "https://api.github.com/users/mlschneid/repos", "events_url": "https://api.github.com/users/mlschneid/events{/privacy}", "received_events_url": "https://api.github.com/users/mlschneid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-12-12T02:29:11Z", "updated_at": "2017-12-29T20:27:27Z", "closed_at": "2017-12-29T20:27:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Windows 10 x64\r\nPython version 3.6.3 x64\r\n\r\nJust installed meson from the nightly .msi (e674434). When I run meson from cmd, I get the error below:\r\n\r\n```\r\nFatal Python error: Py_Initialize: unable to load the file system codec\r\nTraceback (most recent call last):\r\n  File \"C:\\Python\\lib\\encodings\\__init__.py\", line 31, in <module>\r\nModuleNotFoundError: No module named 'codecs'\r\n\r\n```\r\n\r\nIt's a pretty fresh install of windows / python / cl.exe. Am I missing something?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2769/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2768", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2768/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2768/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2768/events", "html_url": "https://github.com/mesonbuild/meson/issues/2768", "id": 281234261, "node_id": "MDU6SXNzdWUyODEyMzQyNjE=", "number": 2768, "title": "(Spurious?) RuntimeError: No specified compiler can handle file impl/json/jsmn.c", "user": {"login": "zajo", "id": 609498, "node_id": "MDQ6VXNlcjYwOTQ5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/609498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zajo", "html_url": "https://github.com/zajo", "followers_url": "https://api.github.com/users/zajo/followers", "following_url": "https://api.github.com/users/zajo/following{/other_user}", "gists_url": "https://api.github.com/users/zajo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zajo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zajo/subscriptions", "organizations_url": "https://api.github.com/users/zajo/orgs", "repos_url": "https://api.github.com/users/zajo/repos", "events_url": "https://api.github.com/users/zajo/events{/privacy}", "received_events_url": "https://api.github.com/users/zajo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-12T02:19:44Z", "updated_at": "2018-02-27T18:40:53Z", "closed_at": "2018-02-27T18:40:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "With 0.44.0, I get this error:\r\n\r\n```\r\nRuntimeError: No specified compiler can handle file impl/json/jsmn.c\r\n```\r\n\r\nThis in a project which is mostly C++, but it uses this one `.c` file, defined as:\r\n\r\n```\r\njsmn = declare_dependency( sources: ['impl/json/jsmn.c'], compile_args: [ '-DJSMN_STRICT=1', '-DJSMN_PARENT_LINKS=1' ])\r\n```\r\n\r\nThe project statement at the top was:\r\n\r\n```\r\nproject('name','cpp',default_options : ['cpp_std=c++11','b_pch=false'])\r\n```\r\n\r\nPrevious versions of Meson didn't report any errors, but I figured I'd have to add `'c'` to the list. I tried:\r\n\r\n```\r\nproject('name',['cpp','c'],default_options : ['cpp_std=c++11','b_pch=false'])\r\n```\r\n\r\nwhich gave me the error message I quoted at the top of this report.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2768/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2763", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2763/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2763/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2763/events", "html_url": "https://github.com/mesonbuild/meson/issues/2763", "id": 281075896, "node_id": "MDU6SXNzdWUyODEwNzU4OTY=", "number": 2763, "title": "Handling Qt5 resource files results in ninja dependency errors", "user": {"login": "Framstag", "id": 14061582, "node_id": "MDQ6VXNlcjE0MDYxNTgy", "avatar_url": "https://avatars.githubusercontent.com/u/14061582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Framstag", "html_url": "https://github.com/Framstag", "followers_url": "https://api.github.com/users/Framstag/followers", "following_url": "https://api.github.com/users/Framstag/following{/other_user}", "gists_url": "https://api.github.com/users/Framstag/gists{/gist_id}", "starred_url": "https://api.github.com/users/Framstag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Framstag/subscriptions", "organizations_url": "https://api.github.com/users/Framstag/orgs", "repos_url": "https://api.github.com/users/Framstag/repos", "events_url": "https://api.github.com/users/Framstag/events{/privacy}", "received_events_url": "https://api.github.com/users/Framstag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 716668530, "node_id": "MDU6TGFiZWw3MTY2Njg1MzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/qt", "name": "qt", "color": "41cd52", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-12-11T16:17:11Z", "updated_at": "2018-02-22T20:09:29Z", "closed_at": "2018-02-19T18:01:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "This directora structure for the given Qt sub project: https://github.com/Framstag/libosmscout/tree/master/OSMScout2\r\n\r\nAs you can see there is a res.qrc in the top-level directory (though the OSMScout2 application is only a sub directory of the full project). The file references actual resources in the res sub directory.\r\n\r\nNow a `meson debug` call and  `ninja` call in the created `debug` directory results in:\r\n\r\n```\r\nninja: error: '../OSMScout2/OSMScout2/pics/Search.svg', needed by 'OSMScout2/qt5-res_qrc.cpp', missing and no known rule to make it\r\n```\r\n\r\nLooking at the build.ninja one sees:\r\n\r\n```\r\nbuild OSMScout2/qt5-res_qrc.cpp: CUSTOM_COMMAND ../OSMScout2/./res.qrc | ../OSMScout2/OSMS\r\ncout2/./pics/Search.svg ../OSMScout2/OSMScout2/./qml/custom/LocationSearch.qml ../OSMScout\r\n2/OSMScout2/./pics/Download.svg ../OSMScout2/OSMScout2/./qml/custom/MapDialog.qml ../OSMSc\r\nout2/OSMScout2/./qml/custom/LineEdit.qml ../OSMScout2/OSMScout2/./pics/DeleteText.svg ../O\r\nSMScout2/OSMScout2/./resources/online-tile-providers.json ../OSMScout2/OSMScout2/./pics/Mi\r\nnus.svg ../OSMScout2/OSMScout2/./qml/custom/MapButton.qml ../OSMScout2/OSMScout2/./qml/cus\r\ntom/DialogActionButton.qml ../OSMScout2/OSMScout2/./qml/main.qml ../OSMScout2/OSMScout2/./\r\nqml/SearchDialog.qml ../OSMScout2/OSMScout2/./qml/custom/ScrollIndicator.qml ../OSMScout2/\r\nOSMScout2/./resources/map-providers.json ../OSMScout2/OSMScout2/./qml/MapDownloadDialog.qm\r\nl ../OSMScout2/OSMScout2/./pics/Route.svg ../OSMScout2/OSMScout2/./qml/AboutDialog.qml ../\r\nOSMScout2/OSMScout2/./pics/Plus.svg /usr/local/Cellar/qt/5.10.0/bin/rcc\r\n COMMAND = /usr/local/Cellar/qt/5.10.0/bin/rcc -name res -o OSMScout2/qt5-res_qrc.cpp ../OSMScout2/./res.qrc\r\n description = Generating$ qt5-res_qrc$ with$ a$ custom$ command.\r\n```\r\n\r\nFor me it looks like meson gets into problems with the actual directory structure and claims (resource) files being positioned in directories more \"up\" in the directory structure then they actually are.\r\n\r\nAn (simple) workaround would be helpful (since builds break now), I can also try to test (simple) patches to test potential fixes.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2763/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2761", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2761/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2761/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2761/events", "html_url": "https://github.com/mesonbuild/meson/issues/2761", "id": 281011959, "node_id": "MDU6SXNzdWUyODEwMTE5NTk=", "number": 2761, "title": "mesontest and mesonintrospect are broken with meson 0.44.0", "user": {"login": "mgautierfr", "id": 86161, "node_id": "MDQ6VXNlcjg2MTYx", "avatar_url": "https://avatars.githubusercontent.com/u/86161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgautierfr", "html_url": "https://github.com/mgautierfr", "followers_url": "https://api.github.com/users/mgautierfr/followers", "following_url": "https://api.github.com/users/mgautierfr/following{/other_user}", "gists_url": "https://api.github.com/users/mgautierfr/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgautierfr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgautierfr/subscriptions", "organizations_url": "https://api.github.com/users/mgautierfr/orgs", "repos_url": "https://api.github.com/users/mgautierfr/repos", "events_url": "https://api.github.com/users/mgautierfr/events{/privacy}", "received_events_url": "https://api.github.com/users/mgautierfr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-11T13:14:29Z", "updated_at": "2018-02-19T12:08:36Z", "closed_at": "2018-02-19T12:08:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With last version, meson try to detect the location of meson and assume the executable name to be \"meson\" or \"meson.py\".\r\n\r\nBut if a user uses `mesontest` instead of `meson test`, the executable name is \"mesontest\" and `meson` cannot find the executable.\r\nIt is probably the same with other tools as `mesonconf` or `mesonintrospect`\r\n\r\nI know that those scripts are deprecated since 0.42.0, but they are still present in 0.44.0 and not mark as deleted in 0.44.0 release note.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2761/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2750", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2750/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2750/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2750/events", "html_url": "https://github.com/mesonbuild/meson/issues/2750", "id": 280592393, "node_id": "MDU6SXNzdWUyODA1OTIzOTM=", "number": 2750, "title": "testing of -Wno-foobar will always succeed with GCC", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-08T19:27:55Z", "updated_at": "2018-12-13T18:28:57Z", "closed_at": "2018-12-13T18:28:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[relavent documentation](https://gcc.gnu.org/wiki/FAQ#wnowarning).\r\n\r\nBascially this is considered a GCC feature, since it allows add -Wno-new-option and not getting a warning when using an old compiler. This means that testing for -Wno-option is always useless with gcc. Clang however, does not have this issue (at least 5.0.0 on my Archlinux system doesn't). This certainly leads to suprising behavior.\r\n\r\nI can see two reasonable ways to handle this:\r\n1) Never accept -Wno-foobar for has_argument tests, leave a note about why, and tell people to test for -Wfoobar instead, with the assumption (that seems safe) that -Wno-foobar and -Wfoobar are added at the same time\r\n2) silently rewrite the test for -Wno-foobar into -Wfoobar at least for GCC.\r\n\r\nMaybe there's a better way to handle this?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2750/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2750/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2734", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2734/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2734/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2734/events", "html_url": "https://github.com/mesonbuild/meson/issues/2734", "id": 279578438, "node_id": "MDU6SXNzdWUyNzk1Nzg0Mzg=", "number": 2734, "title": "cross compiling from x86_64 to x86", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-06T00:15:39Z", "updated_at": "2018-12-13T18:29:39Z", "closed_at": "2018-12-13T18:29:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I have a mess of minor issues when trying to compile 32 bit x86 libs and binaries on an x86_64 platform using a multiarch compiler. Basically the problems are as follows:\r\n- The default libdir is the same for both x86 and x86_64 builds, so I have to pass --libdir, autotools is able to figure this out automatically\r\n- compiler.find_library() always returns the 64 bit elf instead of the 32 bit if both are installed. I have not been able to coerce it into doing the right thing.\r\n\r\nI think that being able to specify things like libdir in the cross file would be an fine solution. For the latter I'm not sure.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2727", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2727/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2727/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2727/events", "html_url": "https://github.com/mesonbuild/meson/issues/2727", "id": 278559212, "node_id": "MDU6SXNzdWUyNzg1NTkyMTI=", "number": 2727, "title": "Meson crashes when using find_library in declare_dependency", "user": {"login": "rnburn", "id": 1923871, "node_id": "MDQ6VXNlcjE5MjM4NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1923871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rnburn", "html_url": "https://github.com/rnburn", "followers_url": "https://api.github.com/users/rnburn/followers", "following_url": "https://api.github.com/users/rnburn/following{/other_user}", "gists_url": "https://api.github.com/users/rnburn/gists{/gist_id}", "starred_url": "https://api.github.com/users/rnburn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rnburn/subscriptions", "organizations_url": "https://api.github.com/users/rnburn/orgs", "repos_url": "https://api.github.com/users/rnburn/repos", "events_url": "https://api.github.com/users/rnburn/events{/privacy}", "received_events_url": "https://api.github.com/users/rnburn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-01T18:47:49Z", "updated_at": "2022-08-25T06:48:49Z", "closed_at": "2022-08-25T06:48:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using version meson-0.43.0 with\r\n\r\nmeson_options.txt:\r\n```\r\noption('with_tbb', type: 'string', value: '')\r\n```\r\nmeson.build:\r\n```\r\nproject('tutorial', 'cpp')\r\nwith_tbb = get_option('with_tbb')\r\ncxx = meson.get_compiler('cpp')\r\n\r\nlibtbb = cxx.find_library('tbb', dirs:join_paths(with_tbb, 'lib'))\r\ntbb = declare_dependency(\r\n  include_directories: include_directories(with_tbb + '/include'),\r\n  link_with: [libtbb]\r\n)\r\n\r\nexecutable('demo', 'main.cpp', dependencies : [tbb])\r\n```\r\nIf I run `meson -D with_tbb=/usr/local builddir`, I get\r\n```\r\nThe Meson build system\r\nVersion: 0.43.0\r\nSource dir: /Users/ryanburn/test/meson\r\nBuild dir: /Users/ryanburn/test/meson/builddir\r\nBuild type: native build\r\nProject name: tutorial\r\nNative C++ compiler: c++ (clang 8.1.0)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nLibrary tbb found: YES\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 352, in run\r\n    app.generate()\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 147, in generate\r\n    self._generate(env)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 195, in _generate\r\n    intr.run()\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 2785, in run\r\n    super().run()\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 148, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 170, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 164, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 175, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 387, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 77, in wrapped\r\n    return f(s, node_or_state, args, kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 2196, in func_executable\r\n    return self.build_target(node, args, kwargs, ExecutableHolder)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 2889, in build_target\r\n    target = targetclass(name, self.subdir, self.subproject, is_cross, sources, objs, self.environment, kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/build.py\", line 1137, in __init__\r\n    super().__init__(name, subdir, subproject, is_cross, sources, objects, environment, kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/build.py\", line 358, in __init__\r\n    self.process_kwargs(kwargs, environment)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/build.py\", line 706, in process_kwargs\r\n    self.add_deps(deplist)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/build.py\", line 832, in add_deps\r\n    self.link(l)\r\n  File \"/usr/local/lib/python3.6/site-packages/mesonbuild/build.py\", line 866, in link\r\n    if not t.is_linkable_target():\r\nAttributeError: 'ExternalLibrary' object has no attribute 'is_linkable_target'\r\n```\r\nNot sure if this way of declaring a dependency is supported, but would expect to at least get an error message instead of crashing in python code.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2726", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2726/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2726/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2726/events", "html_url": "https://github.com/mesonbuild/meson/issues/2726", "id": 278551162, "node_id": "MDU6SXNzdWUyNzg1NTExNjI=", "number": 2726, "title": "Problem regarding assert in function \"rpaths_for_bundled_shared_libraries\"", "user": {"login": "behlec", "id": 33778676, "node_id": "MDQ6VXNlcjMzNzc4Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/33778676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/behlec", "html_url": "https://github.com/behlec", "followers_url": "https://api.github.com/users/behlec/followers", "following_url": "https://api.github.com/users/behlec/following{/other_user}", "gists_url": "https://api.github.com/users/behlec/gists{/gist_id}", "starred_url": "https://api.github.com/users/behlec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/behlec/subscriptions", "organizations_url": "https://api.github.com/users/behlec/orgs", "repos_url": "https://api.github.com/users/behlec/repos", "events_url": "https://api.github.com/users/behlec/events{/privacy}", "received_events_url": "https://api.github.com/users/behlec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-12-01T18:16:18Z", "updated_at": "2018-02-18T18:36:47Z", "closed_at": "2018-02-15T20:57:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "So, I ran into an issue where the assert \"assert(not os.path.isabs(rel_to_src))\" in function \"rpaths_for_bundled_shared_libraries\" in backends.py is triggered. I do not understand what this assert is supposed to assure exactly and I do have the suspicion that the check does not really accomplish what it should:\r\n\r\nI run into this when I have the build dir in /tmp. The problem seems to be that I am using a library which is located in my home directory. If the build dir is also in my home directory this is not a problem but when I try to build in /tmp it fails. If I comment out the assert the project compiles and runs.\r\nThe values of the variables are:\r\nabsdir: /home/user/local/boost/lib\r\nrel_to_src: /local/boost/lib\r\nself.environment.get_source_dir():  /tmp/foo\r\n\r\nThe test seems to be broken: In the case where it works for me the length of the build  dir plus one is the same lenght as the absdir and rel_to_src is accepted.\r\n\r\nIf you need a small example that triggers the problem I could probably give you some.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2720", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2720/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2720/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2720/events", "html_url": "https://github.com/mesonbuild/meson/issues/2720", "id": 278440363, "node_id": "MDU6SXNzdWUyNzg0NDAzNjM=", "number": 2720, "title": "Thread dependency failure when building code mixed with Vala", "user": {"login": "ernestask", "id": 26867637, "node_id": "MDQ6VXNlcjI2ODY3NjM3", "avatar_url": "https://avatars.githubusercontent.com/u/26867637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ernestask", "html_url": "https://github.com/ernestask", "followers_url": "https://api.github.com/users/ernestask/followers", "following_url": "https://api.github.com/users/ernestask/following{/other_user}", "gists_url": "https://api.github.com/users/ernestask/gists{/gist_id}", "starred_url": "https://api.github.com/users/ernestask/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ernestask/subscriptions", "organizations_url": "https://api.github.com/users/ernestask/orgs", "repos_url": "https://api.github.com/users/ernestask/repos", "events_url": "https://api.github.com/users/ernestask/events{/privacy}", "received_events_url": "https://api.github.com/users/ernestask/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-01T11:40:01Z", "updated_at": "2017-12-02T22:13:08Z", "closed_at": "2017-12-02T22:13:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Building a Vala executable, which has a transitive dependency on threads results in the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 352, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 147, in generate\r\n    self._generate(env)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 197, in _generate\r\n    g.generate(intr)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 210, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 347, in generate_target\r\n    vala_generated_sources = self.generate_vala_compile(target, outfile)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/ninjabackend.py\", line 1146, in generate_vala_compile\r\n    args = self.generate_basic_compiler_args(target, valac)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/backend/backends.py\", line 510, in generate_basic_compiler_args\r\n    commands += compiler.thread_flags()\r\nAttributeError: 'ValaCompiler' object has no attribute 'thread_flags'\r\n```\r\n\r\nI encountered this while trying to port gnome-sudoku. It uses a helper library, which has some C++ code in it and needs to be linked with pthreads.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2720/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2719", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2719/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2719/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2719/events", "html_url": "https://github.com/mesonbuild/meson/issues/2719", "id": 278359639, "node_id": "MDU6SXNzdWUyNzgzNTk2Mzk=", "number": 2719, "title": "\"Subproject_dir must not contain a path segment\" in master breaks projects", "user": {"login": "ximion", "id": 417468, "node_id": "MDQ6VXNlcjQxNzQ2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/417468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ximion", "html_url": "https://github.com/ximion", "followers_url": "https://api.github.com/users/ximion/followers", "following_url": "https://api.github.com/users/ximion/following{/other_user}", "gists_url": "https://api.github.com/users/ximion/gists{/gist_id}", "starred_url": "https://api.github.com/users/ximion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ximion/subscriptions", "organizations_url": "https://api.github.com/users/ximion/orgs", "repos_url": "https://api.github.com/users/ximion/repos", "events_url": "https://api.github.com/users/ximion/events{/privacy}", "received_events_url": "https://api.github.com/users/ximion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-01T05:09:56Z", "updated_at": "2018-01-08T18:33:08Z", "closed_at": "2018-01-08T18:33:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi!\r\nThe new check introduced in https://github.com/mesonbuild/meson/commit/c178a5766b38d49f5fe44abcf2aa945e1156cf4f breaks existing projects which place their subprojects' wrap files in project subdirectories, e.g. `contrib/subprojects`.\r\nI've seen this quite often and actually used that particular path myself (why create another toplevel directory if there already is a directory dedicated for similar stuff?).\r\n\r\nWhile I agree that paths like `../dummy` in there are awful, I think disallowing putting the files in any subdirectory is a bit aggressive. Can the check be relaxed to only check for the \"is an absolute path used\" and \"is a relative path used that goes beyond the source_root\" cases, or is there an obvious bug in using a level-2-subdirectory in source_root?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2719/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2716", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2716/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2716/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2716/events", "html_url": "https://github.com/mesonbuild/meson/issues/2716", "id": 278174774, "node_id": "MDU6SXNzdWUyNzgxNzQ3NzQ=", "number": 2716, "title": "Build error when using target.extract_all_objects() when target has header sources", "user": {"login": "xclaesse", "id": 1379109, "node_id": "MDQ6VXNlcjEzNzkxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1379109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xclaesse", "html_url": "https://github.com/xclaesse", "followers_url": "https://api.github.com/users/xclaesse/followers", "following_url": "https://api.github.com/users/xclaesse/following{/other_user}", "gists_url": "https://api.github.com/users/xclaesse/gists{/gist_id}", "starred_url": "https://api.github.com/users/xclaesse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xclaesse/subscriptions", "organizations_url": "https://api.github.com/users/xclaesse/orgs", "repos_url": "https://api.github.com/users/xclaesse/repos", "events_url": "https://api.github.com/users/xclaesse/events{/privacy}", "received_events_url": "https://api.github.com/users/xclaesse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-30T16:02:52Z", "updated_at": "2018-06-05T16:58:50Z", "closed_at": "2017-12-16T10:51:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "An issue has been discovered while working on PR #2711:\r\n\r\n> ninja: error: 'gio/gio-2.0@sha/meson-generated_.._gnetworking.h.o', needed by 'gio/libgio-2.0.a', missing and no known rule to make it\r\n\r\nAccording to @nirbheek it is a bug in extract_all_objects():\r\n> I've seen this bug before elsewhere. It's because when figuring out the list of sources to use in extract_all_objects(), we don't skip over headers. See the sources classification in backends/ninjabackend.py:NinjaBackend.generate_target(). Specifically, look at how we handle the contents oftarget_sources and generated_sources.\r\n>\r\n>This file classification needs to be factored out and probably moved to the BuildTarget object so it can also be used by extract_all_objects().", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2716/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2689", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2689/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2689/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2689/events", "html_url": "https://github.com/mesonbuild/meson/issues/2689", "id": 276825399, "node_id": "MDU6SXNzdWUyNzY4MjUzOTk=", "number": 2689, "title": "meson traceback with RuntimeError(\"generator didn't yield\")", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-26T13:38:32Z", "updated_at": "2020-08-09T16:43:05Z", "closed_at": "2018-08-22T04:31:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Originally reported as https://bugzilla.redhat.com/show_bug.cgi?id=1517508.\r\nLooks like a bug in the context manager or the way it is called.\r\n\r\nDescription of problem:\r\n```console\r\n$ninja -C build\r\nninja: Entering directory `build'\r\n[0/1] Regenerating build files.\r\nThe Meson build system\r\nVersion: 0.43.0\r\nSource dir: /home/zbyszek/src/systemd\r\nBuild dir: /home/zbyszek/src/systemd/build\r\nBuild type: native build\r\nProject name: systemd\r\nNative C compiler: ccache cc (gcc 7.2.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram tools/meson-check-compilation.sh found: YES (/home/zbyszek/src/systemd/tools/meson-check-compilation.sh)\r\nProgram c++ found: YES (/usr/bin/c++)\r\nNative C++ compiler: ccache c++ (gcc 7.2.1)\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 352, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 147, in generate\r\n    self._generate(env)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 195, in _generate\r\n    intr.run()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 2785, in run\r\n    super().run()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 148, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 170, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 164, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 205, in evaluate_statement\r\n    return self.evaluate_foreach(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 342, in evaluate_foreach\r\n    self.evaluate_codeblock(node.block)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 170, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 164, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 185, in evaluate_statement\r\n    return self.evaluate_if(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 232, in evaluate_if\r\n    result = self.evaluate_statement(i.condition)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 179, in evaluate_statement\r\n    return self.method_call(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 415, in method_call\r\n    return obj.method_call(method_name, self.flatten(args), kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 96, in method_call\r\n    return self.methods[method_name](args, kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 1018, in has_argument_method\r\n    result = self.compiler.has_argument(args[0], self.environment)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/compilers/compilers.py\", line 709, in has_argument\r\n    return self.has_multi_arguments([arg], env)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/compilers/c.py\", line 747, in has_multi_arguments\r\n    return self.compiles('int i;\\n', env, extra_args=args)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/compilers/c.py\", line 309, in compiles\r\n    with self.compile(code, args.to_native(), mode) as p:\r\n  File \"/usr/lib64/python3.6/contextlib.py\", line 83, in __enter__\r\n    raise RuntimeError(\"generator didn't yield\") from None\r\nRuntimeError: generator didn't yield\r\nFAILED: build.ninja \r\n/usr/bin/python3 /usr/bin/meson --internal regenerate /home/zbyszek/src/systemd /home/zbyszek/src/systemd/build --backend ninja\r\nninja: error: rebuilding 'build.ninja': subcommand failed\r\n```\r\nVersion-Release number of selected component (if applicable):\r\nmeson-0.43.0-1.fc26.noarch\r\npython3-3.6.3-2.fc26.x86_64\r\n\r\nHow reproducible:\r\nThis is the first time I've seen this. If I repeat the command, I get the tb every time.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2689/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2686", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2686/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2686/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2686/events", "html_url": "https://github.com/mesonbuild/meson/issues/2686", "id": 276735310, "node_id": "MDU6SXNzdWUyNzY3MzUzMTA=", "number": 2686, "title": "gnome.compile_resources() does not add dependency on custom target if source file exists", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-25T08:26:11Z", "updated_at": "2017-11-30T21:15:20Z", "closed_at": "2017-11-30T21:15:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "However, it will prefer the file in the build tree if it's available over the source tree, which is racy. We should prefer (generated) files in the build tree and warn if the same file also exists in the source tree.\r\n\r\nSee: https://bugzilla.gnome.org/show_bug.cgi?id=787677", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2686/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2685", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2685/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2685/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2685/events", "html_url": "https://github.com/mesonbuild/meson/issues/2685", "id": 276709943, "node_id": "MDU6SXNzdWUyNzY3MDk5NDM=", "number": 2685, "title": "Meson doesn't link libgfortran when linking Fortran together with C++", "user": {"login": "cschwan", "id": 94436, "node_id": "MDQ6VXNlcjk0NDM2", "avatar_url": "https://avatars.githubusercontent.com/u/94436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cschwan", "html_url": "https://github.com/cschwan", "followers_url": "https://api.github.com/users/cschwan/followers", "following_url": "https://api.github.com/users/cschwan/following{/other_user}", "gists_url": "https://api.github.com/users/cschwan/gists{/gist_id}", "starred_url": "https://api.github.com/users/cschwan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cschwan/subscriptions", "organizations_url": "https://api.github.com/users/cschwan/orgs", "repos_url": "https://api.github.com/users/cschwan/repos", "events_url": "https://api.github.com/users/cschwan/events{/privacy}", "received_events_url": "https://api.github.com/users/cschwan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-24T23:23:25Z", "updated_at": "2018-05-02T21:44:49Z", "closed_at": "2018-05-02T21:44:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the following linker error:\r\n\r\n    cschwan@cschwan-laptop ~/projects/mwe-cpp-fortran-meson/build $ ninja -v\r\n    [1/3] gfortran  -Iexe@exe -I. -I.. -pipe -Wall -O0 -g -Jexe@exe  -o 'exe@exe/fortran.f.o' -c ../fortran.f\r\n    [2/3] c++  -Iexe@exe -I. -I.. -fdiagnostics-color=always -pipe -D_FILE_OFFSET_BITS=64 -Wall -Winvalid-pch -Wnon-virtual-dtor -O0 -g -MMD -MQ 'exe@exe/main.cpp.o' -MF 'exe@exe/main.cpp.o.d' -o 'exe@exe/main.cpp.o' -c ../main.cpp\r\n    [3/3] c++  -o exe 'exe@exe/main.cpp.o' 'exe@exe/fortran.f.o' -Wl,--no-undefined -Wl,--as-needed  \r\n    FAILED: exe \r\n    c++  -o exe 'exe@exe/main.cpp.o' 'exe@exe/fortran.f.o' -Wl,--no-undefined -Wl,--as-needed  \r\n    exe@exe/fortran.f.o: In function `fortran':\r\n    /home/cschwan/projects/mwe-cpp-fortran-meson/build/../fortran.f:4: undefined reference to `_gfortran_rand'\r\n    collect2: error: ld returned 1 exit status\r\n    ninja: build stopped: subcommand failed.\r\n\r\nwith this minimal working example: [mwe-cpp-fortran-meson.tar.gz](https://github.com/mesonbuild/meson/files/1502664/mwe-cpp-fortran-meson.tar.gz)\r\n\r\nThe program is basically the following callchain: `main` (written in C++) calls `fortran` (written in Fortran) calls `rand` (in the Fortran runtime library). Because the C++ linker is used to link everything together, `libgfortran` is not linked which leads to the linker error. Manually linking `libgfortran` circumvents the problem, but this specific to GCC, of course. Meson should figure out all the runtime libraries and link against them.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2681", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2681/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2681/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2681/events", "html_url": "https://github.com/mesonbuild/meson/issues/2681", "id": 276592671, "node_id": "MDU6SXNzdWUyNzY1OTI2NzE=", "number": 2681, "title": "Object returned by executable() does not expand to full path when used as argument in test()", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-24T11:39:41Z", "updated_at": "2022-08-25T06:15:59Z", "closed_at": "2022-08-25T06:15:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "http://mesonbuild.com/Reference-manual.html#build-target-object says\r\n> full_path() returns a full path pointing to the result target file. NOTE: In most cases using the object itself will do the same job as this and will also allow Meson to setup inter-target dependencies correctly. Please file a bug if that doesn't work for you.\r\n\r\n... so I'm filling this.\r\n\r\n```meson\r\n        exe = executable('systemd-tmpfiles',\r\n                         'src/tmpfiles/tmpfiles.c',\r\n                         include_directories : includes,\r\n                         link_with : [libshared],\r\n                         dependencies : [libacl],\r\n                         install_rpath : rootlibexecdir,\r\n                         install : true,\r\n                         install_dir : rootbindir)\r\n        public_programs += [exe]\r\n\r\n        test('test-systemd-tmpfiles',\r\n             test_systemd_tmpfiles_py,\r\n             args : exe)\r\n```\r\nthis expands to\r\n```\r\n--- command ---\r\n/home/zbyszek/src/systemd-work/src/test/test-systemd-tmpfiles.py systemd-tmpfiles\r\n```\r\ni.e. it runs the system-installed binary instead of the one I want to test.\r\n\r\nUsing `exe.full_path()` works fine, but it will break dependency calculation when #1704 is resolved.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2681/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2681/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2675", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2675/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2675/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2675/events", "html_url": "https://github.com/mesonbuild/meson/issues/2675", "id": 276236675, "node_id": "MDU6SXNzdWUyNzYyMzY2NzU=", "number": 2675, "title": "meson test is not passed same arguments as ninja test", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-23T00:04:03Z", "updated_at": "2017-11-29T22:36:51Z", "closed_at": "2017-11-29T22:36:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I have a number of tests that are shells scripts (the code tested in Linux/BSD specific), and they need to be passed the location of compiled shared libraries. This works fine with `ninja test`, but the argument is not passed to `meson test`", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2675/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2661", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2661/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2661/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2661/events", "html_url": "https://github.com/mesonbuild/meson/issues/2661", "id": 275426404, "node_id": "MDU6SXNzdWUyNzU0MjY0MDQ=", "number": 2661, "title": "Assertion error when using libm from find_library()", "user": {"login": "ernestask", "id": 26867637, "node_id": "MDQ6VXNlcjI2ODY3NjM3", "avatar_url": "https://avatars.githubusercontent.com/u/26867637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ernestask", "html_url": "https://github.com/ernestask", "followers_url": "https://api.github.com/users/ernestask/followers", "following_url": "https://api.github.com/users/ernestask/following{/other_user}", "gists_url": "https://api.github.com/users/ernestask/gists{/gist_id}", "starred_url": "https://api.github.com/users/ernestask/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ernestask/subscriptions", "organizations_url": "https://api.github.com/users/ernestask/orgs", "repos_url": "https://api.github.com/users/ernestask/repos", "events_url": "https://api.github.com/users/ernestask/events{/privacy}", "received_events_url": "https://api.github.com/users/ernestask/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-20T16:56:04Z", "updated_at": "2018-02-18T18:37:00Z", "closed_at": "2018-02-15T20:45:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running Meson fails with Nautilus, as we do explicit linking with libm.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/mesonmain.py\", line 353, in run\r\n    app.generate()\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/mesonmain.py\", line 152, in generate\r\n    self._generate(env)\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/mesonmain.py\", line 209, in _generate\r\n    g.generate(intr)\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/backend/ninjabackend.py\", line 210, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/backend/ninjabackend.py\", line 461, in generate_target\r\n    elem = self.generate_link(target, outfile, outname, obj_list, linker, pch_objects)\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/backend/ninjabackend.py\", line 2465, in generate_link\r\n    self.determine_rpath_dirs(target),\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/backend/backends.py\", line 337, in determine_rpath_dirs\r\n    for rp in self.rpaths_for_bundled_shared_libraries(target):\r\n  File \"/home/ernestas/Development/github.com/mesonbuild/meson/mesonbuild/backend/backends.py\", line 326, in rpaths_for_bundled_shared_libraries\r\n    assert(not os.path.isabs(rel_to_src))\r\nAssertionError\r\n```\r\n\r\nThe code in Meson checks if the path is a system path by looking at its prefix, but on my machine it seems to be a bit more exotic: `/usr/bin/../lib/gcc/x86_64-redhat-linux/7/../../../../lib64/libm.so`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2661/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2661/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2659", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2659/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2659/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2659/events", "html_url": "https://github.com/mesonbuild/meson/issues/2659", "id": 275360130, "node_id": "MDU6SXNzdWUyNzUzNjAxMzA=", "number": 2659, "title": "Meson is trying to build against 'somelib.dll' instead of 'somelib.lib'", "user": {"login": "mojca", "id": 15606, "node_id": "MDQ6VXNlcjE1NjA2", "avatar_url": "https://avatars.githubusercontent.com/u/15606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojca", "html_url": "https://github.com/mojca", "followers_url": "https://api.github.com/users/mojca/followers", "following_url": "https://api.github.com/users/mojca/following{/other_user}", "gists_url": "https://api.github.com/users/mojca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojca/subscriptions", "organizations_url": "https://api.github.com/users/mojca/orgs", "repos_url": "https://api.github.com/users/mojca/repos", "events_url": "https://api.github.com/users/mojca/events{/privacy}", "received_events_url": "https://api.github.com/users/mojca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-20T13:43:48Z", "updated_at": "2017-12-03T20:48:57Z", "closed_at": "2017-12-03T20:48:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm reporting a regression that happened some time between release 0.43.0 and commit 05ee756ba045e6b298951bd00a0e4b0c5ec46150 (this is the only one I tested so far and noticed a problem, I didn't do any bisection yet).\r\n\r\nWhen doing a cross-compilation from Mac to Windows with MinGW's gcc 7.2, I started getting these warnings after the upgrade:\r\n```\r\nWarning: resolving _Foo@12 by linking to _Foo\r\nUse --enable-stdcall-fixup to disable these warnings\r\nUse --disable-stdcall-fixup to disable these fixups\r\n```\r\n\r\nI'm using the following code to find the library:\r\n```\r\nmy_dep = meson.get_compiler('cpp').find_library('mylib', dirs : meson.current_source_dir())\r\n```\r\n\r\nIt turns out that the old meson would generate this call for ninja:\r\n```\r\n/opt/local/bin/i686-w64-mingw32-g++ -o test/hello.exe 'test/hello@exe/hello.cpp.obj' -static-libgcc -static-libstdc++ -Wl,--start-group src/libThisLib.a /path/to/mylib.lib -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 -Wl,--end-group\r\n```\r\nwhile the new one generates:\r\n```\r\n/opt/local/bin/i686-w64-mingw32-g++ -o test/hello.exe 'test/hello@exe/hello.cpp.obj' -static-libgcc -static-libstdc++ -Wl,--start-group src/libThisLib.a /path/to/mylib.dll -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 -Wl,--end-group\r\n```\r\nthe difference being `mylib.lib` vs. `mylib.dll`.\r\n\r\nI'm using a third-party library that ships a header file, a `dll` and a `lib` file. I assume it was written primarily for Visual Studio.\r\n\r\nSee also https://stackoverflow.com/a/8104077/585897", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2655", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2655/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2655/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2655/events", "html_url": "https://github.com/mesonbuild/meson/issues/2655", "id": 275259924, "node_id": "MDU6SXNzdWUyNzUyNTk5MjQ=", "number": 2655, "title": "meson crashes after patch for #2629", "user": {"login": "mojca", "id": 15606, "node_id": "MDQ6VXNlcjE1NjA2", "avatar_url": "https://avatars.githubusercontent.com/u/15606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojca", "html_url": "https://github.com/mojca", "followers_url": "https://api.github.com/users/mojca/followers", "following_url": "https://api.github.com/users/mojca/following{/other_user}", "gists_url": "https://api.github.com/users/mojca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojca/subscriptions", "organizations_url": "https://api.github.com/users/mojca/orgs", "repos_url": "https://api.github.com/users/mojca/repos", "events_url": "https://api.github.com/users/mojca/events{/privacy}", "received_events_url": "https://api.github.com/users/mojca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-11-20T07:26:21Z", "updated_at": "2018-08-07T11:45:10Z", "closed_at": "2018-08-07T11:45:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I upgraded to the latest version of meson after #2629 was claimed to be fixed.\r\n\r\nWith exactly the same test cases I'm now experiencing the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/bin/meson\", line 37, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/bin/meson\", line 34, in main\r\n    return mesonmain.run(sys.argv[1:], launcher)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 292, in run\r\n    return mtest.run(remaining_args)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mesonbuild/mtest.py\", line 625, in run\r\n    return th.doit()\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mesonbuild/mtest.py\", line 365, in doit\r\n    self.run_tests(tests)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mesonbuild/mtest.py\", line 508, in run_tests\r\n    self.drain_futures(futures)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mesonbuild/mtest.py\", line 522, in drain_futures\r\n    self.print_stats(numlen, tests, name, result.result(), i)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/_base.py\", line 432, in result\r\n    return self.__get_result()\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/_base.py\", line 384, in __get_result\r\n    raise self._exception\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/concurrent/futures/thread.py\", line 56, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mesonbuild/mtest.py\", line 277, in run_single_test\r\n    (stdo, stde) = p.communicate()\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 843, in communicate\r\n    stdout, stderr = self._communicate(input, endtime, timeout)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 1505, in _communicate\r\n    selector.register(self.stdout, selectors.EVENT_READ)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py\", line 299, in register\r\n    key = super().register(fileobj, events, data)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py\", line 237, in register\r\n    key = SelectorKey(fileobj, self._fileobj_lookup(fileobj), events, data)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py\", line 224, in _fileobj_lookup\r\n    return _fileobj_to_fd(fileobj)\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/selectors.py\", line 39, in _fileobj_to_fd\r\n    \"{!r}\".format(fileobj)) from None\r\nValueError: Invalid file object: <_io.BufferedReader name=10>\r\nFAILED: meson-test \r\n```\r\n\r\nI'm sorry for not being able to provide too much of additional info. If you can guide me what to check, I'll try to explore further. Last time it was clear it was about wine, this time it is no longer clear (the tests succeed when running natively on Windows in msys2). It's potentially possible that something else went wrong because I had to clean everything after upgrading to the latest version of meson.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2655/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2633", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2633/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2633/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2633/events", "html_url": "https://github.com/mesonbuild/meson/issues/2633", "id": 274535704, "node_id": "MDU6SXNzdWUyNzQ1MzU3MDQ=", "number": 2633, "title": "depend_files in subdir looks in parent", "user": {"login": "jibsen", "id": 1367512, "node_id": "MDQ6VXNlcjEzNjc1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1367512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jibsen", "html_url": "https://github.com/jibsen", "followers_url": "https://api.github.com/users/jibsen/followers", "following_url": "https://api.github.com/users/jibsen/following{/other_user}", "gists_url": "https://api.github.com/users/jibsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jibsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jibsen/subscriptions", "organizations_url": "https://api.github.com/users/jibsen/orgs", "repos_url": "https://api.github.com/users/jibsen/repos", "events_url": "https://api.github.com/users/jibsen/events{/privacy}", "received_events_url": "https://api.github.com/users/jibsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-16T14:31:13Z", "updated_at": "2017-12-03T21:24:31Z", "closed_at": "2017-12-03T21:24:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Not sure if this is by design, but if I have a subdir with the files `foo.in` and `file`, and:\r\n\r\n~~~Meson\r\n# meson.build\r\nsubdir(src)\r\n\r\n# src/meson.build\r\ncustom_target('foo',\r\n  build_by_default : true,\r\n  depend_files : 'file',\r\n  input : 'foo.in',\r\n  output : 'foo.out',\r\n  command : [\r\n    ...\r\n  ]\r\n)\r\n~~~\r\n\r\nthen building fails with\r\n\r\n> ninja: error: '../file', needed by 'src/foo.out', missing and no known rule to make it\r\n\r\nwhereas if I use `files('file')` instead of `'file'` it works.\r\n\r\nIf I put `file` in the parent folder it also builds. I kind of assumed that referring to `'file'` inside the build file of the subdir would just work, like referring to `'foo.in'` does.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2633/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2633/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2631", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2631/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2631/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2631/events", "html_url": "https://github.com/mesonbuild/meson/issues/2631", "id": 274337069, "node_id": "MDU6SXNzdWUyNzQzMzcwNjk=", "number": 2631, "title": "Boost: Broken detection when cross compiling to Windows hosts", "user": {"login": "mia-0", "id": 652892, "node_id": "MDQ6VXNlcjY1Mjg5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/652892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mia-0", "html_url": "https://github.com/mia-0", "followers_url": "https://api.github.com/users/mia-0/followers", "following_url": "https://api.github.com/users/mia-0/following{/other_user}", "gists_url": "https://api.github.com/users/mia-0/gists{/gist_id}", "starred_url": "https://api.github.com/users/mia-0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mia-0/subscriptions", "organizations_url": "https://api.github.com/users/mia-0/orgs", "repos_url": "https://api.github.com/users/mia-0/repos", "events_url": "https://api.github.com/users/mia-0/events{/privacy}", "received_events_url": "https://api.github.com/users/mia-0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-11-15T23:06:17Z", "updated_at": "2018-03-07T08:47:50Z", "closed_at": "2018-03-07T08:47:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python system: Linux\r\nVersion: 0.43.0\r\n\r\nWhen cross compiling to Windows using a mingw-w64 toolchain, the Boost dependency detection is broken and can\u2019t find the libraries.\r\n\r\nProblem is probably right here:\r\nhttps://github.com/mesonbuild/meson/blob/e51da1a34d3ac2ed23451e05c971720c20aaa064/mesonbuild/dependencies/misc.py#L230-L233\r\n\r\nAlso, this needs more logging. Can\u2019t even tell what it\u2019s looking for.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2631/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2628", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2628/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2628/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2628/events", "html_url": "https://github.com/mesonbuild/meson/issues/2628", "id": 274079679, "node_id": "MDU6SXNzdWUyNzQwNzk2Nzk=", "number": 2628, "title": "clang's linker doesn't like -pthread", "user": {"login": "mojca", "id": 15606, "node_id": "MDQ6VXNlcjE1NjA2", "avatar_url": "https://avatars.githubusercontent.com/u/15606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojca", "html_url": "https://github.com/mojca", "followers_url": "https://api.github.com/users/mojca/followers", "following_url": "https://api.github.com/users/mojca/following{/other_user}", "gists_url": "https://api.github.com/users/mojca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojca/subscriptions", "organizations_url": "https://api.github.com/users/mojca/orgs", "repos_url": "https://api.github.com/users/mojca/repos", "events_url": "https://api.github.com/users/mojca/events{/privacy}", "received_events_url": "https://api.github.com/users/mojca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 776921620, "node_id": "MDU6TGFiZWw3NzY5MjE2MjA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-15T08:58:40Z", "updated_at": "2019-11-27T09:11:36Z", "closed_at": "2018-10-01T19:35:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is already #2118, but I'm not sure if this is the same issue.\r\n\r\nWhen I include `googletest` which requests `pthreads`, the compiler complains:\r\n```\r\nclang: warning: argument unused during compilation: '-pthread' [-Wunused-command-line-argument]\r\n```\r\n\r\nThe command used to compile is:\r\n\r\n```\r\n c++  -o test/unittest/simpletest 'test/unittest/simpletest@exe/simpletest.cpp.o' 'test/unittest/simpletest@exe/.._.._subprojects_googletest-release-1.8.0_googletest_src_gtest-all.cc.o' 'test/unittest/simpletest@exe/.._.._subprojects_googletest-release-1.8.0_googletest_src_gtest_main.cc.o' src/mylib.a -pthread\r\n```\r\nand there are no duplicate entries of `-pthread`.\r\n\r\n\r\nNote that this is a super low priority issue (it's just a warning after all).\r\n\r\nSee https://stackoverflow.com/a/19382663/585897", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2628/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2623", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2623/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2623/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2623/events", "html_url": "https://github.com/mesonbuild/meson/issues/2623", "id": 273738633, "node_id": "MDU6SXNzdWUyNzM3Mzg2MzM=", "number": 2623, "title": "Subprojects don't work when git is missing on the system", "user": {"login": "mojca", "id": 15606, "node_id": "MDQ6VXNlcjE1NjA2", "avatar_url": "https://avatars.githubusercontent.com/u/15606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mojca", "html_url": "https://github.com/mojca", "followers_url": "https://api.github.com/users/mojca/followers", "following_url": "https://api.github.com/users/mojca/following{/other_user}", "gists_url": "https://api.github.com/users/mojca/gists{/gist_id}", "starred_url": "https://api.github.com/users/mojca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mojca/subscriptions", "organizations_url": "https://api.github.com/users/mojca/orgs", "repos_url": "https://api.github.com/users/mojca/repos", "events_url": "https://api.github.com/users/mojca/events{/privacy}", "received_events_url": "https://api.github.com/users/mojca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-14T10:23:31Z", "updated_at": "2021-01-26T20:01:55Z", "closed_at": "2021-01-26T20:01:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to use meson on msys2 on Windows. Some things seemed to work, but meson reported\r\n```\r\nDependency GTest found: NO\r\nAlso couldn't find a fallback subproject in subprojects/gtest for the dependency gtest\r\n\r\nMeson encountered an error in file test/unittest/meson.build, line 1, column 0:\r\nDependency \"gtest\" not found\r\n```\r\ndespite using\r\n```meson\r\ngtest = dependency('gtest', fallback : ['gtest', 'gtest_main_dep'], main : true)\r\n```\r\nand having a valid `subprojects/gtest.wrap` file:\r\n```\r\n[wrap-file]\r\ndirectory = googletest-release-1.8.0\r\n\r\nsource_url = https://github.com/google/googletest/archive/release-1.8.0.zip\r\nsource_filename = gtest-1.8.0.zip\r\nsource_hash = f3ed3b58511efd272eb074a3a6d6fb79d7c2e6a0e374323d1e6bcbcc1ef141bf\r\n\r\npatch_url = https://wrapdb.mesonbuild.com/v1/projects/gtest/1.8.0/4/get_zip\r\npatch_filename = gtest-1.8.0-4-wrap.zip\r\npatch_hash = 0b90fe055acbdb002a37dfb035184b306008b763931158497ef5dbaa8c7925af\r\n```\r\n\r\nAfter some debugging it turned out that `resolved = r.resolve(dirname)` was raising a `FileNotFoundError`. Further debugging revealed that the following line was a culprit\r\n```python\r\ndef quiet_git(cmd, workingdir):\r\n    pc = subprocess.Popen(['git', '-C', workingdir] + cmd,\r\n                          stdout=subprocess.PIPE, stderr=subprocess.PIPE)\r\n    ...\r\n```\r\nwhich was called from `resolve_git_submodule()` from `resolve()`.\r\n\r\nBtw, since I have put some more debugging info to the sources, here's an interesting error that was properly intercepted:\r\n```\r\nfatal: Not a git repository (or any parent up to mount point /z)\\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\\n\r\n```\r\n\r\nAfter I installed `git`, everything started working (note that my code was not even in a git repository).\r\n\r\nI believe that `meson`'s functionality should not depend on existence of `git` and that the failure to find `git` should be handled properly.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2580", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2580/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2580/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2580/events", "html_url": "https://github.com/mesonbuild/meson/issues/2580", "id": 271152810, "node_id": "MDU6SXNzdWUyNzExNTI4MTA=", "number": 2580, "title": "Meson 0.43 module build.py fix to known_kwargs for jar targets", "user": {"login": "jrl64", "id": 32905389, "node_id": "MDQ6VXNlcjMyOTA1Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/32905389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrl64", "html_url": "https://github.com/jrl64", "followers_url": "https://api.github.com/users/jrl64/followers", "following_url": "https://api.github.com/users/jrl64/following{/other_user}", "gists_url": "https://api.github.com/users/jrl64/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrl64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrl64/subscriptions", "organizations_url": "https://api.github.com/users/jrl64/orgs", "repos_url": "https://api.github.com/users/jrl64/repos", "events_url": "https://api.github.com/users/jrl64/events{/privacy}", "received_events_url": "https://api.github.com/users/jrl64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-04T00:40:29Z", "updated_at": "2018-03-23T23:31:49Z", "closed_at": "2018-03-23T23:31:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When the jar() function is used to create a Java target, build.py issues a warning message:\r\n'WARNING: Unknown keyword argument(s) in target <your_target>: target_type.' This occurs because class Jar in build.py doesn't known about the target_type argument passed to it. \r\n\r\nIn build.py, top level, just after setting known_exe_kwargs, add these two lines:\r\n\r\nknown_jar_kwargs = known_basic_kwargs.copy()\r\nknown_jar_kwargs.update({'target_type': 'jar',\r\n                         })\r\n\r\nIn the definition of class Jar in build.py, override the check_unknown_kwargs() method inherited from class BuildTarget with:\r\n\r\n    def check_unknown_kwargs(self, kwargs):\r\n        self.check_unknown_kwargs_int(kwargs, known_jar_kwargs)\r\n\r\nThat should eliminate the warning message .", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2580/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2571", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2571/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2571/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2571/events", "html_url": "https://github.com/mesonbuild/meson/issues/2571", "id": 270714316, "node_id": "MDU6SXNzdWUyNzA3MTQzMTY=", "number": 2571, "title": "Meson 0.43 module java.py class JavaCompiler is missing needed methods", "user": {"login": "jrl64", "id": 32905389, "node_id": "MDQ6VXNlcjMyOTA1Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/32905389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrl64", "html_url": "https://github.com/jrl64", "followers_url": "https://api.github.com/users/jrl64/followers", "following_url": "https://api.github.com/users/jrl64/following{/other_user}", "gists_url": "https://api.github.com/users/jrl64/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrl64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrl64/subscriptions", "organizations_url": "https://api.github.com/users/jrl64/orgs", "repos_url": "https://api.github.com/users/jrl64/repos", "events_url": "https://api.github.com/users/jrl64/events{/privacy}", "received_events_url": "https://api.github.com/users/jrl64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 562672718, "node_id": "MDU6TGFiZWw1NjI2NzI3MTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:java", "name": "language:java", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-02T16:13:39Z", "updated_at": "2022-10-24T18:43:29Z", "closed_at": "2022-10-24T18:43:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The JavaCompiler class appears to have fallen behind the times, so that some needed methods are missing. I have not done any kind of through review of what it would take to get JavaCompiler up to date. By simply working the failure symptoms, I found that for my project, adding the following methods,\r\nalong with the changes from Issue #2569 and Issue #2570, was sufficient to build a simple Java 9 project with Meson 0.43 and Ninja:\r\n\r\n>     def get_warn_args(self, level):\r\n>         return ['-Xlint:all']\r\n>\r\n>     def get_no_warn_args(self):\r\n>         return ['-Xlint:none']\r\n>\r\n>     def depfile_for_object(self, objfile):\r\n>         return objfile + '.' + self.get_depfile_suffix()\r\n>\r\n>     def get_depfile_suffix(self):\r\n>         return 'd'\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2570", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2570/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2570/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2570/events", "html_url": "https://github.com/mesonbuild/meson/issues/2570", "id": 270710884, "node_id": "MDU6SXNzdWUyNzA3MTA4ODQ=", "number": 2570, "title": "Meson 0.43.0 java.py needs to supply three arguments to get_include_args()", "user": {"login": "jrl64", "id": 32905389, "node_id": "MDQ6VXNlcjMyOTA1Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/32905389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrl64", "html_url": "https://github.com/jrl64", "followers_url": "https://api.github.com/users/jrl64/followers", "following_url": "https://api.github.com/users/jrl64/following{/other_user}", "gists_url": "https://api.github.com/users/jrl64/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrl64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrl64/subscriptions", "organizations_url": "https://api.github.com/users/jrl64/orgs", "repos_url": "https://api.github.com/users/jrl64/repos", "events_url": "https://api.github.com/users/jrl64/events{/privacy}", "received_events_url": "https://api.github.com/users/jrl64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 562672718, "node_id": "MDU6TGFiZWw1NjI2NzI3MTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:java", "name": "language:java", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-02T16:04:27Z", "updated_at": "2022-08-25T06:30:07Z", "closed_at": "2022-08-25T06:30:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Definition of the get_include_args() method of class JavaCompiler in module java.py should be updated to take three arguments, as the other compiler classes do:\r\n\r\n    def get_include_args(self, path, is_system):", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2569", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2569/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2569/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2569/events", "html_url": "https://github.com/mesonbuild/meson/issues/2569", "id": 270706322, "node_id": "MDU6SXNzdWUyNzA3MDYzMjI=", "number": 2569, "title": "Change environment.py to look for 'javac -version' output on stdout as well as stderr", "user": {"login": "jrl64", "id": 32905389, "node_id": "MDQ6VXNlcjMyOTA1Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/32905389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrl64", "html_url": "https://github.com/jrl64", "followers_url": "https://api.github.com/users/jrl64/followers", "following_url": "https://api.github.com/users/jrl64/following{/other_user}", "gists_url": "https://api.github.com/users/jrl64/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrl64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrl64/subscriptions", "organizations_url": "https://api.github.com/users/jrl64/orgs", "repos_url": "https://api.github.com/users/jrl64/repos", "events_url": "https://api.github.com/users/jrl64/events{/privacy}", "received_events_url": "https://api.github.com/users/jrl64/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 562672718, "node_id": "MDU6TGFiZWw1NjI2NzI3MTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:java", "name": "language:java", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-02T15:52:49Z", "updated_at": "2018-11-08T17:42:59Z", "closed_at": "2018-11-08T17:42:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The javac command from Oracle OpenJDK 9 writes the output of 'javac -version' on stdout. The Meson 0.43.0 environment.py module, in function detect_java_compiler(), only looks at the stderr as returned by Popen_safe(). It should be updated to look at the stdout returned by Popen_safe() as well.\r\n\r\nThe new code could be:\r\n\r\n    def detect_java_compiler(self):\r\n        exelist = ['javac']\r\n        try:\r\n            p, out, err = Popen_safe(exelist + ['-version'])\r\n        except OSError:\r\n            raise EnvironmentException('Could not execute Java compiler \"%s\"' % ' '.join(exelist))\r\n        if 'javac' in err:\r\n            version = search_version(err)\r\n            return JavaCompiler(exelist, version)\r\n        elif 'javac' in out:\r\n            version = search_version(out)\r\n            return JavaCompiler(exelist, version)\r\n        raise EnvironmentException('Unknown compiler \"' + ' '.join(exelist) + '\"')\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2557", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2557/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2557/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2557/events", "html_url": "https://github.com/mesonbuild/meson/issues/2557", "id": 269626067, "node_id": "MDU6SXNzdWUyNjk2MjYwNjc=", "number": 2557, "title": "lib64 detection is overzealous", "user": {"login": "alexlarsson", "id": 990736, "node_id": "MDQ6VXNlcjk5MDczNg==", "avatar_url": "https://avatars.githubusercontent.com/u/990736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexlarsson", "html_url": "https://github.com/alexlarsson", "followers_url": "https://api.github.com/users/alexlarsson/followers", "following_url": "https://api.github.com/users/alexlarsson/following{/other_user}", "gists_url": "https://api.github.com/users/alexlarsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexlarsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexlarsson/subscriptions", "organizations_url": "https://api.github.com/users/alexlarsson/orgs", "repos_url": "https://api.github.com/users/alexlarsson/repos", "events_url": "https://api.github.com/users/alexlarsson/events{/privacy}", "received_events_url": "https://api.github.com/users/alexlarsson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-10-30T14:45:32Z", "updated_at": "2018-05-25T14:38:15Z", "closed_at": "2018-05-25T14:38:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "The flatpak freedesktop.org runtime doesn't use lib64, it always uses /usr/lib, even on x86-64. However, due to the linux ABI specification we have to have a `/lib/ld-linux-x86-64.so.2`, and flatpak runtimes are always usr-merged, with a symlink `/lib` -> `/usr/lib`.\r\n\r\nSo:\r\n```\r\n $ flatpak run --command=ls org.freedesktop.Sdk/x86_64/1.6 -l /usr/lib64\r\ntotal 0\r\nlrwxrwxrwx 1 alex wheel 27 okt 30 15:07 ld-linux-x86-64.so.2 -> ../lib/ld-linux-x86-64.so.2\r\n```\r\n\r\nMeson detects this as \"you should use lib64\", so we have a patch to work around this in the sdk:\r\nhttps://github.com/flatpak/freedesktop-sdk-images/blob/1.6/meson-no-lib64.patch\r\n\r\nIt would be nice if this could be somewhat smarter, or configuratble when you build meson.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2557/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2547", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2547/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2547/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2547/events", "html_url": "https://github.com/mesonbuild/meson/issues/2547", "id": 269246828, "node_id": "MDU6SXNzdWUyNjkyNDY4Mjg=", "number": 2547, "title": "Boost not detected on Fedora", "user": {"login": "jhasse", "id": 80071, "node_id": "MDQ6VXNlcjgwMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/80071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhasse", "html_url": "https://github.com/jhasse", "followers_url": "https://api.github.com/users/jhasse/followers", "following_url": "https://api.github.com/users/jhasse/following{/other_user}", "gists_url": "https://api.github.com/users/jhasse/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhasse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhasse/subscriptions", "organizations_url": "https://api.github.com/users/jhasse/orgs", "repos_url": "https://api.github.com/users/jhasse/repos", "events_url": "https://api.github.com/users/jhasse/events{/privacy}", "received_events_url": "https://api.github.com/users/jhasse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2017-10-27T21:52:46Z", "updated_at": "2018-02-12T15:04:54Z", "closed_at": "2017-11-17T11:04:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using Fedora 26 and can't use Boost like this:\r\n\r\n```\r\nboost_dep = dependency('boost', modules : [\r\n\t'serialization',\r\n\t'system',\r\n\t'filesystem',\r\n])\r\n```\r\n\r\nOutput is:\r\n\r\n```\r\nDependency Boost (serialization, system, filesystem) found: NO\r\n```\r\n\r\nmeson-log.txt doesn't show any more information.\r\n\r\nIt works if I do this though:\r\n\r\n```\r\ncxx = meson.get_compiler('cpp')\r\nboost_dep = [\r\n\tcxx.find_library('boost_serialization'),\r\n\tcxx.find_library('boost_system'),\r\n\tcxx.find_library('boost_filesystem'),\r\n]\r\n```\r\n\r\nChanging the libraries to something simpler (e.g. only `threads`) doesn't seem to help.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2547/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2535", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2535/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2535/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2535/events", "html_url": "https://github.com/mesonbuild/meson/issues/2535", "id": 268309248, "node_id": "MDU6SXNzdWUyNjgzMDkyNDg=", "number": 2535, "title": "Installation prefix is wrong when using --prefix on meson or DESDIR in ninja", "user": {"login": "gadLinux", "id": 233204, "node_id": "MDQ6VXNlcjIzMzIwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/233204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadLinux", "html_url": "https://github.com/gadLinux", "followers_url": "https://api.github.com/users/gadLinux/followers", "following_url": "https://api.github.com/users/gadLinux/following{/other_user}", "gists_url": "https://api.github.com/users/gadLinux/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadLinux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadLinux/subscriptions", "organizations_url": "https://api.github.com/users/gadLinux/orgs", "repos_url": "https://api.github.com/users/gadLinux/repos", "events_url": "https://api.github.com/users/gadLinux/events{/privacy}", "received_events_url": "https://api.github.com/users/gadLinux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-10-25T08:29:37Z", "updated_at": "2020-05-09T08:28:46Z", "closed_at": "2018-12-29T22:51:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that both of them are adding the build machine architecture for installation. \r\n\r\nInstead of using /usr/lib or /usr/local/lib it's using usr/lib/x86_64-linux-gnu and usr/local/lib/x86_64-linux-gnu. \r\n\r\nThis is because I'm compiling for ARM in a X86_64 machine. That's completely wrong. Even if the binary created and installed on that path is for ARM the path is wrong.\r\n\r\nIn my case:\r\n\r\n/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot/usr/local/lib/x86_64-linux-gnu/libsg64_core.so\r\n\r\nI will also override the values for the prefix and DESTDIR in the cross-file so it can be safely changed when cross-compile in opposition of a normal target build on x86_64 architecture. \r\n\r\nSo something like this should work.\r\n\r\n```ini\r\n[binaries]\r\nc = '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/bin/arm-linux-gcc'\r\ncpp = '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/bin/arm-linux-g++'\r\nar = '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/bin/arm-linux-ar'\r\nstrip = '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/bin/arm-linux-strip'\r\npkgconfig = '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/bin/pkg-config'\r\n\r\n[properties]\r\nroot = '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot'\r\nDESTDIR = '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot'\r\nprefix= '/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot'\r\nc_args = ['-DTARGET_MACHINE=VAL100',\r\n\t\t\t\t\t'--sysroot=/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot']\r\nc_link_args = ['--sysroot=/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot']\r\ncpp_args = ['--sysroot=/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot']\r\ncpp_link_args = ['--sysroot=/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot']\r\n\r\n\r\n\r\n[host_machine]\r\nsystem = 'linux'\r\ncpu_family = 'arm'\r\ncpu = 'armv7hl'\r\nendian = 'little'\r\n\r\n[target_machine]\r\nsystem = 'linux'\r\ncpu_family = 'arm'\r\ncpu = 'armv7hl'\r\nendian = 'little'\r\n```\r\n\r\nI can call meson with prefix:\r\n\r\nmeson --prefix /opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot . build-val100/ --cross-file val100-cross.txt\r\n\r\nor I can install with DESTDIR:\r\n\r\nDESTDIR=/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot ninja install\r\n\r\nBut also if I use both. Both paths are added to the installation:\r\n\r\nInstalling src/libsg64_core.so to /opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot/opt/VAL100/buildroot/buildroot-2015.05/output/host/usr/arm-buildroot-linux-gnueabihf/sysroot/lib/x86_64-linux-gnu/libsg64_core.so\r\n\r\nSo they are not compatible I think...", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2535/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2533", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2533/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2533/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2533/events", "html_url": "https://github.com/mesonbuild/meson/issues/2533", "id": 268190097, "node_id": "MDU6SXNzdWUyNjgxOTAwOTc=", "number": 2533, "title": "Issue while checking meson after install using latest release", "user": {"login": "avmukilan", "id": 21286650, "node_id": "MDQ6VXNlcjIxMjg2NjUw", "avatar_url": "https://avatars.githubusercontent.com/u/21286650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avmukilan", "html_url": "https://github.com/avmukilan", "followers_url": "https://api.github.com/users/avmukilan/followers", "following_url": "https://api.github.com/users/avmukilan/following{/other_user}", "gists_url": "https://api.github.com/users/avmukilan/gists{/gist_id}", "starred_url": "https://api.github.com/users/avmukilan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avmukilan/subscriptions", "organizations_url": "https://api.github.com/users/avmukilan/orgs", "repos_url": "https://api.github.com/users/avmukilan/repos", "events_url": "https://api.github.com/users/avmukilan/events{/privacy}", "received_events_url": "https://api.github.com/users/avmukilan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-24T21:20:52Z", "updated_at": "2017-11-29T07:09:05Z", "closed_at": "2017-11-29T07:08:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "meson --version\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/meson\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('meson==0.43.0', 'meson')\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 739, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 1486, in run_script\r\n    raise ResolutionError(\"No script named %r\" % script_name)\r\npkg_resources.ResolutionError: No script named 'meson'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2501", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2501/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2501/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2501/events", "html_url": "https://github.com/mesonbuild/meson/issues/2501", "id": 266120454, "node_id": "MDU6SXNzdWUyNjYxMjA0NTQ=", "number": 2501, "title": "LOCALE should be set to english before parsing gcc output", "user": {"login": "jonathanlambrechts", "id": 5736762, "node_id": "MDQ6VXNlcjU3MzY3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/5736762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanlambrechts", "html_url": "https://github.com/jonathanlambrechts", "followers_url": "https://api.github.com/users/jonathanlambrechts/followers", "following_url": "https://api.github.com/users/jonathanlambrechts/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanlambrechts/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanlambrechts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanlambrechts/subscriptions", "organizations_url": "https://api.github.com/users/jonathanlambrechts/orgs", "repos_url": "https://api.github.com/users/jonathanlambrechts/repos", "events_url": "https://api.github.com/users/jonathanlambrechts/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanlambrechts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-17T13:16:54Z", "updated_at": "2017-11-29T07:19:17Z", "closed_at": "2017-11-29T07:19:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "parsing of gcc output fails if the language of the current locale is not english\r\nin file mesonbuild/compilers/compilers.py:937, function gnulike_default_include_dirs \r\n`            if line == '#include \"...\" search starts here:':`\r\ndoes not work for me because the output of gcc is translated to french.\r\nThe locale could be set to 'C' in the Popen call.\r\nAlternatively, it is also possible to restrict the comparison to the beginning of the line \r\n`           if line.startswith('#include \"...\"')`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2501/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2484", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2484/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2484/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2484/events", "html_url": "https://github.com/mesonbuild/meson/issues/2484", "id": 264730809, "node_id": "MDU6SXNzdWUyNjQ3MzA4MDk=", "number": 2484, "title": "Support using -MD instead of -MMD", "user": {"login": "haasn", "id": 1149047, "node_id": "MDQ6VXNlcjExNDkwNDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1149047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haasn", "html_url": "https://github.com/haasn", "followers_url": "https://api.github.com/users/haasn/followers", "following_url": "https://api.github.com/users/haasn/following{/other_user}", "gists_url": "https://api.github.com/users/haasn/gists{/gist_id}", "starred_url": "https://api.github.com/users/haasn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haasn/subscriptions", "organizations_url": "https://api.github.com/users/haasn/orgs", "repos_url": "https://api.github.com/users/haasn/repos", "events_url": "https://api.github.com/users/haasn/events{/privacy}", "received_events_url": "https://api.github.com/users/haasn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-10-11T20:48:05Z", "updated_at": "2018-01-18T03:45:04Z", "closed_at": "2018-01-18T03:45:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From gcc documentation:\r\n\r\n```\r\n       -MMD\r\n           Like -MD except mention only user header files, not system header files.\r\n```\r\n\r\nSometimes this is not what the developer wants. Allowing it to be tunable or overridable somehow would be great. It seems this is a hard-coded meson behavior:\r\n\r\nhttps://github.com/mesonbuild/meson/blob/33c2bbc6e889ed912942b2e3507deeafc691c6a2/mesonbuild/compilers/c.py#L94\r\n\r\nAs a motivating case, the `mpv` project needs to rebuild a number of files whenever the FFmpeg headers change, because FFmpeg's ABI policy is... unorthodox; and header changes can randomly break everything unless the corresponding files are rebuilt.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2484/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2481", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2481/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2481/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2481/events", "html_url": "https://github.com/mesonbuild/meson/issues/2481", "id": 264650763, "node_id": "MDU6SXNzdWUyNjQ2NTA3NjM=", "number": 2481, "title": "Spurious sandbox violations from name clash with subprojects dir", "user": {"login": "acfoltzer", "id": 205266, "node_id": "MDQ6VXNlcjIwNTI2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/205266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acfoltzer", "html_url": "https://github.com/acfoltzer", "followers_url": "https://api.github.com/users/acfoltzer/followers", "following_url": "https://api.github.com/users/acfoltzer/following{/other_user}", "gists_url": "https://api.github.com/users/acfoltzer/gists{/gist_id}", "starred_url": "https://api.github.com/users/acfoltzer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acfoltzer/subscriptions", "organizations_url": "https://api.github.com/users/acfoltzer/orgs", "repos_url": "https://api.github.com/users/acfoltzer/repos", "events_url": "https://api.github.com/users/acfoltzer/events{/privacy}", "received_events_url": "https://api.github.com/users/acfoltzer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/23", "html_url": "https://github.com/mesonbuild/meson/milestone/23", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/23/labels", "id": 2828724, "node_id": "MDk6TWlsZXN0b25lMjgyODcyNA==", "number": 23, "title": "0.43.1", "description": null, "creator": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2017-10-10T21:09:15Z", "updated_at": "2017-12-11T18:29:29Z", "due_on": null, "closed_at": "2017-12-10T19:51:36Z"}, "comments": 12, "created_at": "2017-10-11T16:19:47Z", "updated_at": "2017-10-30T23:06:22Z", "closed_at": "2017-10-30T23:06:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The check to determine whether a sandbox violation has occurred appears to be overly zealous: it flags as a violation any file path that contains the `subproject_dir` string, even if it's a completely unrelated directory. This breaks my project in 0.43.\r\n\r\nI will be submitting a pull request shortly with a test case that demonstrates the problem (done: #2482).", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2468", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2468/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2468/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2468/events", "html_url": "https://github.com/mesonbuild/meson/issues/2468", "id": 264221871, "node_id": "MDU6SXNzdWUyNjQyMjE4NzE=", "number": 2468, "title": "Meson uses Obj-C linker for C++ project with Obj-C subproject", "user": {"login": "jholewinski", "id": 246931, "node_id": "MDQ6VXNlcjI0NjkzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/246931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jholewinski", "html_url": "https://github.com/jholewinski", "followers_url": "https://api.github.com/users/jholewinski/followers", "following_url": "https://api.github.com/users/jholewinski/following{/other_user}", "gists_url": "https://api.github.com/users/jholewinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/jholewinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jholewinski/subscriptions", "organizations_url": "https://api.github.com/users/jholewinski/orgs", "repos_url": "https://api.github.com/users/jholewinski/repos", "events_url": "https://api.github.com/users/jholewinski/events{/privacy}", "received_events_url": "https://api.github.com/users/jholewinski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2017-10-10T13:10:40Z", "updated_at": "2017-12-30T15:59:35Z", "closed_at": "2017-12-30T15:59:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "While investigating meson and the wrap-tool functionality, I found that meson will try to use the Obj-C linker to link a C++ project that uses an Obj-C subproject.\r\n\r\nReproduction:\r\n\r\nmeson.build:\r\n\r\n```\r\nproject('test', ['cpp'])\r\n\r\nsdl2_sp = subproject('sdl2')\r\n\r\nexecutable('sdl-test', 'test.cpp', dependencies: sdl2_sp.get_variable('sdl2_dep'))\r\n```\r\n\r\ntest.cpp:\r\n\r\n```\r\n#include <iostream>\r\n\r\nint main() {\r\n  std::cout << \"Hi!\\n\";\r\n  return 0;\r\n}\r\n```\r\n\r\nExpected output: Successful build of `sdl-test` binary.\r\n\r\nActual output:\r\n\r\n```\r\n[1/1] Linking target sdl-test.\r\nFAILED: sdl-test \r\ncc  -o sdl-test 'sdl-test@exe/test.cpp.o' subprojects/SDL2-2.0.3/libsdl2.dylib '-Wl,-rpath,$ORIGIN/subprojects/SDL2-2.0.3'  \r\nUndefined symbols for architecture x86_64:\r\n  \"std::__1::locale::use_facet(std::__1::locale::id&) const\", referenced from:\r\n      std::__1::basic_ostream<char, std::__1::char_traits<char> >& std::__1::__put_character_sequence<char, std::__1::char_traits<char> >(std::__1::basic_ostream<char, std::__1::char_traits<char> >&, char const*, unsigned long) in test.cpp.o\r\n... many more undefined C++ library symbols ...\r\n```\r\n\r\nThis is the relevant part of the generated build.ninja file:\r\n\r\n```\r\nbuild sdl-test: objc_LINKER sdl-test@exe/test.cpp.o | subprojects/SDL2-2.0.3/sdl2@sha/subprojects/SDL2-2.0.3/libsdl2.dylib.symbols                              \r\n LINK_ARGS = subprojects/SDL2-2.0.3/libsdl2.dylib '-Wl,-rpath,$$ORIGIN/subprojects/SDL2-2.0.3'\r\n```\r\n\r\nIf I manually change `build.ninja` to use `cpp_LINKER` here, the build is successful.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2468/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2417", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2417/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2417/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2417/events", "html_url": "https://github.com/mesonbuild/meson/issues/2417", "id": 262436259, "node_id": "MDU6SXNzdWUyNjI0MzYyNTk=", "number": 2417, "title": "missing runtime vcruntime140.dll ", "user": {"login": "simevo", "id": 8254819, "node_id": "MDQ6VXNlcjgyNTQ4MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8254819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simevo", "html_url": "https://github.com/simevo", "followers_url": "https://api.github.com/users/simevo/followers", "following_url": "https://api.github.com/users/simevo/following{/other_user}", "gists_url": "https://api.github.com/users/simevo/gists{/gist_id}", "starred_url": "https://api.github.com/users/simevo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simevo/subscriptions", "organizations_url": "https://api.github.com/users/simevo/orgs", "repos_url": "https://api.github.com/users/simevo/repos", "events_url": "https://api.github.com/users/simevo/events{/privacy}", "received_events_url": "https://api.github.com/users/simevo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-10-03T13:50:14Z", "updated_at": "2017-10-07T15:01:26Z", "closed_at": "2017-10-07T15:01:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi thanks for your great project ! I installed **meson-0.42.1-32.msi** on a mostly clean 32-bit Windows 7, then on launching `meson --version` in a cmd, I get the \"missing runtime vcruntime140.dll \" pop-up.\r\n\r\nTo fix it, I installed the [Microsoft Visual C++ 2015 Redistributable](https://www.microsoft.com/en-US/download/details.aspx?id=53587), this should probably be documented.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2412", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2412/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2412/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2412/events", "html_url": "https://github.com/mesonbuild/meson/issues/2412", "id": 261919310, "node_id": "MDU6SXNzdWUyNjE5MTkzMTA=", "number": 2412, "title": "[Vala] can't compile files that have the same name but are on different directories", "user": {"login": "tintou", "id": 745535, "node_id": "MDQ6VXNlcjc0NTUzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/745535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tintou", "html_url": "https://github.com/tintou", "followers_url": "https://api.github.com/users/tintou/followers", "following_url": "https://api.github.com/users/tintou/following{/other_user}", "gists_url": "https://api.github.com/users/tintou/gists{/gist_id}", "starred_url": "https://api.github.com/users/tintou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tintou/subscriptions", "organizations_url": "https://api.github.com/users/tintou/orgs", "repos_url": "https://api.github.com/users/tintou/repos", "events_url": "https://api.github.com/users/tintou/events{/privacy}", "received_events_url": "https://api.github.com/users/tintou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-01T14:18:52Z", "updated_at": "2017-10-04T18:52:56Z", "closed_at": "2017-10-04T18:52:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When a project has two files with the same name in multiple directories, meson claims that it has `Multiple producers for Ninja target`\r\nHere is a branch that adds the required test case https://github.com/tintou/meson/commit/960bf0e921d59d301b29e19596d1b398628d4324\r\nI believe that the issue is located in [`./mesonbuild/backend/ninjabackend.py` line 1136](https://github.com/mesonbuild/meson/blob/master/mesonbuild/backend/ninjabackend.py#L1136) but I have no idea how can I fix this.\r\n\r\nThanks in advance", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2412/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2408", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2408/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2408/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2408/events", "html_url": "https://github.com/mesonbuild/meson/issues/2408", "id": 261883078, "node_id": "MDU6SXNzdWUyNjE4ODMwNzg=", "number": 2408, "title": "qt5.preprocess() does not accept nested lists", "user": {"login": "adrianjohnson", "id": 3437729, "node_id": "MDQ6VXNlcjM0Mzc3Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/3437729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianjohnson", "html_url": "https://github.com/adrianjohnson", "followers_url": "https://api.github.com/users/adrianjohnson/followers", "following_url": "https://api.github.com/users/adrianjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/adrianjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianjohnson/subscriptions", "organizations_url": "https://api.github.com/users/adrianjohnson/orgs", "repos_url": "https://api.github.com/users/adrianjohnson/repos", "events_url": "https://api.github.com/users/adrianjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-01T00:53:06Z", "updated_at": "2017-10-01T21:04:24Z", "closed_at": "2017-10-01T21:04:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\npublic_headers = [ 'a.h', 'b.h' ]\r\nprivate_headers = [ 'c.h', 'd.h' ]\r\nmoc_files = qt5.preprocess(moc_headers : [public_headers, private_headers])\r\n```\r\nfails\r\n\r\nit should be consistent with other functions that accept lists of sources like executable().", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2408/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2404", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2404/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2404/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2404/events", "html_url": "https://github.com/mesonbuild/meson/issues/2404", "id": 261881497, "node_id": "MDU6SXNzdWUyNjE4ODE0OTc=", "number": 2404, "title": "Ternary operator inside format() fails", "user": {"login": "adrianjohnson", "id": 3437729, "node_id": "MDQ6VXNlcjM0Mzc3Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/3437729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianjohnson", "html_url": "https://github.com/adrianjohnson", "followers_url": "https://api.github.com/users/adrianjohnson/followers", "following_url": "https://api.github.com/users/adrianjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/adrianjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianjohnson/subscriptions", "organizations_url": "https://api.github.com/users/adrianjohnson/orgs", "repos_url": "https://api.github.com/users/adrianjohnson/repos", "events_url": "https://api.github.com/users/adrianjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-01T00:11:08Z", "updated_at": "2019-03-02T10:57:39Z", "closed_at": "2019-03-02T10:57:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nx = true\r\nmessage('Using feature XXX   @0@'.format(x ? 'yes' : 'no'))\r\n```\r\n\r\nproduces\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 353, in run\r\n    app.generate()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 148, in generate\r\n    self._generate(env)\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 188, in _generate\r\n    intr = interpreter.Interpreter(b, g)\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1327, in __init__\r\n    self.load_root_meson_file()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/interpreterbase.py\", line 124, in load_root_meson_file\r\n    self.ast = mparser.Parser(code, self.subdir).parse()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 443, in parse\r\n    block = self.codeblock()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 679, in codeblock\r\n    curline = self.line()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 673, in line\r\n    return self.statement()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 448, in statement\r\n    return self.e1()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 451, in e1\r\n    left = self.e2()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 476, in e2\r\n    left = self.e3()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 485, in e3\r\n    left = self.e4()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 494, in e4\r\n    left = self.e5()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 501, in e5\r\n    return self.e5add()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 504, in e5add\r\n    left = self.e5sub()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 510, in e5sub\r\n    left = self.e5mod()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 516, in e5mod\r\n    left = self.e5mul()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 522, in e5mul\r\n    left = self.e5div()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 528, in e5div\r\n    left = self.e6()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 538, in e6\r\n    return self.e7()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 544, in e7\r\n    args = self.args()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 589, in args\r\n    s = self.statement()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 448, in statement\r\n    return self.e1()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 451, in e1\r\n    left = self.e2()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 476, in e2\r\n    left = self.e3()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 485, in e3\r\n    left = self.e4()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 494, in e4\r\n    left = self.e5()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 501, in e5\r\n    return self.e5add()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 504, in e5add\r\n    left = self.e5sub()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 510, in e5sub\r\n    left = self.e5mod()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 516, in e5mod\r\n    left = self.e5mul()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 522, in e5mul\r\n    left = self.e5div()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 528, in e5div\r\n    left = self.e6()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 538, in e6\r\n    return self.e7()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 555, in e7\r\n    left = self.method_call(left)\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 618, in method_call\r\n    args = self.args()\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 590, in args\r\n    a = ArgumentNode(s)\r\n  File \"/home/adrian/.local/lib/python3.5/site-packages/mesonbuild/mparser.py\", line 351, in __init__\r\n    self.subdir = token.subdir\r\nAttributeError: 'TernaryNode' object has no attribute 'subdir'\r\n```\r\n\r\nAdding extra parenthesis around the ternary doesn't make any difference.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2404/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2401", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2401/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2401/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2401/events", "html_url": "https://github.com/mesonbuild/meson/issues/2401", "id": 261879975, "node_id": "MDU6SXNzdWUyNjE4Nzk5NzU=", "number": 2401, "title": "Qt5 module not using pkg-config bindir path", "user": {"login": "adrianjohnson", "id": 3437729, "node_id": "MDQ6VXNlcjM0Mzc3Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/3437729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianjohnson", "html_url": "https://github.com/adrianjohnson", "followers_url": "https://api.github.com/users/adrianjohnson/followers", "following_url": "https://api.github.com/users/adrianjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/adrianjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianjohnson/subscriptions", "organizations_url": "https://api.github.com/users/adrianjohnson/orgs", "repos_url": "https://api.github.com/users/adrianjohnson/repos", "events_url": "https://api.github.com/users/adrianjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 716668530, "node_id": "MDU6TGFiZWw3MTY2Njg1MzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/qt", "name": "qt", "color": "41cd52", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-09-30T23:34:15Z", "updated_at": "2023-01-27T03:38:34Z", "closed_at": "2023-01-27T03:38:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Building on cygwin. Cygwin has Qt 5.6.2 installed. Windows has Qt 5.9.1 installed. The build fails because it is mixing the two versions.\r\n\r\n```\r\nNative dependency Qt5Core found: YES 5.6.2\r\nNative dependency Qt5Gui found: YES 5.6.2\r\nNative dependency Qt5Xml found: YES 5.6.2\r\nQt5 native `pkg-config` dependency (modules: Core, Gui, Xml) found: YES\r\nDetecting Qt5 tools\r\n moc: YES (/usr/lib/qt5/bin/moc, 5.6.2)\r\n uic: YES (/usr/lib/qt5/bin/uic, 5.6.2)\r\n rcc: YES (/usr/lib/qt5/bin/rcc, 5.6.2)\r\nNative dependency Qt5Core found: YES 5.6.2\r\nNative dependency Qt5Gui found: YES 5.6.2\r\nNative dependency Qt5Widgets found: YES 5.6.2\r\nNative dependency Qt5Xml found: YES 5.6.2\r\nQt5 native `pkg-config` dependency (modules: Core, Gui, Widgets, Xml) found: YES\r\nNative dependency Qt5Core found: YES 5.6.2\r\nNative dependency Qt5Gui found: YES 5.6.2\r\nNative dependency Qt5Widgets found: YES 5.6.2\r\nNative dependency Qt5Xml found: YES 5.6.2\r\nNative dependency Qt5Test found: YES 5.6.2\r\nQt5 native `pkg-config` dependency (modules: Core, Gui, Widgets, Xml, Test) found: YES\r\nProgram moc found: YES (/cygdrive/c/Qt/5.9.1/msvc2017_64/bin/moc)\r\n```\r\n\r\nbuild.ninja contains:\r\nCOMMAND = /cygdrive/c/Qt/5.9.1/msvc2017_64/bin/moc\r\n\r\nmeson should use the Qt pkg-config bindir for the Qt build tools.\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2401/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2400", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2400/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2400/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2400/events", "html_url": "https://github.com/mesonbuild/meson/issues/2400", "id": 261879694, "node_id": "MDU6SXNzdWUyNjE4Nzk2OTQ=", "number": 2400, "title": "gnome.generate_gir() not using pkg-config bin path", "user": {"login": "adrianjohnson", "id": 3437729, "node_id": "MDQ6VXNlcjM0Mzc3Mjk=", "avatar_url": "https://avatars.githubusercontent.com/u/3437729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianjohnson", "html_url": "https://github.com/adrianjohnson", "followers_url": "https://api.github.com/users/adrianjohnson/followers", "following_url": "https://api.github.com/users/adrianjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/adrianjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianjohnson/subscriptions", "organizations_url": "https://api.github.com/users/adrianjohnson/orgs", "repos_url": "https://api.github.com/users/adrianjohnson/repos", "events_url": "https://api.github.com/users/adrianjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianjohnson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-30T23:27:56Z", "updated_at": "2021-12-19T15:58:23Z", "closed_at": "2021-12-19T15:58:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've installed a later version of gir in a custom directory. PKG_CONFIG_PATH is setup for this directory. meson finds the new version of gir but uses the system gir instead of the gir in the bindir of the gobject-introspection-1.0 pkg-config.\r\n\r\n```\r\nProgram g-ir-scanner found: YES (/usr/bin/g-ir-scanner)\r\nProgram g-ir-compiler found: YES (/usr/bin/g-ir-compiler)\r\nNative dependency gobject-introspection-1.0 found: YES 1.54.0\r\n```\r\n1.54 is the new version. System vesion is 1.5.0.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2400/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2374", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2374/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2374/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2374/events", "html_url": "https://github.com/mesonbuild/meson/issues/2374", "id": 260448449, "node_id": "MDU6SXNzdWUyNjA0NDg0NDk=", "number": 2374, "title": "Allow link_whole to work when no functions in static library are called", "user": {"login": "chergert", "id": 25676, "node_id": "MDQ6VXNlcjI1Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/25676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chergert", "html_url": "https://github.com/chergert", "followers_url": "https://api.github.com/users/chergert/followers", "following_url": "https://api.github.com/users/chergert/following{/other_user}", "gists_url": "https://api.github.com/users/chergert/gists{/gist_id}", "starred_url": "https://api.github.com/users/chergert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chergert/subscriptions", "organizations_url": "https://api.github.com/users/chergert/orgs", "repos_url": "https://api.github.com/users/chergert/repos", "events_url": "https://api.github.com/users/chergert/events{/privacy}", "received_events_url": "https://api.github.com/users/chergert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 8, "created_at": "2017-09-25T23:47:20Z", "updated_at": "2018-02-27T23:43:28Z", "closed_at": "2018-02-27T23:43:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Builder, we're linking all of our plugins into a single shared library to reduce the number of modules that have to be opened at start-up. To keep our linking times fast, I think it would be useful if we could have the plugins split into their own `static_library()` and then only incur the final link cost when rebuilding.\r\n\r\nHowever, since no function's are called in these static libraries, they're getting dropped despite using `link_whole: static_archive_plugins` (presumably from `-Wl,as-needed`).\r\n\r\nIt would be nice if meson could do something like:\r\n\r\n```\r\n-Wl,--push-state,--no-as-needed $link_options -Wl,--pop-state\r\n```\r\n\r\nSo that nothing needs to be done to ensure that all the symbols from the `.a` are available.\r\n\r\nI still want `-Wl,as-needed`, just not for the archives (which already have symbol visibility set). I'm not positive, but this might also help with situations where static constructors are used to register types/resources/etc.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2374/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2363", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2363/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2363/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2363/events", "html_url": "https://github.com/mesonbuild/meson/issues/2363", "id": 259675275, "node_id": "MDU6SXNzdWUyNTk2NzUyNzU=", "number": 2363, "title": "install_man encodes timestamps (causes non-reproducible builds)", "user": {"login": "primeos", "id": 7537109, "node_id": "MDQ6VXNlcjc1MzcxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/7537109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/primeos", "html_url": "https://github.com/primeos", "followers_url": "https://api.github.com/users/primeos/followers", "following_url": "https://api.github.com/users/primeos/following{/other_user}", "gists_url": "https://api.github.com/users/primeos/gists{/gist_id}", "starred_url": "https://api.github.com/users/primeos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/primeos/subscriptions", "organizations_url": "https://api.github.com/users/primeos/orgs", "repos_url": "https://api.github.com/users/primeos/repos", "events_url": "https://api.github.com/users/primeos/events{/privacy}", "received_events_url": "https://api.github.com/users/primeos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-22T01:07:58Z", "updated_at": "2017-09-23T08:32:07Z", "closed_at": "2017-09-23T08:32:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While packaging `fuse 3.2.0` for Nix(OS) I noticed that the build became non-reproducible after the switch to meson. With the help of `diffoscope` I discovered that it was due to timestamps inside the metatdata fields of gzip compressed man pages.\r\n\r\nIt's caused by `gzip.compress()`: https://github.com/mesonbuild/meson/blob/c63aa0372b7acd8f6a094ca240eb39c8aab646cf/mesonbuild/scripts/meson_install.py#L230\r\n\r\nA possible fix would be to explicitly set `mtime=0` like here: https://stackoverflow.com/a/36034315\r\n\r\n> The mtime argument is an optional numeric timestamp to be written to the stream when compressing. All gzip compressed streams are required to contain a timestamp. If omitted or None, the current time is used. This module ignores the timestamp when decompressing; however, some programs, such as gunzip, make use of it. The format of the timestamp is the same as that of the return value of time.time() and of the st_mtime attribute of the object returned by os.stat().\r\n-- https://docs.python.org/2/library/gzip.html\r\n\r\nExample from fuse3:\r\n```\r\n\u251c\u2500\u2500 share\r\n\u2502 \u251c\u2500\u2500 man\r\n\u2502 \u2502 \u251c\u2500\u2500 man1\r\n\u2502 \u2502 \u2502 \u251c\u2500\u2500 fusermount3.1.gz\r\n\u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 metadata\r\n\u2502 \u2502 \u2502 \u2502 \u2502 @@ -1 +1 @@\r\n\u2502 \u2502 \u2502 \u2502 \u2502 -gzip compressed data, from Unix\r\n\u2502 \u2502 \u2502 \u2502 \u2502 +gzip compressed data, last modified: Thu Sep 21 21:58:10 2017, max compression\r\n\u2502 \u2502 \u251c\u2500\u2500 man8\r\n\u2502 \u2502 \u2502 \u251c\u2500\u2500 mount.fuse.8.gz\r\n\u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 metadata\r\n\u2502 \u2502 \u2502 \u2502 \u2502 @@ -1 +1 @@\r\n\u2502 \u2502 \u2502 \u2502 \u2502 -gzip compressed data, from Unix\r\n\u2502 \u2502 \u2502 \u2502 \u2502 +gzip compressed data, last modified: Thu Sep 21 21:58:10 2017, max compression\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2363/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2362", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2362/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2362/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2362/events", "html_url": "https://github.com/mesonbuild/meson/issues/2362", "id": 259669233, "node_id": "MDU6SXNzdWUyNTk2NjkyMzM=", "number": 2362, "title": "xcodebackend still references meson_test.py", "user": {"login": "LukeShu", "id": 90273, "node_id": "MDQ6VXNlcjkwMjcz", "avatar_url": "https://avatars.githubusercontent.com/u/90273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukeShu", "html_url": "https://github.com/LukeShu", "followers_url": "https://api.github.com/users/LukeShu/followers", "following_url": "https://api.github.com/users/LukeShu/following{/other_user}", "gists_url": "https://api.github.com/users/LukeShu/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukeShu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukeShu/subscriptions", "organizations_url": "https://api.github.com/users/LukeShu/orgs", "repos_url": "https://api.github.com/users/LukeShu/repos", "events_url": "https://api.github.com/users/LukeShu/events{/privacy}", "received_events_url": "https://api.github.com/users/LukeShu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-09-22T00:22:28Z", "updated_at": "2021-01-26T00:19:21Z", "closed_at": "2021-01-26T00:19:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [xcode backend](https://github.com/mesonbuild/meson/blob/5cec8fc43a9341dbd4eb50f95a743bb6d6d2e416/mesonbuild/backend/xcodebackend.py#L569) still has a reference to the `meson_test.py` script, which existed until c7ddce163.  This needs to be updated to `meson test`, but I'm not sure what's involved, since I'm not familiar with `meson_test.py`'s usage, so I figure it would be more productive to report it to someone who was :)\r\n\r\nI also figure that that means that bit of code isn't hit by the test suite, and that could probably stand to be fixed.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2362/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2361", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2361/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2361/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2361/events", "html_url": "https://github.com/mesonbuild/meson/issues/2361", "id": 259667220, "node_id": "MDU6SXNzdWUyNTk2NjcyMjA=", "number": 2361, "title": "PCH step doesn't depend on generated headers", "user": {"login": "nicolas17", "id": 101955, "node_id": "MDQ6VXNlcjEwMTk1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicolas17", "html_url": "https://github.com/nicolas17", "followers_url": "https://api.github.com/users/nicolas17/followers", "following_url": "https://api.github.com/users/nicolas17/following{/other_user}", "gists_url": "https://api.github.com/users/nicolas17/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicolas17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicolas17/subscriptions", "organizations_url": "https://api.github.com/users/nicolas17/orgs", "repos_url": "https://api.github.com/users/nicolas17/repos", "events_url": "https://api.github.com/users/nicolas17/events{/privacy}", "received_events_url": "https://api.github.com/users/nicolas17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-09-22T00:07:47Z", "updated_at": "2019-02-11T22:28:30Z", "closed_at": "2019-02-11T22:28:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a header to be precompiled includes a header that is generated during the build, meson doesn't create a proper dependency between them. This leads to ninja trying to precompile the pch before the headers it includes are generated.\r\n\r\nFull example:\r\n\r\nmain.c:\r\n```c\r\n#include <stdio.h>\r\n#include \"bigheader.h\"\r\n\r\nint main() {\r\n    printf(\"The answer is %d\\n\", x);\r\n    return 0;\r\n}\r\n```\r\n\r\ngenerator.sh:\r\n```sh\r\n#!/bin/sh\r\nsleep 2\r\necho \"#pragma once\" > $1\r\necho \"const int x = 42;\" >> $1\r\n```\r\n\r\npch/pch.h:\r\n```c\r\n#include \"bigheader.h\"\r\n```\r\n\r\nmeson.build:\r\n```python\r\nproject('bugtest', 'c')\r\n\r\n# pretend this generates a giant file\r\ngen = custom_target('header',\r\n    output: ['bigheader.h'],\r\n    command: ['sh', files('generator.sh'), '@OUTPUT@']\r\n)\r\n\r\nexecutable('bugtest', ['main.c', gen], c_pch: 'pch/pch.h')\r\n```\r\n\r\nThe resulting build.ninja has an order-only dependency from `main.c.o` to `pch.h.gch bigheader.h` which ensures the compilation waits for `bigheader.h` to be generated, but there is nothing making `bigheader.h` a dependency of the PCH step.\r\n\r\nOn a `ninja -j1` this *might* work, but in a parallel build this leads to pch.h being precompiled before bigheader.h is generated.\r\n\r\nOne way to solve this is to have meson put all the target's generated headers as order-only dependencies of the precompiled header. Although this might cause too-strict dependencies for the common case where the pch only includes external libraries, in which case I guess this needs an extra keyword argument to be explicit...", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2361/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2359", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2359/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2359/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2359/events", "html_url": "https://github.com/mesonbuild/meson/issues/2359", "id": 259554590, "node_id": "MDU6SXNzdWUyNTk1NTQ1OTA=", "number": 2359, "title": "if package is exist in cache, need fallthrough to check and download patch", "user": {"login": "liugang", "id": 150306, "node_id": "MDQ6VXNlcjE1MDMwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/150306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liugang", "html_url": "https://github.com/liugang", "followers_url": "https://api.github.com/users/liugang/followers", "following_url": "https://api.github.com/users/liugang/following{/other_user}", "gists_url": "https://api.github.com/users/liugang/gists{/gist_id}", "starred_url": "https://api.github.com/users/liugang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liugang/subscriptions", "organizations_url": "https://api.github.com/users/liugang/orgs", "repos_url": "https://api.github.com/users/liugang/repos", "events_url": "https://api.github.com/users/liugang/events{/privacy}", "received_events_url": "https://api.github.com/users/liugang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-21T16:20:52Z", "updated_at": "2017-09-25T16:43:16Z", "closed_at": "2017-09-25T16:43:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In some case:\r\n\r\npackage exist in cache, but patch didn't exist in cache, the patch will never be download unless user delete package from cache.\r\n\r\n1. download package success, but patch didn't  download sucessfully.\r\n2. user delete patch archive, but not delete package archive\r\nand so on\r\n\r\nIn these case, user run `meson builddir` again,  meson will fail.\r\n\r\n\r\n```diff\r\ndiff --git a/mesonbuild/wrap/wrap.py b/mesonbuild/wrap/wrap.py\r\nindex ac84d0e4..7fb0add7 100644\r\n--- a/mesonbuild/wrap/wrap.py\r\n+++ b/mesonbuild/wrap/wrap.py\r\n@@ -272,16 +272,16 @@ class Resolver:\r\n         ofname = os.path.join(self.cachedir, p.get('source_filename'))\r\n         if os.path.exists(ofname):\r\n             mlog.log('Using', mlog.bold(packagename), 'from cache.')\r\n-            return\r\n-        srcurl = p.get('source_url')\r\n-        mlog.log('Downloading', mlog.bold(packagename), 'from', mlog.bold(srcurl))\r\n-        srcdata = self.get_data(srcurl)\r\n-        dhash = self.get_hash(srcdata)\r\n-        expected = p.get('source_hash')\r\n-        if dhash != expected:\r\n-            raise RuntimeError('Incorrect hash for source %s:\\n %s expected\\n %s actual.' % (packagename, expected, dhash))\r\n-        with open(ofname, 'wb') as f:\r\n-            f.write(srcdata)\r\n+        else:\r\n+            srcurl = p.get('source_url')\r\n+            mlog.log('Downloading', mlog.bold(packagename), 'from', mlog.bold(srcurl))\r\n+            srcdata = self.get_data(srcurl)\r\n+            dhash = self.get_hash(srcdata)\r\n+            expected = p.get('source_hash')\r\n+            if dhash != expected:\r\n+                raise RuntimeError('Incorrect hash for source %s:\\n %s expected\\n %s actual.' % (packagename, expected, dhash))\r\n+            with open(ofname, 'wb') as f:\r\n+                f.write(srcdata)\r\n         if p.has_patch():\r\n             purl = p.get('patch_url')\r\n             mlog.log('Downloading patch from', mlog.bold(purl))\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2359/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2358", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2358/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2358/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2358/events", "html_url": "https://github.com/mesonbuild/meson/issues/2358", "id": 259552104, "node_id": "MDU6SXNzdWUyNTk1NTIxMDQ=", "number": 2358, "title": "Should download archive to disk and then do sha256sum", "user": {"login": "liugang", "id": 150306, "node_id": "MDQ6VXNlcjE1MDMwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/150306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liugang", "html_url": "https://github.com/liugang", "followers_url": "https://api.github.com/users/liugang/followers", "following_url": "https://api.github.com/users/liugang/following{/other_user}", "gists_url": "https://api.github.com/users/liugang/gists{/gist_id}", "starred_url": "https://api.github.com/users/liugang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liugang/subscriptions", "organizations_url": "https://api.github.com/users/liugang/orgs", "repos_url": "https://api.github.com/users/liugang/repos", "events_url": "https://api.github.com/users/liugang/events{/privacy}", "received_events_url": "https://api.github.com/users/liugang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-21T16:12:11Z", "updated_at": "2017-09-25T16:43:16Z", "closed_at": "2017-09-25T16:43:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "some archive is very big, example sdk from bsp vendor, some is 1G, 2G size, if download  archive to memory and do sha256sum ,  in this case, it is terrible.\r\n\r\n```diff\r\ndiff --git a/mesonbuild/wrap/wrap.py b/mesonbuild/wrap/wrap.py\r\nindex ac84d0e4..147e3ea1 100644\r\n--- a/mesonbuild/wrap/wrap.py\r\n+++ b/mesonbuild/wrap/wrap.py\r\n@@ -228,7 +228,7 @@ class Resolver:\r\n                 subprocess.check_call(['hg', 'checkout', revno],\r\n                                       cwd=checkoutdir)\r\n\r\n-    def get_data(self, url):\r\n+    def get_data(self, url, ofname):\r\n         blocksize = 10 * 1024\r\n         if url.startswith('https://wrapdb.mesonbuild.com'):\r\n             resp = open_wrapdburl(url)\r\n@@ -241,26 +241,29 @@ class Resolver:\r\n                 dlsize = None\r\n             if dlsize is None:\r\n                 print('Downloading file of unknown size.')\r\n-                return resp.read()\r\n+                with open(ofname, \"wb\") as f:\r\n+                    f.write(resp.read())\r\n+                return\r\n+\r\n             print('Download size:', dlsize)\r\n             print('Downloading: ', end='')\r\n             sys.stdout.flush()\r\n             printed_dots = 0\r\n-            blocks = []\r\n             downloaded = 0\r\n-            while True:\r\n-                block = resp.read(blocksize)\r\n-                if block == b'':\r\n-                    break\r\n-                downloaded += len(block)\r\n-                blocks.append(block)\r\n-                ratio = int(downloaded / dlsize * 10)\r\n-                while printed_dots < ratio:\r\n-                    print('.', end='')\r\n-                    sys.stdout.flush()\r\n-                    printed_dots += 1\r\n-            print('')\r\n-        return b''.join(blocks)\r\n+\r\n+            with open(ofname, \"wb\") as f:\r\n+                while True:\r\n+                    wlen = f.write(resp.read(blocksize))\r\n+                    downloaded += wlen\r\n+                    if downloaded == dlsize:\r\n+                        break\r\n+                    ratio = int(downloaded / dlsize * 10)\r\n+                    while printed_dots < ratio:\r\n+                        print('.', end='')\r\n+                        sys.stdout.flush()\r\n+                        printed_dots += 1\r\n+                print('')\r\n+        return\r\n\r\n     def get_hash(self, data):\r\n         h = hashlib.sha256()\r\n@@ -268,6 +271,13 @@ class Resolver:\r\n         hashvalue = h.hexdigest()\r\n         return hashvalue\r\n\r\n+    def file_hash(self, filename):\r\n+        h = hashlib.sha256()\r\n+        with open(filename, 'rb', buffering=0) as f:\r\n+            for b in iter(lambda : f.read(128*1024), b''):\r\n+                h.update(b)\r\n+        return h.hexdigest()\r\n+\r\n     def download(self, p, packagename):\r\n         ofname = os.path.join(self.cachedir, p.get('source_filename'))\r\n         if os.path.exists(ofname):\r\n@@ -275,24 +285,23 @@ class Resolver:\r\n             return\r\n         srcurl = p.get('source_url')\r\n         mlog.log('Downloading', mlog.bold(packagename), 'from', mlog.bold(srcurl))\r\n-        srcdata = self.get_data(srcurl)\r\n-        dhash = self.get_hash(srcdata)\r\n+        self.get_data(srcurl, ofname)\r\n+        dhash = self.file_hash(ofname)\r\n         expected = p.get('source_hash')\r\n         if dhash != expected:\r\n+            os.unlink(ofname)\r\n             raise RuntimeError('Incorrect hash for source %s:\\n %s expected\\n %s actual.' % (packagename, expected, dhash))\r\n-        with open(ofname, 'wb') as f:\r\n-            f.write(srcdata)\r\n         if p.has_patch():\r\n             purl = p.get('patch_url')\r\n+            filename = os.path.join(self.cachedir, p.get('patch_filename'))\r\n             mlog.log('Downloading patch from', mlog.bold(purl))\r\n-            pdata = self.get_data(purl)\r\n-            phash = self.get_hash(pdata)\r\n+            self.get_data(purl, filename)\r\n+            phash = self.file_hash(filename)\r\n             expected = p.get('patch_hash')\r\n             if phash != expected:\r\n+                os.unlink(filename)\r\n                 raise RuntimeError('Incorrect hash for patch %s:\\n %s expected\\n %s actual' % (packagename, expected, phash))\r\n             filename = os.path.join(self.cachedir, p.get('patch_filename'))\r\n-            with open(filename, 'wb') as f:\r\n-                f.write(pdata)\r\n         else:\r\n             mlog.log('Package does not require patch.')\r\n\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2355", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2355/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2355/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2355/events", "html_url": "https://github.com/mesonbuild/meson/issues/2355", "id": 259435216, "node_id": "MDU6SXNzdWUyNTk0MzUyMTY=", "number": 2355, "title": "shutil.unpack_archive with [Errno 13] Permission denied", "user": {"login": "liugang", "id": 150306, "node_id": "MDQ6VXNlcjE1MDMwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/150306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liugang", "html_url": "https://github.com/liugang", "followers_url": "https://api.github.com/users/liugang/followers", "following_url": "https://api.github.com/users/liugang/following{/other_user}", "gists_url": "https://api.github.com/users/liugang/gists{/gist_id}", "starred_url": "https://api.github.com/users/liugang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liugang/subscriptions", "organizations_url": "https://api.github.com/users/liugang/orgs", "repos_url": "https://api.github.com/users/liugang/repos", "events_url": "https://api.github.com/users/liugang/events{/privacy}", "received_events_url": "https://api.github.com/users/liugang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-21T09:38:45Z", "updated_at": "2017-09-26T01:19:23Z", "closed_at": "2017-09-26T01:19:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/mesonbuild/meson/blob/751d59d95238e9f2ef12202df992d54650594919/mesonbuild/wrap/wrap.py#L325\r\n\r\nWhen unpack patch archive file, if target file is  `-r--r--r--` , shutil.unpack_archive will unpack error with [Errno 13] Permission denied\r\n\r\n```python\r\ntry:\r\n    shutil.unpack_archive(os.path.join(self.cachedir, package.get('patch_filename')), self.subdir_root)\r\nexcept Exception as e:\r\n    print('%s' % e)\r\n```\r\n\r\n\r\nmy solution in our project is using system tools if using Unix like system\r\n\r\n```python\r\npackage_patch_name = package.get('patch_filename')\r\nif package_patch_name.endswith('.zip'):\r\n    subprocess.call(['unzip', '-x', '-d', self.subdir_root, os.path.join(self.cachedir, package_patch_name)])\r\nelse:\r\n    subprocess.call(['tar', '-C', self.subdir_root, '-xvf', os.path.join(self.cachedir, package_patch_name)])\r\n```\r\n\r\nrefer to: https://doc.cooder.org/questions/7237475\r\n\r\nThe normal GNU tar utility also handles these files effortlessly - it just overwrites them when you extract.\r\n\r\n\r\nYou could loop over the members of the tarball and extract / handle errors on each file:\r\n```python\r\nimport os, tarfile\r\n\r\nwith tarfile.TarFile('myfile.tar', 'r', errorlevel=1) as tar:\r\n    for file_ in tar:\r\n        try:\r\n            tar.extract(file_)\r\n        except IOError as e:\r\n            os.remove(file_.name)\r\n            tar.extract(file_)\r\n        finally:\r\n            os.chmod(file_.name, file_.mode)\r\n```\r\nIt would be nicer if tarfile.extractall had an overwrite option.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2354", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2354/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2354/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2354/events", "html_url": "https://github.com/mesonbuild/meson/issues/2354", "id": 259400100, "node_id": "MDU6SXNzdWUyNTk0MDAxMDA=", "number": 2354, "title": "Eliminate error about build directory being from a previous version of Meson", "user": {"login": "pwithnall", "id": 53172, "node_id": "MDQ6VXNlcjUzMTcy", "avatar_url": "https://avatars.githubusercontent.com/u/53172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pwithnall", "html_url": "https://github.com/pwithnall", "followers_url": "https://api.github.com/users/pwithnall/followers", "following_url": "https://api.github.com/users/pwithnall/following{/other_user}", "gists_url": "https://api.github.com/users/pwithnall/gists{/gist_id}", "starred_url": "https://api.github.com/users/pwithnall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pwithnall/subscriptions", "organizations_url": "https://api.github.com/users/pwithnall/orgs", "repos_url": "https://api.github.com/users/pwithnall/repos", "events_url": "https://api.github.com/users/pwithnall/events{/privacy}", "received_events_url": "https://api.github.com/users/pwithnall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-09-21T07:24:33Z", "updated_at": "2020-09-10T12:38:06Z", "closed_at": "2020-09-10T12:38:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In my auto-builder, I frequently get errors like this:\r\n```\r\nMeson encountered an error:\r\nBuild directory has been generated with Meson version 0.42.0, which is incompatible with current version 0.42.1.\r\nPlease delete this build directory AND create a new one.\r\nFAILED: build.ninja \r\n```\r\n\r\nWhy can\u2019t Meson delete the build directory itself, if it knows it\u2019s out of date? This causes builds to fail spuriously every time someone upgrades the Meson version in GNOME\u2019s JHBuild moduleset.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2354/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2354/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2336", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2336/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2336/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2336/events", "html_url": "https://github.com/mesonbuild/meson/issues/2336", "id": 258343755, "node_id": "MDU6SXNzdWUyNTgzNDM3NTU=", "number": 2336, "title": "@CURRENT_SOURCE_DIR@ expands to ../ instead of ..", "user": {"login": "liamstask", "id": 51256, "node_id": "MDQ6VXNlcjUxMjU2", "avatar_url": "https://avatars.githubusercontent.com/u/51256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liamstask", "html_url": "https://github.com/liamstask", "followers_url": "https://api.github.com/users/liamstask/followers", "following_url": "https://api.github.com/users/liamstask/following{/other_user}", "gists_url": "https://api.github.com/users/liamstask/gists{/gist_id}", "starred_url": "https://api.github.com/users/liamstask/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liamstask/subscriptions", "organizations_url": "https://api.github.com/users/liamstask/orgs", "repos_url": "https://api.github.com/users/liamstask/repos", "events_url": "https://api.github.com/users/liamstask/events{/privacy}", "received_events_url": "https://api.github.com/users/liamstask/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-17T23:26:30Z", "updated_at": "2017-10-01T12:39:06Z", "closed_at": "2017-10-01T12:39:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using meson 0.42.0.\r\n\r\nMy goals were similar to those in https://github.com/mesonbuild/meson/issues/1622 but my sources are setup as follows:\r\n\r\n```\r\n\u251c\u2500\u2500 meson.build\r\n\u251c\u2500\u2500 proto\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 myproto.capnp\r\n\u251c\u2500\u2500 src\r\n\u2514\u2500\u2500 test\r\n    \u251c\u2500\u2500 meson.build\r\n    \u251c\u2500\u2500 proto\r\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 testproto.capnp\r\n    \u251c\u2500\u2500 tests-main.cpp\r\n```\r\n\r\nand as such, I'd like to create a single `generator` in the top level meson.build:\r\n\r\n```\r\ncapnproto_gen = generator(capnp,\r\n    output    : ['@PLAINNAME@.c++', '@PLAINNAME@.h'],\r\n    arguments : ['compile', '--src-prefix=@CURRENT_SOURCE_DIR@/proto', '-oc++:@BUILD_DIR@', '@INPUT@']\r\n)\r\n```\r\n\r\nHowever, in the top level build file `@CURRENT_SOURCE_DIR@` expands to `../` (as verified w `ninja -v`) instead of `..`, which creates paths like `--src-prefix=..//proto` which the generator does not accept.\r\n\r\nIt actually ends up working in the subdir, as it expands to `../test` which happens to work OK.\r\n\r\nI tried `arguments : ['compile', '--src-prefix=@0@/proto'.format(meson.current_source_dir()), '-oc++:@BUILD_DIR@', '@INPUT@']` but that doesn't work since the call to `format()` only happens when the top level build file is processed, not at expansion time.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2336/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2327", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2327/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2327/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2327/events", "html_url": "https://github.com/mesonbuild/meson/issues/2327", "id": 258206101, "node_id": "MDU6SXNzdWUyNTgyMDYxMDE=", "number": 2327, "title": "meson compiled windows Qt GUI applications shows console window", "user": {"login": "srussel", "id": 20345797, "node_id": "MDQ6VXNlcjIwMzQ1Nzk3", "avatar_url": "https://avatars.githubusercontent.com/u/20345797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srussel", "html_url": "https://github.com/srussel", "followers_url": "https://api.github.com/users/srussel/followers", "following_url": "https://api.github.com/users/srussel/following{/other_user}", "gists_url": "https://api.github.com/users/srussel/gists{/gist_id}", "starred_url": "https://api.github.com/users/srussel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srussel/subscriptions", "organizations_url": "https://api.github.com/users/srussel/orgs", "repos_url": "https://api.github.com/users/srussel/repos", "events_url": "https://api.github.com/users/srussel/events{/privacy}", "received_events_url": "https://api.github.com/users/srussel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 716668530, "node_id": "MDU6TGFiZWw3MTY2Njg1MzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/qt", "name": "qt", "color": "41cd52", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-09-16T04:00:37Z", "updated_at": "2018-09-17T21:24:55Z", "closed_at": "2018-09-17T21:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using meson 0.42.1, Visual Studio 2017, Qt 5.9.2 msvc2017_64. I built one of the Qt examples, C:\\Qt\\Examples\\Qt-5.9.2\\widgets\\widgets\\digitalclock, with meson. When I run it from windows explorer, the application runs but a console window is also displayed. The qmake build does not have this problem.\r\n\r\nMy meson.build file is:\r\n```meson\r\nproject('digitalclock', 'cpp')\r\nqt5 = import('qt5')\r\nqt5_dep = dependency('qt5', modules: ['Core', 'Widgets'])\r\nmoc_files = qt5.preprocess(moc_headers : 'digitalclock.h')\r\nexecutable('digitalclock', 'main.cpp', 'digitalclock.cpp', moc_files,\r\n           dependencies : qt5_dep)\r\n```\r\nThe presence of the console window is usually caused by the link options. Normally it would be /SUBSYSTEM:WINDOWS by default or /SUBSYSTEM:CONSOLE if \"CONFIG += console\" is used.\r\n\r\nThe qmake build is linking with /SUBSYSTEM:WINDOWS. For some reason ninja -v does not show the full command line but checking build.ninja I could not find any /SUBSYSTEM link flags.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2327/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2325", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2325/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2325/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2325/events", "html_url": "https://github.com/mesonbuild/meson/issues/2325", "id": 258193425, "node_id": "MDU6SXNzdWUyNTgxOTM0MjU=", "number": 2325, "title": "yelp tests do not skip gracefully if itstool not found", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 5, "created_at": "2017-09-16T00:17:23Z", "updated_at": "2019-11-04T09:17:08Z", "closed_at": "2018-04-11T20:30:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There's a nice traceback if the tool ins't found, it would be nice if the tests would skip if they can't find the tool they want.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2325/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2307", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2307/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2307/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2307/events", "html_url": "https://github.com/mesonbuild/meson/issues/2307", "id": 256780205, "node_id": "MDU6SXNzdWUyNTY3ODAyMDU=", "number": 2307, "title": "get_option('b_xxx') inconsistent on reconfigure", "user": {"login": "hvenev", "id": 1391845, "node_id": "MDQ6VXNlcjEzOTE4NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1391845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvenev", "html_url": "https://github.com/hvenev", "followers_url": "https://api.github.com/users/hvenev/followers", "following_url": "https://api.github.com/users/hvenev/following{/other_user}", "gists_url": "https://api.github.com/users/hvenev/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvenev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvenev/subscriptions", "organizations_url": "https://api.github.com/users/hvenev/orgs", "repos_url": "https://api.github.com/users/hvenev/repos", "events_url": "https://api.github.com/users/hvenev/events{/privacy}", "received_events_url": "https://api.github.com/users/hvenev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-11T17:20:42Z", "updated_at": "2017-09-18T17:42:39Z", "closed_at": "2017-09-18T17:42:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`get_option('b_xxx')` returns the provided value on initial configure, but the default one on reconfigure (when `meson.build` has been modified). The option affects the build in both cases.\r\n\r\n```patch\r\n+++ a/mesonbuild/interpreter.py\r\n--- b/mesonbuild/interpreter.py\r\n@@ -1669,11 +1669,11 @@\r\n             raise InterpreterException('Argument required for get_option.')\r\n         optname = args[0]\r\n         try:\r\n-            return compilers.base_options[optname].value\r\n+            return self.environment.get_coredata().base_options[optname].value\r\n         except KeyError:\r\n             pass\r\n         try:\r\n-            return self.environment.get_coredata().get_builtin_option(optname)\r\n+            return self.environment.coredata.get_builtin_option(optname)\r\n         except RuntimeError:\r\n             pass\r\n         try:\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2307/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2306", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2306/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2306/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2306/events", "html_url": "https://github.com/mesonbuild/meson/issues/2306", "id": 256669505, "node_id": "MDU6SXNzdWUyNTY2Njk1MDU=", "number": 2306, "title": "subproject('../../foo') escapes the current source directory and writes directories outside of the builddir", "user": {"login": "jasonszang", "id": 19163259, "node_id": "MDQ6VXNlcjE5MTYzMjU5", "avatar_url": "https://avatars.githubusercontent.com/u/19163259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonszang", "html_url": "https://github.com/jasonszang", "followers_url": "https://api.github.com/users/jasonszang/followers", "following_url": "https://api.github.com/users/jasonszang/following{/other_user}", "gists_url": "https://api.github.com/users/jasonszang/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonszang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonszang/subscriptions", "organizations_url": "https://api.github.com/users/jasonszang/orgs", "repos_url": "https://api.github.com/users/jasonszang/repos", "events_url": "https://api.github.com/users/jasonszang/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonszang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-09-11T11:28:06Z", "updated_at": "2017-10-19T17:18:02Z", "closed_at": "2017-10-19T17:18:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to use subproject() to depend on two projects outside of project folder with `subproject('../../foo')`. Everything went well with `--layout flat`, besides that meson still creates `subproject` directory tree with only empty directories in the build dir. Since I used `subproject('../../foo')` this result in empty directories being created outside of build dir. Are these empty subproject directories necessory? Or perhaps may be removed under `--layout flat`?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2306/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2289", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2289/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2289/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2289/events", "html_url": "https://github.com/mesonbuild/meson/issues/2289", "id": 255908165, "node_id": "MDU6SXNzdWUyNTU5MDgxNjU=", "number": 2289, "title": "subproject default options are overriden by parent project's default options", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-09-07T11:41:24Z", "updated_at": "2022-04-08T23:57:25Z", "closed_at": "2022-04-08T23:57:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is problematic because, for example, it overrides the `c_std` value which can cause the subproject to fail to compile. This is a problem in gtk+/glib because gtk+ uses `c99` and glib uses `gnu89`. In this case the workaround is to use `gnu99` in gtk+, but not all projects can do this.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2281", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2281/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2281/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2281/events", "html_url": "https://github.com/mesonbuild/meson/issues/2281", "id": 255122199, "node_id": "MDU6SXNzdWUyNTUxMjIxOTk=", "number": 2281, "title": "testing: timeout behavior", "user": {"login": "liamstask", "id": 51256, "node_id": "MDQ6VXNlcjUxMjU2", "avatar_url": "https://avatars.githubusercontent.com/u/51256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liamstask", "html_url": "https://github.com/liamstask", "followers_url": "https://api.github.com/users/liamstask/followers", "following_url": "https://api.github.com/users/liamstask/following{/other_user}", "gists_url": "https://api.github.com/users/liamstask/gists{/gist_id}", "starred_url": "https://api.github.com/users/liamstask/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liamstask/subscriptions", "organizations_url": "https://api.github.com/users/liamstask/orgs", "repos_url": "https://api.github.com/users/liamstask/repos", "events_url": "https://api.github.com/users/liamstask/events{/privacy}", "received_events_url": "https://api.github.com/users/liamstask/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 5, "created_at": "2017-09-04T22:03:42Z", "updated_at": "2018-02-01T20:57:51Z", "closed_at": "2018-02-01T20:57:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "when testing via `meson test mytestcase` on meson 0.42.0, I am seeing 2 issues:\r\n* stdout does not appear to be included in `build/meson-logs/testlog.txt` if the test times out. If it passes or fails, it is included as expected, and stderr is included in all cases.\r\n* I haven't found a convenient way to kill the test executable when running the meson test harness. ctrl-C kills the `meson test` parent process, but does not appear to kill the test executable.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2281/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2277", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2277/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2277/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2277/events", "html_url": "https://github.com/mesonbuild/meson/issues/2277", "id": 254908672, "node_id": "MDU6SXNzdWUyNTQ5MDg2NzI=", "number": 2277, "title": "Meson fails for C++ and Fortran Project on Windows", "user": {"login": "J-Light", "id": 2544660, "node_id": "MDQ6VXNlcjI1NDQ2NjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2544660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/J-Light", "html_url": "https://github.com/J-Light", "followers_url": "https://api.github.com/users/J-Light/followers", "following_url": "https://api.github.com/users/J-Light/following{/other_user}", "gists_url": "https://api.github.com/users/J-Light/gists{/gist_id}", "starred_url": "https://api.github.com/users/J-Light/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/J-Light/subscriptions", "organizations_url": "https://api.github.com/users/J-Light/orgs", "repos_url": "https://api.github.com/users/J-Light/repos", "events_url": "https://api.github.com/users/J-Light/events{/privacy}", "received_events_url": "https://api.github.com/users/J-Light/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-03T23:42:21Z", "updated_at": "2019-05-16T16:38:05Z", "closed_at": "2019-05-13T21:52:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\nWorking on a project that uses a c++ library that is linked to a fortran executable via a wrapper. After getting some help I have it working on Linux (gcc and gfortran) by adding the -lgfortran as link args. \r\n\r\nIn windows with Intel Fortran I am unable to get it to work. \r\n\r\nIssue 1\r\nMeson does not identify the compiler. I worked around this by editing the environment.py (for testing purposes) function detect_fortran_compiler and added the following after the initial version check. \r\n\r\n```\r\nif 'ifort' in compiler:\r\n    version = search_version(err)\r\n```\r\nand modified the string in err\r\n\r\n```\r\nif 'Intel(R) Visual Fortran' in err:\r\n    return IntelFortranCompiler(compiler, version, is_cross, exe_wrap)\r\n```\r\n\r\nThis seem to now help in identifying the compiler. \r\n\r\nIssue 2\r\nMeson fails to pick up the correct static linker. Had to issue the following before running meson\r\n\r\n`set AR=lib.exe`\r\n\r\nIssue 3:\r\nNinja fails to build project. \r\nwith error\r\n```\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nThe Meson build system\r\nVersion: 0.42.0\r\nSource dir: C:\\Users\\nish.joseph\\Desktop\\test\\mes\\mesonLearn\r\nBuild dir: C:\\Users\\nish.joseph\\Desktop\\test\\mes\\mesonLearn\\build\r\nBuild type: native build\r\nProject name: exampleprogram\r\nIntel(R) Visual Fortran Intel(R) 64 Compiler for applications running on Intel(R) 64, Version 17.0.4.210 Build 20170411\r\nCopyright (C) 1985-2017 Intel Corporation.  All rights reserved.\r\n\r\nMicrosoft (R) Incremental Linker Version 12.00.40629.0\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\n-out:C:\\Users\\nish.joseph\\Desktop\\test\\mes\\mesonLearn\\build\\meson-private\\sanitycheckf.exe\r\n-subsystem:console\r\nsanitycheckf.obj\r\nNative Fortran compiler: ifort (intel 17.0.4.210)\r\nNative C++ compiler: cl (msvc 18.00.40629)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nBuild targets in project: 3\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n[1/6] Compiling Fortran object trywrap@sta/src_trywrap.f90.obj.\r\nFAILED: trywrap@sta/src_trywrap.f90.obj\r\nifort @trywrap@sta/src_trywrap.f90.obj.rsp\r\nifort -I. -I.. -warn all -O0 -g -r8 \"-convert big_endian\" \"-check bounds\" -fPIC -module trywrap@sta -o trywrap@sta/src_trywrap.f90.obj -c ../src/trywrap.f90\r\n\r\nIntel(R) Visual Fortran Intel(R) 64 Compiler for applications running on Intel(R) 64, Version 17.0.4.210 Build 20170411\r\nCopyright (C) 1985-2017 Intel Corporation.  All rights reserved.\r\nifort: command line error: option '/g' is ambiguous\r\n[2/6] Compiling C++ object try1@sta/src_try1.cc.obj.\r\ncl : Command line warning D9038 : /ZI is not supported on this platform; enabling /Zi instead\r\nninja: build stopped: subcommand failed.\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\nRunning with release to avoid the /g issue I get \r\n\r\n```\r\n[1/6] Compiling Fortran object trywrap@sta/src_trywrap.f90.obj.\r\nifort -I. -I.. -warn all -O3 -r8 \"-convert big_endian\" \"-check bounds\" -fPIC -module trywrap@sta -o trywrap@sta/src_trywrap.f90.obj -c ../src/trywrap.f90\r\n\r\nIntel(R) Visual Fortran Intel(R) 64 Compiler for applications running on Intel(R) 64, Version 17.0.4.210 Build 20170411\r\nCopyright (C) 1985-2017 Intel Corporation.  All rights reserved.\r\n\r\nifort: warning #10145: no action performed for file 'all'\r\nifort: warning #10145: no action performed for file 'trywrap@sta'\r\n[5/6] Compiling Fortran object exampleprogram@exe/src_exampleprogram.f90.obj.\r\nifort -I. -I.. -Itrywrap@sta -Itry1@sta -warn all -O3 -r8 \"-convert big_endian\" \"-check bounds\" -module exampleprogram@exe -o exampleprogram@exe/src_exampleprogram.f90.obj -c ../src/exampleprogram.f90\r\n\r\nIntel(R) Visual Fortran Intel(R) 64 Compiler for applications running on Intel(R) 64, Version 17.0.4.210 Build 20170411\r\nCopyright (C) 1985-2017 Intel Corporation.  All rights reserved.\r\n\r\nifort: warning #10145: no action performed for file 'all'\r\nifort: warning #10145: no action performed for file 'exampleprogram@exe'\r\n[6/6] Linking target exampleprogram.exe.\r\nFAILED: exampleprogram.exe\r\nlink @exampleprogram.exe.rsp\r\nMSVCRT.lib(MSVCR120.dll) : error LNK2005: memmove already defined in LIBCMT.lib(memcpy.obj)\r\nMSVCRT.lib(ti_inst.obj) : error LNK2005: \"private: __cdecl type_info::type_info(class type_info const &)\" (??0type_info@@AEAA@AEBV0@@Z) already defined in LIBCMT.lib(typinfo.obj)\r\nMSVCRT.lib(ti_inst.obj) : error LNK2005: \"private: class type_info & __cdecl type_info::operator=(class type_info const &)\" (??4type_info@@AEAAAEAV0@AEBV0@@Z) already defined in LIBCMT.lib(typinfo.obj)\r\nLINK : fatal error LNK1561: entry point must be defined\r\nninja: build stopped: subcommand failed.\r\n\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2277/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2277/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2274", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2274/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2274/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2274/events", "html_url": "https://github.com/mesonbuild/meson/issues/2274", "id": 254835998, "node_id": "MDU6SXNzdWUyNTQ4MzU5OTg=", "number": 2274, "title": "Boost headers on windows", "user": {"login": "NickeZ", "id": 492753, "node_id": "MDQ6VXNlcjQ5Mjc1Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/492753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NickeZ", "html_url": "https://github.com/NickeZ", "followers_url": "https://api.github.com/users/NickeZ/followers", "following_url": "https://api.github.com/users/NickeZ/following{/other_user}", "gists_url": "https://api.github.com/users/NickeZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/NickeZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NickeZ/subscriptions", "organizations_url": "https://api.github.com/users/NickeZ/orgs", "repos_url": "https://api.github.com/users/NickeZ/repos", "events_url": "https://api.github.com/users/NickeZ/events{/privacy}", "received_events_url": "https://api.github.com/users/NickeZ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-02T21:06:14Z", "updated_at": "2018-02-12T15:04:54Z", "closed_at": "2017-10-01T21:09:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for a great tool.\r\n\r\nI'm trying to use two header only libraries from boost (variant and optional). And since boost isn't compiled I guess it fails to find libraries or something:\r\n\r\n```\r\nDependency Boost () found: YES 1.64, c:\\local\\boost_1_64_0\r\nBuild targets in project: 4\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\niklas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 338, in run\r\n    app.generate()\r\n  File \"c:\\users\\niklas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 183, in generate\r\n    g.generate(intr)\r\n  File \"c:\\users\\niklas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\backend\\vs2010backend.py\", line 182, in generate\r\n    projlist = self.generate_projects()\r\n  File \"c:\\users\\niklas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\backend\\vs2010backend.py\", line 330, in generate_projects\r\n    self.gen_vcxproj(target, projfile, uuid)\r\n  File \"c:\\users\\niklas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\backend\\vs2010backend.py\", line 917, in gen_vcxproj\r\n    extra_link_args.extend_direct(dep.get_link_args())\r\n  File \"c:\\users\\niklas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\dependencies\\misc.py\", line 242, in get_link_args\r\n    return self.get_win_link_args()\r\n  File \"c:\\users\\niklas\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\mesonbuild\\dependencies\\misc.py\", line 233, in get_win_link_args\r\n    args.append('-L' + self.libdir)\r\nTypeError: must be str, not NoneType\r\n```\r\n\r\nAlso I couldn't work out how to use `BOOST_ROOT/BOOST_INCLUDEDIR` to specify where I had boost so I looked into the sources and moved it to `C:\\local\\boost_*`.  I had it in `C:\\program files\\boost\\boost_*` initially.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2274/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2273", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2273/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2273/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2273/events", "html_url": "https://github.com/mesonbuild/meson/issues/2273", "id": 254825727, "node_id": "MDU6SXNzdWUyNTQ4MjU3Mjc=", "number": 2273, "title": "In dependencies requires gobject-introspection but meson dont can find it", "user": {"login": "friktor", "id": 3089361, "node_id": "MDQ6VXNlcjMwODkzNjE=", "avatar_url": "https://avatars.githubusercontent.com/u/3089361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/friktor", "html_url": "https://github.com/friktor", "followers_url": "https://api.github.com/users/friktor/followers", "following_url": "https://api.github.com/users/friktor/following{/other_user}", "gists_url": "https://api.github.com/users/friktor/gists{/gist_id}", "starred_url": "https://api.github.com/users/friktor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/friktor/subscriptions", "organizations_url": "https://api.github.com/users/friktor/orgs", "repos_url": "https://api.github.com/users/friktor/repos", "events_url": "https://api.github.com/users/friktor/events{/privacy}", "received_events_url": "https://api.github.com/users/friktor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2017-09-02T17:41:16Z", "updated_at": "2021-12-19T16:02:14Z", "closed_at": "2021-12-19T16:02:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Im getting this error line:\r\n_gobject-introspection dependency was not found, gir cannot be generated._\r\nBut i have gobject-introspection in my pkg-config list.\r\n```\r\npkg-config --libs gobject-introspection-1.0\r\n-L/usr/local/Cellar/gobject-introspection/1.52.1_1/lib -L/usr/local/Cellar/glib/2.52.3/lib -L/usr/local/opt/gettext/lib -lgirepository-1.0 -lgobject-2.0 -lglib-2.0 -lintl -Wl,-framework -Wl,CoreFoundation\r\n```\r\nTarget OS build - Mac OS Sierra", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2273/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2239", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2239/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2239/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2239/events", "html_url": "https://github.com/mesonbuild/meson/issues/2239", "id": 252242080, "node_id": "MDU6SXNzdWUyNTIyNDIwODA=", "number": 2239, "title": "Boost is not detected out of the box on FreeBSD", "user": {"login": "mqudsi", "id": 606923, "node_id": "MDQ6VXNlcjYwNjkyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/606923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mqudsi", "html_url": "https://github.com/mqudsi", "followers_url": "https://api.github.com/users/mqudsi/followers", "following_url": "https://api.github.com/users/mqudsi/following{/other_user}", "gists_url": "https://api.github.com/users/mqudsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mqudsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mqudsi/subscriptions", "organizations_url": "https://api.github.com/users/mqudsi/orgs", "repos_url": "https://api.github.com/users/mqudsi/repos", "events_url": "https://api.github.com/users/mqudsi/events{/privacy}", "received_events_url": "https://api.github.com/users/mqudsi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 680510296, "node_id": "MDU6TGFiZWw2ODA1MTAyOTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:*BSD", "name": "OS:*BSD", "color": "990000", "default": false, "description": "Issues specific to one of the BSD Operating Systems"}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-08-23T10:59:39Z", "updated_at": "2022-08-22T06:58:56Z", "closed_at": "2017-10-01T21:32:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before providing more details, I wanted to make sure that Boost is supposed to \"just work\" if installed with the system package manager with its headers in /usr/local/include/boost/ and its libs in /usr/local/lib/, because out-of-the-box meson on FreeBSD complains that boost was not found when it's included as a project dependency.\r\n\r\nThis is without BOOST_INCLUDEDIR or BOOST_ROOT set. I didn't have to set them on Ubuntu; I would have supposed the same would apply for FreeBSD. (Setting them and manually adding the link directory made everything work.)", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2211", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2211/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2211/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2211/events", "html_url": "https://github.com/mesonbuild/meson/issues/2211", "id": 251095087, "node_id": "MDU6SXNzdWUyNTEwOTUwODc=", "number": 2211, "title": "0.42.0 is giving a backtrace: TypeError: can't pickle _thread.lock objects", "user": {"login": "wberrier", "id": 329898, "node_id": "MDQ6VXNlcjMyOTg5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/329898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wberrier", "html_url": "https://github.com/wberrier", "followers_url": "https://api.github.com/users/wberrier/followers", "following_url": "https://api.github.com/users/wberrier/following{/other_user}", "gists_url": "https://api.github.com/users/wberrier/gists{/gist_id}", "starred_url": "https://api.github.com/users/wberrier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wberrier/subscriptions", "organizations_url": "https://api.github.com/users/wberrier/orgs", "repos_url": "https://api.github.com/users/wberrier/repos", "events_url": "https://api.github.com/users/wberrier/events{/privacy}", "received_events_url": "https://api.github.com/users/wberrier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-08-17T22:56:54Z", "updated_at": "2017-09-11T21:04:22Z", "closed_at": "2017-09-11T20:50:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "that didn't happen with 0.41.2...\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/wberrier/wa/git/meson/mesonbuild/mesonmain.py\", line 338, in run\r\n    app.generate()\r\n  File \"/home/wberrier/wa/git/meson/mesonbuild/mesonmain.py\", line 186, in generate\r\n    pickle.dump(b, f)\r\nTypeError: can't pickle _thread.lock objects\r\n```\r\n\r\nIdeas?\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2211/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2204", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2204/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2204/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2204/events", "html_url": "https://github.com/mesonbuild/meson/issues/2204", "id": 250714488, "node_id": "MDU6SXNzdWUyNTA3MTQ0ODg=", "number": 2204, "title": "meson.py command does not work well on PowerShell", "user": {"login": "aruiz", "id": 2845, "node_id": "MDQ6VXNlcjI4NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aruiz", "html_url": "https://github.com/aruiz", "followers_url": "https://api.github.com/users/aruiz/followers", "following_url": "https://api.github.com/users/aruiz/following{/other_user}", "gists_url": "https://api.github.com/users/aruiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/aruiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aruiz/subscriptions", "organizations_url": "https://api.github.com/users/aruiz/orgs", "repos_url": "https://api.github.com/users/aruiz/repos", "events_url": "https://api.github.com/users/aruiz/events{/privacy}", "received_events_url": "https://api.github.com/users/aruiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-16T18:15:23Z", "updated_at": "2018-12-04T01:51:55Z", "closed_at": "2018-12-04T01:51:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Windows, if you call meson.py from PowerShell, meson.py spawns a cmd.exe shell window and closes it when you quit, leaving no build output on the PowerShell whatsoever", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2202", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2202/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2202/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2202/events", "html_url": "https://github.com/mesonbuild/meson/issues/2202", "id": 250673030, "node_id": "MDU6SXNzdWUyNTA2NzMwMzA=", "number": 2202, "title": "rpm module doesn't generate template", "user": {"login": "sgallagher", "id": 739555, "node_id": "MDQ6VXNlcjczOTU1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/739555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgallagher", "html_url": "https://github.com/sgallagher", "followers_url": "https://api.github.com/users/sgallagher/followers", "following_url": "https://api.github.com/users/sgallagher/following{/other_user}", "gists_url": "https://api.github.com/users/sgallagher/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgallagher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgallagher/subscriptions", "organizations_url": "https://api.github.com/users/sgallagher/orgs", "repos_url": "https://api.github.com/users/sgallagher/repos", "events_url": "https://api.github.com/users/sgallagher/events{/privacy}", "received_events_url": "https://api.github.com/users/sgallagher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-08-16T15:43:15Z", "updated_at": "2019-01-10T21:04:11Z", "closed_at": "2019-01-10T21:04:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When attempting to use the [RPM module](http://mesonbuild.com/RPM-module.html#rpm-module) with meson 0.41.2, it generates the following traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 307, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 180, in generate\r\n    intr.run()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 2544, in run\r\n    super().run()\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 125, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 146, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 140, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 151, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 361, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 47, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 2261, in func_subdir\r\n    self.evaluate_codeblock(codeblock)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 146, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 140, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 155, in evaluate_statement\r\n    return self.method_call(cur)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 389, in method_call\r\n    return obj.method_call(method_name, self.flatten(args), kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 1060, in method_call\r\n    value = fn(state, args, kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/modules/rpm.py\", line 100, in generate_spec_template\r\n    for lib in state.environment.coredata.ext_libs.values():\r\nAttributeError: 'CoreData' object has no attribute 'ext_libs'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2199", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2199/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2199/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2199/events", "html_url": "https://github.com/mesonbuild/meson/issues/2199", "id": 250567186, "node_id": "MDU6SXNzdWUyNTA1NjcxODY=", "number": 2199, "title": "phony and PHONY dirs cause bugs in Windows", "user": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-08-16T09:38:03Z", "updated_at": "2017-09-04T09:19:50Z", "closed_at": "2017-08-20T15:10:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In Windows having two directories with the same name breaks things. Git will report that your files have changed every time because it confuses `phony/meson.build` with `PHONY/meson.build`. ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2197", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2197/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2197/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2197/events", "html_url": "https://github.com/mesonbuild/meson/issues/2197", "id": 250434412, "node_id": "MDU6SXNzdWUyNTA0MzQ0MTI=", "number": 2197, "title": "The default libdir for non system-wide prefix should be 'lib'", "user": {"login": "arteymix", "id": 1318477, "node_id": "MDQ6VXNlcjEzMTg0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1318477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arteymix", "html_url": "https://github.com/arteymix", "followers_url": "https://api.github.com/users/arteymix/followers", "following_url": "https://api.github.com/users/arteymix/following{/other_user}", "gists_url": "https://api.github.com/users/arteymix/gists{/gist_id}", "starred_url": "https://api.github.com/users/arteymix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arteymix/subscriptions", "organizations_url": "https://api.github.com/users/arteymix/orgs", "repos_url": "https://api.github.com/users/arteymix/repos", "events_url": "https://api.github.com/users/arteymix/events{/privacy}", "received_events_url": "https://api.github.com/users/arteymix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-15T20:49:02Z", "updated_at": "2018-05-25T14:39:02Z", "closed_at": "2018-05-25T14:39:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Meson currently uses `lib64` when installing with `--prefix=$HOME/.local` and `prefix=/usr/local`, but that's an exception for system-wide installation and not a general rule.\r\n\r\nI think that `lib64` should be checked relatively to the prefix of installation instead.\r\n\r\nTo be more concise, this is happening on system that have a `/usr/lib64` directory (i.e. Fedora) as it is hard-coded in  https://github.com/mesonbuild/meson/blob/master/mesonbuild/mesonlib.py#L325", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2197/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2197/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2182", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2182/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2182/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2182/events", "html_url": "https://github.com/mesonbuild/meson/issues/2182", "id": 249883612, "node_id": "MDU6SXNzdWUyNDk4ODM2MTI=", "number": 2182, "title": "gnome.generate_gir() uses -lfoo while generating girs which can pick up system libraries", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-13T16:28:12Z", "updated_at": "2018-11-13T11:52:55Z", "closed_at": "2018-11-13T11:52:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It also seems to ignore `-Lbar`?\r\n\r\n> /usr/bin/g-ir-scanner [...] --symbol-prefix=ide --identifier-prefix=Ide --cflags-begin [...] --cflags-end [lots of --extra-library] -L/home/foser/work/gnome-builder/builddir/subprojects/libgd/libgd -lgd --extra-library=m -L/home/foser/work/gnome-builder/builddir/libide -L/home/foser/work/gnome-builder/builddir/subprojects/libgd/libgd --library ide-1.0\r\n\r\nThis picks up `/usr/lib64/libgd.so` instead of `builddir/subprojects/libgd/libgd/libgd.so`, and causes the following error:\r\n\r\n```\r\nlibide/libide-1.0.so: undefined reference to `gd_tagged_entry_tag_set_style'\r\nlibide/libide-1.0.so: undefined reference to `gd_tagged_entry_tag_set_label'\r\nlibide/libide-1.0.so: undefined reference to `gd_tagged_entry_add_tag'\r\nlibide/libide-1.0.so: undefined reference to `gd_tagged_entry_tag_new'\r\nlibide/libide-1.0.so: undefined reference to `gd_tagged_entry_get_type'\r\nlibide/libide-1.0.so: undefined reference to `gd_tagged_entry_remove_tag'\r\ncollect2: error: ld returned 1 exit status\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2181", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2181/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2181/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2181/events", "html_url": "https://github.com/mesonbuild/meson/issues/2181", "id": 249882974, "node_id": "MDU6SXNzdWUyNDk4ODI5NzQ=", "number": 2181, "title": "Invalid keywords warning does not say which target, meson.build file, or line/col number", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/20", "html_url": "https://github.com/mesonbuild/meson/milestone/20", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/20/labels", "id": 2680747, "node_id": "MDk6TWlsZXN0b25lMjY4MDc0Nw==", "number": 20, "title": "0.42.0", "description": "", "creator": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-08-04T10:24:57Z", "updated_at": "2017-08-15T12:07:26Z", "due_on": "2017-08-13T07:00:00Z", "closed_at": "2017-08-15T12:07:26Z"}, "comments": 0, "created_at": "2017-08-13T16:16:34Z", "updated_at": "2017-08-14T15:44:45Z", "closed_at": "2017-08-14T15:44:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "> WARNING: Passed invalid keyword argument \"install\". This will become a hard error in the future.\r\n> WARNING: Passed invalid keyword argument \"install_dir\". This will become a hard error in the future.\r\n\r\nThese warnings are quite useless because you have no idea what targets they are talking about. We should not release with this.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2181/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2180", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2180/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2180/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2180/events", "html_url": "https://github.com/mesonbuild/meson/issues/2180", "id": 249870603, "node_id": "MDU6SXNzdWUyNDk4NzA2MDM=", "number": 2180, "title": "Can't create a library from link_whole static libraries and without any source files", "user": {"login": "ddevault", "id": 1310872, "node_id": "MDQ6VXNlcjEzMTA4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1310872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddevault", "html_url": "https://github.com/ddevault", "followers_url": "https://api.github.com/users/ddevault/followers", "following_url": "https://api.github.com/users/ddevault/following{/other_user}", "gists_url": "https://api.github.com/users/ddevault/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddevault/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddevault/subscriptions", "organizations_url": "https://api.github.com/users/ddevault/orgs", "repos_url": "https://api.github.com/users/ddevault/repos", "events_url": "https://api.github.com/users/ddevault/events{/privacy}", "received_events_url": "https://api.github.com/users/ddevault/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-08-13T12:24:21Z", "updated_at": "2017-10-01T00:53:01Z", "closed_at": "2017-09-30T22:19:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a project that is designed with several subprojects that are built into static libraries, then a larger library which is linked from all of them like so:\r\n\r\n```meson\r\nlib_wlr = library('wlroots', [],\r\n    link_whole: [\r\n        lib_wl_protos,\r\n        lib_wlr_backend,\r\n        lib_wlr_render,\r\n        lib_wlr_types,\r\n        lib_wlr_util,\r\n        lib_wlr_xcursor,\r\n    ],\r\n    dependencies: _wlr_deps,\r\n    include_directories: wlr_inc)\r\n```\r\n\r\nThis fails: \"Build target wlroots has no sources\"\r\n\r\nThis commit includes our workaround: https://git.io/v7HNX", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2178", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2178/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2178/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2178/events", "html_url": "https://github.com/mesonbuild/meson/issues/2178", "id": 249768498, "node_id": "MDU6SXNzdWUyNDk3Njg0OTg=", "number": 2178, "title": "Scripts always trigger single-executable warning", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-08-11T23:12:20Z", "updated_at": "2021-01-26T00:15:30Z", "closed_at": "2021-01-26T00:15:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Scripts like a postconf script get a `MESONINTROSPECT` environment variable that points to `mesonintrospect`, but running this command _always_ generates a warning that it's deprecated. There is no `MESON` environment variable, so there's no way to avoid it.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2177", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2177/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2177/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2177/events", "html_url": "https://github.com/mesonbuild/meson/pull/2177", "id": 249755005, "node_id": "MDExOlB1bGxSZXF1ZXN0MTM1NDI0NDk2", "number": 2177, "title": "gnome: Only translate -l flags to --extra-library", "user": {"login": "fmuellner", "id": 80701, "node_id": "MDQ6VXNlcjgwNzAx", "avatar_url": "https://avatars.githubusercontent.com/u/80701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmuellner", "html_url": "https://github.com/fmuellner", "followers_url": "https://api.github.com/users/fmuellner/followers", "following_url": "https://api.github.com/users/fmuellner/following{/other_user}", "gists_url": "https://api.github.com/users/fmuellner/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmuellner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmuellner/subscriptions", "organizations_url": "https://api.github.com/users/fmuellner/orgs", "repos_url": "https://api.github.com/users/fmuellner/repos", "events_url": "https://api.github.com/users/fmuellner/events{/privacy}", "received_events_url": "https://api.github.com/users/fmuellner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/20", "html_url": "https://github.com/mesonbuild/meson/milestone/20", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/20/labels", "id": 2680747, "node_id": "MDk6TWlsZXN0b25lMjY4MDc0Nw==", "number": 20, "title": "0.42.0", "description": "", "creator": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-08-04T10:24:57Z", "updated_at": "2017-08-15T12:07:26Z", "due_on": "2017-08-13T07:00:00Z", "closed_at": "2017-08-15T12:07:26Z"}, "comments": 2, "created_at": "2017-08-11T21:41:51Z", "updated_at": "2017-08-13T18:12:44Z", "closed_at": "2017-08-13T18:12:44Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/2177", "html_url": "https://github.com/mesonbuild/meson/pull/2177", "diff_url": "https://github.com/mesonbuild/meson/pull/2177.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/2177.patch", "merged_at": "2017-08-13T18:12:44Z"}, "body": "Other linker arguments may contain '-l' as well, for instance\n'-L/usr/lib/x86_64-linux-gnu/foo' with Debian-style multiarch.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2177/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2177/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2174", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2174/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2174/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2174/events", "html_url": "https://github.com/mesonbuild/meson/issues/2174", "id": 249664855, "node_id": "MDU6SXNzdWUyNDk2NjQ4NTU=", "number": 2174, "title": "kwarg build_by_default is no longer accepted by many GNOME module functions", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-11T15:10:06Z", "updated_at": "2017-08-13T18:17:48Z", "closed_at": "2017-08-13T18:17:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This breaks building at least GNOME Recipes (possibly more) with Meson master. I have a patch for this.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2174/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2170", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2170/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2170/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2170/events", "html_url": "https://github.com/mesonbuild/meson/issues/2170", "id": 249313374, "node_id": "MDU6SXNzdWUyNDkzMTMzNzQ=", "number": 2170, "title": "configure_file() always regenerates config.h from the configuration: if there is no input: file", "user": {"login": "taz-007", "id": 21104074, "node_id": "MDQ6VXNlcjIxMTA0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/21104074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taz-007", "html_url": "https://github.com/taz-007", "followers_url": "https://api.github.com/users/taz-007/followers", "following_url": "https://api.github.com/users/taz-007/following{/other_user}", "gists_url": "https://api.github.com/users/taz-007/gists{/gist_id}", "starred_url": "https://api.github.com/users/taz-007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taz-007/subscriptions", "organizations_url": "https://api.github.com/users/taz-007/orgs", "repos_url": "https://api.github.com/users/taz-007/repos", "events_url": "https://api.github.com/users/taz-007/events{/privacy}", "received_events_url": "https://api.github.com/users/taz-007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-10T11:16:02Z", "updated_at": "2018-02-11T12:09:12Z", "closed_at": "2018-02-11T12:09:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In a project with a configuration file, everytime a meson.build file is modified, this triggers the reconfigure part but also regenerates the config.h, meaning that when ninja is invoked just after it rebuilds every file depending on that config.h even though nothing changed regarding the config.h file.\r\n\r\ncontent of meson.build:\r\nproject('foo', 'cpp' )\r\nfoo_sources = [ 'foo.cpp' ]\r\nconf_data = configuration_data()\r\nconf_data.set('VERSION', '\"1.2.3\"')\r\nconfigure_file(output : 'config.h', configuration : conf_data)\r\nfoo_exe = executable('foo', foo_sources  )\r\n\r\ncontent of foo.cpp\r\n#include \"config.h\"\r\nint main(){return 0;}\r\n\r\nmeson ; ninja ; touch meson.build ; ninja ; it now recompiles foo.cpp\r\n\r\nIdeally the config.h file should not be overwritten(or mdate changed) if the content did not change\r\n\r\nTested with meson 0.41.2", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2165", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2165/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2165/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2165/events", "html_url": "https://github.com/mesonbuild/meson/issues/2165", "id": 249041243, "node_id": "MDU6SXNzdWUyNDkwNDEyNDM=", "number": 2165, "title": "Thread dependency not used with compiler checks", "user": {"login": "ebassi", "id": 1665, "node_id": "MDQ6VXNlcjE2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebassi", "html_url": "https://github.com/ebassi", "followers_url": "https://api.github.com/users/ebassi/followers", "following_url": "https://api.github.com/users/ebassi/following{/other_user}", "gists_url": "https://api.github.com/users/ebassi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebassi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebassi/subscriptions", "organizations_url": "https://api.github.com/users/ebassi/orgs", "repos_url": "https://api.github.com/users/ebassi/repos", "events_url": "https://api.github.com/users/ebassi/events{/privacy}", "received_events_url": "https://api.github.com/users/ebassi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-09T14:02:07Z", "updated_at": "2017-08-09T21:04:56Z", "closed_at": "2017-08-09T21:04:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This snippet:\r\n\r\n```\r\nthread_dep = dependency('threads')\r\nif cc.links('''#define _GNU_SOURCE\r\n            #include <pthread.h>\r\n            int main (void) {\r\n              pthread_setname_np (pthread_self (), \"name\");\r\n              return 0;\r\n            }''',\r\n            name : 'pthread_setname_np(pthread*, const char*)',\r\n            dependencies : thread_dep)\r\n  conf.set('HAVE_PTHREAD_SETNAME_NP_WITH_TID', 1)\r\nendif\r\n```\r\n\r\nWill result in a failed check because the dependencies won't be expanded, and no `-pthread` compiler flag will be passed:\r\n\r\n```\r\nCommand line:  ccache cc -L/home/ebassi/gnome/install/lib /tmp/tmp4kj9y6_8/testfile.c -O0 -std=gnu89 -pipe -D_FILE_OFFSET_BITS=64 -o /tmp/tmp4kj9y6_8/output.exe\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2150", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2150/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2150/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2150/events", "html_url": "https://github.com/mesonbuild/meson/issues/2150", "id": 247443609, "node_id": "MDU6SXNzdWUyNDc0NDM2MDk=", "number": 2150, "title": "dependency got using find_library is not deduplicated for static library builds", "user": {"login": "bruce-richardson", "id": 12200944, "node_id": "MDQ6VXNlcjEyMjAwOTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/12200944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bruce-richardson", "html_url": "https://github.com/bruce-richardson", "followers_url": "https://api.github.com/users/bruce-richardson/followers", "following_url": "https://api.github.com/users/bruce-richardson/following{/other_user}", "gists_url": "https://api.github.com/users/bruce-richardson/gists{/gist_id}", "starred_url": "https://api.github.com/users/bruce-richardson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bruce-richardson/subscriptions", "organizations_url": "https://api.github.com/users/bruce-richardson/orgs", "repos_url": "https://api.github.com/users/bruce-richardson/repos", "events_url": "https://api.github.com/users/bruce-richardson/events{/privacy}", "received_events_url": "https://api.github.com/users/bruce-richardson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/36", "html_url": "https://github.com/mesonbuild/meson/milestone/36", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/36/labels", "id": 4101227, "node_id": "MDk6TWlsZXN0b25lNDEwMTIyNw==", "number": 36, "title": "0.51.0", "description": "", "creator": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 24, "state": "closed", "created_at": "2019-03-02T00:18:20Z", "updated_at": "2020-03-11T11:12:01Z", "due_on": null, "closed_at": "2019-06-17T21:24:26Z"}, "comments": 7, "created_at": "2017-08-02T16:11:32Z", "updated_at": "2019-06-04T21:49:37Z", "closed_at": "2019-03-13T11:54:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Simple test case attached. [Original issue found when porting DPDK project to meson, where we got errors due to too many parameters.]\r\n\r\nSetup: liba, which depends on libdl, and pthreads. Libb which depends on liba. App which depends on both liba and libb\r\n\r\nShared build looks ok, no duplication seen with latest HEAD:\r\n  ```\r\n $ ninja -v -j1\r\n   <snip for brevity>\r\n   [8/8] ccache cc  -o app/app 'app/app@exe/app.c.o' -Wl,--no-undefined -Wl,--as-needed -Wl,--start-group liba/liba.so libb/libb.so -pthread -ldl -Wl,--end-group -ldl '-Wl,-rpath,$ORIGIN/../liba:$ORIGIN/../libb' -Wl,-rpath-link,/home/bruce/temp/meson-test/shared_build/liba:/home/bruce/temp/meson-test/shared_build/libb\r\n```\r\n\r\nStatic library shows a large amount of duplication for -ldl, but not pthreads, despite both being listed as dependencies in the same places:\r\n   ```\r\n $ ninja -v -j1\r\n    <snip for brevity>\r\n    [6/6] ccache cc  -o app/app 'app/app@exe/app.c.o' -Wl,--no-undefined -Wl,--as-needed -Wl,--start-group liba/liba.a libb/libb.a -pthread -ldl -Wl,--end-group -ldl -ldl -ldl -ldl -ldl\r\n```\r\n\r\n\r\n[meson-test.zip](https://github.com/mesonbuild/meson/files/1194545/meson-test.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2150/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2127", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2127/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2127/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2127/events", "html_url": "https://github.com/mesonbuild/meson/issues/2127", "id": 245869290, "node_id": "MDU6SXNzdWUyNDU4NjkyOTA=", "number": 2127, "title": "`meson -Dprefix=/some/prefix /src/path /build/path` does not work", "user": {"login": "Jehan", "id": 794997, "node_id": "MDQ6VXNlcjc5NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/794997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jehan", "html_url": "https://github.com/Jehan", "followers_url": "https://api.github.com/users/Jehan/followers", "following_url": "https://api.github.com/users/Jehan/following{/other_user}", "gists_url": "https://api.github.com/users/Jehan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jehan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jehan/subscriptions", "organizations_url": "https://api.github.com/users/Jehan/orgs", "repos_url": "https://api.github.com/users/Jehan/repos", "events_url": "https://api.github.com/users/Jehan/events{/privacy}", "received_events_url": "https://api.github.com/users/Jehan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-26T22:07:56Z", "updated_at": "2017-08-04T18:01:56Z", "closed_at": "2017-08-04T18:01:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "> meson --help\r\n\r\nlists the -D option:\r\n\r\n>   -D option             Set the value of an option, can be used several times\r\n>                              to set multiple options.\r\n\r\nBut it does not work with -Dprefix=. I saw that there is a --prefix common option as well so I use this and it works. But -Dprefix= works in mesonconf for instance. It would make sense it could work for meson as well (being a synonym to --prefix).", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2127/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2126", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2126/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2126/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2126/events", "html_url": "https://github.com/mesonbuild/meson/issues/2126", "id": 245736083, "node_id": "MDU6SXNzdWUyNDU3MzYwODM=", "number": 2126, "title": "Windows UTF-8 Encoding", "user": {"login": "corentin-fleury", "id": 8330942, "node_id": "MDQ6VXNlcjgzMzA5NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/8330942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/corentin-fleury", "html_url": "https://github.com/corentin-fleury", "followers_url": "https://api.github.com/users/corentin-fleury/followers", "following_url": "https://api.github.com/users/corentin-fleury/following{/other_user}", "gists_url": "https://api.github.com/users/corentin-fleury/gists{/gist_id}", "starred_url": "https://api.github.com/users/corentin-fleury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/corentin-fleury/subscriptions", "organizations_url": "https://api.github.com/users/corentin-fleury/orgs", "repos_url": "https://api.github.com/users/corentin-fleury/repos", "events_url": "https://api.github.com/users/corentin-fleury/events{/privacy}", "received_events_url": "https://api.github.com/users/corentin-fleury/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-07-26T14:13:01Z", "updated_at": "2021-12-29T11:59:23Z", "closed_at": "2021-12-29T11:59:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am building my own project with meson but I get this error when I run meson with native windows python: [log.txt](https://github.com/mesonbuild/meson/files/1176846/log.txt)\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2126/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2122", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2122/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2122/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2122/events", "html_url": "https://github.com/mesonbuild/meson/issues/2122", "id": 245490980, "node_id": "MDU6SXNzdWUyNDU0OTA5ODA=", "number": 2122, "title": "vs2010 backend attempts to honor link_whole, but lacks support", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 1983236977, "node_id": "MDU6TGFiZWwxOTgzMjM2OTc3", "url": "https://api.github.com/repos/mesonbuild/meson/labels/backend:visualstudio", "name": "backend:visualstudio", "color": "edc500", "default": false, "description": "Visual Studio project backends"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-25T18:24:22Z", "updated_at": "2021-05-27T16:54:38Z", "closed_at": "2021-05-27T16:54:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Starting with vs2015 of MSVC a `/WHOLEARCHIVE` flag allows link_whole to be implemented. VS2010 doesn't have this flag, but still attempts to generate libraries using it. It seems like basically using link_whole excludes the use of VS2010.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2122/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2117", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2117/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2117/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2117/events", "html_url": "https://github.com/mesonbuild/meson/issues/2117", "id": 245215125, "node_id": "MDU6SXNzdWUyNDUyMTUxMjU=", "number": 2117, "title": "-Db_sanitize=address does not work with gobject introspection", "user": {"login": "chergert", "id": 25676, "node_id": "MDQ6VXNlcjI1Njc2", "avatar_url": "https://avatars.githubusercontent.com/u/25676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chergert", "html_url": "https://github.com/chergert", "followers_url": "https://api.github.com/users/chergert/followers", "following_url": "https://api.github.com/users/chergert/following{/other_user}", "gists_url": "https://api.github.com/users/chergert/gists{/gist_id}", "starred_url": "https://api.github.com/users/chergert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chergert/subscriptions", "organizations_url": "https://api.github.com/users/chergert/orgs", "repos_url": "https://api.github.com/users/chergert/repos", "events_url": "https://api.github.com/users/chergert/events{/privacy}", "received_events_url": "https://api.github.com/users/chergert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/29", "html_url": "https://github.com/mesonbuild/meson/milestone/29", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/29/labels", "id": 3481232, "node_id": "MDk6TWlsZXN0b25lMzQ4MTIzMg==", "number": 29, "title": "0.47.2", "description": "Stable release 0.47.2", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 62, "state": "closed", "created_at": "2018-07-09T00:13:48Z", "updated_at": "2018-08-28T06:20:20Z", "due_on": null, "closed_at": "2018-08-28T06:20:20Z"}, "comments": 11, "created_at": "2017-07-24T21:30:39Z", "updated_at": "2018-08-07T09:42:49Z", "closed_at": "2017-07-24T21:46:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "In a GNOME Builder build directory, I ran `mesonconf -Db_sanitize=address` and then `ninja`. I had to manually install `libasan` which wasn't detected by the configure phase (and that is probably a bug in it's own right). But furthermore, when trying to compile GObject Introspection hooks, I get an error like the following and the build stops.\r\n\r\n```\r\ng-ir-scanner: link: cc -o /home/christian/Projects/gnome-builder/build/tmp-introspectqp6sl5na/Gstyle-1.0 -ggdb -O0 -fno-omit-frame-pointer /home/christian/Projects/gnome-builder/build/tmp-introspectqp6sl5na/Gstyle-1.0.o -L. -Wl,-rpath,. -Wl,--no-as-needed -lgstyle-private -lgtk-3 -lgdk-3 -lpangocairo-1.0 -lpango-1.0 -latk-1.0 -lcairo-gobject -lcairo -lgdk_pixbuf-2.0 -lgio-2.0 -lgobject-2.0 -lglib-2.0 -ldazzle-1.0 -lxml2 -lm -L/home/christian/Projects/gnome-builder/build/contrib/gstyle -Wl,-rpath,/home/christian/Projects/gnome-builder/build/contrib/gstyle -L/opt/gnome/lib -Wl,-rpath,/opt/gnome/lib -L/home/christian/Projects/gnome-builder/build/contrib/gstyle -Wl,-rpath,/home/christian/Projects/gnome-builder/build/contrib/gstyle -L/opt/gnome/lib -lgio-2.0 -lgobject-2.0 -Wl,--export-dynamic -lgmodule-2.0 -pthread -lglib-2.0 -L/opt/gnome/lib\r\n//usr/lib64/libasan.so.4: warning: the use of `tmpnam' is dangerous, better use `mkstemp'\r\n//usr/lib64/libasan.so.4: warning: the use of `tempnam' is dangerous, better use `mkstemp'\r\n//usr/lib64/libasan.so.4: warning: the use of `tmpnam_r' is dangerous, better use `mkstemp'\r\n==5886==ASan runtime does not come first in initial library list; you should either link runtime to your application or manually preload it with LD_PRELOAD.\r\nCommand '['/home/christian/Projects/gnome-builder/build/tmp-introspectqp6sl5na/Gstyle-1.0', '--introspect-dump=/home/christian/Projects/gnome-builder/build/tmp-introspectqp6sl5na/functions.txt,/home/christian/Projects/gnome-builder/build/tmp-introspectqp6sl5na/dump.xml']' returned non-zero exit status 1.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2117/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2117/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2096", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2096/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2096/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2096/events", "html_url": "https://github.com/mesonbuild/meson/issues/2096", "id": 244471975, "node_id": "MDU6SXNzdWUyNDQ0NzE5NzU=", "number": 2096, "title": "stable v0.41.2 FTBS budgie-desktop git", "user": {"login": "fossfreedom", "id": 996240, "node_id": "MDQ6VXNlcjk5NjI0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/996240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fossfreedom", "html_url": "https://github.com/fossfreedom", "followers_url": "https://api.github.com/users/fossfreedom/followers", "following_url": "https://api.github.com/users/fossfreedom/following{/other_user}", "gists_url": "https://api.github.com/users/fossfreedom/gists{/gist_id}", "starred_url": "https://api.github.com/users/fossfreedom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fossfreedom/subscriptions", "organizations_url": "https://api.github.com/users/fossfreedom/orgs", "repos_url": "https://api.github.com/users/fossfreedom/repos", "events_url": "https://api.github.com/users/fossfreedom/events{/privacy}", "received_events_url": "https://api.github.com/users/fossfreedom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-20T19:29:00Z", "updated_at": "2017-07-22T20:41:24Z", "closed_at": "2017-07-22T20:41:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\n  budgie desktop will be looking to release git master at some point soon.  However, it currently only builds with v0.40.1 meson.\r\n\r\nAll subsequent meson versions including master fail to build - the issue is being tracked here: \r\n\r\n - https://github.com/budgie-desktop/budgie-desktop/issues/1044\r\n\r\n\r\nUbuntu 17.10, Debian Buster/Sid and Arch are specific distros that I'm aware of that have pulled in the latest meson and hence cannot build budgie desktop directly at the moment.\r\n\r\n**Please can we have some guidance why our FTBS occurs?**\r\n\r\nNotes:\r\n\r\nIf I've done the git bisect on the 0.41.2 branch correctly, the likely commit causing this issue is commit ae9b23832e3ef4064e5735265ce7008794ab0491\r\n\r\nWhile bisecting I had also to apply the commit described in this previous meson issue: https://github.com/mesonbuild/meson/issues/1969\r\n\r\nAs Ikey has mentioned in the linked issue - we are definitely linking the libraries correctly - as I said, it works with v0.40.1", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2096/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2093", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2093/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2093/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2093/events", "html_url": "https://github.com/mesonbuild/meson/issues/2093", "id": 244446255, "node_id": "MDU6SXNzdWUyNDQ0NDYyNTU=", "number": 2093, "title": "generate-gir: Forgets to add self.include_directories to cflags", "user": {"login": "ndufresne", "id": 3606728, "node_id": "MDQ6VXNlcjM2MDY3Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/3606728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ndufresne", "html_url": "https://github.com/ndufresne", "followers_url": "https://api.github.com/users/ndufresne/followers", "following_url": "https://api.github.com/users/ndufresne/following{/other_user}", "gists_url": "https://api.github.com/users/ndufresne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ndufresne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ndufresne/subscriptions", "organizations_url": "https://api.github.com/users/ndufresne/orgs", "repos_url": "https://api.github.com/users/ndufresne/repos", "events_url": "https://api.github.com/users/ndufresne/events{/privacy}", "received_events_url": "https://api.github.com/users/ndufresne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-20T17:54:28Z", "updated_at": "2018-09-04T05:39:45Z", "closed_at": "2018-09-04T05:39:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've hit issue in GStreamer when generating gir for certain libraries if their header were not already installed in my prefix (yet, it's scary, we we endup picking headers from prefix). Looking deep down, I found that the local header are missing in the cflags-being/end parameters. \r\n\r\nFurther down, I found that _get_dependencies_flags() will generate flags for all dependency, but ignore the information that is set in self (the library). Those path are really important, and order matter to avoid picking ancient header from the  prefix. I only checked the cflags part so far.\r\n\r\nI detected this error when I got:\r\n<unknown>:: Fatal: GstPlayer: Namespace is empty; likely causes are:\r\n* Not including .h files to be scanned\r\n* Broken --identifier-prefix", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2093/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2050", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2050/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2050/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2050/events", "html_url": "https://github.com/mesonbuild/meson/issues/2050", "id": 242012889, "node_id": "MDU6SXNzdWUyNDIwMTI4ODk=", "number": 2050, "title": "pkgconfig appends slash at Cflags, which can break some compilation", "user": {"login": "lordheavy", "id": 371751, "node_id": "MDQ6VXNlcjM3MTc1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/371751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lordheavy", "html_url": "https://github.com/lordheavy", "followers_url": "https://api.github.com/users/lordheavy/followers", "following_url": "https://api.github.com/users/lordheavy/following{/other_user}", "gists_url": "https://api.github.com/users/lordheavy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lordheavy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lordheavy/subscriptions", "organizations_url": "https://api.github.com/users/lordheavy/orgs", "repos_url": "https://api.github.com/users/lordheavy/repos", "events_url": "https://api.github.com/users/lordheavy/events{/privacy}", "received_events_url": "https://api.github.com/users/lordheavy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-07-11T11:20:53Z", "updated_at": "2017-07-17T06:13:51Z", "closed_at": "2017-07-17T06:13:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "generate_pkgconfig_file() generate following pkgconfile file with libinput:\r\n```\r\npkgconfig.generate(\r\n\tfilebase : 'libinput',\r\n\tname : 'Libinput',\r\n\tdescription : 'Input device library',\r\n\tversion : meson.project_version(),\r\n\tlibraries : lib_libinput\r\n)\r\n```\r\n\r\nproduces:\r\n```\r\nprefix=/usr\r\nlibdir=${prefix}/lib\r\nincludedir=${prefix}/include\r\n\r\nName: Libinput\r\nDescription: Input device library\r\nVersion: 1.8.0\r\nLibs: -L${libdir} -linput\r\nCflags: -I${includedir}/\r\n```\r\nFollowing patch fixes the issue:\r\n[0001-pkgconfig-avoid-appending-slash-at-Cflags.patch.txt](https://github.com/mesonbuild/meson/files/1138640/0001-pkgconfig-avoid-appending-slash-at-Cflags.patch.txt)\r\n\r\nArchlinux bugreport: https://bugs.archlinux.org/task/54763\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2050/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2043", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2043/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2043/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2043/events", "html_url": "https://github.com/mesonbuild/meson/issues/2043", "id": 241309460, "node_id": "MDU6SXNzdWUyNDEzMDk0NjA=", "number": 2043, "title": " Language fortran does not support library finding", "user": {"login": "sprock", "id": 6391601, "node_id": "MDQ6VXNlcjYzOTE2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/6391601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sprock", "html_url": "https://github.com/sprock", "followers_url": "https://api.github.com/users/sprock/followers", "following_url": "https://api.github.com/users/sprock/following{/other_user}", "gists_url": "https://api.github.com/users/sprock/gists{/gist_id}", "starred_url": "https://api.github.com/users/sprock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sprock/subscriptions", "organizations_url": "https://api.github.com/users/sprock/orgs", "repos_url": "https://api.github.com/users/sprock/repos", "events_url": "https://api.github.com/users/sprock/events{/privacy}", "received_events_url": "https://api.github.com/users/sprock/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-07T16:05:18Z", "updated_at": "2018-05-21T20:17:04Z", "closed_at": "2018-05-21T20:17:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "The title summarises the issue.\r\n\r\nI'm attaching a meson.build file and hello.f95.\r\n\r\nTest system: FreeBSD 10.3-RELEASE-p11, i386, meson-0.41.1\r\n\r\nInvocation: LD_LIBRARY_PATH=/usr/local/lib/gcc5 meson ..\r\n\r\n[fortran.tar.gz](https://github.com/mesonbuild/meson/files/1131565/fortran.tar.gz)\r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2043/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2038", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2038/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2038/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2038/events", "html_url": "https://github.com/mesonbuild/meson/issues/2038", "id": 240500444, "node_id": "MDU6SXNzdWUyNDA1MDA0NDQ=", "number": 2038, "title": "libdir detection is buggy in many cases", "user": {"login": "Jehan", "id": 794997, "node_id": "MDQ6VXNlcjc5NDk5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/794997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jehan", "html_url": "https://github.com/Jehan", "followers_url": "https://api.github.com/users/Jehan/followers", "following_url": "https://api.github.com/users/Jehan/following{/other_user}", "gists_url": "https://api.github.com/users/Jehan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jehan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jehan/subscriptions", "organizations_url": "https://api.github.com/users/Jehan/orgs", "repos_url": "https://api.github.com/users/Jehan/repos", "events_url": "https://api.github.com/users/Jehan/events{/privacy}", "received_events_url": "https://api.github.com/users/Jehan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 850828231, "node_id": "MDU6TGFiZWw4NTA4MjgyMzE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/options", "name": "options", "color": "fef2c0", "default": false, "description": "Meson configuration options"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-07-04T21:34:36Z", "updated_at": "2019-05-30T18:32:14Z", "closed_at": "2019-05-30T18:32:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have been cross-compiling json-glib (which uses meson) for 32-bit and it would install it inside lib64/:\r\n\r\nThe compilation is fine and renders proper 32-bit:\r\n\r\n> $ file lib64/libjson-glib-1.0.so.0.301.0 \r\n> lib64/libjson-glib-1.0.so.0.301.0: ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, not stripped\r\n\r\nOnly the path is wrong.\r\nAlso since I am building from a 64-bit platform, this may be the problem, of course. Basically do not decide on the installation path from the build OS, but from the host one.\r\nI filled a bug in json-glib, but they tell me the problem is with meson: https://bugzilla.gnome.org/show_bug.cgi?id=784532\r\n\r\nAlso for information, I do not consider the proposed solution of setting `--libdir` valid. I know of this option, which exists on all other build systems (and that's a good option), but it should not be a reason not to have sane defaults.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2038/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2032", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2032/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2032/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2032/events", "html_url": "https://github.com/mesonbuild/meson/issues/2032", "id": 240281243, "node_id": "MDU6SXNzdWUyNDAyODEyNDM=", "number": 2032, "title": "ninja uninstall does not remove empty directories", "user": {"login": "whot", "id": 1487352, "node_id": "MDQ6VXNlcjE0ODczNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1487352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whot", "html_url": "https://github.com/whot", "followers_url": "https://api.github.com/users/whot/followers", "following_url": "https://api.github.com/users/whot/following{/other_user}", "gists_url": "https://api.github.com/users/whot/gists{/gist_id}", "starred_url": "https://api.github.com/users/whot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whot/subscriptions", "organizations_url": "https://api.github.com/users/whot/orgs", "repos_url": "https://api.github.com/users/whot/repos", "events_url": "https://api.github.com/users/whot/events{/privacy}", "received_events_url": "https://api.github.com/users/whot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-03T23:32:33Z", "updated_at": "2017-08-18T03:45:58Z", "closed_at": "2017-08-18T03:45:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If a directory is created as part of `ninja install`, it is not removed on `ninja uninstall`. Simplest meson.build file to reproduce is:\r\n````\r\nproject('test')\r\ninstall_data('foo.txt',\r\n    install_dir : join_paths(get_option('datadir'), 'test'))\r\n````\r\nThen install and uninstall\r\n````\r\nmeson build --prefix=/tmp/test\r\nninja -C build install\r\nninja -C build uninstall\r\n````\r\nAnd the `share/test` directory is left behind:\r\n```\r\n$ tree /tmp/test\r\n/tmp/test\r\n\u2514\u2500\u2500 share\r\n    \u2514\u2500\u2500 test\r\n\r\n2 directories, 0 files\r\n````\r\nArguably, for the top-level directories `share`, `lib`, etc. that doesn't matter that much, but any project-specific ones shouldn't be left.\r\n\r\nIssue present with meson 917e12e4e722e0c946dc (0.41.1+)", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2032/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2027", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/2027/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/2027/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/2027/events", "html_url": "https://github.com/mesonbuild/meson/issues/2027", "id": 240148165, "node_id": "MDU6SXNzdWUyNDAxNDgxNjU=", "number": 2027, "title": "Release notes for 0.41: typo", "user": {"login": "amitdo", "id": 13571208, "node_id": "MDQ6VXNlcjEzNTcxMjA4", "avatar_url": "https://avatars.githubusercontent.com/u/13571208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amitdo", "html_url": "https://github.com/amitdo", "followers_url": "https://api.github.com/users/amitdo/followers", "following_url": "https://api.github.com/users/amitdo/following{/other_user}", "gists_url": "https://api.github.com/users/amitdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/amitdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amitdo/subscriptions", "organizations_url": "https://api.github.com/users/amitdo/orgs", "repos_url": "https://api.github.com/users/amitdo/repos", "events_url": "https://api.github.com/users/amitdo/events{/privacy}", "received_events_url": "https://api.github.com/users/amitdo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 575908313, "node_id": "MDU6TGFiZWw1NzU5MDgzMTM=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/documentation", "name": "documentation", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-03T11:43:30Z", "updated_at": "2017-07-04T20:55:24Z", "closed_at": "2017-07-04T20:55:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "http://mesonbuild.com/Release-notes-for-0-41-0.html#running-mesonintrospect-from-scripts\r\nvcs_tag keyword fallback **is is** now optional\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/2027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/2027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1993", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1993/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1993/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1993/events", "html_url": "https://github.com/mesonbuild/meson/issues/1993", "id": 238254943, "node_id": "MDU6SXNzdWUyMzgyNTQ5NDM=", "number": 1993, "title": "DLL import lib placed in subdirectory despite --layout=flat ", "user": {"login": "melak47", "id": 3340026, "node_id": "MDQ6VXNlcjMzNDAwMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/3340026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melak47", "html_url": "https://github.com/melak47", "followers_url": "https://api.github.com/users/melak47/followers", "following_url": "https://api.github.com/users/melak47/following{/other_user}", "gists_url": "https://api.github.com/users/melak47/gists{/gist_id}", "starred_url": "https://api.github.com/users/melak47/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melak47/subscriptions", "organizations_url": "https://api.github.com/users/melak47/orgs", "repos_url": "https://api.github.com/users/melak47/repos", "events_url": "https://api.github.com/users/melak47/events{/privacy}", "received_events_url": "https://api.github.com/users/melak47/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-23T21:12:26Z", "updated_at": "2017-08-04T16:50:45Z", "closed_at": "2017-08-04T16:50:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I build this [example project](https://github.com/melak47/repro) with\r\n\r\n```\r\nmeson target --layout=flat\r\ncd target\r\nninja -v\r\n```\r\n\r\nI get:\r\n```\r\n[1/5] c++ @meson-out/repro@exe/src_main.cpp.obj.rsp\r\n[2/5] c++ @meson-out/foo@sha/src_foo.cpp.obj.rsp\r\n[3/5] c++ @meson-out/libfoo.dll.rsp\r\n[4/5] \"c:\\python36\\python.exe\" \"C:\\Python36\\Scripts\\meson.py\" --internal symbolextractor meson-out/libfoo.dll meson-out/foo@sha/meson-out/libfoo.dll.symbols\r\n[5/5] c++ @meson-out/repro.exe.rsp\r\nFAILED: meson-out/repro.exe\r\nc++ @meson-out/repro.exe.rsp\r\nc++: error: meson-out\\libfoo.dll.a: No such file or directory\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nThe `libfoo.dll` target is defined in the `vendor/foo` subdirectory.\r\n`libfoo.dll` is correctly put into the `target/meson-out` directory, but `libfoo.dll.a` is put into `target/vendor/foo` (as with `--layout=mirror`):\r\n\r\n```\r\n.                                 \r\n\u251c\u2500\u2500 meson-private                 \r\n\u2502   ...\r\n\u251c\u2500\u2500 meson-out                     \r\n\u2502   \u251c\u2500\u2500 libfoo.dll                \r\n\u2502   \u251c\u2500\u2500 foo@sha                   \r\n\u2502   \u2502   \u251c\u2500\u2500 src_foo.cpp.obj       \r\n\u2502   \u2502   \u2514\u2500\u2500 meson-out             \r\n\u2502   \u2502       \u2514\u2500\u2500 libfoo.dll.symbols\r\n\u2502   \u251c\u2500\u2500 repro@exe                 \r\n\u2502   \u2502   \u2514\u2500\u2500 src_main.cpp.obj      \r\n\u2502   \u2514\u2500\u2500 repro.exe.rsp             \r\n\u251c\u2500\u2500 build.ninja                   \r\n\u251c\u2500\u2500 vendor                        \r\n\u2502   \u2514\u2500\u2500 foo                       \r\n\u2502       \u2514\u2500\u2500 libfoo.dll.a          \r\n\u251c\u2500\u2500 meson-logs                    \r\n\u2502   \u2514\u2500\u2500 meson-log.txt             \r\n\u2514\u2500\u2500 compile_commands.json         \r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1993/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1993/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1991", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1991/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1991/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1991/events", "html_url": "https://github.com/mesonbuild/meson/issues/1991", "id": 238107512, "node_id": "MDU6SXNzdWUyMzgxMDc1MTI=", "number": 1991, "title": "Tells me to just run ninja but that fails", "user": {"login": "hadess", "id": 769861, "node_id": "MDQ6VXNlcjc2OTg2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/769861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hadess", "html_url": "https://github.com/hadess", "followers_url": "https://api.github.com/users/hadess/followers", "following_url": "https://api.github.com/users/hadess/following{/other_user}", "gists_url": "https://api.github.com/users/hadess/gists{/gist_id}", "starred_url": "https://api.github.com/users/hadess/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hadess/subscriptions", "organizations_url": "https://api.github.com/users/hadess/orgs", "repos_url": "https://api.github.com/users/hadess/repos", "events_url": "https://api.github.com/users/hadess/events{/privacy}", "received_events_url": "https://api.github.com/users/hadess/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 575908313, "node_id": "MDU6TGFiZWw1NzU5MDgzMTM=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/documentation", "name": "documentation", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-06-23T10:46:28Z", "updated_at": "2018-09-18T15:05:42Z", "closed_at": "2018-09-18T15:05:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using `meson-0.41.1-1.fc26.noarch`, I'm trying to port totem to meson:\r\nhttps://bugzilla.gnome.org/show_bug.cgi?id=783205\r\n\r\nAfter a few build attempts and thinking my jhbuild gobject-introspection is broken, I run `jhbuild uninstall gobject-introspection`. Now running ninja says:\r\n```\r\nninja: error: '/home/hadess/Projects/gnome-install/bin/g-ir-scanner', needed by 'src/Totem-1.0.gir', missing and no known rule to make it\r\n```\r\n\r\nFair enough, it's not there any more. Let's run meson for it to find the dependencies again:\r\n```\r\nError during basic setup:\r\n\r\nTrying to run Meson on a build directory that has already been configured.\r\nIf you want to build it, just run your build command (e.g. ninja) inside the\r\nbuild directory. Meson will autodetect any changes in your setup and regenerate\r\nitself as required.\r\n\r\nIf you want to change option values, use the mesonconf tool instead.\r\n```\r\n\r\nI probably shouldn't have to nuke my build directory to get out of this loop.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1991/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1989", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1989/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1989/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1989/events", "html_url": "https://github.com/mesonbuild/meson/issues/1989", "id": 237951681, "node_id": "MDU6SXNzdWUyMzc5NTE2ODE=", "number": 1989, "title": "Traceback when trying to use sparse", "user": {"login": "hughsie", "id": 151380, "node_id": "MDQ6VXNlcjE1MTM4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/151380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hughsie", "html_url": "https://github.com/hughsie", "followers_url": "https://api.github.com/users/hughsie/followers", "following_url": "https://api.github.com/users/hughsie/following{/other_user}", "gists_url": "https://api.github.com/users/hughsie/gists{/gist_id}", "starred_url": "https://api.github.com/users/hughsie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hughsie/subscriptions", "organizations_url": "https://api.github.com/users/hughsie/orgs", "repos_url": "https://api.github.com/users/hughsie/repos", "events_url": "https://api.github.com/users/hughsie/events{/privacy}", "received_events_url": "https://api.github.com/users/hughsie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-06-22T19:38:31Z", "updated_at": "2017-06-26T18:16:15Z", "closed_at": "2017-06-26T18:16:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried to run `sparse` on my newly meson-ified project. A traceback was encountered which wasn't super friendly:\r\n\r\n    $ CC=cgcc meson ../ --prefix=/home/hughsie/.root\r\n    The Meson build system\r\n    Version: 0.42.0.dev1\r\n    Source dir: /home/hughsie/Code/fwupd\r\n    Build dir: /home/hughsie/Code/fwupd/build\r\n    Build type: native build\r\n    Project name: fwupd\r\n    Traceback (most recent call last):\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 307, in run\r\n        app.generate()\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/mesonmain.py\", line 172, in generate\r\n        intr = interpreter.Interpreter(b, g)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 1240, in __init__\r\n        self.parse_project()\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 111, in parse_project\r\n        self.evaluate_codeblock(self.ast, end=1)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 146, in evaluate_codeblock\r\n        raise e\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 140, in evaluate_codeblock\r\n        self.evaluate_statement(cur)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 151, in evaluate_statement\r\n        return self.function_call(cur)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 361, in function_call\r\n        return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreterbase.py\", line 55, in wrapped\r\n        return f(self, node, args, kwargs)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 1673, in func_project\r\n        self.add_languages(proj_langs, True)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 1789, in add_languages\r\n        (comp, cross_comp) = self.detect_compilers(lang, need_cross_compiler)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/interpreter.py\", line 1712, in detect_compilers\r\n        comp = self.environment.detect_c_compiler(False)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/environment.py\", line 504, in detect_c_compiler\r\n        return self._detect_c_or_cpp_compiler('c', 'CC', want_cross)\r\n      File \"/usr/lib/python3.6/site-packages/mesonbuild/environment.py\", line 475, in _detect_c_or_cpp_compiler\r\n        popen_exceptions[compiler] = 'no pre-processor defines'\r\n    TypeError: unhashable type: 'list'\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1989/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1980", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1980/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1980/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1980/events", "html_url": "https://github.com/mesonbuild/meson/issues/1980", "id": 237610010, "node_id": "MDU6SXNzdWUyMzc2MTAwMTA=", "number": 1980, "title": "git submodule status parsing incomplete, results in backtrace", "user": {"login": "wberrier", "id": 329898, "node_id": "MDQ6VXNlcjMyOTg5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/329898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wberrier", "html_url": "https://github.com/wberrier", "followers_url": "https://api.github.com/users/wberrier/followers", "following_url": "https://api.github.com/users/wberrier/following{/other_user}", "gists_url": "https://api.github.com/users/wberrier/gists{/gist_id}", "starred_url": "https://api.github.com/users/wberrier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wberrier/subscriptions", "organizations_url": "https://api.github.com/users/wberrier/orgs", "repos_url": "https://api.github.com/users/wberrier/repos", "events_url": "https://api.github.com/users/wberrier/events{/privacy}", "received_events_url": "https://api.github.com/users/wberrier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-21T17:32:37Z", "updated_at": "2021-11-21T22:33:17Z", "closed_at": "2021-11-21T22:33:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently (0.41.1) it parses ' ' and '-', but not '+', resulting in a backtrace (mesonbuild/wrap/wrap.py).\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1980/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1980/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1979", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1979/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1979/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1979/events", "html_url": "https://github.com/mesonbuild/meson/issues/1979", "id": 237599077, "node_id": "MDU6SXNzdWUyMzc1OTkwNzc=", "number": 1979, "title": "Qt4 dependency support broken", "user": {"login": "philtherobot", "id": 11130673, "node_id": "MDQ6VXNlcjExMTMwNjcz", "avatar_url": "https://avatars.githubusercontent.com/u/11130673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philtherobot", "html_url": "https://github.com/philtherobot", "followers_url": "https://api.github.com/users/philtherobot/followers", "following_url": "https://api.github.com/users/philtherobot/following{/other_user}", "gists_url": "https://api.github.com/users/philtherobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/philtherobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philtherobot/subscriptions", "organizations_url": "https://api.github.com/users/philtherobot/orgs", "repos_url": "https://api.github.com/users/philtherobot/repos", "events_url": "https://api.github.com/users/philtherobot/events{/privacy}", "received_events_url": "https://api.github.com/users/philtherobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-21T16:50:00Z", "updated_at": "2017-06-29T10:09:47Z", "closed_at": "2017-06-29T09:21:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a project with a dependency on Qt4, Windows platform.\r\n\r\nI am getting this error when I run `meson buildir`:\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.41.1\r\nSource dir: C:\\devextra\\meson_tuto\r\nBuild dir: C:\\devextra\\meson_tuto\\buildir\r\nBuild type: native build\r\nProject name: tutorial\r\nNative cpp compiler: cl (msvc 19.10.25017)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nWARNING: rcc dependencies will not work properly until this upstream issue is fixed: https://bugreports.qt.io/browse/QTBUG-45460\r\nFound Pkg-config: NO\r\nFound qmake: qmake (4.8.7)\r\n\r\nMeson encountered an error in file meson.build, line 5, column 0:\r\nQt4 native dependency not found (checked pkgconfig, qmake-qt4 and qmake)\r\n```\r\n\r\nI looked in the meson code (0.41.1) and found that the issue is due to `_qmake_detect` (in dependencies/ui.py, line 294) not generating the library name correctly *for a Qt4* dependency.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1977", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1977/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1977/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1977/events", "html_url": "https://github.com/mesonbuild/meson/issues/1977", "id": 237547201, "node_id": "MDU6SXNzdWUyMzc1NDcyMDE=", "number": 1977, "title": "dist should warn if you have uncommitted changes while creating the tarball", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-21T14:08:28Z", "updated_at": "2018-09-28T19:56:00Z", "closed_at": "2018-09-28T19:56:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n<nirbheek> hadess, dist will always build from the tarball \r\n<hadess> what\r\n<nirbheek> It'll extract it to a temporary directory then build it there\r\n<hadess> nirbheek, the tarball that doesn't pass \"check\"?\r\n<hadess> that doesn't seem like the right thing to do either\r\n<nirbheek> The tarball that is created anew from HEAD each time you run dist\r\n<nirbheek> If you have uncommitted changes it won't put those in, fwict\r\n<hadess> nirbheek, this is horrible\r\n<nirbheek> Shouldn't it always build the dist tarball from the changes in git?\r\n<hadess> i've been trying to fix tests that probably worked 20 minutes\r\n<hadess> 20 minutes ago\r\n<nirbheek> It should warn that you have uncommitted changes while doing dist, yes\r\n<hadess> that would be helpful :)\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1977/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1977/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1976", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1976/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1976/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1976/events", "html_url": "https://github.com/mesonbuild/meson/issues/1976", "id": 237544781, "node_id": "MDU6SXNzdWUyMzc1NDQ3ODE=", "number": 1976, "title": "dist target removes build directory even if dist failed", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-21T14:00:54Z", "updated_at": "2020-02-17T16:36:15Z", "closed_at": "2020-02-17T16:36:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```python\r\ndef check_dist():\r\n    unpackdir = tempfile.mkdtemp() \r\n    builddir = tempfile.mkdtemp()  \r\n    installdir = tempfile.mkdtemp()\r\n    ninja_bin = detect_ninja()     \r\n    try:\r\n        [...]   \r\n    finally:                       \r\n        shutil.rmtree(unpackdir)   \r\n        shutil.rmtree(builddir)    \r\n        shutil.rmtree(installdir)  \r\n```\r\n\r\nThe rmtrees in the `finally:` block should not be called when returning early.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1976/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1975", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1975/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1975/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1975/events", "html_url": "https://github.com/mesonbuild/meson/issues/1975", "id": 237497920, "node_id": "MDU6SXNzdWUyMzc0OTc5MjA=", "number": 1975, "title": "cc.has_header_symbol() does not work for struct definitions", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 580821602, "node_id": "MDU6TGFiZWw1ODA4MjE2MDI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/systemd", "name": "systemd", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-06-21T11:11:05Z", "updated_at": "2021-11-16T15:13:05Z", "closed_at": "2021-11-16T12:08:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```meson\r\n# Always succeeds\r\ncc.has_header_symbol('linux/fs.h', 'struct file_clone_range')\r\n\r\n# Always fails\r\ncc.has_header_symbol('linux/fs.h', 'file_clone_range')\r\n```\r\n\r\nThis is because our check evaluates to:\r\n\r\n```c\r\nstruct file_clone_range;\r\n```\r\n\r\nWhich is just a prototype definition.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1975/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1975/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1967", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1967/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1967/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1967/events", "html_url": "https://github.com/mesonbuild/meson/issues/1967", "id": 237072970, "node_id": "MDU6SXNzdWUyMzcwNzI5NzA=", "number": 1967, "title": "SELinux context wrong after install", "user": {"login": "whot", "id": 1487352, "node_id": "MDQ6VXNlcjE0ODczNTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1487352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whot", "html_url": "https://github.com/whot", "followers_url": "https://api.github.com/users/whot/followers", "following_url": "https://api.github.com/users/whot/following{/other_user}", "gists_url": "https://api.github.com/users/whot/gists{/gist_id}", "starred_url": "https://api.github.com/users/whot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whot/subscriptions", "organizations_url": "https://api.github.com/users/whot/orgs", "repos_url": "https://api.github.com/users/whot/repos", "events_url": "https://api.github.com/users/whot/events{/privacy}", "received_events_url": "https://api.github.com/users/whot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-06-20T02:10:47Z", "updated_at": "2017-07-31T22:45:39Z", "closed_at": "2017-07-31T22:45:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The selinux context is wrong after a ninja install. Found this during the libinput installs  and that's just a normal .so file. For the example here I'm using libratbag because we're overwriting system files and it doesn't matter much if libratbag breaks, your desktop won't go down because of it. The reason I'm picking an existing library is because that has a guaranteed SELinux context after system install as opposed to something new that may fall through the cracks of the SELinux policy.\r\n\r\nReproducer:\r\n\r\n* Fedora 25 with SELinux enabled (i.e. standard config)\r\n*  sudo dnf install -y libratbag\r\n\r\nThe context is:\r\n```\r\n$ ls -lZ /usr/lib64/libratbag.so.4.0.3\r\n-rwxr-xr-x. 1 root root system_u:object_r:lib_t:s0 155944 Jun  6 23:41 /usr/lib64/libratbag.so.4.0.3\r\n```\r\nmeson.build file\r\n```meson\r\nproject('test', 'c', version : '0')\r\nlib_test = shared_library('ratbag',\r\n\t'test.c',\r\n\t version : '4.0.3', # Matches F25 soname\r\n\t install: true)\r\n```\r\n\r\n```\r\n$ touch test.c\r\n$ meson builddir --prefix=/usr\r\n$ ninja -C builddir\r\n$ sudo ninja -C builddir install\r\n\r\n$ ls -lZ /usr/lib64/libratbag.so.4.0.3\r\n-rwxrwxr-x. 1 root root unconfined_u:object_r:user_tmp_t:s0 7904 Jun 20 11:58 /usr/lib64/libratbag.so.4.0.3\r\n\r\n# must run restorecon to fix it\r\n$ sudo restorecon /usr/lib64/libratbag.*\r\n$  ls -lZ /usr/lib64/libratbag.so.4.0.3\r\n-rwxrwxr-x. 1 root root unconfined_u:object_r:lib_t:s0 7904 Jun 20 11:58 /usr/lib64/libratbag.so.4.0.3\r\n```\r\nNote how it's still ```unconfined_u``` instead of ```system_u``` after restorecon but at least this doesn't trigger SELinux denials anymore. In the case of libinput a denial prevents gdm from starting up, which is a tad annoying to some users :)\r\n\r\n\r\nAutotools uses ```/usr/bin/install``` instead and that works (even when run manually):\r\n````\r\n$ sudo /usr/bin/install builddir/libratbag.so.4.0.3 /usr/lib64/libratbag.so.4.0.3 \r\n$ ls -lZ /usr/lib64/libratbag.so.4.0.3 \r\n-rwxr-xr-x. 1 root root system_u:object_r:lib_t:s0 7904 Jun 20 12:05 /usr/lib64/libratbag.so.4.0.3\r\n````\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1958", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1958/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1958/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1958/events", "html_url": "https://github.com/mesonbuild/meson/issues/1958", "id": 236749985, "node_id": "MDU6SXNzdWUyMzY3NDk5ODU=", "number": 1958, "title": "BoostDependency must only read BOOST_LIBRARYDIR during object init", "user": {"login": "wberrier", "id": 329898, "node_id": "MDQ6VXNlcjMyOTg5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/329898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wberrier", "html_url": "https://github.com/wberrier", "followers_url": "https://api.github.com/users/wberrier/followers", "following_url": "https://api.github.com/users/wberrier/following{/other_user}", "gists_url": "https://api.github.com/users/wberrier/gists{/gist_id}", "starred_url": "https://api.github.com/users/wberrier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wberrier/subscriptions", "organizations_url": "https://api.github.com/users/wberrier/orgs", "repos_url": "https://api.github.com/users/wberrier/repos", "events_url": "https://api.github.com/users/wberrier/events{/privacy}", "received_events_url": "https://api.github.com/users/wberrier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-18T22:34:08Z", "updated_at": "2018-02-12T15:04:53Z", "closed_at": "2017-07-14T16:31:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks to be because get_link_args inspects the environment.\r\n\r\nInstead, configuring the dependency should inspect the environment and store appropriately.\r\n\r\nI'll be working on a fix, but am logging this in the meantime.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1958/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1950", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1950/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1950/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1950/events", "html_url": "https://github.com/mesonbuild/meson/issues/1950", "id": 236627407, "node_id": "MDU6SXNzdWUyMzY2Mjc0MDc=", "number": 1950, "title": "gtkdoc dependencies produce invalid search paths", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-17T00:39:31Z", "updated_at": "2017-06-22T10:00:13Z", "closed_at": "2017-06-22T10:00:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If I add a `print` at the beginning of [`gtkdoc_run_check`](https://github.com/mesonbuild/meson/blob/master/mesonbuild/scripts/gtkdochelper.py#L48):\r\n```\r\n['gtkdoc-scangobj',\r\n '--types=finch.types',\r\n '--module=finch',\r\n '--cflags=-I@BUILD_ROOT@/. -I@SOURCE_ROOT@/. -I@BUILD_ROOT@/finch/. -I@SOURCE_ROOT@/finch/. -pthread -I/usr/include/gstreamer-1.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/gplugin-1.0/ -I@BUILD_ROOT@/libpurple/. -I@SOURCE_ROOT@/libpurple/. -I/usr/include/dbus-1.0 -I/usr/lib64/dbus-1.0/include -I/usr/include/libxml2 -I/usr/include/farstream-0.2 -I/usr/include/json-glib-1.0 -I/usr/include/p11-kit-1 -I/usr/include/nss3 -I/usr/include/nspr4 -I@BUILD_ROOT@/finch/libgnt/. -I@SOURCE_ROOT@/finch/libgnt/. -I/usr/include/ncursesw', '--ldflags=-lfinch -Lfinch -L/home/elliott/code/pidgin-hg/build/finch -L/home/elliott/code/pidgin-hg/build/libpurple -L/home/elliott/code/pidgin-hg/build/finch/libgnt -Wl,-rpath,finch -lgstreamer-1.0 -lgobject-2.0 -lglib-2.0 -lgplugin -lgmodule-2.0 -pthread -lgio-2.0 -lncursesw -lpanelw -lpurple -Llibpurple -Wl,-rpath,libpurple -ldbus-1 -ldbus-glib-1 -lxml2 -lfarstream-0.2 -lgstbase-1.0 -lgstvideo-1.0 -lgstapp-1.0 -lidn -ljson-glib-1.0 -lgnutls -lssl3 -lsmime3 -lnss3 -lnssutil3 -lplds4 -lplc4 -lnspr4 -lpthread -ldl -lz -lm -lgnt -Lfinch/libgnt -Wl,-rpath,finch/libgnt']\r\n```\r\nwhere `gtkdoc` is called approximately like:\r\n```meson\r\nlibfinch_inc = include_directories('somewhere')\r\nlibfinch_dep = declare_dependency(\r\n    link_with : library('finch', ...),\r\n    include_directories : [libfinch_inc, other stuff],\r\n    dependencies : [gstreamer, glib, etc.])\r\n\r\nDOC_MODULE = 'finch'\r\ngnome.gtkdoc(DOC_MODULE,\r\n    main_xml : DOC_MODULE + '-docs.xml',\r\n    src_dir : libfinch_inc,\r\n    dependencies : libfinch_dep,\r\n    gobject_typesfile : 'finch.types',\r\n    scan_args : scan_args)\r\n```\r\n\r\nYou can see that `@BUILD_ROOT@` and `@SOURCE_ROOT@` are not replaced, and the linker paths are relative to the source instead of build+source. I think the problem is it creates a `RunTarget` which does no substitutions and runs out an unspecified directory.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1950/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1945", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1945/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1945/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1945/events", "html_url": "https://github.com/mesonbuild/meson/issues/1945", "id": 235954997, "node_id": "MDU6SXNzdWUyMzU5NTQ5OTc=", "number": 1945, "title": "CCompiler.get_library_dirs assumes en locale and fails on es_ES (and probably other locales)", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-06-14T17:34:22Z", "updated_at": "2017-12-13T19:30:23Z", "closed_at": "2017-12-13T19:30:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is the output of `cc --print-search-dirs` on en_US:\r\n\r\n```\r\ninstall: /usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/\r\nprograms: =/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/bin/\r\nlibraries: =/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/lib/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/lib/../lib/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../lib/:/lib/x86_64-pc-linux-gnu/7.1.1/:/lib/../lib/:/usr/lib/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/lib/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../:/lib/:/usr/lib/\r\n```\r\n\r\nAnd on es_ES:\r\n\r\n```\r\ninstalar: /usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/\r\nprogramas: =/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/bin/\r\nbibliotecas: =/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/lib/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/lib/../lib/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../x86_64-pc-linux-gnu/7.1.1/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../lib/:/lib/x86_64-pc-linux-gnu/7.1.1/:/lib/../lib/:/usr/lib/x86_64-pc-linux-gnu/7.1.1/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../../x86_64-pc-linux-gnu/lib/:/usr/lib/gcc/x86_64-pc-linux-gnu/7.1.1/../../../:/lib/:/usr/lib/\r\n```\r\n\r\nWe look for `libraries:`, but maybe we should pick the last line instead. Because of this, `cc.find_library()` fails to find libraries in the search path (f.ex. static libraries that need symbols from other libraries at link time).\r\n\r\nReported on IRC by `chuckdaniels`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1945/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1942", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1942/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1942/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1942/events", "html_url": "https://github.com/mesonbuild/meson/issues/1942", "id": 235764795, "node_id": "MDU6SXNzdWUyMzU3NjQ3OTU=", "number": 1942, "title": "custom_target's build_always shouldn't imply build_by_default", "user": {"login": "TingPing", "id": 798838, "node_id": "MDQ6VXNlcjc5ODgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/798838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TingPing", "html_url": "https://github.com/TingPing", "followers_url": "https://api.github.com/users/TingPing/followers", "following_url": "https://api.github.com/users/TingPing/following{/other_user}", "gists_url": "https://api.github.com/users/TingPing/gists{/gist_id}", "starred_url": "https://api.github.com/users/TingPing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TingPing/subscriptions", "organizations_url": "https://api.github.com/users/TingPing/orgs", "repos_url": "https://api.github.com/users/TingPing/repos", "events_url": "https://api.github.com/users/TingPing/events{/privacy}", "received_events_url": "https://api.github.com/users/TingPing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-14T05:16:52Z", "updated_at": "2018-06-18T10:49:41Z", "closed_at": "2018-06-18T10:49:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If you set `build_always` to `true` on a `custom_target` it will build it by default rather than explicit only.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1942/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1942/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1937", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1937/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1937/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1937/events", "html_url": "https://github.com/mesonbuild/meson/issues/1937", "id": 235700496, "node_id": "MDU6SXNzdWUyMzU3MDA0OTY=", "number": 1937, "title": "dependency('valgrind') is broken", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-13T21:36:46Z", "updated_at": "2017-06-20T06:24:35Z", "closed_at": "2017-06-17T09:33:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```Python traceback\r\n[...]\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/dependencies/base.py\", line 610, in find_external_dependency\r\n    dep = packages[lname](env, kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mesonbuild/dependencies/dev.py\", line 239, in __init__\r\n    super().__init__('valgrind', env, None, kwargs)\r\nTypeError: __init__() takes 4 positional arguments but 5 were given\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1915", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1915/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1915/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1915/events", "html_url": "https://github.com/mesonbuild/meson/issues/1915", "id": 234432138, "node_id": "MDU6SXNzdWUyMzQ0MzIxMzg=", "number": 1915, "title": "Order of -L and -l flags is incorrect during GIR generation", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-08T07:14:34Z", "updated_at": "2018-11-05T19:42:42Z", "closed_at": "2017-11-25T00:18:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Originally reported here: https://github.com/mesonbuild/meson/issues/1427#issuecomment-306926562\r\n\r\n[meson-link-ordering.txt](https://github.com/mesonbuild/meson/files/1059335/meson-link-ordering.txt)\r\n\r\nRelevant part: `g-ir-scanner [...] '-ldazzle-1.0' [...] '-L/home/garrett/hacking/gnome/libdazzle/_mesonbuild/src'`. These two should be reversed.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1915/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1915/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1913", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1913/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1913/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1913/events", "html_url": "https://github.com/mesonbuild/meson/issues/1913", "id": 234405772, "node_id": "MDU6SXNzdWUyMzQ0MDU3NzI=", "number": 1913, "title": "VS backend doesn't respect warning_level/--warnlevel", "user": {"login": "bugQ", "id": 3159, "node_id": "MDQ6VXNlcjMxNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bugQ", "html_url": "https://github.com/bugQ", "followers_url": "https://api.github.com/users/bugQ/followers", "following_url": "https://api.github.com/users/bugQ/following{/other_user}", "gists_url": "https://api.github.com/users/bugQ/gists{/gist_id}", "starred_url": "https://api.github.com/users/bugQ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bugQ/subscriptions", "organizations_url": "https://api.github.com/users/bugQ/orgs", "repos_url": "https://api.github.com/users/bugQ/repos", "events_url": "https://api.github.com/users/bugQ/events{/privacy}", "received_events_url": "https://api.github.com/users/bugQ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-08T04:03:03Z", "updated_at": "2017-06-08T17:18:22Z", "closed_at": "2017-06-08T17:18:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "All generated VS projects use `/W1` regardless of warning level.\r\n\r\nVisualStudioCPPCompiler correctly returns `'/W4'` for `get_warn_args('3')`, so it's clearly the backend that's failing to use it.\r\n\r\nI'm currently trying to trace the problem in order to create a pull request for it.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1913/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1910", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1910/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1910/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1910/events", "html_url": "https://github.com/mesonbuild/meson/issues/1910", "id": 234217798, "node_id": "MDU6SXNzdWUyMzQyMTc3OTg=", "number": 1910, "title": "gnome.generate_gir() is failing with address sanitizer.", "user": {"login": "hughsie", "id": 151380, "node_id": "MDQ6VXNlcjE1MTM4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/151380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hughsie", "html_url": "https://github.com/hughsie", "followers_url": "https://api.github.com/users/hughsie/followers", "following_url": "https://api.github.com/users/hughsie/following{/other_user}", "gists_url": "https://api.github.com/users/hughsie/gists{/gist_id}", "starred_url": "https://api.github.com/users/hughsie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hughsie/subscriptions", "organizations_url": "https://api.github.com/users/hughsie/orgs", "repos_url": "https://api.github.com/users/hughsie/repos", "events_url": "https://api.github.com/users/hughsie/events{/privacy}", "received_events_url": "https://api.github.com/users/hughsie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-07T13:55:19Z", "updated_at": "2017-06-22T10:19:30Z", "closed_at": "2017-06-22T10:19:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Compiling fwupd with:\r\n\r\n    meson .. -Db_sanitize=address\r\n\r\n...completes until it gets to the `g-ir-scanner` calls. This returns:\r\n\r\n    [1/4] 'Generating Fwupd-1.0.gir with a custom command.'\r\n    FAILED: libfwupd/Fwupd-1.0.gir \r\n    '/usr/bin/g-ir-scanner' '../libfwupd/fwupd-client.c' '../libfwupd/fwupd-enums.c' '../libfwupd/fwupd-enums.h' '../libfwupd/fwupd-error.c' '../libfwupd/fwupd-remote.c' '../libfwupd/fwupd-result.c' '-I/usr/include/gobject-introspection-1.0' '-I/usr/include/glib-2.0' '-I/usr/lib64/glib-2.0/include' '-pthread' '--no-libtool' '--namespace=Fwupd' '--nsversion=1.0' '--warn-all' '--output' 'libfwupd/Fwupd-1.0.gir' '-I/home/hughsie/Code/fwupd/libfwupd' '-I/home/hughsie/Code/fwupd/build/libfwupd' '-I./libfwupd/..' '-I../libfwupd/..' '--include=GObject-2.0' '--cflags-begin' '-fstack-protector-strong' '-Wwrite-strings' '--cflags-end' '--symbol-prefix=fwupd' '--identifier-prefix=Fwupd' '--pkg-export=fwupd' '..' '-I/usr/include/gio-unix-2.0/' '-I/usr/include/glib-2.0' '-I/usr/lib64/glib-2.0/include' '-pthread' '-I/usr/include/libsoup-2.4' '-I/usr/include/libxml2' '-L/home/hughsie/Code/fwupd/build/libfwupd' '--extra-library=gio-2.0' '--extra-library=gobject-2.0' '--extra-library=glib-2.0' '--extra-library=soup-2.4' '--library' 'fwupd'\r\n    ==6599==ASan runtime does not come first in initial library list; you should either link runtime to your application or manually preload it with LD_PRELOAD.\r\n    Command '[u'/home/hughsie/Code/fwupd/build/tmp-introspectKke532/Fwupd-1.0', u'--introspect-dump=/home/hughsie/Code/fwupd/build/tmp-introspectKke532/functions.txt,/home/hughsie/Code/fwupd/build/tmp-introspectKke532/dump.xml']' returned non-zero exit status 1\r\n\r\nI think the gnome module needs to remove the address sanitization flags before passing them to `/usr/bin/g-ir-scanner`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1910/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1906", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1906/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1906/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1906/events", "html_url": "https://github.com/mesonbuild/meson/issues/1906", "id": 233742684, "node_id": "MDU6SXNzdWUyMzM3NDI2ODQ=", "number": 1906, "title": "pkg-config generate(), creates a pc file with backslashes on windows", "user": {"login": "duncanmcneal", "id": 29108420, "node_id": "MDQ6VXNlcjI5MTA4NDIw", "avatar_url": "https://avatars.githubusercontent.com/u/29108420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duncanmcneal", "html_url": "https://github.com/duncanmcneal", "followers_url": "https://api.github.com/users/duncanmcneal/followers", "following_url": "https://api.github.com/users/duncanmcneal/following{/other_user}", "gists_url": "https://api.github.com/users/duncanmcneal/gists{/gist_id}", "starred_url": "https://api.github.com/users/duncanmcneal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duncanmcneal/subscriptions", "organizations_url": "https://api.github.com/users/duncanmcneal/orgs", "repos_url": "https://api.github.com/users/duncanmcneal/repos", "events_url": "https://api.github.com/users/duncanmcneal/events{/privacy}", "received_events_url": "https://api.github.com/users/duncanmcneal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-05T23:53:45Z", "updated_at": "2017-11-29T11:57:05Z", "closed_at": "2017-11-29T11:57:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "pc files do not work with \\ on windows in my experience.\r\n\r\nI have to manually change the .pc files to have /,\r\n\r\ni.e. \r\n\r\nfrom\r\n\r\n`includedir=${prefix}\\include` \r\n\r\nto:\r\n\r\n`includedir=${prefix}/include`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1906/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1897", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1897/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1897/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1897/events", "html_url": "https://github.com/mesonbuild/meson/issues/1897", "id": 233455962, "node_id": "MDU6SXNzdWUyMzM0NTU5NjI=", "number": 1897, "title": "-rpath $ORIGIN is ignored at link time with GNU ld", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-04T20:00:56Z", "updated_at": "2017-06-07T17:02:24Z", "closed_at": "2017-06-07T17:02:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://sourceware.org/bugzilla/show_bug.cgi?id=16936\r\n\r\nThe best way to fix this while also preserving both `$ORIGIN` in the `DT_RPATH` of the output and the changes in #1545 is to also pass `-Wl,-rpath-link` with the full path to the subdirectories (without `$ORIGIN`).\r\n\r\nI checked and this does work as we want it to. But I am not sure why this wasn't caught on the CI. A lot of tests are failing on my machine (Fedora 25, binutils 2.26.1).\r\n\r\nWill submit a PR with a test for this.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1897/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1889", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1889/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1889/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1889/events", "html_url": "https://github.com/mesonbuild/meson/issues/1889", "id": 233379344, "node_id": "MDU6SXNzdWUyMzMzNzkzNDQ=", "number": 1889, "title": "subprojects always inherit c_std and cpp_std from the parent project", "user": {"login": "Timmmm", "id": 376842, "node_id": "MDQ6VXNlcjM3Njg0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/376842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Timmmm", "html_url": "https://github.com/Timmmm", "followers_url": "https://api.github.com/users/Timmmm/followers", "following_url": "https://api.github.com/users/Timmmm/following{/other_user}", "gists_url": "https://api.github.com/users/Timmmm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Timmmm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Timmmm/subscriptions", "organizations_url": "https://api.github.com/users/Timmmm/orgs", "repos_url": "https://api.github.com/users/Timmmm/repos", "events_url": "https://api.github.com/users/Timmmm/events{/privacy}", "received_events_url": "https://api.github.com/users/Timmmm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2017-06-03T16:18:43Z", "updated_at": "2022-10-12T11:12:51Z", "closed_at": "2022-03-24T15:28:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you have a main project that uses c11 for example, and then a subproject needs gnu99 for example, the subproject will actually be compiled with c11.\r\n\r\nI'm not sure meson pays any attention to language versions in subprojects.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1889/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1889/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1886", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1886/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1886/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1886/events", "html_url": "https://github.com/mesonbuild/meson/issues/1886", "id": 233363647, "node_id": "MDU6SXNzdWUyMzMzNjM2NDc=", "number": 1886, "title": "New-line handling in if statements is silently dangerous.", "user": {"login": "Timmmm", "id": 376842, "node_id": "MDQ6VXNlcjM3Njg0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/376842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Timmmm", "html_url": "https://github.com/Timmmm", "followers_url": "https://api.github.com/users/Timmmm/followers", "following_url": "https://api.github.com/users/Timmmm/following{/other_user}", "gists_url": "https://api.github.com/users/Timmmm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Timmmm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Timmmm/subscriptions", "organizations_url": "https://api.github.com/users/Timmmm/orgs", "repos_url": "https://api.github.com/users/Timmmm/repos", "events_url": "https://api.github.com/users/Timmmm/events{/privacy}", "received_events_url": "https://api.github.com/users/Timmmm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-06-03T11:24:43Z", "updated_at": "2017-06-27T09:26:46Z", "closed_at": "2017-06-27T08:12:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Consider the following `if` statement:\r\n\r\n```\r\nif get_option('enable_alsa') == 'true'\r\n\tor (get_option('enable_alsa') == 'auto' and meson.get_compiler('cpp').has_header('alsa/asoundlib.h'))\r\n```\r\n\r\nThe entire `or` clause is silently ignored. No errors or warnings, it just ignores it.\r\n\r\nIf I put it all one one line is fine, but that's kind of ugly. Does meson not support multi-line statements?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1886/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1886/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1865", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1865/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1865/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1865/events", "html_url": "https://github.com/mesonbuild/meson/issues/1865", "id": 231908322, "node_id": "MDU6SXNzdWUyMzE5MDgzMjI=", "number": 1865, "title": "Chaining configure_file() can cause ninja to go in an infinite loop", "user": {"login": "rindeal", "id": 5360877, "node_id": "MDQ6VXNlcjUzNjA4Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5360877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rindeal", "html_url": "https://github.com/rindeal", "followers_url": "https://api.github.com/users/rindeal/followers", "following_url": "https://api.github.com/users/rindeal/following{/other_user}", "gists_url": "https://api.github.com/users/rindeal/gists{/gist_id}", "starred_url": "https://api.github.com/users/rindeal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rindeal/subscriptions", "organizations_url": "https://api.github.com/users/rindeal/orgs", "repos_url": "https://api.github.com/users/rindeal/repos", "events_url": "https://api.github.com/users/rindeal/events{/privacy}", "received_events_url": "https://api.github.com/users/rindeal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/22", "html_url": "https://github.com/mesonbuild/meson/milestone/22", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/22/labels", "id": 2742877, "node_id": "MDk6TWlsZXN0b25lMjc0Mjg3Nw==", "number": 22, "title": "meson-next", "description": "The next features/bugs we should be working on. To prevent clutter, please only add issues that you intend to work on yourself.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 71, "state": "closed", "created_at": "2017-09-04T11:37:52Z", "updated_at": "2021-12-22T02:34:29Z", "due_on": null, "closed_at": "2020-04-27T17:59:47Z"}, "comments": 5, "created_at": "2017-05-29T01:16:49Z", "updated_at": "2017-09-26T18:46:56Z", "closed_at": "2017-09-26T18:46:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```meson\r\ncfg1 = configure_file(\r\n    ...\r\n)\r\ncfg2 = configure_file(\r\n    input: cfg1,\r\n    ...\r\n)\r\n```\r\n\r\nCurrently this is not possible, because cfg1 is saved in builddir and absolute path of the cfg1 File object  is trashed -\r\n https://github.com/mesonbuild/meson/blob/7882549f860730dda43fcc825b5beb75b0209410/mesonbuild/interpreter.py#L2338,  thus cfg2 is looking for cfg1 in the sourcedir.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1816", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1816/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1816/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1816/events", "html_url": "https://github.com/mesonbuild/meson/issues/1816", "id": 229570080, "node_id": "MDU6SXNzdWUyMjk1NzAwODA=", "number": 1816, "title": "Cannot specify to find a static library with find_library instead of the shared one", "user": {"login": "nacho", "id": 18858, "node_id": "MDQ6VXNlcjE4ODU4", "avatar_url": "https://avatars.githubusercontent.com/u/18858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nacho", "html_url": "https://github.com/nacho", "followers_url": "https://api.github.com/users/nacho/followers", "following_url": "https://api.github.com/users/nacho/following{/other_user}", "gists_url": "https://api.github.com/users/nacho/gists{/gist_id}", "starred_url": "https://api.github.com/users/nacho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nacho/subscriptions", "organizations_url": "https://api.github.com/users/nacho/orgs", "repos_url": "https://api.github.com/users/nacho/repos", "events_url": "https://api.github.com/users/nacho/events{/privacy}", "received_events_url": "https://api.github.com/users/nacho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-18T06:40:20Z", "updated_at": "2018-02-23T23:26:40Z", "closed_at": "2018-02-23T23:26:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you have a library like IPP which provides both the .a and the .so on the same directory there is no way to tell find_library to look for the static library instead of the shared one.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1816/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1813", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1813/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1813/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1813/events", "html_url": "https://github.com/mesonbuild/meson/issues/1813", "id": 229445653, "node_id": "MDU6SXNzdWUyMjk0NDU2NTM=", "number": 1813, "title": "Cannot use declare_dependency(sources: 'foo.c') in a build target with a file called 'foo.c'", "user": {"login": "zajo", "id": 609498, "node_id": "MDQ6VXNlcjYwOTQ5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/609498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zajo", "html_url": "https://github.com/zajo", "followers_url": "https://api.github.com/users/zajo/followers", "following_url": "https://api.github.com/users/zajo/following{/other_user}", "gists_url": "https://api.github.com/users/zajo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zajo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zajo/subscriptions", "organizations_url": "https://api.github.com/users/zajo/orgs", "repos_url": "https://api.github.com/users/zajo/repos", "events_url": "https://api.github.com/users/zajo/events{/privacy}", "received_events_url": "https://api.github.com/users/zajo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-05-17T18:22:55Z", "updated_at": "2021-08-27T02:55:35Z", "closed_at": "2021-08-27T02:55:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Run 'meson build' in the p1 project. This leads to an object file name clash for the object names deduced from f1.cpp and f1.cpp, one of which is in the project p1, the one in its subproject p2.\r\n[p1.zip](https://github.com/mesonbuild/meson/files/1008733/p1.zip)\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1813/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1803", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1803/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1803/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1803/events", "html_url": "https://github.com/mesonbuild/meson/issues/1803", "id": 228853374, "node_id": "MDU6SXNzdWUyMjg4NTMzNzQ=", "number": 1803, "title": "Difference between Redhat 7.2 and Linux Mint 18.1 with meson output", "user": {"login": "rhd", "id": 3422847, "node_id": "MDQ6VXNlcjM0MjI4NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3422847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhd", "html_url": "https://github.com/rhd", "followers_url": "https://api.github.com/users/rhd/followers", "following_url": "https://api.github.com/users/rhd/following{/other_user}", "gists_url": "https://api.github.com/users/rhd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhd/subscriptions", "organizations_url": "https://api.github.com/users/rhd/orgs", "repos_url": "https://api.github.com/users/rhd/repos", "events_url": "https://api.github.com/users/rhd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-05-15T21:36:06Z", "updated_at": "2017-10-01T21:32:44Z", "closed_at": "2017-10-01T21:32:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is an odd one. I am using the exact same version of meson on both machines.\r\n\r\n#### Redhat 7 (the working one)\r\n```\r\nThe Meson build system\r\nVersion: 0.40.0\r\nSource dir: /home/doolit/work/MDP1\r\nBuild dir: /home/doolit/work/MDP1/build\r\nBuild type: native build\r\nProject name: ECS\r\nNative c compiler: ccache cc (gcc 4.8.5)\r\nNative cpp compiler: ccache c++ (gcc 4.8.5)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nDependency threads found: YES\r\nLibrary rt found: YES\r\nLibrary crypt found: YES\r\nDependency Boost (system, regex) found: YES 1.53\r\n```\r\nThis results in:\r\n\r\n```\r\n\r\n[78/78] ccache c++  -o ECS/MDP1/Main/benchmarks/ratecontroller <snip .o> '-Wl,--no-undefined' '-Wl,--as-needed' <snip .so> '-pthread' '-lboost_system' '-lboost_regex' '-lboost_system' '-lboost_regex' '-lrt' '-Wl,-rpath,/work/MDP1/build/ECS/MDP1/Main'  \r\n```\r\n\r\n#### Mint Linux (the non-working version)\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.40.0\r\nSource dir: /home/doolit/work/MDP1\r\nBuild dir: /home/doolit/work/MDP1/build\r\nBuild type: native build\r\nProject name: ECS\r\nNative c compiler: ccache cc (gcc 5.4.0)\r\nNative cpp compiler: ccache c++ (gcc 5.4.0)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nDependency threads found: YES\r\nLibrary rt found: YES\r\nLibrary crypt found: YES\r\nDependency Boost (system, regex) found: YES 1.58\r\n```\r\nThis results in:\r\n\r\n```\r\n[78/78] ccache c++  -o ECS/MDP1/Main/benchmarks/ratecontroller <snip .o> '-Wl,--no-undefined' '-Wl,--as-needed' <snip .so> '-pthread' '-lboost_system' '-lboost_system' '-lrt' '-Wl,-rpath,/work/MDP1/build/ECS/MDP1/Main' \r\n```\r\n\r\nThe `Mint Linux` version produces `-lboost_system` twice and I have no clue why.\r\n\r\nI also tested with meson `0.40.1` with the same result.\r\n\r\nThoughts?\r\n\r\nUpdate: On the Mint Linux machine `cat build/build.ninja | grep boost_regex` produces nothing.. unlike the redhat machine", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1803/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1786", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1786/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1786/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1786/events", "html_url": "https://github.com/mesonbuild/meson/pull/1786", "id": 228254009, "node_id": "MDExOlB1bGxSZXF1ZXN0MTIwMjk1NDIy", "number": 1786, "title": "setup.py: dependencies is now a directory", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-12T10:39:54Z", "updated_at": "2017-05-12T22:01:11Z", "closed_at": "2017-05-12T15:54:04Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1786", "html_url": "https://github.com/mesonbuild/meson/pull/1786", "diff_url": "https://github.com/mesonbuild/meson/pull/1786.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1786.patch", "merged_at": "2017-05-12T15:54:04Z"}, "body": "Fixes setup.py install. Reported by @ebassi on IRC.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1786/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1772", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1772/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1772/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1772/events", "html_url": "https://github.com/mesonbuild/meson/issues/1772", "id": 227701739, "node_id": "MDU6SXNzdWUyMjc3MDE3Mzk=", "number": 1772, "title": "CFLAGS and friends leak into cross environment", "user": {"login": "oleavr", "id": 735197, "node_id": "MDQ6VXNlcjczNTE5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/735197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oleavr", "html_url": "https://github.com/oleavr", "followers_url": "https://api.github.com/users/oleavr/followers", "following_url": "https://api.github.com/users/oleavr/following{/other_user}", "gists_url": "https://api.github.com/users/oleavr/gists{/gist_id}", "starred_url": "https://api.github.com/users/oleavr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oleavr/subscriptions", "organizations_url": "https://api.github.com/users/oleavr/orgs", "repos_url": "https://api.github.com/users/oleavr/repos", "events_url": "https://api.github.com/users/oleavr/events{/privacy}", "received_events_url": "https://api.github.com/users/oleavr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-05-10T14:35:29Z", "updated_at": "2018-08-20T19:21:24Z", "closed_at": "2017-05-21T20:04:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Haven't had time to write a test-case for this yet, but just filing here\r\nso this doesn't slip through the cracks once I finish porting Frida to\r\nMeson.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1772/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1764", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1764/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1764/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1764/events", "html_url": "https://github.com/mesonbuild/meson/issues/1764", "id": 227329903, "node_id": "MDU6SXNzdWUyMjczMjk5MDM=", "number": 1764, "title": "link_with: isn't flattened", "user": {"login": "jon-turney", "id": 3497232, "node_id": "MDQ6VXNlcjM0OTcyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-turney", "html_url": "https://github.com/jon-turney", "followers_url": "https://api.github.com/users/jon-turney/followers", "following_url": "https://api.github.com/users/jon-turney/following{/other_user}", "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions", "organizations_url": "https://api.github.com/users/jon-turney/orgs", "repos_url": "https://api.github.com/users/jon-turney/repos", "events_url": "https://api.github.com/users/jon-turney/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-turney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-09T11:08:20Z", "updated_at": "2017-05-12T15:54:52Z", "closed_at": "2017-05-12T15:54:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "extracted from xserver meson.build, with the maze of conditionals removed for clarity:\r\n\r\n```meson\r\nproject('test', 'c')\r\n\r\nlibxserver_dri3 = []\r\nlibxserver = [ libxserver_dri3 ]\r\n\r\nexecutable('Xephyr', 'xephyr.c', link_with: [ libxserver ])\r\n````\r\n\r\nfails with\r\n\r\n```\r\nMeson encountered an error in file meson.build, line 6, column 0:\r\nLink target [] is not library.\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1764/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1736", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1736/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1736/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1736/events", "html_url": "https://github.com/mesonbuild/meson/issues/1736", "id": 226388668, "node_id": "MDU6SXNzdWUyMjYzODg2Njg=", "number": 1736, "title": "pkg-config path used in dependency(..., native:true) is sometimes incorrect", "user": {"login": "megous", "id": 31215, "node_id": "MDQ6VXNlcjMxMjE1", "avatar_url": "https://avatars.githubusercontent.com/u/31215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/megous", "html_url": "https://github.com/megous", "followers_url": "https://api.github.com/users/megous/followers", "following_url": "https://api.github.com/users/megous/following{/other_user}", "gists_url": "https://api.github.com/users/megous/gists{/gist_id}", "starred_url": "https://api.github.com/users/megous/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/megous/subscriptions", "organizations_url": "https://api.github.com/users/megous/orgs", "repos_url": "https://api.github.com/users/megous/repos", "events_url": "https://api.github.com/users/megous/events{/privacy}", "received_events_url": "https://api.github.com/users/megous/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-04T19:46:32Z", "updated_at": "2018-11-08T00:13:33Z", "closed_at": "2018-11-08T00:13:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have found that when doing cross compilation if you first call host dependency() and then dependency(native: true), then dependency(native: true) will use pkg-config path that is used (and cached) by dependency().\r\n\r\nWhen I change the order, everything is ok. There's some caching of pkg-config paths going on, and in this specific case, it goes wrong.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1736/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1728", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1728/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1728/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1728/events", "html_url": "https://github.com/mesonbuild/meson/issues/1728", "id": 226091147, "node_id": "MDU6SXNzdWUyMjYwOTExNDc=", "number": 1728, "title": "Meson mistakenly reports executable keyword name_suffix as unknown", "user": {"login": "noverby", "id": 2422942, "node_id": "MDQ6VXNlcjI0MjI5NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2422942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noverby", "html_url": "https://github.com/noverby", "followers_url": "https://api.github.com/users/noverby/followers", "following_url": "https://api.github.com/users/noverby/following{/other_user}", "gists_url": "https://api.github.com/users/noverby/gists{/gist_id}", "starred_url": "https://api.github.com/users/noverby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noverby/subscriptions", "organizations_url": "https://api.github.com/users/noverby/orgs", "repos_url": "https://api.github.com/users/noverby/repos", "events_url": "https://api.github.com/users/noverby/events{/privacy}", "received_events_url": "https://api.github.com/users/noverby/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-03T19:33:30Z", "updated_at": "2017-05-08T18:50:26Z", "closed_at": "2017-05-08T18:50:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using the following code:\r\n`executable('hello-world', 'main.c', name_suffix:'js')`\r\nMeson reports:\r\n`WARNING: Unknown keyword argument(s) in target hello-world: name_suffix.`", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1728/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1728/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1721", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1721/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1721/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1721/events", "html_url": "https://github.com/mesonbuild/meson/issues/1721", "id": 225807654, "node_id": "MDU6SXNzdWUyMjU4MDc2NTQ=", "number": 1721, "title": "Coverage-html report include sys headers and does not include baseline and branch data", "user": {"login": "gsauthof", "id": 464832, "node_id": "MDQ6VXNlcjQ2NDgzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/464832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsauthof", "html_url": "https://github.com/gsauthof", "followers_url": "https://api.github.com/users/gsauthof/followers", "following_url": "https://api.github.com/users/gsauthof/following{/other_user}", "gists_url": "https://api.github.com/users/gsauthof/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsauthof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsauthof/subscriptions", "organizations_url": "https://api.github.com/users/gsauthof/orgs", "repos_url": "https://api.github.com/users/gsauthof/repos", "events_url": "https://api.github.com/users/gsauthof/events{/privacy}", "received_events_url": "https://api.github.com/users/gsauthof/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-05-02T20:13:00Z", "updated_at": "2017-05-14T08:55:06Z", "closed_at": "2017-05-14T08:55:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to reproduce:\r\n\r\n    $ mkdir build && cd build\r\n    $ meson -Db_coverage=true ..\r\n    $ ninja-build\r\n    $ ./testcov\r\n    $ ninja-build -v coverage-html\r\n    $ firefox meson-logs/coveragereport/index.html\r\n\r\nExpected results: a html report that include all source files that are part of the executable, branch coverage information and no headers from `/usr/include`.\r\n\r\nActual results: The coverage report misses one source file and has no branch coverage data. Also, the coverage data of some boost headers is included.\r\n\r\n## Input files\r\n\r\nmeson.build\r\n\r\n    project('testcov', 'cpp')\r\n    \r\n    boost_dep = dependency('boost', version: '1.55', modules : [\r\n        'system', 'filesystem'])\r\n    \r\n    bar_lib = static_library('bar', 'bar.cc')\r\n    executable('testcov', 'foo.cc', link_with: [bar_lib],\r\n      dependencies: [ boost_dep ]  )\r\n\r\nfoo.cc\r\n\r\n    #include <boost/filesystem.hpp>\r\n    #include <iostream>\r\n    \r\n    void foo()\r\n    {\r\n      std::cout << boost::filesystem::current_path() << '\\n';\r\n    }\r\n    \r\n    int main()\r\n    {\r\n      foo();\r\n      return 0;\r\n    }\r\n\r\nbar.cc\r\n\r\n    #include <stdio.h>\r\n    \r\n    void bar()\r\n    {\r\n      puts(\"bar\");\r\n    }\r\n\r\n## Notes\r\n\r\nThe file `bar.cc` is missing because it is part of a static library and not one line of this translation unit is executed - and because the `coverage-html` target just calls `lcov` once. It is not called again to generate the baseline coverage profile. See also the section on `--initial` in the `lcov(1)` man page. Note that it is perfectly fine to generate the baseline profile after the compiled binary is executed.\r\n\r\nLCOV does support the processing of branch coverage data, but it is disabled by default. I find it quite useful in general thus I propose to enable it by default in the `coverage-html` target. It is sufficient to add `--rc lcov_branch_coverage=1` to the `lcov` calls and `--branch-coverage` to the `genhtml` call.\r\n\r\nThe `/usr/include` headers can be removed from the lcov profile via `lcov --remove`. This would be a good default. In general, it would be helpful to be able to tell meson to add some more excludes (e.g. to exclude all unittest files).\r\n\r\nSee also [a small script I wrote](https://github.com/gsauthof/imapdl/blob/master/ci/gen-coverage.py) that generates the LCOV coverage profile for a real world project.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1721/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1720", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1720/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1720/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1720/events", "html_url": "https://github.com/mesonbuild/meson/issues/1720", "id": 225785474, "node_id": "MDU6SXNzdWUyMjU3ODU0NzQ=", "number": 1720, "title": "Allow passing a list of File objects to custom_target", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-02T18:45:55Z", "updated_at": "2017-05-12T15:54:52Z", "closed_at": "2017-05-12T15:54:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently the following code fails with a python assertion about unknown type:\r\n\r\n```meson\r\nfoo = custom_target(\r\n  'foo',\r\n  input : [files('foo'), files('bar')],\r\n  output : 'foo.h',\r\n  command : [my_prog, '@INPUT0@', '@INTPUT1@', '-o', '@OUTPUT@'],\r\n)\r\n```\r\nHowever, replacing `[files('foo'), files('bar')]` with `files('foo') + files('bar')` does work. So this is probably pretty trivial to fix.\r\n\r\nI'll have a look at it soon if on one else gets to it before then.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1720/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1718", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1718/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1718/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1718/events", "html_url": "https://github.com/mesonbuild/meson/issues/1718", "id": 225767906, "node_id": "MDU6SXNzdWUyMjU3Njc5MDY=", "number": 1718, "title": "-L flags returned by pkg-config should not change the order of LDFLAGS", "user": {"login": "lantw44", "id": 3016644, "node_id": "MDQ6VXNlcjMwMTY2NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3016644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lantw44", "html_url": "https://github.com/lantw44", "followers_url": "https://api.github.com/users/lantw44/followers", "following_url": "https://api.github.com/users/lantw44/following{/other_user}", "gists_url": "https://api.github.com/users/lantw44/gists{/gist_id}", "starred_url": "https://api.github.com/users/lantw44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lantw44/subscriptions", "organizations_url": "https://api.github.com/users/lantw44/orgs", "repos_url": "https://api.github.com/users/lantw44/repos", "events_url": "https://api.github.com/users/lantw44/events{/privacy}", "received_events_url": "https://api.github.com/users/lantw44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-05-02T17:39:08Z", "updated_at": "2017-06-12T18:26:09Z", "closed_at": "2017-06-12T18:26:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`generate_link` in `mesonbuild/backend/ninjabackend.py` uses `mesonbuild.compilers.CompilerArgs` to collect linking arguments. External dependencies are processed after `c_link_args`, which means pkg-config can change the order of `c_link_args` set by users.\r\n\r\nSimple meson.build file used to reproduce the issue:\r\n```meson\r\nproject('testproject', 'c')\r\nexecutable('testproject', 'main.c', dependencies: [ dependency('glib-2.0') ])\r\n```\r\n`LDFLAGS` set by jhbuild:\r\n```\r\n-L/home/lantw44/gnome/devinstall/lib -L/usr/local/lib\r\n```\r\n`pkg-config --libs glib-2.0`:\r\n```\r\n-L/usr/local/lib -lglib-2.0 -lintl\r\n```\r\nAfter running `meson`, `mesonconf` shows the correct linker arguments:\r\n```\r\nLinker args:\r\n  c_link_args ['-L/home/lantw44/gnome/devinstall/lib', '-L/usr/local/lib']\r\n```\r\nHowever, querying commands with `ninja` shows that linker arguments are used in a wrong order:\r\n```\r\nccache cc  -o testproject 'testproject@exe/main.c.o' '-L/usr/local/lib' '-L/home/lantw44/gnome/devinstall/lib' '-Wl,--no-undefined' '-Wl,--as-needed' '-lglib-2.0' '-lintl'\r\n```\r\n\r\nThis causes undefined reference error when building gst-plugins-base in a jhbuild environment on FreeBSD. When a sysdep like `orc-0.4` is used, `-L/usr/local/lib` is moved to the front of `-L/home/lantw44/gnome/devinstall/lib`, causing the linker to find the old version of `libgstreamer-1.0.so` installed in `/usr/local/lib` instead of the new version installed in jhbuild prefix.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1718/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1703", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1703/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1703/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1703/events", "html_url": "https://github.com/mesonbuild/meson/issues/1703", "id": 225251050, "node_id": "MDU6SXNzdWUyMjUyNTEwNTA=", "number": 1703, "title": "provide more helpful error message if find_program() fails due to locale issues", "user": {"login": "mbiebl", "id": 3609611, "node_id": "MDQ6VXNlcjM2MDk2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3609611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbiebl", "html_url": "https://github.com/mbiebl", "followers_url": "https://api.github.com/users/mbiebl/followers", "following_url": "https://api.github.com/users/mbiebl/following{/other_user}", "gists_url": "https://api.github.com/users/mbiebl/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbiebl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbiebl/subscriptions", "organizations_url": "https://api.github.com/users/mbiebl/orgs", "repos_url": "https://api.github.com/users/mbiebl/repos", "events_url": "https://api.github.com/users/mbiebl/events{/privacy}", "received_events_url": "https://api.github.com/users/mbiebl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-04-29T11:28:16Z", "updated_at": "2022-08-22T21:54:14Z", "closed_at": "2022-08-22T21:53:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just ran into \r\nhttps://github.com/systemd/systemd/issues/5855\r\n\r\n```\r\n$ export LANG=C\r\n$ meson build\r\n...\r\nProgram tools/make-man-index.py found: YES (/home/michael/git/systemd/tools/make-man-index.py)\r\nProgram tools/xml_helper.py found: NO\r\n\r\nMeson encountered an error in file meson.build, line 2253, column 0:\r\nProgram \"tools/xml_helper.py\" not found.\r\n```\r\ntools/xml_helper.py isn't marked as executable and contains non-ASCII characters.\r\n\r\nWhile it can be argued, that running with a non-UTF locale is not supported, the error message was rather misleading. Maybe meson could provide a more specific error message, like\r\n\r\n\"program found but not marked as executable and autodetection failed\"\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1703/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1683", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1683/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1683/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1683/events", "html_url": "https://github.com/mesonbuild/meson/pull/1683", "id": 224201740, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE3NTMwMzAz", "number": 1683, "title": "wrap: submodule fixes", "user": {"login": "ernestask", "id": 26867637, "node_id": "MDQ6VXNlcjI2ODY3NjM3", "avatar_url": "https://avatars.githubusercontent.com/u/26867637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ernestask", "html_url": "https://github.com/ernestask", "followers_url": "https://api.github.com/users/ernestask/followers", "following_url": "https://api.github.com/users/ernestask/following{/other_user}", "gists_url": "https://api.github.com/users/ernestask/gists{/gist_id}", "starred_url": "https://api.github.com/users/ernestask/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ernestask/subscriptions", "organizations_url": "https://api.github.com/users/ernestask/orgs", "repos_url": "https://api.github.com/users/ernestask/repos", "events_url": "https://api.github.com/users/ernestask/events{/privacy}", "received_events_url": "https://api.github.com/users/ernestask/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/15", "html_url": "https://github.com/mesonbuild/meson/milestone/15", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/15/labels", "id": 2473788, "node_id": "MDk6TWlsZXN0b25lMjQ3Mzc4OA==", "number": 15, "title": "0.40.1", "description": "Please tag serious bugs, regressions, and fixes for 0.40.1 with this milestone.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-22T12:37:08Z", "updated_at": "2017-04-28T19:32:45Z", "due_on": null, "closed_at": "2017-04-28T19:32:45Z"}, "comments": 2, "created_at": "2017-04-25T16:43:39Z", "updated_at": "2017-05-01T15:56:56Z", "closed_at": "2017-04-27T15:37:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1683", "html_url": "https://github.com/mesonbuild/meson/pull/1683", "diff_url": "https://github.com/mesonbuild/meson/pull/1683.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1683.patch", "merged_at": "2017-04-27T15:37:20Z"}, "body": "These changes seem to work well enough.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1683/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1679", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1679/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1679/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1679/events", "html_url": "https://github.com/mesonbuild/meson/issues/1679", "id": 224103487, "node_id": "MDU6SXNzdWUyMjQxMDM0ODc=", "number": 1679, "title": "pulling subprojects fails if the build directory is outside the source directory", "user": {"login": "ht990332", "id": 1168407, "node_id": "MDQ6VXNlcjExNjg0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1168407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ht990332", "html_url": "https://github.com/ht990332", "followers_url": "https://api.github.com/users/ht990332/followers", "following_url": "https://api.github.com/users/ht990332/following{/other_user}", "gists_url": "https://api.github.com/users/ht990332/gists{/gist_id}", "starred_url": "https://api.github.com/users/ht990332/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ht990332/subscriptions", "organizations_url": "https://api.github.com/users/ht990332/orgs", "repos_url": "https://api.github.com/users/ht990332/repos", "events_url": "https://api.github.com/users/ht990332/events{/privacy}", "received_events_url": "https://api.github.com/users/ht990332/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/15", "html_url": "https://github.com/mesonbuild/meson/milestone/15", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/15/labels", "id": 2473788, "node_id": "MDk6TWlsZXN0b25lMjQ3Mzc4OA==", "number": 15, "title": "0.40.1", "description": "Please tag serious bugs, regressions, and fixes for 0.40.1 with this milestone.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2017-04-22T12:37:08Z", "updated_at": "2017-04-28T19:32:45Z", "due_on": null, "closed_at": "2017-04-28T19:32:45Z"}, "comments": 2, "created_at": "2017-04-25T11:18:04Z", "updated_at": "2017-04-27T15:37:24Z", "closed_at": "2017-04-27T15:37:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using meson 0.40.0\r\nTo reproduce,\r\ngit clone git://git.gnome.org/nautilus\r\nmkdir build\r\ncd build\r\nmeson --prefix=/usr --buildtype=debug --sysconfdir=/etc --libexecdir=/usr/lib/ -Denable-gtk-doc=false -Denable-exif=true -Denable-xmp=true -Denable-selinux=false ../nautilus\r\n\r\nThis results in the following error:\r\n\r\nMeson encountered an error in file meson.build, line 107, column 0:\r\nSubproject directory 'subprojects/libgd' does not exist and cannot be downloaded:\r\nNo libgd.wrap found for 'subprojects/libgd'\r\n\r\nThe directory subprojects/libgd exists but is empty.\r\n\r\nNext I tried:\r\ncd nautilus\r\nmkdir build\r\ncd build\r\nmeson --prefix=/usr --buildtype=debug --sysconfdir=/etc --libexecdir=/usr/lib/ -Denable-gtk-doc=false -Denable-exif=true -Denable-xmp=true -Denable-selinux=false ../\r\nsaid:\r\nSubmodule path 'subprojects/libgd' not initialized\r\n Maybe you want to use 'update --init'?\r\n\r\nA Gnome developer suggested I file a bug report here.\r\nThank you.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1679/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1677", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1677/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1677/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1677/events", "html_url": "https://github.com/mesonbuild/meson/issues/1677", "id": 224018466, "node_id": "MDU6SXNzdWUyMjQwMTg0NjY=", "number": 1677, "title": "setup.py install does not update shebang", "user": {"login": "floppym", "id": 504287, "node_id": "MDQ6VXNlcjUwNDI4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/504287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/floppym", "html_url": "https://github.com/floppym", "followers_url": "https://api.github.com/users/floppym/followers", "following_url": "https://api.github.com/users/floppym/following{/other_user}", "gists_url": "https://api.github.com/users/floppym/gists{/gist_id}", "starred_url": "https://api.github.com/users/floppym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/floppym/subscriptions", "organizations_url": "https://api.github.com/users/floppym/orgs", "repos_url": "https://api.github.com/users/floppym/repos", "events_url": "https://api.github.com/users/floppym/events{/privacy}", "received_events_url": "https://api.github.com/users/floppym/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-25T04:32:47Z", "updated_at": "2017-05-08T18:06:18Z", "closed_at": "2017-05-08T18:06:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running `setup.py install` should update the shebang in any installed scripts. This ensures that the same version of python use used when invoking meson after installation, even if /usr/bin/python3 is updated to point at a different version of python.\r\n\r\nFor example, `#!/usr/bin/env python3` should become `#!/usr/bin/env python3.6` if `setup.py install` is invoked using python3.6.\r\n\r\ndistutils/setuptools does this automatically. However, meson's setup.py script overrides the install_scripts class, which breaks the default behavior.\r\n\r\nFor more details, see the `distutils.command.build_scripts.copy_scripts()` function.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1677/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1672", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1672/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1672/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1672/events", "html_url": "https://github.com/mesonbuild/meson/issues/1672", "id": 223949150, "node_id": "MDU6SXNzdWUyMjM5NDkxNTA=", "number": 1672, "title": "VS 2017 backend emits bad ProjectGuid value", "user": {"login": "RedSkotina", "id": 1965405, "node_id": "MDQ6VXNlcjE5NjU0MDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1965405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RedSkotina", "html_url": "https://github.com/RedSkotina", "followers_url": "https://api.github.com/users/RedSkotina/followers", "following_url": "https://api.github.com/users/RedSkotina/following{/other_user}", "gists_url": "https://api.github.com/users/RedSkotina/gists{/gist_id}", "starred_url": "https://api.github.com/users/RedSkotina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RedSkotina/subscriptions", "organizations_url": "https://api.github.com/users/RedSkotina/orgs", "repos_url": "https://api.github.com/users/RedSkotina/repos", "events_url": "https://api.github.com/users/RedSkotina/events{/privacy}", "received_events_url": "https://api.github.com/users/RedSkotina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": {"login": "nioncode", "id": 3159451, "node_id": "MDQ6VXNlcjMxNTk0NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3159451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nioncode", "html_url": "https://github.com/nioncode", "followers_url": "https://api.github.com/users/nioncode/followers", "following_url": "https://api.github.com/users/nioncode/following{/other_user}", "gists_url": "https://api.github.com/users/nioncode/gists{/gist_id}", "starred_url": "https://api.github.com/users/nioncode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nioncode/subscriptions", "organizations_url": "https://api.github.com/users/nioncode/orgs", "repos_url": "https://api.github.com/users/nioncode/repos", "events_url": "https://api.github.com/users/nioncode/events{/privacy}", "received_events_url": "https://api.github.com/users/nioncode/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nioncode", "id": 3159451, "node_id": "MDQ6VXNlcjMxNTk0NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3159451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nioncode", "html_url": "https://github.com/nioncode", "followers_url": "https://api.github.com/users/nioncode/followers", "following_url": "https://api.github.com/users/nioncode/following{/other_user}", "gists_url": "https://api.github.com/users/nioncode/gists{/gist_id}", "starred_url": "https://api.github.com/users/nioncode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nioncode/subscriptions", "organizations_url": "https://api.github.com/users/nioncode/orgs", "repos_url": "https://api.github.com/users/nioncode/repos", "events_url": "https://api.github.com/users/nioncode/events{/privacy}", "received_events_url": "https://api.github.com/users/nioncode/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-04-24T20:58:27Z", "updated_at": "2017-05-09T15:43:12Z", "closed_at": "2017-05-09T15:43:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I tried generating a VS 2017 solution, all generated *.vcxproj contained this:\r\n\r\n```\r\n<PropertyGroup Label=\"Globals\">\r\n\t\t<ProjectGuid>64FCBDC2-8B6E-45D3-AEE0-DA999A2C7A64</ProjectGuid>\r\n</PropertyGroup>\r\n```\r\nWhich then causes silent errors in visual studio 2017 IDE: project dont expand in solution explorer\r\n Reason - ProjectGuid value should contain brackets: \r\n`<ProjectGuid>{64FCBDC2-8B6E-45D3-AEE0-DA999A2C7A64}</ProjectGuid>`", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1672/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1671", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1671/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1671/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1671/events", "html_url": "https://github.com/mesonbuild/meson/issues/1671", "id": 223948405, "node_id": "MDU6SXNzdWUyMjM5NDg0MDU=", "number": 1671, "title": "Qt release library is added in debug build ", "user": {"login": "brokenbug", "id": 15131458, "node_id": "MDQ6VXNlcjE1MTMxNDU4", "avatar_url": "https://avatars.githubusercontent.com/u/15131458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brokenbug", "html_url": "https://github.com/brokenbug", "followers_url": "https://api.github.com/users/brokenbug/followers", "following_url": "https://api.github.com/users/brokenbug/following{/other_user}", "gists_url": "https://api.github.com/users/brokenbug/gists{/gist_id}", "starred_url": "https://api.github.com/users/brokenbug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brokenbug/subscriptions", "organizations_url": "https://api.github.com/users/brokenbug/orgs", "repos_url": "https://api.github.com/users/brokenbug/repos", "events_url": "https://api.github.com/users/brokenbug/events{/privacy}", "received_events_url": "https://api.github.com/users/brokenbug/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 716668530, "node_id": "MDU6TGFiZWw3MTY2Njg1MzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/qt", "name": "qt", "color": "41cd52", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-24T20:55:41Z", "updated_at": "2018-03-30T21:14:39Z", "closed_at": "2018-03-30T21:14:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using meson on windows 10 and visual studio 2015.\r\n\r\nIn the generated project, release versions of QT libraries are added when building debug. Example Qt5Core.lib is added instead of Qt5Core**d**.lib. All QT debug libraries has a \"d\" appended to their name. \r\nThe release libraries creates some issues. E.g conversion from QString to std::string crashes.\r\n\r\nI don't know the Python language, but if I read the code correctly then I believe the issue is located in dependenies.py, row 1145.\r\n`\r\nlibfile = os.path.join(libdir, self.qtpkgname + module + '.lib')\r\n` \r\nI think it should be \r\n`libfile = os.path.join(libdir, self.qtpkgname + module + 'd.lib')`\r\nin debug builds.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1659", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1659/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1659/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1659/events", "html_url": "https://github.com/mesonbuild/meson/issues/1659", "id": 223578498, "node_id": "MDU6SXNzdWUyMjM1Nzg0OTg=", "number": 1659, "title": "`ninja clean` fails to remove test file build directory", "user": {"login": "MatthewScholefield", "id": 5875019, "node_id": "MDQ6VXNlcjU4NzUwMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/5875019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewScholefield", "html_url": "https://github.com/MatthewScholefield", "followers_url": "https://api.github.com/users/MatthewScholefield/followers", "following_url": "https://api.github.com/users/MatthewScholefield/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewScholefield/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewScholefield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewScholefield/subscriptions", "organizations_url": "https://api.github.com/users/MatthewScholefield/orgs", "repos_url": "https://api.github.com/users/MatthewScholefield/repos", "events_url": "https://api.github.com/users/MatthewScholefield/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewScholefield/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-22T17:09:24Z", "updated_at": "2017-08-13T12:20:16Z", "closed_at": "2017-08-13T12:19:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I followed [this tutorial on the wiki page][1] to setup meson for a simple library with tests. When running `ninja clean`, I get `ninja: error: remove(test): Directory not empty` because an empty subdirectory, `testexe@exe` still exists. This happens under both Windows and Linux. Under normal behavior, I would expect this to be removed since it was created automatically.\r\n\r\ntest/build.meson\r\n```\r\ntestexe = executable('testexe', test_sources,\r\n\t\t\t\t\tinclude_directories : inc,\r\n\t\t\t\t\tlink_with : lib)\r\ntest('lib test', testexe)\r\n```\r\n\r\nI tried cheating and adding `custom_target('generated-folder', command : '', output : 'testexe@exe')` but since the custom targets get removed before the build targets, the first time the executable is still in there and it fails (but works the second time I run `ninja clean`).\r\n\r\n[Similar issue for slightly different issue (that was closed and seemed to be solved)][2]\r\n\r\n[1]:https://github.com/mesonbuild/meson/wiki/IndepthTutorial\r\n[2]:https://github.com/mesonbuild/meson/issues/1220", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1659/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1659/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1656", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1656/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1656/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1656/events", "html_url": "https://github.com/mesonbuild/meson/issues/1656", "id": 223460740, "node_id": "MDU6SXNzdWUyMjM0NjA3NDA=", "number": 1656, "title": "compiler object compiles() does not track changes to the files being compiled", "user": {"login": "jnikula", "id": 1011224, "node_id": "MDQ6VXNlcjEwMTEyMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1011224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnikula", "html_url": "https://github.com/jnikula", "followers_url": "https://api.github.com/users/jnikula/followers", "following_url": "https://api.github.com/users/jnikula/following{/other_user}", "gists_url": "https://api.github.com/users/jnikula/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnikula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnikula/subscriptions", "organizations_url": "https://api.github.com/users/jnikula/orgs", "repos_url": "https://api.github.com/users/jnikula/repos", "events_url": "https://api.github.com/users/jnikula/events{/privacy}", "received_events_url": "https://api.github.com/users/jnikula/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-21T18:27:15Z", "updated_at": "2021-11-28T18:59:51Z", "closed_at": "2021-11-28T18:59:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "The compiler object compiles() method does not take into account changes to the file object being compiled. For example,\r\n\r\n```\r\nproject('foo', 'c')\r\ncc = meson.get_compiler('c')\r\ntest = cc.compiles(files('foo.c'))\r\n```\r\n\r\nwon't get re-evaluated if `foo.c` changes.\r\n\r\nI presume the same applies to link() too, but did not try.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1656/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1653", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1653/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1653/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1653/events", "html_url": "https://github.com/mesonbuild/meson/issues/1653", "id": 223188831, "node_id": "MDU6SXNzdWUyMjMxODg4MzE=", "number": 1653, "title": "Promote build_target linker to C++ if linking to C++ libraries", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-04-20T20:25:53Z", "updated_at": "2019-11-22T12:19:18Z", "closed_at": "2017-04-22T11:27:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Sometimes people link to C++ libraries that export C APIs, but still link to libstdc++. For example: https://bugzilla.gnome.org/show_bug.cgi?id=781561\r\n\r\nNeed a test case from @dcbaker for this, and then it can be fixed by adding a special case in `build.py:BuildTarget.get_clike_dynamic_linker()`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1653/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1653/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1646", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1646/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1646/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1646/events", "html_url": "https://github.com/mesonbuild/meson/issues/1646", "id": 222943438, "node_id": "MDU6SXNzdWUyMjI5NDM0Mzg=", "number": 1646, "title": "b_lto=true does not work with static libraries", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-04-20T04:04:39Z", "updated_at": "2017-04-22T11:26:29Z", "closed_at": "2017-04-22T11:26:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Meson uses `ar 'csrD'` to link libraries. When b_lto is turned on, this stops working.\r\ngcc-ar must be used instead:\r\n```c\r\n==> meson.build <==\r\nproject('ltotest', 'c',\r\n\tdefault_options : ['b_lto=true'])\r\nlibfoo = static_library('foo',\r\n\t\t\t'foo.c',\r\n\t\t\t'foo.h')\r\nbar = executable('bar',\r\n\t\t 'bar.c',\r\n\t\t link_with : libfoo,\r\n\t\t install : true)\r\n\r\n==> foo.h <==\r\nint foo(void);\r\n\r\n==> foo.c <==\r\n#include \"foo.h\"\r\n\r\nint foo(void) {\r\n  return 11;\r\n}\r\n\r\n==> bar.c <==\r\n#include \"foo.h\"\r\n\r\nint main(int argc, char **argv) {\r\n  return 11 - foo();\r\n}\r\n```\r\n```\r\nThe Meson build system\r\nVersion: 0.40.0.dev1\r\nSource dir: /home/zbyszek/src/meson/meson9\r\nBuild dir: /home/zbyszek/src/meson/meson9/build\r\nBuild type: native build\r\nProject name: ltotest\r\nNative c compiler: ccache cc (gcc 6.3.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nBuild targets in project: 2\r\n```\r\n```\r\nninja: Entering directory `build/'\r\n[3/4] Static linking library libfoo.a\r\nar: foo@sta/foo.c.o: plugin needed to handle lto object\r\n[4/4] Linking target bar\r\nFAILED: bar \r\nccache cc  -o bar 'bar@exe/bar.c.o' '-flto' '-Wl,--no-undefined' '-Wl,--as-needed' '-Wl,--whole-archive' '-Wl,--no-whole-archive' 'libfoo.a'  \r\n/tmp/ccbGdQ6K.ltrans0.ltrans.o: In function `main':\r\n<artificial>:(.text+0x10): undefined reference to `foo'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\nWhen `gcc-ar` is used instead of `ar`, `libfoo.a` is generated without warnings, and `bar` links correctly.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1646/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1645", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1645/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1645/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1645/events", "html_url": "https://github.com/mesonbuild/meson/issues/1645", "id": 222899902, "node_id": "MDU6SXNzdWUyMjI4OTk5MDI=", "number": 1645, "title": "Allow setting the path to the Vala compiler using the VALAC env variable", "user": {"login": "astavale", "id": 17455148, "node_id": "MDQ6VXNlcjE3NDU1MTQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17455148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astavale", "html_url": "https://github.com/astavale", "followers_url": "https://api.github.com/users/astavale/followers", "following_url": "https://api.github.com/users/astavale/following{/other_user}", "gists_url": "https://api.github.com/users/astavale/gists{/gist_id}", "starred_url": "https://api.github.com/users/astavale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astavale/subscriptions", "organizations_url": "https://api.github.com/users/astavale/orgs", "repos_url": "https://api.github.com/users/astavale/repos", "events_url": "https://api.github.com/users/astavale/events{/privacy}", "received_events_url": "https://api.github.com/users/astavale/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-19T23:16:36Z", "updated_at": "2017-08-09T18:50:49Z", "closed_at": "2017-08-09T18:50:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks as though the executable for valac (and other compilers) is hard coded in /mesonbuild/environment.py :\r\n\r\n```python\r\ndef detect_vala_compiler(self):\r\n    exelist = ['valac']\r\n```\r\nWhen developing the Vala compiler it is useful to build programs against a newly patched version of valac. With C the [HowToX](https://github.com/mesonbuild/meson/wiki/howtox#set-compiler) suggests the `CC` variable can be used:\r\n\r\n> Set compiler\r\n> When first running Meson, set it in an environment variable.\r\n> `$ CC=mycc meson <options>`\r\n\r\nIs this the best way? So for Vala it would be:\r\n`$ VALAC=/home/development-vala/installed/bin/valac meson <options>`\r\n\r\nAnother, maybe clearer, approach is to treat this as a [cross compilation](https://github.com/mesonbuild/meson/wiki/Cross-compilation). So a cross file is created with the relevant binaries:\r\n\r\n```ini\r\n[binaries]\r\nvalac = '/home/development-vala/installed/bin/valac'\r\n```\r\nThen this is compiled with:\r\n`meson build --cross-file development_vala.txt`\r\n\r\nThoughts?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1645/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1645/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1644", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1644/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1644/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1644/events", "html_url": "https://github.com/mesonbuild/meson/issues/1644", "id": 222774922, "node_id": "MDU6SXNzdWUyMjI3NzQ5MjI=", "number": 1644, "title": "ninja clean fails when a target is defined with the same name as a directory", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 580821602, "node_id": "MDU6TGFiZWw1ODA4MjE2MDI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/systemd", "name": "systemd", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/20", "html_url": "https://github.com/mesonbuild/meson/milestone/20", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/20/labels", "id": 2680747, "node_id": "MDk6TWlsZXN0b25lMjY4MDc0Nw==", "number": 20, "title": "0.42.0", "description": "", "creator": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-08-04T10:24:57Z", "updated_at": "2017-08-15T12:07:26Z", "due_on": "2017-08-13T07:00:00Z", "closed_at": "2017-08-15T12:07:26Z"}, "comments": 9, "created_at": "2017-04-19T15:20:48Z", "updated_at": "2017-08-14T21:39:50Z", "closed_at": "2017-08-14T21:39:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I get the following error:\r\n```\r\n$ ninja-build clean\r\n[2/2] 'Cleaning'\r\nFAILED: clean \r\n'ninja-build' '-t' 'clean'\r\nninja: error: remove(man): Directory not empty\r\nCleaning... 1 files.\r\nninja: build stopped: subcommand failed.\r\n```\r\n```\r\n$ ls -lG man/\r\ntotal 8\r\n-rw-rw-r--. 1 zbyszek  404 Apr 19 11:13 custom-entities.ent\r\ndrwxrwxr-x. 2 zbyszek 4096 Apr 19 11:13 rules/\r\n```\r\nSo the `man` directory should not be removed at all, for two reasons: 1. there's a subdir, 2. there's a generated file. I don't know why `clean` tries to remove it.\r\n\r\nI tried to make simple test case, but I couldn't reproduce the error. So it's something in the way that man is defined...\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1644/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1643", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1643/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1643/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1643/events", "html_url": "https://github.com/mesonbuild/meson/issues/1643", "id": 222583081, "node_id": "MDU6SXNzdWUyMjI1ODMwODE=", "number": 1643, "title": "unparsable ninja.build generated from run_command with a multi-line string", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-04-19T00:31:19Z", "updated_at": "2017-05-06T10:06:36Z", "closed_at": "2017-05-06T10:06:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```meson\r\nproject('meson7' ,'c')\r\nrun_target(\r\n  'update-rules',\r\n  command : ['sh', '-c',\r\n\t     '\r\npython3 make-man-rules.py --meson'])\r\n```\r\n\r\n```\r\nninja: error: build.ninja:64: expected '=', got lexing error\r\npython3$ make-man-rules.py$ --meson'\r\n       ^ near here\r\nWARNING: Could not create compilation database.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1643/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1639", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1639/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1639/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1639/events", "html_url": "https://github.com/mesonbuild/meson/issues/1639", "id": 222341512, "node_id": "MDU6SXNzdWUyMjIzNDE1MTI=", "number": 1639, "title": "Ninja include prefix wrong with italian version of Msvc 2015", "user": {"login": "guruDanny67", "id": 12065665, "node_id": "MDQ6VXNlcjEyMDY1NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/12065665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guruDanny67", "html_url": "https://github.com/guruDanny67", "followers_url": "https://api.github.com/users/guruDanny67/followers", "following_url": "https://api.github.com/users/guruDanny67/following{/other_user}", "gists_url": "https://api.github.com/users/guruDanny67/gists{/gist_id}", "starred_url": "https://api.github.com/users/guruDanny67/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guruDanny67/subscriptions", "organizations_url": "https://api.github.com/users/guruDanny67/orgs", "repos_url": "https://api.github.com/users/guruDanny67/repos", "events_url": "https://api.github.com/users/guruDanny67/events{/privacy}", "received_events_url": "https://api.github.com/users/guruDanny67/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-04-18T08:36:19Z", "updated_at": "2017-04-29T09:35:51Z", "closed_at": "2017-04-29T09:35:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Meson looks for the prefix to match the /showincludes directive for ninja using two colon ('Note: including file: d:\\MyDir\\include\\stdio.h') but the italian version of the visual studio compiler puts only one and writes 'Nota: file incluso  d:\\MyDir\\include\\stdio.h' so meson matches the second colon after the drive, using as a prefix 'Nota: file incluso  d:' (or similar, depends form where you installed things).\r\n\r\nThe net result is that the include dependecies are not working correctly but only for a a limited number of file.\r\n\r\nFor the italian part the fix is trivial, in ninjabackend.c, in detect_vs_dep_prefix(...):\r\n\r\n```python\r\n            if line.endswith('stdio.h'):\r\n                # Match for italian version, with only one ':'\r\n                if line.startswith('Nota: file incluso'):\r\n                    matchstr = 'Nota: file incluso'\r\n                else:\r\n                    matchstr = ':'.join(line.split(':')[0:2]) + ':'\r\n                with open(tempfilename, 'a') as binfile:\r\n\r\n```\r\n\r\nbut maybe other languages have the same problem.\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1639/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1635", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1635/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1635/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1635/events", "html_url": "https://github.com/mesonbuild/meson/issues/1635", "id": 222001012, "node_id": "MDU6SXNzdWUyMjIwMDEwMTI=", "number": 1635, "title": "Build RPATHs should not be overrideable with LD_LIBRARY_PATH, affects OSes using DT_RUNPATH such as FreeBSD and Debian", "user": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}, {"id": 680510296, "node_id": "MDU6TGFiZWw2ODA1MTAyOTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:*BSD", "name": "OS:*BSD", "color": "990000", "default": false, "description": "Issues specific to one of the BSD Operating Systems"}, {"id": 850880130, "node_id": "MDU6TGFiZWw4NTA4ODAxMzA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/test%20targets", "name": "test targets", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2017-04-16T09:39:02Z", "updated_at": "2022-11-30T19:44:51Z", "closed_at": "2022-11-30T19:44:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Due to #1519. Should we revert or is there a fix?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1635/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1626", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1626/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1626/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1626/events", "html_url": "https://github.com/mesonbuild/meson/issues/1626", "id": 221846551, "node_id": "MDU6SXNzdWUyMjE4NDY1NTE=", "number": 1626, "title": "Duplicate kwargs warning doesn't print filename or lineno", "user": {"login": "jon-turney", "id": 3497232, "node_id": "MDQ6VXNlcjM0OTcyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-turney", "html_url": "https://github.com/jon-turney", "followers_url": "https://api.github.com/users/jon-turney/followers", "following_url": "https://api.github.com/users/jon-turney/following{/other_user}", "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions", "organizations_url": "https://api.github.com/users/jon-turney/orgs", "repos_url": "https://api.github.com/users/jon-turney/repos", "events_url": "https://api.github.com/users/jon-turney/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-turney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-14T16:54:23Z", "updated_at": "2018-01-01T00:09:46Z", "closed_at": "2018-01-01T00:09:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```meson\r\nproject('duplicate kwarg', 'c')\r\na = library('liba', 'a.c')\r\nb = library('libb', 'b.c')\r\nexecutable('main', 'main.c', link_with: a, link_with: b)\r\n```\r\nOnly the last` link_with:` has effect.\r\n\r\nI guess this should be reported as an error.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1626/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1626/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1623", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1623/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1623/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1623/events", "html_url": "https://github.com/mesonbuild/meson/issues/1623", "id": 221792852, "node_id": "MDU6SXNzdWUyMjE3OTI4NTI=", "number": 1623, "title": "Can't produce import libraries for executables on Windows", "user": {"login": "jon-turney", "id": 3497232, "node_id": "MDQ6VXNlcjM0OTcyMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3497232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-turney", "html_url": "https://github.com/jon-turney", "followers_url": "https://api.github.com/users/jon-turney/followers", "following_url": "https://api.github.com/users/jon-turney/following{/other_user}", "gists_url": "https://api.github.com/users/jon-turney/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-turney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-turney/subscriptions", "organizations_url": "https://api.github.com/users/jon-turney/orgs", "repos_url": "https://api.github.com/users/jon-turney/repos", "events_url": "https://api.github.com/users/jon-turney/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-turney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-14T11:30:59Z", "updated_at": "2017-08-14T21:48:45Z", "closed_at": "2017-08-14T21:48:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Further to the discussion in PR #1567 consider [this example](https://github.com/jon-turney/exe-implib-example)\r\n\r\n`meson.build`\r\n```meson\r\nproject('shared module linked to symbol in executable', 'c')\r\n\r\ndl = meson.get_compiler('c').find_library('dl', required : false)\r\nm = shared_module('module', 'module.c')\r\ne = executable('prog', 'prog.c', dependencies : dl)\r\ntest('test', e, args: m)\r\n```\r\n\r\n`prog.c`\r\n```c\r\n#include <stdio.h>\r\n#ifdef _WIN32\r\n#include <windows.h>\r\n#else\r\n#include <dlfcn.h>\r\n#endif\r\n\r\nint\r\nmain (int argc, char **argv)\r\n{\r\n#ifdef _WIN32\r\n  HMODULE h = LoadLibraryA(argv[1]);\r\n#else\r\n  void *h = dlopen(argv[1], RTLD_NOW);\r\n#endif\r\n\r\n  if (!h) {\r\n    printf (\"failed to load library\\n\");\r\n  }\r\n\r\n#ifdef _WIN32\r\n  FreeLibrary(h);\r\n#else\r\n  dlclose(h);\r\n#endif\r\n}\r\n\r\nint\r\nfunc_from_executable(void)\r\n{\r\n  return 42;\r\n}\r\n```\r\n\r\n`module.c`\r\n```c\r\nextern int func_from_executable(void);\r\n\r\nint func(void) {\r\n   return func_from_executable();\r\n}\r\n```\r\n\r\nThis fails to build on Windows, because func_from_executable() can't be resolved at link time (as is required by PE/COFF):\r\n\r\n```\r\n[3/4] Linking target cygmodule.dll\r\nFAILED: cygmodule.dll\r\nccache gcc  -o cygmodule.dll 'module@sha/module.c.o' '-Wl,--as-needed' '-shared' '-Wl,-soname,cygmodule.dll' '-Wl,--out-implib=libmodule.dll.a' '-Wl,-rpath,/wip/exe-implib-example/build/'\r\nmodule@sha/module.c.o: In function `func':\r\n/wip/exe-implib-example/build/../module.c:7: undefined reference to `func_from_executable'\r\n/wip/exe-implib-example/build/../module.c:7:(.text+0x9): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `func_from_executable'\r\ncollect2: error: ld returned 1 exit status\r\n[4/4] Linking target prog.exe\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nHowever, I can write the following Makefile which builds it successfully. Note the use of libprog.exe.a.\r\n\r\nMakefile\r\n```make\r\nall:\r\n        $(CC) $(CFLAGS) -o module.o -c module.c\r\n        $(CC) $(CFLAGS) -o prog.o -c prog.c\r\n        $(CC) $(CFLAGS) -o prog.exe prog.o -Wl,--export-all,--out-implib,libprog.exe.a\r\n        $(CC) $(CFLAGS) -o cygmodule.dll module.o libprog.exe.a -shared -Wl,-soname,cygmodule.dll -Wl,--out-implib=libmodule.dll.a\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1623/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1622", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1622/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1622/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1622/events", "html_url": "https://github.com/mesonbuild/meson/issues/1622", "id": 221733808, "node_id": "MDU6SXNzdWUyMjE3MzM4MDg=", "number": 1622, "title": "protobuf generator does not work in sub-directory", "user": {"login": "albaguirre", "id": 6685297, "node_id": "MDQ6VXNlcjY2ODUyOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6685297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albaguirre", "html_url": "https://github.com/albaguirre", "followers_url": "https://api.github.com/users/albaguirre/followers", "following_url": "https://api.github.com/users/albaguirre/following{/other_user}", "gists_url": "https://api.github.com/users/albaguirre/gists{/gist_id}", "starred_url": "https://api.github.com/users/albaguirre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albaguirre/subscriptions", "organizations_url": "https://api.github.com/users/albaguirre/orgs", "repos_url": "https://api.github.com/users/albaguirre/repos", "events_url": "https://api.github.com/users/albaguirre/events{/privacy}", "received_events_url": "https://api.github.com/users/albaguirre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-14T03:26:44Z", "updated_at": "2017-05-08T18:53:59Z", "closed_at": "2017-05-08T18:53:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When attempting to use the protobuf generator under a subdirectory, the build complains about missing generated files.\r\n\r\nIf we use the following setup under say <project_root>/mysubdir/meson.build\r\n\r\n```meson\r\nprotoc = find_program('protoc')\r\ndep = dependency('protobuf')\r\n\r\ngen = generator(protoc, \\\r\n  output    : ['@BASENAME@.pb.cc', '@BASENAME@.pb.h'],\r\n  arguments : ['--proto_path=@SOURCE_DIR@', '--cpp_out=@BUILD_DIR@', '@INPUT@'])\r\n\r\ngenerated = gen.process('defs.proto')\r\ne = executable('prog', 'main.cpp', generated, dependencies : dep)\r\ntest('prototest', e)\r\n```\r\n\r\nUnder a project hierarchy like:\r\n<project_root>/meson.build\r\n<project_root>/mysubdir/meson.build\r\n<project_root>/mysubdir/defs.proto\r\n\r\nThen:\r\nINPUT=../mysubdir/defs.proto\r\nSOURCE_DIR=../\r\nBUILD_DIR=mysubdir/prog@exe\r\n\r\nprotoc requires the input files to exist relative to the path given in --proto_path. It uses this relative path to generate files in path given in -cpp-out.\r\n\r\nIn this case the relative path computed by protoc is mysubdir/ therefore files are generated in \"mysubdir/prog@exe/mysubdir/\"\r\n\r\nMeanwhile, the build target expects generated files to be in mysubdir/prog@exe, so the build fails.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1618", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1618/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1618/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1618/events", "html_url": "https://github.com/mesonbuild/meson/pull/1618", "id": 221551322, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE1NzQ3OTA4", "number": 1618, "title": "gtkdochelper: Fix type file name option", "user": {"login": "rffontenelle", "id": 1571783, "node_id": "MDQ6VXNlcjE1NzE3ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1571783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rffontenelle", "html_url": "https://github.com/rffontenelle", "followers_url": "https://api.github.com/users/rffontenelle/followers", "following_url": "https://api.github.com/users/rffontenelle/following{/other_user}", "gists_url": "https://api.github.com/users/rffontenelle/gists{/gist_id}", "starred_url": "https://api.github.com/users/rffontenelle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rffontenelle/subscriptions", "organizations_url": "https://api.github.com/users/rffontenelle/orgs", "repos_url": "https://api.github.com/users/rffontenelle/repos", "events_url": "https://api.github.com/users/rffontenelle/events{/privacy}", "received_events_url": "https://api.github.com/users/rffontenelle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-04-13T12:40:55Z", "updated_at": "2017-04-13T20:39:23Z", "closed_at": "2017-04-13T20:39:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1618", "html_url": "https://github.com/mesonbuild/meson/pull/1618", "diff_url": "https://github.com/mesonbuild/meson/pull/1618.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1618.patch", "merged_at": "2017-04-13T20:39:23Z"}, "body": "'gtkdoc-scangobj' script was recently ported to Python (it was Perl), and it now requires providing '--types' option to specify the name of the file to store the types in. Without this option, 'gtkdockelper' will exit with error status 2 and will throw a message \"gtkdoc-scangobj: error: unrecognized arguments: <typefile>\"", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1618/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1605", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1605/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1605/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1605/events", "html_url": "https://github.com/mesonbuild/meson/issues/1605", "id": 220775381, "node_id": "MDU6SXNzdWUyMjA3NzUzODE=", "number": 1605, "title": "shared_library vs_modules_defs parameter dies when passed anything but string", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-10T21:24:25Z", "updated_at": "2017-06-12T17:39:45Z", "closed_at": "2017-04-11T19:55:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I'm not sure whether the bug here is that passing a list (particularly an empty one) is not acceptable, or whether generating a giant stacktrace instead of a nice error message is the bug. But either a more helpful error message or accepting the empty list would be good.\r\n\r\nmeson psuedo code:\r\n```meson\r\nif cc.get_id() == 'msvc'\r\n  def = 'foo.def'\r\nelse\r\n  def = []\r\nendif\r\n\r\nlibfoo = shared_library(\r\n  'libfoo',\r\n  'foo.c',\r\n  vs_modules_def: def,\r\n)\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1605/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1600", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1600/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1600/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1600/events", "html_url": "https://github.com/mesonbuild/meson/issues/1600", "id": 220509022, "node_id": "MDU6SXNzdWUyMjA1MDkwMjI=", "number": 1600, "title": "tracebacks on installation", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-04-09T23:43:27Z", "updated_at": "2017-04-11T13:39:25Z", "closed_at": "2017-04-11T13:39:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With the following simple build file:\r\n```meson\r\nproject('meson5', 'c')\r\n\r\nmeson.add_install_script('no-such-file.sh',\r\n                         'a',\r\n                         'b')\r\n```\r\nI get\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/meson\", line 37, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/bin/meson\", line 34, in main\r\n    return mesonmain.run(launcher, sys.argv[1:])\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/mesonmain.py\", line 260, in run\r\n    sys.exit(run_script_command(args[1:]))\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/mesonmain.py\", line 248, in run_script_command\r\n    return cmdfunc(cmdargs)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/scripts/meson_install.py\", line 306, in run\r\n    do_install(datafilename)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/scripts/meson_install.py\", line 129, in do_install\r\n    run_install_script(d)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/scripts/meson_install.py\", line 193, in run_install_script\r\n    name = ' '.join(script + args)\r\nTypeError: sequence item 0: expected str instance, NoneType found\r\n```\r\n\r\nIn a different slightly more complicated case I get the following traceback:\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/meson\", line 37, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/bin/meson\", line 34, in main\r\n    return mesonmain.run(launcher, sys.argv[1:])\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/mesonmain.py\", line 260, in run\r\n    sys.exit(run_script_command(args[1:]))\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/mesonmain.py\", line 248, in run_script_command\r\n    return cmdfunc(cmdargs)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/scripts/meson_install.py\", line 306, in run\r\n    do_install(datafilename)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/scripts/meson_install.py\", line 129, in do_install\r\n    run_install_script(d)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/scripts/meson_install.py\", line 186, in run_install_script\r\n    'MESONINTROSPECT': d.mesonintrospect}\r\nAttributeError: 'InstallData' object has no attribute 'mesonintrospect'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1599", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1599/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1599/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1599/events", "html_url": "https://github.com/mesonbuild/meson/pull/1599", "id": 220505546, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE1MDA1NTE5", "number": 1599, "title": "vala: Allow installation into default directories", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-04-09T22:43:25Z", "updated_at": "2017-04-12T20:33:03Z", "closed_at": "2017-04-12T20:33:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1599", "html_url": "https://github.com/mesonbuild/meson/pull/1599", "diff_url": "https://github.com/mesonbuild/meson/pull/1599.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1599.patch", "merged_at": "2017-04-12T20:33:03Z"}, "body": "For generated headers, vapis, and GIRs.\r\n\r\nhttps://github.com/mesonbuild/meson/pull/1469#issuecomment-292814000", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1599/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1591", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1591/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1591/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1591/events", "html_url": "https://github.com/mesonbuild/meson/issues/1591", "id": 220472372, "node_id": "MDU6SXNzdWUyMjA0NzIzNzI=", "number": 1591, "title": "`mesontest --gdb` prints a backtrace when `gdb` is not installed", "user": {"login": "evverx", "id": 10195800, "node_id": "MDQ6VXNlcjEwMTk1ODAw", "avatar_url": "https://avatars.githubusercontent.com/u/10195800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evverx", "html_url": "https://github.com/evverx", "followers_url": "https://api.github.com/users/evverx/followers", "following_url": "https://api.github.com/users/evverx/following{/other_user}", "gists_url": "https://api.github.com/users/evverx/gists{/gist_id}", "starred_url": "https://api.github.com/users/evverx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evverx/subscriptions", "organizations_url": "https://api.github.com/users/evverx/orgs", "repos_url": "https://api.github.com/users/evverx/repos", "events_url": "https://api.github.com/users/evverx/events{/privacy}", "received_events_url": "https://api.github.com/users/evverx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-09T13:51:46Z", "updated_at": "2017-04-09T19:54:30Z", "closed_at": "2017-04-09T19:54:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "```sh\r\n$ mesontest -C build --gdb test-bus-error\r\nninja: Entering directory `/home/vagrant/systemd/build'\r\nninja: no work to do.\r\nTraceback (most recent call last):\r\n  File \"/home/vagrant/.virtualenvs/meson/bin/mesontest\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('meson==0.40.0.dev1', 'mesontest')\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 738, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1499, in run_script\r\n    exec(code, namespace, namespace)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 598, in <module>\r\n    sys.exit(run(sys.argv[1:]))\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 595, in run\r\n    return th.run_special()\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 510, in run_special\r\n    self.run_tests(tests)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 468, in run_tests\r\n    res = self.run_single_test(wrap, test)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 234, in run_single_test\r\n    preexec_fn=setsid)\r\n  File \"/usr/lib64/python3.5/subprocess.py\", line 676, in __init__\r\n    restore_signals, start_new_session)\r\n  File \"/usr/lib64/python3.5/subprocess.py\", line 1282, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'gdb'\r\n```\r\n\r\n`mesontest --wrapper some-non-installed-wrapper` prints the backtrace too.\r\n```sh\r\n$ mesontest -C build --wrapper valgrind -v test-path-util\r\nninja: Entering directory `/home/vagrant/systemd/build'\r\nninja: no work to do.\r\nTraceback (most recent call last):\r\n  File \"/home/vagrant/.virtualenvs/meson/bin/mesontest\", line 4, in <module>\r\n    __import__('pkg_resources').run_script('meson==0.40.0.dev1', 'mesontest')\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 738, in run_script\r\n    self.require(requires)[0].run_script(script_name, ns)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1499, in run_script\r\n    exec(code, namespace, namespace)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 598, in <module>\r\n    sys.exit(run(sys.argv[1:]))\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 595, in run\r\n    return th.run_special()\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 510, in run_special\r\n    self.run_tests(tests)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 480, in run_tests\r\n    self.drain_futures(futures, logfile, jsonlogfile)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 498, in drain_futures\r\n    result.result()\r\n  File \"/usr/lib64/python3.5/concurrent/futures/_base.py\", line 405, in result\r\n    return self.__get_result()\r\n  File \"/usr/lib64/python3.5/concurrent/futures/_base.py\", line 357, in __get_result\r\n    raise self._exception\r\n  File \"/usr/lib64/python3.5/concurrent/futures/thread.py\", line 55, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/home/vagrant/.virtualenvs/meson/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/EGG-INFO/scripts/mesontest\", line 234, in run_single_test\r\n    preexec_fn=setsid)\r\n  File \"/usr/lib64/python3.5/subprocess.py\", line 676, in __init__\r\n    restore_signals, start_new_session)\r\n  File \"/usr/lib64/python3.5/subprocess.py\", line 1282, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'valgrind'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1591/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1586", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1586/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1586/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1586/events", "html_url": "https://github.com/mesonbuild/meson/issues/1586", "id": 220356867, "node_id": "MDU6SXNzdWUyMjAzNTY4Njc=", "number": 1586, "title": "meson rejects version numbers ending with a dot", "user": {"login": "evverx", "id": 10195800, "node_id": "MDQ6VXNlcjEwMTk1ODAw", "avatar_url": "https://avatars.githubusercontent.com/u/10195800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evverx", "html_url": "https://github.com/evverx", "followers_url": "https://api.github.com/users/evverx/followers", "following_url": "https://api.github.com/users/evverx/following{/other_user}", "gists_url": "https://api.github.com/users/evverx/gists{/gist_id}", "starred_url": "https://api.github.com/users/evverx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evverx/subscriptions", "organizations_url": "https://api.github.com/users/evverx/orgs", "repos_url": "https://api.github.com/users/evverx/repos", "events_url": "https://api.github.com/users/evverx/events{/privacy}", "received_events_url": "https://api.github.com/users/evverx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-07T23:41:23Z", "updated_at": "2017-09-04T16:26:58Z", "closed_at": "2017-09-04T16:26:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "From https://github.com/systemd/systemd/pull/5704#issuecomment-291959683\r\n```sh\r\n# Ubuntu Zesty Zapus (development branch)\r\n\r\nMeson encountered an error in file meson.build, line 536, column 0:\r\nInvalid version to compare against: '2.29.'; only numeric digits separated by \".\" are allowed: invalid literal for int() with base 10: ''\r\n\r\n$ find /usr/lib -name '*.pc' | xargs grep -E 2.29\r\n/usr/lib/x86_64-linux-gnu/pkgconfig/blkid.pc:Version: 2.29.\r\n/usr/lib/x86_64-linux-gnu/pkgconfig/mount.pc:Version: 2.29.\r\n/usr/lib/x86_64-linux-gnu/pkgconfig/uuid.pc:Version: 2.29.\r\n```\r\n\r\n@nirbheek wrote\r\n> This is a mistake in util-linux, but it is also a valid pkg-config version, which follows the rpm version comparison rules. Meson barfs on this because we don't implement rpm version comparison bug-for-bug. Arguably, we should, or at least we should be a bit more resilient.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1586/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1586/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1583", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1583/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1583/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1583/events", "html_url": "https://github.com/mesonbuild/meson/issues/1583", "id": 220224071, "node_id": "MDU6SXNzdWUyMjAyMjQwNzE=", "number": 1583, "title": "backtrace when using non-found prog in command", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-07T14:06:03Z", "updated_at": "2020-01-28T19:04:03Z", "closed_at": "2020-01-28T19:04:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nproject('meson4', 'c')\r\n\r\ngit = find_program('gita', required : false)\r\netags = find_program('etags', required : false)\r\n\r\nall_files = run_command(\r\n    git,\r\n    ['--git-dir=@0@/.git'.format(meson.source_root()),\r\n     'ls-files',\r\n     ':/*.[ch]'])\r\nall_files = files(all_files.stdout().split())\r\n\r\ncustom_target(\r\n  'TAGS',\r\n  output : 'TAGS',\r\n  input : all_files,\r\n  command : [etags, '-o', '@OUTPUT@'] + all_files)\r\n```\r\n\r\n```bash\r\n$ meson build\r\nThe Meson build system\r\nVersion: 0.40.0.dev1\r\nSource dir: /home/zbyszek/src/meson/meson4\r\nBuild dir: /home/zbyszek/src/meson/meson4/build\r\nBuild type: native build\r\nProject name: meson4\r\nNative c compiler: ccache cc (gcc 6.3.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram gita found: NO\r\nProgram etags found: YES (/usr/bin/etags)\r\nTraceback (most recent call last):\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/mesonmain.py\", line 298, in run\r\n    app.generate()\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/mesonmain.py\", line 180, in generate\r\n    intr.run()\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreter.py\", line 2529, in run\r\n    super().run()\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreterbase.py\", line 125, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreterbase.py\", line 146, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreterbase.py\", line 140, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreterbase.py\", line 153, in evaluate_statement\r\n    return self.assignment(cur)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreterbase.py\", line 566, in assignment\r\n    value = self.evaluate_statement(node.value)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreterbase.py\", line 151, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreterbase.py\", line 372, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreter.py\", line 1493, in func_run_command\r\n    self.subdir, in_builddir)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreter.py\", line 77, in __init__\r\n    pc, self.stdout, self.stderr = self.run_command(command_array, source_dir, build_dir, subdir, in_builddir)\r\n  File \"/home/zbyszek/.local/lib/python3.5/site-packages/meson-0.40.0.dev1-py3.5.egg/mesonbuild/interpreter.py\", line 95, in run_command\r\n    mlog.debug('Running command:', ' '.join(command_array))\r\nTypeError: sequence item 0: expected str instance, NoneType found\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1583/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1569", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1569/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1569/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1569/events", "html_url": "https://github.com/mesonbuild/meson/issues/1569", "id": 219606376, "node_id": "MDU6SXNzdWUyMTk2MDYzNzY=", "number": 1569, "title": "Boost Dependency: use -isystem instead of -I for includes, if compiler supports it", "user": {"login": "wberrier", "id": 329898, "node_id": "MDQ6VXNlcjMyOTg5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/329898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wberrier", "html_url": "https://github.com/wberrier", "followers_url": "https://api.github.com/users/wberrier/followers", "following_url": "https://api.github.com/users/wberrier/following{/other_user}", "gists_url": "https://api.github.com/users/wberrier/gists{/gist_id}", "starred_url": "https://api.github.com/users/wberrier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wberrier/subscriptions", "organizations_url": "https://api.github.com/users/wberrier/orgs", "repos_url": "https://api.github.com/users/wberrier/repos", "events_url": "https://api.github.com/users/wberrier/events{/privacy}", "received_events_url": "https://api.github.com/users/wberrier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-04-05T14:40:20Z", "updated_at": "2018-02-12T15:04:53Z", "closed_at": "2017-04-14T03:02:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a case where boost isn't in /usr/include, and I'm using a \"cross\" compiler (it's a native compiler, but not in the standard paths)\r\n\r\nThe boost dependency code always sets up the include dirs with \"-I\" where it really should be using \"-isystem\", if it's supported for that compiler.\r\n\r\nOtherwise, warnings are enabled, and I get errors based on Werror.\r\n\r\nIn this particular case, I'm actually using the code from #1568 using BOOST_LIBRARYDIR and BOOST_INCLUDEDIR, but I suspect the same issue exists when using BOOST_ROOT.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1569/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1563", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1563/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1563/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1563/events", "html_url": "https://github.com/mesonbuild/meson/issues/1563", "id": 219473999, "node_id": "MDU6SXNzdWUyMTk0NzM5OTk=", "number": 1563, "title": "find_program detects directory as a program", "user": {"login": "keszybz", "id": 349618, "node_id": "MDQ6VXNlcjM0OTYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/349618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keszybz", "html_url": "https://github.com/keszybz", "followers_url": "https://api.github.com/users/keszybz/followers", "following_url": "https://api.github.com/users/keszybz/following{/other_user}", "gists_url": "https://api.github.com/users/keszybz/gists{/gist_id}", "starred_url": "https://api.github.com/users/keszybz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keszybz/subscriptions", "organizations_url": "https://api.github.com/users/keszybz/orgs", "repos_url": "https://api.github.com/users/keszybz/repos", "events_url": "https://api.github.com/users/keszybz/events{/privacy}", "received_events_url": "https://api.github.com/users/keszybz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-05T05:37:47Z", "updated_at": "2017-04-05T07:23:27Z", "closed_at": "2017-04-05T07:23:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```bash\r\n$ mkdir m4\r\n$ cat <<EOF >meson.build\r\nproject('meson2', 'c')\r\n\r\nm4 = find_program('m4')\r\ncustom_target('foo',\r\n\t      input : 'meson.build',\r\n\t      output : 'foo',\r\n\t      command : [m4, '-P', '-DFOO', '@INPUT@', '@OUTPUT@'],\r\n\t      install : true,\r\n\t      install_dir : '/')\r\nEOF\r\n$ meson build; cd build; ninja-build\r\nThe Meson build system\r\nVersion: 0.39.1\r\nSource dir: /home/zbyszek/src/meson/meson2\r\nBuild dir: /home/zbyszek/src/meson/meson2/build\r\nBuild type: native build\r\nProject name: meson2\r\nNative c compiler: ccache cc (gcc 6.3.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram m4 found: YES (/home/zbyszek/src/meson/meson2/m4)\r\nMessage: /home/zbyszek/src/meson/meson2/m4\r\nBuild targets in project: 1\r\n[1/1] 'Generating foo with a custom command.'\r\nFAILED: foo \r\n'/home/zbyszek/src/meson/meson2/m4' '-P' '-DFOO' '../meson.build' 'foo'\r\n/bin/sh: /home/zbyszek/src/meson/meson2/m4: Is a directory\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nIt's actually pretty common for `autotools` based projects to have an `m4` directory for macros. ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1554", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1554/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1554/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1554/events", "html_url": "https://github.com/mesonbuild/meson/issues/1554", "id": 219013715, "node_id": "MDU6SXNzdWUyMTkwMTM3MTU=", "number": 1554, "title": "add_project_arguments should ensure it is called before build targets only in the current project, not subprojects", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 569977980, "node_id": "MDU6TGFiZWw1Njk5Nzc5ODA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/mesa/wayland/xorg", "name": "mesa/wayland/xorg", "color": "808000", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-03T17:59:50Z", "updated_at": "2017-04-08T18:21:23Z", "closed_at": "2017-04-08T18:21:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If a subproject is defined, and `add_project_arguments` is called after said subproject, then meson will error out with\r\n```\r\nTried to set project arguments after a build target has been declared.\r\nThis is not permitted. Please declare all project arguments before your targets.\r\n```\r\n\r\nThis doesn't seem correct, as `add_project_arguments` differese from `add_global_arguments` specifcially in that it doesn't affect subprojects. Specfically this is annoying because it means that if a dependency needs to add define as an argument rather than as configuration_data that must be done before the subproject, making it impossible to use the fallback parameter.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1554/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1554/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1542", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1542/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1542/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1542/events", "html_url": "https://github.com/mesonbuild/meson/issues/1542", "id": 218018501, "node_id": "MDU6SXNzdWUyMTgwMTg1MDE=", "number": 1542, "title": "configure_file fails for files encoded with not utf-8 or ascii", "user": {"login": "dcbaker", "id": 1779595, "node_id": "MDQ6VXNlcjE3Nzk1OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1779595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcbaker", "html_url": "https://github.com/dcbaker", "followers_url": "https://api.github.com/users/dcbaker/followers", "following_url": "https://api.github.com/users/dcbaker/following{/other_user}", "gists_url": "https://api.github.com/users/dcbaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcbaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcbaker/subscriptions", "organizations_url": "https://api.github.com/users/dcbaker/orgs", "repos_url": "https://api.github.com/users/dcbaker/repos", "events_url": "https://api.github.com/users/dcbaker/events{/privacy}", "received_events_url": "https://api.github.com/users/dcbaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}, {"id": 569977980, "node_id": "MDU6TGFiZWw1Njk5Nzc5ODA=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/mesa/wayland/xorg", "name": "mesa/wayland/xorg", "color": "808000", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-03-29T21:43:54Z", "updated_at": "2018-06-09T18:17:49Z", "closed_at": "2018-06-09T18:17:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I'm working on wrapping a project (freeglut), and one of the files in the project that need to be configured (using configure_file) is encoded in ISO-8859, and contains an character that isn't compatible with utf-8. meson dies trying to configure said file.\r\n\r\nHere's the output:\r\n```\r\nCould not read input file /home/user/source/mesa-demos/subprojects/freeglut-3.0.0/freeglut.rc.in: 'utf-8' codec can't decode byte 0xa9 in position 740: invalid start byte\r\n```\r\n\r\nI don't know if this is a case really worth solving (how many projects use encodings other than ascii or utf-8?). Since it's just changing the encoding I've just copied the file into my wrap patch.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1534", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1534/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1534/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1534/events", "html_url": "https://github.com/mesonbuild/meson/issues/1534", "id": 217502582, "node_id": "MDU6SXNzdWUyMTc1MDI1ODI=", "number": 1534, "title": "Issues porting a large, legacy Fortran codebase to Meson", "user": {"login": "AndreasKempfNEC", "id": 21335561, "node_id": "MDQ6VXNlcjIxMzM1NTYx", "avatar_url": "https://avatars.githubusercontent.com/u/21335561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreasKempfNEC", "html_url": "https://github.com/AndreasKempfNEC", "followers_url": "https://api.github.com/users/AndreasKempfNEC/followers", "following_url": "https://api.github.com/users/AndreasKempfNEC/following{/other_user}", "gists_url": "https://api.github.com/users/AndreasKempfNEC/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreasKempfNEC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreasKempfNEC/subscriptions", "organizations_url": "https://api.github.com/users/AndreasKempfNEC/orgs", "repos_url": "https://api.github.com/users/AndreasKempfNEC/repos", "events_url": "https://api.github.com/users/AndreasKempfNEC/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreasKempfNEC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-03-28T09:40:46Z", "updated_at": "2020-01-08T05:01:17Z", "closed_at": "2019-07-17T00:29:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear Meson team,\r\n\r\nas a preamble, I would like to mention that I am still pretty unfamiliar with Meson and its code in particular. Some of the stuff below might be a result of my insufficient understanding.\r\n\r\nWhile trying to port a large, old Fortran codebase (Fortran 90+ mixed with some Fortran 77) to the Meson build system, I hit three problems. Old Fortran codes often do not follow any kind of consistent style so they are kind of a worst-case scenario.\r\n\r\nFirstly, the Fortran module dependency generator seems to be case-sensitive. This leads to the following problem,\r\n\r\n```\r\n$ cat test1.f90\r\nMODULE TEST1\r\n  CONTAINS\r\n    SUBROUTINE T1\r\n    END SUBROUTINE\r\nEND MODULE\r\n$ cat test2.f90\r\nmodule test2\r\n  contains\r\n    subroutine t2\r\n    end subroutine\r\nend module'\r\n$ cat main.f90\r\nprogram prog\r\n  use test1\r\n  use TEST2\r\nend program\r\n$ cat meson.build\r\nproject('testing', 'fortran')\r\n\r\nexe = executable('test.meson.exe', ['main.f90', 'test1.f90', 'test2.f90'])\r\n$ meson build\r\n...\r\n$ cat build/meson\r\ngrep main.f90 build/build.ninja \r\nbuild test.meson.exe@exe/main.f90.o: fortran_COMPILER ../main.f90\r\n DEPFILE = test.meson.exe@exe/main.f90.o.d\r\nbuild test.meson.exe: fortran_LINKER test.meson.exe@exe/main.f90.o test.meson.exe@exe/test1.f90.o test.meson.exe@exe/test2.f90.o\r\n```\r\n\r\nAs can be seen, the module dependencies are not picked up by Meson, the line should be,\r\n```\r\nbuild test.meson.exe@exe/main.f90.o: fortran_COMPILER ../main.f90 | test.meson.exe@exe/test1.mod test.meson.exe@exe/test2.mod\r\n```\r\n(assuming, at least, that the filenames are consistently lower case...)\r\n\r\nFor a simple fix, I just changed two lines in ninjabackend.py so that everything is lower case, although there is probably a better solution,\r\n```diff\r\n$ diff ninjabackend-orig.py ninjabackend-test.py \r\n1643c1643\r\n<                         module_files[modname] = s\r\n---\r\n>                         module_files[modname.lower()] = s\r\n1655c1655\r\n<                     usename = usematch.group(1)\r\n---\r\n>                     usename = usematch.group(1).lower()\r\n```\r\n\r\nSecondly, mixed Fortran+C codes seem to be linked using the C linker instead of the Fortran linker. As far as I know, it is usually recommended to use the Fortran linker [1]. I just switched the order of clike_langs in compilers.py, which seems to be all that is required:\r\n```diff\r\n$ diff ~/build/meson-0.39.1/mesonbuild/compilers.py ~/compilers.py \r\n52c52\r\n< clike_langs = ('objcpp', 'objc', 'd', 'cpp', 'c', 'fortran',)\r\n---\r\n> clike_langs = ('objcpp', 'objc', 'd', 'fortran', 'cpp', 'c',)\r\n```\r\n\r\nFinally, I needed to work with preprocessed Fortran files, which quickly leads to pretty ugly edge cases. I assume the only way to solve this problem cleanly would be to use some kind of generator and to preprocess all files in a separate step (which probably brings its own set of problems). This might all be related to the following comment in compilers.py,\r\n```python\r\ndef get_dependency_gen_args(self, outtarget, outfile):\r\n    # Disabled until this is fixed:\r\n    # https://gcc.gnu.org/bugzilla/show_bug.cgi?id=62162\r\n    # return ['-cpp', '-MMD', '-MQ', outtarget]\r\n    return []\r\n```\r\nI guess that this would no longer be an issue for GCC if this long-standing gfortran bug were to be fixed at some point? However, there are other compilers that might not generate Fortran dependencies cleanly, as well.\r\n\r\nFor now, I tried the following changes to ninjabuild.py which would pick up \"use ...\" statements in included headers,\r\n```diff\r\n$ diff ninjabackend-orig.py ninjabackend.py\r\n1643c1643\r\n<                         module_files[modname] = s\r\n---\r\n>                         module_files[modname.lower()] = s\r\n1648a1649\r\n>         incre = re.compile(r'#include\\s+\"([\\w.]+)\"')\r\n1655c1656\r\n<                     usename = usematch.group(1)\r\n---\r\n>                     usename = usematch.group(1).lower()\r\n1676a1678,1690\r\n>                 incmatch = incre.match(line)\r\n>                 if incmatch is not None:\r\n>                     incfile = incmatch.group(1)\r\n>                     inc_same_dir = os.path.join(os.path.dirname(src), incfile)\r\n>                     if os.path.exists(inc_same_dir):\r\n>                         mod_files += self.get_fortran_deps(compiler, inc_same_dir, target)\r\n>                         continue\r\n>                     for dirs in target.include_dirs:\r\n>                         for incdir in dirs.get_incdirs():\r\n>                             fullpath = os.path.join(incdir, incfile)\r\n>                             if os.path.exists(fullpath):\r\n>                                 mod_files += self.get_fortran_deps(compiler, fullpath, target)\r\n```\r\nBut this is certainly an ugly hack for an ugly problem. Moreover, it still does not pick up dependencies on the header files themselves and #ifdefs are ignored. The former issue could probably be hacked in a similar way although I am not sure how to handle absolute/relative paths and include directories. For my porting work, this at least allows for a proper build. It will probably break as soon as a header file is touched, though. Building Fortran is often pretty grisly but I worry that C++ might run into similar issues if modules were to be introduced at some point [1]. (cmake somehow seems to cope with preprocessed Fortran but I have no idea how they do it)\r\n\r\nAll of this is, of course only relevant if Fortran is supposed to be well supported by Meson and if these problems are not caused by my own stupidity.\r\n\r\nApart from the issues above, I noticed that there can be problems with long build commands that I reported as a Ninja bug.\r\nhttps://github.com/ninja-build/ninja/issues/1261\r\nIn retrospect, this could really be an issue with Meson. Depending on the reaction by the Ninja devs, I might open a separate issue here for that.\r\n\r\n[1] https://software.intel.com/en-us/node/678447\r\n[2] http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3347.pdf\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1534/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1521", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1521/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1521/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1521/events", "html_url": "https://github.com/mesonbuild/meson/issues/1521", "id": 217095564, "node_id": "MDU6SXNzdWUyMTcwOTU1NjQ=", "number": 1521, "title": "Missing shared library links in flat layout", "user": {"login": "sardemff7", "id": 222943, "node_id": "MDQ6VXNlcjIyMjk0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/222943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sardemff7", "html_url": "https://github.com/sardemff7", "followers_url": "https://api.github.com/users/sardemff7/followers", "following_url": "https://api.github.com/users/sardemff7/following{/other_user}", "gists_url": "https://api.github.com/users/sardemff7/gists{/gist_id}", "starred_url": "https://api.github.com/users/sardemff7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sardemff7/subscriptions", "organizations_url": "https://api.github.com/users/sardemff7/orgs", "repos_url": "https://api.github.com/users/sardemff7/repos", "events_url": "https://api.github.com/users/sardemff7/events{/privacy}", "received_events_url": "https://api.github.com/users/sardemff7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-03-26T22:29:22Z", "updated_at": "2021-09-12T16:12:13Z", "closed_at": "2021-09-12T16:12:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a project with a few libraries built with `version` (`0.0.0` in this case, but it doesn\u2019t matter) and plugins. I use the flat layout so I can set the build dir as a plugin dir and load them all for tests.\r\nRecently I added some API in one of the library, and my (manual) test suddenly failed due to a missing symbol.\r\n\r\nIt appears that Meson, with the flat layout, doesn\u2019t create the `liblib.so.0 -> liblib.so.0.0.0` symlink in the build dir. Removing my system installed package confirms this is the issue.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1521/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1517", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1517/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1517/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1517/events", "html_url": "https://github.com/mesonbuild/meson/issues/1517", "id": 216943093, "node_id": "MDU6SXNzdWUyMTY5NDMwOTM=", "number": 1517, "title": "Building static libraries fails on Windows", "user": {"login": "peterh", "id": 79339, "node_id": "MDQ6VXNlcjc5MzM5", "avatar_url": "https://avatars.githubusercontent.com/u/79339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterh", "html_url": "https://github.com/peterh", "followers_url": "https://api.github.com/users/peterh/followers", "following_url": "https://api.github.com/users/peterh/following{/other_user}", "gists_url": "https://api.github.com/users/peterh/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterh/subscriptions", "organizations_url": "https://api.github.com/users/peterh/orgs", "repos_url": "https://api.github.com/users/peterh/repos", "events_url": "https://api.github.com/users/peterh/events{/privacy}", "received_events_url": "https://api.github.com/users/peterh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-25T02:31:42Z", "updated_at": "2017-03-27T20:11:28Z", "closed_at": "2017-03-27T20:11:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Starting with meson 0.39, building a library in a subdir fails on Windows.\r\n\r\nMeson creates a build.ninja file containing a shell-out to a `del` command that only accepts \\ as a path separator, but with a path that uses / as the path separator. This results in a build failure on Windows when `del` treats / as the switchchar and fails because it does not recognize the switch.\r\n\r\nThe build works fine in 0.37.x and 0.38.x.\r\n\r\nCommand output:\r\n```\r\nC:\\Users\\peterh\\src\\microbench>meson.py --buildtype debugoptimized build\r\nThe Meson build system\r\nVersion: 0.39.0\r\nSource dir: C:\\Users\\peterh\\src\\microbench\r\nBuild dir: C:\\Users\\peterh\\src\\microbench\\mingw\r\nBuild type: native build\r\nProject name: microbench\r\nNative c compiler: gcc (gcc 6.3.0)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nBuild targets in project: 2\r\n\r\nC:\\Users\\peterh\\src\\microbench>ninja -Cbuild\r\nninja: Entering directory `build'\r\n[2/4] Static linking library lib/libmbc.a\r\nFAILED: lib/libmbc.a\r\ncmd /c del /f /s /q lib/libmbc.a && ar @lib/libmbc.a.rsp\r\nInvalid switch - \"libmbc.a\".\r\n[3/4] Compiling c object polypt/polypt@exe/polypt.c.obj\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nThe meson.build files are trivial. Just in case:\r\n\r\nmeson.build:\r\n```\r\nproject('microbench', 'c')\r\n\r\nmbc_inc = include_directories('lib')\r\nsubdir('lib')\r\nsubdir('polypt')\r\n```\r\nlib\\meson.build:\r\n```\r\nmbclib = static_library('mbc', 'mbc.c')\r\n```\r\npolypt\\meson.build:\r\n```\r\npolypt_src = ['polypt.c']\r\npolyptexe = executable('polypt', polypt_src,\r\n        include_directories:mbc_inc,\r\n        link_with:mbclib)\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1517/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1512", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1512/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1512/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1512/events", "html_url": "https://github.com/mesonbuild/meson/issues/1512", "id": 216851678, "node_id": "MDU6SXNzdWUyMTY4NTE2Nzg=", "number": 1512, "title": "Dollar literals aren't escaped", "user": {"login": "codido", "id": 1302219, "node_id": "MDQ6VXNlcjEzMDIyMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1302219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codido", "html_url": "https://github.com/codido", "followers_url": "https://api.github.com/users/codido/followers", "following_url": "https://api.github.com/users/codido/following{/other_user}", "gists_url": "https://api.github.com/users/codido/gists{/gist_id}", "starred_url": "https://api.github.com/users/codido/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codido/subscriptions", "organizations_url": "https://api.github.com/users/codido/orgs", "repos_url": "https://api.github.com/users/codido/repos", "events_url": "https://api.github.com/users/codido/events{/privacy}", "received_events_url": "https://api.github.com/users/codido/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-03-24T17:18:01Z", "updated_at": "2017-05-21T20:18:36Z", "closed_at": "2017-05-21T20:18:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ninja uses $ as an escape character, but commands can include literal '$' characters, so these should be escaped as well.\r\n\r\nFor instance, the following:\r\n```\r\nperl = find_program('perl')\r\nrun_target('t', command : [perl, '-e', 'my $v = \"Hello World\"; print($v)'])\r\n```\r\ncurrently yields:\r\n```\r\n'/usr/bin/perl' '-e' 'my$ $v$ =$ \"Hello$ World\";$ print($v)'\r\n```\r\ninstead of\r\n```\r\n'/usr/bin/perl' '-e' 'my$ $$v$ =$ \"Hello$ World\";$ print($$v)'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1512/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1509", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1509/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1509/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1509/events", "html_url": "https://github.com/mesonbuild/meson/issues/1509", "id": 216824622, "node_id": "MDU6SXNzdWUyMTY4MjQ2MjI=", "number": 1509, "title": "error checking math (m) library on windows", "user": {"login": "guruDanny67", "id": 12065665, "node_id": "MDQ6VXNlcjEyMDY1NjY1", "avatar_url": "https://avatars.githubusercontent.com/u/12065665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guruDanny67", "html_url": "https://github.com/guruDanny67", "followers_url": "https://api.github.com/users/guruDanny67/followers", "following_url": "https://api.github.com/users/guruDanny67/following{/other_user}", "gists_url": "https://api.github.com/users/guruDanny67/gists{/gist_id}", "starred_url": "https://api.github.com/users/guruDanny67/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guruDanny67/subscriptions", "organizations_url": "https://api.github.com/users/guruDanny67/orgs", "repos_url": "https://api.github.com/users/guruDanny67/repos", "events_url": "https://api.github.com/users/guruDanny67/events{/privacy}", "received_events_url": "https://api.github.com/users/guruDanny67/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-03-24T15:41:43Z", "updated_at": "2017-07-22T23:12:01Z", "closed_at": "2017-07-22T23:12:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm on Visual studio 2015 and I'm trying to build emeus on windows and the meson.buildit use the reccomended way to check for the need of th em library:\r\n\r\n    # Required dependencies\r\n    mathlib_dep = cc.find_library('m', required: false)\r\n\r\nbut it finds the library, even if on windows is not necessary.\r\n\r\nIt's not a big problem if you want to build the emeus library without gobject-introspection (the build is fine).\r\n\r\nBut with the gobject stuff you got an error of library m not found.\r\n\r\nI take a look at what happens and, without giving some libdir parameter, the meson check is made building a small executable with the required lib: the 19.x vs cl compiler simply ignores the added parameter (-lm.lib or something similar) so the check passes but if you need to use it on the link phase you've got an error (library not found).\r\n\r\nI know this is more a Visual Studio C compiler issue (why in the earth you should ignore wrong parameters, if I make an error I would like to know it as soon as possible ...) \r\n\r\nBTW I'm using meson 0.39.0 \r\n\r\nOne solution would be to put a null dependencie if you are on windows with the vs compiler (if cc.get_id() == 'msvc') but I'm arguing if there an easy way to put a dependencies that doesn't do anything without writing something like:\r\n\r\nno_dep_lib = cc.find_library('hope_you_will_not_find_this_library,please', required: false)\r\n\r\n\r\nthanks in advance", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1509/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1504", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1504/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1504/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1504/events", "html_url": "https://github.com/mesonbuild/meson/pull/1504", "id": 216703836, "node_id": "MDExOlB1bGxSZXF1ZXN0MTEyNDEwODIw", "number": 1504, "title": "Fix regen when using pkg-deps when there's no pkg-config", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/14", "html_url": "https://github.com/mesonbuild/meson/milestone/14", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/14/labels", "id": 2413013, "node_id": "MDk6TWlsZXN0b25lMjQxMzAxMw==", "number": 14, "title": "0.39.2", "description": "Unreleased, only for collection of potential patches", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2017-03-27T09:30:45Z", "updated_at": "2017-04-22T12:36:34Z", "due_on": null, "closed_at": "2017-04-22T12:36:34Z"}, "comments": 0, "created_at": "2017-03-24T08:51:56Z", "updated_at": "2017-03-27T09:31:36Z", "closed_at": "2017-03-25T19:07:23Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1504", "html_url": "https://github.com/mesonbuild/meson/pull/1504", "diff_url": "https://github.com/mesonbuild/meson/pull/1504.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1504.patch", "merged_at": "2017-03-25T19:07:23Z"}, "body": "Without this, we'd fail with a \"no attribute modversion\" error.\r\n\r\nThis is the Nth fix in this series of errors. I'm working on unifying all dependency classes under the same base class to fix this for all dependency types once and for all.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1504/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1500", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1500/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1500/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1500/events", "html_url": "https://github.com/mesonbuild/meson/issues/1500", "id": 216444840, "node_id": "MDU6SXNzdWUyMTY0NDQ4NDA=", "number": 1500, "title": "declare_dependency() dependencies: list is not flattened, so [] can't be used as no-op dep", "user": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-23T14:22:59Z", "updated_at": "2017-03-25T18:30:16Z", "closed_at": "2017-03-25T18:30:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Adding to `test cases/common/87 declare dep/meson.build`:\r\n\r\n`declare_dependency(dependencies : entity_dep)` - works\r\n`declare_dependency(dependencies : [entity_dep])` - works\r\n`declare_dependency(dependencies : [])` - works\r\n`declare_dependency(dependencies : [[entity_dep]])` - error: Dependencies must be external deps\r\n`declare_dependency(dependencies : [[]])` - error: Dependencies must be external deps\r\n`declare_dependency(dependencies : [entity_dep, []])` - error: Dependencies must be external deps\r\n`declare_dependency(dependencies : [[], entity_dep])` - error: Dependencies must be external deps\r\n\r\nI believe the reason is that the deps list isn't flattened in the `declare_dependency()` case. It seems to work fine for `shared_library()` and `executable()` and such (see below).\r\n\r\nJussi's comment on IRC:\r\n> The function and method call evaluator should probably do the flattening for everyone.\r\n> It already does it with args.\r\n> Kwargs were added after that and it was unclear at the time if they should be flattened.\r\n\r\n\r\nFull addition repeated for easier copy'n'paste for a test case:\r\n```\r\n# just to make sure [] works as a no-op dep here\r\nexecutable('dummy', 'main.c',\r\n  dependencies : [entity_dep, []])\r\n\r\n# simple case\r\ndeclare_dependency(dependencies : entity_dep)\r\n\r\n# nested deps should be flattened\r\ndeclare_dependency(dependencies : [entity_dep])\r\ndeclare_dependency(dependencies : [[entity_dep]])\r\n\r\n# check that [] properly works as a no-op dep in declare_dependency() too\r\ndeclare_dependency(dependencies : [])\r\ndeclare_dependency(dependencies : [[]])\r\ndeclare_dependency(dependencies : [entity_dep, []])\r\ndeclare_dependency(dependencies : [[], entity_dep])\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1500/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1499", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1499/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1499/events", "html_url": "https://github.com/mesonbuild/meson/pull/1499", "id": 216330849, "node_id": "MDExOlB1bGxSZXF1ZXN0MTEyMTc2ODk2", "number": 1499, "title": "vs: Fix custom target generated object paths", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/14", "html_url": "https://github.com/mesonbuild/meson/milestone/14", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/14/labels", "id": 2413013, "node_id": "MDk6TWlsZXN0b25lMjQxMzAxMw==", "number": 14, "title": "0.39.2", "description": "Unreleased, only for collection of potential patches", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2017-03-27T09:30:45Z", "updated_at": "2017-04-22T12:36:34Z", "due_on": null, "closed_at": "2017-04-22T12:36:34Z"}, "comments": 0, "created_at": "2017-03-23T07:28:32Z", "updated_at": "2017-03-27T09:31:36Z", "closed_at": "2017-03-26T20:10:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1499", "html_url": "https://github.com/mesonbuild/meson/pull/1499", "diff_url": "https://github.com/mesonbuild/meson/pull/1499.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1499.patch", "merged_at": "2017-03-26T20:10:09Z"}, "body": "The paths are already relative to the target dir. This was totally untested till this point.\r\n\r\nIncludes a test for this which generates and builds in subdirs. If all the generation and usage is done in the build root, this bug will obviously not be triggered.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1499/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1499/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1496", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1496/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1496/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1496/events", "html_url": "https://github.com/mesonbuild/meson/pull/1496", "id": 216275496, "node_id": "MDExOlB1bGxSZXF1ZXN0MTEyMTUzMzUx", "number": 1496, "title": "Preserve internal-dep include order in build target dependencies", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/14", "html_url": "https://github.com/mesonbuild/meson/milestone/14", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/14/labels", "id": 2413013, "node_id": "MDk6TWlsZXN0b25lMjQxMzAxMw==", "number": 14, "title": "0.39.2", "description": "Unreleased, only for collection of potential patches", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2017-03-27T09:30:45Z", "updated_at": "2017-04-22T12:36:34Z", "due_on": null, "closed_at": "2017-04-22T12:36:34Z"}, "comments": 2, "created_at": "2017-03-23T03:00:57Z", "updated_at": "2017-03-27T09:31:36Z", "closed_at": "2017-03-25T16:55:47Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1496", "html_url": "https://github.com/mesonbuild/meson/pull/1496", "diff_url": "https://github.com/mesonbuild/meson/pull/1496.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1496.patch", "merged_at": "2017-03-25T16:55:47Z"}, "body": "Only the test first, to demonstrate test failure.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1496/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1494", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1494/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1494/events", "html_url": "https://github.com/mesonbuild/meson/issues/1494", "id": 216264049, "node_id": "MDU6SXNzdWUyMTYyNjQwNDk=", "number": 1494, "title": "Objects of files() may be ambiguous", "user": {"login": "codido", "id": 1302219, "node_id": "MDQ6VXNlcjEzMDIyMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1302219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codido", "html_url": "https://github.com/codido", "followers_url": "https://api.github.com/users/codido/followers", "following_url": "https://api.github.com/users/codido/following{/other_user}", "gists_url": "https://api.github.com/users/codido/gists{/gist_id}", "starred_url": "https://api.github.com/users/codido/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codido/subscriptions", "organizations_url": "https://api.github.com/users/codido/orgs", "repos_url": "https://api.github.com/users/codido/repos", "events_url": "https://api.github.com/users/codido/events{/privacy}", "received_events_url": "https://api.github.com/users/codido/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-23T01:53:40Z", "updated_at": "2017-09-12T17:37:50Z", "closed_at": "2017-09-12T17:37:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "When files are specified using files(), their subdirectories aren't added as a prefix to their object file names, and all are output to the same output directory. As a result, if two different subdirectories have files with the same name, a conflict will follow.\r\n\r\nFor example, the following fails with `Multiple producers for Ninja target \"a.out@exe/file.c.o\". Please rename your targets.`:\r\n```sh\r\n#!/bin/sh\r\n\r\nmkdir -p dir1 dir2\r\n\r\necho \"int main() { return 0; }\" > dir1/file.c\r\necho \"sources += files('file.c')\" > dir1/meson.build\r\n\r\ntouch dir2/file.c\r\necho \"sources += files('file.c')\" > dir2/meson.build\r\n\r\ncat >meson.build <<EOF\r\nproject('proj', 'c')\r\n\r\nsources = []\r\nsubdir('dir1')\r\nsubdir('dir2')\r\nexecutable('a.out', sources: sources)\r\nEOF\r\n\r\nmeson build\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1494/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1481", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1481/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1481/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1481/events", "html_url": "https://github.com/mesonbuild/meson/issues/1481", "id": 215392490, "node_id": "MDU6SXNzdWUyMTUzOTI0OTA=", "number": 1481, "title": "get_variable() fallback does not work with arrays", "user": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 619233697, "node_id": "MDU6TGFiZWw2MTkyMzM2OTc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/parser/interpreter", "name": "parser/interpreter", "color": "CC7722", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-20T11:27:44Z", "updated_at": "2018-05-04T15:24:34Z", "closed_at": "2018-05-04T15:24:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This fails with `Items of foreach loop is not an array`:\r\n```\r\narr = get_variable('does_not_exist', [])\r\nforeach i : arr\r\n  error('Should not be reached!')\r\nendforeach\r\n```\r\nalso\r\n```\r\narr = get_variable('does_not_exist', ['a'])\r\nforeach i : arr\r\nendforeach\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1479", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1479/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1479/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1479/events", "html_url": "https://github.com/mesonbuild/meson/issues/1479", "id": 215225456, "node_id": "MDU6SXNzdWUyMTUyMjU0NTY=", "number": 1479, "title": "Attribute error on logical operations", "user": {"login": "codido", "id": 1302219, "node_id": "MDQ6VXNlcjEzMDIyMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1302219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codido", "html_url": "https://github.com/codido", "followers_url": "https://api.github.com/users/codido/followers", "following_url": "https://api.github.com/users/codido/following{/other_user}", "gists_url": "https://api.github.com/users/codido/gists{/gist_id}", "starred_url": "https://api.github.com/users/codido/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codido/subscriptions", "organizations_url": "https://api.github.com/users/codido/orgs", "repos_url": "https://api.github.com/users/codido/repos", "events_url": "https://api.github.com/users/codido/events{/privacy}", "received_events_url": "https://api.github.com/users/codido/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-18T22:13:31Z", "updated_at": "2017-03-23T19:40:01Z", "closed_at": "2017-03-23T19:40:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following snippet:\r\n```meson\r\nif true and true or true\r\n        message('Works')\r\nendif\r\n```\r\n\r\nresults in the following exception:\r\nAttributeError: 'AndNode' object has no attribute 'subdir'", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1475", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1475/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1475/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1475/events", "html_url": "https://github.com/mesonbuild/meson/issues/1475", "id": 214993100, "node_id": "MDU6SXNzdWUyMTQ5OTMxMDA=", "number": 1475, "title": "Declaring boost dependency with version requirement does not work properly ", "user": {"login": "edvardsp", "id": 1063172, "node_id": "MDQ6VXNlcjEwNjMxNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1063172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edvardsp", "html_url": "https://github.com/edvardsp", "followers_url": "https://api.github.com/users/edvardsp/followers", "following_url": "https://api.github.com/users/edvardsp/following{/other_user}", "gists_url": "https://api.github.com/users/edvardsp/gists{/gist_id}", "starred_url": "https://api.github.com/users/edvardsp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edvardsp/subscriptions", "organizations_url": "https://api.github.com/users/edvardsp/orgs", "repos_url": "https://api.github.com/users/edvardsp/repos", "events_url": "https://api.github.com/users/edvardsp/events{/privacy}", "received_events_url": "https://api.github.com/users/edvardsp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-03-17T12:45:12Z", "updated_at": "2018-12-05T17:23:05Z", "closed_at": "2018-12-05T17:23:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have declared a boost dependency with a version constraint as such:\r\n\r\n```\r\nboost_dep = dependency('boost',\r\n    modules : ['context'],\r\n    version : '>=1.61',\r\n    required : true)\r\n```\r\n\r\nOn my computer I've got boost::context version 1.58 installed. When invoking ninja, the following is printed:\r\n\r\n```\r\nDependency Boost (context) found: YES 1.58\r\n```\r\n\r\nI expected dependency to fail as the version constraint is not satisfied.\r\n\r\nDoing a direct version_compare of the returned dependency object seems to work as intended:\r\n\r\n```\r\nmessage(boost_dep.version().version_compare('>=1.61'))\r\n  => (when invoking ninja)\r\nMessage: False\r\n```\r\n\r\nBecause of this I've had to fall back to using `find_library`.\r\n\r\nI'm using Meson version 0.39.0.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1475/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1474", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1474/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1474/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1474/events", "html_url": "https://github.com/mesonbuild/meson/issues/1474", "id": 214235250, "node_id": "MDU6SXNzdWUyMTQyMzUyNTA=", "number": 1474, "title": "Errors out with 'Fallback variable xyz_dep does not exist in subproject' even though dep is optional", "user": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-14T23:17:42Z", "updated_at": "2017-03-27T19:02:07Z", "closed_at": "2017-03-27T19:02:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "gstreamer-vaapi's `meson.build` has this snippet:\r\n```\r\ngstgl_dep = dependency('gstreamer-gl-1.0', version : gst_req,\r\n  fallback : ['gst-plugins-bad', 'gstgl_dep'], required: false)\r\n```\r\n\r\nNow in the gst-plugins-bad module the variable `gstgl_dep` is not defined, since no opengl support was detected. As a result, we error out with:\r\n\r\n```\r\nMeson encountered an error in file subprojects/gstreamer-vaapi/meson.build, line 37, column 0:\r\nFallback variable 'gstgl_dep' in the subproject 'gst-plugins-bad' does not exist\r\n```\r\n\r\nHow should this scenario work?\r\n\r\nIs this a bug in Meson, and we should simply continue with 'not found' for this optional dependency in this case?\r\n\r\nOr should gst-plugins-bad always set the variable, and indicate that it's not available with an empty array? (Will that be interpreted correctly as not found then?)\r\n\r\nSomething else?\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1474/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1454", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1454/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1454/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1454/events", "html_url": "https://github.com/mesonbuild/meson/issues/1454", "id": 212587335, "node_id": "MDU6SXNzdWUyMTI1ODczMzU=", "number": 1454, "title": "get_option fails when the passed option contains a colon", "user": {"login": "MathieuDuponchelle", "id": 1278273, "node_id": "MDQ6VXNlcjEyNzgyNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1278273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDuponchelle", "html_url": "https://github.com/MathieuDuponchelle", "followers_url": "https://api.github.com/users/MathieuDuponchelle/followers", "following_url": "https://api.github.com/users/MathieuDuponchelle/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDuponchelle/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDuponchelle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDuponchelle/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDuponchelle/orgs", "repos_url": "https://api.github.com/users/MathieuDuponchelle/repos", "events_url": "https://api.github.com/users/MathieuDuponchelle/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDuponchelle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/12", "html_url": "https://github.com/mesonbuild/meson/milestone/12", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/12/labels", "id": 2373726, "node_id": "MDk6TWlsZXN0b25lMjM3MzcyNg==", "number": 12, "title": "0.40.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2017-03-09T06:24:29Z", "updated_at": "2017-06-30T15:16:07Z", "due_on": null, "closed_at": "2017-04-22T12:36:39Z"}, "comments": 0, "created_at": "2017-03-07T23:04:37Z", "updated_at": "2017-04-04T21:02:45Z", "closed_at": "2017-04-04T21:02:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "meson_options.txt:\r\n\r\n```\r\noption('foo', type : 'string', value : 'default')\r\n```\r\n\r\nmeson.build:\r\n\r\n```\r\nproject('test', 'c')\r\n\r\nmessage(get_option('foo'))\r\n```\r\n\r\n```\r\nmeson .. -Dfoo=\"bar\"\r\nThe Meson build system\r\nVersion: 0.39.0\r\nSource dir: /home/meh/devel/sandbox\r\nBuild dir: /home/meh/devel/sandbox/build\r\nBuild type: native build\r\nProject name: test\r\nNative c compiler: cc (gcc 5.3.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nMessage: bar\r\nBuild targets in project: 0\r\n```\r\n\r\n```\r\nmeson .. -Dfoo=\"bar:\"\r\nThe Meson build system\r\nVersion: 0.39.0\r\nSource dir: /home/meh/devel/sandbox\r\nBuild dir: /home/meh/devel/sandbox/build\r\nBuild type: native build\r\nProject name: test\r\nNative c compiler: cc (gcc 5.3.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nMessage: default\r\nBuild targets in project: 0\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1454/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1451", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1451/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1451/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1451/events", "html_url": "https://github.com/mesonbuild/meson/issues/1451", "id": 212422966, "node_id": "MDU6SXNzdWUyMTI0MjI5NjY=", "number": 1451, "title": "Generate shared library version arguments on macOS", "user": {"login": "ebassi", "id": 1665, "node_id": "MDQ6VXNlcjE2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebassi", "html_url": "https://github.com/ebassi", "followers_url": "https://api.github.com/users/ebassi/followers", "following_url": "https://api.github.com/users/ebassi/following{/other_user}", "gists_url": "https://api.github.com/users/ebassi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebassi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebassi/subscriptions", "organizations_url": "https://api.github.com/users/ebassi/orgs", "repos_url": "https://api.github.com/users/ebassi/repos", "events_url": "https://api.github.com/users/ebassi/events{/privacy}", "received_events_url": "https://api.github.com/users/ebassi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-03-07T12:48:55Z", "updated_at": "2018-08-29T22:51:24Z", "closed_at": "2018-08-29T22:51:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See also: anholt/libepoxy#108.\r\n\r\nOn macOS libraries should be annotated with `-compatibility_version` and `-current_version`, which are used by the linker [to determine the ABI of a shared library](https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/CreatingDynamicLibraries.html#//apple_ref/doc/uid/TP40002073-SW20).\r\n\r\nWhile the major number is set in the name of the library itself, e.g. `libfoo.1.dylib`, the minor version is set using `-current_version 1.0`, for a minor version of `1.0`. A newer micro/patch version of `libfoo` would have a `-current_version 1.1`, and so on, and so forth.\r\n\r\nThe `-compatibility_version` argument allows the linker to load backward compatible libraries. Thus, if `libfoo.1.dylib` with current version of 1.1 is backward compatible with `libfoo1.dylib` with current version 1.0, it would set `-compatibility_version 1.0`.\r\n\r\nMeson currently does not set any of these fields, which means they default both to 0. The macOS linker does not really like it when that happens, and flags libraries built with Meson as ABI-incompatible with the same library built with autotools.\r\n\r\nLibtool uses the soversion as a way to generate those values, instead:\r\n\r\n  - `version_info = \"{}:{}:{}\".format(current, revision, age)`\r\n  - `major = current - age`\r\n  - `current_version = \"{}.{}\".format((current + 1), revision)`\r\n  - `compatibility_version = current + 1`\r\n\r\nThe `major` field is used to determine the major version in the dylib file.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1433", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1433/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1433/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1433/events", "html_url": "https://github.com/mesonbuild/meson/issues/1433", "id": 210442694, "node_id": "MDU6SXNzdWUyMTA0NDI2OTQ=", "number": 1433, "title": "on 64 bit host, cross compilation install libraries in \"lib64\" instead of  \"lib\"", "user": {"login": "fabio-porcedda", "id": 1491907, "node_id": "MDQ6VXNlcjE0OTE5MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1491907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabio-porcedda", "html_url": "https://github.com/fabio-porcedda", "followers_url": "https://api.github.com/users/fabio-porcedda/followers", "following_url": "https://api.github.com/users/fabio-porcedda/following{/other_user}", "gists_url": "https://api.github.com/users/fabio-porcedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabio-porcedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabio-porcedda/subscriptions", "organizations_url": "https://api.github.com/users/fabio-porcedda/orgs", "repos_url": "https://api.github.com/users/fabio-porcedda/repos", "events_url": "https://api.github.com/users/fabio-porcedda/events{/privacy}", "received_events_url": "https://api.github.com/users/fabio-porcedda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-27T10:24:08Z", "updated_at": "2019-02-12T18:04:35Z", "closed_at": "2019-02-12T18:04:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I use a x86_64 machine to cross compile for a 32bit mips platform.\r\n\r\nMy \"cross_file.txt\" is:\r\n\r\n```ini\r\nc = '/opt/br_mips-2013.11/usr/bin/mips-linux-gcc'\r\ncpp = '/opt/br_mips-2013.11/usr/bin/mips-linux-g++'\r\nar = '/opt/br_mips-2013.11/usr/bin/mips-linux-ar'\r\nstrip = '/opt/br_mips-2013.11/usr/bin/mips-linux-strip'\r\n\r\n[host_machine]\r\nsystem = 'linux'\r\ncpu_family = 'mips'\r\ncpu = 'mips'\r\nendian = 'big'\r\n```\r\n\r\nUnfortunately when i run the \"ninja install\" target the libraries are installed in the \"lib64\" directory instead of the \"lib\" directory.\r\n\r\nI've checked the \"meson_install.py\" script but i didn't found any reference to the lib directory, what is the correct source file to check?\r\n\r\nThanks", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1433/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1420", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1420/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1420/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1420/events", "html_url": "https://github.com/mesonbuild/meson/pull/1420", "id": 209674103, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA3NTYyNDUw", "number": 1420, "title": "tests: Use #!/usr/bin/env python3 for all scripts", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-23T06:19:36Z", "updated_at": "2017-02-27T07:25:13Z", "closed_at": "2017-02-26T12:52:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1420", "html_url": "https://github.com/mesonbuild/meson/pull/1420", "diff_url": "https://github.com/mesonbuild/meson/pull/1420.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1420.patch", "merged_at": "2017-02-26T12:52:50Z"}, "body": "We automatically convert that to use `sys.executable` now which is always available on all platforms (because we're running with it).\r\n\r\nOn some platforms like NetBSD, `python` doesn't exist, and you must use a specific python version. On most other distros, `python` is Python 2, and we don't want to depend on that.\r\n\r\nCloses https://github.com/mesonbuild/meson/issues/695\r\n\r\nAll these scripts were being used as `find_program()`, so we do not lose any test coverage by doing this.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1420/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1418", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1418/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1418/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1418/events", "html_url": "https://github.com/mesonbuild/meson/pull/1418", "id": 209671907, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA3NTYwOTAw", "number": 1418, "title": "Raise if gobject-introspection is not found.", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-23T06:01:48Z", "updated_at": "2017-02-28T01:51:45Z", "closed_at": "2017-02-26T12:28:55Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1418", "html_url": "https://github.com/mesonbuild/meson/pull/1418", "diff_url": "https://github.com/mesonbuild/meson/pull/1418.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1418.patch", "merged_at": "2017-02-26T12:28:55Z"}, "body": "This used to produce a warning, but then would crash anyway with an obscure message. It's simpler if we just error out and have the user disable gir generation or install gobject-introspection.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1418/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1417", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1417/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1417/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1417/events", "html_url": "https://github.com/mesonbuild/meson/issues/1417", "id": 209670558, "node_id": "MDU6SXNzdWUyMDk2NzA1NTg=", "number": 1417, "title": "Custom Target capture doesn't work with the Visual Studio backends", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-02-23T05:50:42Z", "updated_at": "2017-03-23T20:38:05Z", "closed_at": "2017-03-23T20:38:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I found this was broken in January (626bdd183630e7b2cd15529f88ccb394054d713d), and it had been broken ever since the feature was added because the test didn't actually check if the output file had the correct contents.\r\n\r\nAt the time I was working on something else and was already at 8 levels of yak-shaving, so I just disabled the test (`test cases/common/117 custom target capture`) with the VS backend and forgot to file a bug about it.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1414", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1414/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1414/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1414/events", "html_url": "https://github.com/mesonbuild/meson/issues/1414", "id": 209410676, "node_id": "MDU6SXNzdWUyMDk0MTA2NzY=", "number": 1414, "title": "cross compilation doesn't support the \"--strip\" option", "user": {"login": "fabio-porcedda", "id": 1491907, "node_id": "MDQ6VXNlcjE0OTE5MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1491907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabio-porcedda", "html_url": "https://github.com/fabio-porcedda", "followers_url": "https://api.github.com/users/fabio-porcedda/followers", "following_url": "https://api.github.com/users/fabio-porcedda/following{/other_user}", "gists_url": "https://api.github.com/users/fabio-porcedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabio-porcedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabio-porcedda/subscriptions", "organizations_url": "https://api.github.com/users/fabio-porcedda/orgs", "repos_url": "https://api.github.com/users/fabio-porcedda/repos", "events_url": "https://api.github.com/users/fabio-porcedda/events{/privacy}", "received_events_url": "https://api.github.com/users/fabio-porcedda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-22T10:24:31Z", "updated_at": "2017-02-27T21:49:34Z", "closed_at": "2017-02-27T21:49:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "cross_file.txt:\r\nc = '/opt/br_mips-2013.11/usr/bin/mips-linux-gcc'\r\ncpp = '/opt/br_mips-2013.11/usr/bin/mips-linux-g++'\r\nar = '/opt/br_mips-2013.11/usr/bin/mips-linux-ar'\r\nstrip = '/opt/br_mips-2013.11/usr/bin/mips-linux-strip'\r\n\r\n[host_machine]\r\nsystem = 'linux'\r\ncpu_family = 'mips'\r\ncpu = 'mips'\r\nendian = 'big'\r\n\r\n\r\nWithout the \"-strip\" option it works fine:\r\nmeson --cross-file ../../../../lte1160/cross_file.txt . $d --prefix=$HOME/tmp/meson\r\nninja-build -C build\r\nninja-build -C build install\r\n\r\nWith the \"-strip\" option it doesn't work:\r\nmeson --cross-file ../../../../lte1160/cross_file.txt . $d --prefix=$HOME/tmp/meson --strip\r\nninja-build -C build\r\nninja-build -C build install\r\n\r\nStripping target 'libkt_dmc_cm-1.0.so'\r\nCould not strip file.\r\n\r\nStdout:\r\n\r\nStderr:\r\nstrip: Unable to recognise the format of the input file `/home/fabiopo/tmp/meson/lib64/libkt_dmc_cm-1.0.so'\r\n\r\nFAILED: install \r\n'/usr/bin/python3' '/home/fabiopo/packages/meson/meson.py' '--internal' 'install' '/ssd/lte/app-2/tcommon/src/oma-dm/kt_lib/build/meson-private/install.dat'\r\nninja: build stopped: subcommand failed.\r\n\r\n\r\nI'm doing something wrong? It is expected? Any suggestion on how to fix it?\r\n\r\nThanks\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1414/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1413", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1413/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1413/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1413/events", "html_url": "https://github.com/mesonbuild/meson/issues/1413", "id": 209202033, "node_id": "MDU6SXNzdWUyMDkyMDIwMzM=", "number": 1413, "title": "Wrap target directory not checked", "user": {"login": "becm", "id": 11076590, "node_id": "MDQ6VXNlcjExMDc2NTkw", "avatar_url": "https://avatars.githubusercontent.com/u/11076590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/becm", "html_url": "https://github.com/becm", "followers_url": "https://api.github.com/users/becm/followers", "following_url": "https://api.github.com/users/becm/following{/other_user}", "gists_url": "https://api.github.com/users/becm/gists{/gist_id}", "starred_url": "https://api.github.com/users/becm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/becm/subscriptions", "organizations_url": "https://api.github.com/users/becm/orgs", "repos_url": "https://api.github.com/users/becm/repos", "events_url": "https://api.github.com/users/becm/events{/privacy}", "received_events_url": "https://api.github.com/users/becm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 764129641, "node_id": "MDU6TGFiZWw3NjQxMjk2NDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/subprojects/wraps", "name": "subprojects/wraps", "color": "c2ed4e", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-02-21T16:40:05Z", "updated_at": "2018-10-27T13:36:02Z", "closed_at": "2018-10-27T13:36:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "No check is performed on the target directory for `wrap` files.\r\nNecessary `subdir()` checks are applied too late in process.\r\n\r\nInitial clone can lead to `out-of-tree` directory creation in arbitrary location.\r\nLarge amounts of data may be downloaded to unusable location.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1413/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1403", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1403/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1403/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1403/events", "html_url": "https://github.com/mesonbuild/meson/pull/1403", "id": 208690696, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2ODg2NzQ5", "number": 1403, "title": "Make configure_file() great again", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-19T03:16:16Z", "updated_at": "2017-02-20T19:33:19Z", "closed_at": "2017-02-20T19:27:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1403", "html_url": "https://github.com/mesonbuild/meson/pull/1403", "diff_url": "https://github.com/mesonbuild/meson/pull/1403.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1403.patch", "merged_at": "2017-02-20T19:27:06Z"}, "body": "Needed for https://github.com/mesonbuild/meson/issues/1380.\r\n\r\nLots of changes. Just, like, look at the commits man. *tired face*", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1403/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 1, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1403/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1400", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1400/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1400/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1400/events", "html_url": "https://github.com/mesonbuild/meson/pull/1400", "id": 208660443, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2ODcxODkz", "number": 1400, "title": "gnome: Fix minimum gresource dependency required", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/11", "html_url": "https://github.com/mesonbuild/meson/milestone/11", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/11/labels", "id": 2318431, "node_id": "MDk6TWlsZXN0b25lMjMxODQzMQ==", "number": 11, "title": "0.38.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2017-02-13T10:48:18Z", "updated_at": "2017-03-09T06:24:20Z", "due_on": null, "closed_at": "2017-03-09T06:24:20Z"}, "comments": 0, "created_at": "2017-02-18T18:35:00Z", "updated_at": "2017-02-19T18:17:06Z", "closed_at": "2017-02-19T18:14:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1400", "html_url": "https://github.com/mesonbuild/meson/pull/1400", "diff_url": "https://github.com/mesonbuild/meson/pull/1400.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1400.patch", "merged_at": "2017-02-19T18:14:09Z"}, "body": "This is the latest release of glib that exists and has the required dependency-generation fixes.\r\n\r\nWithout this GNOME Recipes cannot even configure.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1400/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1399", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1399/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1399/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1399/events", "html_url": "https://github.com/mesonbuild/meson/pull/1399", "id": 208645833, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2ODYzNzU1", "number": 1399, "title": "Fix directory context for git wrap check", "user": {"login": "becm", "id": 11076590, "node_id": "MDQ6VXNlcjExMDc2NTkw", "avatar_url": "https://avatars.githubusercontent.com/u/11076590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/becm", "html_url": "https://github.com/becm", "followers_url": "https://api.github.com/users/becm/followers", "following_url": "https://api.github.com/users/becm/following{/other_user}", "gists_url": "https://api.github.com/users/becm/gists{/gist_id}", "starred_url": "https://api.github.com/users/becm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/becm/subscriptions", "organizations_url": "https://api.github.com/users/becm/orgs", "repos_url": "https://api.github.com/users/becm/repos", "events_url": "https://api.github.com/users/becm/events{/privacy}", "received_events_url": "https://api.github.com/users/becm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-18T14:45:16Z", "updated_at": "2017-02-27T18:04:21Z", "closed_at": "2017-02-27T18:04:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1399", "html_url": "https://github.com/mesonbuild/meson/pull/1399", "diff_url": "https://github.com/mesonbuild/meson/pull/1399.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1399.patch", "merged_at": "2017-02-27T18:04:21Z"}, "body": "If directory for git wrap exists, `git rev-parse` check fails due to running with bad working directory.\r\nError is masked when main project is itself a git repository (or located inside one).\r\n\r\nAre there reasons why wrapped subproject are not downloaded into the build folder instead?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1399/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1391", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1391/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1391/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1391/events", "html_url": "https://github.com/mesonbuild/meson/pull/1391", "id": 207845788, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA2MzQwNDg1", "number": 1391, "title": "custom_target: Recursively flatten `command:`", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/11", "html_url": "https://github.com/mesonbuild/meson/milestone/11", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/11/labels", "id": 2318431, "node_id": "MDk6TWlsZXN0b25lMjMxODQzMQ==", "number": 11, "title": "0.38.2", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2017-02-13T10:48:18Z", "updated_at": "2017-03-09T06:24:20Z", "due_on": null, "closed_at": "2017-03-09T06:24:20Z"}, "comments": 0, "created_at": "2017-02-15T15:59:32Z", "updated_at": "2017-02-18T15:25:32Z", "closed_at": "2017-02-17T20:42:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1391", "html_url": "https://github.com/mesonbuild/meson/pull/1391", "diff_url": "https://github.com/mesonbuild/meson/pull/1391.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1391.patch", "merged_at": "2017-02-17T20:42:13Z"}, "body": "Without this, `files()` in the arguments give an error because it's a list of `mesonlib.File` objects:\r\n\r\n    Array as argument 1 contains a non-string.\r\n\r\nIt also breaks in nested lists. Includes a test for this.\r\n\r\nReported by @ebassi on IRC.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1391/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1387", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1387/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1387/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1387/events", "html_url": "https://github.com/mesonbuild/meson/issues/1387", "id": 207658464, "node_id": "MDU6SXNzdWUyMDc2NTg0NjQ=", "number": 1387, "title": "gnome: gdbus_codegen includes outdir in include", "user": {"login": "TingPing", "id": 798838, "node_id": "MDQ6VXNlcjc5ODgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/798838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TingPing", "html_url": "https://github.com/TingPing", "followers_url": "https://api.github.com/users/TingPing/followers", "following_url": "https://api.github.com/users/TingPing/following{/other_user}", "gists_url": "https://api.github.com/users/TingPing/gists{/gist_id}", "starred_url": "https://api.github.com/users/TingPing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TingPing/subscriptions", "organizations_url": "https://api.github.com/users/TingPing/orgs", "repos_url": "https://api.github.com/users/TingPing/repos", "events_url": "https://api.github.com/users/TingPing/events{/privacy}", "received_events_url": "https://api.github.com/users/TingPing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-14T22:42:17Z", "updated_at": "2017-03-21T21:13:43Z", "closed_at": "2017-03-21T21:13:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "So what I mean by that is if you have the tree:\r\n\r\n- meson.build\r\n- src\r\n  - meson.build (calling `gnome.gdbus_codegen`)\r\n\r\nThe output source file will include `#include \"src/foo.h\"`\r\n\r\nOur [test](https://github.com/mesonbuild/meson/blob/7144b03fd412e9a441d9abaa615d90af348a9137/test%20cases/frameworks/7%20gnome/gdbus/meson.build#L7) even relies upon this behavior which I'd argue is simply wrong.\r\n\r\nThe problem seems to be that `gdbus-codgen` gets the include line based upon the `--generate-c-code` flag. So either we need to run the command in the correct subdir or add a new flag to `gdbus-codgen` to specify the output directory.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1387/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1380", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1380/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1380/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1380/events", "html_url": "https://github.com/mesonbuild/meson/issues/1380", "id": 207095540, "node_id": "MDU6SXNzdWUyMDcwOTU1NDA=", "number": 1380, "title": "gnome: compile_resources: can't take custom_target or configure_file as input XML", "user": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-13T00:10:04Z", "updated_at": "2017-02-20T19:27:09Z", "closed_at": "2017-02-20T19:27:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\r\n\r\n\r\n\r\n\r\nIf I generate a gresources.xml file with a python script and a custom_target, and then pass the custom_target as input file to compile_resources(), I get:\r\n\r\n```\r\n  File \"/usr/share/meson/mesonbuild/interpreter.py\", line 982, in method_call\r\n    value = fn(state, args, kwargs)\r\n  File \"/usr/share/meson/mesonbuild/modules/gnome.py\", line 108, in compile_resources\r\n    raise RuntimeError('Unreachable code.')\r\n```\r\n(This is what's done in Gtk+ fwiw).", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1380/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1372", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1372/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1372/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1372/events", "html_url": "https://github.com/mesonbuild/meson/issues/1372", "id": 206175675, "node_id": "MDU6SXNzdWUyMDYxNzU2NzU=", "number": 1372, "title": "gnome.gtkdoc getting wrong linker flags", "user": {"login": "ebassi", "id": 1665, "node_id": "MDQ6VXNlcjE2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebassi", "html_url": "https://github.com/ebassi", "followers_url": "https://api.github.com/users/ebassi/followers", "following_url": "https://api.github.com/users/ebassi/following{/other_user}", "gists_url": "https://api.github.com/users/ebassi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebassi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebassi/subscriptions", "organizations_url": "https://api.github.com/users/ebassi/orgs", "repos_url": "https://api.github.com/users/ebassi/repos", "events_url": "https://api.github.com/users/ebassi/events{/privacy}", "received_events_url": "https://api.github.com/users/ebassi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-08T11:47:54Z", "updated_at": "2017-02-09T21:02:22Z", "closed_at": "2017-02-09T21:02:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Issue #981 added the `--extra-library` argument to the introspection scanner's flag, but in doing so it modified the linker flags passed to the gtk-doc helper.\r\n\r\nNow, you get:\r\n\r\n```sh\r\nRunning custom install script '/usr/bin/python3 /usr/bin/meson --internal gtkdoc \\\r\n--sourcedir=/home/nacho/checkout/gnome/libgit2-glib \\\r\n--builddir=/home/nacho/checkout/gnome/libgit2-glib/build \\\r\n--subdir=docs/reference \\\r\n--headerdirs=/home/nacho/checkout/gnome/libgit2-glib/libgit2-glib \\\r\n--mainfile=libgit2-glib-1.0-docs.sgml \\\r\n--modulename=libgit2-glib-1.0 --mode=auto \\\r\n--scanargs=--rebuild-types@@--ignore-headers=config.h ggit-convert.h ggit-utils.h \\\r\n--gobjects-types-file=libgit2-glib-1.0.types \\\r\n--fixxrefargs=--extra-dir=/opt/gnome/share/gtk-doc/html/glib@@--extra-dir=/opt/gnome/share/gtk-doc/html/gobject@@--extra-dir=/opt/gnome/share/gtk-doc/html/gio \\\r\n--cflags=-I/home/nacho/checkout/gnome/libgit2-glib/build -I/home/nacho/checkout/gnome/libgit2-glib -I/opt/gnome/include/glib-2.0 -I/opt/gnome/lib/glib-2.0/include -I/home/nacho/checkout/gnome/libgit2-glib/libgit2-glib -I/home/nacho/checkout/gnome/libgit2-glib/build/libgit2-glib -pthread \\\r\n--ldflags=-L/home/nacho/checkout/gnome/libgit2-glib/build/libgit2-glib --extra-library=gio-2.0 --extra-library=libgit2-glib-0.0 -Wl,-rpath /home/nacho/checkout/gnome/libgit2-glib/build/libgit2-glib --extra-library=glib-2.0 --extra-library=git2 --extra-library=gobject-2.0 -L/opt/gnome/lib --cc=cc --ld=cc'\r\nBuilding documentation for libgit2-glib-1.0\r\n \r\nError in gtkdoc helper script:\r\n'gtkdoc-scangobj' failed with status 1\r\ngcc: error: unrecognized command line option \u2018--extra-library=gio-2.0\u2019\r\ngcc: error: unrecognized command line option \u2018--extra-library=libgit2-glib-0.0\u2019\r\ngcc: error: unrecognized command line option \u2018--extra-library=glib-2.0\u2019\r\ngcc: error: unrecognized command line option \u2018--extra-library=git2\u2019\r\ngcc: error: unrecognized command line option \u2018--extra-library=gobject-2.0\u2019\r\n```\r\n\r\nBecause of the overeager substitution of `-L` flags.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1372/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1371", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1371/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1371/events", "html_url": "https://github.com/mesonbuild/meson/issues/1371", "id": 206165390, "node_id": "MDU6SXNzdWUyMDYxNjUzOTA=", "number": 1371, "title": "IndexError in mesontest when using add_test_setup", "user": {"login": "gdesmott", "id": 1379524, "node_id": "MDQ6VXNlcjEzNzk1MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1379524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdesmott", "html_url": "https://github.com/gdesmott", "followers_url": "https://api.github.com/users/gdesmott/followers", "following_url": "https://api.github.com/users/gdesmott/following{/other_user}", "gists_url": "https://api.github.com/users/gdesmott/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdesmott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdesmott/subscriptions", "organizations_url": "https://api.github.com/users/gdesmott/orgs", "repos_url": "https://api.github.com/users/gdesmott/repos", "events_url": "https://api.github.com/users/gdesmott/events{/privacy}", "received_events_url": "https://api.github.com/users/gdesmott/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-02-08T11:06:31Z", "updated_at": "2017-02-20T19:56:46Z", "closed_at": "2017-02-20T19:56:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use add_test_setup() in gst-build ( https://cgit.freedesktop.org/gstreamer/gst-build/tree/meson.build ) \r\n\r\n```diff\r\ndiff --git a/meson.build b/meson.build\r\nindex b5283ea..6f8397b 100644\r\n--- a/meson.build\r\n+++ b/meson.build\r\n@@ -1,4 +1,4 @@\r\n-project('All GStreamer modules', 'c', version : '1.11.1.1', meson_version : '>= 0.36')\r\n+project('All GStreamer modules', 'c', version : '1.11.1.1', meson_version : '>= 0.38')\r\n \r\n gst_version = '>= @0@'.format(meson.project_version())\r\n gst_branch = 'master'\r\n@@ -101,3 +101,7 @@ update = find_program('git-update')\r\n run_target('git-update', command : [update])\r\n run_target('update', command : [update,\r\n     '--builddir=@0@'.format(meson.current_build_dir())])\r\n+\r\n+env = environment()\r\n+env.set('GST_TRACERS', 'leaks')\r\n+add_test_setup('leaks', env: env)\r\n```\r\n\r\nBut doing so raises an exception in `mesontest`\r\n\r\n```\r\n$ /home/cassidy/dev/meson/mesontest.py -C build --setup leaks\r\nninja: Entering directory `/home/cassidy/dev/gst/master/gst-build/build'\r\nninja: no work to do.\r\nTraceback (most recent call last):\r\n  File \"/home/cassidy/dev/meson/mesontest.py\", line 579, in <module>\r\n    sys.exit(run(sys.argv[1:]))\r\n  File \"/home/cassidy/dev/meson/mesontest.py\", line 575, in run\r\n    return th.doit()\r\n  File \"/home/cassidy/dev/meson/mesontest.py\", line 337, in doit\r\n    self.run_tests(tests)\r\n  File \"/home/cassidy/dev/meson/mesontest.py\", line 458, in run_tests\r\n    (logfile, logfilename, jsonlogfile, jsonlogfilename) = self.open_log_files()\r\n  File \"/home/cassidy/dev/meson/mesontest.py\", line 415, in open_log_files\r\n    namebase = os.path.split(self.get_wrapper()[0])[1]\r\nIndexError: list index out of range\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1370", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1370/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1370/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1370/events", "html_url": "https://github.com/mesonbuild/meson/issues/1370", "id": 205885033, "node_id": "MDU6SXNzdWUyMDU4ODUwMzM=", "number": 1370, "title": "Compilation/linking of executable with ASM source uses C++", "user": {"login": "fooishbar", "id": 2331303, "node_id": "MDQ6VXNlcjIzMzEzMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/2331303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fooishbar", "html_url": "https://github.com/fooishbar", "followers_url": "https://api.github.com/users/fooishbar/followers", "following_url": "https://api.github.com/users/fooishbar/following{/other_user}", "gists_url": "https://api.github.com/users/fooishbar/gists{/gist_id}", "starred_url": "https://api.github.com/users/fooishbar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fooishbar/subscriptions", "organizations_url": "https://api.github.com/users/fooishbar/orgs", "repos_url": "https://api.github.com/users/fooishbar/repos", "events_url": "https://api.github.com/users/fooishbar/events{/privacy}", "received_events_url": "https://api.github.com/users/fooishbar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/12", "html_url": "https://github.com/mesonbuild/meson/milestone/12", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/12/labels", "id": 2373726, "node_id": "MDk6TWlsZXN0b25lMjM3MzcyNg==", "number": 12, "title": "0.40.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2017-03-09T06:24:29Z", "updated_at": "2017-06-30T15:16:07Z", "due_on": null, "closed_at": "2017-04-22T12:36:39Z"}, "comments": 0, "created_at": "2017-02-07T13:20:36Z", "updated_at": "2017-04-01T21:15:22Z", "closed_at": "2017-04-01T21:15:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As documented in:\r\nhttps://gist.github.com/fooishbar/37a6b71b7c028bb1df8f1ea1ff09ba92\r\n\r\nThat executable contains some .c files and a .S file, added to sources the normal way with a plan executable() target. The .S file is compiled with the C++ compiler, which seems to cause the final executable to be linked with the C++ compiler/linker, and we gain an additional unwanted runtime dependency on libstdc++ as a result.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1370/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1360", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1360/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1360/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1360/events", "html_url": "https://github.com/mesonbuild/meson/pull/1360", "id": 205246783, "node_id": "MDExOlB1bGxSZXF1ZXN0MTA0NTk1NDU2", "number": 1360, "title": "test cases\\common\\135 generated assembly: rename copy.py", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/10", "html_url": "https://github.com/mesonbuild/meson/milestone/10", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/10/labels", "id": 2295182, "node_id": "MDk6TWlsZXN0b25lMjI5NTE4Mg==", "number": 10, "title": "0.38.1", "description": "PRs with regressions and bugfixes", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2017-02-02T14:00:05Z", "updated_at": "2017-02-13T10:49:08Z", "due_on": "2017-02-08T08:00:00Z", "closed_at": "2017-02-10T10:43:20Z"}, "comments": 3, "created_at": "2017-02-03T19:25:31Z", "updated_at": "2017-02-06T18:10:39Z", "closed_at": "2017-02-06T18:10:39Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1360", "html_url": "https://github.com/mesonbuild/meson/pull/1360", "diff_url": "https://github.com/mesonbuild/meson/pull/1360.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1360.patch", "merged_at": "2017-02-06T18:10:38Z"}, "body": "Looks like Python ~~bug causes it to try to~~ uses the script it's running as the module file for the ~~built-in~~ `copy` module. Only seems to happen on ArchLinux and MSYS2 ~~(which is based on ArchLinux)~~.\r\n\r\nCloses https://github.com/mesonbuild/meson/issues/1359\r\n\r\nPatch by @msink ", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1360/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1358", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1358/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1358/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1358/events", "html_url": "https://github.com/mesonbuild/meson/issues/1358", "id": 205239134, "node_id": "MDU6SXNzdWUyMDUyMzkxMzQ=", "number": 1358, "title": "Including directories relative to source_root() escapes the build directory", "user": {"login": "codido", "id": 1302219, "node_id": "MDQ6VXNlcjEzMDIyMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1302219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codido", "html_url": "https://github.com/codido", "followers_url": "https://api.github.com/users/codido/followers", "following_url": "https://api.github.com/users/codido/following{/other_user}", "gists_url": "https://api.github.com/users/codido/gists{/gist_id}", "starred_url": "https://api.github.com/users/codido/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codido/subscriptions", "organizations_url": "https://api.github.com/users/codido/orgs", "repos_url": "https://api.github.com/users/codido/repos", "events_url": "https://api.github.com/users/codido/events{/privacy}", "received_events_url": "https://api.github.com/users/codido/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-02-03T18:51:49Z", "updated_at": "2017-02-24T09:02:21Z", "closed_at": "2017-02-24T09:02:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a meson.build script includes a subdir from a directory relative to source_root(), targets in that directory may be built in the source tree rather than the build directory.\r\n\r\nFor instance, say we have the following:\r\nmeson.build:\r\n```\r\nproject('test', 'c')\r\n\r\nsubdir(join_paths(meson.source_root(), 'sub'))\r\n```\r\nsub/meson.build:\r\n```\r\nstatic_library('foo', 'foo.c')\r\n```\r\n\r\nBuilding the project will actually build libfoo inside the source tree:\r\n```\r\n$ meson build && cd build && ninja\r\nThe Meson build system\r\nVersion: 0.38.1\r\nSource dir: /tmp/bug\r\nBuild dir: /tmp/bug/build\r\nBuild type: native build\r\nProject name: test\r\nNative c compiler: ccache cc (gcc 6.3.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nBuild targets in project: 1\r\n[2/2] Static linking library /tmp/bug/sub/libfoo.a\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1358/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1355", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1355/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1355/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1355/events", "html_url": "https://github.com/mesonbuild/meson/issues/1355", "id": 205091223, "node_id": "MDU6SXNzdWUyMDUwOTEyMjM=", "number": 1355, "title": "Static library may contain stale object files", "user": {"login": "codido", "id": 1302219, "node_id": "MDQ6VXNlcjEzMDIyMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1302219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codido", "html_url": "https://github.com/codido", "followers_url": "https://api.github.com/users/codido/followers", "following_url": "https://api.github.com/users/codido/following{/other_user}", "gists_url": "https://api.github.com/users/codido/gists{/gist_id}", "starred_url": "https://api.github.com/users/codido/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codido/subscriptions", "organizations_url": "https://api.github.com/users/codido/orgs", "repos_url": "https://api.github.com/users/codido/repos", "events_url": "https://api.github.com/users/codido/events{/privacy}", "received_events_url": "https://api.github.com/users/codido/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/9", "html_url": "https://github.com/mesonbuild/meson/milestone/9", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/9/labels", "id": 2291373, "node_id": "MDk6TWlsZXN0b25lMjI5MTM3Mw==", "number": 9, "title": "0.39.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2017-02-01T05:15:09Z", "updated_at": "2017-03-09T06:24:42Z", "due_on": null, "closed_at": "2017-03-09T06:24:16Z"}, "comments": 1, "created_at": "2017-02-03T07:42:10Z", "updated_at": "2017-02-19T17:37:57Z", "closed_at": "2017-02-19T17:37:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a meson build script removes files from a static library, they may still reside in the resulting library after rebuilding.\r\n\r\nFor example, if the following is built:\r\n```\r\nproject('test', 'c')\r\n\r\nlib = static_library('foo', 'file1.c')\r\n\r\nexecutable('a.out', 'main.c', link_with: lib)\r\n```\r\n\r\nlibfoo.a will include file1.c.o. However, if meson.build is changed so file2.c is used instead, libfoo.a will include both file1.c.o and file2.c.o:\r\n```\r\n$ nm libfoo.a \r\n\r\nfile1.c.o:\r\n...\r\n\r\nfile2.c.o:\r\n...\r\n```\r\n\r\nAt least on gcc, linking the final executable will link in file1.o (most likely because it precedes file2.o), which would result in a broken executable if at all.\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1355/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1348", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1348/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1348/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1348/events", "html_url": "https://github.com/mesonbuild/meson/issues/1348", "id": 204442580, "node_id": "MDU6SXNzdWUyMDQ0NDI1ODA=", "number": 1348, "title": "Meson does not scan generated Fortran code for module deps", "user": {"login": "adamryczkowski", "id": 4469707, "node_id": "MDQ6VXNlcjQ0Njk3MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4469707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamryczkowski", "html_url": "https://github.com/adamryczkowski", "followers_url": "https://api.github.com/users/adamryczkowski/followers", "following_url": "https://api.github.com/users/adamryczkowski/following{/other_user}", "gists_url": "https://api.github.com/users/adamryczkowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamryczkowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamryczkowski/subscriptions", "organizations_url": "https://api.github.com/users/adamryczkowski/orgs", "repos_url": "https://api.github.com/users/adamryczkowski/repos", "events_url": "https://api.github.com/users/adamryczkowski/events{/privacy}", "received_events_url": "https://api.github.com/users/adamryczkowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 487360419, "node_id": "MDU6TGFiZWw0ODczNjA0MTk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/support/RFC", "name": "support/RFC", "color": "B05386", "default": false, "description": ""}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2017-01-31T22:26:21Z", "updated_at": "2019-07-17T00:27:01Z", "closed_at": "2019-07-17T00:27:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is the minimum `meson.build` to reproduce the error:\r\n\r\n```\r\nproject('simple fortran', 'fortran')\r\npp = find_program('python/pp_ser.py')\r\npp_gen = generator(pp, \r\n\t\targuments: ['-d @BUILD_DIR@', '@INPUT@'], output:'@BASENAME@.f90')\r\nsources = ['src1.f90'   ]\r\ngenerated_src = []\r\nforeach s : sources\r\n   generated_src += pp_gen.process(s)\r\nendforeach\r\ne = executable('dwarf', generated_src)\r\n```\r\nYou also need to `touch src1.f90` and `echo \"#!/usr/bin/env python\">pp_ser.py` in the same directory as `meson.build`.\r\n\r\nAfter `mkdir build && cd build && meson ..` I get\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.38.0\r\nSource dir: /home/Adama-docs/Adam/MyDocs/praca/IMGW/dev/meson_bug\r\nBuild dir: /home/Adama-docs/Adam/MyDocs/praca/IMGW/dev/meson_bug/build\r\nBuild type: native build\r\nProject name: simple fortran\r\nNative fortran compiler: gfortran (gcc 5.4.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nProgram pp_ser.py found: YES (/usr/bin/env python /home/adam/meson_bug/pp_ser.py)\r\nBuild targets in project: 1\r\nTraceback (most recent call last):\r\n  File \"/home/adam/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 286, in run\r\n    app.generate()\r\n  File \"/home/adam/.local/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 170, in generate\r\n    g.generate(intr)\r\n  File \"/home/adam/.local/lib/python3.5/site-packages/mesonbuild/backend/ninjabackend.py\", line 191, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"/home/adam/.local/lib/python3.5/site-packages/mesonbuild/backend/ninjabackend.py\", line 386, in generate_target\r\n    header_deps=header_deps)\r\n  File \"/home/adam/.local/lib/python3.5/site-packages/mesonbuild/backend/ninjabackend.py\", line 1916, in generate_single_compile\r\n    extra_deps += self.get_fortran_deps(compiler, abs_src, target)\r\n  File \"/home/adam/.local/lib/python3.5/site-packages/mesonbuild/backend/ninjabackend.py\", line 1632, in get_fortran_deps\r\n    with open(src) as f:\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/adam/meson_bug/build/dwarf@exe/src1.f90'\r\n```\r\n\r\nI use Ubuntu 16.04 bit and meson 0.38. `python3 --version` yields `Python 3.5.2`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1343", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1343/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1343/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1343/events", "html_url": "https://github.com/mesonbuild/meson/issues/1343", "id": 203963760, "node_id": "MDU6SXNzdWUyMDM5NjM3NjA=", "number": 1343, "title": "jar install fails when strip enabled", "user": {"login": "fatih-asici", "id": 1232765, "node_id": "MDQ6VXNlcjEyMzI3NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1232765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatih-asici", "html_url": "https://github.com/fatih-asici", "followers_url": "https://api.github.com/users/fatih-asici/followers", "following_url": "https://api.github.com/users/fatih-asici/following{/other_user}", "gists_url": "https://api.github.com/users/fatih-asici/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatih-asici/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatih-asici/subscriptions", "organizations_url": "https://api.github.com/users/fatih-asici/orgs", "repos_url": "https://api.github.com/users/fatih-asici/repos", "events_url": "https://api.github.com/users/fatih-asici/events{/privacy}", "received_events_url": "https://api.github.com/users/fatih-asici/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-01-30T09:45:41Z", "updated_at": "2017-02-06T18:09:25Z", "closed_at": "2017-02-06T18:09:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "My C library has a java binding. When I try to install library with `strip` option enabled, it fails because of the jar target. The following output belongs to the test case `java/1 basic`, with `install` argument added to the jar target:\r\n\r\n```sh\r\n$ DESTDIR=tmp ninja install\r\n[0/1] Installing files.\r\nInstalling myprog.jar to tmp/usr/local/lib/x86_64-linux-gnu/myprog.jar\r\nStripping target 'myprog.jar'\r\nCould not strip file.\r\n\r\nStdout:\r\n\r\n\r\nStderr:\r\nstrip:tmp/usr/local/lib/x86_64-linux-gnu/myprog.jar: File format not recognized\r\n\r\n\r\nFAILED: install \r\n'/usr/bin/python3' '/usr/local/bin/meson' '--internal' 'install' '/home/fatih/git/meson/test cases/java/1 basic/build/meson-private/install.dat'\r\nninja: build stopped: subcommand failed.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1343/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1335", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1335/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1335/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1335/events", "html_url": "https://github.com/mesonbuild/meson/pull/1335", "id": 203245133, "node_id": "MDExOlB1bGxSZXF1ZXN0MTAzMjIwNTQ0", "number": 1335, "title": "tests: check custom target output is created before being used in a t\u2026", "user": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-25T22:44:49Z", "updated_at": "2017-01-28T17:05:54Z", "closed_at": "2017-01-28T17:05:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1335", "html_url": "https://github.com/mesonbuild/meson/pull/1335", "diff_url": "https://github.com/mesonbuild/meson/pull/1335.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1335.patch", "merged_at": "2017-01-28T17:05:54Z"}, "body": "\u2026est command\r\n\r\nThis is a test case for a bug.\r\n\r\nFIXME: update test number + description depending on the problem.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1335/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1318", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1318/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1318/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1318/events", "html_url": "https://github.com/mesonbuild/meson/issues/1318", "id": 201935857, "node_id": "MDU6SXNzdWUyMDE5MzU4NTc=", "number": 1318, "title": "Compilation of generated LLVM IR sources is broken", "user": {"login": "npmccallum", "id": 288304, "node_id": "MDQ6VXNlcjI4ODMwNA==", "avatar_url": "https://avatars.githubusercontent.com/u/288304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/npmccallum", "html_url": "https://github.com/npmccallum", "followers_url": "https://api.github.com/users/npmccallum/followers", "following_url": "https://api.github.com/users/npmccallum/following{/other_user}", "gists_url": "https://api.github.com/users/npmccallum/gists{/gist_id}", "starred_url": "https://api.github.com/users/npmccallum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/npmccallum/subscriptions", "organizations_url": "https://api.github.com/users/npmccallum/orgs", "repos_url": "https://api.github.com/users/npmccallum/repos", "events_url": "https://api.github.com/users/npmccallum/events{/privacy}", "received_events_url": "https://api.github.com/users/npmccallum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-19T18:15:41Z", "updated_at": "2017-01-23T18:42:48Z", "closed_at": "2017-01-23T18:42:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. Usage a generator to generate LLVM IR\r\n2. Compile the resulting LLVM IR\r\n3. Compilation succeeds, but the binary doesn't contain any output\r\n\r\nExample: https://github.com/npmccallum/whitfield/blob/master/meson.build", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1299", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1299/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1299/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1299/events", "html_url": "https://github.com/mesonbuild/meson/issues/1299", "id": 200524968, "node_id": "MDU6SXNzdWUyMDA1MjQ5Njg=", "number": 1299, "title": "Return value of get_option('xxxdir') is inconsistent", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/6", "html_url": "https://github.com/mesonbuild/meson/milestone/6", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/6/labels", "id": 2202680, "node_id": "MDk6TWlsZXN0b25lMjIwMjY4MA==", "number": 6, "title": "0.38.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-12-18T04:58:13Z", "updated_at": "2017-02-01T05:15:22Z", "due_on": null, "closed_at": "2017-02-01T05:14:52Z"}, "comments": 3, "created_at": "2017-01-13T01:20:26Z", "updated_at": "2017-01-23T18:34:46Z", "closed_at": "2017-01-23T18:34:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since we started allowing passing absolute paths to `xxxdir` such as `--libdir`, it is difficult to know whether `get_option('libdir')` will return the full path to `libdir` or just the path relative to `prefix`.\r\n\r\nNormally this is not a problem because people will use `join_paths([get_option('prefix'), get_option('libdir')])` which will do the right thing when `get_option('libdir')` returns an absolute path. However, there are use-cases where people want to just fetch the value of `libdir` relative to `prefix`.\r\n\r\nFor instance, Gentoo's init system OpenRC installs libraries in `/usr/lib64` and some of its binaries and scripts (which are not accessible to the user) into `/lib64/rc/bin`, `/lib64/rc/sbin`, `/lib64/rc/sbin`, etc. Gentoo does not use a unified `/usr`, so `/usr/lib64` is not the same as `/lib64`. I can imagine that lots of other 'system-level' projects for distros that don't have a unified `/usr` will face this issue.\r\n\r\nThere are examples in GStreamer as well besides \"non-unified /usr\"; just search for `grep --include=meson.build -re 'get_option.*libdir'` inside [gst-build](https://cgit.freedesktop.org/gstreamer/gst-build/) with the subprojects cloned. Perhaps many of those can be 'fixed' or changed, but people will keep writing build files with these issues.\r\n\r\nI propose that if `xxxdir` is an absolute path and a subdir of `prefix`, `get_option('xxxdir')` should return the path **relative to `prefix`**. If it is not, only then must it return the absolute path.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1247", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1247/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1247/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1247/events", "html_url": "https://github.com/mesonbuild/meson/pull/1247", "id": 197021119, "node_id": "MDExOlB1bGxSZXF1ZXN0OTg5OTYyMTE=", "number": 1247, "title": "Fix soname symlinking after installation", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/8", "html_url": "https://github.com/mesonbuild/meson/milestone/8", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/8/labels", "id": 2210620, "node_id": "MDk6TWlsZXN0b25lMjIxMDYyMA==", "number": 8, "title": "0.37.2", "description": "Creating this now in case we have enough regressions for another bugfix release.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-12-21T18:40:14Z", "updated_at": "2017-02-01T05:14:44Z", "due_on": null, "closed_at": "2017-02-01T05:14:44Z"}, "comments": 3, "created_at": "2016-12-21T20:06:21Z", "updated_at": "2016-12-22T22:28:01Z", "closed_at": "2016-12-22T22:28:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1247", "html_url": "https://github.com/mesonbuild/meson/pull/1247", "diff_url": "https://github.com/mesonbuild/meson/pull/1247.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1247.patch", "merged_at": "2016-12-22T22:28:01Z"}, "body": "This PR currently only adds a unit test that tests whether the sonames are correct after installation.\r\n\r\nSince our installed soname symlinking is broken, this will fail. I'll add a patch that fixes this next.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1247/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1194", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1194/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1194/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1194/events", "html_url": "https://github.com/mesonbuild/meson/pull/1194", "id": 195591693, "node_id": "MDExOlB1bGxSZXF1ZXN0OTc5OTYyNjg=", "number": 1194, "title": "A bunch of bugfixes for Vala", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-12-14T17:17:10Z", "updated_at": "2016-12-15T20:20:03Z", "closed_at": "2016-12-15T20:20:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1194", "html_url": "https://github.com/mesonbuild/meson/pull/1194", "diff_url": "https://github.com/mesonbuild/meson/pull/1194.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1194.patch", "merged_at": "2016-12-15T20:20:03Z"}, "body": "1) Fixes #1084\r\n2) Fixes `--target-glib=` `valac` arg when only one version requirement is passed to dependency('glib-2.0')\r\n3) Pass `--gresources` to `valac` when a `gnome.compile_resources()` source target is in the Vala target's sources\r\n4) Add tests for all these + for hand-written Vapi files", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1194/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1178", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1178/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1178/events", "html_url": "https://github.com/mesonbuild/meson/issues/1178", "id": 194758599, "node_id": "MDU6SXNzdWUxOTQ3NTg1OTk=", "number": 1178, "title": "libhttpseverywhere fails to build on Meson master", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/12", "html_url": "https://github.com/mesonbuild/meson/milestone/12", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/12/labels", "id": 2373726, "node_id": "MDk6TWlsZXN0b25lMjM3MzcyNg==", "number": 12, "title": "0.40.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2017-03-09T06:24:29Z", "updated_at": "2017-06-30T15:16:07Z", "due_on": null, "closed_at": "2017-04-22T12:36:39Z"}, "comments": 8, "created_at": "2016-12-10T10:22:20Z", "updated_at": "2017-03-27T09:29:25Z", "closed_at": "2017-03-27T09:29:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The fix for #858 caused this. This breaks jhbuild because Epiphany uses libhttpseverywhere. \r\n\r\nThe problem is that we have no way to install secondary files generated by Valac (#892, #891 ), so libhttpseverywhere has a hack to work around it that doesn't work anymore because we check that the file passed to `install_data` exists at configure time.\r\n\r\nThis same hack is used by almost all Vala projects which is a major problem because there is no workaround for this. We need to fix #892 and #891 so that people have an actual way to do this stuff.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1174", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1174/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1174/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1174/events", "html_url": "https://github.com/mesonbuild/meson/pull/1174", "id": 194597171, "node_id": "MDExOlB1bGxSZXF1ZXN0OTczMDk1MzU=", "number": 1174, "title": "python3 dep: Check arch of libraries before using", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-12-09T13:30:23Z", "updated_at": "2016-12-09T22:58:50Z", "closed_at": "2016-12-09T22:58:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1174", "html_url": "https://github.com/mesonbuild/meson/pull/1174", "diff_url": "https://github.com/mesonbuild/meson/pull/1174.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1174.patch", "merged_at": "2016-12-09T22:58:50Z"}, "body": "On Windows, we can build with both 32-bit and 64-bit compilers, but the Python is either 32-bit or 64-bit. Check the architecture of the found Python libraries and don't use them if they don't match our build_machine.\r\n\r\nAlso skip the tests if the Python 3 dependency is not found.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1174/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1173", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1173/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1173/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1173/events", "html_url": "https://github.com/mesonbuild/meson/pull/1173", "id": 194589374, "node_id": "MDExOlB1bGxSZXF1ZXN0OTczMDQyNTM=", "number": 1173, "title": "gnome.py: Fix stray print", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-09T12:51:48Z", "updated_at": "2016-12-09T23:05:47Z", "closed_at": "2016-12-09T23:05:47Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1173", "html_url": "https://github.com/mesonbuild/meson/pull/1173", "diff_url": "https://github.com/mesonbuild/meson/pull/1173.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1173.patch", "merged_at": null}, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1173/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1172", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1172/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1172/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1172/events", "html_url": "https://github.com/mesonbuild/meson/issues/1172", "id": 194574932, "node_id": "MDU6SXNzdWUxOTQ1NzQ5MzI=", "number": 1172, "title": "link_depends does not work with files()", "user": {"login": "dvdhrm", "id": 623857, "node_id": "MDQ6VXNlcjYyMzg1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/623857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvdhrm", "html_url": "https://github.com/dvdhrm", "followers_url": "https://api.github.com/users/dvdhrm/followers", "following_url": "https://api.github.com/users/dvdhrm/following{/other_user}", "gists_url": "https://api.github.com/users/dvdhrm/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvdhrm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvdhrm/subscriptions", "organizations_url": "https://api.github.com/users/dvdhrm/orgs", "repos_url": "https://api.github.com/users/dvdhrm/repos", "events_url": "https://api.github.com/users/dvdhrm/events{/privacy}", "received_events_url": "https://api.github.com/users/dvdhrm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-09T11:33:18Z", "updated_at": "2017-05-08T18:59:51Z", "closed_at": "2017-05-08T18:59:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey\r\n\r\nThe `link_depends:` argument to executables and libraries does not work with `File` objects so far. It requires strings. See this example:\r\n\r\n```\r\nproject('foobar', 'c')                                                           \r\nbar = shared_library('bar', ['foo.c'], link_depends: files(['A','B']))\r\n```\r\n\r\nIt fails with:\r\n\r\n```\r\nLink_depends arguments must be strings.\r\n```\r\n\r\nI circumvent this by using `join_paths(meson.current_source_dir(), 'my_file')` instead of `files()`, but I guess that's no the suggested solution?\r\n\r\nFurthermore, the reference-manual in the wiki does not explain the `File` object, but the documentation of `files()` mentions it.\r\n\r\nThanks\r\nDavid", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1172/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1171", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1171/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1171/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1171/events", "html_url": "https://github.com/mesonbuild/meson/pull/1171", "id": 194537210, "node_id": "MDExOlB1bGxSZXF1ZXN0OTcyNjc1MzA=", "number": 1171, "title": "Several fixes to how we handle objects in build targets", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-09T08:15:46Z", "updated_at": "2016-12-13T10:22:11Z", "closed_at": "2016-12-13T10:22:11Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1171", "html_url": "https://github.com/mesonbuild/meson/pull/1171", "diff_url": "https://github.com/mesonbuild/meson/pull/1171.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1171.patch", "merged_at": "2016-12-13T10:22:11Z"}, "body": "We now handle all compiler and linker determination in each target instead of doing it in `backend/backends.py`. This unifies, simplifies, and corrects a lot of places where we were doing compiler-specific things.\r\n\r\nThis fixes a bunch of things that were broken such as #1169, build targets consisting of only generated objects or only prebuilt objects. Also extends the linker determination support to also include languages other than C/C++.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1171/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1169", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1169/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1169/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1169/events", "html_url": "https://github.com/mesonbuild/meson/issues/1169", "id": 194449133, "node_id": "MDU6SXNzdWUxOTQ0NDkxMzM=", "number": 1169, "title": "Install target fails with foo.extract_all_objects() on debug builds due to missing pdb files", "user": {"login": "dvdhrm", "id": 623857, "node_id": "MDQ6VXNlcjYyMzg1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/623857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dvdhrm", "html_url": "https://github.com/dvdhrm", "followers_url": "https://api.github.com/users/dvdhrm/followers", "following_url": "https://api.github.com/users/dvdhrm/following{/other_user}", "gists_url": "https://api.github.com/users/dvdhrm/gists{/gist_id}", "starred_url": "https://api.github.com/users/dvdhrm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dvdhrm/subscriptions", "organizations_url": "https://api.github.com/users/dvdhrm/orgs", "repos_url": "https://api.github.com/users/dvdhrm/repos", "events_url": "https://api.github.com/users/dvdhrm/events{/privacy}", "received_events_url": "https://api.github.com/users/dvdhrm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2016-12-08T21:28:00Z", "updated_at": "2016-12-13T10:22:12Z", "closed_at": "2016-12-13T10:22:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey\r\n\r\n`ninja install` fails on linux due to missing `.pdb` files if I use `foo.extract_all_objects()`. See the following meson.build file:\r\n\r\n```\r\nproject('foobar', 'c', default_options: [ 'buildtype=debug' ])\r\n\r\nfoo = static_library('foo', ['foo.c'], pic: true)\r\nbar = shared_library('bar', objects: foo.extract_all_objects(), install: true)\r\n```\r\n\r\nThe foo.c source file can be an empty file (or just some dummy). Building this works fine, but a `ninja install` fails (see the log below).\r\n\r\nIf I use a non-debug buildtype it works (i.e., `debug` and `debugoptimized` fail). Same result on git-master. I only tested on linux.\r\n\r\nIf I specify the source files in the shared-lib directly, rather than using the object-files from the static-lib, then it works.\r\n\r\nThanks\r\nDavid\r\n\r\n```\r\n$ DESTDIR=foo ninja -C build/ install\r\nninja: Entering directory `build/'\r\n[0/1] Installing files.\r\nInstalling libbar.pdb to foo/usr/local/lib/libbar.pdb\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/meson\", line 26, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/bin/meson\", line 23, in main\r\n    return mesonmain.run(launcher, sys.argv[1:])\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 249, in run\r\n    sys.exit(run_script_command(args[1:]))\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 239, in run_script_command\r\n    return cmdfunc(cmdargs)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/scripts/meson_install.py\", line 251, in run\r\n    do_install(datafilename)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/scripts/meson_install.py\", line 54, in do_install\r\n    install_targets(d)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/scripts/meson_install.py\", line 205, in install_targets\r\n    do_copy(fname, outname)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/scripts/meson_install.py\", line 36, in do_copy\r\n    shutil.copyfile(from_file, to_file)\r\n  File \"/usr/lib/python3.5/shutil.py\", line 114, in copyfile\r\n    with open(src, 'rb') as fsrc:\r\nFileNotFoundError: [Errno 2] No such file or directory: 'libbar.pdb'\r\nFAILED: install \r\n'/usr/bin/python3' '/usr/bin/meson' '--internal' 'install' '/home/FOOBAR/build/meson-private/install.dat'\r\nninja: build stopped: subcommand failed.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1157", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1157/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1157/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1157/events", "html_url": "https://github.com/mesonbuild/meson/issues/1157", "id": 193978702, "node_id": "MDU6SXNzdWUxOTM5Nzg3MDI=", "number": 1157, "title": "Inner class files not included in Jar", "user": {"login": "fatih-asici", "id": 1232765, "node_id": "MDQ6VXNlcjEyMzI3NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1232765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatih-asici", "html_url": "https://github.com/fatih-asici", "followers_url": "https://api.github.com/users/fatih-asici/followers", "following_url": "https://api.github.com/users/fatih-asici/following{/other_user}", "gists_url": "https://api.github.com/users/fatih-asici/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatih-asici/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatih-asici/subscriptions", "organizations_url": "https://api.github.com/users/fatih-asici/orgs", "repos_url": "https://api.github.com/users/fatih-asici/repos", "events_url": "https://api.github.com/users/fatih-asici/events{/privacy}", "received_events_url": "https://api.github.com/users/fatih-asici/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-12-07T07:40:45Z", "updated_at": "2016-12-12T19:01:12Z", "closed_at": "2016-12-12T19:01:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "javac produces separate class files for inner classes. So multiple output files can be generated for one input file. If Foo.class and Foo$Bar.class files are generated form Foo.class, meson only includes Foo.class not Foo$Bar.class.\r\n\r\nI am not a Java expert (I am just trying to write a binding for my C library); but according to a quick research on the Internet, an easy solution does not seem possible with javac while keeping the support for incremental builds.\r\n\r\nSCons has a parser for Java files to guess output files. Another solution would be to pass only the output directory to jar command instead of passing each class file.\r\n\r\nSome info about this: http://blog.ltgt.net/in-quest-of-the-ultimate-build-tool/#internals\r\nSCons's parser: https://bitbucket.org/scons/scons/src/3763c12a06be2b44e945bdb03fcc1b5a888e5c96/src/engine/SCons/Tool/JavaCommon.py?at=default&fileviewer=file-view-default", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1157/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1150", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1150/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1150/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1150/events", "html_url": "https://github.com/mesonbuild/meson/pull/1150", "id": 193855267, "node_id": "MDExOlB1bGxSZXF1ZXN0OTY3ODQyODM=", "number": 1150, "title": "has_function: Don't check for builtins with includes", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-12-06T18:57:48Z", "updated_at": "2016-12-10T21:18:17Z", "closed_at": "2016-12-10T21:18:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1150", "html_url": "https://github.com/mesonbuild/meson/pull/1150", "diff_url": "https://github.com/mesonbuild/meson/pull/1150.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1150.patch", "merged_at": "2016-12-10T21:18:17Z"}, "body": "We check for builtins explicitly like this because we want to support finding them without any includes in prefix, but this causes problems with some buggy toolchains such as MSYS2 which define the builtin in the C library but don't expose it via headers.\r\n\r\nDoing this allows people to always get the correct answer as long as they specify the includes that are required to find a function while also not forcing people to always specify includes to find a function which is cumbersome.\r\n\r\nCloses #1083", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1150/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1149", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1149/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1149/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1149/events", "html_url": "https://github.com/mesonbuild/meson/pull/1149", "id": 193845088, "node_id": "MDExOlB1bGxSZXF1ZXN0OTY3NzY4Mzc=", "number": 1149, "title": "Compiler checks can only accept external dependencies", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-06T18:13:25Z", "updated_at": "2016-12-06T21:26:56Z", "closed_at": "2016-12-06T21:26:56Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1149", "html_url": "https://github.com/mesonbuild/meson/pull/1149", "diff_url": "https://github.com/mesonbuild/meson/pull/1149.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1149.patch", "merged_at": "2016-12-06T21:26:56Z"}, "body": "This is how it should've already been, but:\r\n\r\na) The test for this was wrong since `Dependency` is a base class for all dependencies and `isinstance` on an `InternalDependency` will also be true\r\nb) Internal dependencies can't ever be used here anyway because compiler checks are always run at configure time and internal dependencies are only built after that.\r\n\r\nAlso add a failing test for this which was passing earlier.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1149/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1127", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1127/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1127/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1127/events", "html_url": "https://github.com/mesonbuild/meson/issues/1127", "id": 193213638, "node_id": "MDU6SXNzdWUxOTMyMTM2Mzg=", "number": 1127, "title": "Detect changes to LINGUAS file on build", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 491892318, "node_id": "MDU6TGFiZWw0OTE4OTIzMTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/module:i18n", "name": "module:i18n", "color": "c2e0c6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/4", "html_url": "https://github.com/mesonbuild/meson/milestone/4", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/4/labels", "id": 2123263, "node_id": "MDk6TWlsZXN0b25lMjEyMzI2Mw==", "number": 4, "title": "0.37.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2016-11-08T21:41:51Z", "updated_at": "2016-12-21T17:33:32Z", "due_on": null, "closed_at": "2016-12-21T17:33:32Z"}, "comments": 1, "created_at": "2016-12-02T20:44:53Z", "updated_at": "2016-12-06T18:29:21Z", "closed_at": "2016-12-06T18:29:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As mentioned in https://github.com/mesonbuild/meson/pull/1121#issuecomment-264168074", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1127/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1109", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1109/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1109/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1109/events", "html_url": "https://github.com/mesonbuild/meson/pull/1109", "id": 192155761, "node_id": "MDExOlB1bGxSZXF1ZXN0OTU2MDQxMDA=", "number": 1109, "title": "wrap: Fix getting push-url", "user": {"login": "thiblahute", "id": 83553, "node_id": "MDQ6VXNlcjgzNTUz", "avatar_url": "https://avatars.githubusercontent.com/u/83553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiblahute", "html_url": "https://github.com/thiblahute", "followers_url": "https://api.github.com/users/thiblahute/followers", "following_url": "https://api.github.com/users/thiblahute/following{/other_user}", "gists_url": "https://api.github.com/users/thiblahute/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiblahute/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiblahute/subscriptions", "organizations_url": "https://api.github.com/users/thiblahute/orgs", "repos_url": "https://api.github.com/users/thiblahute/repos", "events_url": "https://api.github.com/users/thiblahute/events{/privacy}", "received_events_url": "https://api.github.com/users/thiblahute/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-29T00:29:03Z", "updated_at": "2016-12-01T19:40:24Z", "closed_at": "2016-12-01T19:40:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1109", "html_url": "https://github.com/mesonbuild/meson/pull/1109", "diff_url": "https://github.com/mesonbuild/meson/pull/1109.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1109.patch", "merged_at": "2016-12-01T19:40:24Z"}, "body": "This was backtracing in case it was not set as we are not working directly with a dict", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1109/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1108", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1108/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1108/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1108/events", "html_url": "https://github.com/mesonbuild/meson/pull/1108", "id": 192131809, "node_id": "MDExOlB1bGxSZXF1ZXN0OTU1ODcwOTU=", "number": 1108, "title": "Fix optimization flags order", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-28T22:14:27Z", "updated_at": "2016-12-03T20:36:03Z", "closed_at": "2016-12-03T20:36:02Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1108", "html_url": "https://github.com/mesonbuild/meson/pull/1108", "diff_url": "https://github.com/mesonbuild/meson/pull/1108.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1108.patch", "merged_at": "2016-12-03T20:36:02Z"}, "body": "We want compiler check arguments (`-O0`, `-fpermissive`, etc) to override all other arguments, and we want `extra_args` passed in by the build file to always override everything.\r\n\r\nTo do this properly, we must split include arguments out, append them first, append all other arguments as usual, and then append the rest.\r\n\r\nAs part of this, we also add the compiler check flags to the `cc.compiles()` and `cc.links()` helper functions since they also most likely need them.\r\n\r\nAlso includes a unit test for all this.\r\n\r\nRelated to #1066 and #1053", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1108/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1099", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1099/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1099/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1099/events", "html_url": "https://github.com/mesonbuild/meson/pull/1099", "id": 191500558, "node_id": "MDExOlB1bGxSZXF1ZXN0OTUxNjQzMzA=", "number": 1099, "title": "Install mesontest script", "user": {"login": "minijackson", "id": 1200507, "node_id": "MDQ6VXNlcjEyMDA1MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1200507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minijackson", "html_url": "https://github.com/minijackson", "followers_url": "https://api.github.com/users/minijackson/followers", "following_url": "https://api.github.com/users/minijackson/following{/other_user}", "gists_url": "https://api.github.com/users/minijackson/gists{/gist_id}", "starred_url": "https://api.github.com/users/minijackson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minijackson/subscriptions", "organizations_url": "https://api.github.com/users/minijackson/orgs", "repos_url": "https://api.github.com/users/minijackson/repos", "events_url": "https://api.github.com/users/minijackson/events{/privacy}", "received_events_url": "https://api.github.com/users/minijackson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-24T11:47:38Z", "updated_at": "2016-11-26T17:57:37Z", "closed_at": "2016-11-26T17:57:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1099", "html_url": "https://github.com/mesonbuild/meson/pull/1099", "diff_url": "https://github.com/mesonbuild/meson/pull/1099.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1099.patch", "merged_at": "2016-11-26T17:57:37Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1099/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1098", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1098/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1098/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1098/events", "html_url": "https://github.com/mesonbuild/meson/pull/1098", "id": 191392884, "node_id": "MDExOlB1bGxSZXF1ZXN0OTUwODkwNDg=", "number": 1098, "title": "Only check for unity compat when doing unity builds", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/5", "html_url": "https://github.com/mesonbuild/meson/milestone/5", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/5/labels", "id": 2154839, "node_id": "MDk6TWlsZXN0b25lMjE1NDgzOQ==", "number": 5, "title": "0.36.1", "description": "PRs that should go into the 0.36.1 bugfix release.", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-11-23T22:25:26Z", "updated_at": "2016-12-21T17:33:25Z", "due_on": null, "closed_at": "2016-12-21T17:33:25Z"}, "comments": 1, "created_at": "2016-11-23T22:24:57Z", "updated_at": "2016-11-26T17:59:42Z", "closed_at": "2016-11-26T17:59:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1098", "html_url": "https://github.com/mesonbuild/meson/pull/1098", "diff_url": "https://github.com/mesonbuild/meson/pull/1098.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1098.patch", "merged_at": "2016-11-26T17:59:42Z"}, "body": "Closes #1097 \r\n\r\nAlso fixes the test so it exposes that bug.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1098/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1098/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1097", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1097/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1097/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1097/events", "html_url": "https://github.com/mesonbuild/meson/issues/1097", "id": 191367323, "node_id": "MDU6SXNzdWUxOTEzNjczMjM=", "number": 1097, "title": "The extract_objects() method warns unconditionally", "user": {"login": "ebassi", "id": 1665, "node_id": "MDQ6VXNlcjE2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebassi", "html_url": "https://github.com/ebassi", "followers_url": "https://api.github.com/users/ebassi/followers", "following_url": "https://api.github.com/users/ebassi/following{/other_user}", "gists_url": "https://api.github.com/users/ebassi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebassi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebassi/subscriptions", "organizations_url": "https://api.github.com/users/ebassi/orgs", "repos_url": "https://api.github.com/users/ebassi/repos", "events_url": "https://api.github.com/users/ebassi/events{/privacy}", "received_events_url": "https://api.github.com/users/ebassi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-11-23T19:59:21Z", "updated_at": "2016-11-26T17:59:42Z", "closed_at": "2016-11-26T17:59:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Starting from 0.36.0, this code:\r\n\r\n    solver_objects = libemeus.extract_objects(solver_sources)\r\n\r\nwhere `solver_sources` is an array with a subset of sources used by a library, generates a warning when running Meson:\r\n\r\n````\r\nSingle object files can not be extracted in Unity builds. You can only extract all the object files at once.\r\n````\r\n\r\nThis happens regardless of whether I pass `--unity` or not, and even if I wrap the `extract_objects()` call under a:\r\n\r\n    if not meson.is_unity()\r\n    ...\r\n    endif\r\n\r\nThis does not happen with Meson < 0.36.0, and being able to extract a subset of objects is useful when writing tests for a specific internal API.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1097/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1085", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1085/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1085/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1085/events", "html_url": "https://github.com/mesonbuild/meson/issues/1085", "id": 190883803, "node_id": "MDU6SXNzdWUxOTA4ODM4MDM=", "number": 1085, "title": "UnicodeEncodeError in mesonlib.do_conf_file()", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/4", "html_url": "https://github.com/mesonbuild/meson/milestone/4", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/4/labels", "id": 2123263, "node_id": "MDk6TWlsZXN0b25lMjEyMzI2Mw==", "number": 4, "title": "0.37.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2016-11-08T21:41:51Z", "updated_at": "2016-12-21T17:33:32Z", "due_on": null, "closed_at": "2016-12-21T17:33:32Z"}, "comments": 2, "created_at": "2016-11-22T01:29:36Z", "updated_at": "2016-11-26T17:57:17Z", "closed_at": "2016-11-26T17:57:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```python\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 283, in run\r\n    app.generate()\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 171, in generate\r\n    intr.run()\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1336, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1358, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1352, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1473, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2494, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 66, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2209, in func_subdir\r\n    self.evaluate_codeblock(codeblock)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1358, in evaluate_codeblock\r\n    raise e\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1352, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 1473, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2494, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/interpreter.py\", line 2257, in func_configure_file\r\n    mesonlib.do_conf_file(ifile_abs, ofile_abs, conf.held_object)\r\n  File \"/usr/lib/python3.5/site-packages/mesonbuild/mesonlib.py\", line 292, in do_conf_file\r\n    f.writelines(result)\r\nUnicodeEncodeError: 'ascii' codec can't encode character '\\xa9' in position 13: ordinal not in range(128)\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1085/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1084", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1084/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1084/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1084/events", "html_url": "https://github.com/mesonbuild/meson/issues/1084", "id": 190878467, "node_id": "MDU6SXNzdWUxOTA4Nzg0Njc=", "number": 1084, "title": "Auto header dependencies don't work with generated enums", "user": {"login": "ssssam", "id": 6330, "node_id": "MDQ6VXNlcjYzMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/6330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssssam", "html_url": "https://github.com/ssssam", "followers_url": "https://api.github.com/users/ssssam/followers", "following_url": "https://api.github.com/users/ssssam/following{/other_user}", "gists_url": "https://api.github.com/users/ssssam/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssssam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssssam/subscriptions", "organizations_url": "https://api.github.com/users/ssssam/orgs", "repos_url": "https://api.github.com/users/ssssam/repos", "events_url": "https://api.github.com/users/ssssam/events{/privacy}", "received_events_url": "https://api.github.com/users/ssssam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2016-11-22T00:50:08Z", "updated_at": "2016-12-15T20:20:03Z", "closed_at": "2016-12-15T20:20:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given this meson.build file:\r\n\r\n```\r\nproject('meson-enums-dependencies', 'c')\r\n\r\ngnome = import('gnome')\r\n\r\nenums = gnome.mkenums('enum-types',\r\n    sources: 'enums.h',\r\n    c_template: 'enum-types.c.template',\r\n    h_template: 'enum-types.h.template'\r\n)\r\n\r\nlib1 = library('lib1', enums[0], enums[1])\r\n\r\nexecutable('final', 'main.c', link_with: lib1)\r\n```\r\n\r\nWhen I build this with a clean build directory, I get the following error:\r\n\r\n```\r\n[0/1] Regenerating build files\r\nThe Meson build system\r\nVersion: 0.37.0.dev1\r\nSource dir: /home/sam/meson-enums-fuckup\r\nBuild dir: /home/sam/meson-enums-fuckup/build\r\nBuild type: native build\r\nProject name: meson-enums-dependencies\r\nNative c compiler: ccache cc (gcc 6.2.1)\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nBuild targets in project: 4\r\n[1/7] Compiling c object 'final@exe/main.c.o'\r\nFAILED: final@exe/main.c.o \r\nccache cc  '-Ifinal@exe' '-fdiagnostics-color=always' '-I.' '-I..' '-pipe' '-Wall' '-Winvalid-pch' '-O0' '-g' '-MMD' '-MQ' 'final@exe/main.c.o' '-MF' 'final@exe/main.c.o.d' -o 'final@exe/main.c.o' -c ../main.c\r\n../main.c:1:24: fatal error: enum-types.h: No such file or directory\r\n #include \"enum-types.h\"\r\n                        ^\r\ncompilation terminated.\r\n[2/7] 'Generating enum-types.h with a meson_exe.py custom command.'\r\n```\r\n\r\nI can work around this issue by listing enums[1] as a source to the executable. But that's no good; imagine if I have 50 testcases for lib1 -- I shouldn't have to list the enum header file as a source for each of those testcases.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1084/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1084/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1083", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1083/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1083/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1083/events", "html_url": "https://github.com/mesonbuild/meson/issues/1083", "id": 190875468, "node_id": "MDU6SXNzdWUxOTA4NzU0Njg=", "number": 1083, "title": "0.36.0 incorrectly detects posix_memalign on MSYS2 (native MINGW64 and MINGW32 targets/shells/environs)", "user": {"login": "achadwick", "id": 61299, "node_id": "MDQ6VXNlcjYxMjk5", "avatar_url": "https://avatars.githubusercontent.com/u/61299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achadwick", "html_url": "https://github.com/achadwick", "followers_url": "https://api.github.com/users/achadwick/followers", "following_url": "https://api.github.com/users/achadwick/following{/other_user}", "gists_url": "https://api.github.com/users/achadwick/gists{/gist_id}", "starred_url": "https://api.github.com/users/achadwick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achadwick/subscriptions", "organizations_url": "https://api.github.com/users/achadwick/orgs", "repos_url": "https://api.github.com/users/achadwick/repos", "events_url": "https://api.github.com/users/achadwick/events{/privacy}", "received_events_url": "https://api.github.com/users/achadwick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-11-22T00:28:41Z", "updated_at": "2017-07-15T14:29:37Z", "closed_at": "2016-12-10T21:18:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reporting on @ebassi's behalf, since they're busy. This is affecting downstream at ebassi/graphene#76.\r\n\r\nMeson incorrectly detects the presence of `posix_memalign()` with the following in the project's `meson.build`:\r\n\r\n```\r\nconf.set('HAVE_POSIX_MEMALIGN', cc.has_function('posix_memalign', prefix: '#include <stdlib.h>'))\r\n```\r\n\r\n\r\nThe output in `meson-logs/meson-log.txt` seems to indicate that it's settling on `__builtin_posix_memalign` compiling, and using that as a substitute for the real thing. But I have _never_ used meson before, so I don't really understand this.\r\n\r\n```\r\n[...]\r\nChecking for function \"memalign\": NO\r\nRunning compile:\r\nWorking directory:  C:/Users/TESTUS~1/AppData/Local/Temp/tmp2yaurewq\r\nCommand line:  cc C:/Users/TESTUS~1/AppData/Local/Temp/tmp2yaurewq/testfile.c -std=gnu99 -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 -O0 -o C:/Users/TESTUS~1/AppData/Local/Temp/tmp2yaurewq/output.exe \r\n\r\nCode:\r\n #include <limits.h>\r\n#include <stdlib.h>\r\n\r\n        #if defined __stub_posix_memalign || defined __stub___posix_memalign\r\n        fail fail fail this function is not going to work\r\n        #endif\r\n        \r\nint main() { void *a = (void*) &posix_memalign; }\r\nCompiler stdout:\r\n C:/Users/TESTUS~1/AppData/Local/Temp/tmp2yaurewq/testfile.c: In function 'main':\r\n\r\nC:/Users/TESTUS~1/AppData/Local/Temp/tmp2yaurewq/testfile.c:8:33: error: 'posix_memalign' undeclared (first use in this function)\r\n\r\n int main() { void *a = (void*) &posix_memalign; }\r\n\r\n                                 ^~~~~~~~~~~~~~\r\n\r\nC:/Users/TESTUS~1/AppData/Local/Temp/tmp2yaurewq/testfile.c:8:33: note: each undeclared identifier is reported only once for each function it appears in\r\n\r\n\r\nCompiler stderr:\r\n \r\nRunning compile:\r\nWorking directory:  C:/Users/TESTUS~1/AppData/Local/Temp/tmpk7achqy2\r\nCommand line:  cc C:/Users/TESTUS~1/AppData/Local/Temp/tmpk7achqy2/testfile.c -std=gnu99 -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 -O0 -o C:/Users/TESTUS~1/AppData/Local/Temp/tmpk7achqy2/output.exe \r\n\r\nCode:\r\n int main() { __builtin_posix_memalign; }\r\nCompiler stdout:\r\n \r\nCompiler stderr:\r\n \r\nChecking for function \"posix_memalign\": YES\r\n[...]\r\n```\r\n\r\nThe function is not defined in any header the MINGW64 and MINGW32 builds should be using.\r\n\r\n```\r\nTest User@win7test MINGW64 /usr/src/graphene\r\n$ grep -R posix_memalign /mingw{64,32}/include /usr/include\r\n\r\nTest User@win7test MINGW64 /usr/src/graphene\r\n$ find /mingw{64,32}/include /usr/include -name 'stdlib.*'\r\n/mingw64/include/c++/6.2.0/stdlib.h\r\n/mingw64/include/c++/6.2.0/tr1/stdlib.h\r\n/mingw32/include/c++/6.2.0/stdlib.h\r\n/mingw32/include/c++/6.2.0/tr1/stdlib.h\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1083/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1083/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1079", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1079/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1079/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1079/events", "html_url": "https://github.com/mesonbuild/meson/issues/1079", "id": 190729404, "node_id": "MDU6SXNzdWUxOTA3Mjk0MDQ=", "number": 1079, "title": "--backend vs2015 always crashes on non-english Windows", "user": {"login": "msink", "id": 1785275, "node_id": "MDQ6VXNlcjE3ODUyNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1785275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msink", "html_url": "https://github.com/msink", "followers_url": "https://api.github.com/users/msink/followers", "following_url": "https://api.github.com/users/msink/following{/other_user}", "gists_url": "https://api.github.com/users/msink/gists{/gist_id}", "starred_url": "https://api.github.com/users/msink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msink/subscriptions", "organizations_url": "https://api.github.com/users/msink/orgs", "repos_url": "https://api.github.com/users/msink/repos", "events_url": "https://api.github.com/users/msink/events{/privacy}", "received_events_url": "https://api.github.com/users/msink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/4", "html_url": "https://github.com/mesonbuild/meson/milestone/4", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/4/labels", "id": 2123263, "node_id": "MDk6TWlsZXN0b25lMjEyMzI2Mw==", "number": 4, "title": "0.37.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2016-11-08T21:41:51Z", "updated_at": "2016-12-21T17:33:32Z", "due_on": null, "closed_at": "2016-12-21T17:33:32Z"}, "comments": 9, "created_at": "2016-11-21T14:20:00Z", "updated_at": "2016-12-10T23:59:58Z", "closed_at": "2016-12-10T23:59:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nThe Meson build system\r\nVersion: 0.36.0\r\nSource dir: F:\\avian\\hello-c                                                                                        19:18Build dir: F:\\avian\\hello-c\\build\r\nBuild type: native build\r\nProject name: hello\r\nTraceback (most recent call last):\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 283, in run\r\n    app.generate()\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 163, in generate\r\n    intr = interpreter.Interpreter(b, g)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1190, in __init__\r\n    self.parse_project()\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1260, in parse_project\r\n    self.evaluate_codeblock(self.ast, end=1)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1358, in evaluate_codeblock\r\n\r\n    raise e\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1352, in evaluate_codeblock\r\n\r\n    self.evaluate_statement(cur)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1473, in evaluate_statement\r\n\r\n    return self.function_call(cur)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 2494, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 74, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1688, in func_project\r\n    self.add_languages(args[1:], True)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1804, in add_languages\r\n    (comp, cross_comp) = self.detect_compilers(lang, need_cross_compiler)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\interpreter.py\", line 1773, in detect_compilers\r\n    comp.sanity_check(self.environment.get_scratch_dir(), self.environment)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\compilers.py\", line 684, in sanity_check\r\n    return self.sanity_check_impl(work_dir, environment, 'sanitycheckc.c', code)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\compilers.py\", line 659, in sanity_check_impl\r\n    stde = stde.decode()\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x8e in position 0: invalid start byte\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1079/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1072", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1072/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1072/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1072/events", "html_url": "https://github.com/mesonbuild/meson/issues/1072", "id": 190556198, "node_id": "MDU6SXNzdWUxOTA1NTYxOTg=", "number": 1072, "title": "weird soname handling", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/4", "html_url": "https://github.com/mesonbuild/meson/milestone/4", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/4/labels", "id": 2123263, "node_id": "MDk6TWlsZXN0b25lMjEyMzI2Mw==", "number": 4, "title": "0.37.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2016-11-08T21:41:51Z", "updated_at": "2016-12-21T17:33:32Z", "due_on": null, "closed_at": "2016-12-21T17:33:32Z"}, "comments": 1, "created_at": "2016-11-20T12:44:45Z", "updated_at": "2016-12-04T10:12:25Z", "closed_at": "2016-12-04T10:12:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "# VERSION vs SOVERSION\r\n\r\n## cmake\r\n```cmake\r\nset_target_properties (libfoo PROPERTIES VERSION \"2.31.0\")\r\n```\r\nresults into `  SONAME               libangelscript.so.2.31.0`\r\n\r\n## meson\r\n```meson\r\nlibrary ('libfoo', srcs, version : '2.31.0')\r\n```\r\nresults into `  SONAME               libangelscript.so.2`\r\n\r\n# SOVERSION with multiple digits / dots\r\n\r\n## cmake\r\n```cmake\r\nset_target_properties (libfoo PROPERTIES SOVERSION \"2.31.0\")\r\n```\r\nresults into `  SONAME               libangelscript.so.2.31.0`\r\n\r\n## meson\r\n```meson\r\nlibrary ('libfoo', srcs, soversion : '2.31.0')\r\n```\r\nresults into `Shared library soversion must be a valid integer`", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1072/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1070", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1070/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1070/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1070/events", "html_url": "https://github.com/mesonbuild/meson/issues/1070", "id": 190526170, "node_id": "MDU6SXNzdWUxOTA1MjYxNzA=", "number": 1070, "title": "install_subdir() doesn't add DESTDIR to the installed-files list output", "user": {"login": "arteymix", "id": 1318477, "node_id": "MDQ6VXNlcjEzMTg0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1318477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arteymix", "html_url": "https://github.com/arteymix", "followers_url": "https://api.github.com/users/arteymix/followers", "following_url": "https://api.github.com/users/arteymix/following{/other_user}", "gists_url": "https://api.github.com/users/arteymix/gists{/gist_id}", "starred_url": "https://api.github.com/users/arteymix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arteymix/subscriptions", "organizations_url": "https://api.github.com/users/arteymix/orgs", "repos_url": "https://api.github.com/users/arteymix/repos", "events_url": "https://api.github.com/users/arteymix/events{/privacy}", "received_events_url": "https://api.github.com/users/arteymix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-19T22:56:36Z", "updated_at": "2021-01-17T21:23:19Z", "closed_at": "2021-01-17T21:22:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here's the relevant packaging logs:\r\n\r\n```\r\nInstalling subdir /home/guillaume/rpmbuild/BUILD/valum-0.3.0/x86_64-redhat-linux-gnu/docs/api to /usr/share/doc/valum-0.3.\r\nInstalling subdir /home/guillaume/rpmbuild/BUILD/valum-0.3.0/x86_64-redhat-linux-gnu/docs/devhelp/valum-0.3 to /usr/share/devhelp/books.\r\nInstalling subdir /home/guillaume/rpmbuild/BUILD/valum-0.3.0/x86_64-redhat-linux-gnu/docs/en to /usr/share/doc/valum-0.3/user.\r\nInstalling src/vsgi/servers/libvsgi-fastcgi.so to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/vsgi-0.3/servers/libvsgi-fastcgi.so\r\nInstalling src/vsgi/libvsgi-0.3.so to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/libvsgi-0.3.so\r\nInstalling src/vsgi/servers/libvsgi-http.so to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/vsgi-0.3/servers/libvsgi-http.so\r\nInstalling src/vsgi/servers/libvsgi-cgi.so to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/vsgi-0.3/servers/libvsgi-cgi.so\r\nInstalling src/vsgi/servers/libvsgi-scgi.so to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/vsgi-0.3/servers/libvsgi-scgi.so\r\nInstalling src/valum/libvalum-0.3.so to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/libvalum-0.3.so\r\nInstalling src/vsgi/servers/libvsgi-mock.so to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/vsgi-0.3/servers/libvsgi-mock.so\r\nInstalling vsgi.h to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/include/vsgi-0.3\r\nInstalling valum.h to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/include/valum-0.3\r\nInstalling /home/guillaume/rpmbuild/BUILD/valum-0.3.0/x86_64-redhat-linux-gnu/src/vsgi/vsgi-0.3.vapi to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/share/vala/vapi.\r\nInstalling /home/guillaume/rpmbuild/BUILD/valum-0.3.0/src/vsgi/vsgi-0.3.deps to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/share/vala/vapi.\r\nInstalling /home/guillaume/rpmbuild/BUILD/valum-0.3.0/x86_64-redhat-linux-gnu/meson-private/vsgi-0.3.pc to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/pkgconfig.\r\nInstalling /home/guillaume/rpmbuild/BUILD/valum-0.3.0/x86_64-redhat-linux-gnu/src/valum/valum-0.3.vapi to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/share/vala/vapi.\r\nInstalling /home/guillaume/rpmbuild/BUILD/valum-0.3.0/src/valum/valum-0.3.deps to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/share/vala/vapi.\r\nInstalling /home/guillaume/rpmbuild/BUILD/valum-0.3.0/x86_64-redhat-linux-gnu/meson-private/valum-0.3.pc to /home/guillaume/rpmbuild/BUILDROOT/valum-0.3-0.3.0-2.fc25.x86_64/usr/lib64/pkgconfig.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1070/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1057", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1057/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1057/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1057/events", "html_url": "https://github.com/mesonbuild/meson/issues/1057", "id": 189735705, "node_id": "MDU6SXNzdWUxODk3MzU3MDU=", "number": 1057, "title": "Recursive dependencies", "user": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-16T15:22:38Z", "updated_at": "2017-06-04T11:07:27Z", "closed_at": "2017-06-04T11:07:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently if we have library C and link library B with it and then link B to A, we also link C to it (as in, it is on the command line of the linker). This was originally done since I thought that you always have to specify C when linking with B because some symbols of B come from C. I have done some tests since and this does not seem to be the case (at least on the platforms I tried).\r\n\r\nThe problem of expanding dependencies fully is the command line explosion that is plaguing e.g. GStreamer.  Some things to note:\r\n\r\n- when doing shared -> static -> exe, we must have shared on the command line when linking exe, otherwise it won't work\r\n- `declare_dependency` provides a basic framework for this, because if you really need to link against dependencies (as opposed to the dep using them transparently) then you can add them to dependencies\r\n- external dependency dedup is simple (they are all leaf nodes, after all) but for internal ones it is not so simple due to the stupid way linkers work\r\n- is linker grouping supported by all platforms we care about? it would be one simple way of dealing with this\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1057/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1054", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1054/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1054/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1054/events", "html_url": "https://github.com/mesonbuild/meson/issues/1054", "id": 189411882, "node_id": "MDU6SXNzdWUxODk0MTE4ODI=", "number": 1054, "title": "Cannot build on Travis CI with 0.36 (ImportError: No module named 'mesonbuild')", "user": {"login": "arteymix", "id": 1318477, "node_id": "MDQ6VXNlcjEzMTg0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1318477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arteymix", "html_url": "https://github.com/arteymix", "followers_url": "https://api.github.com/users/arteymix/followers", "following_url": "https://api.github.com/users/arteymix/following{/other_user}", "gists_url": "https://api.github.com/users/arteymix/gists{/gist_id}", "starred_url": "https://api.github.com/users/arteymix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arteymix/subscriptions", "organizations_url": "https://api.github.com/users/arteymix/orgs", "repos_url": "https://api.github.com/users/arteymix/repos", "events_url": "https://api.github.com/users/arteymix/events{/privacy}", "received_events_url": "https://api.github.com/users/arteymix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/4", "html_url": "https://github.com/mesonbuild/meson/milestone/4", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/4/labels", "id": 2123263, "node_id": "MDk6TWlsZXN0b25lMjEyMzI2Mw==", "number": 4, "title": "0.37.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2016-11-08T21:41:51Z", "updated_at": "2016-12-21T17:33:32Z", "due_on": null, "closed_at": "2016-12-21T17:33:32Z"}, "comments": 15, "created_at": "2016-11-15T14:50:44Z", "updated_at": "2017-07-30T16:46:28Z", "closed_at": "2016-12-18T05:28:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://travis-ci.org/valum-framework/valum/jobs/176063273", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1054/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1052", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1052/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1052/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1052/events", "html_url": "https://github.com/mesonbuild/meson/issues/1052", "id": 189276071, "node_id": "MDU6SXNzdWUxODkyNzYwNzE=", "number": 1052, "title": "0.36.0 test regression test cases/frameworks/13 yelp", "user": {"login": "anthraxx", "id": 203012, "node_id": "MDQ6VXNlcjIwMzAxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/203012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthraxx", "html_url": "https://github.com/anthraxx", "followers_url": "https://api.github.com/users/anthraxx/followers", "following_url": "https://api.github.com/users/anthraxx/following{/other_user}", "gists_url": "https://api.github.com/users/anthraxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthraxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthraxx/subscriptions", "organizations_url": "https://api.github.com/users/anthraxx/orgs", "repos_url": "https://api.github.com/users/anthraxx/repos", "events_url": "https://api.github.com/users/anthraxx/events{/privacy}", "received_events_url": "https://api.github.com/users/anthraxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 487360419, "node_id": "MDU6TGFiZWw0ODczNjA0MTk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/support/RFC", "name": "support/RFC", "color": "B05386", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-11-15T01:37:28Z", "updated_at": "2022-01-02T12:18:16Z", "closed_at": "2022-01-02T12:18:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, after trying to package the new 0.36.0 version i have noticed a test regression in ```test cases/frameworks/13 yelp```. I have used ```MESON_PRINT_TEST_OUTPUT=1``` but not quote sure what the problem is:\r\n\r\n```\r\nFailed test: test cases/frameworks/13 yelp\r\nReason: Running install failed.\r\nThe Meson build system\r\nVersion: 0.36.0\r\nSource dir: /build/meson/src/meson-0.36.0/test cases/frameworks/13 yelp\r\nBuild dir: /build/meson/src/meson-0.36.0/b 9cu54r21\r\nBuild type: native build\r\nProject name: yelp\r\nNative c compiler: cc (gcc 6.2.1)\r\nAppending CFLAGS from environment: '-march=i686 -mtune=generic -O2 -pipe -fstack-protector-strong'\r\nAppending LDFLAGS from environment: '-Wl,-O1,--sort-common,--as-needed,-z,relro'\r\nAppending CPPFLAGS from environment: '-D_FORTIFY_SOURCE=2'\r\nBuild machine cpu family: x86\r\nBuild machine cpu: i686\r\nBuild targets in project: 2\r\nninja: no work to do.\r\nNo tests defined.\r\nNo benchmarks defined.\r\n[0/1] Installing files.\r\nRunning custom install script /usr/bin/python3\r\nFailed to run install script: /usr/bin/python3 /build/meson/src/meson-0.36.0/meson.py --internal yelphelper install --subdir=help --id=meson --installdir=share/help --sources=index.page --media=media/test.txt --langs=de@@es\r\nFAILED: install \r\n'/usr/bin/python3' '/build/meson/src/meson-0.36.0/meson.py' '--internal' 'install' '/build/meson/src/meson-0.36.0/b 9cu54r21/meson-private/install.dat'\r\nninja: build stopped: subcommand failed.\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1052/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1043", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1043/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1043/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1043/events", "html_url": "https://github.com/mesonbuild/meson/pull/1043", "id": 188964890, "node_id": "MDExOlB1bGxSZXF1ZXN0OTM0Njk3NDU=", "number": 1043, "title": "GTest and GMock changed their entire project layout on 1.8.0. Again. ", "user": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 0, "created_at": "2016-11-13T11:15:42Z", "updated_at": "2016-11-13T16:00:04Z", "closed_at": "2016-11-13T16:00:04Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1043", "html_url": "https://github.com/mesonbuild/meson/pull/1043", "diff_url": "https://github.com/mesonbuild/meson/pull/1043.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1043.patch", "merged_at": "2016-11-13T16:00:04Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1043/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1042", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1042/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1042/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1042/events", "html_url": "https://github.com/mesonbuild/meson/pull/1042", "id": 188963273, "node_id": "MDExOlB1bGxSZXF1ZXN0OTM0Njg3OTM=", "number": 1042, "title": "qt: Fix qmake detection on Linux and Windows", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 2, "created_at": "2016-11-13T10:30:56Z", "updated_at": "2016-11-13T17:38:18Z", "closed_at": "2016-11-13T17:38:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1042", "html_url": "https://github.com/mesonbuild/meson/pull/1042", "diff_url": "https://github.com/mesonbuild/meson/pull/1042.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1042.patch", "merged_at": "2016-11-13T17:38:17Z"}, "body": "qmake detection for both Qt4 and Qt5 detection was assuming that it was only used on Windows, which is incorrect. It can also be used on Linux for cross-compilation or in general when `pkg-config` is not available.\r\n\r\nIt was also not failing properly for both Qt5 and Qt4 when no libraries were found, and was assuming that the `.dll` was always available.\r\n\r\nQt4 detection with qmake was also completely broken.\r\n\r\nAlso prevents unwanted injection of partially-found qt dependencies in targets by unsetting `self.cargs` and `self.largs`\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1042/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1039", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1039/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1039/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1039/events", "html_url": "https://github.com/mesonbuild/meson/pull/1039", "id": 188961665, "node_id": "MDExOlB1bGxSZXF1ZXN0OTM0Njc4MTk=", "number": 1039, "title": "Hotfix for cross-compilation from Windows to Linux", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 0, "created_at": "2016-11-13T09:47:59Z", "updated_at": "2016-11-14T16:44:52Z", "closed_at": "2016-11-14T16:44:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1039", "html_url": "https://github.com/mesonbuild/meson/pull/1039", "diff_url": "https://github.com/mesonbuild/meson/pull/1039.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1039.patch", "merged_at": "2016-11-14T16:44:51Z"}, "body": "We currently pass cross-compiler options to the native compiler too and when cross-compiling from Windows to Linux, `options` will contain Linux-specific options which doesn't include `c_winlibs`.\r\n\r\nThe proper fix is to allow cross-info files to specify compiler options and to maintain both cross and native compiler options in `coredata`, but that will have to be done after the 0.36.0 release.\r\n\r\nAlso fixes a typo in MinGW `cpp_winlibs` option setting.\r\n\r\nCloses #1029", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1039/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1039/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1038", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1038/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1038/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1038/events", "html_url": "https://github.com/mesonbuild/meson/pull/1038", "id": 188961430, "node_id": "MDExOlB1bGxSZXF1ZXN0OTM0Njc2ODU=", "number": 1038, "title": "Use portable path separator in wrappers.", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 0, "created_at": "2016-11-13T09:41:38Z", "updated_at": "2016-11-13T17:39:03Z", "closed_at": "2016-11-13T17:39:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1038", "html_url": "https://github.com/mesonbuild/meson/pull/1038", "diff_url": "https://github.com/mesonbuild/meson/pull/1038.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1038.patch", "merged_at": "2016-11-13T17:39:03Z"}, "body": "The semicolon only separates paths on Windows, but the wrapper is sometimes used on other platforms.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1038/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1037", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1037/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1037/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1037/events", "html_url": "https://github.com/mesonbuild/meson/issues/1037", "id": 188960296, "node_id": "MDU6SXNzdWUxODg5NjAyOTY=", "number": 1037, "title": "Compiler base options ('b_lundef', 'b_asneeded', etc) are not always valid for the cross-compiler", "user": {"login": "msink", "id": 1785275, "node_id": "MDQ6VXNlcjE3ODUyNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1785275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msink", "html_url": "https://github.com/msink", "followers_url": "https://api.github.com/users/msink/followers", "following_url": "https://api.github.com/users/msink/following{/other_user}", "gists_url": "https://api.github.com/users/msink/gists{/gist_id}", "starred_url": "https://api.github.com/users/msink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msink/subscriptions", "organizations_url": "https://api.github.com/users/msink/orgs", "repos_url": "https://api.github.com/users/msink/repos", "events_url": "https://api.github.com/users/msink/events{/privacy}", "received_events_url": "https://api.github.com/users/msink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/6", "html_url": "https://github.com/mesonbuild/meson/milestone/6", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/6/labels", "id": 2202680, "node_id": "MDk6TWlsZXN0b25lMjIwMjY4MA==", "number": 6, "title": "0.38.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2016-12-18T04:58:13Z", "updated_at": "2017-02-01T05:15:22Z", "due_on": null, "closed_at": "2017-02-01T05:14:52Z"}, "comments": 5, "created_at": "2016-11-13T09:10:48Z", "updated_at": "2017-01-02T16:08:31Z", "closed_at": "2017-01-02T16:08:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Have `-Wl,--no-undefined` and `-Wl,--as-needed` any meaning when cross-comliling?\r\nIn case of cross-compilation linker can't check for this correctly, I'm wrong?\r\n\r\nI'm asking because cross-compiler to macosx ([osxcross](https://github.com/tpoechtrager/osxcross)) does not support these options, and I'm unsure is this bug of that toolchain, or bug of meson?", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1035", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1035/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1035/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1035/events", "html_url": "https://github.com/mesonbuild/meson/issues/1035", "id": 188951587, "node_id": "MDU6SXNzdWUxODg5NTE1ODc=", "number": 1035, "title": "gtkdoc, g-ir-scanner, and more don't set CC environment variable before being run", "user": {"login": "lantw44", "id": 3016644, "node_id": "MDQ6VXNlcjMwMTY2NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3016644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lantw44", "html_url": "https://github.com/lantw44", "followers_url": "https://api.github.com/users/lantw44/followers", "following_url": "https://api.github.com/users/lantw44/following{/other_user}", "gists_url": "https://api.github.com/users/lantw44/gists{/gist_id}", "starred_url": "https://api.github.com/users/lantw44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lantw44/subscriptions", "organizations_url": "https://api.github.com/users/lantw44/orgs", "repos_url": "https://api.github.com/users/lantw44/repos", "events_url": "https://api.github.com/users/lantw44/events{/privacy}", "received_events_url": "https://api.github.com/users/lantw44/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/95", "html_url": "https://github.com/mesonbuild/meson/milestone/95", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/95/labels", "id": 9228735, "node_id": "MI_kwDOAS3iKM4AjNG_", "number": 95, "title": "1.2.0", "description": "", "creator": {"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}, "open_issues": 1, "closed_issues": 2, "state": "open", "created_at": "2023-03-30T18:52:10Z", "updated_at": "2023-04-26T18:52:37Z", "due_on": null, "closed_at": null}, "comments": 12, "created_at": "2016-11-13T04:28:36Z", "updated_at": "2023-04-26T18:52:37Z", "closed_at": "2023-04-26T18:51:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nBuilding documentation for gstreamer\r\nTraceback (most recent call last):\r\n  File \"/path/to/meson/meson.py\", line 26, in <module>\r\n    sys.exit(main())\r\n  File \"/path/to/meson/meson.py\", line 23, in main\r\n    return mesonmain.run(launcher, sys.argv[1:])\r\n  File \"/path/to/meson/mesonbuild/mesonmain.py\", line 249, in run\r\n    sys.exit(run_script_command(args[1:]))\r\n  File \"/path/to/meson/mesonbuild/mesonmain.py\", line 239, in run_script_command\r\n    return cmdfunc(cmdargs)\r\n  File \"/path/to/meson/mesonbuild/scripts/gtkdochelper.py\", line 183, in run\r\n    options.ignore_headers.split('@@') if options.ignore_headers else [])\r\n  File \"/path/to/meson/mesonbuild/scripts/gtkdochelper.py\", line 104, in build_gtkdoc\r\n    gtkdoc_run_check(scanobjs_cmd, abs_out)\r\n  File \"/path/to/meson/mesonbuild/scripts/gtkdochelper.py\", line 55, in gtkdoc_run_check\r\n    raise MesonException('\\n'.join(err_msg))\r\nmesonbuild.mesonlib.MesonException: 'gtkdoc-scangobj' failed with status 127\r\nsh: gcc: not found\r\nCompilation of scanner failed:\r\n```\r\n\r\n`gtkdoc-scangobj` defaults to `gcc` when `CC` environment variable is not set. To avoid external commands from using their own ways to detect the compiler, meson should always set `CC` environment variable before running commands.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1033", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1033/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1033/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1033/events", "html_url": "https://github.com/mesonbuild/meson/pull/1033", "id": 188921060, "node_id": "MDExOlB1bGxSZXF1ZXN0OTM0NDQyMTY=", "number": 1033, "title": "Fixed SyntaxError in itstool invocation in yelphelper.py during installation", "user": {"login": "obilaniu", "id": 3268344, "node_id": "MDQ6VXNlcjMyNjgzNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3268344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obilaniu", "html_url": "https://github.com/obilaniu", "followers_url": "https://api.github.com/users/obilaniu/followers", "following_url": "https://api.github.com/users/obilaniu/following{/other_user}", "gists_url": "https://api.github.com/users/obilaniu/gists{/gist_id}", "starred_url": "https://api.github.com/users/obilaniu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obilaniu/subscriptions", "organizations_url": "https://api.github.com/users/obilaniu/orgs", "repos_url": "https://api.github.com/users/obilaniu/repos", "events_url": "https://api.github.com/users/obilaniu/events{/privacy}", "received_events_url": "https://api.github.com/users/obilaniu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 5, "created_at": "2016-11-12T16:42:47Z", "updated_at": "2016-11-12T18:06:16Z", "closed_at": "2016-11-12T18:06:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1033", "html_url": "https://github.com/mesonbuild/meson/pull/1033", "diff_url": "https://github.com/mesonbuild/meson/pull/1033.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1033.patch", "merged_at": "2016-11-12T18:06:16Z"}, "body": "During a `python3.4 setup.py install`, the yelphelper.py script errors out with:\r\n\r\n    SyntaxError: can use starred expression only as assignment target\r\n\r\nFix this problem.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1033/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1029", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1029/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1029/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1029/events", "html_url": "https://github.com/mesonbuild/meson/issues/1029", "id": 188760955, "node_id": "MDU6SXNzdWUxODg3NjA5NTU=", "number": 1029, "title": "cross-compile from windows to linux", "user": {"login": "msink", "id": 1785275, "node_id": "MDQ6VXNlcjE3ODUyNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1785275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msink", "html_url": "https://github.com/msink", "followers_url": "https://api.github.com/users/msink/followers", "following_url": "https://api.github.com/users/msink/following{/other_user}", "gists_url": "https://api.github.com/users/msink/gists{/gist_id}", "starred_url": "https://api.github.com/users/msink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msink/subscriptions", "organizations_url": "https://api.github.com/users/msink/orgs", "repos_url": "https://api.github.com/users/msink/repos", "events_url": "https://api.github.com/users/msink/events{/privacy}", "received_events_url": "https://api.github.com/users/msink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 251995008, "node_id": "MDU6TGFiZWwyNTE5OTUwMDg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/cross", "name": "cross", "color": "fbca04", "default": false, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 12, "created_at": "2016-11-11T13:33:04Z", "updated_at": "2016-11-14T16:44:52Z", "closed_at": "2016-11-14T16:44:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Crashes on `cpp_winlibs`:\r\n\r\n```\r\nThe Meson build system\r\nVersion: 0.35.1\r\nSource dir: F:\\avian\\test\r\nBuild dir: F:\\avian\\test\\build\\linux-64\r\nBuild type: cross build\r\nProject name: avian                                                                                                 18:22Native cpp compiler: c++ (gcc 4.8.1)\r\nCross cpp compiler: f:/cygwin64/bin/x86_64-pc-linux-gnu-g++ (gcc 4.8.2)\r\nNative c compiler: gcc (gcc 4.8.1)\r\nCross c compiler: f:/cygwin64/bin/x86_64-pc-linux-gnu-gcc (gcc 4.8.2)\r\nNative java compiler: javac (unknown 1.8.0)\r\nCross java compiler: javac (unknown 1.8.0)\r\nHost machine cpu family: x86_64\r\nHost machine cpu: i686\r\nTarget machine cpu family: x86_64\r\nTarget machine cpu: i686\r\nBuild machine cpu family: x86_64\r\nBuild machine cpu: x86_64\r\nFound pkg-config: f:\\cygwin64\\bin\\pkg-config.EXE (0.29.1)\r\nCross dependency zlib found: YES 1.2.7\r\nChecking for size of \"void*\": 8\r\nBuild targets in project: 2\r\nTraceback (most recent call last):\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 282, in run\r\n    app.generate()\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\mesonmain.py\", line 169, in generate\r\n    g.generate(intr)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\backend\\ninjabackend.py\", line 187, in generate\r\n    self.generate_target(t, outfile)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\backend\\ninjabackend.py\", line 355, in generate_target\r\n    elem = self.generate_link(target, outfile, outname, obj_list, linker, pch_objects)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\backend\\ninjabackend.py\", line 1817, in generate_link\r\n    commands += linker.get_option_link_args(self.environment.coredata.compiler_options)\r\n  File \"c:\\program files (x86)\\python35-32\\lib\\site-packages\\mesonbuild\\compilers.py\", line 2027, in get_option_link_args\r\n\r\n    return options['cpp_winlibs'].value\r\nKeyError: 'cpp_winlibs'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1029/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1022", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1022/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1022/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1022/events", "html_url": "https://github.com/mesonbuild/meson/pull/1022", "id": 188644814, "node_id": "MDExOlB1bGxSZXF1ZXN0OTMyNTA1MzE=", "number": 1022, "title": "gnome.generate_gir: Add gir deps and includes recursively", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 2, "created_at": "2016-11-10T23:15:36Z", "updated_at": "2016-11-12T23:01:28Z", "closed_at": "2016-11-12T23:01:28Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1022", "html_url": "https://github.com/mesonbuild/meson/pull/1022", "diff_url": "https://github.com/mesonbuild/meson/pull/1022.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1022.patch", "merged_at": "2016-11-12T23:01:28Z"}, "body": "Earlier, we were never adding dependencies on other `GirTarget`s that we need. The dependency would only be added indirectly through other `BuildTarget`s such as `SharedLibrary`. Now we add all `GirTarget`s specified in the `dependencies :` kwarg to the list of dependencies of the `GirTarget` that we generate.\r\n\r\nAlso, we weren't adding include directories for the typelib generation command recursively. We were only adding it for the `GirTarget`s listed under the `dependencies :` kwarg to `gnome.generate_gir`. Now we search all link targets, find `GirTargets`, extract the include dir, and use it.\r\n\r\nIn summation, dependencies were completely broken. This has been breaking the gstreamer master build ever since we started generating GIRs for modules other than gstreamer-core. This can be reproduced by building without gstreamer development files (`.gir` and `.pc` files) installed on the system.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1022/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1012", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1012/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1012/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1012/events", "html_url": "https://github.com/mesonbuild/meson/issues/1012", "id": 188114914, "node_id": "MDU6SXNzdWUxODgxMTQ5MTQ=", "number": 1012, "title": "generate_gir doesn't pick up internally-available dependency .gir files", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 3, "created_at": "2016-11-08T21:58:21Z", "updated_at": "2016-11-09T19:18:37Z", "closed_at": "2016-11-09T19:18:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "First reported at https://bugzilla.gnome.org/show_bug.cgi?id=774044\r\n\r\nSteps to reproduce:\r\n\r\n1. Remove gstreamer1-devel (or move the .gir files away)\r\n2. Build gst-build which will build `Gst-1.0.gir` inside the `gstreamer` subproject, and then use it to build `GstBase-1.0.gir` inside the `gst-plugins-base` subproject.\r\n\r\n`FAILED: subprojects/gstreamer/libs/gst/base/GstBase-1.0.gir`\r\n`Couldn't find include 'Gst-1.0.gir' (search path: '['/home/nirbheek/projects/repositories/gst/gst-build/build/subprojects/gstreamer/.', '/home/nirbheek/projects/repositories/gst/gst-build/subprojects/gstreamer/.', '/home/nirbheek/projects/repositories/gst/gst-build/build/subprojects/gstreamer/libs', '/home/nirbheek/projects/repositories/gst/gst-build/subprojects/gstreamer/libs', u'gir-1.0', u'/usr/share/gir-1.0', u'/usr/share/gir-1.0', u'/usr/share/gir-1.0']')`\r\n\r\n`Gst-1.0.gir` is in `build/subprojects/gstreamer/gst/Gst-1.0.gir`, which is also where the `declare_dependency` for `libgstreamer-1.0` is, so it should have been picked up. Somewhere we're not passing the right library search path to `g-ir-scanner`.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1012/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1009", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1009/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1009/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1009/events", "html_url": "https://github.com/mesonbuild/meson/pull/1009", "id": 187991478, "node_id": "MDExOlB1bGxSZXF1ZXN0OTI3NzczNzA=", "number": 1009, "title": "custom_target: Substitute @OUTPUT@ and @INPUT properly", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-08T13:28:00Z", "updated_at": "2016-11-09T16:30:09Z", "closed_at": "2016-11-09T16:30:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/1009", "html_url": "https://github.com/mesonbuild/meson/pull/1009", "diff_url": "https://github.com/mesonbuild/meson/pull/1009.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/1009.patch", "merged_at": "2016-11-09T16:30:09Z"}, "body": "They weren't being substituted if they were a part of a command argument, ala `--output=@OUTPUT@`, etc.\r\n\r\nCloses https://github.com/mesonbuild/meson/issues/824", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1009/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1004", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/1004/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/1004/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/1004/events", "html_url": "https://github.com/mesonbuild/meson/issues/1004", "id": 187909222, "node_id": "MDU6SXNzdWUxODc5MDkyMjI=", "number": 1004, "title": "GeneratedList as input of CustomTarget is broken with VS backends", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/12", "html_url": "https://github.com/mesonbuild/meson/milestone/12", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/12/labels", "id": 2373726, "node_id": "MDk6TWlsZXN0b25lMjM3MzcyNg==", "number": 12, "title": "0.40.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2017-03-09T06:24:29Z", "updated_at": "2017-06-30T15:16:07Z", "due_on": null, "closed_at": "2017-04-22T12:36:39Z"}, "comments": 3, "created_at": "2016-11-08T06:03:53Z", "updated_at": "2017-03-20T23:16:14Z", "closed_at": "2017-03-20T23:16:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Can be seen in the `common\\113 generatorcustom` test: https://ci.appveyor.com/project/jpakkane/meson/build/1.0.925/job/p69h84wd9rtvkdns\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\projects\\meson\\mesonbuild\\mesonmain.py\", line 279, in run\r\n    app.generate()\r\n  File \"C:\\projects\\meson\\mesonbuild\\mesonmain.py\", line 169, in generate\r\n    g.generate(intr)\r\n  File \"C:\\projects\\meson\\mesonbuild\\backend\\vs2010backend.py\", line 168, in generate\r\n    self.generate_solution(sln_filename, projlist)\r\n  File \"C:\\projects\\meson\\mesonbuild\\backend\\vs2010backend.py\", line 233, in generate_solution\r\n    all_deps = self.determine_deps(p)\r\n  File \"C:\\projects\\meson\\mesonbuild\\backend\\vs2010backend.py\", line 203, in determine_deps\r\n    all_deps[d.get_id()] = True\r\nAttributeError: 'GeneratedList' object has no attribute 'get_id'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/1004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/1004/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/992", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/992/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/992/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/992/events", "html_url": "https://github.com/mesonbuild/meson/issues/992", "id": 187268345, "node_id": "MDU6SXNzdWUxODcyNjgzNDU=", "number": 992, "title": "PR #982 broke rebuilds", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 0, "created_at": "2016-11-04T07:19:50Z", "updated_at": "2016-11-06T17:11:43Z", "closed_at": "2016-11-06T17:11:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Should figure out what part of #982 broke this.\r\n\r\n```\r\nChecking for function \"backtrace\": YES\r\nTraceback (most recent call last):\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/mesonmain.py\", line 279, in run\r\n    app.generate()\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/mesonmain.py\", line 167, in generate\r\n    intr.run()\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1320, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1342, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1336, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1487, in evaluate_statement\r\n    return self.evaluate_foreach(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2687, in evaluate_foreach\r\n    self.evaluate_codeblock(node.block)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1342, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1336, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1457, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2446, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 74, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1552, in func_subproject\r\n    return self.do_subproject(dirname, kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1575, in do_subproject\r\n    subi.run()\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1320, in run\r\n    self.evaluate_codeblock(self.ast, start=1)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1342, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1336, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1457, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2446, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 66, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2194, in func_subdir\r\n    self.evaluate_codeblock(codeblock)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1342, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1336, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1467, in evaluate_statement\r\n    return self.evaluate_if(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2664, in evaluate_if\r\n    self.evaluate_codeblock(i.block)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1342, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1336, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1457, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2446, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 66, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2194, in func_subdir\r\n    self.evaluate_codeblock(codeblock)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1342, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1336, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1457, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2446, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 66, in wrapped\r\n    return f(self, node, args, kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2194, in func_subdir\r\n    self.evaluate_codeblock(codeblock)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1342, in evaluate_codeblock\r\n    raise e\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1336, in evaluate_codeblock\r\n    self.evaluate_statement(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1459, in evaluate_statement\r\n    return self.assignment(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2459, in assignment\r\n    value = self.evaluate_statement(node.value)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1457, in evaluate_statement\r\n    return self.function_call(cur)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 2446, in function_call\r\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\r\n  File \"/home/arun/code/gstreamer/meson/mesonbuild/interpreter.py\", line 1863, in func_dependency\r\n    if not cached_dep.required and kwargs.get('required', True):\r\nAttributeError: 'ThreadDependency' object has no attribute 'required'\r\nFAILED: build.ninja \r\n'/usr/bin/python3' '/home/arun/code/gstreamer/meson/meson.py' --internal regenerate '/home/arun/code/gstreamer/gst-all' '/home/arun/code/gstreamer/gst-all/build' --backend ninja\r\nninja: error: rebuilding 'build.ninja': subcommand failed\r\n```\r\n\r\nThe relevant part is:\r\n\r\n```\r\nAttributeError: 'ThreadDependency' object has no attribute 'required'\r\n```", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/992/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/981", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/981/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/981/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/981/events", "html_url": "https://github.com/mesonbuild/meson/issues/981", "id": 186652216, "node_id": "MDU6SXNzdWUxODY2NTIyMTY=", "number": 981, "title": "gnome.generate_gir() includes extraneous libraries in the gir file", "user": {"login": "TingPing", "id": 798838, "node_id": "MDQ6VXNlcjc5ODgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/798838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TingPing", "html_url": "https://github.com/TingPing", "followers_url": "https://api.github.com/users/TingPing/followers", "following_url": "https://api.github.com/users/TingPing/following{/other_user}", "gists_url": "https://api.github.com/users/TingPing/gists{/gist_id}", "starred_url": "https://api.github.com/users/TingPing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TingPing/subscriptions", "organizations_url": "https://api.github.com/users/TingPing/orgs", "repos_url": "https://api.github.com/users/TingPing/repos", "events_url": "https://api.github.com/users/TingPing/events{/privacy}", "received_events_url": "https://api.github.com/users/TingPing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-01T21:27:02Z", "updated_at": "2017-02-08T11:45:34Z", "closed_at": "2016-12-03T21:07:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently when you pass a library to `gnome.generate_gir()` we extract every dependency from that and pass it along to `g-ir-scanner` as `LDFLAGS`. What happens after that is to be investigated but I can say the end result is incorrect:\r\n\r\nMeson:\r\n```xml\r\n<namespace name=\"Ide\"\r\n           version=\"1.0\"\r\n           shared-library=\"libegg-private.so.0,libtemplate-glib-1.0.so.0,libcairo.so.2,libjavascriptcoregtk-4.0.so.18,libgdk_pixbuf-2.0.so.0,libatk-1.0.so.0,libwebkit2gtk-4.0.so.37,libcairo-gobject.so.2,libxml2.so.2,libgirepository-1.0.so.1,libgdk-3.so.0,libgtksourceview-3.0.so.1,libsoup-2.4.so.1,libgio-2.0.so.0,libgmodule-2.0.so.0,libgobject-2.0.so.0,libpangocairo-1.0.so.0,libglib-2.0.so.0,libfreetype.so.6,libgtk-3.so.0,libpango-1.0.so.0,libfontconfig.so.1,libpangoft2-1.0.so.0,libpeas-1.0.so.0,libide-1.0.so\"\r\n           c:identifier-prefixes=\"Ide\"\r\n           c:symbol-prefixes=\"ide\">\r\n```\r\n\r\nAutotools:\r\n```xml\r\n<namespace name=\"Ide\"\r\n           version=\"1.0\"\r\n            shared-library=\"libide-1.0.so,libegg-private.so.0,libtemplate-glib-1.0.so.0\"\r\n           c:identifier-prefixes=\"Ide\"\r\n           c:symbol-prefixes=\"ide\">\r\n```\r\n\r\nThe Autotools version is correct and are explicitly passed dependencies by the user (effectively equal to `link_with` in Meson). The problem is the automatic dependencies only needed for building also get shoved there.\r\n\r\nAs a naive approach I just stopped passing the flags as they didn't seem to matter for my project but it is correct to be passed as #947 indicates. We just need to figure out why us passing them has the incorrect result and in autotools it has the correct one.", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/981/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/975", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/975/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/975/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/975/events", "html_url": "https://github.com/mesonbuild/meson/issues/975", "id": 186180492, "node_id": "MDU6SXNzdWUxODYxODA0OTI=", "number": 975, "title": "Should not error out fallback subproject() for non-required dependency() fails to configure", "user": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 5, "created_at": "2016-10-31T01:02:31Z", "updated_at": "2016-11-10T23:49:52Z", "closed_at": "2016-11-08T12:32:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If a subproject() is used as fallback for an optional dependency that has not been found, Meson should not error out if the fallback subproject errors out. Instead it should note that the dependency was non-essential to start with and simply mark the dependency as not found and continue without using the fallback subproject.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/975/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/975/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/973", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/973/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/973/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/973/events", "html_url": "https://github.com/mesonbuild/meson/issues/973", "id": 186175814, "node_id": "MDU6SXNzdWUxODYxNzU4MTQ=", "number": 973, "title": "gnome.mkenums @filename@ broken link when run in subprojects", "user": {"login": "thiblahute", "id": 83553, "node_id": "MDQ6VXNlcjgzNTUz", "avatar_url": "https://avatars.githubusercontent.com/u/83553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiblahute", "html_url": "https://github.com/thiblahute", "followers_url": "https://api.github.com/users/thiblahute/followers", "following_url": "https://api.github.com/users/thiblahute/following{/other_user}", "gists_url": "https://api.github.com/users/thiblahute/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiblahute/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiblahute/subscriptions", "organizations_url": "https://api.github.com/users/thiblahute/orgs", "repos_url": "https://api.github.com/users/thiblahute/repos", "events_url": "https://api.github.com/users/thiblahute/events{/privacy}", "received_events_url": "https://api.github.com/users/thiblahute/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-31T00:09:50Z", "updated_at": "2016-12-15T20:20:04Z", "closed_at": "2016-12-15T20:20:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When running gnome.mkenums with the headers passed as `sources`, the corresponding `#include @filename@` is broken and not properly linking to the file in tree when run as subproject.\n\nFor example in `json-glib` if I do:\n\n```\njson_glib_enums = gnome.mkenums('json-enum-types',\n   sources: source_h,\n   h_template: 'json-enum-types.h.in',\n   c_template: 'json-enum-types.c.in',\n   install_header: true,\n   install_dir: install_header_dir)\n```\n\nand in `json-enum-types.c.in` we have:\n\n```\n #include \"@filename@\" \n```\n\nThe build fails with:\n\n```\nsubprojects/json-glib/json-glib/json-enum-types.c:12:60: fatal error: ../subprojects/json-glib/json-glib/json-parser.h: No such file or directory\n #include \"../subprojects/json-glib/json-glib/json-parser.h\"\n```\n\nIt should include `\"../../../../subprojects/json-glib/json-glib/json-parser.h\"` instead as that include is relatiive to the `.c` file not relative to the build directory.\n\nMy current workaround is to replace the source_h files with `meson.current_source_dir() + '/' + h` so that the includes are absolute paths.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/973/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/973/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/967", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/967/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/967/events", "html_url": "https://github.com/mesonbuild/meson/issues/967", "id": 185924701, "node_id": "MDU6SXNzdWUxODU5MjQ3MDE=", "number": 967, "title": "Error finding version of arm gcc ", "user": {"login": "MadsBerre", "id": 11619240, "node_id": "MDQ6VXNlcjExNjE5MjQw", "avatar_url": "https://avatars.githubusercontent.com/u/11619240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MadsBerre", "html_url": "https://github.com/MadsBerre", "followers_url": "https://api.github.com/users/MadsBerre/followers", "following_url": "https://api.github.com/users/MadsBerre/following{/other_user}", "gists_url": "https://api.github.com/users/MadsBerre/gists{/gist_id}", "starred_url": "https://api.github.com/users/MadsBerre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MadsBerre/subscriptions", "organizations_url": "https://api.github.com/users/MadsBerre/orgs", "repos_url": "https://api.github.com/users/MadsBerre/repos", "events_url": "https://api.github.com/users/MadsBerre/events{/privacy}", "received_events_url": "https://api.github.com/users/MadsBerre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 1, "created_at": "2016-10-28T13:35:33Z", "updated_at": "2016-11-02T20:47:38Z", "closed_at": "2016-11-02T20:47:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When meson tries to recognize the  version of arm-none-linux-gnueabi-gcc  it finds the wrong version. \n\nthe output of arm-none-linux-gnueabi-gcc --version is: \n\n```\narm-none-linux-gnueabi-gcc (Sourcery CodeBench Lite 2014.05-29) 4.8.3 20140320 (prerelease)\nCopyright (C) 2013 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n```\n\nprinting the version within meson outputs: \n`2014.05-29`\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/964", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/964/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/964/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/964/events", "html_url": "https://github.com/mesonbuild/meson/issues/964", "id": 185770720, "node_id": "MDU6SXNzdWUxODU3NzA3MjA=", "number": 964, "title": "dependency() ignores required attribute when checked second or third time", "user": {"login": "tp-m", "id": 3854464, "node_id": "MDQ6VXNlcjM4NTQ0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3854464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp-m", "html_url": "https://github.com/tp-m", "followers_url": "https://api.github.com/users/tp-m/followers", "following_url": "https://api.github.com/users/tp-m/following{/other_user}", "gists_url": "https://api.github.com/users/tp-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp-m/subscriptions", "organizations_url": "https://api.github.com/users/tp-m/orgs", "repos_url": "https://api.github.com/users/tp-m/repos", "events_url": "https://api.github.com/users/tp-m/events{/privacy}", "received_events_url": "https://api.github.com/users/tp-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 0, "created_at": "2016-10-27T20:23:29Z", "updated_at": "2016-11-02T20:49:57Z", "closed_at": "2016-11-02T20:49:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I believe this should fail at the meson configure stage:\n\n```\nfoo_dep = dependency('foo-bar-xyz-12.3', required : false)\nbar_dep = dependency('foo-bar-xyz-12.3', required : true)\n```\n\nBut it does not fail. Seems to re-use the previously-done dependency check and then ignore the required attribute.\n\nThe real-world use case is more complicated of course, dependency is not required in one subproject but required in another.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/964/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/960", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/960/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/960/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/960/events", "html_url": "https://github.com/mesonbuild/meson/pull/960", "id": 185579683, "node_id": "MDExOlB1bGxSZXF1ZXN0OTExMzc0NDc=", "number": 960, "title": "mesonlib: close file before (re)moving", "user": {"login": "d-scott-phillips", "id": 15388864, "node_id": "MDQ6VXNlcjE1Mzg4ODY0", "avatar_url": "https://avatars.githubusercontent.com/u/15388864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/d-scott-phillips", "html_url": "https://github.com/d-scott-phillips", "followers_url": "https://api.github.com/users/d-scott-phillips/followers", "following_url": "https://api.github.com/users/d-scott-phillips/following{/other_user}", "gists_url": "https://api.github.com/users/d-scott-phillips/gists{/gist_id}", "starred_url": "https://api.github.com/users/d-scott-phillips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/d-scott-phillips/subscriptions", "organizations_url": "https://api.github.com/users/d-scott-phillips/orgs", "repos_url": "https://api.github.com/users/d-scott-phillips/repos", "events_url": "https://api.github.com/users/d-scott-phillips/events{/privacy}", "received_events_url": "https://api.github.com/users/d-scott-phillips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 468719984, "node_id": "MDU6TGFiZWw0Njg3MTk5ODQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:windows", "name": "OS:windows", "color": "a27314", "default": false, "description": "Winodows OS specific issues"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-27T05:56:48Z", "updated_at": "2016-10-27T17:52:01Z", "closed_at": "2016-10-27T17:52:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/960", "html_url": "https://github.com/mesonbuild/meson/pull/960", "diff_url": "https://github.com/mesonbuild/meson/pull/960.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/960.patch", "merged_at": "2016-10-27T17:52:01Z"}, "body": "On windows, attempting to unlink an open file results in a\nPermissionError, so close the file and then remove it.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/960/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/960/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/958", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/958/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/958/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/958/events", "html_url": "https://github.com/mesonbuild/meson/issues/958", "id": 185573318, "node_id": "MDU6SXNzdWUxODU1NzMzMTg=", "number": 958, "title": "c++ has_header_symbol doesn't work (at all?)", "user": {"login": "ystreet", "id": 1631425, "node_id": "MDQ6VXNlcjE2MzE0MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1631425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ystreet", "html_url": "https://github.com/ystreet", "followers_url": "https://api.github.com/users/ystreet/followers", "following_url": "https://api.github.com/users/ystreet/following{/other_user}", "gists_url": "https://api.github.com/users/ystreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ystreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ystreet/subscriptions", "organizations_url": "https://api.github.com/users/ystreet/orgs", "repos_url": "https://api.github.com/users/ystreet/repos", "events_url": "https://api.github.com/users/ystreet/events{/privacy}", "received_events_url": "https://api.github.com/users/ystreet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 0, "created_at": "2016-10-27T04:56:32Z", "updated_at": "2016-11-09T15:27:30Z", "closed_at": "2016-11-09T15:27:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A couple of cases I tried when checking for the existence of a c++ symbol didn't seem to work correctly.\n\ne.g. a basic check for the existence of 'int' in 'cstdio' fails with:\n\nCommand line:  ccache c++ /tmp/tmpvyiil7cr/testfile.cpp -O0 -c -o /tmp/tmpvyiil7cr/output.exe\nCode:\n# include <cstdio>\n\nint main () { int; }\nCompiler stdout:\n/tmp/tmpvyiil7cr/testfile.cpp: In function \u2018int main()\u2019:\n/tmp/tmpvyiil7cr/testfile.cpp:3:15: error: declaration does not declare anything [-fpermissive]\nint main () { int; }\n              ^~~\n\nThat's before we even start dealing with classes and templates ;)\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/958/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/863", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/863/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/863/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/863/events", "html_url": "https://github.com/mesonbuild/meson/pull/863", "id": 181578962, "node_id": "MDExOlB1bGxSZXF1ZXN0ODgzNzY4MTU=", "number": 863, "title": "Fix Swift tests by defining SDKROOT", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-07T03:40:19Z", "updated_at": "2016-10-07T17:41:37Z", "closed_at": "2016-10-07T17:41:36Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/863", "html_url": "https://github.com/mesonbuild/meson/pull/863", "diff_url": "https://github.com/mesonbuild/meson/pull/863.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/863.patch", "merged_at": "2016-10-07T17:41:36Z"}, "body": "This is needed for the swift compiler to find the appropriate SDK for imports. Not sure why this wasn't needed earlier, but the swift tests fail now without this.\n\nSeen in #856, #861, #862.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/863/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/824", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/824/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/824/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/824/events", "html_url": "https://github.com/mesonbuild/meson/issues/824", "id": 179125081, "node_id": "MDU6SXNzdWUxNzkxMjUwODE=", "number": 824, "title": "--output=@OUTPUT@ fails to expand", "user": {"login": "TingPing", "id": 798838, "node_id": "MDQ6VXNlcjc5ODgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/798838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TingPing", "html_url": "https://github.com/TingPing", "followers_url": "https://api.github.com/users/TingPing/followers", "following_url": "https://api.github.com/users/TingPing/following{/other_user}", "gists_url": "https://api.github.com/users/TingPing/gists{/gist_id}", "starred_url": "https://api.github.com/users/TingPing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TingPing/subscriptions", "organizations_url": "https://api.github.com/users/TingPing/orgs", "repos_url": "https://api.github.com/users/TingPing/repos", "events_url": "https://api.github.com/users/TingPing/events{/privacy}", "received_events_url": "https://api.github.com/users/TingPing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 8, "created_at": "2016-09-26T02:06:50Z", "updated_at": "2016-11-09T16:30:09Z", "closed_at": "2016-11-09T16:30:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This only works if `@OUTPUT@` is a lone argument which doesn't work with some tools.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/824/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/815", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/815/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/815/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/815/events", "html_url": "https://github.com/mesonbuild/meson/issues/815", "id": 179073088, "node_id": "MDU6SXNzdWUxNzkwNzMwODg=", "number": 815, "title": "does not compile .vala file from configure_file()", "user": {"login": "benwaffle", "id": 1713819, "node_id": "MDQ6VXNlcjE3MTM4MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1713819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benwaffle", "html_url": "https://github.com/benwaffle", "followers_url": "https://api.github.com/users/benwaffle/followers", "following_url": "https://api.github.com/users/benwaffle/following{/other_user}", "gists_url": "https://api.github.com/users/benwaffle/gists{/gist_id}", "starred_url": "https://api.github.com/users/benwaffle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benwaffle/subscriptions", "organizations_url": "https://api.github.com/users/benwaffle/orgs", "repos_url": "https://api.github.com/users/benwaffle/repos", "events_url": "https://api.github.com/users/benwaffle/events{/privacy}", "received_events_url": "https://api.github.com/users/benwaffle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 468715182, "node_id": "MDU6TGFiZWw0Njg3MTUxODI=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/language:vala", "name": "language:vala", "color": "d4c5f9", "default": false, "description": ""}, {"id": 479241488, "node_id": "MDU6TGFiZWw0NzkyNDE0ODg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/regression", "name": "regression", "color": "FF7F00", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2016-09-25T07:26:17Z", "updated_at": "2018-02-20T21:11:24Z", "closed_at": "2018-02-19T22:19:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "if you add `configure_file(input: 'config.vala.in', output: 'config.vala', configuration: conf)` to sources, config.vala is not compiled and we get a ninja error `cc: error: app@exe/config.c: No such file or directory`\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/813", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/813/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/813/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/813/events", "html_url": "https://github.com/mesonbuild/meson/pull/813", "id": 179071084, "node_id": "MDExOlB1bGxSZXF1ZXN0ODY2NDE0Njc=", "number": 813, "title": "compilers: Fix typo in visual studio warning argument ", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-25T06:20:34Z", "updated_at": "2016-09-26T17:54:06Z", "closed_at": "2016-09-26T17:54:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/813", "html_url": "https://github.com/mesonbuild/meson/pull/813", "diff_url": "https://github.com/mesonbuild/meson/pull/813.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/813.patch", "merged_at": "2016-09-26T17:54:06Z"}, "body": "- a test for it\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/813/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/812", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/812/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/812/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/812/events", "html_url": "https://github.com/mesonbuild/meson/pull/812", "id": 179063567, "node_id": "MDExOlB1bGxSZXF1ZXN0ODY2MzcyODE=", "number": 812, "title": "compilers: Fall back to -pedantic with older GCC", "user": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-25T02:24:41Z", "updated_at": "2016-09-25T15:52:06Z", "closed_at": "2016-09-25T15:52:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/812", "html_url": "https://github.com/mesonbuild/meson/pull/812", "diff_url": "https://github.com/mesonbuild/meson/pull/812.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/812.patch", "merged_at": "2016-09-25T15:52:05Z"}, "body": "Fixes https://github.com/mesonbuild/meson/issues/242\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/812/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/811", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/811/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/811/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/811/events", "html_url": "https://github.com/mesonbuild/meson/pull/811", "id": 179062887, "node_id": "MDExOlB1bGxSZXF1ZXN0ODY2MzY4ODU=", "number": 811, "title": "gnome: Print useful error if missing compile_resource arg", "user": {"login": "TingPing", "id": 798838, "node_id": "MDQ6VXNlcjc5ODgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/798838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TingPing", "html_url": "https://github.com/TingPing", "followers_url": "https://api.github.com/users/TingPing/followers", "following_url": "https://api.github.com/users/TingPing/following{/other_user}", "gists_url": "https://api.github.com/users/TingPing/gists{/gist_id}", "starred_url": "https://api.github.com/users/TingPing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TingPing/subscriptions", "organizations_url": "https://api.github.com/users/TingPing/orgs", "repos_url": "https://api.github.com/users/TingPing/repos", "events_url": "https://api.github.com/users/TingPing/events{/privacy}", "received_events_url": "https://api.github.com/users/TingPing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-25T02:01:37Z", "updated_at": "2016-09-25T16:02:41Z", "closed_at": "2016-09-25T16:02:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/811", "html_url": "https://github.com/mesonbuild/meson/pull/811", "diff_url": "https://github.com/mesonbuild/meson/pull/811.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/811.patch", "merged_at": "2016-09-25T16:02:41Z"}, "body": "Better than a raw IndexError.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/811/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/758", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/758/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/758/events", "html_url": "https://github.com/mesonbuild/meson/issues/758", "id": 175134527, "node_id": "MDU6SXNzdWUxNzUxMzQ1Mjc=", "number": 758, "title": "qt5 module generates broken target if moc-qt5 is not installed", "user": {"login": "thiblahute", "id": 83553, "node_id": "MDQ6VXNlcjgzNTUz", "avatar_url": "https://avatars.githubusercontent.com/u/83553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiblahute", "html_url": "https://github.com/thiblahute", "followers_url": "https://api.github.com/users/thiblahute/followers", "following_url": "https://api.github.com/users/thiblahute/following{/other_user}", "gists_url": "https://api.github.com/users/thiblahute/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiblahute/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiblahute/subscriptions", "organizations_url": "https://api.github.com/users/thiblahute/orgs", "repos_url": "https://api.github.com/users/thiblahute/repos", "events_url": "https://api.github.com/users/thiblahute/events{/privacy}", "received_events_url": "https://api.github.com/users/thiblahute/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 439797805, "node_id": "MDU6TGFiZWw0Mzk3OTc4MDU=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gstreamer", "name": "gstreamer", "color": "0052cc", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 0, "created_at": "2016-09-05T22:54:33Z", "updated_at": "2016-11-12T17:19:28Z", "closed_at": "2016-11-12T17:19:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When building `gst-plugins-base` while `moc-qt5` is not installed on the system I get:\n\n```\nTraceback (most recent call last):\n  File \"/home/jenkins/workspace/meson/mesonbuild/mesonmain.py\", line 282, in run\n    app.generate()\n  File \"/home/jenkins/workspace/meson/mesonbuild/mesonmain.py\", line 169, in generate\n    g.generate(intr)\n  File \"/home/jenkins/workspace/meson/mesonbuild/backend/ninjabackend.py\", line 184, in generate\n    self.generate_target(t, outfile)\n  File \"/home/jenkins/workspace/meson/mesonbuild/backend/ninjabackend.py\", line 257, in generate_target\n    self.generate_custom_generator_rules(target, outfile)\n  File \"/home/jenkins/workspace/meson/mesonbuild/backend/ninjabackend.py\", line 1360, in generate_custom_generator_rules\n    self.generate_genlist_for_target(genlist, target, outfile)\n  File \"/home/jenkins/workspace/meson/mesonbuild/backend/ninjabackend.py\", line 1406, in generate_genlist_for_target\n    elem.write(outfile)\n  File \"/home/jenkins/workspace/meson/mesonbuild/backend/ninjabackend.py\", line 116, in write\n    if quote_char == '\"':\n  File \"/home/jenkins/workspace/meson/mesonbuild/backend/ninjabackend.py\", line 35, in ninja_quote\n    return text.replace(' ', '$ ').replace(':', '$:')\nAttributeError: 'NoneType' object has no attribute 'replace'\n```\n\nbasically because the target genrated [here](https://phabricator.freedesktop.org/diffusion/GSTBASE/browse/master/tests/examples/overlay/meson.build;c8c834e4a1361149b373694c502279a3a39dbb2a$21) is broken with `None` as first argument\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/758/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/743", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/743/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/743/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/743/events", "html_url": "https://github.com/mesonbuild/meson/issues/743", "id": 174198090, "node_id": "MDU6SXNzdWUxNzQxOTgwOTA=", "number": 743, "title": "difference b/w declare_dependency's dep and library's dep", "user": {"login": "agauniyal", "id": 7630575, "node_id": "MDQ6VXNlcjc2MzA1NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7630575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agauniyal", "html_url": "https://github.com/agauniyal", "followers_url": "https://api.github.com/users/agauniyal/followers", "following_url": "https://api.github.com/users/agauniyal/following{/other_user}", "gists_url": "https://api.github.com/users/agauniyal/gists{/gist_id}", "starred_url": "https://api.github.com/users/agauniyal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agauniyal/subscriptions", "organizations_url": "https://api.github.com/users/agauniyal/orgs", "repos_url": "https://api.github.com/users/agauniyal/repos", "events_url": "https://api.github.com/users/agauniyal/events{/privacy}", "received_events_url": "https://api.github.com/users/agauniyal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-08-31T06:54:13Z", "updated_at": "2023-02-24T16:15:39Z", "closed_at": "2023-02-24T16:14:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've a project (which I'll eventually use as subproject) with a library command - \n`library('name', prog_sources, include_directories: inc,\n        dependencies : [dep1, dep2, dep3, dep4])`.\n\nNow it builds correctly since all deps are satisfied. When using a `delcare_dependency` should I again specify those `dependencies : [dep1, dep2, dep3, dep4]` inside its call too if I'm using `link_with`: that library?\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/743/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/743/timeline", "performed_via_github_app": null, "state_reason": "not_planned"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/705", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/705/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/705/events", "html_url": "https://github.com/mesonbuild/meson/issues/705", "id": 172643913, "node_id": "MDU6SXNzdWUxNzI2NDM5MTM=", "number": 705, "title": "Generated headers cannot be installed directly", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 500743458, "node_id": "MDU6TGFiZWw1MDA3NDM0NTg=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/generators", "name": "generators", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/12", "html_url": "https://github.com/mesonbuild/meson/milestone/12", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/12/labels", "id": 2373726, "node_id": "MDk6TWlsZXN0b25lMjM3MzcyNg==", "number": 12, "title": "0.40.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2017-03-09T06:24:29Z", "updated_at": "2017-06-30T15:16:07Z", "due_on": null, "closed_at": "2017-04-22T12:36:39Z"}, "comments": 14, "created_at": "2016-08-23T08:47:43Z", "updated_at": "2017-04-09T18:57:47Z", "closed_at": "2017-04-09T18:57:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As noted on IRC, a header created by a generator cannot be installed using `install_headers`, nor does the `process` method take any options for designating an install location. It can only be installed via a custom script.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/669", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/669/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/669/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/669/events", "html_url": "https://github.com/mesonbuild/meson/issues/669", "id": 169980113, "node_id": "MDU6SXNzdWUxNjk5ODAxMTM=", "number": 669, "title": "BOOST_ROOT", "user": {"login": "rhd", "id": 3422847, "node_id": "MDQ6VXNlcjM0MjI4NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3422847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhd", "html_url": "https://github.com/rhd", "followers_url": "https://api.github.com/users/rhd/followers", "following_url": "https://api.github.com/users/rhd/following{/other_user}", "gists_url": "https://api.github.com/users/rhd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhd/subscriptions", "organizations_url": "https://api.github.com/users/rhd/orgs", "repos_url": "https://api.github.com/users/rhd/repos", "events_url": "https://api.github.com/users/rhd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}, {"id": 835177534, "node_id": "MDU6TGFiZWw4MzUxNzc1MzQ=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/boost", "name": "boost", "color": "4a6484", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-08-08T17:34:19Z", "updated_at": "2018-02-12T15:04:53Z", "closed_at": "2017-10-01T21:51:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hey Jussi,\n\nSetting BOOST_ROOT in the env doesn't seem to work.\n\nmeson finds the specified modules.\n\n`Dependency Boost (system) found: YES (1.60, /usr/local/boost_1_60_0/)`\n\nBut fails to include them on the link line.\n\n`FAILED: app \ng++-4.8.1    -o app <list of objects> '-Wl,--no-undefined' 'foo.a' '-pthread' '-L/usr/local/boost_1_60_0/lib' '-lrt' '-L/usr/local/boost_1_60_0/lib'`\n\nI had to fall back to using `find_library`.\n\nmeson version: `0.34.0.dev1`\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/669/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/589", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/589/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/589/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/589/events", "html_url": "https://github.com/mesonbuild/meson/issues/589", "id": 159838991, "node_id": "MDU6SXNzdWUxNTk4Mzg5OTE=", "number": 589, "title": "xcode generator fails when using files object", "user": {"login": "theothermatt", "id": 4200538, "node_id": "MDQ6VXNlcjQyMDA1Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/4200538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theothermatt", "html_url": "https://github.com/theothermatt", "followers_url": "https://api.github.com/users/theothermatt/followers", "following_url": "https://api.github.com/users/theothermatt/following{/other_user}", "gists_url": "https://api.github.com/users/theothermatt/gists{/gist_id}", "starred_url": "https://api.github.com/users/theothermatt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theothermatt/subscriptions", "organizations_url": "https://api.github.com/users/theothermatt/orgs", "repos_url": "https://api.github.com/users/theothermatt/repos", "events_url": "https://api.github.com/users/theothermatt/events{/privacy}", "received_events_url": "https://api.github.com/users/theothermatt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 496255341, "node_id": "MDU6TGFiZWw0OTYyNTUzNDE=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/OS:macos", "name": "OS:macos", "color": "c0c0c0", "default": false, "description": "Issues specific to Apple Operating Systems like MacOS and iOS"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-12T17:47:26Z", "updated_at": "2020-10-04T12:53:10Z", "closed_at": "2020-10-04T12:53:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using a files object (created with files('src.c',...)), the xcode generator fails with the following error:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/meson/0.31.0/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 254, in run\n    app.generate()\n  File \"/usr/local/Cellar/meson/0.31.0/lib/python3.5/site-packages/mesonbuild/mesonmain.py\", line 158, in generate\n    g.generate(intr)\n  File \"/usr/local/Cellar/meson/0.31.0/lib/python3.5/site-packages/mesonbuild/backend/xcodebackend.py\", line 88, in generate\n    self.generate_pbx_build_file()\n  File \"/usr/local/Cellar/meson/0.31.0/lib/python3.5/site-packages/mesonbuild/backend/xcodebackend.py\", line 234, in generate_pbx_build_file\n    idval = self.buildmap[s]\nKeyError: 'tests/fileA.c'\n```\n\nI've set up a sample repo, which this error is from, at https://github.com/theothermatt/mesontest.\nIn this example, `fileA.c` is not in the `tests` directory as the error suggests, it's in the `src` directory, where a `meson.build` file creates a files object.\n\nThis works when using the ninja or vs2010 backends.\n\nMeson version:  0.31.0\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/589/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/451", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/451/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/451/events", "html_url": "https://github.com/mesonbuild/meson/issues/451", "id": 141113275, "node_id": "MDU6SXNzdWUxNDExMTMyNzU=", "number": 451, "title": "CustomTarget depend_files not documented", "user": {"login": "nioncode", "id": 3159451, "node_id": "MDQ6VXNlcjMxNTk0NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3159451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nioncode", "html_url": "https://github.com/nioncode", "followers_url": "https://api.github.com/users/nioncode/followers", "following_url": "https://api.github.com/users/nioncode/following{/other_user}", "gists_url": "https://api.github.com/users/nioncode/gists{/gist_id}", "starred_url": "https://api.github.com/users/nioncode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nioncode/subscriptions", "organizations_url": "https://api.github.com/users/nioncode/orgs", "repos_url": "https://api.github.com/users/nioncode/repos", "events_url": "https://api.github.com/users/nioncode/events{/privacy}", "received_events_url": "https://api.github.com/users/nioncode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/4", "html_url": "https://github.com/mesonbuild/meson/milestone/4", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/4/labels", "id": 2123263, "node_id": "MDk6TWlsZXN0b25lMjEyMzI2Mw==", "number": 4, "title": "0.37.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2016-11-08T21:41:51Z", "updated_at": "2016-12-21T17:33:32Z", "due_on": null, "closed_at": "2016-12-21T17:33:32Z"}, "comments": 1, "created_at": "2016-03-15T22:06:43Z", "updated_at": "2016-12-18T09:04:14Z", "closed_at": "2016-12-18T09:04:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "CustomTarget parses the `depend_files`, but this is not documented in the reference manual.\nAlso, there is no test case for this.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/436", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/436/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/436/events", "html_url": "https://github.com/mesonbuild/meson/issues/436", "id": 138893443, "node_id": "MDU6SXNzdWUxMzg4OTM0NDM=", "number": 436, "title": "gnome.generate_gir: cryptic error when the name of the library contains an underscore.", "user": {"login": "MathieuDuponchelle", "id": 1278273, "node_id": "MDQ6VXNlcjEyNzgyNzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1278273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MathieuDuponchelle", "html_url": "https://github.com/MathieuDuponchelle", "followers_url": "https://api.github.com/users/MathieuDuponchelle/followers", "following_url": "https://api.github.com/users/MathieuDuponchelle/following{/other_user}", "gists_url": "https://api.github.com/users/MathieuDuponchelle/gists{/gist_id}", "starred_url": "https://api.github.com/users/MathieuDuponchelle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MathieuDuponchelle/subscriptions", "organizations_url": "https://api.github.com/users/MathieuDuponchelle/orgs", "repos_url": "https://api.github.com/users/MathieuDuponchelle/repos", "events_url": "https://api.github.com/users/MathieuDuponchelle/events{/privacy}", "received_events_url": "https://api.github.com/users/MathieuDuponchelle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/3", "html_url": "https://github.com/mesonbuild/meson/milestone/3", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/3/labels", "id": 2096657, "node_id": "MDk6TWlsZXN0b25lMjA5NjY1Nw==", "number": 3, "title": "0.36.0", "description": "", "creator": {"login": "nirbheek", "id": 75801, "node_id": "MDQ6VXNlcjc1ODAx", "avatar_url": "https://avatars.githubusercontent.com/u/75801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nirbheek", "html_url": "https://github.com/nirbheek", "followers_url": "https://api.github.com/users/nirbheek/followers", "following_url": "https://api.github.com/users/nirbheek/following{/other_user}", "gists_url": "https://api.github.com/users/nirbheek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nirbheek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nirbheek/subscriptions", "organizations_url": "https://api.github.com/users/nirbheek/orgs", "repos_url": "https://api.github.com/users/nirbheek/repos", "events_url": "https://api.github.com/users/nirbheek/events{/privacy}", "received_events_url": "https://api.github.com/users/nirbheek/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 45, "state": "closed", "created_at": "2016-10-27T06:01:51Z", "updated_at": "2018-06-05T13:18:23Z", "due_on": "2016-11-15T08:00:00Z", "closed_at": "2016-11-23T08:26:52Z"}, "comments": 6, "created_at": "2016-03-07T05:42:42Z", "updated_at": "2016-11-12T16:51:37Z", "closed_at": "2016-11-12T16:51:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given this meson.build:\n\n```\nproject('Hotdoc-Test', 'c')\ngnome = import ('gnome')\n\nglib_dep = dependency('glib-2.0')\ngobject_dep = dependency('gobject-2.0')\n\nsources = ['test-greeter.c']\nheaders = ['test-greeter.h']\n\ntestlib = shared_library('test_lib',\n                          sources,\n                          install: true,\n                          dependencies: [glib_dep, gobject_dep],\n                          c_args: ['-Wno-pedantic'],\n                         )\n\ngir = gnome.generate_gir(testlib,\n  sources : sources + headers,\n  nsversion : '1.0',\n  namespace : 'Test',\n  symbol_prefix : 'test_',\n  identifier_prefix : 'Test',\n  export_packages : 'test',\n  includes : ['GObject-2.0'],\n  install : true,\n)\n```\n\nAssuming the two source files exist, `mkdir build && cd build && meson ..` raises:\n\n```\n(dev_env)[meh@meh-host build]$ rm -rf * && meson.py ..\nThe Meson build system\nVersion: 0.30.0.dev1\nSource dir: /home/meh/devel/hotdoc/test_hotdoc\nBuild dir: /home/meh/devel/hotdoc/test_hotdoc/build\nBuild type: native build\nBuild machine cpu family: x86_64\nBuild machine cpu: x86_64\nProject name: Hotdoc-Test\nNative c compiler: cc (gcc 5.3.1)\nWarning, glib compiled dependencies will not work reliably until this upstream issue is fixed: https://bugzilla.gnome.org/show_bug.cgi?id=745754\nFound pkg-config: /usr/bin/pkg-config (0.28)\nNative dependency glib-2.0 found: YES 2.44.1\nNative dependency gobject-2.0 found: YES 2.44.1\nBuild targets in project: 3\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/site-packages/meson-0.30.0.dev1-py3.4.egg/mesonbuild/mesonmain.py\", line 266, in run\n    app.generate()\n  File \"/usr/lib/python3.4/site-packages/meson-0.30.0.dev1-py3.4.egg/mesonbuild/mesonmain.py\", line 170, in generate\n    g.generate(intr)\n  File \"/usr/lib/python3.4/site-packages/meson-0.30.0.dev1-py3.4.egg/mesonbuild/backend/ninjabackend.py\", line 176, in generate\n    [self.generate_target(t, outfile) for t in self.build.get_targets().values()]\n  File \"/usr/lib/python3.4/site-packages/meson-0.30.0.dev1-py3.4.egg/mesonbuild/backend/ninjabackend.py\", line 176, in <listcomp>\n    [self.generate_target(t, outfile) for t in self.build.get_targets().values()]\n  File \"/usr/lib/python3.4/site-packages/meson-0.30.0.dev1-py3.4.egg/mesonbuild/backend/ninjabackend.py\", line 219, in generate_target\n    self.generate_custom_target(target, outfile)\n  File \"/usr/lib/python3.4/site-packages/meson-0.30.0.dev1-py3.4.egg/mesonbuild/backend/ninjabackend.py\", line 338, in generate_custom_target\n    (srcs, ofilenames, cmd) = self.eval_custom_target_command(target)\n  File \"/usr/lib/python3.4/site-packages/meson-0.30.0.dev1-py3.4.egg/mesonbuild/backend/backends.py\", line 427, in eval_custom_target_command\n    source = match.group(0)\nAttributeError: 'NoneType' object has no attribute 'group'\n(dev_env)[meh@meh-host build]$\n```\n\nThis is with latest git master, I know this project used to build some time ago, so this must be a regression.\n\nI had a quick look at the regex in question and figured out the issue, I'm not sure why regular expressions would be at all needed for these internal operations, it seems quite prone to breakage.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/436/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/371", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/371/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/371/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/371/events", "html_url": "https://github.com/mesonbuild/meson/issues/371", "id": 129537088, "node_id": "MDU6SXNzdWUxMjk1MzcwODg=", "number": 371, "title": "Add support for removing files created by custom install scripts to `ninja clean` ", "user": {"login": "rhd", "id": 3422847, "node_id": "MDQ6VXNlcjM0MjI4NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3422847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhd", "html_url": "https://github.com/rhd", "followers_url": "https://api.github.com/users/rhd/followers", "following_url": "https://api.github.com/users/rhd/following{/other_user}", "gists_url": "https://api.github.com/users/rhd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhd/subscriptions", "organizations_url": "https://api.github.com/users/rhd/orgs", "repos_url": "https://api.github.com/users/rhd/repos", "events_url": "https://api.github.com/users/rhd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-28T18:33:19Z", "updated_at": "2017-08-17T21:02:36Z", "closed_at": "2017-08-17T21:02:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hey Jussi,\n\nI have a custom install script which does lame things like creating symlinks and other things inside of the install directory. When you type `ninja clean`, you get something like this:\n\n```\nninja -C build-gcc clean\nninja: Entering directory `build-gcc'\n[1/1] 'Cleaning'\nFAILED: 'ninja' '-t' 'clean'\nninja: error: remove(install): Directory not empty\nCleaning... 1763 files.\nninja: build stopped: subcommand failed.\n```\n\nIt's not the greatest user experience - can anything be done to pretty up that error (it's not really an error) but it looks scary.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/328", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/328/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/328/events", "html_url": "https://github.com/mesonbuild/meson/issues/328", "id": 121370131, "node_id": "MDU6SXNzdWUxMjEzNzAxMzE=", "number": 328, "title": "find_library() prefer .a to .so", "user": {"login": "rhd", "id": 3422847, "node_id": "MDQ6VXNlcjM0MjI4NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3422847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhd", "html_url": "https://github.com/rhd", "followers_url": "https://api.github.com/users/rhd/followers", "following_url": "https://api.github.com/users/rhd/following{/other_user}", "gists_url": "https://api.github.com/users/rhd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhd/subscriptions", "organizations_url": "https://api.github.com/users/rhd/orgs", "repos_url": "https://api.github.com/users/rhd/repos", "events_url": "https://api.github.com/users/rhd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 448958539, "node_id": "MDU6TGFiZWw0NDg5NTg1Mzk=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/help%20wanted", "name": "help wanted", "color": "75B427", "default": true, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2015-12-10T00:01:47Z", "updated_at": "2019-05-05T18:39:27Z", "closed_at": "2019-05-05T18:39:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi Jussi,\n\nIs there a way to get `find_library` to find the `.a` instead of the corresponding `.so`? \n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/328/reactions", "total_count": 3, "+1": 3, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/328/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/314", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/314/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/314/events", "html_url": "https://github.com/mesonbuild/meson/issues/314", "id": 117487924, "node_id": "MDU6SXNzdWUxMTc0ODc5MjQ=", "number": 314, "title": "rpath doesn't get set with find_library('foo', dirs:'/path/to/lib')", "user": {"login": "rhd", "id": 3422847, "node_id": "MDQ6VXNlcjM0MjI4NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/3422847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhd", "html_url": "https://github.com/rhd", "followers_url": "https://api.github.com/users/rhd/followers", "following_url": "https://api.github.com/users/rhd/following{/other_user}", "gists_url": "https://api.github.com/users/rhd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhd/subscriptions", "organizations_url": "https://api.github.com/users/rhd/orgs", "repos_url": "https://api.github.com/users/rhd/repos", "events_url": "https://api.github.com/users/rhd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 99546087, "node_id": "MDU6TGFiZWw5OTU0NjA4Nw==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}, {"id": 546865937, "node_id": "MDU6TGFiZWw1NDY4NjU5Mzc=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/dependencies", "name": "dependencies", "color": "e99695", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 56, "created_at": "2015-11-18T01:03:55Z", "updated_at": "2020-05-12T22:54:21Z", "closed_at": "2018-06-18T06:33:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi Jussi,\n\nIf you build a shared object with meson, the rpath get sets correctly (or so the docs say), but when I use find_library() and give it a search path, the rpath doesn't get set. This is causing me lot of pain.\n\nI'm currently doing stuff like this:\n\n```\nthirdparty_root = '/usr/local/thirdparty-1.6.0'\nthirdparty_lib = [thirdparty_root + '/lib/linux-x64-all',\n    thirdparty_root + '/lib/linux-x64-gcc4.8'\n]\nthirdparty_rpath = thirdparty_lib[0] + ':' + thirdparty_lib[1]\n\nthirdparty_dep = declare_dependency(\n    include_directories: thirdparty_inc,\n    dependencies: [\n        find_library('lib1', dirs: thirdparty_lib),\n        find_library('lib2', dirs: thirdparty_lib),\n        find_library('lib3', dirs: thirdparty_lib)\n    ]\n)\n```\n\nThen doing this:\n\n```\nexecutable('foo', 'foo.cpp',\n   ...,\n    link_args: '-Wl,-rpath,@0@:@1@'.format(thirdparty_rpath, boost_rpath),\n)\n```\n\nAm I doing it wrong?\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/258", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/258/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/258/events", "html_url": "https://github.com/mesonbuild/meson/issues/258", "id": 104882918, "node_id": "MDU6SXNzdWUxMDQ4ODI5MTg=", "number": 258, "title": "Non-numeric dependency() version parts not supported.", "user": {"login": "smokku", "id": 147687, "node_id": "MDQ6VXNlcjE0NzY4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/147687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smokku", "html_url": "https://github.com/smokku", "followers_url": "https://api.github.com/users/smokku/followers", "following_url": "https://api.github.com/users/smokku/following{/other_user}", "gists_url": "https://api.github.com/users/smokku/gists{/gist_id}", "starred_url": "https://api.github.com/users/smokku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smokku/subscriptions", "organizations_url": "https://api.github.com/users/smokku/orgs", "repos_url": "https://api.github.com/users/smokku/repos", "events_url": "https://api.github.com/users/smokku/events{/privacy}", "received_events_url": "https://api.github.com/users/smokku/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-09-04T12:36:54Z", "updated_at": "2015-09-07T06:50:56Z", "closed_at": "2015-09-04T18:57:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am looking for OpenSSL with\n\n```\nssl_dep = dependency('openssl', version : '>= 1.0.1')\n```\n\nand meson fails with:\n\n```\nNative dependency openssl found: YES 1.0.1k\n\nTraceback (most recent call last):\n  File \"/usr/bin/meson\", line 188, in run\n    app.generate()\n  File \"/usr/bin/meson\", line 129, in generate\n    intr.run()\n  File \"/usr/share/meson/interpreter.py\", line 893, in run\n    self.evaluate_codeblock(self.ast)\n  File \"/usr/share/meson/interpreter.py\", line 915, in evaluate_codeblock\n    raise e\n  File \"/usr/share/meson/interpreter.py\", line 909, in evaluate_codeblock\n    self.evaluate_statement(cur)\n  File \"/usr/share/meson/interpreter.py\", line 980, in evaluate_statement\n    return self.assignment(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1686, in assignment\n    value = self.evaluate_statement(node.value)\n  File \"/usr/share/meson/interpreter.py\", line 978, in evaluate_statement\n    return self.function_call(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1667, in function_call\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\n  File \"/usr/share/meson/interpreter.py\", line 1313, in func_dependency\n    dep = dependencies.find_external_dependency(name, self.environment, kwargs)\n  File \"/usr/share/meson/dependencies.py\", line 1034, in find_external_dependency\n    raise pkg_exc\n  File \"/usr/share/meson/dependencies.py\", line 1023, in find_external_dependency\n    pkgdep = PkgConfigDependency(name, environment, kwargs)\n  File \"/usr/share/meson/dependencies.py\", line 119, in __init__\n    self.is_found = mesonlib.version_compare(self.modversion, self.version_requirement)\n  File \"/usr/share/meson/mesonlib.py\", line 141, in version_compare\n    varr1 = [int(x) for x in vstr1.split('.')]\n  File \"/usr/share/meson/mesonlib.py\", line 141, in <listcomp>\n    varr1 = [int(x) for x in vstr1.split('.')]\nValueError: invalid literal for int() with base 10: '1k'\n```\n\n\"1.0.1k\" is not conforming with Semantic Versioning, but as you can see these versions exist in the wild.\n\nOne option is to convert just leading digits. Other option could be skipping version check when non semantic version number is found.\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/258/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/242", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/242/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/242/events", "html_url": "https://github.com/mesonbuild/meson/issues/242", "id": 103118509, "node_id": "MDU6SXNzdWUxMDMxMTg1MDk=", "number": 242, "title": "Mixup with compiler version when cross building with a old mingw version ", "user": {"login": "tsaunier", "id": 13676484, "node_id": "MDQ6VXNlcjEzNjc2NDg0", "avatar_url": "https://avatars.githubusercontent.com/u/13676484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsaunier", "html_url": "https://github.com/tsaunier", "followers_url": "https://api.github.com/users/tsaunier/followers", "following_url": "https://api.github.com/users/tsaunier/following{/other_user}", "gists_url": "https://api.github.com/users/tsaunier/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsaunier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsaunier/subscriptions", "organizations_url": "https://api.github.com/users/tsaunier/orgs", "repos_url": "https://api.github.com/users/tsaunier/repos", "events_url": "https://api.github.com/users/tsaunier/events{/privacy}", "received_events_url": "https://api.github.com/users/tsaunier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967616, "node_id": "MDU6TGFiZWwyNTE5Njc2MTY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/compilers", "name": "compilers", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-08-25T21:11:08Z", "updated_at": "2016-09-25T15:52:05Z", "closed_at": "2016-09-25T15:52:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When cross buildin gstreamer with that config:\n\n```\n[binaries]\nc = 'x86_64-w64-mingw32-gcc'\ncpp = 'x86_64-w64-mingw32-g++'\nar = 'x86_64-w64-mingw32-ar'\nstrip = 'x86_64-w64-mingw32-strip'\nexe_wrapper = 'wine'\npkgconfig = 'pkg-config'\n\n[properties]\nsizeof_int = 4\nsizeof_wchar_t = 4\nsizeof_char = 1\nsizeof_void* = 4\nsizeof_long = 8\nsizeof_short = 2\n\nalignment_char = 1\nalignment_void* = 4\nalignment_double = 4 # Don't know if this is correct...\n\nhas_function_printf = true\nhas_function_hfkerhisadf = false\n\n[host_machine]\nsystem = 'windows'\ncpu = 'x86_64'\nendian = 'little'\n```\n\nI get the following error about -Wpedantic not being a gcc option:\n\n```\n[10/353] Compiling c object 'gst/printf/gstprintf@sha/printf-extension.c.obj'\nFAILED: x86_64-w64-mingw32-gcc '-pipe' '-Wall' '-Wpedantic' '-Winvalid-pch' '-std=gnu99' '-Wall' '-g' '-O2' '-DWINVER=0x0501' '-D_WIN32_WINNT=0x0501' '-DSTATIC=G_GNUC_INTERNAL' '-DHAVE_CONFIG_H=1' '-g' '-fPIC' '-mms-bitfields' '-I/mnt/data/devel/cerbero_workdir/dist/windows_x86_64/include/glib-2.0' '-I/mnt/data/devel/cerbero_workdir/dist/windows_x86_64/lib/glib-2.0/include' '-Igst/printf/gstprintf@sha' '-I../gst/printf' '-Igst/printf' '-I.' '-I/home/thiblahute/devel/misc/gstreamer/.' '-MMD' '-MQ' 'gst/printf/gstprintf@sha/printf-extension.c.obj' '-MF' 'gst/printf/gstprintf@sha/printf-extension.c.obj.d' -o 'gst/printf/gstprintf@sha/printf-extension.c.obj' -c ../gst/printf/printf-extension.c\nx86_64-w64-mingw32-gcc: error: unrecognized command line option '-Wpedantic'\n```\n\nBut I can see that currently meson does:\n\n``` python\n...\n      old_warn = ['-Wall', '-pedantic', '-Winvalid-pch'] \n      new_warn = ['-Wall', '-Wpedantic', '-Winvalid-pch'] \n\n       if mesonlib.version_compare(version, \">=4.9.0\"):\n          self.warn_args = GnuCCompiler.new_warn\n       else:\n           self.warn_args = GnuCCompiler.old_warn # \n```\n\nand I added some debug:\n\n```\ndiff --git a/compilers.py b/compilers.py\nindex 134edda..b917189 100644\n--- a/compilers.py\n+++ b/compilers.py\n@@ -1052,9 +1052,12 @@ class GnuCCompiler(CCompiler):\n         CCompiler.__init__(self, exelist, version, is_cross, exe_wrapper)\n         self.id = 'gcc'\n         self.gcc_type = gcc_type\n+        mlog.debug('Compiler version: %s' % version)\n         if mesonlib.version_compare(version, \">=4.9.0\"):\n-            self.warn_args= GnuCCompiler.new_warn\n+            mlog.debug('NEW warns')\n+            self.warn_args = GnuCCompiler.new_warn\n         else:\n+            mlog.debug('Old warns')\n             self.warn_args = GnuCCompiler.old_warn\n```\n\nI am getting the following output files:\n\n```\nBuild started at 2015-08-25T23:05:36.609478\nPython binary: /usr/bin/python3\nPython system: Linux\nThe Meson build system\nVersion: 0.26.0-research\nSource dir: /home/thiblahute/devel/misc/gstreamer\nBuild dir: /home/thiblahute/devel/misc/gstreamer/build\nBuild type: cross build\nBuild machine cpu: x86_64\nHost machine cpu: x86_64\nTarget machine cpu: x86_64\nProject name: gstreamer-core\nCompiler version: 5.2.0\nNEW warns\nCompiler version: 4.7.3\nOld warns\nSanity testing C compiler: gcc\nIs cross compiler: False.\nRunning test binary command: /home/thiblahute/devel/misc/gstreamer/build/meson-private/sanitycheckc\nSanity testing C compiler: x86_64-w64-mingw32-gcc\nIs cross compiler: True.\nRunning test binary command: wine /home/thiblahute/devel/misc/gstreamer/build/meson-private/sanitycheckc_cross\nNative c compiler: gcc (gcc 5.2.0)\nCross c compiler: x86_64-w64-mingw32-gcc (gcc 4.7.3)\nNative cpp compiler: g++ (gcc 5.2.0)\nCross cpp compiler: x86_64-w64-mingw32-g++ (gcc 4.7.3)\nRunning compile test:\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/241", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/241/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/241/events", "html_url": "https://github.com/mesonbuild/meson/issues/241", "id": 102911347, "node_id": "MDU6SXNzdWUxMDI5MTEzNDc=", "number": 241, "title": "Failure/Traceback calling import('gnome') when gobject-introspection-1.0 is missing", "user": {"login": "thiblahute", "id": 83553, "node_id": "MDQ6VXNlcjgzNTUz", "avatar_url": "https://avatars.githubusercontent.com/u/83553?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiblahute", "html_url": "https://github.com/thiblahute", "followers_url": "https://api.github.com/users/thiblahute/followers", "following_url": "https://api.github.com/users/thiblahute/following{/other_user}", "gists_url": "https://api.github.com/users/thiblahute/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiblahute/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiblahute/subscriptions", "organizations_url": "https://api.github.com/users/thiblahute/orgs", "repos_url": "https://api.github.com/users/thiblahute/repos", "events_url": "https://api.github.com/users/thiblahute/events{/privacy}", "received_events_url": "https://api.github.com/users/thiblahute/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 251967366, "node_id": "MDU6TGFiZWwyNTE5NjczNjY=", "url": "https://api.github.com/repos/mesonbuild/meson/labels/gnome", "name": "gnome", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-08-24T23:17:01Z", "updated_at": "2015-08-27T17:54:48Z", "closed_at": "2015-08-27T17:54:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Cross compiling [gstreamer](https://github.com/jpakkane/gstreamer) with this cross compile file:\n\n```\n[binaries]\nc = 'x86_64-w64-mingw32-gcc'\ncpp = 'x86_64-w64-mingw32-g++'\nar = 'x86_64-w64-mingw32-ar'\nstrip = 'x86_64-w64-mingw32-strip'\nexe_wrapper = 'wine'\npkgconfig = 'pkg-config'\n\n[properties]\nsizeof_int = 4\nsizeof_wchar_t = 4\nsizeof_char = 1\nsizeof_void* = 4\nsizeof_long = 8\nsizeof_short = 2\n\nalignment_char = 1\nalignment_void* = 4\nalignment_double = 4 # Don't know if this is correct...\n\nhas_function_printf = true\nhas_function_hfkerhisadf = false\n\n[host_machine]\nsystem = 'windows'\ncpu = 'x86_64'\nendian = 'little'\n```\n\nLeads to (when calling importing(\"gnome\")):\n\n```\nmeson build  --cross-file ubuntu-mingw.txt\nThe Meson build system\nVersion: 0.26.0-research\nSource dir: /home/thiblahute/devel/misc/gstreamer\nBuild dir: /home/thiblahute/devel/misc/gstreamer/build\nBuild type: cross build\nBuild machine cpu: x86_64\nHost machine cpu: x86_64\nTarget machine cpu: x86_64\nProject name: gstreamer-core\nNative c compiler: gcc (gcc 5.2.0)\nCross c compiler: x86_64-w64-mingw32-gcc (gcc 4.7.3)\nfixme:ole:RemUnknown_QueryInterface No interface for iid {00000019-0000-0000-c000-000000000046}\nNative cpp compiler: g++ (gcc 5.2.0)\nCross cpp compiler: x86_64-w64-mingw32-g++ (gcc 4.7.3)\nHas header \"dlfcn.h\": NO\nHas header \"inttypes.h\": YES\nHas header \"memory.h\": YES\nHas header \"poll.h\": NO\nHas header \"stdint.h\": YES\nHas header \"stdio_ext.h\": NO\nHas header \"strings.h\": YES\nHas header \"string.h\": YES\nHas header \"sys/param.h\": YES\nHas header \"sys/poll.h\": NO\nHas header \"sys/prctl.h\": NO\nHas header \"sys/socket.h\": NO\nHas header \"sys/stat.h\": YES\nHas header \"sys/times.h\": NO\nHas header \"sys/types.h\": YES\nHas header \"sys/utsname.h\": NO\nHas header \"sys/wait.h\": NO\nHas header \"ucontext.h\": NO\nHas header \"unistd.h\": YES\nHas header \"valgrind/valgrind.h\": NO\nHas header \"winsock2.h\": YES\nChecking for size of \"char\": 1\nChecking for size of \"int\": 4\nChecking for size of \"long\": 8\nChecking for size of \"short\": 2\nChecking for size of \"void*\": 4\nChecking for function \"gmtime_r\": NO\nChecking for function \"localtime_r\": NO\nChecking for function \"sigaction\": NO\nChecking for function \"fseeko\": YES\nChecking for function \"ftello\": YES\nChecking for function \"fsetpos\": YES\nChecking for function \"fgetpos\": YES\nChecking for function \"poll\": NO\nChecking for function \"pselect\": NO\nChecking for function \"posix_memalign\": NO\nChecking for function \"getpagesize\": NO\nChecking for type \"ptrdiff_t\": NO\nFound pkg-config: /mnt/data/devel/cerbero_workdir/build-tools/bin/pkg-config (0.28)\nCross dependency glib-2.0 found: YES 2.44.1\nCross dependency gobject-2.0 found: YES 2.44.1\nCross dependency gmodule-2.0 found: YES 2.44.1\nCross dependency gio-2.0 found: YES 2.44.1\nLibrary m found: NO\nProgram flex found: YES (/usr/bin/flex)\nProgram bison found: YES (/usr/bin/bison)\nProgram g-ir-scanner found: YES (/usr/bin/g-ir-scanner)\nWarning, glib compiled dependencies will not work until this upstream issue is fixed: https://bugzilla.gnome.org/show_bug.cgi?id=745754\nLibrary m found: NO\nProgram build_mkenum.py found: YES (/home/thiblahute/devel/misc/gstreamer/gst/build_mkenum.py)\nProgram gen_lex.py found: YES (/home/thiblahute/devel/misc/gstreamer/gst/parse/gen_lex.py)\nProgram gen_grammar.py found: YES (/home/thiblahute/devel/misc/gstreamer/gst/parse/gen_grammar.py)\nPackage gobject-introspection-1.0 was not found in the pkg-config search path.\nPerhaps you should add the directory containing `gobject-introspection-1.0.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'gobject-introspection-1.0' found\nTraceback (most recent call last):\n  File \"/usr/bin/meson\", line 194, in run\n    app.generate()\n  File \"/usr/bin/meson\", line 135, in generate\n    intr.run()\n  File \"/usr/share/meson/interpreter.py\", line 953, in run\n    self.evaluate_codeblock(self.ast)\n  File \"/usr/share/meson/interpreter.py\", line 975, in evaluate_codeblock\n    raise e\n  File \"/usr/share/meson/interpreter.py\", line 969, in evaluate_codeblock\n    self.evaluate_statement(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1038, in evaluate_statement\n    return self.function_call(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1740, in function_call\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\n  File \"/usr/share/meson/interpreter.py\", line 59, in wrapped\n    return f(self, node, args, kwargs)\n  File \"/usr/share/meson/interpreter.py\", line 1558, in func_subdir\n    self.evaluate_codeblock(codeblock)\n  File \"/usr/share/meson/interpreter.py\", line 975, in evaluate_codeblock\n    raise e\n  File \"/usr/share/meson/interpreter.py\", line 969, in evaluate_codeblock\n    self.evaluate_statement(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1048, in evaluate_statement\n    return self.evaluate_if(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1891, in evaluate_if\n    self.evaluate_codeblock(i.block)\n  File \"/usr/share/meson/interpreter.py\", line 975, in evaluate_codeblock\n    raise e\n  File \"/usr/share/meson/interpreter.py\", line 969, in evaluate_codeblock\n    self.evaluate_statement(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1048, in evaluate_statement\n    return self.evaluate_if(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1891, in evaluate_if\n    self.evaluate_codeblock(i.block)\n  File \"/usr/share/meson/interpreter.py\", line 975, in evaluate_codeblock\n    raise e\n  File \"/usr/share/meson/interpreter.py\", line 969, in evaluate_codeblock\n    self.evaluate_statement(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1042, in evaluate_statement\n    return self.method_call(cur)\n  File \"/usr/share/meson/interpreter.py\", line 1840, in method_call\n    return obj.method_call(method_name, args, kwargs)\n  File \"/usr/share/meson/interpreter.py\", line 708, in method_call\n    value = fn(state, args, kwargs)\n  File \"/usr/share/meson/modules/gnome.py\", line 52, in generate_gir\n    pkgstr = subprocess.check_output(['pkg-config', '--cflags', 'gobject-introspection-1.0'])\n  File \"/usr/lib/python3.4/subprocess.py\", line 620, in check_output\n    raise CalledProcessError(retcode, process.args, output=output)\nsubprocess.CalledProcessError: Command '['pkg-config', '--cflags', 'gobject-introspection-1.0']' returned non-zero exit status 1\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/241/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/232", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/232/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/232/events", "html_url": "https://github.com/mesonbuild/meson/issues/232", "id": 101944292, "node_id": "MDU6SXNzdWUxMDE5NDQyOTI=", "number": 232, "title": "gtk-doc issues", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-08-19T16:47:22Z", "updated_at": "2015-08-20T19:59:52Z", "closed_at": "2015-08-19T18:05:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\nbuild hello-world-doc: CUSTOM_COMMAND \n COMMAND = '/usr/bin/python3' '/home/brain/git/mesonbuild/meson/commandrunner.py' '/home/brain/tmp' '/home/brain/tmp/build' 'doc' '/home/brain/git/mesonbuild/meson/gtkdochelpe\nr.py' '/home/brain/tmp' '/home/brain/tmp/build' 'doc' 'src' 'hello-world.xml' 'hello-world'\n description = 'Running$ external$ command$ hello-world-doc.'\n pool = console\n```\n- I think we should add `hello-world.xml` to line where CUSTOM_COMMAND is (to do rebuild if file changed).\n\nIt creates nothing at all in doc directory\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/231", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/231/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/231/events", "html_url": "https://github.com/mesonbuild/meson/issues/231", "id": 101943488, "node_id": "MDU6SXNzdWUxMDE5NDM0ODg=", "number": 231, "title": "[gtk-doc] 'IncludeDirsHolder' object has no attribute 'startswith'", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-19T16:43:31Z", "updated_at": "2015-08-19T18:55:09Z", "closed_at": "2015-08-19T18:55:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` python\nTraceback (most recent call last):\n  File \"/home/brain/git/mesonbuild/meson/meson.py\", line 192, in run\n    app.generate()\n  File \"/home/brain/git/mesonbuild/meson/meson.py\", line 133, in generate\n    intr.run()\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 941, in run\n    self.evaluate_codeblock(self.ast)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 963, in evaluate_codeblock\n    raise e\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 957, in evaluate_codeblock\n    self.evaluate_statement(cur)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 1026, in evaluate_statement\n    return self.function_call(cur)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 1728, in function_call\n    return self.funcs[func_name](node, self.flatten(posargs), kwargs)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 59, in wrapped\n    return f(self, node, args, kwargs)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 1541, in func_subdir\n    self.evaluate_codeblock(codeblock)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 963, in evaluate_codeblock\n    raise e\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 957, in evaluate_codeblock\n    self.evaluate_statement(cur)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 1030, in evaluate_statement\n    return self.method_call(cur)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 1828, in method_call\n    return obj.method_call(method_name, args, kwargs)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 708, in method_call\n    value = fn(state, args, kwargs)\n  File \"/home/brain/git/mesonbuild/meson/modules/gnome.py\", line 214, in gtkdoc\n    os.path.normpath(os.path.join(state.subdir, src_dir)),\n  File \"/usr/lib64/python3.4/posixpath.py\", line 79, in join\n    if b.startswith(sep):\nAttributeError: 'IncludeDirsHolder' object has no attribute 'startswith'\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/231/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/213", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/213/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/213/events", "html_url": "https://github.com/mesonbuild/meson/issues/213", "id": 97310557, "node_id": "MDU6SXNzdWU5NzMxMDU1Nw==", "number": 213, "title": "ppc64: endian test failed", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2015-07-26T11:45:34Z", "updated_at": "2015-07-26T12:01:57Z", "closed_at": "2015-07-26T12:01:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://build.opensuse.org/build/devel:tools:building/openSUSE_Factory_PowerPC/ppc64/meson/_log\n\n```\n[  109s] Running test: test cases/common/26 endian\n[  109s] Fail: Generating the build system failed.\n[  109s] The Meson build system\n[  109s] Version: 0.25.0\n[  109s] Source dir: /home/abuild/rpmbuild/BUILD/meson-0.25.0/test cases/common/26 endian\n[  109s] Build dir: /home/abuild/rpmbuild/BUILD/meson-0.25.0/work area\n[  109s] Build type: native build\n[  109s] Project name: endian check\n[  109s] Native c compiler: cc (gcc 5.1.1)\n[  109s] \n[  109s] Meson encountered an error in file meson.build, line 4, column 2:\n[  109s] Missing language definition in add_global_arguments\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/213/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/196", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/196/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/196/events", "html_url": "https://github.com/mesonbuild/meson/issues/196", "id": 92604229, "node_id": "MDU6SXNzdWU5MjYwNDIyOQ==", "number": 196, "title": "XXX_args: doesn't open mesonlib.File as str", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/2", "html_url": "https://github.com/mesonbuild/meson/milestone/2", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/2/labels", "id": 1204110, "node_id": "MDk6TWlsZXN0b25lMTIwNDExMA==", "number": 2, "title": "0.26.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-07-12T19:02:59Z", "updated_at": "2016-11-02T09:15:13Z", "due_on": null, "closed_at": "2016-11-02T09:15:13Z"}, "comments": 6, "created_at": "2015-07-02T10:24:23Z", "updated_at": "2015-08-14T22:49:53Z", "closed_at": "2015-08-14T22:49:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "it's not possible to do:\n\n```\ngres = files('gnome-scanmem.gresource.xml')\n...\n  vala_args : ['--gresources', gres]\n...\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/196/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/194", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/194/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/194/events", "html_url": "https://github.com/mesonbuild/meson/issues/194", "id": 92596174, "node_id": "MDU6SXNzdWU5MjU5NjE3NA==", "number": 194, "title": "gnome: compile-resources and probably some others doesn't support file objects", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-07-02T09:43:43Z", "updated_at": "2016-08-01T05:19:50Z", "closed_at": "2016-08-01T05:19:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/194/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/193", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/193/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/193/events", "html_url": "https://github.com/mesonbuild/meson/pull/193", "id": 92590718, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNjI1NDE=", "number": 193, "title": "vala: don't ignore vala_args. Closes #192", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 7, "created_at": "2015-07-02T09:14:43Z", "updated_at": "2015-07-04T08:48:44Z", "closed_at": "2015-07-03T18:02:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/193", "html_url": "https://github.com/mesonbuild/meson/pull/193", "diff_url": "https://github.com/mesonbuild/meson/pull/193.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/193.patch", "merged_at": null}, "body": "Signed-off-by: Igor Gnatenko i.gnatenko.brain@gmail.com\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/193/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/192", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/192/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/192/events", "html_url": "https://github.com/mesonbuild/meson/issues/192", "id": 92489912, "node_id": "MDU6SXNzdWU5MjQ4OTkxMg==", "number": 192, "title": "vala: vala_args in executable() and add_global_arguments(language: 'vala') does donthing", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-07-01T21:33:31Z", "updated_at": "2015-07-03T18:00:25Z", "closed_at": "2015-07-03T18:00:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If I use vala_args : 'blahblah' so nothing adds to `valac`\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/190", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/190/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/190/events", "html_url": "https://github.com/mesonbuild/meson/pull/190", "id": 92454469, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwMTEwNjY=", "number": 190, "title": "compilers: fix can_compile. Closes #189", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-07-01T18:27:13Z", "updated_at": "2015-07-04T08:48:54Z", "closed_at": "2015-07-01T20:55:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/190", "html_url": "https://github.com/mesonbuild/meson/pull/190", "diff_url": "https://github.com/mesonbuild/meson/pull/190.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/190.patch", "merged_at": "2015-07-01T20:55:54Z"}, "body": "Signed-off-by: Igor Gnatenko i.gnatenko.brain@gmail.com\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/190/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/189", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/189/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/189/events", "html_url": "https://github.com/mesonbuild/meson/issues/189", "id": 92452711, "node_id": "MDU6SXNzdWU5MjQ1MjcxMQ==", "number": 189, "title": "vala: AttributeError: 'RawFilename' object has no attribute 'endswith'", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-07-01T18:20:50Z", "updated_at": "2015-07-01T20:55:54Z", "closed_at": "2015-07-01T20:55:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` python\nTraceback (most recent call last):\n  File \"/usr/share/meson/meson.py\", line 188, in run\n    app.generate()\n  File \"/usr/share/meson/meson.py\", line 141, in generate\n    g.generate()\n  File \"/usr/share/meson/ninjabackend.py\", line 132, in generate\n    [self.generate_target(t, outfile) for t in self.build.get_targets().values()]\n  File \"/usr/share/meson/ninjabackend.py\", line 132, in <listcomp>\n    [self.generate_target(t, outfile) for t in self.build.get_targets().values()]\n  File \"/usr/share/meson/ninjabackend.py\", line 209, in generate_target\n    header_deps))\n  File \"/usr/share/meson/ninjabackend.py\", line 1100, in generate_single_compile\n    compiler = self.get_compiler_for_source(src)\n  File \"/usr/share/meson/backends.py\", line 54, in get_compiler_for_source\n    if i.can_compile(src):\n  File \"/usr/share/meson/compilers.py\", line 824, in can_compile\n    return fname.endswith('.vala') or fname.endswith('.vapi')\nAttributeError: 'RawFilename' object has no attribute 'endswith'\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/189/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/184", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/184/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/184/events", "html_url": "https://github.com/mesonbuild/meson/issues/184", "id": 89893176, "node_id": "MDU6SXNzdWU4OTg5MzE3Ng==", "number": 184, "title": "compilers: Instance of 'FortranCompiler' has no 'gcc_type' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:25:20Z", "updated_at": "2015-06-22T18:48:12Z", "closed_at": "2015-06-22T18:48:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:1280,35: Instance of 'FortranCompiler' has no 'gcc_type' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L1280\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/183", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/183/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/183/events", "html_url": "https://github.com/mesonbuild/meson/issues/183", "id": 89893094, "node_id": "MDU6SXNzdWU4OTg5MzA5NA==", "number": 183, "title": "compilers: Instance of 'FortranCompiler' has no 'name_string' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:24:01Z", "updated_at": "2015-06-22T18:34:44Z", "closed_at": "2015-06-22T18:34:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:1259,104: Instance of 'FortranCompiler' has no 'name_string' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L1259\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/183/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/183/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/182", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/182/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/182/events", "html_url": "https://github.com/mesonbuild/meson/issues/182", "id": 89893079, "node_id": "MDU6SXNzdWU4OTg5MzA3OQ==", "number": 182, "title": "compilers: Instance of 'FortranCompiler' has no 'name_string' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:23:26Z", "updated_at": "2015-06-22T18:34:44Z", "closed_at": "2015-06-22T18:34:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:1248,81: Instance of 'FortranCompiler' has no 'name_string' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L877\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/182/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/181", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/181/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/181/events", "html_url": "https://github.com/mesonbuild/meson/issues/181", "id": 89893019, "node_id": "MDU6SXNzdWU4OTg5MzAxOQ==", "number": 181, "title": "compilers: Instance of 'FortranCompiler' has no 'id' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:22:50Z", "updated_at": "2015-06-22T18:48:12Z", "closed_at": "2015-06-22T18:48:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:1225,15: Instance of 'FortranCompiler' has no 'id' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L1225\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/181/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/180", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/180/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/180/events", "html_url": "https://github.com/mesonbuild/meson/issues/180", "id": 89892978, "node_id": "MDU6SXNzdWU4OTg5Mjk3OA==", "number": 180, "title": "compilers: Instance of 'GnuObjCPPCompiler' has no 'gcc_type' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:22:21Z", "updated_at": "2015-06-22T18:48:12Z", "closed_at": "2015-06-22T18:48:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:1113,35: Instance of 'GnuObjCPPCompiler' has no 'gcc_type' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L1113\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/180/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/179", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/179/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/179/events", "html_url": "https://github.com/mesonbuild/meson/issues/179", "id": 89892923, "node_id": "MDU6SXNzdWU4OTg5MjkyMw==", "number": 179, "title": "compilers: Instance of 'GnuObjCCompiler' has no 'gcc_type' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:21:47Z", "updated_at": "2015-06-22T18:48:12Z", "closed_at": "2015-06-22T18:48:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:1090,35: Instance of 'GnuObjCCompiler' has no 'gcc_type' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L1090\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/178", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/178/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/178/events", "html_url": "https://github.com/mesonbuild/meson/issues/178", "id": 89892848, "node_id": "MDU6SXNzdWU4OTg5Mjg0OA==", "number": 178, "title": "compilers: Instance of 'RustCompiler' has no 'name_string' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:21:10Z", "updated_at": "2015-06-22T18:34:44Z", "closed_at": "2015-06-22T18:34:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:877,101: Instance of 'RustCompiler' has no 'name_string' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L877\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/177", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/177/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/177/events", "html_url": "https://github.com/mesonbuild/meson/issues/177", "id": 89892797, "node_id": "MDU6SXNzdWU4OTg5Mjc5Nw==", "number": 177, "title": "compilers: Instance of 'RustCompiler' has no 'name_string' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:20:19Z", "updated_at": "2015-06-22T18:34:44Z", "closed_at": "2015-06-22T18:34:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:875,86: Instance of 'RustCompiler' has no 'name_string' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L875\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/177/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/176", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/176/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/176/events", "html_url": "https://github.com/mesonbuild/meson/issues/176", "id": 89892726, "node_id": "MDU6SXNzdWU4OTg5MjcyNg==", "number": 176, "title": "compilers: Instance of 'ValaCompiler' has no 'name_string' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-21T10:19:48Z", "updated_at": "2015-06-22T18:34:43Z", "closed_at": "2015-06-22T18:34:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:835,86: Instance of 'ValaCompiler' has no 'name_string' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L835\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/176/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/175", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/175/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/175/events", "html_url": "https://github.com/mesonbuild/meson/issues/175", "id": 89892634, "node_id": "MDU6SXNzdWU4OTg5MjYzNA==", "number": 175, "title": "compilers: Instance of 'CCompiler' has no 'get_pch_suffix' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/2", "html_url": "https://github.com/mesonbuild/meson/milestone/2", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/2/labels", "id": 1204110, "node_id": "MDk6TWlsZXN0b25lMTIwNDExMA==", "number": 2, "title": "0.26.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-07-12T19:02:59Z", "updated_at": "2016-11-02T09:15:13Z", "due_on": null, "closed_at": "2016-11-02T09:15:13Z"}, "comments": 1, "created_at": "2015-06-21T10:19:04Z", "updated_at": "2016-10-25T18:28:13Z", "closed_at": "2016-10-25T18:28:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "E:223,54: Instance of 'CCompiler' has no 'get_pch_suffix' member (no-member)\n\nhttps://github.com/mesonbuild/meson/blob/master/compilers.py#L223\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/175/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/173", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/173/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/173/events", "html_url": "https://github.com/mesonbuild/meson/issues/173", "id": 89534285, "node_id": "MDU6SXNzdWU4OTUzNDI4NQ==", "number": 173, "title": "build: Instance of 'ConfigureFile' has no 'sources' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T10:56:47Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`E:846,15: Instance of 'ConfigureFile' has no 'sources' member (no-member)`\n\nhttps://github.com/mesonbuild/meson/blob/93d15e4152cbac9ed8ef65ec1d301e9318ad2e2c/build.py#L846\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/172", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/172/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/172/events", "html_url": "https://github.com/mesonbuild/meson/issues/172", "id": 89534096, "node_id": "MDU6SXNzdWU4OTUzNDA5Ng==", "number": 172, "title": "build: Instance of 'BuildTarget' has no 'add_external_dep' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T10:56:19Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`E:439, 9: Instance of 'BuildTarget' has no 'add_external_dep' member (no-member)`\n\nhttps://github.com/mesonbuild/meson/blob/93d15e4152cbac9ed8ef65ec1d301e9318ad2e2c/build.py#L439\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/171", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/171/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/171/events", "html_url": "https://github.com/mesonbuild/meson/issues/171", "id": 89533490, "node_id": "MDU6SXNzdWU4OTUzMzQ5MA==", "number": 171, "title": "build: Instance of 'BuildTarget' has no 'set_soversion' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T10:54:19Z", "updated_at": "2015-06-20T10:49:58Z", "closed_at": "2015-06-20T10:49:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`E:326,12: Instance of 'BuildTarget' has no 'set_soversion' member (no-member)`\n\nhttps://github.com/mesonbuild/meson/blob/93d15e4152cbac9ed8ef65ec1d301e9318ad2e2c/build.py#L326\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/171/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/170", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/170/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/170/events", "html_url": "https://github.com/mesonbuild/meson/issues/170", "id": 89533449, "node_id": "MDU6SXNzdWU4OTUzMzQ0OQ==", "number": 170, "title": "build: Instance of 'BuildTarget' has no 'set_version' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T10:53:52Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`E:324,12: Instance of 'BuildTarget' has no 'set_version' member (no-member)`\n\nhttps://github.com/mesonbuild/meson/blob/93d15e4152cbac9ed8ef65ec1d301e9318ad2e2c/build.py#L324\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/170/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/169", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/169/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/169/events", "html_url": "https://github.com/mesonbuild/meson/issues/169", "id": 89533277, "node_id": "MDU6SXNzdWU4OTUzMzI3Nw==", "number": 169, "title": "build: Instance of 'Build' has no 'external_link_args' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T10:52:48Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`E:129,15: Instance of 'Build' has no 'external_link_args' member (no-member)`\n\nhttps://github.com/mesonbuild/meson/blob/93d15e4152cbac9ed8ef65ec1d301e9318ad2e2c/build.py#L129\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/168", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/168/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/168/events", "html_url": "https://github.com/mesonbuild/meson/issues/168", "id": 89533212, "node_id": "MDU6SXNzdWU4OTUzMzIxMg==", "number": 168, "title": "build: Instance of 'Build' has no 'external_args' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T10:52:20Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`E:126,15: Instance of 'Build' has no 'external_args' member (no-member)`\n\nhttps://github.com/mesonbuild/meson/blob/93d15e4152cbac9ed8ef65ec1d301e9318ad2e2c/build.py#L126\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/167", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/167/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/167/events", "html_url": "https://github.com/mesonbuild/meson/issues/167", "id": 89533092, "node_id": "MDU6SXNzdWU4OTUzMzA5Mg==", "number": 167, "title": "build: Instance of 'Build' has no 'configure_files' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T10:51:52Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`E:117,15: Instance of 'Build' has no 'configure_files' member (no-member)`\n\nhttps://github.com/mesonbuild/meson/blob/93d15e4152cbac9ed8ef65ec1d301e9318ad2e2c/build.py#L117\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/165", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/165/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/165/events", "html_url": "https://github.com/mesonbuild/meson/issues/165", "id": 89496826, "node_id": "MDU6SXNzdWU4OTQ5NjgyNg==", "number": 165, "title": "backends: Instance of 'Backend' has no 'source_suffix_in_objs' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/2", "html_url": "https://github.com/mesonbuild/meson/milestone/2", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/2/labels", "id": 1204110, "node_id": "MDk6TWlsZXN0b25lMTIwNDExMA==", "number": 2, "title": "0.26.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-07-12T19:02:59Z", "updated_at": "2016-11-02T09:15:13Z", "due_on": null, "closed_at": "2016-11-02T09:15:13Z"}, "comments": 1, "created_at": "2015-06-19T07:53:15Z", "updated_at": "2016-08-01T05:18:24Z", "closed_at": "2016-08-01T05:18:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\n************* Module backends\nE:171,19: Instance of 'Backend' has no 'source_suffix_in_objs' member (no-member)\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/164", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/164/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/164/events", "html_url": "https://github.com/mesonbuild/meson/issues/164", "id": 89495869, "node_id": "MDU6SXNzdWU4OTQ5NTg2OQ==", "number": 164, "title": "optinterpreter: using self.name when it's not available in class", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T07:47:14Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\n************* Module optinterpreter\nE: 54,105: Instance of 'UserStringOption' has no 'name' member (no-member)\nE: 64,107: Instance of 'UserBooleanOption' has no 'name' member (no-member)\nE: 72,101: Instance of 'UserBooleanOption' has no 'name' member (no-member)\nE: 90,135: Instance of 'UserComboOption' has no 'name' member (no-member)\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/164/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/163", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/163/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/163/events", "html_url": "https://github.com/mesonbuild/meson/issues/163", "id": 89494750, "node_id": "MDU6SXNzdWU4OTQ5NDc1MA==", "number": 163, "title": "interpreter: Instance of 'Data' has no 'install_subdir' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-19T07:42:07Z", "updated_at": "2015-06-20T10:49:50Z", "closed_at": "2015-06-20T10:49:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` python\nclass Data(InterpreterObject):\n    def __init__(self, in_sourcetree, source_subdir, sources, kwargs):\n        InterpreterObject.__init__(self)\n        self.in_sourcetree = in_sourcetree\n        self.source_subdir = source_subdir\n        self.sources = sources\n        kwsource = kwargs.get('sources', [])\n        if not isinstance(kwsource, list):\n            kwsource = [kwsource]\n        self.sources += kwsource\n        check_stringlist(self.sources)\n        self.install_dir = kwargs.get('install_dir', None)\n        if not isinstance(self.install_dir, str):\n            raise InterpreterException('Custom_install_dir must be a string.')\n\n    def get_install_subdir(self):\n        return self.install_subdir\n\n    def get_source_subdir(self):\n        return self.source_subdir\n\n    def get_sources(self):\n        return self.sources\n\n    def get_install_dir(self):\n        return self.install_dir\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/160", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/160/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/160/events", "html_url": "https://github.com/mesonbuild/meson/issues/160", "id": 89357157, "node_id": "MDU6SXNzdWU4OTM1NzE1Nw==", "number": 160, "title": "AttributeError: 'OptionInterpreter' object has no attribute 'get_variable'", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 2, "created_at": "2015-06-18T17:58:27Z", "updated_at": "2015-06-18T18:24:11Z", "closed_at": "2015-06-18T18:24:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` python\nTraceback (most recent call last):\n  File \"/home/brain/git/mesonbuild/meson/meson.py\", line 194, in run\n    app.generate()\n  File \"/home/brain/git/mesonbuild/meson/meson.py\", line 134, in generate\n    intr = interpreter.Interpreter(b)\n  File \"/home/brain/git/mesonbuild/meson/interpreter.py\", line 781, in __init__\n    oi.process(option_file)\n  File \"/home/brain/git/mesonbuild/meson/optinterpreter.py\", line 124, in process\n    raise e\n  File \"/home/brain/git/mesonbuild/meson/optinterpreter.py\", line 119, in process\n    self.evaluate_statement(cur)\n  File \"/home/brain/git/mesonbuild/meson/optinterpreter.py\", line 161, in evaluate_statement\n    (posargs, kwargs) = self.reduce_arguments(node.args)\n  File \"/home/brain/git/mesonbuild/meson/optinterpreter.py\", line 152, in reduce_arguments\n    reduced_kw[key] = self.reduce_single(a)\n  File \"/home/brain/git/mesonbuild/meson/optinterpreter.py\", line 128, in reduce_single\n    return self.get_variable(arg.value)\nAttributeError: 'OptionInterpreter' object has no attribute 'get_variable'\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/160/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/159", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/159/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/159/events", "html_url": "https://github.com/mesonbuild/meson/pull/159", "id": 89331803, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgwMjM2ODU=", "number": 159, "title": "Moooore linting with fixing bug", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 99546087, "node_id": "MDU6TGFiZWw5OTU0NjA4Nw==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 1, "created_at": "2015-06-18T16:05:05Z", "updated_at": "2015-06-18T19:42:41Z", "closed_at": "2015-06-18T19:41:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/mesonbuild/meson/pulls/159", "html_url": "https://github.com/mesonbuild/meson/pull/159", "diff_url": "https://github.com/mesonbuild/meson/pull/159.diff", "patch_url": "https://github.com/mesonbuild/meson/pull/159.patch", "merged_at": "2015-06-18T19:41:50Z"}, "body": "", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/159/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/158", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/158/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/158/events", "html_url": "https://github.com/mesonbuild/meson/issues/158", "id": 89328220, "node_id": "MDU6SXNzdWU4OTMyODIyMA==", "number": 158, "title": "dependency: Instance of 'Qt5Dependency' has no 'version' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpakkane", "id": 4079821, "node_id": "MDQ6VXNlcjQwNzk4MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/4079821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpakkane", "html_url": "https://github.com/jpakkane", "followers_url": "https://api.github.com/users/jpakkane/followers", "following_url": "https://api.github.com/users/jpakkane/following{/other_user}", "gists_url": "https://api.github.com/users/jpakkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpakkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpakkane/subscriptions", "organizations_url": "https://api.github.com/users/jpakkane/orgs", "repos_url": "https://api.github.com/users/jpakkane/repos", "events_url": "https://api.github.com/users/jpakkane/events{/privacy}", "received_events_url": "https://api.github.com/users/jpakkane/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-18T15:51:32Z", "updated_at": "2015-06-18T16:54:10Z", "closed_at": "2015-06-18T16:54:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` python\n    def get_version(self):\n        return self.version\n```\n\nWe should drop method or specify `self.version` in `__init__`\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/156", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/156/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/156/events", "html_url": "https://github.com/mesonbuild/meson/issues/156", "id": 89327192, "node_id": "MDU6SXNzdWU4OTMyNzE5Mg==", "number": 156, "title": "dependency: Undefined variable 'type_string'", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-18T15:46:23Z", "updated_at": "2015-06-18T15:51:42Z", "closed_at": "2015-06-18T15:51:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` python\n    def get_variable(self, variable_name):\n        p = subprocess.Popen([self.pkgbin, '--variable=%s' % variable_name, self.name],\n                             stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        out = p.communicate()[0]\n        if p.returncode != 0:\n            if self.required:\n                raise DependencyException('%s dependency %s not found.' %\n                                          (type_string, self.name))\n        else:\n            variable = out.decode().strip()\n        mlog.debug('return of subprocess : %s' % variable)\n\n        return variable\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/156/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/154", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/154/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/154/events", "html_url": "https://github.com/mesonbuild/meson/issues/154", "id": 89321542, "node_id": "MDU6SXNzdWU4OTMyMTU0Mg==", "number": 154, "title": "dependencies: Undefined variable 'required'", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-18T15:23:31Z", "updated_at": "2015-06-18T15:28:33Z", "closed_at": "2015-06-18T15:28:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` python\n    def get_variable(self, variable_name):\n        p = subprocess.Popen([self.pkgbin, '--variable=%s' % variable_name, self.name],\n                             stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        out = p.communicate()[0]\n        if p.returncode != 0:\n            if required:\n                raise DependencyException('%s dependency %s not found.' %\n                        (type_string, self.name))\n        else:\n            variable = out.decode().strip()\n        mlog.debug('return of subprocess : %s' % variable)\n\n        return variable\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/mesonbuild/meson/issues/153", "repository_url": "https://api.github.com/repos/mesonbuild/meson", "labels_url": "https://api.github.com/repos/mesonbuild/meson/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/mesonbuild/meson/issues/153/comments", "events_url": "https://api.github.com/repos/mesonbuild/meson/issues/153/events", "html_url": "https://github.com/mesonbuild/meson/issues/153", "id": 89320317, "node_id": "MDU6SXNzdWU4OTMyMDMxNw==", "number": 153, "title": "dependencies: Instance of 'PkgConfigDependency' has no '_extract_libdir_field' member", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 99546085, "node_id": "MDU6TGFiZWw5OTU0NjA4NQ==", "url": "https://api.github.com/repos/mesonbuild/meson/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mesonbuild/meson/milestones/1", "html_url": "https://github.com/mesonbuild/meson/milestone/1", "labels_url": "https://api.github.com/repos/mesonbuild/meson/milestones/1/labels", "id": 1170868, "node_id": "MDk6TWlsZXN0b25lMTE3MDg2OA==", "number": 1, "title": "0.25.0", "description": "", "creator": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 32, "state": "closed", "created_at": "2015-06-18T15:18:05Z", "updated_at": "2015-07-12T19:03:28Z", "due_on": null, "closed_at": "2015-07-12T19:02:52Z"}, "comments": 0, "created_at": "2015-06-18T15:17:22Z", "updated_at": "2015-06-18T16:24:23Z", "closed_at": "2015-06-18T16:24:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\nE:218,21: Instance of 'PkgConfigDependency' has no '_extract_libdir_field' member (no-member)\n```\n\n``` python\n        # Darwin uses absolute paths where possible; since the libtool files never\n        # contain absolute paths, use the libdir field\n        if platform.system() == 'Darwin':\n            dlbasename = os.path.basename(dlname)\n            libdir = self._extract_libdir_field(la_file)\n            if libdir is None:\n                return dlbasename\n            return libdir + '/' + dlbasename\n```\n", "reactions": {"url": "https://api.github.com/repos/mesonbuild/meson/issues/153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/mesonbuild/meson/issues/153/timeline", "performed_via_github_app": null, "state_reason": "completed"}]