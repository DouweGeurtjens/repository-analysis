[{"url": "https://api.github.com/repos/beetbox/beets/issues/4726", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4726/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4726/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4726/events", "html_url": "https://github.com/beetbox/beets/issues/4726", "id": 1635118476, "node_id": "I_kwDOAAygxs5hde2M", "number": 4726, "title": "Re-imports don't update `data_source` flex attr", "user": {"login": "JOJ0", "id": 2733783, "node_id": "MDQ6VXNlcjI3MzM3ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/2733783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JOJ0", "html_url": "https://github.com/JOJ0", "followers_url": "https://api.github.com/users/JOJ0/followers", "following_url": "https://api.github.com/users/JOJ0/following{/other_user}", "gists_url": "https://api.github.com/users/JOJ0/gists{/gist_id}", "starred_url": "https://api.github.com/users/JOJ0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JOJ0/subscriptions", "organizations_url": "https://api.github.com/users/JOJ0/orgs", "repos_url": "https://api.github.com/users/JOJ0/repos", "events_url": "https://api.github.com/users/JOJ0/events{/privacy}", "received_events_url": "https://api.github.com/users/JOJ0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-03-22T06:01:48Z", "updated_at": "2023-04-18T12:03:44Z", "closed_at": "2023-04-18T12:03:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen importing an album or a singleton that was previously imported already, the `data_source` flexible attribute is not updated. It stays as **initially imported**.\r\n\r\n\r\n### Setup\r\n\r\n* OS: ---\r\n* Python version: ---\r\n* beets version: 1.6.1 dev-latest\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\n\r\n### Proposed solution \r\n\r\n`data_source` needs to be excluded in `reimport_metadata()`\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4726/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4693", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4693/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4693/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4693/events", "html_url": "https://github.com/beetbox/beets/issues/4693", "id": 1613316257, "node_id": "I_kwDOAAygxs5gKUCh", "number": 4693, "title": "Import log should probably force a UTF-8 encoding", "user": {"login": "shrippen", "id": 2873570, "node_id": "MDQ6VXNlcjI4NzM1NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2873570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shrippen", "html_url": "https://github.com/shrippen", "followers_url": "https://api.github.com/users/shrippen/followers", "following_url": "https://api.github.com/users/shrippen/following{/other_user}", "gists_url": "https://api.github.com/users/shrippen/gists{/gist_id}", "starred_url": "https://api.github.com/users/shrippen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shrippen/subscriptions", "organizations_url": "https://api.github.com/users/shrippen/orgs", "repos_url": "https://api.github.com/users/shrippen/repos", "events_url": "https://api.github.com/users/shrippen/events{/privacy}", "received_events_url": "https://api.github.com/users/shrippen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-03-07T12:09:10Z", "updated_at": "2023-04-07T19:19:21Z", "closed_at": "2023-04-07T19:19:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nWhen trying to import a specific folder I get a UnicodeEncodeError. It is most likely related to the pathname/filename.\r\n-->\r\n\r\n### Problem\r\nWhen trying to import a specific folder I get a UnicodeEncodeError. It is most likely related to the pathname/filename.\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv -c appdata\\Roaming\\beets\\config.yaml import V:\\Lupin\\\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n--- Logging error ---\r\n--- Logging error ---\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\logging\\__init__.py\", line 1113, in emit\r\n    stream.write(msg + self.terminator)\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\encodings\\cp1252.py\", line 19, in encode\r\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nUnicodeEncodeError: 'charmap' codec can't encode characters in position 14-58: character maps to <undefined>\r\nCall stack:\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\threading.py\", line 995, in _bootstrap\r\n    self._bootstrap_inner()\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\threading.py\", line 1038, in _bootstrap_inner\r\n    self.run()\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\beets\\util\\pipeline.py\", line 311, in run\r\n    out = self.coro.send(msg)\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\beets\\util\\pipeline.py\", line 170, in coro\r\n    task = func(*(args + (task,)))\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\beets\\importer.py\", line 1400, in user_query\r\n    task.choose_match(session)\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\beets\\importer.py\", line 861, in choose_match\r\n    session.log_choice(self)\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\beets\\importer.py\", line 281, in log_choice\r\n    self.tag_log('skip', paths)\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\beets\\importer.py\", line 260, in tag_log\r\n    self.logger.info('{0} {1}', status, displayable_path(paths))\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\logging\\__init__.py\", line 1489, in info\r\n    self._log(INFO, msg, args, **kwargs)\r\n  File \"C:\\Users\\arian\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\beets\\logging.py\", line 88, in _log\r\n    return super()._log(level, m, (), exc_info, extra)\r\nMessage: <beets.logging.StrFormatLogger._LogMessage object at 0x00000236564C5F90>\r\nArguments: ()\r\nSending event: import_task_choice\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant):\r\nhttps://nxtc.arianw.de/s/m2sQx35S37nG8e9\r\n\r\n### Setup\r\n\r\n* OS: Windows\r\n* Python version: 3.11.1\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\n    sources:\r\n    - google\r\n    - musixmatch\r\n    - genius\r\n    - tekstowo\r\n\r\nplugins: embedart scrub chroma lyrics lastgenre discogs plexupdate VGMplug\r\ndirectory: F:\\Music\r\nlibrary: C:\\Users\\arian\\AppData\\Roaming\\beets\\library.db\r\nart_filename: albumart\r\nthreaded: yes\r\n\r\nclutter:\r\n- Thumbs.DB\r\n- .DS_Store\r\n- '*.jpg'\r\n- '*.png'\r\n\r\npaths:\r\n    default: $albumartist/$album%aunique{}/$disc.$track - $title\r\n    singleton: Non-Album/$artist - $title\r\n    comp: Various Artists/$album%aunique{}/$disc.$track - $title\r\n    albumtype_soundtrack: Soundtracks/$album/$disc.$track - $title\r\n\r\nimport:\r\n    write: yes\r\n    copy: no\r\n    move: yes\r\n    resume: ask\r\n    incremental: no\r\n    quiet_fallback: skip\r\n    timid: no\r\n    log: C:\\Users\\arian\\AppData\\Roaming\\beets\\beet.log\r\n\r\nreplace:\r\n    ^\\.: _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>:\"\\?\\*\\|]': _\r\n    '[\\xE8-\\xEB]': e\r\n    '[\\xEC-\\xEF]': i\r\n    '[\\xE2-\\xE6]': a\r\n    '[\\xF2-\\xF6]': o\r\n    '[\\xF8]': o\r\n    \\.$: _\r\n    \\s+$: ''\r\nweb:\r\n    host: 0.0.0.0\r\n    port: 8337\r\nscrub:\r\n    auto: yes\r\nplex:\r\n    host: px.arianw.de\r\n    port: 443\r\n    token: REDACTED\r\n    secure: yes\r\n    library_name: Music\r\n    ignore_cert_errors: no\r\nVGMplug:\r\n    lang-priority: en, ja-latn, ja\r\n    source_weight: 0.0\r\n    artist-priority: composers,performers,arrangers\r\nchroma:\r\n    auto: yes\r\nembedart:\r\n    maxwidth: 0\r\n    auto: yes\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    remove_art_file: no\r\n    quality: 0\r\ndiscogs:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: discogs_token.json\r\n    source_weight: 0.5\r\n    user_token: REDACTED\r\n    separator: ', '\r\n    index_tracks: no\r\nlastgenre:\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\n    title_case: yes\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4662", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4662/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4662/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4662/events", "html_url": "https://github.com/beetbox/beets/issues/4662", "id": 1563737697, "node_id": "I_kwDOAAygxs5dNL5h", "number": 4662, "title": "Removing a flexible field from an album doesn't remove corresponding field from its items", "user": {"login": "katedickey", "id": 5097527, "node_id": "MDQ6VXNlcjUwOTc1Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/5097527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katedickey", "html_url": "https://github.com/katedickey", "followers_url": "https://api.github.com/users/katedickey/followers", "following_url": "https://api.github.com/users/katedickey/following{/other_user}", "gists_url": "https://api.github.com/users/katedickey/gists{/gist_id}", "starred_url": "https://api.github.com/users/katedickey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katedickey/subscriptions", "organizations_url": "https://api.github.com/users/katedickey/orgs", "repos_url": "https://api.github.com/users/katedickey/repos", "events_url": "https://api.github.com/users/katedickey/events{/privacy}", "received_events_url": "https://api.github.com/users/katedickey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-01-31T06:30:10Z", "updated_at": "2023-02-04T09:56:20Z", "closed_at": "2023-01-31T16:36:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nWhen importing an album with the `--set` flag, beets imports the album with \"flex1\" set on both the album and each of its tracks:\r\n\r\n```sh\r\n$ beet import <path> --set flex1=something\r\n```\r\n\r\nLater, when deleting the flex field with `-a`, the value is updated on the album, but is still set on the items:\r\n\r\n```sh\r\n$ beet modify -a \"Some album\" flex1!\r\n```\r\n\r\nAfter modifying, search for matching tracks, and they still return\r\n\r\n```sh\r\n$ beet ls flex1::something\r\n```\r\n```\r\nSome artist - Some album - Track name 1\r\nSome artist - Some album - Track name 2\r\n...\r\n```\r\n\r\nSearch for matching albums, returns nothing\r\n\r\n```sh\r\n$ beet ls -a flex1::something\r\n```\r\n```sh\r\n# no results\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Arch\r\n* Python version: 3.10.9\r\n* beets version: 1.6.1\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```\r\n(tested with default settings)\r\n```\r\n\r\n### Extra info\r\n\r\nAlso of note, this issue naturally doesn't come up if the flex field was added to just the album after import using `beet mod -a flex1=something` which is how I configured a lot of my library, so this issue only happens to albums imported with `import --set`", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4627", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4627/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4627/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4627/events", "html_url": "https://github.com/beetbox/beets/issues/4627", "id": 1524608548, "node_id": "I_kwDOAAygxs5a364k", "number": 4627, "title": "acousticbrainz and absubmit plugins should be deprecated", "user": {"login": "trolley", "id": 1136971, "node_id": "MDQ6VXNlcjExMzY5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1136971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trolley", "html_url": "https://github.com/trolley", "followers_url": "https://api.github.com/users/trolley/followers", "following_url": "https://api.github.com/users/trolley/following{/other_user}", "gists_url": "https://api.github.com/users/trolley/gists{/gist_id}", "starred_url": "https://api.github.com/users/trolley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trolley/subscriptions", "organizations_url": "https://api.github.com/users/trolley/orgs", "repos_url": "https://api.github.com/users/trolley/repos", "events_url": "https://api.github.com/users/trolley/events{/privacy}", "received_events_url": "https://api.github.com/users/trolley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2023-01-08T17:47:01Z", "updated_at": "2023-02-21T16:42:26Z", "closed_at": "2023-02-21T16:42:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Acousticbrainz has [shut down](https://blog.metabrainz.org/2022/02/16/acousticbrainz-making-a-hard-decision-to-end-the-project/) and will go completely offline in early 2023 according to that blog post. The `acousticbrainz` and `absubmit` plugins should be deprecated.\r\n\r\nAttempting to use it now just results in a lot of \"acousticbrainz did not provide info about...\" messages.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4627/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4592", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4592/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4592/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4592/events", "html_url": "https://github.com/beetbox/beets/issues/4592", "id": 1501610739, "node_id": "I_kwDOAAygxs5ZgMLz", "number": 4592, "title": "Test failures, presumably due to mediafile changes for non-existing list fields", "user": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 168673069, "node_id": "MDU6TGFiZWwxNjg2NzMwNjk=", "url": "https://api.github.com/repos/beetbox/beets/labels/testing", "name": "testing", "color": "bfdadc", "default": false, "description": "Relates to the testing/CI infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2022-12-17T21:42:51Z", "updated_at": "2022-12-18T07:52:32Z", "closed_at": "2022-12-18T07:51:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Our CI has started to fail, for example in https://github.com/beetbox/beets/actions/runs/3708150668/jobs/6285601538\r\n\r\nI guess this is https://github.com/beetbox/mediafile/pull/64; @sampsyo @jtpavlock any pointers on where a fix on beets's side would need to start?", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4585", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4585/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4585/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4585/events", "html_url": "https://github.com/beetbox/beets/issues/4585", "id": 1497880360, "node_id": "I_kwDOAAygxs5ZR9co", "number": 4585, "title": "musixmatch source is broken on lyrics plugin (404)", "user": {"login": "2V3EvG4LMJFdRe", "id": 11010067, "node_id": "MDQ6VXNlcjExMDEwMDY3", "avatar_url": "https://avatars.githubusercontent.com/u/11010067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2V3EvG4LMJFdRe", "html_url": "https://github.com/2V3EvG4LMJFdRe", "followers_url": "https://api.github.com/users/2V3EvG4LMJFdRe/followers", "following_url": "https://api.github.com/users/2V3EvG4LMJFdRe/following{/other_user}", "gists_url": "https://api.github.com/users/2V3EvG4LMJFdRe/gists{/gist_id}", "starred_url": "https://api.github.com/users/2V3EvG4LMJFdRe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2V3EvG4LMJFdRe/subscriptions", "organizations_url": "https://api.github.com/users/2V3EvG4LMJFdRe/orgs", "repos_url": "https://api.github.com/users/2V3EvG4LMJFdRe/repos", "events_url": "https://api.github.com/users/2V3EvG4LMJFdRe/events{/privacy}", "received_events_url": "https://api.github.com/users/2V3EvG4LMJFdRe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-12-15T06:41:09Z", "updated_at": "2023-01-02T23:29:13Z", "closed_at": "2023-01-02T23:29:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\n```\r\nlyrics:\r\n    auto: yes\r\n    force: yes\r\n    sources: musixmatch\r\n    fallback: ''\r\n    import.write: yes\r\n```\r\n\r\nis giving me no results for any query that I give the plugin. For instance:\r\n\r\n```\r\nbeet lyrics keren ann\r\nlyrics: lyrics not found: Keren Ann - 101 - My Name Is Trouble\r\nlyrics: lyrics not found: Keren Ann - 101 - Run With You\r\nlyrics: lyrics not found: Keren Ann - 101 - All the Beautiful Girls\r\nlyrics: lyrics not found: Keren Ann - 101 - Sugar Mama\r\nlyrics: lyrics not found: Keren Ann - 101 - She Won't Trade It for Nothing\r\nlyrics: lyrics not found: Keren Ann - 101 - You Were on Fire\r\nlyrics: lyrics not found: Keren Ann - 101 - Blood on My Hands\r\nlyrics: lyrics not found: Keren Ann - 101 - Song From a Tour Bus\r\nlyrics: lyrics not found: Keren Ann - 101 - Strange Weather\r\nlyrics: lyrics not found: Keren Ann - 101 - 101\r\nlyrics: lyrics not found: Keren Ann - 101 - Daddy, You Been On My Mind\r\nlyrics: lyrics not found: Keren Ann - Bleue - Les Jours heureux\r\nlyrics: lyrics not found: Keren Ann - Bleue - Bleu\r\nlyrics: lyrics not found: Keren Ann - Bleue - Le Fleuve doux\r\nlyrics: lyrics not found: Keren Ann - Bleue - Nager la nuit\r\nlyrics: lyrics not found: Keren Ann - Bleue - Sous l'eau\r\nlyrics: lyrics not found: Keren Ann - Bleue - Ton \u00eele prison\r\nlyrics: lyrics not found: Keren Ann - Bleue - Odessa, odyss\u00e9e\r\nlyrics: lyrics not found: Keren Ann - Bleue - La Mauvaise Fortune\r\nlyrics: lyrics not found: Keren Ann - Bleue - Le go\u00fbt \u00e9tait acide\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - It's All a Lie\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - Lay Your Head Down\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - In Your Back\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - The Harder Ships of the World\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - It Ain't No Crime\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - Where No Endings End\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - Liberty\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - Between the Flatland and the Caspian Sea\r\nlyrics: lyrics not found: Keren Ann - Keren Ann - Caspia\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Dimanche en hiver\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Dans ma ville\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Seule\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - On est loin\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Sur le fil\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Peut-\u00eatre\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Reste l\u00e0\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - D\u00e9crocher les \u00e9toiles\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Jardin d'hiver\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - A\u00e9roplane\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Deux\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Les mercenaires\r\nlyrics: lyrics not found: Keren Ann - La biographie de Luka Philipsen - Autour de l'arbre\r\nlyrics: lyrics not found: Keren Ann - La disparition - Au coin du monde\r\nlyrics: lyrics not found: Keren Ann - La disparition - Le sable mouvant\r\nlyrics: lyrics not found: Keren Ann - La disparition - Les rivi\u00e8res de janvier\r\nlyrics: lyrics not found: Keren Ann - La disparition - La corde et les chaussons\r\nlyrics: lyrics not found: Keren Ann - La disparition - Surann\u00e9e\r\nlyrics: lyrics not found: Keren Ann - La disparition - Ailleurs\r\nlyrics: lyrics not found: Keren Ann - La disparition - L'illusioniste\r\nlyrics: lyrics not found: Keren Ann - La disparition - La tentation\r\nlyrics: lyrics not found: Keren Ann - La disparition - Mes pas dans la neige\r\nlyrics: lyrics not found: Keren Ann - La disparition - Le chien d'avant-garde\r\nlyrics: lyrics not found: Keren Ann - La disparition - La disparition\r\nlyrics: lyrics not found: Keren Ann - Nolita - Que n'ai-je?\r\nlyrics: lyrics not found: Keren Ann - Nolita - Greatest You Can Find\r\nlyrics: lyrics not found: Keren Ann - Nolita - Chelsea Burns\r\nlyrics: lyrics not found: Keren Ann - Nolita - One Day Without\r\nlyrics: lyrics not found: Keren Ann - Nolita - La forme et le fond\r\nlyrics: lyrics not found: Keren Ann - Nolita - Nolita\r\nlyrics: lyrics not found: Keren Ann - Nolita - Roses & Hips\r\nlyrics: lyrics not found: Keren Ann - Nolita - Midi dans le salon de la Duchesse\r\nlyrics: lyrics not found: Keren Ann - Nolita - L'onde am\u00e8re\r\nlyrics: lyrics not found: Keren Ann - Nolita - For You and I\r\nlyrics: lyrics not found: Keren Ann - Nolita - Song of Alice (feat. Sean Gullette)\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Not Going Anywhere\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Polly\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Road Bin\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - End of May\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Sailor & Widow\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Sit in the Sun\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Right Now & Right Here\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Seventeen\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - Spanish Song Bird\r\nlyrics: lyrics not found: Keren Ann - Not Going Anywhere - By the Cathedral\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - You're Gonna Get Love\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - Bring Back\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - The Separated Twin\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - Insensible World\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - Where Did You Go?\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - Easy Money\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - My Man Is Wanted but I Ain't Gonna Turn Him In\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - You Knew Me Then\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - Again and Again\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - The River That Swallows All the Rivers\r\nlyrics: lyrics not found: Keren Ann - You're Gonna Get Love - You Have It All to Lose\r\nlyrics: lyrics not found: Keren Ann feat. Bar\u00f0i J\u00f3hannsson - Not Going Anywhere - Ending Song\r\nlyrics: lyrics not found: Keren Ann feat. David Byrne - Bleue - Le Go\u00fbt d'inachev\u00e9\r\n```\r\n\r\n```sh\r\nplugin paths: \r\nartresizer: method is (2, (7, 0, 10), False)\r\nSending event: pluginload\r\nlibrary database: /Users/redacted/.config/beets/library.db\r\nlibrary directory: /Users/redacted/Music\r\nSending event: library_opened\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Que-N%27Ai-Je%3F (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Que-N%27Ai-Je%3F (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - Que n'ai-je?\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Greatest-You-Can-Find (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Greatest-You-Can-Find (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - Greatest You Can Find\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Chelsea-Burns (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Chelsea-Burns (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - Chelsea Burns\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/One-Day-Without (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//One-Day-Without (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - One Day Without\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/La-Forme-Et-Le-Fond (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//La-Forme-Et-Le-Fond (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - La forme et le fond\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Nolita (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Nolita (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - Nolita\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Roses-%26-Hips (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Roses-%26-Hips (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - Roses & Hips\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Midi-Dans-Le-Salon-De-La-Duchesse (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Midi-Dans-Le-Salon-De-La-Duchesse (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - Midi dans le salon de la Duchesse\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/L%27Onde-Am%C3%A8re (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//L%27Onde-Am%C3%A8re (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - L'onde am\u00e8re\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/For-You-And-I (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//For-You-And-I (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - For You and I\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Song-Of-Alice-%28Feat.-Sean-Gullette%29 (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Keren-Ann/Song-Of-Alice (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Song-Of-Alice-%28Feat.-Sean-Gullette%29 (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics//Song-Of-Alice (404)\r\nlyrics: lyrics not found: Keren Ann - Nolita - Song of Alice (feat. Sean Gullette)\r\n```\r\n\r\n### Setup\r\n\r\n* OS:  macOS 10.13.6 \r\n* Python version: 3\r\n* beets version: 1.6.0\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    force: yes\r\n    sources: musixmatch\r\n    fallback: ''\r\n    import.write: yes\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    local: no\r\n\r\nplugins: embedart fetchart lyrics\r\nautotag: yes\r\nignore_hidden: yes\r\noriginal_date: yes\r\nlanguages: en\r\nva_name: Compilation\r\n\r\nimport:\r\n    copy: no\r\n    write: yes\r\n    move: no\r\nconvert:\r\n    tmpdir: /Volumes/Expansion-1/Media/Audio/\r\n    auto: yes\r\n    delete_originals: no\r\n    no_convert: path::\\.(m4a)$\r\n    command: ffmpeg -y -i $source -vsync 0 -q:a 0 -map_metadata 0 $dest\r\n    extension: m4a\r\ndiscogs:\r\n    user_token: yhRjvGwdihHSyuSMebbwfkDCovmrNHkodhTEdOuk\r\nfetchart:\r\n    auto: yes\r\n    sources: fanarttv itunes amazon\r\n    fanarttv_key: REDACTED\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    quality: 0\r\n    max_filesize: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    lastfm_key: REDACTED\r\n    store_source: no\r\n    high_resolution: no\r\n    deinterlace: no\r\n    cover_format:\r\nembedart:\r\n    auto: yes\r\n    maxwidth: 1000\r\n    remove_art_file: yes\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    quality: 0\r\nzero:\r\n    auto: yes\r\n    update_database: yes\r\n    keep_fields:\r\n    - artist\r\n    - title\r\n    - album\r\n    - year\r\n    - albumartist\r\n    - track\r\n    - tracktotal\r\n    - disc\r\n    - disctotal\r\n    - label\r\n    - unsyncedlyrics\r\n    - images\r\n    - rating\r\n    - first played\r\n    - last played\r\n    - play count\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4561", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4561/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4561/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4561/events", "html_url": "https://github.com/beetbox/beets/issues/4561", "id": 1465225762, "node_id": "I_kwDOAAygxs5XVZIi", "number": 4561, "title": "fromfilename: Fails to detect `<track> <title>` filename patterns", "user": {"login": "hsandt", "id": 1067772, "node_id": "MDQ6VXNlcjEwNjc3NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1067772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsandt", "html_url": "https://github.com/hsandt", "followers_url": "https://api.github.com/users/hsandt/followers", "following_url": "https://api.github.com/users/hsandt/following{/other_user}", "gists_url": "https://api.github.com/users/hsandt/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsandt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsandt/subscriptions", "organizations_url": "https://api.github.com/users/hsandt/orgs", "repos_url": "https://api.github.com/users/hsandt/repos", "events_url": "https://api.github.com/users/hsandt/events{/privacy}", "received_events_url": "https://api.github.com/users/hsandt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2022-11-26T18:32:55Z", "updated_at": "2023-01-02T13:25:39Z", "closed_at": "2023-01-02T13:25:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet import path/to/unknown_music_tracks\r\npath/to/unknown_music_tracks (5 items)\r\nNo matching release found for 5 tracks.\r\nFor help, see: https://beets.readthedocs.org/en/latest/faq.html#nomatch\r\n[S]kip, Use as-is, as Tracks, Group albums, Enter search, enter Id, aBort?\r\n$ u\r\n```\r\n\r\nto Use as-is, will led to this problem:\r\n\r\nthe track numbers are not recognized. For instance, if I run `beet ls`:\r\n\r\n```\r\n$ beet ls\r\n -  - 01 \u6df1\u304d\u68ee\u306b\u3066\r\n -  - 02 \u7dcb\u9f8d\u306e\u7ffc\r\n -  - 03 \u98a8\u306e\u56fd\u30eb\u30a4\u30f4\u30a7\u30b9\u30bf\r\n -  - 04 \u7d42\u308a\u306a\u304d\u72c2\u8a69\u66f2\r\n -  - 05 \u7121\u6148\u60b2\u306a\u591c\u306b\r\n```\r\n\r\nthe track numbers are still part of the files.\r\n\r\nIf I disable fromfilename plugin, the whole output is empty (no track number nor track name).\r\n\r\nHere's a link to the music files that trigger the bug (if relevant):\r\n\r\nUse any unknown track, such as a dummy sound file you would create, or rename the folder/files so artist/track cannot be identified (this is however a real use case; I'm simply downloading lesser known tracks from indie bands, etc.)\r\n\r\n### Setup\r\n\r\n* OS: Ubuntu 20.04\r\n* Python version: 3.8.10\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: ~/path/to/Music\r\nimport:\r\n    copy: no\r\n    write: no\r\nplugins: fromfilename\r\n```\r\n\r\nNote: write: yes didn't help. In fact, it didn't even seem to change the track names, but that's another issue. I assume `beet ls` alone should show expected information.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4561/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4528", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4528/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4528/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4528/events", "html_url": "https://github.com/beetbox/beets/issues/4528", "id": 1419892601, "node_id": "I_kwDOAAygxs5Uodd5", "number": 4528, "title": "albumtypes is converted from a string to a list of individual characters", "user": {"login": "MorgothSauron", "id": 6804228, "node_id": "MDQ6VXNlcjY4MDQyMjg=", "avatar_url": "https://avatars.githubusercontent.com/u/6804228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MorgothSauron", "html_url": "https://github.com/MorgothSauron", "followers_url": "https://api.github.com/users/MorgothSauron/followers", "following_url": "https://api.github.com/users/MorgothSauron/following{/other_user}", "gists_url": "https://api.github.com/users/MorgothSauron/gists{/gist_id}", "starred_url": "https://api.github.com/users/MorgothSauron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MorgothSauron/subscriptions", "organizations_url": "https://api.github.com/users/MorgothSauron/orgs", "repos_url": "https://api.github.com/users/MorgothSauron/repos", "events_url": "https://api.github.com/users/MorgothSauron/events{/privacy}", "received_events_url": "https://api.github.com/users/MorgothSauron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2022-10-23T19:02:06Z", "updated_at": "2023-03-08T13:26:20Z", "closed_at": "2023-03-08T13:26:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nAfter importing new files I will run `beet update`. Some of the tracks will have the `albumtypes` 'transformed' from a string (`album`) to a list of character (`['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']`). The `albumtype` field will become a single character (`album` -> `a`)\r\n\r\nI could not get the output with `-vv` because it doesn't seem to happen everytime. I deleted albums that previous triggered this problem and the problem didn't repeat on import and update again.\r\n\r\n```sh\r\n$ beet update\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nGhost - Ceremony and Devotion - Square Hammer\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - From the Pinnacle to the Pit\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Con clavi con dio\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Per aspera ad inferi\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Elizabeth\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Body and Blood\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Devil Church\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Cirice\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Ghuleh / Zombie Queen\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Year Zero\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Sp\u00f6ksonat\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - He Is\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Mummy Dust\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Secular Haze\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Absolution\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nGhost - Ceremony and Devotion - Ritual\r\n  albumtypes: album; live -> ['a', 'l', 'b', 'u', 'm', ';', ' ', 'l', 'i', 'v', 'e']\r\n  albumtype: live -> a\r\nArch Enemy - Wages of Sin - Enemy Within\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nArch Enemy - Wages of Sin - Burning Angel\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nArch Enemy - Wages of Sin - Heart of Darkness\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nArch Enemy - Wages of Sin - Ravenous\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nArch Enemy - Wages of Sin - Savage Messiah\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - Hard Core\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - Paint It Black\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - Enter the Storm\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - Fuel Me Up\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - Extinct\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - Baptizm of Fire\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - The Healer\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\nGlenn Tipton - Baptizm of Fire - Cruise Control\r\n  albumtypes: album -> ['a', 'l', 'b', 'u', 'm']\r\n  albumtype: album -> a\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Gentoo Linux (6.0.3-gentoo-x86_64)\r\n* Python version: 3.10.8\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): don't know: I don't have the `albumtypes` plugin in my config.\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    force: yes\r\n    fallback: ''\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    local: no\r\n    sources:\r\n    - google\r\n    - musixmatch\r\n    - genius\r\n    - tekstowo\r\nlibrary: /home/mcarpentier/Music/.beets/BeetMusicLibrary.blb\r\ndirectory: /home/mcarpentier/Music\r\n\r\nui:\r\n    color: yes\r\n    colors:\r\n        text_success: green\r\n        text_warning: yellow\r\n        text_error: red\r\n        text_highlight: red\r\n        text_highlight_minor: lightgray\r\n        action_default: turquoise\r\n        action: blue\r\n\r\nimport:\r\n    copy: no\r\n    write: yes\r\n    move: yes\r\n\r\nplugins: embedart fetchart info lyrics\r\nembedart:\r\n    auto: yes\r\n    maxwidth: 0\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    remove_art_file: no\r\n    quality: 0\r\n\r\npaths:\r\n    default: $albumartist/$album%aunique{}/$track $title\r\n    singleton: Non-Album/$artist/$title\r\n    comp: Compilations/$album%aunique{}/$track $title\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    quality: 0\r\n    max_filesize: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    lastfm_key: REDACTED\r\n    store_source: no\r\n    high_resolution: no\r\n    deinterlace: no\r\n    cover_format:\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4528/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4528/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4491", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4491/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4491/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4491/events", "html_url": "https://github.com/beetbox/beets/issues/4491", "id": 1376850959, "node_id": "I_kwDOAAygxs5SERQP", "number": 4491, "title": "spotify: spotify_updated is always a \"null\" date", "user": {"login": "arsaboo", "id": 18319734, "node_id": "MDQ6VXNlcjE4MzE5NzM0", "avatar_url": "https://avatars.githubusercontent.com/u/18319734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arsaboo", "html_url": "https://github.com/arsaboo", "followers_url": "https://api.github.com/users/arsaboo/followers", "following_url": "https://api.github.com/users/arsaboo/following{/other_user}", "gists_url": "https://api.github.com/users/arsaboo/gists{/gist_id}", "starred_url": "https://api.github.com/users/arsaboo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arsaboo/subscriptions", "organizations_url": "https://api.github.com/users/arsaboo/orgs", "repos_url": "https://api.github.com/users/arsaboo/repos", "events_url": "https://api.github.com/users/arsaboo/events{/privacy}", "received_events_url": "https://api.github.com/users/arsaboo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-17T19:06:40Z", "updated_at": "2022-09-18T10:03:14Z", "closed_at": "2022-09-18T10:03:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I just checked the `spotify_updated` values and all the values are `1969-12-31 19:00:00`, which prevents the use of any date-related queries. \r\n \r\nI have seen this elsewhere, but cannot figure out how to fix the issue. Here's how the date is currently being saved\r\n\r\nhttps://github.com/beetbox/beets/blob/44a7cc74bfe673bcf960c5dc18716b38e33d5ad0/beetsplug/spotify.py#L651\r\n\r\nAny idea how to fix it?\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4491/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4472", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4472/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4472/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4472/events", "html_url": "https://github.com/beetbox/beets/issues/4472", "id": 1361261337, "node_id": "I_kwDOAAygxs5RIzMZ", "number": 4472, "title": "convert: `max_bitrate` config option should default to none", "user": {"login": "ivan-boikov", "id": 66747290, "node_id": "MDQ6VXNlcjY2NzQ3Mjkw", "avatar_url": "https://avatars.githubusercontent.com/u/66747290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivan-boikov", "html_url": "https://github.com/ivan-boikov", "followers_url": "https://api.github.com/users/ivan-boikov/followers", "following_url": "https://api.github.com/users/ivan-boikov/following{/other_user}", "gists_url": "https://api.github.com/users/ivan-boikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivan-boikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivan-boikov/subscriptions", "organizations_url": "https://api.github.com/users/ivan-boikov/orgs", "repos_url": "https://api.github.com/users/ivan-boikov/repos", "events_url": "https://api.github.com/users/ivan-boikov/events{/privacy}", "received_events_url": "https://api.github.com/users/ivan-boikov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-04T21:51:13Z", "updated_at": "2022-10-03T18:11:09Z", "closed_at": "2022-10-03T18:11:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nConvert plugin's parameter ```max_bitrate``` has default value of ```500``` (see line 139 in ```beetsplug/convert.py```), but in docs it's ```none```.\r\nThis results in unexpected copying instead of transcoding.\r\nI'd expect ```none``` to be a reasonable default.\r\n\r\n### Setup\r\n\r\nIrrelevant", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4472/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4411", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4411/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4411/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4411/events", "html_url": "https://github.com/beetbox/beets/issues/4411", "id": 1300883898, "node_id": "I_kwDOAAygxs5Niem6", "number": 4411, "title": "spotify: Crash when search encounters a 404 error", "user": {"login": "arsaboo", "id": 18319734, "node_id": "MDQ6VXNlcjE4MzE5NzM0", "avatar_url": "https://avatars.githubusercontent.com/u/18319734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arsaboo", "html_url": "https://github.com/arsaboo", "followers_url": "https://api.github.com/users/arsaboo/followers", "following_url": "https://api.github.com/users/arsaboo/following{/other_user}", "gists_url": "https://api.github.com/users/arsaboo/gists{/gist_id}", "starred_url": "https://api.github.com/users/arsaboo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arsaboo/subscriptions", "organizations_url": "https://api.github.com/users/arsaboo/orgs", "repos_url": "https://api.github.com/users/arsaboo/repos", "events_url": "https://api.github.com/users/arsaboo/events{/privacy}", "received_events_url": "https://api.github.com/users/arsaboo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2022-07-11T15:34:07Z", "updated_at": "2022-07-15T14:58:10Z", "closed_at": "2022-07-15T14:58:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I sometimes run into this error when I import tracks as singletons and a 404 is encountered. My expectation was that the import will continue with the next track, but that is not happening and the import process just exits. This only happens when I accept Musicbrainz as a match. \r\n\r\nI just modified the API error to include more details and here is the trace:\r\n\r\n```\r\n/home/arsaboo/shared/music/Coke Studio @ MTV Season 2 (2012)/Coke Studio @ MTV Season 1 (2011) - Dheere Dheere.flac\r\nTagging track: Megha Sriram Dalton - Dheere Dheere\r\nURL:\r\n    https://musicbrainz.org/recording/efc2a2cd-9ed8-4436-8007-0ebe1a166873\r\n(Similarity: 100.0%)\r\n[A]pply, More candidates, Skip, Use as-is, Enter search, enter Id, aBort,\r\neDit, edit Candidates? a\r\nTraceback (most recent call last):\r\n  File \"/home/arsaboo/.local/bin/beet\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/ui/__init__.py\", line 1304, in main\r\n    _raw_main(args)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/ui/__init__.py\", line 1291, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/ui/commands.py\", line 1034, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/ui/commands.py\", line 974, in import_files\r\n    session.run()\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/importer.py\", line 340, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/util/pipeline.py\", line 446, in run_parallel\r\n    raise exc_info[1].with_traceback(exc_info[2])\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/util/pipeline.py\", line 314, in run\r\n    for msg in _allmsgs(out):\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/util/pipeline.py\", line 467, in pull\r\n    out = coro.send(msg)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/util/pipeline.py\", line 193, in coro\r\n    func(*(args + (task,)))\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/importer.py\", line 1376, in lookup_candidates\r\n    task.lookup_candidates()\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/importer.py\", line 913, in lookup_candidates\r\n    prop = autotag.tag_item(self.item, search_ids=self.search_ids)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/autotag/match.py\", line 518, in tag_item\r\n    for track_info in hooks.item_candidates(item, search_artist, search_title):\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/plugins.py\", line 573, in decorated\r\n    for v in generator(*args, **kwargs):\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/autotag/hooks.py\", line 647, in item_candidates\r\n    yield from plugins.item_candidates(item, artist, title)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/plugins.py\", line 392, in item_candidates\r\n    yield from plugin.item_candidates(item, artist, title)\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beets/plugins.py\", line 749, in item_candidates\r\n    tracks = self._search_api(\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beetsplug/spotify.py\", line 400, in _search_api\r\n    self._handle_response(\r\n  File \"/home/arsaboo/.local/lib/python3.10/site-packages/beetsplug/spotify.py\", line 197, in _handle_response\r\n    raise SpotifyAPIError(\"API Error: {}\\nURL: {}\\nparams: {}\".\r\nbeetsplug.spotify.SpotifyAPIError: API Error: 404\r\nURL: https://api.spotify.com/v1/search\r\nparams: {'q': 'Jiya Laage Na artist:Shankar Mahadevan, Khagan Gogoi, Megha Sriram Dalton, Akriti Kakar & Leslie Lewis', 'type': 'track'}\r\narsaboo@arsplex:~$\r\n\r\n```\r\nAny thoughts as to what may be going on and I can try to fix the issue?", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4406", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4406/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4406/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4406/events", "html_url": "https://github.com/beetbox/beets/issues/4406", "id": 1299496334, "node_id": "I_kwDOAAygxs5NdL2O", "number": 4406, "title": "lyrics: tekstowo backend does not check if the found song actually matches", "user": {"login": "valpackett", "id": 208340, "node_id": "MDQ6VXNlcjIwODM0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/208340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valpackett", "html_url": "https://github.com/valpackett", "followers_url": "https://api.github.com/users/valpackett/followers", "following_url": "https://api.github.com/users/valpackett/following{/other_user}", "gists_url": "https://api.github.com/users/valpackett/gists{/gist_id}", "starred_url": "https://api.github.com/users/valpackett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valpackett/subscriptions", "organizations_url": "https://api.github.com/users/valpackett/orgs", "repos_url": "https://api.github.com/users/valpackett/repos", "events_url": "https://api.github.com/users/valpackett/events{/privacy}", "received_events_url": "https://api.github.com/users/valpackett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2022-07-08T22:46:56Z", "updated_at": "2022-11-27T03:17:21Z", "closed_at": "2022-11-27T03:17:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv lyrics -p 'kelly bailey'\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Kelly-Bailey/Black-Mesa-Inbound (404)\r\nlyrics: Genius failed to find a matching artist for 'Kelly Bailey'\r\nlyrics: got lyrics from backend: Tekstowo\r\nlyrics: fetched lyrics: Kelly Bailey - Half-Life 2 - Black Mesa Inbound\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nBlack eyed Susan\r\nSun shines in your veins\r\nIf the clouds are moving\r\nNever hear her complain\r\nYeah, black eyed Susan\r\nJust waiting on a drop of rain\r\n\u2026\r\n```\r\n\r\n\u2026there are no lyrics. It's an instrumental track.\r\n\r\nThe backend seems to blindly trust that the first row in search results would be the actual expected song:\r\n\r\nhttps://github.com/beetbox/beets/blob/7c670711aeb2e2b3c9e1c02845c4ae96deaea82b/beetsplug/lyrics.py#L486-L494\r\n\r\nBut the site absolutely can return something with vaguely similar names!!!\r\n\r\n![image](https://user-images.githubusercontent.com/208340/178079193-c006f9fb-1c05-40e5-9705-126b1e595b20.png)\r\n\r\n\r\n### Setup\r\n\r\n* OS: FreeBSD -CURRENT\r\n* Python version: 3.9.4\r\n* beets version: current git\r\n* Turning off plugins made problem go away (yes/no): no\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4389", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4389/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4389/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4389/events", "html_url": "https://github.com/beetbox/beets/issues/4389", "id": 1287915317, "node_id": "I_kwDOAAygxs5MxAc1", "number": 4389, "title": "Import error with reflink enabled and importadded plugin", "user": {"login": "toyo-chi", "id": 52622517, "node_id": "MDQ6VXNlcjUyNjIyNTE3", "avatar_url": "https://avatars.githubusercontent.com/u/52622517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toyo-chi", "html_url": "https://github.com/toyo-chi", "followers_url": "https://api.github.com/users/toyo-chi/followers", "following_url": "https://api.github.com/users/toyo-chi/following{/other_user}", "gists_url": "https://api.github.com/users/toyo-chi/gists{/gist_id}", "starred_url": "https://api.github.com/users/toyo-chi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toyo-chi/subscriptions", "organizations_url": "https://api.github.com/users/toyo-chi/orgs", "repos_url": "https://api.github.com/users/toyo-chi/repos", "events_url": "https://api.github.com/users/toyo-chi/events{/privacy}", "received_events_url": "https://api.github.com/users/toyo-chi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-28T21:36:33Z", "updated_at": "2022-06-29T21:26:24Z", "closed_at": "2022-06-29T21:26:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\nFirst of all, many thanks for adding reflink option! Very promising feature. But in some cases it causes an error. E.g. with ImportAdded plugin enabled.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv import [absolutely any music catalogue]\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n[probably non-related output is redacted]\r\n\r\nSending event: album_imported\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 33, in <module>\r\n    sys.exit(load_entry_point('beets==1.6.0', 'console_scripts', 'beet')())\r\n  File \"/usr/lib/python3.10/site-packages/beets/ui/__init__.py\", line 1285, in main\r\n    _raw_main(args)\r\n  File \"/usr/lib/python3.10/site-packages/beets/ui/__init__.py\", line 1272, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/lib/python3.10/site-packages/beets/ui/commands.py\", line 973, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/usr/lib/python3.10/site-packages/beets/ui/commands.py\", line 943, in import_files\r\n    session.run()\r\n  File \"/usr/lib/python3.10/site-packages/beets/importer.py\", line 340, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/usr/lib/python3.10/site-packages/beets/util/pipeline.py\", line 446, in run_parallel\r\n    raise exc_info[1].with_traceback(exc_info[2])\r\n  File \"/usr/lib/python3.10/site-packages/beets/util/pipeline.py\", line 358, in run\r\n    self.coro.send(msg)\r\n  File \"/usr/lib/python3.10/site-packages/beets/util/pipeline.py\", line 170, in coro\r\n    task = func(*(args + (task,)))\r\n  File \"/usr/lib/python3.10/site-packages/beets/importer.py\", line 1573, in manipulate_files\r\n    task.finalize(session)\r\n  File \"/usr/lib/python3.10/site-packages/beets/importer.py\", line 612, in finalize\r\n    self._emit_imported(session.lib)\r\n  File \"/usr/lib/python3.10/site-packages/beets/importer.py\", line 638, in _emit_imported\r\n    plugins.send('album_imported', lib=lib, album=self.album)\r\n  File \"/usr/lib/python3.10/site-packages/beets/plugins.py\", line 488, in send\r\n    result = handler(**arguments)\r\n  File \"/usr/lib/python3.10/site-packages/beets/plugins.py\", line 145, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/lib/python3.10/site-packages/beetsplug/importadded.py\", line 105, in update_album_times\r\n    album.added = min(album_mtimes)\r\nValueError: min() arg is an empty sequence\r\n\r\n```\r\n\r\n### Setup\r\n\r\n* OS: ArchLinux\r\n* Python version: 3.10.5\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): yes, importadded plugin\r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /storage/music/show-reflink-bug\r\nlibrary: ~/.datasets/metadata/beets/show-reflink-bug.db.db\r\n\r\nplugins: [importadded]\r\n\r\nimport:\r\n    reflink: yes\r\n    write: yes\r\nimportadded:\r\n    preserve_mtimes: no\r\n    preserve_write_mtimes: no\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4389/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4385", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4385/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4385/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4385/events", "html_url": "https://github.com/beetbox/beets/issues/4385", "id": 1284947480, "node_id": "I_kwDOAAygxs5Mlr4Y", "number": 4385, "title": "Spotifysync crashes when tracks do not have audio-features", "user": {"login": "arsaboo", "id": 18319734, "node_id": "MDQ6VXNlcjE4MzE5NzM0", "avatar_url": "https://avatars.githubusercontent.com/u/18319734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arsaboo", "html_url": "https://github.com/arsaboo", "followers_url": "https://api.github.com/users/arsaboo/followers", "following_url": "https://api.github.com/users/arsaboo/following{/other_user}", "gists_url": "https://api.github.com/users/arsaboo/gists{/gist_id}", "starred_url": "https://api.github.com/users/arsaboo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arsaboo/subscriptions", "organizations_url": "https://api.github.com/users/arsaboo/orgs", "repos_url": "https://api.github.com/users/arsaboo/repos", "events_url": "https://api.github.com/users/arsaboo/events{/privacy}", "received_events_url": "https://api.github.com/users/arsaboo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2022-06-26T15:00:59Z", "updated_at": "2022-07-08T20:28:12Z", "closed_at": "2022-07-08T20:28:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Some tracks in Spotify do not have audio-features. This causes `spotifysync` to crash:\r\n\r\n```\r\nspotify: Processing 48/471 tracks - Arijit Singh, Arko - OM - Rashtra Kavach - Seher\r\nerror: Spotify API error:\r\n{\r\n  \"error\" : {\r\n    \"status\" : 404,\r\n    \"message\" : \"analysis not found\"\r\n  }\r\n}\r\nURL:\r\nhttps://api.spotify.com/v1/audio-features/5pjSpt2mstf5JTf46FbT48\r\nparams:\r\nNone\r\n```\r\n\r\n`spotifysync` should gracefully handle such errors. Maybe we need a try-except block [here](https://github.com/beetbox/beets/blob/master/beetsplug/spotify.py#L622). Thoughts?", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4385/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4385/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4334", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4334/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4334/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4334/events", "html_url": "https://github.com/beetbox/beets/issues/4334", "id": 1206082091, "node_id": "I_kwDOAAygxs5H41or", "number": 4334, "title": "Tekstowo lyrics source needs to be adapted to new website layout", "user": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-04-16T10:41:55Z", "updated_at": "2022-05-05T22:24:42Z", "closed_at": "2022-05-05T22:24:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From #4228\r\n> That's probably the same thing that makes our weekly integration tests fail, cf. e.g. https://github.com/beetbox/beets/actions/runs/2046155673 \r\n>\r\n> The Tekstowo source needs to be fixed; I guess they updated their website structure at some point and our scraper now picks up extraneous text?\r\n>\r\n_Originally posted by @wisp3rwind in https://github.com/beetbox/beets/issues/4228#issuecomment-1085073680_", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4334/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4305", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4305/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4305/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4305/events", "html_url": "https://github.com/beetbox/beets/issues/4305", "id": 1159962271, "node_id": "I_kwDOAAygxs5FI56f", "number": 4305, "title": "lyrics: Genius backend includes heading in lyrics", "user": {"login": "ybnd", "id": 31547038, "node_id": "MDQ6VXNlcjMxNTQ3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/31547038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybnd", "html_url": "https://github.com/ybnd", "followers_url": "https://api.github.com/users/ybnd/followers", "following_url": "https://api.github.com/users/ybnd/following{/other_user}", "gists_url": "https://api.github.com/users/ybnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybnd/subscriptions", "organizations_url": "https://api.github.com/users/ybnd/orgs", "repos_url": "https://api.github.com/users/ybnd/repos", "events_url": "https://api.github.com/users/ybnd/events{/privacy}", "received_events_url": "https://api.github.com/users/ybnd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ybnd", "id": 31547038, "node_id": "MDQ6VXNlcjMxNTQ3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/31547038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybnd", "html_url": "https://github.com/ybnd", "followers_url": "https://api.github.com/users/ybnd/followers", "following_url": "https://api.github.com/users/ybnd/following{/other_user}", "gists_url": "https://api.github.com/users/ybnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybnd/subscriptions", "organizations_url": "https://api.github.com/users/ybnd/orgs", "repos_url": "https://api.github.com/users/ybnd/repos", "events_url": "https://api.github.com/users/ybnd/events{/privacy}", "received_events_url": "https://api.github.com/users/ybnd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ybnd", "id": 31547038, "node_id": "MDQ6VXNlcjMxNTQ3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/31547038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybnd", "html_url": "https://github.com/ybnd", "followers_url": "https://api.github.com/users/ybnd/followers", "following_url": "https://api.github.com/users/ybnd/following{/other_user}", "gists_url": "https://api.github.com/users/ybnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybnd/subscriptions", "organizations_url": "https://api.github.com/users/ybnd/orgs", "repos_url": "https://api.github.com/users/ybnd/repos", "events_url": "https://api.github.com/users/ybnd/events{/privacy}", "received_events_url": "https://api.github.com/users/ybnd/received_events", "type": "User", "site_admin": false}, {"login": "olgarrahan", "id": 46110386, "node_id": "MDQ6VXNlcjQ2MTEwMzg2", "avatar_url": "https://avatars.githubusercontent.com/u/46110386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olgarrahan", "html_url": "https://github.com/olgarrahan", "followers_url": "https://api.github.com/users/olgarrahan/followers", "following_url": "https://api.github.com/users/olgarrahan/following{/other_user}", "gists_url": "https://api.github.com/users/olgarrahan/gists{/gist_id}", "starred_url": "https://api.github.com/users/olgarrahan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olgarrahan/subscriptions", "organizations_url": "https://api.github.com/users/olgarrahan/orgs", "repos_url": "https://api.github.com/users/olgarrahan/repos", "events_url": "https://api.github.com/users/olgarrahan/events{/privacy}", "received_events_url": "https://api.github.com/users/olgarrahan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-03-04T19:14:14Z", "updated_at": "2022-04-18T14:17:36Z", "closed_at": "2022-04-18T14:17:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nLyrics fetched from the Genius backend include text from the heading above the lyrics\r\nFor example, [this page](https://genius.com/Ttng-chinchilla-lyrics) results in\r\n```\r\nChinchilla LyricsSo far we've lost focus\r\nLet's just concentrate on words that could mean everything\r\n...\r\n```\r\nAFAIK this heading is always `<track> Lyrics` so there's no reason for us to keep it in.\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4228", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4228/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4228/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4228/events", "html_url": "https://github.com/beetbox/beets/issues/4228", "id": 1098001217, "node_id": "I_kwDOAAygxs5BcitB", "number": 4228, "title": "lyrics: Polish comments appear in text of lyrics", "user": {"login": "mattmartini", "id": 53050, "node_id": "MDQ6VXNlcjUzMDUw", "avatar_url": "https://avatars.githubusercontent.com/u/53050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattmartini", "html_url": "https://github.com/mattmartini", "followers_url": "https://api.github.com/users/mattmartini/followers", "following_url": "https://api.github.com/users/mattmartini/following{/other_user}", "gists_url": "https://api.github.com/users/mattmartini/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattmartini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattmartini/subscriptions", "organizations_url": "https://api.github.com/users/mattmartini/orgs", "repos_url": "https://api.github.com/users/mattmartini/repos", "events_url": "https://api.github.com/users/mattmartini/events{/privacy}", "received_events_url": "https://api.github.com/users/mattmartini/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2022-01-10T15:00:20Z", "updated_at": "2022-04-01T11:52:45Z", "closed_at": "2022-01-11T00:08:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "When downloading lyrics for songs there is Polish text appearing at the top and bottom of the text.  This text is saved into the mp3.  It seems like this should be resolved with something like the remove_credits() function.\r\n\r\nWhen lyrics are downloaded the text\r\n```\r\nTekst piosenki:\r\n```\r\nappears at the top of the lyrics. [Translates to \"lyrics\"]\r\n\r\nAdditionally, the text\r\n```\r\nDodaj interpretacj\u0119 do tego tekstu \u00bb\r\n\r\nHistoria edycji tekstu\r\n```\r\nappears at the bottom of the text. [Translates to \"add interpretation to this text\" and \"history of the text editing\"]\r\n\r\nThis appears on every lyrics downloaded.\r\n\r\nThis was mentioned in issues https://github.com/beetbox/beets/issues/3904 and https://github.com/beetbox/beets/issues/4043 as side issues, but since it was never fixed I am opening this issue in hopes that it will be addressed.\r\n\r\n\r\n### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv lyrics -p Papercut\r\nuser configuration: /home/<USER>/.config/beets/config.yaml\r\ndata directory: /home/<USER>/.config/beets\r\nplugin paths:\r\nImageMagick version check failed: [Errno 2] No such file or directory: 'magick': 'magick'\r\nartresizer: method is (2, (6, 9, 7), True)\r\nlyrics: Disabling google source: no API key configured.\r\nlastgenre: Loading canonicalization tree /home/<USER>/.local/lib/python3.6/site-packages/beetsplug/lastgenre/genres-tree.yaml\r\nSending event: pluginload\r\nlibrary database: /media/audio/DBs/beets_musiclibrary.db\r\nlibrary directory: /media/audio/Music_Collection\r\nSending event: library_opened\r\nlyrics: lyrics already present: AAC 256kbps  2:36  02/06  Rap\tJAY\u2010Z & Linkin Park\t2004Collision Course\tBig Pimpin\u2019 / Papercut\r\nTekst piosenki:\r\nHahaha, wasting your talent Randy!\r\nYeah, you're ready?\r\n\r\n[SNIP - full text of lyrics removed for brevity]\r\n\r\nWe doin'... big pimpin' up in N.Y.C.\r\nIt's just that Jigga Man, Pimp C, and B.U.N.B-B-B\r\nDodaj interpretacj\u0119 do tego tekstu \u00bb\r\n\r\nHistoria edycji tekstu\r\nSending event: cli_exit\r\n\r\n```\r\n\r\nLed to this problem:\r\n\r\nExtraneous lines in lyrics text:\r\n```\r\nTekst piosenki:\r\nDodaj interpretacj\u0119 do tego tekstu \u00bb\r\nHistoria edycji tekstu\r\n```\r\n\r\n\r\nHere's a link to the music files that trigger the bug (if relevant):\r\n\r\nIt happens with every music file.\r\n\r\n### Setup\r\nThis happens on both Mac and Linux computers:\r\n```\r\n* OS: Mac OS 10.14.6 (Mojave)\r\n* Python version: 3.9.8\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): no, it is a plugin issue\r\n```\r\n\r\n```\r\n* OS: Linux Ubuntu 18.04.6 LTS (Bionic Beaver)\r\n* Python version: 3.6.9\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): no, it is a plugin issue\r\n```\r\n\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: no\r\n    force: no\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    local: no\r\n    sources:\r\n    - google\r\n    - musixmatch\r\n    - genius\r\n    - tekstowo\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4228/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4225", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4225/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4225/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4225/events", "html_url": "https://github.com/beetbox/beets/issues/4225", "id": 1095618163, "node_id": "I_kwDOAAygxs5BTc5z", "number": 4225, "title": "discogs: discogs_albumid is always 0", "user": {"login": "jordanbs", "id": 867442, "node_id": "MDQ6VXNlcjg2NzQ0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/867442?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jordanbs", "html_url": "https://github.com/jordanbs", "followers_url": "https://api.github.com/users/jordanbs/followers", "following_url": "https://api.github.com/users/jordanbs/following{/other_user}", "gists_url": "https://api.github.com/users/jordanbs/gists{/gist_id}", "starred_url": "https://api.github.com/users/jordanbs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jordanbs/subscriptions", "organizations_url": "https://api.github.com/users/jordanbs/orgs", "repos_url": "https://api.github.com/users/jordanbs/repos", "events_url": "https://api.github.com/users/jordanbs/events{/privacy}", "received_events_url": "https://api.github.com/users/jordanbs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2022-01-06T19:17:24Z", "updated_at": "2022-03-04T20:07:50Z", "closed_at": "2022-03-04T20:07:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Most of my music is imported using the discogs plugin (beets v1.6.0, formerly imported via beets 1.4.9), but the every single discogs_albumid field is equal to 0. I do notice, however, the mb_albumid field contains what should be in discogs_albumid.\r\n\r\nE.g.\r\n```\r\n         data_source: Discogs\r\n     discogs_albumid: 0\r\n    discogs_artistid: 1954908\r\n     discogs_labelid: 1085864\r\n    mb_albumartistid: 1954908\r\n          mb_albumid: 10346192\r\n   mb_releasegroupid: 1185315\r\n```\r\n\r\nReproduce this by importing an album and using Discogs as the source. Re-importing will do.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4169", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4169/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4169/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4169/events", "html_url": "https://github.com/beetbox/beets/issues/4169", "id": 1065393150, "node_id": "I_kwDOAAygxs4_gJv-", "number": 4169, "title": "R128_*_GAIN tags are rounded or truncated", "user": {"login": "9ary", "id": 1155030, "node_id": "MDQ6VXNlcjExNTUwMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1155030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/9ary", "html_url": "https://github.com/9ary", "followers_url": "https://api.github.com/users/9ary/followers", "following_url": "https://api.github.com/users/9ary/following{/other_user}", "gists_url": "https://api.github.com/users/9ary/gists{/gist_id}", "starred_url": "https://api.github.com/users/9ary/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/9ary/subscriptions", "organizations_url": "https://api.github.com/users/9ary/orgs", "repos_url": "https://api.github.com/users/9ary/repos", "events_url": "https://api.github.com/users/9ary/events{/privacy}", "received_events_url": "https://api.github.com/users/9ary/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-11-28T17:45:51Z", "updated_at": "2021-12-12T14:18:54Z", "closed_at": "2021-12-12T14:18:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv replaygain -a \"a matter of life and death\"\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nuser configuration: /home/streetwalrus/.config/beets/config.yaml\r\ndata directory: /home/streetwalrus/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/streetwalrus/music/beets.blb\r\nlibrary directory: /home/streetwalrus/music\r\nSending event: library_opened\r\nreplaygain: Analyzing 1 albums ~ ffmpeg backend...\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - Different World\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/01 Different World.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Different World: 2517 blocks over -18.7 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Different World: gain -5.4 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - These Colours Don't Run\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/02 These Colours Don't Run.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - These Colours Don't Run: 3872 blocks over -20.0 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - These Colours Don't Run: gain -4.199999999999999 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - Brighter Than a Thousand Suns\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/03 Brighter Than a Thousand Suns.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Brighter Than a Thousand Suns: 5082 blocks over -20.0 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Brighter Than a Thousand Suns: gain -4.1 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - The Pilgrim\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/04 The Pilgrim.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Pilgrim: 3022 blocks over -18.6 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Pilgrim: gain -5.4 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - The Longest Day\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/05 The Longest Day.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Longest Day: 4579 blocks over -19.5 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Longest Day: gain -4.6 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - Out of the Shadows\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/06 Out of the Shadows.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Out of the Shadows: 3316 blocks over -19.6 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Out of the Shadows: gain -4.5 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - The Reincarnation of Benjamin Breeg\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/07 The Reincarnation of Benjamin Breeg.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Reincarnation of Benjamin Breeg: 3931 blocks over -20.2 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Reincarnation of Benjamin Breeg: gain -4.199999999999999 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - For the Greater Good of God\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/08 For the Greater Good of God.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - For the Greater Good of God: 5575 blocks over -19.3 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - For the Greater Good of God: gain -4.699999999999999 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - Lord of Light\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/09 Lord of Light.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Lord of Light: 4384 blocks over -20.4 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - Lord of Light: gain -3.6999999999999993 LU, peak 0\r\nreplaygain: analyzing Iron Maiden - A Matter of Life and Death - The Legacy\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/10 The Legacy.flac -map a:0 -filter ebur128=peak=none -f null -\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Legacy: 4785 blocks over -20.6 LUFS\r\nreplaygain: Iron Maiden - A Matter of Life and Death - The Legacy: gain -4.1 LU, peak 0\r\nreplaygain: [Item(id=3406, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/01 Different World.flac', album_id=265, title='Different World', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=1, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='4ff68a16-0999-4702-964f-6c9dc82235df', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-5.4, rg_track_peak=0.9225714271547631, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-5, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=258.1769479166667, bitrate=3051907, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3401, path=b\"/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/02 These Colours Don't Run.flac\", album_id=265, title=\"These Colours Don't Run\", artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=2, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='23bb40a3-109c-4296-a238-42133096be9e', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-4.199999999999999, rg_track_peak=0.954992586021436, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-4, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=412.21316666666667, bitrate=3040916, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3405, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/03 Brighter Than a Thousand Suns.flac', album_id=265, title='Brighter Than a Thousand Suns', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=3, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='9f253d2d-2147-4790-991e-cd2dfe5547fb', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-4.1, rg_track_peak=0.9120108393559098, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-4, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=526.1221666666667, bitrate=3008059, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3402, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/04 The Pilgrim.flac', album_id=265, title='The Pilgrim', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=4, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='72dbf4aa-3776-4c1d-ad4e-fd183fa8b4d7', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-5.4, rg_track_peak=0.954992586021436, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-5, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=307.8536041666667, bitrate=3123613, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3399, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/05 The Longest Day.flac', album_id=265, title='The Longest Day', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=5, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='eedabc25-0497-420d-a3c1-92295205955f', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-4.6, rg_track_peak=0.9885530946569389, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-5, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=468.0979375, bitrate=2999957, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3404, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/06 Out of the Shadows.flac', album_id=265, title='Out of the Shadows', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=6, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='dba49ffd-4eeb-4fef-bdca-e6176a263668', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-4.5, rg_track_peak=1.0471285480508996, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-4, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=336.63379166666664, bitrate=3029328, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3397, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/07 The Reincarnation of Benjamin Breeg.flac', album_id=265, title='The Reincarnation of Benjamin Breeg', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=7, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='076ccee2-d83a-4a49-8338-9698b68c344d', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-4.199999999999999, rg_track_peak=0.9440608762859234, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-4, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=442.06395833333335, bitrate=2975691, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3400, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/08 For the Greater Good of God.flac', album_id=265, title='For the Greater Good of God', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=8, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='f4fb05ae-f16d-4266-bc80-6ed3cea38429', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-4.699999999999999, rg_track_peak=0.9440608762859234, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-5, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=565.02503125, bitrate=3115563, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3398, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/09 Lord of Light.flac', album_id=265, title='Lord of Light', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=9, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='85915896-1f02-4835-aebb-f0bd3464fd4f', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-3.6999999999999993, rg_track_peak=0.933254300796991, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-4, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=444.65034375, bitrate=2936702, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz'), Item(id=3403, path=b'/home/streetwalrus/music/Iron Maiden/A Matter of Life and Death/10 The Legacy.flac', album_id=265, title='The Legacy', artist='Iron Maiden', artist_sort='Iron Maiden', artist_credit='Iron Maiden', album='A Matter of Life and Death', albumartist='Iron Maiden', albumartist_sort='Iron Maiden', albumartist_credit='Iron Maiden', genre='Heavy Metal', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='', composer_sort='', work='', mb_workid='', work_disambig='', arranger='', grouping='', year=2006, month=0, day=0, track=10, tracktotal=10, disc=1, disctotal=1, lyrics='', comments='', bpm=0, comp=0, mb_trackid='5ca687ac-c1ce-42a2-b0e3-9879396b9192', mb_albumid='46e0f7f4-f702-38c0-a6f7-c9569e61b3d8', mb_artistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_albumartistid='ca891d65-d9b0-4258-89f7-e6ba29d83767', mb_releasetrackid='', trackdisambig='', albumtype='album', label='EMI', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='f27a9426-7f13-3c21-8861-204e42a82bd8', asin='B000GRU6XI', isrc='', catalognum='0946 372321 2 5', script='Latn', language='eng', country='XE', albumstatus='Official', media='CD', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='', rg_track_gain=-4.1, rg_track_peak=0.933254300796991, rg_album_gain=-4.448753403915745, rg_album_peak=1.0471285480508996, r128_track_gain=-4, r128_album_gain=-4, original_year=2006, original_month=8, original_day=28, initial_key=None, length=562.9385208333333, bitrate=3013178, format='FLAC', samplerate=96000, bitdepth=24, channels=2, mtime=0.0, added=1439311230.369512, data_source='MusicBrainz')]: gain -4.448753403915745 LU, peak 0\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -5 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - Different World\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -4 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - These Colours Don't Run\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -4 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - Brighter Than a Thousand Suns\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -5 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - The Pilgrim\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -5 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - The Longest Day\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -4 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - Out of the Shadows\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -4 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - The Reincarnation of Benjamin Breeg\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -5 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - For the Greater Good of God\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -4 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - Lord of Light\r\nSending event: database_change\r\nreplaygain: applied r128 track gain -4 LU\r\nSending event: database_change\r\nreplaygain: applied r128 album gain -4 LU\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Iron Maiden - A Matter of Life and Death - The Legacy\r\nSending event: cli_exit\r\n```\r\n\r\nThe calculated gain for all of these tracks gets rounded to an integer value when stored as R128. ReplayGain tags are fine (confirmed by looking at the tags with ffprobe, where RG stores -4.45, R128 is -1024, or -4 * 256). Querying those tags with `beet ls \"a matter of life and death\" -f '$r128_album_gain $r128_track_gain'` also gives an integer value. I believe this is due to the fact that those tags are NullPaddedInt in the database:\r\nhttps://github.com/beetbox/beets/blob/3c7853712f83aafb3a9aa7b1c2943b45858e660f/beets/library.py#L518-L519\r\n\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* Python version: 3.9.7\r\n* beets version: 1.5.0\r\n* Turning off plugins made problem go away (yes/no): this is a problem with the replaygain plugin\r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlibrary: ~/music/beets.blb\r\ndirectory: ~/music\r\n\r\nplugins: fetchart embedart replaygain\r\n\r\nimport:\r\n    copy: yes\r\n    group_albums: yes\r\nembedart:\r\n    auto: no\r\n    maxwidth: 0\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    remove_art_file: no\r\n    quality: 0\r\nreplaygain:\r\n    backend: ffmpeg\r\n    overwrite: yes\r\n    targetlevel: 93\r\n    r128_targetlevel: 93\r\n    r128: FLAC\r\n    auto: yes\r\n    threads: 12\r\n    parallel_on_import: no\r\n    per_disc: no\r\n    peak: 'true'\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    quality: 0\r\n    max_filesize: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    lastfm_key: REDACTED\r\n    store_source: no\r\n    high_resolution: no\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4169/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4169/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4168", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4168/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4168/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4168/events", "html_url": "https://github.com/beetbox/beets/issues/4168", "id": 1065391114, "node_id": "I_kwDOAAygxs4_gJQK", "number": 4168, "title": "Unicode error in new atomic move", "user": {"login": "LeoSebal", "id": 27486507, "node_id": "MDQ6VXNlcjI3NDg2NTA3", "avatar_url": "https://avatars.githubusercontent.com/u/27486507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeoSebal", "html_url": "https://github.com/LeoSebal", "followers_url": "https://api.github.com/users/LeoSebal/followers", "following_url": "https://api.github.com/users/LeoSebal/following{/other_user}", "gists_url": "https://api.github.com/users/LeoSebal/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeoSebal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeoSebal/subscriptions", "organizations_url": "https://api.github.com/users/LeoSebal/orgs", "repos_url": "https://api.github.com/users/LeoSebal/repos", "events_url": "https://api.github.com/users/LeoSebal/events{/privacy}", "received_events_url": "https://api.github.com/users/LeoSebal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-11-28T17:35:33Z", "updated_at": "2022-01-11T16:17:34Z", "closed_at": "2022-01-11T16:17:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI\u2019ve stumbled upon a bug when importing any file, seemingly related to the use of the `os.replace` function and the `import: move` option. using the copy option instead fixes the bug. According to adrian, it would be related to [Introduce atomic move and write of file](https://github.com/beetbox/beets/pull/4060)\r\n\r\n```sh\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\util\\__init__.py\", line 496, in move\r\n    os.replace(path, dest)\r\nOSError: [WinError 17] The system cannot move the file to a different disk drive: '\\\\\\\\?\\\\C:\\\\Users\\\\hydro\\\\AppData\\\\Local\\\\Temp\\\\tmp02lvwxx1.flac' -> '\\\\\\\\?\\\\M:\\\\Musique lossless\\\\Ancient Methods\\\\2021 - The Jericho Remixes\\\\01 Swordplay (Hypnoskull vocal remix).flac'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\hydro\\anaconda3\\Scripts\\beet.exe\\__main__.py\", line 7, in <module>\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1285, in main\r\n    _raw_main(args)\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1272, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\ui\\commands.py\", line 973, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\ui\\commands.py\", line 943, in import_files\r\n    session.run()\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\importer.py\", line 340, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\util\\pipeline.py\", line 446, in run_parallel\r\n    raise exc_info[1].with_traceback(exc_info[2])\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\util\\pipeline.py\", line 358, in run\r\n    self.coro.send(msg)\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\util\\pipeline.py\", line 170, in coro\r\n    task = func(*(args + (task,)))\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\importer.py\", line 1566, in manipulate_files\r\n    task.manipulate_files(\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\importer.py\", line 757, in manipulate_files\r\n    item.move(operation)\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\library.py\", line 922, in move\r\n    self.move_file(dest, operation)\r\n  File \"C:\\Users\\hydro\\anaconda3\\lib\\site-packages\\beets\\library.py\", line 821, in move_file\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Windows 10\r\n* Python version: 3.9.7\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): irrelevant\r\n\r\nThe relevant bit of my configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n# Import options\r\nimport:\r\n  write: yes\r\n  # copy: yes\r\n  move: yes\r\n  resume: no\r\n  autotag: yes\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4168/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4167", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4167/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4167/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4167/events", "html_url": "https://github.com/beetbox/beets/issues/4167", "id": 1065138771, "node_id": "I_kwDOAAygxs4_fLpT", "number": 4167, "title": "`confuse` dependency requirement permits invalid versions", "user": {"login": "billyjanitsch", "id": 1158733, "node_id": "MDQ6VXNlcjExNTg3MzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1158733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/billyjanitsch", "html_url": "https://github.com/billyjanitsch", "followers_url": "https://api.github.com/users/billyjanitsch/followers", "following_url": "https://api.github.com/users/billyjanitsch/following{/other_user}", "gists_url": "https://api.github.com/users/billyjanitsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/billyjanitsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/billyjanitsch/subscriptions", "organizations_url": "https://api.github.com/users/billyjanitsch/orgs", "repos_url": "https://api.github.com/users/billyjanitsch/repos", "events_url": "https://api.github.com/users/billyjanitsch/events{/privacy}", "received_events_url": "https://api.github.com/users/billyjanitsch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-11-27T23:16:18Z", "updated_at": "2023-01-28T12:09:23Z", "closed_at": "2021-11-28T13:43:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nBeets declares a dependency on `confuse>=1.0.0`:\r\n\r\nhttps://github.com/beetbox/beets/blob/e3f4e19298cb9296dc636b7a15ab77d98087b635/setup.py#L92\r\n\r\nBut it uses `confuse.Optional`, which was only [added in `confuse@1.5.0`](https://github.com/beetbox/confuse/blob/e7a6566659f31bc4f39a9ac608e0d60bb48da471/docs/changelog.rst#v150):\r\n\r\nhttps://github.com/beetbox/beets/blob/3b531811b982119c6e598433e413e8ca9f2ad068/beetsplug/fetchart.py#L984\r\n\r\nThis causes beets to crash if you happen to have an earlier version of `confuse` installed, e.g., 1.4.0:\r\n\r\n```\r\nAttributeError: module 'confuse' has no attribute 'Optional'\r\n```\r\n\r\nI assume the fix is to increase the dependency requirement to `confuse>=1.5.0`.\r\n\r\n### Setup\r\n\r\n* OS: macOS 12.0.1\r\n* Python version: 3.9.9\r\n* beets version: 1.6.0\r\n* Turning off plugins made problem go away (yes/no): \r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nn/a\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4167/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4167/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4116", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4116/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4116/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4116/events", "html_url": "https://github.com/beetbox/beets/issues/4116", "id": 1031563432, "node_id": "I_kwDOAAygxs49fGio", "number": 4116, "title": "deezer: Tolerate missing `track_position` field", "user": {"login": "exislow", "id": 6794066, "node_id": "MDQ6VXNlcjY3OTQwNjY=", "avatar_url": "https://avatars.githubusercontent.com/u/6794066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exislow", "html_url": "https://github.com/exislow", "followers_url": "https://api.github.com/users/exislow/followers", "following_url": "https://api.github.com/users/exislow/following{/other_user}", "gists_url": "https://api.github.com/users/exislow/gists{/gist_id}", "starred_url": "https://api.github.com/users/exislow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exislow/subscriptions", "organizations_url": "https://api.github.com/users/exislow/orgs", "repos_url": "https://api.github.com/users/exislow/repos", "events_url": "https://api.github.com/users/exislow/events{/privacy}", "received_events_url": "https://api.github.com/users/exislow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-10-20T15:43:43Z", "updated_at": "2021-12-12T19:33:38Z", "closed_at": "2021-12-12T19:33:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently I try to import some mixtapes = single long audio files which are mixed by a DJ and consisting of several titles.\r\n\r\n### Problem\r\n\r\nThe Deezer plugin is the reason beets crashes everytime. It also happened yesterday with normal tracks of an album (sorry I deleted the logs already). If I deactivate the deezer plugin the mixtapes will be imported. What is the reason?\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\nbeet -vv import -s --set track_type=\"mixtape\" .\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n# beet -vv import -s --set track_type=\"mixtape\" .                                                                               \r\nuser configuration: /Users/user/.config/beets/config.yaml\r\ndata directory: /Users/user/.config/beets\r\nplugin paths:\r\nSending event: pluginload\r\ninline: adding item field disc_and_track\r\ninline: adding item field lossless_desc\r\nlibrary database: /Users/user/.config/beets/music.blb\r\nlibrary directory: /Volumes/mini/Music/Archiv_beets\r\nSending event: library_opened\r\nSending event: import_begin\r\nignoring b'.DS_Store' due to ignore rule b'.DS_Store'\r\nSending event: import_task_created\r\nSending event: import_task_start\r\nbadfiles: checking path: /Users/user/Music/tmp/Mixtapes/100% Beats by Dre.mp3\r\nSending event: import_task_created\r\nbadfiles: running command: mp3val \"/Users/user/Music/tmp/Mixtapes/100% Beats by Dre.mp3\"\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nchroma: chroma: fingerprinted b'/Users/user/Music/tmp/Mixtapes/100% Beats by Dre.mp3'\r\nchroma: no match found\r\nLooking up: /Users/user/Music/tmp/Mixtapes/100% Beats by Dre.mp3\r\nItem search terms: Dre - 100% Beats by Dre\r\nSending event: mb_track_extract\r\nSending event: trackinfo_received\r\nSending event: mb_track_extract\r\nSending event: trackinfo_received\r\nSending event: mb_track_extract\r\nSending event: trackinfo_received\r\nSending event: mb_track_extract\r\nSending event: trackinfo_received\r\nSending event: mb_track_extract\r\nSending event: trackinfo_received\r\nspotify: Searching Spotify for '100% Beats by Dre artist:Dre'\r\nspotify: Found 0 result(s) from Spotify for '100% Beats by Dre artist:Dre'\r\ndeezer: Searching Deezer for '100% Beats by Dre artist:\"Dre\"'\r\ndeezer: Found 25 result(s) from Deezer for '100% Beats by Dre artist:\"Dre\"'\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/beet\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/ui/__init__.py\", line 1291, in main\r\n    _raw_main(args)\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/ui/__init__.py\", line 1278, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/ui/commands.py\", line 973, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/ui/commands.py\", line 943, in import_files\r\n    session.run()\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/importer.py\", line 341, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/util/pipeline.py\", line 442, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/usr/local/lib/python3.9/site-packages/six.py\", line 719, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/util/pipeline.py\", line 309, in run\r\n    out = self.coro.send(msg)\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/importer.py\", line 1377, in lookup_candidates\r\n    task.lookup_candidates()\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/importer.py\", line 912, in lookup_candidates\r\n    prop = autotag.tag_item(self.item, search_ids=self.search_ids)\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/autotag/match.py\", line 520, in tag_item\r\n    for track_info in hooks.item_candidates(item, search_artist, search_title):\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/plugins.py\", line 583, in decorated\r\n    for v in generator(*args, **kwargs):\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/autotag/hooks.py\", line 652, in item_candidates\r\n    for candidate in plugins.item_candidates(item, artist, title):\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/plugins.py\", line 401, in item_candidates\r\n    for item_candidate in plugin.item_candidates(item, artist, title):\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/plugins.py\", line 763, in item_candidates\r\n    return [self.track_for_id(track_data=track) for track in tracks]\r\n  File \"/usr/local/lib/python3.9/site-packages/beets/plugins.py\", line 763, in <listcomp>\r\n    return [self.track_for_id(track_data=track) for track in tracks]\r\n  File \"/usr/local/Cellar/python@3.9/3.9.7_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/beetsplug/deezer.py\", line 159, in track_for_id\r\n    track = self._get_track(track_data)\r\n  File \"/usr/local/Cellar/python@3.9/3.9.7_1/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/beetsplug/deezer.py\", line 134, in _get_track\r\n    index=track_data['track_position'],\r\nKeyError: 'track_position'\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant):\r\n\r\n\r\n### Setup\r\n\r\n\r\n    OS: macOS 11.6\r\n    Turning off plugins made problem go away (yes/no): did not try\r\n\r\n```\r\n$ beet --plugins= version                          \r\nbeets version 1.5.0\r\nPython version 3.9.7\r\nno plugins loaded\r\n```\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nimportfeeds:\r\n    relative_to: /Volumes/mini/Music/Archiv_beets\r\n    absolute_path: yes\r\n    formats: m3u\r\n    m3u_name: imported.m3u\r\n    dir:\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    google_API_key: REDACTED\r\n    sources: google musixmatch genius tekstowo\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\nlibrary: ~/.config/beets/music.blb\r\ndirectory: /Volumes/mini/Music/Archiv_beets\r\n\r\nimport:\r\n    copy: no\r\n    move: yes\r\n    write: yes\r\n    resume: yes\r\n    incremental: yes\r\n    autotag: yes\r\n    incremental_skip_later: yes\r\n    log: ~/beetslog.txt\r\n    none_rec_action: ask\r\n    detail: yes\r\n    duplicate_action: ask\r\n\r\nplugins: zero scrub acousticbrainz spotify fetchart fromfilename discogs embedart inline convert mbsync chroma lastgenre lyrics the badfiles duplicates fuzzy info missing web edit keyfinder importadded metasync play replaygain importfeeds summarize bpmanalyser deezer\r\nignore: .AppleDouble ._* *~ .DS_Store\r\nignore_hidden: yes\r\n\r\nclutter: [Thumbs.DB, .pls, '*.jpg']\r\n\r\nreplace:\r\n    '[\\\\/]': _\r\n    ^\\.: ''\r\n    '[\\x00-\\x1f]': _\r\n    \\s+$: ''\r\n    ^\\s+: ''\r\n    /: _\r\nasciify_paths: no\r\nart_filename: cover\r\nthreaded: yes\r\noriginal_date: no\r\nper_disc_numbering: yes\r\n\r\npaths:\r\n    default: Album/%the{$albumartist} - $album%aunique{} ($year)$lossless_desc/$disc_and_track. $artist - $title\r\n    track_type:mixtape: Mixtape/%the{$artist} - $title\r\n    track_type:instrumental: Album/%the{$albumartist} - $album%aunique{} ($year)$lossless_desc/$disc_and_track. $artist - $title\r\n    singleton: Non-Album/%the{$artist} - $title\r\n    comp: Compilation/%the{$album%aunique{}}/$disc_and_track. %the{$artist} - $title\r\nitem_fields:\r\n    disc_and_track: u'%01i-%02i' % (disc, track) if disctotal > 1 else u'%02i' % (track)\r\n    lossless_desc: u' (Lossless)' if format == 'FLAC' or format == 'ALAC' else u''\r\n\r\nmusicbrainz:\r\n    extra_tags: [year, country, media]\r\n\r\nui:\r\n    color: yes\r\n    colors:\r\n        text_success: green\r\n        text_warning: yellow\r\n        text_error: red\r\n        text_highlight: red\r\n        text_highlight_minor: lightgray\r\n        action_default: turquoise\r\n        action: blue\r\nduplicate_action: merge\r\nembedart:\r\n    ifempty: no\r\n    maxwidth: 0\r\n    auto: yes\r\n    compare_threshold: 0\r\n    remove_art_file: no\r\n    quality: 0\r\nkeyfinder:\r\n    auto: no\r\n    bin: /Applications/KeyFinder.app/Contents/MacOS/KeyFinder\r\n    overwrite: no\r\nimportadded:\r\n    preserve_mtimes: yes\r\n    preserve_write_mtimes: yes\r\nlastgenre:\r\n    auto: yes\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    force: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\n    title_case: yes\r\nreplaygain:\r\n    auto: yes\r\n    backend: gstreamer\r\n    overwrite: no\r\n    threads: 8\r\n    parallel_on_import: no\r\n    per_disc: no\r\n    peak: 'true'\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n    r128_targetlevel: 84\r\nscrub:\r\n    auto: yes\r\nzero:\r\n    auto: no\r\n    fields: comments track tracktotal album albumartist albumartist_credit albumartist_sort comp composer encoder lyrics\r\n    comments:\r\n    - EAC\r\n    - LAME\r\n    - from.+collection\r\n    - ripped by\r\n    update_database: yes\r\n    keep_fields: []\r\nchroma:\r\n    auto: yes\r\nconvert:\r\n    auto: no\r\n    copy_album_art: yes\r\n    embed: yes\r\n    never_convert_lossy_files: yes\r\n    max_bitrate: 320\r\n    format: alac\r\n    dest:\r\n    pretend: no\r\n    link: no\r\n    hardlink: no\r\n    threads: 8\r\n    id3v23: inherit\r\n    formats:\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    tmpdir:\r\n    quiet: no\r\n\r\n    paths: {}\r\n    no_convert: ''\r\n    album_art_maxwidth: 0\r\n    delete_originals: no\r\nmetasync:\r\n    source: itunes\r\n    itunes:\r\n        library: ~/Music/iTunes Library.xml\r\nplay:\r\n    command: /Applications/VLC.app/Contents/MacOS/VLC\r\n    use_folders: no\r\n    relative_to:\r\n    raw: no\r\n    warning_threshold: 100\r\n    bom: no\r\ncopyartifacts:\r\n    extensions: .cue .log .jpg\r\n    print_ignored: yes\r\nacousticbrainz:\r\n    auto: yes\r\n    force: no\r\n    tags: []\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.04\r\n    medium_rec_thresh: 0.25\r\n    rec_gap_thresh: 0.25\r\n    max_rec:\r\n        missing_tracks: medium\r\n        unmatched_tracks: medium\r\n    distance_weights:\r\n        source: 2.0\r\n        artist: 3.0\r\n        album: 3.0\r\n        media: 1.0\r\n        mediums: 1.0\r\n        year: 1.0\r\n        country: 0.5\r\n        label: 0.5\r\n        catalognum: 0.5\r\n        albumdisambig: 0.5\r\n        album_id: 5.0\r\n        tracks: 2.0\r\n        missing_tracks: 0.9\r\n        unmatched_tracks: 0.6\r\n        track_title: 3.0\r\n        track_artist: 2.0\r\n        track_index: 1.0\r\n        track_length: 2.0\r\n        track_id: 5.0\r\n    preferred:\r\n        countries: []\r\n        media: []\r\n        original_year: no\r\n    track_length_grace: 10\r\n    track_length_max: 30\r\ndiscogs:\r\n    source_weight: 0.5\r\n    tokenfile: discogs_token.json\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    user_token: REDACTED\r\n    separator: ', '\r\n    index_tracks: no\r\ndeezer:\r\n    source_weight: 0.5\r\nfuzzy:\r\n    threshold: 0.7\r\n    prefix: '~'\r\nspotify:\r\n    source_weight: 0.5\r\n    regex: []\r\n    artist_field: albumartist\r\n    mode: list\r\n    track_field: title\r\n    album_field: album\r\n    show_failures: no\r\n    tiebreak: popularity\r\n    region_filter:\r\n    client_id: 4e414367a1d14c75a5c5129a627fcab8\r\n    client_secret: REDACTED\r\n    tokenfile: spotify_token.json\r\nbeatport:\r\n    source_weight: 0.5\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    enforce_ratio: no\r\n    cautious: no\r\n    maxwidth: 0\r\n    store_source: yes\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    quality: 0\r\n    max_filesize: 0\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    lastfm_key: REDACTED\r\n    high_resolution: no\r\nweb:\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\n    cors_supports_credentials: no\r\n    reverse_proxy: no\r\n    include_paths: no\r\n    readonly: yes\r\nbpmanalyser:\r\n    auto: no\r\n    dry-run: no\r\n    write: yes\r\n    threads: 8\r\n    force: no\r\n    quiet: no\r\nbadfiles:\r\n    check_on_import: yes\r\nthe:\r\n    the: yes\r\n    a: yes\r\n    format: '{0}, {1}'\r\n    strip: no\r\n    patterns: []\r\nmissing:\r\n    count: no\r\n    total: no\r\n    album: no\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\npathfields: {}\r\nalbum_fields: {}\r\nedit:\r\n    albumfields: album albumartist\r\n    itemfields: track title artist album\r\n    ignore_fields: id path\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4116/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4037", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4037/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4037/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4037/events", "html_url": "https://github.com/beetbox/beets/issues/4037", "id": 983920842, "node_id": "MDU6SXNzdWU5ODM5MjA4NDI=", "number": 4037, "title": "Test test_album_art fails", "user": {"login": "ss2", "id": 49458, "node_id": "MDQ6VXNlcjQ5NDU4", "avatar_url": "https://avatars.githubusercontent.com/u/49458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ss2", "html_url": "https://github.com/ss2", "followers_url": "https://api.github.com/users/ss2/followers", "following_url": "https://api.github.com/users/ss2/following{/other_user}", "gists_url": "https://api.github.com/users/ss2/gists{/gist_id}", "starred_url": "https://api.github.com/users/ss2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ss2/subscriptions", "organizations_url": "https://api.github.com/users/ss2/orgs", "repos_url": "https://api.github.com/users/ss2/repos", "events_url": "https://api.github.com/users/ss2/events{/privacy}", "received_events_url": "https://api.github.com/users/ss2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "jackwilsdon", "id": 1843197, "node_id": "MDQ6VXNlcjE4NDMxOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1843197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwilsdon", "html_url": "https://github.com/jackwilsdon", "followers_url": "https://api.github.com/users/jackwilsdon/followers", "following_url": "https://api.github.com/users/jackwilsdon/following{/other_user}", "gists_url": "https://api.github.com/users/jackwilsdon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwilsdon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwilsdon/subscriptions", "organizations_url": "https://api.github.com/users/jackwilsdon/orgs", "repos_url": "https://api.github.com/users/jackwilsdon/repos", "events_url": "https://api.github.com/users/jackwilsdon/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwilsdon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jackwilsdon", "id": 1843197, "node_id": "MDQ6VXNlcjE4NDMxOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1843197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwilsdon", "html_url": "https://github.com/jackwilsdon", "followers_url": "https://api.github.com/users/jackwilsdon/followers", "following_url": "https://api.github.com/users/jackwilsdon/following{/other_user}", "gists_url": "https://api.github.com/users/jackwilsdon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwilsdon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwilsdon/subscriptions", "organizations_url": "https://api.github.com/users/jackwilsdon/orgs", "repos_url": "https://api.github.com/users/jackwilsdon/repos", "events_url": "https://api.github.com/users/jackwilsdon/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwilsdon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-08-31T14:20:39Z", "updated_at": "2021-09-01T18:16:00Z", "closed_at": "2021-09-01T14:07:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhile trying to update beets to 1.5.0 on Guix, the test `test_album_art` fails.\r\n\r\nThe output is:\r\n```\r\n======================================================================\r\nFAIL: test_album_art (test.test_zero.ZeroPluginTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/tmp/guix-build-beets-1.5.0.drv-0/beets-1.5.0/test/test_zero.py\", line 109, in test_album_art\r\n    self.assertEqual(0, len(mf.images))\r\nAssertionError: 0 != 1\r\n-------------------- >> begin captured logging << --------------------\r\nbeets: DEBUG: Sending event: write\r\nbeets: DEBUG: Sending event: after_write\r\n--------------------- >> end captured logging << ---------------------\r\n\r\n----------------------------------------------------------------------\r\nRan 1607 tests in 69.053s\r\n\r\nFAILED (SKIP=51, failures=1)\r\ncommand \"nosetests\" \"-v\" failed with status 1\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Guix\r\n* Python version: 3.8.2\r\n* beets version: 1.5.0\r\n* Turning off plugins made problem go away (yes/no): -\r\n\r\nApparently this test has failed since maybe 04ea754d00e2873ae9aa2d9e07c5cefd790eaee2.  Looking around, this test has also been disabled in Arch Linux [package](https://github.com/archlinux/svntogit-community/blob/packages/beets/trunk/PKGBUILD) too, and it fails there too.  Additionally another test in Arch appears to fail too.\r\n\r\n\r\nKind regards", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4037/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4027", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4027/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4027/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4027/events", "html_url": "https://github.com/beetbox/beets/issues/4027", "id": 979223258, "node_id": "MDU6SXNzdWU5NzkyMjMyNTg=", "number": 4027, "title": "lyrics: Crash when BeautifulSoup is not installed", "user": {"login": "janpeeters70", "id": 4502360, "node_id": "MDQ6VXNlcjQ1MDIzNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/4502360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janpeeters70", "html_url": "https://github.com/janpeeters70", "followers_url": "https://api.github.com/users/janpeeters70/followers", "following_url": "https://api.github.com/users/janpeeters70/following{/other_user}", "gists_url": "https://api.github.com/users/janpeeters70/gists{/gist_id}", "starred_url": "https://api.github.com/users/janpeeters70/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janpeeters70/subscriptions", "organizations_url": "https://api.github.com/users/janpeeters70/orgs", "repos_url": "https://api.github.com/users/janpeeters70/repos", "events_url": "https://api.github.com/users/janpeeters70/events{/privacy}", "received_events_url": "https://api.github.com/users/janpeeters70/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2021-08-25T14:35:46Z", "updated_at": "2021-10-01T13:44:19Z", "closed_at": "2021-09-30T20:56:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\nThe Lyrics plugin throws an error/crashes when ran without BeautifulSoup installed.\r\n\r\n### Terminal output\r\n_I currently can't run a verbose command because Beets is dragging itself through finding lyrics for many many albums._\r\n\r\nThe following error is displayed in Terminal when running:\r\n```\r\n$ beets lyrics artist song\r\n/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/util/confit.py:21: UserWarning: beets.util.confit is deprecated; use confuse instead\r\n  warnings.warn(\"beets.util.confit is deprecated; use confuse instead\")\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.5.0', 'console_scripts', 'beet')()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1291, in main\r\n    _raw_main(args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1274, in _raw_main\r\n    subcommands, plugins, lib = _setup(options, lib)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1153, in _setup\r\n    plugins = _load_plugins(options, config)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1139, in _load_plugins\r\n    plugins.send(\"pluginload\")\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/plugins.py\", line 497, in send\r\n    for handler in event_handlers()[event]:\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/plugins.py\", line 480, in event_handlers\r\n    for plugin in find_plugins():\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/plugins.py\", line 315, in find_plugins\r\n    _instances[cls] = cls()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 736, in __init__\r\n    sources = self.sanitize_bs_sources(sources)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 763, in sanitize_bs_sources\r\n    if source.REQUIRES_BS:\r\nAttributeError: 'str' object has no attribute 'REQUIRES_BS'\r\n``````\r\n\r\nAfter installing BeautifulSoup the output is\r\n```\r\n/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/util/confit.py:21: UserWarning: beets.util.confit is deprecated; use confuse instead\r\n  warnings.warn(\"beets.util.confit is deprecated; use confuse instead\")\r\n```\r\n\r\nAndrew writes:\r\n> We're supposed to silently fix up the configuration when BeautifulSoup is not installed; not crash with a traceback. Glancing at the code, I do see the mistake.\r\n\r\n### Setup\r\n\r\n* OS: macOS 10.13.6\r\n* Python version: 3.7\r\n* beets version: 1.5\r\n* Turning off plugins made problem go away (yes/no):  \r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlibrary: ~/Music/Beets/musiclibrary.db\r\ndirectory: /Volumes/Tunez\r\n\r\nimport:\r\n    write: yes\r\n    copy: yes\r\n    move: no\r\n    link: no\r\n    hardlink: no\r\n    delete: no\r\n    resume: ask\r\n    incremental: no\r\n    incremental_skip_later: no\r\n    from_scratch: no\r\n    quiet_fallback: skip\r\n    none_rec_action: ask\r\n    timid: no\r\n    log:\r\n    autotag: yes\r\n    quiet: no\r\n    singletons: no\r\n    default_action: apply\r\n    languages: []\r\n    detail: no\r\n    flat: no\r\n    group_albums: no\r\n    pretend: false\r\n    search_ids: []\r\n    duplicate_action: remove\r\n    bell: no\r\n    set_fields: {}\r\n\r\nclutter: [\"Thumbs.DB\", \".DS_Store\"]\r\nignore: [\".*\", \"*~\", \"System Volume Information\", \"lost+found\"]\r\nignore_hidden: yes\r\n\r\nreplace:\r\n    '[\\\\/]': _\r\n    '^\\.': _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>:\"\\?\\*\\|]': ''\r\n    '\\.$': _\r\n    '\\s+$': ''\r\n    '^\\s+': ''\r\n    '^-': _\r\npath_sep_replace: _\r\nasciify_paths: false\r\nart_filename: cover\r\nmax_filename_length: 0\r\n\r\naunique:\r\n    keys: albumartist album\r\n    disambiguators: albumtype year samplerate label catalognum albumdisambig releasegroupdisambig\r\n    bracket: '()'\r\n\r\nplugins: \r\n    - inline\r\n    - the\r\n    - lastgenre\r\n    - discogs\r\n    - chroma\r\n    - acousticbrainz\r\n    - fromfilename\r\n    - fetchart\r\n    - embedart\r\n    - ftintitle\r\n    - edit\r\n    - info\r\n    - missing\r\n    - types\r\n    - convert\r\n    - plexupdate\r\n    - web\r\n    - unimported\r\n    - keyfinder\r\n    - fuzzy\r\n    - spotify\r\n    - describe\r\n    - bpmanalyser\r\n    - lyrics\r\n#    - smartplaylist\r\n#    - goingrunning\r\npluginpath: \r\n    - /Users/xxxxxxxx/Documents/BeetsPluginDescribe/beetsplug\r\nthreaded: yes\r\ntimeout: 5.0\r\nper_disc_numbering: no\r\nverbose: 0\r\nterminal_encoding:\r\noriginal_date: no\r\nartist_credit: no\r\nid3v23: no\r\nva_name: \"Various Artists\"\r\n\r\nzero:\r\n    fields: comments\r\n    update_database: true\r\n\r\n# Inline plugin template\r\nitem_fields:\r\n  multidisc: 1 if disctotal > 1 else 0\r\n  my_samplerate: round(samplerate / 1000)\r\n  is_flac: 1 if format == \"FLAC\" else 0\r\nalbum_fields:  \r\n  format: |\r\n       formatList = []\r\n       for item in items:\r\n           formatList.append(item.format)\r\n       return formatList\r\n  av_bitrate: |\r\n       total = 0\r\n       for item in items:\r\n           total += item.bitrate\r\n       return round(total / len(items) / 1000)\r\n  album_bitdepth:  |\r\n       total = 0\r\n       for item in items:\r\n           total += item.bitdepth\r\n       return round(total / len(items))\r\n  album_samplerate:  |\r\n       total = 0\r\n       for item in items:\r\n           total += item.samplerate\r\n       return round(total / len(items) / 1000)\r\n  is_1644: |\r\n       bd = 0\r\n       sr = 0\r\n       br = 0\r\n       for item in items:\r\n           bd += item.bitdepth\r\n           sr += item.samplerate\r\n           br += item.bitrate\r\n       bd = round(bd / len(items))\r\n       sr = round(sr / len(items) / 1000)\r\n       br = round(br / len(items) / 1000)\r\n       return 1 if bd == 16 and sr == 44 and br > 320 else 0\r\n\r\nui:\r\n    terminal_width: 80\r\n    length_diff_thresh: 10.0\r\n    color: yes\r\n    colors:\r\n        text_success: green\r\n        text_warning: yellow\r\n        text_error: red\r\n        text_highlight: red\r\n        text_highlight_minor: lightgray\r\n        action_default: turquoise\r\n        action: blue\r\n\r\nformat_item: $artist - $album - $title\r\nformat_album: $albumartist - $album\r\ntime_format: '%Y-%m-%d %H:%M:%S'\r\nformat_raw_length: no\r\n\r\nsort_album: albumartist+ album+\r\nsort_item: artist+ album+ disc+ track+\r\nsort_case_insensitive: yes\r\n\r\npaths:\r\n#  default: 'Albums/%the{$albumartist}/$album (%if{$original_year,$original_year}) %aunique{albumartist album year, albumdisambig}%if{$albumdisambig,($albumdisambig $year) }%if{$is_1644,,%if{$is_flac,($format $bitdepth-$album_samplerate),($format $av_bitrate)}}/%if{$multidisc,$disc-}$track - $title'\r\n  default: 'Albums/%the{$albumartist}/%if{$original_year,$original_year} - $album %aunique{albumartist album year, albumdisambig}%if{$albumdisambig,($albumdisambig $year) }%if{$is_1644,,%if{$is_flac,($format $album_bitdepth-$album_samplerate),($format $av_bitrate)}}/%if{$multidisc,$disc-}$track - $title'\r\n  dancetrack:1: 'Singles Dance/$artist - $title (%if{$original_year,$original_year}) %aunique{albumartist album year, albumtype label catalognum albumdisambig}%if{$albumdisambig,($albumdisambig$ $year)}($bpm bpm)'\r\n  artistsingles:1: 'Albums/%the{$albumartist}/$album/$title'\r\n  custcomp:1: 'Compilations/$album/$track - $artist - $title'\r\n  custcompmin:1: 'Compilations/$album/$artist - $title'\r\n  singleton: 'Singles/$artist - $title %aunique{albumartist album year, albumtype label catalognum albumdisambig}%if{$albumdisambig,($albumdisambig$ $year)}'\r\n  comp: 'Albums/%the{$albumartist}/$album (%if{$original_year,$original_year}) %aunique{albumartist album year, albumtype label catalognum albumdisambig}%if{$albumdisambig,($albumdisambig $year) }%if{$is_1644,,%if{$is_flac,($format $bitdepth-$album_samplerate),($format $av_bitrate)}}/%if{$multidisc,$disc-}$track - $artist - $title'\r\n\r\n\r\nstatefile: state.pickle\r\n\r\nmusicbrainz:\r\n    host: musicbrainz.org\r\n    ratelimit: 1\r\n    ratelimit_interval: 1.0\r\n    searchlimit: 5\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.04\r\n    medium_rec_thresh: 0.25\r\n    rec_gap_thresh: 0.25\r\n    max_rec:\r\n        missing_tracks: medium\r\n        unmatched_tracks: medium\r\n    distance_weights:\r\n        source: 2.0\r\n        artist: 3.0\r\n        album: 3.0\r\n        media: 1.0\r\n        mediums: 1.0\r\n        year: 1.0\r\n        country: 0.5\r\n        label: 0.5\r\n        catalognum: 0.5\r\n        albumdisambig: 0.5\r\n        album_id: 5.0\r\n        tracks: 2.0\r\n        missing_tracks: 0.9\r\n        unmatched_tracks: 0.6\r\n        track_title: 3.0\r\n        track_artist: 2.0\r\n        track_index: 1.0\r\n        track_length: 2.0\r\n        track_id: 5.0\r\n    preferred:\r\n        countries: []\r\n        media: ['Digital Media|File' , 'CD']\r\n        original_year: no\r\n    ignored: []\r\n    required: []\r\n    ignored_media: []\r\n    ignore_data_tracks: yes\r\n    ignore_video_tracks: yes\r\n    track_length_grace: 10\r\n    track_length_max: 30\r\n    \r\nchroma:\r\n    auto: no\r\n    \r\nfetchart:\r\n    auto: yes\r\n    cautious: no\r\n    cover_names: cover front art album folder\r\n    minwidth: 290\r\n    maxwidth: 1050\r\n    sources: itunes amazon albumart lastfm fanart filesystem coverart \r\n    fanarttv_key: xxxxxxxxxxxxx\r\n    lastfm_key: xxxxxxxxxxxx\r\n    \r\nacoustid: \r\n    apikey: xxxxxxxxx\r\n   \r\nembedart:\r\n    auto: yes\r\n    ifempty: no   \r\n    \r\nlastgenre:\r\n    auto: yes\r\n    canonical: no\r\n    count: 1\r\n    force: yes\r\n    source: album\r\n    whitelist: yes\r\n    min_weight: 10\r\n    fallback:\r\n    separator: ', '\r\n    prefer_specific: no\r\n    \r\ntypes:\r\n    av_bitrate: int\r\n    my_samplerate: int\r\n    bitdepth: int\r\n    album_bitdepth: int\r\n    album_samplerate: int\r\n    rating: int\r\n    \r\nconvert:\r\n    dest: ~/Music/BeetExports\r\n    command: ffmpeg -i $source -y -vn -aq 0 $dest    \r\n    extension: mp3\r\n    format: mp3\r\n    never_convert_lossy_files: yes\r\n\r\nplex:\r\n    host: localhost\r\n    port: 32400\r\n    token: xxxxxxxxxxxxxx\r\n    \r\nlastfm:\r\n    user: xxxxxxxxxx\r\n    \r\nsmartplaylist:\r\n    playlist_dir: /Users/Shared/Music/Playlists\r\n    auto: no\r\n    playlists:\r\n        - name: 'favorites.m3u' \r\n          query: rating:4..5\r\n        - name: 'danceable.m3u'\r\n          query: \r\n            - danceable:0.8..\r\n        - name: 'acoustic.m3u'\r\n          query: \r\n            - mood_acoustic:0.8..\r\n        - name: 'aggresive.m3u'\r\n          query: \r\n            - mood_aggresive:0.8..\r\n        - name: 'electronic.m3u'\r\n          query: \r\n            - mood_electronic:0.8..\r\n        - name: 'danceable.m3u'\r\n          query: \r\n            - danceable:0.8..\r\n        - name: 'happy.m3u'\r\n          query: \r\n            - mood_happy:0.8..           \r\n        - name: 'party.m3u'\r\n          query: \r\n            - mood_party:0.8.. \r\n        - name: 'relaxed.m3u'\r\n          query: \r\n            - mood_relaxed:0.8..                   \r\n        - name: 'sad.m3u'\r\n          query: \r\n            - mood_sad:0.8..\r\n\r\nspotify:\r\n    mode: list\r\n    show_failures: on\r\n    tiebreak: first\r\n    \r\nbpmanalyser:\r\n    auto: no\r\n    dry-run: no\r\n    write: yes\r\n    force: no\r\n    quiet: no\r\n    \r\ngoingrunning:\r\n  targets:\r\n    subsonic_m3u:\r\n      device_root: /Users/Shared/Music/Playlists\r\n      device_path: \r\n      clean_target: yes\r\n      generate_playlist: yes\r\n      copy_files: no\r\n  trainings:\r\n    10K:\r\n      use_flavours: [intensity_low, intensity_high, running]\r\n      duration: 180\r\n      target: subsonic_m3u\r\n  flavours:\r\n    intensity_low:\r\n      bpm: 87..88\r\n    intensity_high:\r\n      bpm: 175..177\r\n    running:\r\n      genre: [electronic, hip hop, funk, trip hop, house]\r\n\r\nweb:\r\n    host: 0.0.0.0\r\n    cors: 'http://localhost:3000'\r\n    \r\nlyrics:\r\n    auto: yes\r\n    google_API_key: xxxxxxxxxxxxxxxxx\r\n    google_engine_ID: 009217259823014548361:lndtuqkycfu\r\n    \r\nunimported:\r\n    ignore_extensions: mid wav\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4027/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/4002", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/4002/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/4002/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/4002/events", "html_url": "https://github.com/beetbox/beets/issues/4002", "id": 941440294, "node_id": "MDU6SXNzdWU5NDE0NDAyOTQ=", "number": 4002, "title": "Subsonicupdate plugin broken in multiple paces", "user": {"login": "maffo999", "id": 29754114, "node_id": "MDQ6VXNlcjI5NzU0MTE0", "avatar_url": "https://avatars.githubusercontent.com/u/29754114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maffo999", "html_url": "https://github.com/maffo999", "followers_url": "https://api.github.com/users/maffo999/followers", "following_url": "https://api.github.com/users/maffo999/following{/other_user}", "gists_url": "https://api.github.com/users/maffo999/gists{/gist_id}", "starred_url": "https://api.github.com/users/maffo999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maffo999/subscriptions", "organizations_url": "https://api.github.com/users/maffo999/orgs", "repos_url": "https://api.github.com/users/maffo999/repos", "events_url": "https://api.github.com/users/maffo999/events{/privacy}", "received_events_url": "https://api.github.com/users/maffo999/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-11T12:16:37Z", "updated_at": "2021-07-15T20:05:22Z", "closed_at": "2021-07-15T20:05:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nRunning the latest git version of beets causes the subsonicupdate plugin to fail with a generic \"Error: 1\".\r\nThe current code is broken in 2 places:\r\n\r\n1. `def __get_version(self):`\r\nCode is trying to retrieve the version in order to decide whether to authenticate with token or password: a much better choice than my original plan of assuming everyone would use an updated version and/or prefer token over password due to additional security.\r\nIn the current code, the REST API is called by passing only parameters 'c' and 'f': this API fails because it's not complete and the plugin stops processing.\r\n\r\n2. `def start_scan(self):`\r\nAssuming the authentication would go through, this call would fail anyway since the current code is splitting the API version in 3 values and passing them separately, e.g. `&v=1&v=61&v=1`, rather than `&v=1.61.1`\r\n\r\nI have always been running an ancient version of beets with my original code for the plugin and I noticed this just today as I set up a new machine and installed beets form git repo through AUR.\r\nIt also seems I am the only user of this plugin given no other feedback has been filed so far, so I can understand if this fix doesn't get high priority.\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* Python version: 3.9.6\r\n* beets version: 1.5.0\r\n* Turning off plugins made problem go away (yes/no):  disabling subsonicupdate plugin will prevent the error from happening\r\n\r\n### Additional Info\r\nSubsonic API reference: http://www.subsonic.org/pages/api.jsp\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/4002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/4002/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3970", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3970/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3970/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3970/events", "html_url": "https://github.com/beetbox/beets/issues/3970", "id": 911154177, "node_id": "MDU6SXNzdWU5MTExNTQxNzc=", "number": 3970, "title": "Lyrics plugin error \"object of type 'NoneType' has no len()\"", "user": {"login": "2V3EvG4LMJFdRe", "id": 11010067, "node_id": "MDQ6VXNlcjExMDEwMDY3", "avatar_url": "https://avatars.githubusercontent.com/u/11010067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2V3EvG4LMJFdRe", "html_url": "https://github.com/2V3EvG4LMJFdRe", "followers_url": "https://api.github.com/users/2V3EvG4LMJFdRe/followers", "following_url": "https://api.github.com/users/2V3EvG4LMJFdRe/following{/other_user}", "gists_url": "https://api.github.com/users/2V3EvG4LMJFdRe/gists{/gist_id}", "starred_url": "https://api.github.com/users/2V3EvG4LMJFdRe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2V3EvG4LMJFdRe/subscriptions", "organizations_url": "https://api.github.com/users/2V3EvG4LMJFdRe/orgs", "repos_url": "https://api.github.com/users/2V3EvG4LMJFdRe/repos", "events_url": "https://api.github.com/users/2V3EvG4LMJFdRe/events{/privacy}", "received_events_url": "https://api.github.com/users/2V3EvG4LMJFdRe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-06-04T06:08:35Z", "updated_at": "2023-02-28T02:36:24Z", "closed_at": "2021-06-18T15:17:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\n`beet lyrics` was left running for a while, worked fine until it stopped at some unidentified song that triggered:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/bin/beet\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1291, in main\r\n    _raw_main(args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1278, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 792, in func\r\n    opts.force_refetch or self.config['force'],\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 889, in fetch_item_lyrics\r\n    lyrics = [self.get_lyrics(artist, title) for title in titles]\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 889, in <listcomp>\r\n    lyrics = [self.get_lyrics(artist, title) for title in titles]\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 922, in get_lyrics\r\n    lyrics = backend.fetch(artist, title)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 347, in fetch\r\n    self.fetch_url(hit[\"result\"][\"url\"]))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 376, in _scrape_lyrics_from_html\r\n    html = BeautifulSoup(html, \"html.parser\")\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/bs4/__init__.py\", line 310, in __init__\r\n    elif len(markup) <= 256 and (\r\nTypeError: object of type 'NoneType' has no len()\r\n```\r\n\r\n### Setup\r\n\r\n* OS: macOS High Sierra\r\n* Python version: 3.7\r\n* beets version: 1.5.0\r\n\r\nRelevant issue: https://github.com/beetbox/beets/issues/479", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3970/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3970/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3943", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3943/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3943/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3943/events", "html_url": "https://github.com/beetbox/beets/issues/3943", "id": 891963698, "node_id": "MDU6SXNzdWU4OTE5NjM2OTg=", "number": 3943, "title": "Duplicate Plugin: beet dup -C \"md5sum {file}\" doesn't calculate checksum on Win10 cmd (incl ad-hoc fix)", "user": {"login": "Madrawn", "id": 1095756, "node_id": "MDQ6VXNlcjEwOTU3NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1095756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Madrawn", "html_url": "https://github.com/Madrawn", "followers_url": "https://api.github.com/users/Madrawn/followers", "following_url": "https://api.github.com/users/Madrawn/following{/other_user}", "gists_url": "https://api.github.com/users/Madrawn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Madrawn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Madrawn/subscriptions", "organizations_url": "https://api.github.com/users/Madrawn/orgs", "repos_url": "https://api.github.com/users/Madrawn/repos", "events_url": "https://api.github.com/users/Madrawn/events{/privacy}", "received_events_url": "https://api.github.com/users/Madrawn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-05-14T14:20:44Z", "updated_at": "2021-06-18T15:21:49Z", "closed_at": "2021-06-18T15:21:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to check for duplicates with md5sum. And ran into several problems.\r\n\r\n### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n(copied like its shown in this doc https://beets.readthedocs.io/en/stable/plugins/duplicates.html)\r\n```cmd\r\n$ beet -vv dup -C 'md5sum {file}'\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nuser configuration: F:\\Users\\yasok\\AppData\\Roaming\\beets\\config.yaml\r\ndata directory: F:\\Users\\yasok\\AppData\\Roaming\\beets\r\nplugin paths:\r\nSending event: pluginload\r\nlibrary database: F:\\Users\\yasok\\AppData\\Roaming\\beets\\library.db\r\nlibrary directory: G:\\MusicNoDupes\r\nSending event: library_opened\r\nTraceback (most recent call last):\r\n  File \"f:\\users\\yasok\\anaconda3\\envs\\tagging\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"f:\\users\\yasok\\anaconda3\\envs\\tagging\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"F:\\Users\\yasok\\anaconda3\\envs\\tagging\\Scripts\\beet.exe\\__main__.py\", line 7, in <module>\r\n  File \"f:\\users\\yasok\\anaconda3\\envs\\tagging\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1291, in main\r\n    _raw_main(args)\r\n  File \"f:\\users\\yasok\\anaconda3\\envs\\tagging\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1278, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"f:\\users\\yasok\\anaconda3\\envs\\tagging\\lib\\site-packages\\beetsplug\\duplicates.py\", line 152, in _dup\r\n    keys = [k]\r\nUnboundLocalError: local variable 'k' referenced before assignment\r\n```\r\n\r\nAfter debugging I noticed that the command it's trying to run is:\r\n```\r\n'md5sum\r\n```\r\nmissing the \"{file}\", so I figured I'll try it with \r\n```cmd\r\n$ beet -vv dup -C \"md5sum {file}\"\r\n```\r\nwhich didn't crash, but led to:\r\n\r\n```\r\nduplicates: key md5sum on item G:\\MusicNoDupes\\SWR3.online\\Jogis Jungs\\00 Jogis Jungs 026 Masern in der Schweiz.mp3 not cached:computing checksum\r\nduplicates: failed to checksum G:\\MusicNoDupes\\SWR3.online\\Jogis Jungs\\00 Jogis Jungs 026 Masern in der Schweiz.mp3: Command 'md5sum b'G:\\\\MusicNoDupes\\\\SWR3.online\\\\Jogis Jungs\\\\00 Jogis Jungs 026 Masern in der Schweiz.mp3'' returned non-zero exit status 1.\r\n```\r\n\r\nI debugged again and realized it tries to run the command as:\r\n```\r\nmd5sum b'G:\\\\MusicNoDupes\\\\SWR3.online\\\\Jogis Jungs\\\\00 Jogis Jungs 026 Masern in der Schweiz.mp3\r\n```\r\nThe \"b' \" at the start confuses md5sum and leads to it not finding the file.\r\n\r\n### ad-hoc fix\r\nI changed the following line:\r\nF:\\Users\\yasok\\anaconda3\\envs\\tagging\\Lib\\site-packages\\beetsplug\\duplicates.py:200\r\nFrom\r\n```python\r\n        args = [p.format(file=item.path) for p in shlex.split(prog)]\r\n```\r\nTo\r\n```python\r\n        args = [p.format(file=displayable_path(item.path)) for p in shlex.split(prog)]\r\n```\r\n\r\nNow `$ beet -vv dup -C \"md5sum {file}\"` works.\r\n\r\n### Setup\r\n\r\n* OS: Windows 10 Pro 20H2\r\n* beets version 1.5.0\r\n* Python version 3.8.8\r\n* plugins: duplicates\r\n* Turning off plugins made problem go away (yes/no): not applicable\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nduplicates:\r\n  tiebreak: \r\n    items: [bitrate]\r\ndirectory: G:\\MusicNoDupes\r\nimport:\r\n    move: yes\r\nplugins: duplicates\r\nterminal_encoding: utf-8\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3943/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3904", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3904/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3904/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3904/events", "html_url": "https://github.com/beetbox/beets/issues/3904", "id": 855390036, "node_id": "MDU6SXNzdWU4NTUzOTAwMzY=", "number": 3904, "title": "Lyrics plugin crashing on tekstowo.pl", "user": {"login": "njelich", "id": 12912633, "node_id": "MDQ6VXNlcjEyOTEyNjMz", "avatar_url": "https://avatars.githubusercontent.com/u/12912633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njelich", "html_url": "https://github.com/njelich", "followers_url": "https://api.github.com/users/njelich/followers", "following_url": "https://api.github.com/users/njelich/following{/other_user}", "gists_url": "https://api.github.com/users/njelich/gists{/gist_id}", "starred_url": "https://api.github.com/users/njelich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njelich/subscriptions", "organizations_url": "https://api.github.com/users/njelich/orgs", "repos_url": "https://api.github.com/users/njelich/repos", "events_url": "https://api.github.com/users/njelich/events{/privacy}", "received_events_url": "https://api.github.com/users/njelich/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-04-11T19:37:23Z", "updated_at": "2021-04-16T18:51:40Z", "closed_at": "2021-04-12T00:33:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just found it crashing while searching tekstowo.pl (I'm on https://github.com/beetbox/beets/commit/afc072801c4a254e6b4114d89133d6bebc3e34b9).\r\n\r\nThese are the relevant lines of error.\r\n\r\n```\r\n    return html.find(\"div\", class_=\"song-text\").get_text()\r\nAttributeError: 'NoneType' object has no attribute 'get_text'\r\n```\r\n\r\nI also printed the html to the console, but I am unsure why the error is appearing. The div with the class song-text seems to exist and I've never worked on beets before. Could it have something to do with there being two divs with the class?\r\n\r\nI uploaded the html, but had to do it with txt extension due to GitHub limitations.\r\n\r\n[temp.txt](https://github.com/beetbox/beets/files/6292601/temp.txt)\r\n\r\n_Originally posted by @njelich in https://github.com/beetbox/beets/issues/3903#issuecomment-817359091_", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3904/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3904/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3898", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3898/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3898/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3898/events", "html_url": "https://github.com/beetbox/beets/issues/3898", "id": 838491943, "node_id": "MDU6SXNzdWU4Mzg0OTE5NDM=", "number": 3898, "title": "Python 3.10: Fix the web plugin", "user": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/17", "html_url": "https://github.com/beetbox/beets/milestone/17", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/17/labels", "id": 6580856, "node_id": "MDk6TWlsZXN0b25lNjU4MDg1Ng==", "number": 17, "title": "Python 3.10 support", "description": "Python 3.10 is [due for release on 2021-10-04](https://www.python.org/dev/peps/pep-0619/). We're running CI on nightly versions: https://github.com/beetbox/beets/pull/3896. Let's collect issues that need to be addressed for supporting 3.10 here.", "creator": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2021-03-23T08:40:37Z", "updated_at": "2021-05-11T21:03:58Z", "due_on": "2021-10-04T07:00:00Z", "closed_at": null}, "comments": 4, "created_at": "2021-03-23T08:47:37Z", "updated_at": "2021-05-11T21:03:59Z", "closed_at": "2021-05-11T21:03:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/beetbox/beets/pull/3896 shows a number of CI failures in the web plugin's tests. For some reason, `None` ends up being passed to `os.stat()`, which crashes. That could also be an issue with a library we depend on rather beets itself. Example test output:\r\n\r\n```\r\n2021-03-23T08:39:04.5229707Z ______________________ WebPluginTest.test_delete_item_id _______________________\r\n2021-03-23T08:39:04.5230285Z \r\n2021-03-23T08:39:04.5231008Z self = <test.test_web.WebPluginTest testMethod=test_delete_item_id>\r\n2021-03-23T08:39:04.5231648Z \r\n2021-03-23T08:39:04.5232203Z     def test_delete_item_id(self):\r\n2021-03-23T08:39:04.5232767Z     \r\n2021-03-23T08:39:04.5233901Z         web.app.config['READONLY'] = False\r\n2021-03-23T08:39:04.5234582Z     \r\n2021-03-23T08:39:04.5235149Z         # Create a temporary item\r\n2021-03-23T08:39:04.5236133Z         item_id = self.lib.add(Item(title=u'test_delete_item_id',\r\n2021-03-23T08:39:04.5236930Z                                     test_delete_item_id=1))\r\n2021-03-23T08:39:04.5237496Z     \r\n2021-03-23T08:39:04.5238128Z         # Check we can find the temporary item we just created\r\n2021-03-23T08:39:04.5239145Z >       response = self.client.get('/item/' + str(item_id))\r\n2021-03-23T08:39:04.5239750Z \r\n2021-03-23T08:39:04.5240282Z test/test_web.py:322: \r\n2021-03-23T08:39:04.5240876Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n2021-03-23T08:39:04.5241871Z .tox/py-test/lib/python3.10/site-packages/werkzeug/test.py:1006: in get\r\n2021-03-23T08:39:04.5242730Z     return self.open(*args, **kw)\r\n2021-03-23T08:39:04.5243758Z .tox/py-test/lib/python3.10/site-packages/flask/testing.py:222: in open\r\n2021-03-23T08:39:04.5244604Z     return Client.open(\r\n2021-03-23T08:39:04.5245631Z .tox/py-test/lib/python3.10/site-packages/werkzeug/test.py:970: in open\r\n2021-03-23T08:39:04.5246817Z     response = self.run_wsgi_app(environ.copy(), buffered=buffered)\r\n2021-03-23T08:39:04.5248106Z .tox/py-test/lib/python3.10/site-packages/werkzeug/test.py:861: in run_wsgi_app\r\n2021-03-23T08:39:04.5249159Z     rv = run_wsgi_app(self.application, environ, buffered=buffered)\r\n2021-03-23T08:39:04.5250369Z .tox/py-test/lib/python3.10/site-packages/werkzeug/test.py:1096: in run_wsgi_app\r\n2021-03-23T08:39:04.5252353Z     app_rv = app(environ, start_response)\r\n2021-03-23T08:39:04.5254590Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:2464: in __call__\r\n2021-03-23T08:39:04.5256451Z     return self.wsgi_app(environ, start_response)\r\n2021-03-23T08:39:04.5260627Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:2450: in wsgi_app\r\n2021-03-23T08:39:04.5261278Z     response = self.handle_exception(e)\r\n2021-03-23T08:39:04.5262126Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:1867: in handle_exception\r\n2021-03-23T08:39:04.5262752Z     reraise(exc_type, exc_value, tb)\r\n2021-03-23T08:39:04.5263542Z .tox/py-test/lib/python3.10/site-packages/flask/_compat.py:39: in reraise\r\n2021-03-23T08:39:04.5264078Z     raise value\r\n2021-03-23T08:39:04.5264777Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:2447: in wsgi_app\r\n2021-03-23T08:39:04.5265399Z     response = self.full_dispatch_request()\r\n2021-03-23T08:39:04.5266251Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:1952: in full_dispatch_request\r\n2021-03-23T08:39:04.5266905Z     rv = self.handle_user_exception(e)\r\n2021-03-23T08:39:04.5267756Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:1821: in handle_user_exception\r\n2021-03-23T08:39:04.5268392Z     reraise(exc_type, exc_value, tb)\r\n2021-03-23T08:39:04.5269174Z .tox/py-test/lib/python3.10/site-packages/flask/_compat.py:39: in reraise\r\n2021-03-23T08:39:04.5269710Z     raise value\r\n2021-03-23T08:39:04.5270452Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:1950: in full_dispatch_request\r\n2021-03-23T08:39:04.5271099Z     rv = self.dispatch_request()\r\n2021-03-23T08:39:04.5271894Z .tox/py-test/lib/python3.10/site-packages/flask/app.py:1936: in dispatch_request\r\n2021-03-23T08:39:04.5272636Z     return self.view_functions[rule.endpoint](**req.view_args)\r\n2021-03-23T08:39:04.5273219Z beetsplug/web/__init__.py:146: in responder\r\n2021-03-23T08:39:04.5273799Z     return flask.jsonify(_rep(entities[0], expand=is_expand()))\r\n2021-03-23T08:39:04.5274334Z beetsplug/web/__init__.py:55: in _rep\r\n2021-03-23T08:39:04.5275476Z     out['size'] = os.path.getsize(util.syspath(obj.path))\r\n2021-03-23T08:39:04.5275977Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n2021-03-23T08:39:04.5276216Z \r\n2021-03-23T08:39:04.5276515Z filename = None\r\n2021-03-23T08:39:04.5276748Z \r\n2021-03-23T08:39:04.5277072Z     def getsize(filename):\r\n2021-03-23T08:39:04.5277566Z         \"\"\"Return the size of a file, reported by os.stat().\"\"\"\r\n2021-03-23T08:39:04.5278058Z >       return os.stat(filename).st_size\r\n2021-03-23T08:39:04.5278712Z E       TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType\r\n2021-03-23T08:39:04.5279167Z \r\n2021-03-23T08:39:04.5279958Z /opt/hostedtoolcache/Python/3.10.0-alpha.6/x64/lib/python3.10/genericpath.py:50: TypeError\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3898/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3880", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3880/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3880/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3880/events", "html_url": "https://github.com/beetbox/beets/issues/3880", "id": 830906335, "node_id": "MDU6SXNzdWU4MzA5MDYzMzU=", "number": 3880, "title": "mbsync: Double output", "user": {"login": "djl", "id": 11758, "node_id": "MDQ6VXNlcjExNzU4", "avatar_url": "https://avatars.githubusercontent.com/u/11758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djl", "html_url": "https://github.com/djl", "followers_url": "https://api.github.com/users/djl/followers", "following_url": "https://api.github.com/users/djl/following{/other_user}", "gists_url": "https://api.github.com/users/djl/gists{/gist_id}", "starred_url": "https://api.github.com/users/djl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djl/subscriptions", "organizations_url": "https://api.github.com/users/djl/orgs", "repos_url": "https://api.github.com/users/djl/repos", "events_url": "https://api.github.com/users/djl/events{/privacy}", "received_events_url": "https://api.github.com/users/djl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2021-03-13T14:06:43Z", "updated_at": "2021-03-18T17:01:34Z", "closed_at": "2021-03-18T17:01:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Recently the `mbsync` plugin has started to produce double output.\r\n ```\r\n$ beet mbsync -p black sabbath vol 4\r\nBlack Sabbath - Vol 4 - Wheels of Confusion\r\n  script:  -> Latn\r\n  language:  -> eng\r\n  script:  -> Latn\r\n  language:  -> eng\r\n\r\n...snip...\r\n\r\nBlack Sabbath - Vol 4 - Under the Sun\r\n  script:  -> Latn\r\n  language:  -> eng\r\n  script:  -> Latn\r\n  language:  -> eng\r\n```\r\n\r\nA quick `git bisect` reveals this was introduced in 72515448ad505ef0b73c0d0aa4aa424419b55755.\r\n\r\nIt looks like this could just be a cosmetic issue but I haven't had time to dive into the new code from #2988 to confirm yet.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3872", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3872/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3872/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3872/events", "html_url": "https://github.com/beetbox/beets/issues/3872", "id": 826802222, "node_id": "MDU6SXNzdWU4MjY4MDIyMjI=", "number": 3872, "title": "ReplayGain plugin modifies source files in copy mode", "user": {"login": "qak", "id": 32508894, "node_id": "MDQ6VXNlcjMyNTA4ODk0", "avatar_url": "https://avatars.githubusercontent.com/u/32508894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qak", "html_url": "https://github.com/qak", "followers_url": "https://api.github.com/users/qak/followers", "following_url": "https://api.github.com/users/qak/following{/other_user}", "gists_url": "https://api.github.com/users/qak/gists{/gist_id}", "starred_url": "https://api.github.com/users/qak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qak/subscriptions", "organizations_url": "https://api.github.com/users/qak/orgs", "repos_url": "https://api.github.com/users/qak/repos", "events_url": "https://api.github.com/users/qak/events{/privacy}", "received_events_url": "https://api.github.com/users/qak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2021-03-09T23:36:00Z", "updated_at": "2021-03-18T21:42:42Z", "closed_at": "2021-03-18T21:42:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nImporting music into the Beets library in copy mode with the ReplayGain plugin enabled causes the source files to be modified. The expected behaviour would be for Beets to only modify the files copied to the library and to keep the original files intact. For the purpose of this bug report I have reproduced the issue with the following config file:\r\n\r\n```yaml\r\ndirectory: ~/library\r\nui:\r\n  color: no\r\nplugins: replaygain\r\nreplaygain:\r\n  backend: ffmpeg\r\n```\r\n\r\nRunning command\r\n\r\n```sh\r\n$ beet -vv import \"source/Aphex Twin - Flim (Laughing Man edit).flac\"\r\n```\r\n\r\nresults in the following output:\r\n\r\n```\r\nuser configuration: /home/x/.config/beets/config.yaml\r\ndata directory: /home/x/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/x/.config/beets/library.db\r\nlibrary directory: /home/x/library\r\nSending event: library_opened\r\nSending event: import_begin\r\nSending event: import_task_created\r\nSending event: import_task_start\r\nLooking up: /home/x/source/Aphex Twin - Flim (Laughing Man edit).flac\r\nTagging Aphex Twin - Flim (Laughing Man Edit)\r\nNo album ID found.\r\nSearch terms: Aphex Twin - Flim (Laughing Man Edit)\r\nAlbum might be VA: False\r\nSearching for MusicBrainz releases with: {'release': 'flim (laughing man edit)', 'artist': 'aphex twin', 'tracks': '1'}\r\nRequesting MusicBrainz release 64006df9-ab6c-4b7d-a424-0dfd51ee8c74\r\nprimary MB release type: single\r\nsecondary MB release type(s): remix\r\nSending event: albuminfo_received\r\nCandidate: Aphex Twin - Flim (Laughing Man edit) (64006df9-ab6c-4b7d-a424-0dfd51ee8c74)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.00\r\nRequesting MusicBrainz release b26e7acb-1f99-4a28-a86c-e0ba67aa3b4e\r\nprimary MB release type: single\r\nSending event: albuminfo_received\r\nCandidate: Aphex Twin - Analogue Bubblebath (Dumb Dan edit) (b26e7acb-1f99-4a28-a86c-e0ba67aa3b4e)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.47\r\nRequesting MusicBrainz release 0ecef291-34ed-409f-9023-06c94644c5ce\r\nprimary MB release type: single\r\nSending event: albuminfo_received\r\nCandidate: Aphex Twin - MARCHROMT30a Edit 2b 96 (0ecef291-34ed-409f-9023-06c94644c5ce)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.56\r\nRequesting MusicBrainz release cce3f356-87e1-427f-8161-77e08498a7fe\r\nprimary MB release type: single\r\nSending event: albuminfo_received\r\nCandidate: Aphex Twin - MARCHROMT30a Edit 2b 96 (cce3f356-87e1-427f-8161-77e08498a7fe)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.56\r\nRequesting MusicBrainz release 9644eaec-48e8-43e4-84ea-3cfc123cd82f\r\nprimary MB release type: single\r\nsecondary MB release type(s): remix\r\nSending event: albuminfo_received\r\nCandidate: Aphex Twin - Windowlicker (Renaissance Man bootcut) (9644eaec-48e8-43e4-84ea-3cfc123cd82f)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.49\r\nEvaluating 5 candidates.\r\n\r\n/home/x/source/Aphex Twin - Flim (Laughing Man edit).flac (1 items)\r\nSending event: before_choose_candidate\r\nCorrecting tags from:\r\n    Aphex Twin - Flim (Laughing Man Edit)\r\nTo:\r\n    Aphex Twin - Flim (Laughing Man edit)\r\nURL:\r\n    https://musicbrainz.org/release/64006df9-ab6c-4b7d-a424-0dfd51ee8c74\r\n(Similarity: 100.0%) (Digital Media, 2018, XW, [none])\r\n * Flim (Laughing Man Edit) -> Flim (Laughing Man edit)\r\nSending event: import_task_choice\r\nSending event: import_task_apply\r\n0 of 1 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nreplaygain: analyzing Aphex Twin - Flim (Laughing Man edit)\r\nreplaygain: analyzing Aphex Twin - Flim (Laughing Man edit) - Flim (Laughing Man edit)\r\nreplaygain: executing ffmpeg -nostats -hide_banner -i /home/x/source/Aphex Twin - Flim (Laughing Man edit).flac -map a:0 -filter ebur128=peak=true -f null -\r\nreplaygain: Aphex Twin - Flim (Laughing Man edit) - Flim (Laughing Man edit): 3336 blocks over -19.9 LUFS\r\nreplaygain: Aphex Twin - Flim (Laughing Man edit) - Flim (Laughing Man edit): gain -8.3 LU, peak 1.1614486138403428\r\nreplaygain: [Item(id=1, path=b'/home/x/source/Aphex Twin - Flim (Laughing Man edit).flac', album_id=1, title='Flim (Laughing Man edit)', artist='Aphex Twin', artist_sort='Aphex Twin', artist_credit='Aphex Twin', album='Flim (Laughing Man edit)', albumartist='Aphex Twin', albumartist_sort='Aphex Twin', albumartist_credit='Aphex Twin', genre='', style='', discogs_albumid=0, discogs_artistid=0, discogs_labelid=0, lyricist='', composer='Richard D. James', composer_sort='James, Richard D.', work='Flim', mb_workid='f891d2f8-7737-31f9-8ef2-e6e54ebc3077', work_disambig='upbeat', arranger='', grouping='', year=2018, month=10, day=24, track=1, tracktotal=1, disc=1, disctotal=1, lyrics='', comments='https://soundcloud.com/1laughter/aphex-twin-flim-laughing-man-edit', bpm=0, comp=0, mb_trackid='30d6a7ab-3e9d-4334-b536-9e477e1bb255', mb_albumid='64006df9-ab6c-4b7d-a424-0dfd51ee8c74', mb_artistid='f22942a1-6f70-4f48-866e-238cb2308fbd', mb_albumartistid='f22942a1-6f70-4f48-866e-238cb2308fbd', mb_releasetrackid='85d08496-2b59-4ac6-9a93-a62135c017b0', trackdisambig='', albumtype='single', label='', acoustid_fingerprint='', acoustid_id='', mb_releasegroupid='0b69af77-959f-4204-a06b-fa62955fea25', asin='', catalognum='[none]', script='Latn', language='eng', country='XW', albumstatus='Bootleg', media='Digital Media', albumdisambig='', releasegroupdisambig='', disctitle='', encoder='Wave', rg_track_gain=None, rg_track_peak=None, rg_album_gain=None, rg_album_peak=None, r128_track_gain=None, r128_album_gain=None, original_year=2018, original_month=10, original_day=24, initial_key=None, length=351.08945578231294, bitrate=774128, format='FLAC', samplerate=44100, bitdepth=16, channels=2, mtime=0.0, added=1615330388.7175112, track_alt='1', data_source='MusicBrainz', artpath=None)]: gain -8.3 LU, peak 1.1614486138403428\r\nSending event: database_change\r\nreplaygain: applied track gain -8.3 LU, peak 1.1614486138403428 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.3 LU, peak 1.1614486138403428 of FS\r\nSending event: write\r\nSending event: after_write\r\nreplaygain: done analyzing Aphex Twin - Flim (Laughing Man edit) - Flim (Laughing Man edit)\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\nIf I undo all changes caused by the import, run\r\n\r\n```sh\r\n$ chmod 444 \"source/Aphex Twin - Flim (Laughing Man edit).flac\"\r\n```\r\n\r\nand import the music again using the same command, then the last few lines of the output change to the following:\r\n\r\n```\r\n[...]\r\nSending event: database_change\r\nreplaygain: applied track gain -8.3 LU, peak 1.1614486138403428 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.3 LU, peak 1.1614486138403428 of FS\r\nSending event: write\r\nerror writing /home/x/source/Aphex Twin - Flim (Laughing Man edit).flac: [Errno 13] Permission denied: b'/home/x/source/Aphex Twin - Flim (Laughing Man edit).flac'\r\nreplaygain: done analyzing Aphex Twin - Flim (Laughing Man edit) - Flim (Laughing Man edit)\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\nThe difference is the write error on line 7 of the above output. The issue stops happening after changing the config file to:\r\n\r\n```yaml\r\ndirectory: ~/library\r\nui:\r\n  color: no\r\nplugins: replaygain\r\nreplaygain:\r\n  auto: no\r\n  backend: ffmpeg\r\n```\r\n\r\nBelow is the output of\r\n\r\n```sh\r\n$ mediainfo \"source/Aphex Twin - Flim (Laughing Man edit).flac\"\r\n```\r\n\r\nbefore importing the file into Beets:\r\n\r\n```\r\nGeneral\r\nComplete name                            : source/Aphex Twin - Flim (Laughing Man edit).flac\r\nFormat                                   : FLAC\r\nFormat/Info                              : Free Lossless Audio Codec\r\nFile size                                : 32.4 MiB\r\nDuration                                 : 5 min 51 s\r\nOverall bit rate mode                    : Variable\r\nOverall bit rate                         : 775 kb/s\r\nAlbum                                    : Flim (Laughing Man Edit)\r\nAlbum/Performer                          : Aphex Twin\r\nTrack name                               : Flim (Laughing Man Edit)\r\nTrack name/Position                      : 1\r\nPerformer                                : Aphex Twin\r\nRecorded date                            : 2018\r\nWriting application                      : Wave\r\nCover                                    : Yes\r\nCover type                               : Cover (front)\r\nCover MIME                               : image/jpeg\r\nComment                                  : https://soundcloud.com/1laughter/aphex-twin-flim-laughing-man-edit\r\nencoder+                                 : Wave -compression=\"PCM\" -bits=\"16\" -freq=\"44100\"\r\n\r\nAudio\r\nFormat                                   : FLAC\r\nFormat/Info                              : Free Lossless Audio Codec\r\nDuration                                 : 5 min 51 s\r\nBit rate mode                            : Variable\r\nBit rate                                 : 774 kb/s\r\nChannel(s)                               : 2 channels\r\nChannel layout                           : L R\r\nSampling rate                            : 44.1 kHz\r\nBit depth                                : 16 bits\r\nCompression mode                         : Lossless\r\nStream size                              : 32.4 MiB (100%)\r\nWriting library                          : libFLAC 1.3.2 (UTC 2017-01-01)\r\n```\r\n\r\nAnd this is the output of the same command after the Beets import command mistakenly modifies it:\r\n\r\n```\r\nGeneral\r\nComplete name                            : source/Aphex Twin - Flim (Laughing Man edit).flac\r\nFormat                                   : FLAC\r\nFormat/Info                              : Free Lossless Audio Codec\r\nFile size                                : 32.5 MiB\r\nDuration                                 : 5 min 51 s\r\nOverall bit rate mode                    : Variable\r\nOverall bit rate                         : 776 kb/s\r\nAlbum replay gain                        : -8.30 dB\r\nAlbum replay gain peak                   : 1.161449\r\nAlbum                                    : Flim (Laughing Man edit)\r\nAlbum/Performer                          : Aphex Twin / Aphex Twin\r\nPart                                     : 1\r\nPart/Total                               : 1\r\nTrack name                               : Flim (Laughing Man edit)\r\nTrack name/Position                      : 1\r\nTrack name/Total                         : 1\r\nPerformer                                : Aphex Twin\r\nComposer                                 : Richard D. James\r\nEncoded by                               : Wave\r\nDescription                              : https://soundcloud.com/1laughter/aphex-twin-flim-laughing-man-edit\r\nRecorded date                            : 2018-10-24 / 2018\r\nWriting application                      : Wave\r\nBPM                                      : 0\r\nCover                                    : Yes\r\nCover type                               : Cover (front)\r\nCover MIME                               : image/jpeg\r\nComment                                  : https://soundcloud.com/1laughter/aphex-twin-flim-laughing-man-edit\r\nencoder+                                 : Wave -compression=\"PCM\" -bits=\"16\" -freq=\"44100\"\r\nALBUMARTIST_CREDIT                       : Aphex Twin\r\nALBUMARTISTSORT                          : Aphex Twin\r\nRELEASESTATUS                            : Bootleg\r\nMUSICBRAINZ_ALBUMSTATUS                  : Bootleg\r\nRELEASETYPE                              : single\r\nMUSICBRAINZ_ALBUMTYPE                    : single\r\nARTIST_CREDIT                            : Aphex Twin\r\nARTISTSORT                               : Aphex Twin\r\nCATALOGNUMBER                            : [none]\r\nCOMPILATION                              : 0\r\nCOMPOSERSORT                             : James, Richard D.\r\nRELEASECOUNTRY                           : XW\r\nDISCC                                    : 1\r\nMUSICBRAINZ_RELEASEGROUPID               : 0b69af77-959f-4204-a06b-fa62955fea25\r\nMUSICBRAINZ_RELEASETRACKID               : 85d08496-2b59-4ac6-9a93-a62135c017b0\r\nMUSICBRAINZ_WORKID                       : f891d2f8-7737-31f9-8ef2-e6e54ebc3077\r\nMEDIA                                    : Digital Media\r\nORIGINALDATE                             : 2018-10-24\r\nSCRIPT                                   : Latn\r\nTRACK                                    : 1\r\nTRACKC                                   : 1\r\n\r\nAudio\r\n[...]\r\n```\r\n\r\n### Setup\r\n\r\n* OS: GNU/Linux (Arch Linux)\r\n* Python version: Python 3.9.2\r\n* Beets version: debd382837ef1d30574c2234710d536bb299f979 (this is the latest version at the time of writing)", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3872/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3867", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3867/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3867/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3867/events", "html_url": "https://github.com/beetbox/beets/issues/3867", "id": 823763755, "node_id": "MDU6SXNzdWU4MjM3NjM3NTU=", "number": 3867, "title": "web: web page search box doesn't work for regex searches", "user": {"login": "GrahamCobb", "id": 104163, "node_id": "MDQ6VXNlcjEwNDE2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/104163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GrahamCobb", "html_url": "https://github.com/GrahamCobb", "followers_url": "https://api.github.com/users/GrahamCobb/followers", "following_url": "https://api.github.com/users/GrahamCobb/following{/other_user}", "gists_url": "https://api.github.com/users/GrahamCobb/gists{/gist_id}", "starred_url": "https://api.github.com/users/GrahamCobb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GrahamCobb/subscriptions", "organizations_url": "https://api.github.com/users/GrahamCobb/orgs", "repos_url": "https://api.github.com/users/GrahamCobb/repos", "events_url": "https://api.github.com/users/GrahamCobb/events{/privacy}", "received_events_url": "https://api.github.com/users/GrahamCobb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2021-03-06T22:29:17Z", "updated_at": "2021-03-11T01:36:04Z", "closed_at": "2021-03-11T01:36:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nThis is not a problem in the web API itself, but in the web pages which provide the simple web user interface.\r\n\r\nBringing up the web interface and entering a query such as ``somefield::.`` never returns any results.\r\nThe problem is that the web page ends up double URI encoding the search before passing it to GET /item/query.\r\n\r\nI have a fix (in `static/beets.js`) which I can submit once the current PR is done.\r\n\r\nHowever, I have no idea how to create a test for this as it would mean starting the webserver, submitting an HTTP request and checking the resulting (complex) HTML. Does anyone have any example of doing that in the beets pytest environment? I know very little python and nothing about pytest but I may be able to steal a similar test if one exists!\r\n\r\nEDIT: Actually, it is the last step - parsing and checking the resulting HTML which is hard (the rest is what the tests already do - but they are dealing with JSON responses, not HTML responses). Does anyone have any tools or examples of checking HTML responses? Or do I just do some simple string searches and hope nothing changes too much to change the page in the future?", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3867/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3852", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3852/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3852/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3852/events", "html_url": "https://github.com/beetbox/beets/issues/3852", "id": 803972774, "node_id": "MDU6SXNzdWU4MDM5NzI3NzQ=", "number": 3852, "title": "%ifdef does not work on flexattr fields with int or float", "user": {"login": "wazabees", "id": 14857141, "node_id": "MDQ6VXNlcjE0ODU3MTQx", "avatar_url": "https://avatars.githubusercontent.com/u/14857141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wazabees", "html_url": "https://github.com/wazabees", "followers_url": "https://api.github.com/users/wazabees/followers", "following_url": "https://api.github.com/users/wazabees/following{/other_user}", "gists_url": "https://api.github.com/users/wazabees/gists{/gist_id}", "starred_url": "https://api.github.com/users/wazabees/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wazabees/subscriptions", "organizations_url": "https://api.github.com/users/wazabees/orgs", "repos_url": "https://api.github.com/users/wazabees/repos", "events_url": "https://api.github.com/users/wazabees/events{/privacy}", "received_events_url": "https://api.github.com/users/wazabees/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-02-08T21:13:09Z", "updated_at": "2021-06-17T15:12:45Z", "closed_at": "2021-06-17T15:12:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\nIf I try `beet ls -a -f '$albumartist - (%if{$original_year,$original_year,$year}) - $album%ifdef{albumdisambig, (%title{$albumdisambig}),}%ifdef{albumrating, ($albumrating),}' year:2021` then beets will return the album rating for the albums that has the field defined. For albums without the rating, `$albumrating` is returned.\r\n\r\nExample:\r\n```\r\nArtist1 - (2021) - Albumname1 (2.0)\r\nArtist2 - (2021) - Albumname2 ($albumrating)\r\n```\r\n\r\nFurther information on the forum:\r\nhttps://discourse.beets.io/t/album-rating-as-a-flexible-attribute-in-5-increments/1687/3\r\n\r\nComment from adrian:\r\n_reading over the implementation of %ifdef, I can see now how it would be confused about types with a default value. That is, int or float fields will produce a '0' string for unset values through the formatter, which gets interpreted as non-missing. We clearly need better logic for this._\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* beets version 1.5.0\r\n* Python version 3.9.1\r\n* plugins: edit, extrafiles, fetchart, importadded, importfeeds, info, inline, lastimport, mbcollection, mbsync, mpdstats, mpdupdate, originquery, scrub, smartplaylist, types, zero\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3852/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3834", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3834/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3834/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3834/events", "html_url": "https://github.com/beetbox/beets/issues/3834", "id": 785448550, "node_id": "MDU6SXNzdWU3ODU0NDg1NTA=", "number": 3834, "title": "chroma: Submission fails if fingerprint already exists", "user": {"login": "johnhamelink", "id": 101739, "node_id": "MDQ6VXNlcjEwMTczOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/101739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnhamelink", "html_url": "https://github.com/johnhamelink", "followers_url": "https://api.github.com/users/johnhamelink/followers", "following_url": "https://api.github.com/users/johnhamelink/following{/other_user}", "gists_url": "https://api.github.com/users/johnhamelink/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnhamelink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnhamelink/subscriptions", "organizations_url": "https://api.github.com/users/johnhamelink/orgs", "repos_url": "https://api.github.com/users/johnhamelink/repos", "events_url": "https://api.github.com/users/johnhamelink/events{/privacy}", "received_events_url": "https://api.github.com/users/johnhamelink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2021-01-13T20:51:43Z", "updated_at": "2021-01-20T12:36:15Z", "closed_at": "2021-01-20T12:36:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\nHi there,\r\n\r\n\r\n\r\n\r\n### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet fingerprint # This works fine\r\n$ beet -vv submit\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n<snip>\r\nchroma: /run/media/john/pool/Music/John Zorn/The Big Gundown_ John Zorn Plays the Music of Ennio Morricone/02 Peur sur la ville.flac: fingerprint exists, skipping\r\nchroma: submitting MBID                                                                                                                                                                                              \r\nchroma: /run/media/john/pool/Music/John Zorn/The Big Gundown_ John Zorn Plays the Music of Ennio Morricone/03 Poverty (Once Upon a Time in America).flac: fingerprint exists, skipping\r\nchroma: submitting MBID\r\nchroma: submitting 64 fingerprints\r\nchroma: acoustid submission error: error 2: missing required parameter \"fingerprint\"  \r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): N/A, happens for each batch of IDs in my library, no IDs are submitted\r\n\r\n\r\n### Setup\r\n\r\n* OS: Arch linux\r\n* Python version: Python 3.9.1 (default, Dec 13 2020, 11:55:53) \r\n* beets version:\r\n```\r\nbeets version 1.5.0                                                                                                                                                                                                 \r\nPython version 3.9.1                                                                                                                                                                                                \r\nplugins: badfiles, chroma, fetchart, ftintitle, missing, the, zero \r\n```\r\n\r\n```\r\n\u276f yay -Qi beets\r\nName            : beets\r\nVersion         : 1.4.9.r1031.cbc045f1c-1\r\nDescription     : Flexible music library manager and tagger\r\nArchitecture    : any\r\nURL             : https://beets.io/\r\nLicenses        : MIT\r\nGroups          : None\r\nProvides        : None\r\nDepends On      : python-confuse  python-jellyfish  python-mediafile  python-munkres  python-musicbrainzngs  python-setuptools  python-six  python-unidecode  python-yaml\r\nOptional Deps   : bash-completion: Bash completion\r\n                  bs1770gain: ReplayGain plugin [installed]\r\n                  chromaprint: Chromaprint/Acoustid plugin [installed]\r\n                  ffmpeg: Convert, ReplayGain plugins [installed]\r\n                  gst-plugins-bad: Chromaprint/Acoustid, BPD, ReplayGain plugins [installed]\r\n                  gst-plugins-good: Chromaprint/Acoustid, BPD, ReplayGain plugins [installed]\r\n                  gst-plugins-ugly: Chromaprint/Acoustid, BPD, ReplayGain plugins [installed]\r\n                  gst-libav: Chromaprint/Acoustid, BPD, ReplayGain plugins [installed]\r\n                  gst-python: Chromaprint/Acoustid, BPD, ReplayGain plugins [installed]\r\n                  imagemagick: Thumbnails plugin [installed]\r\n                  python-beautifulsoup4: Lyrics plugin [installed]\r\n                  python-flask: Web plugin [installed]\r\n                  python-gobject: ReplayGain plugin [installed]\r\n                  python-mpd2: MPDStats plugin\r\n                  python-pyacoustid: Chromaprint/Acoustid plugin [installed]\r\n                  python-pylast: LastGenre plugin [installed]\r\n                  python-requests: Chromaprint/Acoustid, BPD, FetchArt plugins [installed]\r\n                  python-xdg: Thumbnails plugin [installed]\r\nRequired By     : None\r\nOptional For    : None\r\nConflicts With  : None\r\nReplaces        : None\r\nInstalled Size  : 3.37 MiB\r\nPackager        : Maxime Gauduin <alucryd@archlinux.org>\r\nBuild Date      : Wed 13 Jan 2021 02:39:44 PM GMT\r\nInstall Date    : Wed 13 Jan 2021 05:58:32 PM GMT\r\nInstall Reason  : Explicitly installed\r\nInstall Script  : No\r\nValidated By    : Signature\r\n```\r\n* Turning off plugins made problem go away (yes/no): No (obviously while keeping chroma on)\r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /run/media/john/pool/Music\r\nlibrary: ~/.config/beets/library.db\r\nimport:\r\n        move: yes\r\nplugins: fetchart chroma ftintitle missing zero badfiles the\r\nacoustid:\r\n        apikey: <redacted>\r\nzero:\r\n        fields: comments\r\n        update_database: true\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3834/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3815", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3815/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3815/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3815/events", "html_url": "https://github.com/beetbox/beets/issues/3815", "id": 771462024, "node_id": "MDU6SXNzdWU3NzE0NjIwMjQ=", "number": 3815, "title": "Replaygain: metadata doesn't get written to file on import with parallelized backends.", "user": {"login": "skapazzo", "id": 11250165, "node_id": "MDQ6VXNlcjExMjUwMTY1", "avatar_url": "https://avatars.githubusercontent.com/u/11250165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skapazzo", "html_url": "https://github.com/skapazzo", "followers_url": "https://api.github.com/users/skapazzo/followers", "following_url": "https://api.github.com/users/skapazzo/following{/other_user}", "gists_url": "https://api.github.com/users/skapazzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/skapazzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skapazzo/subscriptions", "organizations_url": "https://api.github.com/users/skapazzo/orgs", "repos_url": "https://api.github.com/users/skapazzo/repos", "events_url": "https://api.github.com/users/skapazzo/events{/privacy}", "received_events_url": "https://api.github.com/users/skapazzo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-12-19T21:50:21Z", "updated_at": "2020-12-21T13:48:04Z", "closed_at": "2020-12-21T13:48:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\nIf I import files with `replaygain: auto: yes` and any backend that has `do_parallel = True` replaygain values get calculated and saved in the db but not written to the files.\r\nThis seems to be introduced with: https://github.com/beetbox/beets/pull/3478\r\n\r\nIf I set `do_parallel = False` for the backend I'm using the metadata gets written as expected; setting `threads = 0` doesn't help.\r\n\r\n### Setup\r\n\r\n* OS: Slackware current (linux)\r\n* Python version: 3.8.6\r\n* beets version: git master (commit 48222153ae4b4409584085491a446ba972a45a07 from Dec 16, 2020 installed in a virtualenv)\r\n\r\n### Results of some of my tests:\r\n\r\nRunning:\r\n\r\n```sh\r\n$ beet -vv -c /tmp/beetsTest/config.yaml import /tmp/beetsTest/music/todo/\r\n```\r\n\r\nwith this config:\r\n```YAML\r\nlibrary: /tmp/beetsTest/beets.db\r\ndirectory: /tmp/beetsTest/music/done\r\nplugins: [replaygain]\r\nreplaygain:\r\n    auto: yes\r\n    backend: command\r\n```\r\n\r\nprinted this:\r\n<details>\r\n  <summary>click for full log</summary>\r\n\r\n```\r\nbeet -vv -c /tmp/beetsTest/config.yaml import /tmp/beetsTest/music/todo/\r\noverlaying configuration: /tmp/beetsTest/config.yaml\r\nno user configuration found at /home/[redacted]/.config/beets/config.yaml\r\ndata directory: /home/[redacted]/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /tmp/beetsTest/beets.db\r\nlibrary directory: /tmp/beetsTest/music/done\r\nSending event: library_opened\r\nSending event: import_begin\r\nSending event: import_task_created\r\nSending event: import_task_start\r\nLooking up: /tmp/beetsTest/music/todo/2008 - Occidente\r\nTagging Rein - Occidente\r\nNo album ID found.\r\nSearch terms: Rein - Occidente\r\nAlbum might be VA: False\r\nSearching for MusicBrainz releases with: {'release': 'occidente', 'artist': 'rein', 'tracks': '20'}\r\nRequesting MusicBrainz release 3f68a1bf-810e-4c38-bf3e-7261373e347f\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Rein - Occidente (3f68a1bf-810e-4c38-bf3e-7261373e347f)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.00\r\nRequesting MusicBrainz release f582c8c5-e9b4-4f82-aebb-80ef23b64b2f\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Rein - Occidente (f582c8c5-e9b4-4f82-aebb-80ef23b64b2f)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.01\r\nRequesting MusicBrainz release f16a971f-7024-42ef-a50c-9a098d805454\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: D\u00e9cadence Culture - Occidente (f16a971f-7024-42ef-a50c-9a098d805454)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.65\r\nRequesting MusicBrainz release bb4d0b05-044f-4401-819a-76b7a3e21276\r\nprimary MB release type: ep\r\nSending event: albuminfo_received\r\nCandidate: Amor Elefante - Occidente (bb4d0b05-044f-4401-819a-76b7a3e21276)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.69\r\nRequesting MusicBrainz release dd20055e-3fb2-44ec-925d-5752e9f052b5\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Francesco Messina - Medio occidente (dd20055e-3fb2-44ec-925d-5752e9f052b5)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.64\r\nEvaluating 5 candidates.\r\n\r\n/tmp/beetsTest/music/todo/2008 - Occidente (20 items)\r\nSending event: before_choose_candidate\r\nTagging:\r\n    Rein - Occidente\r\nURL:\r\n    https://musicbrainz.org/release/3f68a1bf-810e-4c38-bf3e-7261373e347f\r\n(Similarity: 100.0%) (Digital Media, 2008, XW, Jamendo, 26737)\r\n * 150 Sprint Veloce                -> 150 sprint veloce\r\n * Canzone dell'Irlanda Occidentale -> Canzone dell'Irlanda occidentale\r\nSending event: import_task_choice\r\nSending event: import_task_apply\r\n0 of 20 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nreplaygain: analyzing Rein - Occidente\r\nreplaygain: analyzing 20 files\r\nreplaygain: executing mp3gain -o -s s -k -d 0 /tmp/beetsTest/music/todo/2008 - Occidente/01 - Occidente.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/02 - Sud (#2).mp3 /tmp/beetsTest/music/todo/2008 - Occidente/03 - 150 Sprint Veloce.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/04 - Il deserto di Piero.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/05 - La canzone di Diana.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/06 - Est.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/07 - 4 e mezza.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/08 - Settembre (#3).mp3 /tmp/beetsTest/music/todo/2008 - Occidente/09 - Il ponte di Mostar.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/10 - Genova.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/11 - Grandtour.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/12 - Canzone dell'Irlanda Occidentale.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/13 - Boulevard Montvert.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/14 - Verso San Paolo.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/15 - Sud America.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/16 - Discorsi a vapore.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/17 - I tram di Roma.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/18 - Il ventesimo giorno.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/19 - Il ricordo delle tue mani.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/20 - L'epilogo.mp3\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: album_imported\r\nSending event: import\r\nreplaygain: analysis finished\r\nSending event: database_change\r\nreplaygain: applied track gain -7.43 LU, peak 1.0611455440673827 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Occidente\r\nSending event: database_change\r\nreplaygain: applied track gain -8.55 LU, peak 1.081569075592041 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Sud (#2)\r\nSending event: database_change\r\nreplaygain: applied track gain -8.59 LU, peak 1.1010917425231934 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - 150 sprint veloce\r\nSending event: database_change\r\nreplaygain: applied track gain -6.99 LU, peak 1.1057721376342773 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il deserto di Piero\r\nSending event: database_change\r\nreplaygain: applied track gain -5.26 LU, peak 1.0462921857910157 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - La canzone di Diana\r\nSending event: database_change\r\nreplaygain: applied track gain -9.18 LU, peak 1.1384513378295897 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Est\r\nSending event: database_change\r\nreplaygain: applied track gain -6.27 LU, peak 1.0573697090148926 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - 4 e mezza\r\nSending event: database_change\r\nreplaygain: applied track gain -7.77 LU, peak 1.0880013704223632 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Settembre (#3)\r\nSending event: database_change\r\nreplaygain: applied track gain -8.16 LU, peak 1.0979830026550292 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ponte di Mostar\r\nSending event: database_change\r\nreplaygain: applied track gain -6.97 LU, peak 1.1099706888122558 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Genova\r\nSending event: database_change\r\nreplaygain: applied track gain -9.54 LU, peak 1.1197123527526855 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Grandtour\r\nSending event: database_change\r\nreplaygain: applied track gain -8.79 LU, peak 1.121659755706787 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Canzone dell'Irlanda occidentale\r\nSending event: database_change\r\nreplaygain: applied track gain -6.99 LU, peak 1.0953476428833009 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Boulevard Montvert\r\nSending event: database_change\r\nreplaygain: applied track gain -7.19 LU, peak 1.1417335271911622 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Verso San Paolo\r\nSending event: database_change\r\nreplaygain: applied track gain -8.04 LU, peak 1.0737806558532714 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Sud America\r\nSending event: database_change\r\nreplaygain: applied track gain -7.6 LU, peak 1.1297643184814452 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Discorsi a vapore\r\nSending event: database_change\r\nreplaygain: applied track gain -8.46 LU, peak 1.0834281444702147 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - I tram di Roma\r\nSending event: database_change\r\nreplaygain: applied track gain -8.55 LU, peak 1.0834854841308594 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ventesimo giorno\r\nSending event: database_change\r\nreplaygain: applied track gain -2.35 LU, peak 0.6327679157104492 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ricordo delle tue mani\r\nSending event: database_change\r\nreplaygain: applied track gain -7.98 LU, peak 1.1390141248779297 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - L'epilogo\r\nSending event: cli_exit\r\n```\r\n\r\n</details>\r\n\r\n\r\nThis gives me files with these id3 tags:\r\n\r\n```\r\n$ mid3v2 01*.mp3\r\n\r\nIDv2 tag info for 01 Occidente.mp3\r\nAPIC=cover front, Rein : Occidente (image/jpg, 39765 bytes)\r\nAPIC=lyricist, http://www.jamendo.com (image/png, 6889 bytes)\r\nAPIC=other, http://creativecommons.org/licenses/by-nc-nd/2.5/it/ (image/png, 5281 bytes)\r\nTALB=Occidente\r\nTBPM=0\r\nTCMP=0\r\nTCON=Blues\r\nTDEN=2008-06-12\r\nTDOR=2008-05-03\r\nTDRC=2008-06-13\r\nTIPL=[unrepresentable data]\r\nTIT2=Occidente\r\nTLAN=ita\r\nTLEN=210000\r\nTMED=Digital Media\r\nTOFN= - Occidente.mp3\r\nTPE1=Rein\r\nTPE2=Rein\r\nTPOS=1/1\r\nTPUB=Jamendo\r\nTRCK=1/20\r\nTSOP=Rein\r\nTXXX=ALBUMARTISTSORT=Rein\r\nTXXX=Album Artist Credit=Rein\r\nTXXX=Artist Credit=Rein\r\nTXXX=CATALOGNUMBER=26737\r\nTXXX=MusicBrainz Album Artist Id=20bf0e88-c49d-4bcd-b3d9-61cff97f29d8\r\nTXXX=MusicBrainz Album Id=3f68a1bf-810e-4c38-bf3e-7261373e347f\r\nTXXX=MusicBrainz Album Release Country=XW\r\nTXXX=MusicBrainz Album Status=Official\r\nTXXX=MusicBrainz Album Type=album\r\nTXXX=MusicBrainz Artist Id=20bf0e88-c49d-4bcd-b3d9-61cff97f29d8\r\nTXXX=MusicBrainz Release Group Id=59f2ab57-e144-32db-88d5-b52ca4af9eb3\r\nTXXX=MusicBrainz Release Track Id=c7269ba8-69e7-342c-b5b2-3acc8ac09c02\r\nTXXX=Script=Latn\r\nUFID=http://musicbrainz.org=b'baec891b-ffe0-4e15-a092-9988d81bc761'\r\nUFID=jamendo.com/track/179569=b''\r\nUSLT==XXX=\r\n```\r\nI can then execute\r\n```\r\n$ beet -vv -c /tmp/beetsTest/config.yaml write Occidente\r\n```\r\n<details>\r\n  <summary>click for full log</summary>\r\n\r\n```\r\noverlaying configuration: /tmp/beetsTest/config.yaml\r\nno user configuration found at /home/[redacted]/.config/beets/config.yaml\r\ndata directory: /home/[redacted]/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /tmp/beetsTest/beets.db\r\nlibrary directory: /tmp/beetsTest/music/done\r\nSending event: library_opened\r\nRein - Occidente - Occidente\r\n  rg_track_gain: 0.0 -> -7.4\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Sud (#2)\r\n  rg_track_gain: 0.0 -> -8.6\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - 150 sprint veloce\r\n  rg_track_gain: 0.0 -> -8.6\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Il deserto di Piero\r\n  rg_track_gain: 0.0 -> -7.0\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - La canzone di Diana\r\n  rg_track_gain: 0.0 -> -5.3\r\n  rg_track_peak: 0.0 -> 1.0\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Est\r\n  rg_track_gain: 0.0 -> -9.2\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - 4 e mezza\r\n  rg_track_gain: 0.0 -> -6.3\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Settembre (#3)\r\n  rg_track_gain: 0.0 -> -7.8\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Il ponte di Mostar\r\n  rg_track_gain: 0.0 -> -8.2\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Genova\r\n  rg_track_gain: 0.0 -> -7.0\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Grandtour\r\n  rg_track_gain: 0.0 -> -9.5\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Canzone dell'Irlanda occidentale\r\n  rg_track_gain: 0.0 -> -8.8\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Boulevard Montvert\r\n  rg_track_gain: 0.0 -> -7.0\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Verso San Paolo\r\n  rg_track_gain: 0.0 -> -7.2\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Sud America\r\n  rg_track_gain: 0.0 -> -8.0\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Discorsi a vapore\r\n  rg_track_gain: 0.0 -> -7.6\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - I tram di Roma\r\n  rg_track_gain: 0.0 -> -8.5\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Il ventesimo giorno\r\n  rg_track_gain: 0.0 -> -8.6\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - Il ricordo delle tue mani\r\n  rg_track_gain: 0.0 -> -2.4\r\n  rg_track_peak: 0.0 -> 0.6\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nRein - Occidente - L'epilogo\r\n  rg_track_gain: 0.0 -> -8.0\r\n  rg_track_peak: 0.0 -> 1.1\r\n  rg_album_gain: 0.0 -> -8.2\r\n  rg_album_peak: 0.0 -> 1.1\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: cli_exit\r\n```\r\n</details>\r\n\r\nThe result is files like this:\r\n```\r\n$ mid3v2 01*.mp3\r\n\r\nIDv2 tag info for 01 Occidente.mp3\r\nAPIC=cover front, Rein : Occidente (image/jpg, 39765 bytes)\r\nAPIC=lyricist, http://www.jamendo.com (image/png, 6889 bytes)\r\nAPIC=other, http://creativecommons.org/licenses/by-nc-nd/2.5/it/ (image/png, 5281 bytes)\r\nCOMM=iTunNORM=eng= 0000159E 0000159E 0000360A 0000360A 00000000 00000000 000087D3 000087D3 00000000 00000000\r\nTALB=Occidente\r\nTBPM=0\r\nTCMP=0\r\nTCON=Blues\r\nTDEN=2008-06-12\r\nTDOR=2008-05-03\r\nTDRC=2008-06-13\r\nTIPL=[unrepresentable data]\r\nTIT2=Occidente\r\nTLAN=ita\r\nTLEN=210000\r\nTMED=Digital Media\r\nTOFN= - Occidente.mp3\r\nTPE1=Rein\r\nTPE2=Rein\r\nTPOS=1/1\r\nTPUB=Jamendo\r\nTRCK=1/20\r\nTSOP=Rein\r\nTXXX=ALBUMARTISTSORT=Rein\r\nTXXX=Album Artist Credit=Rein\r\nTXXX=Artist Credit=Rein\r\nTXXX=CATALOGNUMBER=26737\r\nTXXX=MusicBrainz Album Artist Id=20bf0e88-c49d-4bcd-b3d9-61cff97f29d8\r\nTXXX=MusicBrainz Album Id=3f68a1bf-810e-4c38-bf3e-7261373e347f\r\nTXXX=MusicBrainz Album Release Country=XW\r\nTXXX=MusicBrainz Album Status=Official\r\nTXXX=MusicBrainz Album Type=album\r\nTXXX=MusicBrainz Artist Id=20bf0e88-c49d-4bcd-b3d9-61cff97f29d8\r\nTXXX=MusicBrainz Release Group Id=59f2ab57-e144-32db-88d5-b52ca4af9eb3\r\nTXXX=MusicBrainz Release Track Id=c7269ba8-69e7-342c-b5b2-3acc8ac09c02\r\nTXXX=REPLAYGAIN_ALBUM_GAIN=-8.17 dB\r\nTXXX=REPLAYGAIN_ALBUM_PEAK=1.141734\r\nTXXX=REPLAYGAIN_TRACK_GAIN=-7.43 dB\r\nTXXX=REPLAYGAIN_TRACK_PEAK=1.061146\r\nTXXX=Script=Latn\r\nUFID=http://musicbrainz.org=b'baec891b-ffe0-4e15-a092-9988d81bc761'\r\nUFID=jamendo.com/track/179569=b''\r\nUSLT==XXX=\r\n```\r\n\r\n\r\n\r\nIf I modify beetsplug/replaygain.py thus:\r\n```\r\n--- replaygain.py\t2020-12-19 22:21:57.379579391 +0100\r\n+++ replaygain.py_\t2020-12-19 22:21:18.627580000 +0100\r\n@@ -631,7 +631,7 @@\r\n \r\n # mpgain/aacgain CLI tool backend.\r\n class CommandBackend(Backend):\r\n-    do_parallel = True\r\n+    do_parallel = False\r\n \r\n     def __init__(self, config, log):\r\n         super(CommandBackend, self).__init__(config, log)\r\n```\r\nThe resulting files are ok.\r\n\r\n<details>\r\n  <summary>click for more details</summary>\r\n\r\n```\r\n$  beet -vv -c /tmp/beetsTest/config.yaml import /tmp/beetsTest/music/todo/\r\n\r\noverlaying configuration: /tmp/beetsTest/config.yaml\r\nno user configuration found at /home/skapazzo/.config/beets/config.yaml\r\ndata directory: /home/skapazzo/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /tmp/beetsTest/beets.db\r\nlibrary directory: /tmp/beetsTest/music/done\r\nSending event: library_opened\r\nSending event: import_begin\r\nSending event: import_task_created\r\nSending event: import_task_start\r\nLooking up: /tmp/beetsTest/music/todo/2008 - Occidente\r\nTagging Rein - Occidente\r\nNo album ID found.\r\nSearch terms: Rein - Occidente\r\nAlbum might be VA: False\r\nSearching for MusicBrainz releases with: {'release': 'occidente', 'artist': 'rein', 'tracks': '20'}\r\nRequesting MusicBrainz release 3f68a1bf-810e-4c38-bf3e-7261373e347f\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Rein - Occidente (3f68a1bf-810e-4c38-bf3e-7261373e347f)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.00\r\nRequesting MusicBrainz release f582c8c5-e9b4-4f82-aebb-80ef23b64b2f\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Rein - Occidente (f582c8c5-e9b4-4f82-aebb-80ef23b64b2f)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.01\r\nRequesting MusicBrainz release f16a971f-7024-42ef-a50c-9a098d805454\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: D\u00e9cadence Culture - Occidente (f16a971f-7024-42ef-a50c-9a098d805454)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.65\r\nRequesting MusicBrainz release bb4d0b05-044f-4401-819a-76b7a3e21276\r\nprimary MB release type: ep\r\nSending event: albuminfo_received\r\nCandidate: Amor Elefante - Occidente (bb4d0b05-044f-4401-819a-76b7a3e21276)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.69\r\nRequesting MusicBrainz release dd20055e-3fb2-44ec-925d-5752e9f052b5\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Francesco Messina - Medio occidente (dd20055e-3fb2-44ec-925d-5752e9f052b5)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.64\r\nEvaluating 5 candidates.\r\n\r\n/tmp/beetsTest/music/todo/2008 - Occidente (20 items)\r\nSending event: before_choose_candidate\r\nTagging:\r\n    Rein - Occidente\r\nURL:\r\n    https://musicbrainz.org/release/3f68a1bf-810e-4c38-bf3e-7261373e347f\r\n(Similarity: 100.0%) (Digital Media, 2008, XW, Jamendo, 26737)\r\n * 150 Sprint Veloce                -> 150 sprint veloce\r\n * Canzone dell'Irlanda Occidentale -> Canzone dell'Irlanda occidentale\r\nSending event: import_task_choice\r\nSending event: import_task_apply\r\n0 of 20 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nreplaygain: analyzing Rein - Occidente\r\nreplaygain: analyzing 20 files\r\nreplaygain: executing mp3gain -o -s s -k -d 0 /tmp/beetsTest/music/todo/2008 - Occidente/01 - Occidente.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/02 - Sud (#2).mp3 /tmp/beetsTest/music/todo/2008 - Occidente/03 - 150 Sprint Veloce.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/04 - Il deserto di Piero.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/05 - La canzone di Diana.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/06 - Est.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/07 - 4 e mezza.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/08 - Settembre (#3).mp3 /tmp/beetsTest/music/todo/2008 - Occidente/09 - Il ponte di Mostar.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/10 - Genova.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/11 - Grandtour.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/12 - Canzone dell'Irlanda Occidentale.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/13 - Boulevard Montvert.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/14 - Verso San Paolo.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/15 - Sud America.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/16 - Discorsi a vapore.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/17 - I tram di Roma.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/18 - Il ventesimo giorno.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/19 - Il ricordo delle tue mani.mp3 /tmp/beetsTest/music/todo/2008 - Occidente/20 - L'epilogo.mp3\r\nreplaygain: analysis finished\r\nSending event: database_change\r\nreplaygain: applied track gain -7.43 LU, peak 1.0611455440673827 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Occidente\r\nSending event: database_change\r\nreplaygain: applied track gain -8.55 LU, peak 1.081569075592041 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Sud (#2)\r\nSending event: database_change\r\nreplaygain: applied track gain -8.59 LU, peak 1.1010917425231934 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - 150 sprint veloce\r\nSending event: database_change\r\nreplaygain: applied track gain -6.99 LU, peak 1.1057721376342773 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il deserto di Piero\r\nSending event: database_change\r\nreplaygain: applied track gain -5.26 LU, peak 1.0462921857910157 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - La canzone di Diana\r\nSending event: database_change\r\nreplaygain: applied track gain -9.18 LU, peak 1.1384513378295897 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Est\r\nSending event: database_change\r\nreplaygain: applied track gain -6.27 LU, peak 1.0573697090148926 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - 4 e mezza\r\nSending event: database_change\r\nreplaygain: applied track gain -7.77 LU, peak 1.0880013704223632 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Settembre (#3)\r\nSending event: database_change\r\nreplaygain: applied track gain -8.16 LU, peak 1.0979830026550292 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ponte di Mostar\r\nSending event: database_change\r\nreplaygain: applied track gain -6.97 LU, peak 1.1099706888122558 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Genova\r\nSending event: database_change\r\nreplaygain: applied track gain -9.54 LU, peak 1.1197123527526855 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Grandtour\r\nSending event: database_change\r\nreplaygain: applied track gain -8.79 LU, peak 1.121659755706787 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Canzone dell'Irlanda occidentale\r\nSending event: database_change\r\nreplaygain: applied track gain -6.99 LU, peak 1.0953476428833009 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Boulevard Montvert\r\nSending event: database_change\r\nreplaygain: applied track gain -7.19 LU, peak 1.1417335271911622 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Verso San Paolo\r\nSending event: database_change\r\nreplaygain: applied track gain -8.04 LU, peak 1.0737806558532714 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Sud America\r\nSending event: database_change\r\nreplaygain: applied track gain -7.6 LU, peak 1.1297643184814452 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Discorsi a vapore\r\nSending event: database_change\r\nreplaygain: applied track gain -8.46 LU, peak 1.0834281444702147 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - I tram di Roma\r\nSending event: database_change\r\nreplaygain: applied track gain -8.55 LU, peak 1.0834854841308594 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ventesimo giorno\r\nSending event: database_change\r\nreplaygain: applied track gain -2.35 LU, peak 0.6327679157104492 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ricordo delle tue mani\r\nSending event: database_change\r\nreplaygain: applied track gain -7.98 LU, peak 1.1390141248779297 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -8.17 LU, peak 1.1417335271911622 of FS\r\nreplaygain: done analyzing Rein - Occidente - L'epilogo\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\n</details>\r\n\r\nIf instead I use a backend without parallelization `backend: gstreamer` the resulting files are also ok:\r\n\r\n<details>\r\n  <summary>click for more details</summary>\r\n\r\n```\r\n$ beet -vv -c /tmp/beetsTest/config.yaml import /tmp/beetsTest/music/todo/\r\n\r\noverlaying configuration: /tmp/beetsTest/config.yaml\r\nno user configuration found at /home/[redacted]/.config/beets/config.yaml\r\ndata directory: /home/[redacted]/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /tmp/beetsTest/beets.db\r\nlibrary directory: /tmp/beetsTest/music/done\r\nSending event: library_opened\r\nSending event: import_begin\r\nSending event: import_task_created\r\nSending event: import_task_start\r\nLooking up: /tmp/beetsTest/music/todo/2008 - Occidente\r\nTagging Rein - Occidente\r\nNo album ID found.\r\nSearch terms: Rein - Occidente\r\nAlbum might be VA: False\r\nSearching for MusicBrainz releases with: {'release': 'occidente', 'artist': 'rein', 'tracks': '20'}\r\nRequesting MusicBrainz release 3f68a1bf-810e-4c38-bf3e-7261373e347f\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Rein - Occidente (3f68a1bf-810e-4c38-bf3e-7261373e347f)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.00\r\nRequesting MusicBrainz release f582c8c5-e9b4-4f82-aebb-80ef23b64b2f\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Rein - Occidente (f582c8c5-e9b4-4f82-aebb-80ef23b64b2f)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.01\r\nRequesting MusicBrainz release bb4d0b05-044f-4401-819a-76b7a3e21276\r\nprimary MB release type: ep\r\nSending event: albuminfo_received\r\nCandidate: Amor Elefante - Occidente (bb4d0b05-044f-4401-819a-76b7a3e21276)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.69\r\nRequesting MusicBrainz release f16a971f-7024-42ef-a50c-9a098d805454\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: D\u00e9cadence Culture - Occidente (f16a971f-7024-42ef-a50c-9a098d805454)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.65\r\nRequesting MusicBrainz release dd20055e-3fb2-44ec-925d-5752e9f052b5\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Francesco Messina - Medio occidente (dd20055e-3fb2-44ec-925d-5752e9f052b5)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.64\r\nEvaluating 5 candidates.\r\n\r\n/tmp/beetsTest/music/todo/2008 - Occidente (20 items)\r\nSending event: before_choose_candidate\r\nTagging:\r\n    Rein - Occidente\r\nURL:\r\n    https://musicbrainz.org/release/3f68a1bf-810e-4c38-bf3e-7261373e347f\r\n(Similarity: 100.0%) (Digital Media, 2008, XW, Jamendo, 26737)\r\n * 150 Sprint Veloce                -> 150 sprint veloce\r\n * Canzone dell'Irlanda Occidentale -> Canzone dell'Irlanda occidentale\r\nSending event: import_task_choice\r\nSending event: import_task_apply\r\n0 of 20 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nreplaygain: analyzing Rein - Occidente\r\nSending event: database_change\r\nreplaygain: applied track gain -7.440000000000012 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Occidente\r\nSending event: database_change\r\nreplaygain: applied track gain -8.600000000000009 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Sud (#2)\r\nSending event: database_change\r\nreplaygain: applied track gain -8.540000000000006 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - 150 sprint veloce\r\nSending event: database_change\r\nreplaygain: applied track gain -7.0 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il deserto di Piero\r\nSending event: database_change\r\nreplaygain: applied track gain -5.310000000000002 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - La canzone di Diana\r\nSending event: database_change\r\nreplaygain: applied track gain -9.190000000000012 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Est\r\nSending event: database_change\r\nreplaygain: applied track gain -6.300000000000011 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - 4 e mezza\r\nSending event: database_change\r\nreplaygain: applied track gain -7.790000000000006 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Settembre (#3)\r\nSending event: database_change\r\nreplaygain: applied track gain -8.110000000000014 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ponte di Mostar\r\nSending event: database_change\r\nreplaygain: applied track gain -6.970000000000013 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Genova\r\nSending event: database_change\r\nreplaygain: applied track gain -9.52000000000001 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Grandtour\r\nSending event: database_change\r\nreplaygain: applied track gain -8.800000000000011 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Canzone dell'Irlanda occidentale\r\nSending event: database_change\r\nreplaygain: applied track gain -6.960000000000008 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Boulevard Montvert\r\nSending event: database_change\r\nreplaygain: applied track gain -7.240000000000009 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Verso San Paolo\r\nSending event: database_change\r\nreplaygain: applied track gain -8.02000000000001 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Sud America\r\nSending event: database_change\r\nreplaygain: applied track gain -7.5800000000000125 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Discorsi a vapore\r\nSending event: database_change\r\nreplaygain: applied track gain -8.420000000000002 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - I tram di Roma\r\nSending event: database_change\r\nreplaygain: applied track gain -8.580000000000013 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ventesimo giorno\r\nSending event: database_change\r\nreplaygain: applied track gain -2.3000000000000114 LU, peak 0.632781982421875 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - Il ricordo delle tue mani\r\nSending event: database_change\r\nreplaygain: applied track gain -7.950000000000003 LU, peak 1.0 of FS\r\nSending event: database_change\r\nreplaygain: applied album gain -7.950000000000003 LU, peak 1.0 of FS\r\nreplaygain: done analyzing Rein - Occidente - L'epilogo\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n\r\n```\r\n\r\nI get these results:\r\n\r\n```\r\n$ mid3v2 01*.mp3\r\n\r\nIDv2 tag info for 01 Occidente.mp3\r\nAPIC=cover front, Rein : Occidente (image/jpg, 39765 bytes)\r\nAPIC=lyricist, http://www.jamendo.com (image/png, 6889 bytes)\r\nAPIC=other, http://creativecommons.org/licenses/by-nc-nd/2.5/it/ (image/png, 5281 bytes)\r\nCOMM=iTunNORM=eng= 000015AA 000015AA 0000362A 0000362A 00000000 00000000 00008000 00008000 00000000 00000000\r\nTALB=Occidente\r\nTBPM=0\r\nTCMP=0\r\nTCON=Blues\r\nTDEN=2008-06-12\r\nTDOR=2008-05-03\r\nTDRC=2008-06-13\r\nTIPL=[unrepresentable data]\r\nTIT2=Occidente\r\nTLAN=ita\r\nTLEN=210000\r\nTMED=Digital Media\r\nTOFN= - Occidente.mp3\r\nTPE1=Rein\r\nTPE2=Rein\r\nTPOS=1/1\r\nTPUB=Jamendo\r\nTRCK=1/20\r\nTSOP=Rein\r\nTXXX=ALBUMARTISTSORT=Rein\r\nTXXX=Album Artist Credit=Rein\r\nTXXX=Artist Credit=Rein\r\nTXXX=CATALOGNUMBER=26737\r\nTXXX=MusicBrainz Album Artist Id=20bf0e88-c49d-4bcd-b3d9-61cff97f29d8\r\nTXXX=MusicBrainz Album Id=3f68a1bf-810e-4c38-bf3e-7261373e347f\r\nTXXX=MusicBrainz Album Release Country=XW\r\nTXXX=MusicBrainz Album Status=Official\r\nTXXX=MusicBrainz Album Type=album\r\nTXXX=MusicBrainz Artist Id=20bf0e88-c49d-4bcd-b3d9-61cff97f29d8\r\nTXXX=MusicBrainz Release Group Id=59f2ab57-e144-32db-88d5-b52ca4af9eb3\r\nTXXX=MusicBrainz Release Track Id=c7269ba8-69e7-342c-b5b2-3acc8ac09c02\r\nTXXX=REPLAYGAIN_ALBUM_GAIN=-7.95 dB\r\nTXXX=REPLAYGAIN_ALBUM_PEAK=1.000000\r\nTXXX=REPLAYGAIN_TRACK_GAIN=-7.44 dB\r\nTXXX=REPLAYGAIN_TRACK_PEAK=1.000000\r\nTXXX=Script=Latn\r\nUFID=http://musicbrainz.org=b'baec891b-ffe0-4e15-a092-9988d81bc761'\r\nUFID=jamendo.com/track/179569=b''\r\nUSLT==XXX=\r\n```\r\n</details>\r\n\r\nIn my everyday beets where I discovered this problem I confirmed that the replaygain is in the db with the inline plugin, in this testing environment I just checked inside the db file.\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlibrary: /tmp/beetsTest/beets.db\r\ndirectory: /tmp/beetsTest/music/done\r\n\r\nplugins: [replaygain]\r\nreplaygain:\r\n    auto: yes\r\n    backend: command\r\n    overwrite: no\r\n    threads: 4\r\n    per_disc: no\r\n    peak: 'true'\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n    r128_targetlevel: 84\r\n    command: ''\r\n    noclip: yes\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3815/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3809", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3809/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3809/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3809/events", "html_url": "https://github.com/beetbox/beets/issues/3809", "id": 767450398, "node_id": "MDU6SXNzdWU3Njc0NTAzOTg=", "number": 3809, "title": "ReplayGainPlugin throws false alarm sqlite3.OperationalError in test suite", "user": {"login": "ybnd", "id": 31547038, "node_id": "MDQ6VXNlcjMxNTQ3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/31547038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybnd", "html_url": "https://github.com/ybnd", "followers_url": "https://api.github.com/users/ybnd/followers", "following_url": "https://api.github.com/users/ybnd/following{/other_user}", "gists_url": "https://api.github.com/users/ybnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybnd/subscriptions", "organizations_url": "https://api.github.com/users/ybnd/orgs", "repos_url": "https://api.github.com/users/ybnd/repos", "events_url": "https://api.github.com/users/ybnd/events{/privacy}", "received_events_url": "https://api.github.com/users/ybnd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "ybnd", "id": 31547038, "node_id": "MDQ6VXNlcjMxNTQ3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/31547038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybnd", "html_url": "https://github.com/ybnd", "followers_url": "https://api.github.com/users/ybnd/followers", "following_url": "https://api.github.com/users/ybnd/following{/other_user}", "gists_url": "https://api.github.com/users/ybnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybnd/subscriptions", "organizations_url": "https://api.github.com/users/ybnd/orgs", "repos_url": "https://api.github.com/users/ybnd/repos", "events_url": "https://api.github.com/users/ybnd/events{/privacy}", "received_events_url": "https://api.github.com/users/ybnd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ybnd", "id": 31547038, "node_id": "MDQ6VXNlcjMxNTQ3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/31547038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybnd", "html_url": "https://github.com/ybnd", "followers_url": "https://api.github.com/users/ybnd/followers", "following_url": "https://api.github.com/users/ybnd/following{/other_user}", "gists_url": "https://api.github.com/users/ybnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybnd/subscriptions", "organizations_url": "https://api.github.com/users/ybnd/orgs", "repos_url": "https://api.github.com/users/ybnd/repos", "events_url": "https://api.github.com/users/ybnd/events{/privacy}", "received_events_url": "https://api.github.com/users/ybnd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-12-15T10:44:10Z", "updated_at": "2020-12-21T13:48:46Z", "closed_at": "2020-12-21T13:48:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\nThe tests in `test_replaygain.py` work with an in-memory SQLite database, which doesn't seem to play well with the parallelization introduced in https://github.com/beetbox/beets/pull/3478.\r\n\r\n* [`item.store()`](https://github.com/beetbox/beets/blob/8645f56512fa8918fd05c4f53bd1b65ace87ab41/beetsplug/replaygain.py#L1311) raises\r\n\r\n    ```\r\n    Exception in thread Thread-90:\r\n    Traceback (most recent call last):\r\n      File \"/usr/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n        self.run()\r\n      File \"/home/ybnd/code/beets/beets/beetsplug/replaygain.py\", line 1198, in run\r\n        six.reraise(exc[0], exc[1], exc[2])\r\n      File \"/home/ybnd/.local/share/venve/beets/lib/python3.8/site-packages/six.py\", line 703, in reraise\r\n        raise value\r\n      File \"/home/ybnd/code/beets/beets/beetsplug/replaygain.py\", line 1510, in wfunc\r\n        return func(*args, **kwargs)\r\n      File \"/home/ybnd/code/beets/beets/beetsplug/replaygain.py\", line 1460, in _store_track\r\n        store_track_gain(item, track_gains[0])\r\n      File \"/home/ybnd/code/beets/beets/beetsplug/replaygain.py\", line 1324, in store_track_gain\r\n        self._store(item)\r\n      File \"/home/ybnd/code/beets/beets/beetsplug/replaygain.py\", line 1319, in _store\r\n        item.store()\r\n      File \"/home/ybnd/code/beets/beets/beets/library.py\", line 347, in store\r\n        super(LibModel, self).store(fields)\r\n      File \"/home/ybnd/code/beets/beets/beets/dbcore/db.py\", line 516, in store\r\n        tx.mutate(query, subvars)\r\n      File \"/home/ybnd/code/beets/beets/beets/dbcore/db.py\", line 838, in mutate\r\n        cursor = self.db._connection().execute(statement, subvals)\r\n    sqlite3.OperationalError: no such table: items\r\n    ```\r\n\r\n  on the first call, **but just succeeds on the second call**\r\n\r\n* Occurs on every call to `item.store()`\r\n* Doesn't depend on the ReplayGain backend you use\r\n\r\n### Reproducing\r\n\r\n1. Make sure `test_replaygain.py` actually runs some of the tests (most are skipped in the CI build)\r\n2. Comment out [the `_store_retry_once` patch](https://github.com/beetbox/beets/blob/8645f56512fa8918fd05c4f53bd1b65ace87ab41/test/test_replaygain.py#L82)\r\n3. Run the tests\r\n\r\n\r\n### Setup\r\n\r\n* OS: 5.8.18-1-MANJARO\r\n* Python version: 3.8.6\r\n* beets version: https://github.com/beetbox/beets/commit/8645f56512fa8918fd05c4f53bd1b65ace87ab41\r\n* Turning off plugins made problem go away (yes/no): N/A\r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: ~/code/beets/library\r\nlibrary: ~/code/beets/library/library.db\r\n\r\nthreaded: yes\r\nparallel_threads: 2\r\noriginal_year: yes\r\n\r\npaths:\r\n    default: $albumartist/%if{$original_year,$original_year,$year} - $album%aunique{}/$track $title\r\n    singleton: $artist/singles/%if{$original_year,$original_year,$year} - $title\r\n    comp: compilations/%if{$original_year,$original_year,$year} - $albumartist - $album%aunique{}/$track $artist - $title\r\n\r\npluginpath:\r\n    - ~/code/beets/beets-copyartifacts/build/lib/beetsplug\r\n    - ~/code/beets/beets-link/beetsplug\r\n    - ~/.local/lib/python3.8/site-packages/beetsplug\r\n\r\nplugins: discogs convert missing embedart info types duplicates edit fromfilename copyartifacts link replaygain lyrics artistcountry\r\n\r\nreplaygain:\r\n#    backend: command\r\n    backend: ffmpeg\r\n#    backend: bs1770gain\r\n#    backend: gstreamer\r\n#    backend: audiotools\r\n\r\nconvert:\r\n    dest: library/converted\r\n\r\nreplace:\r\n    '^\\.': _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>\"\\*\\|\\\\]': '_'\r\n    ':': '-'\r\n    '\\?': '_'\r\n    '\\.$': '.'\r\n    '\\s+$': ''\r\n    '^\\s+': ''\r\n    '^-': '_'\r\n\r\naunique:\r\n    keys: albumartist album\r\n    disambiguators: albumdisambig country albumtype year label catalognum releasegroupdisambig\r\n    bracket: '()'\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3809/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3809/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3798", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3798/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3798/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3798/events", "html_url": "https://github.com/beetbox/beets/issues/3798", "id": 749675699, "node_id": "MDU6SXNzdWU3NDk2NzU2OTk=", "number": 3798, "title": "mpdstats plugin needs updating to work with python-mpd2 2.0.0", "user": {"login": "smcv", "id": 1561141, "node_id": "MDQ6VXNlcjE1NjExNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1561141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smcv", "html_url": "https://github.com/smcv", "followers_url": "https://api.github.com/users/smcv/followers", "following_url": "https://api.github.com/users/smcv/following{/other_user}", "gists_url": "https://api.github.com/users/smcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/smcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smcv/subscriptions", "organizations_url": "https://api.github.com/users/smcv/orgs", "repos_url": "https://api.github.com/users/smcv/repos", "events_url": "https://api.github.com/users/smcv/events{/privacy}", "received_events_url": "https://api.github.com/users/smcv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-11-24T12:44:30Z", "updated_at": "2021-01-06T21:14:39Z", "closed_at": "2021-01-06T21:14:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "(Sorry, this is just from source code inspection and a search of dependent packages in Debian, rather than a crash that I've genuinely reproduced - I don't currently use beets myself, although I keep meaning to try it.)\r\n\r\nhttps://github.com/Mic92/python-mpd2 version 2.0.0 dropped support for the `use_unicode` parameter to the `MPDClient` constructor. This parameter doesn't do anything in Python 3, which always behaves like `use_unicode=True`. It was important in Python 2.\r\n\r\nIn Debian's python3-mpd package I've added back compatibility with the use_unicode parameter for now (see Mic92/python-mpd2#142) but I don't know whether that will be accepted upstream.\r\n\r\nIf beets only supports Python 3, dropping the parameter should be a sufficient fix: replace `MPDClient(use_unicode=True)` with `MPDClient()`.\r\n\r\nIf it still supports Python 2, something similar to https://github.com/multani/sonata/pull/116 should work.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3798/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3793", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3793/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3793/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3793/events", "html_url": "https://github.com/beetbox/beets/issues/3793", "id": 740394919, "node_id": "MDU6SXNzdWU3NDAzOTQ5MTk=", "number": 3793, "title": "bandcamp: Handle missing name element", "user": {"login": "beestiel", "id": 9467826, "node_id": "MDQ6VXNlcjk0Njc4MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/9467826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beestiel", "html_url": "https://github.com/beestiel", "followers_url": "https://api.github.com/users/beestiel/followers", "following_url": "https://api.github.com/users/beestiel/following{/other_user}", "gists_url": "https://api.github.com/users/beestiel/gists{/gist_id}", "starred_url": "https://api.github.com/users/beestiel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beestiel/subscriptions", "organizations_url": "https://api.github.com/users/beestiel/orgs", "repos_url": "https://api.github.com/users/beestiel/repos", "events_url": "https://api.github.com/users/beestiel/events{/privacy}", "received_events_url": "https://api.github.com/users/beestiel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-11-11T02:20:20Z", "updated_at": "2021-08-03T17:29:36Z", "closed_at": "2021-08-03T17:29:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nSelecting the \"tracks\" command (T) while using the Auto-Tagger led to this problem:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/USER/virtualenv2/bin/beet\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1266, in main\r\n    _raw_main(args)\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1253, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/ui/commands.py\", line 955, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/ui/commands.py\", line 925, in import_files\r\n    session.run()\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/importer.py\", line 329, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/util/pipeline.py\", line 315, in run\r\n    for msg in _allmsgs(out):\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/util/pipeline.py\", line 466, in pull\r\n    out = coro.send(msg)\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/importer.py\", line 1351, in lookup_candidates\r\n    task.lookup_candidates()\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/importer.py\", line 892, in lookup_candidates\r\n    prop = autotag.tag_item(self.item, search_ids=self.search_ids)\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/autotag/match.py\", line 513, in tag_item\r\n    for track_info in hooks.item_candidates(item, search_artist, search_title):\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/plugins.py\", line 574, in decorated\r\n    for v in generator(*args, **kwargs):\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/autotag/hooks.py\", line 640, in item_candidates\r\n    for candidate in plugins.item_candidates(item, artist, title):\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beets/plugins.py\", line 392, in item_candidates\r\n    for item_candidate in plugin.item_candidates(item, artist, title):\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beetsplug/bandcamp.py\", line 96, in item_candidates\r\n    return self.get_tracks(item.title)\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beetsplug/bandcamp.py\", line 166, in get_tracks\r\n    return [self.get_track_info(url) for url in track_urls]\r\n  File \"/home/USER/virtualenv2/lib/python2.7/site-packages/beetsplug/bandcamp.py\", line 174, in get_track_info\r\n    title = name_section.find(attrs={'itemprop': 'name'}).text.strip()\r\nAttributeError: 'NoneType' object has no attribute 'text'\r\n```\r\nThis happens with all of my music files.\r\n\r\n### Setup\r\n\r\n* OS: Linux 5.4.31-gentoo-whatbox x86_64\r\n* Python version: 2.7.18\r\n* beets version: 1.4.9\r\n* Turning off plugins made problem go away (yes/no): Yes, but I couldn't figure out how to get the --plugins command to work. ^^;\r\n\r\n<!--\r\nYou can turn off plugins temporarily by passing --plugins= on the command line:\r\n\r\n$ beet --plugins= version\r\n-->\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nmbcollection:\r\n    auto: yes\r\n    remove: yes\r\n    collection: 63cbefd8-f16c-4490-ba64-876ad3807ac3\r\nweb:\r\n    host: REDACTED.whatbox.ca\r\n    cors: '*'\r\n    cors_supports_credentials: no\r\n    reverse_proxy: no\r\n    include_paths: no\r\n    port: 8337\r\nbandcamp:\r\n    lyrics: yes\r\n    art: yes\r\n    split_artist_title: no\r\n    min_candidates: 5\r\n    source_weight: 0.5\r\nplex:\r\n    host: localhost\r\n    port: 13834\r\n    library_name: Music\r\n    token: REDACTED\r\n\r\nmusicbrainz:\r\n    user: beestiel\r\n    pass: REDACTED\r\nlibrary: /home/USER/.config/beets/musiclibrary.db\r\n\r\nplugins: bandcamp copyartifacts fetchart fromfilename ihate mbcollection mbsubmit plexupdate scrub web\r\ndirectory: /home/USER/files/Music\r\n\r\nimport:\r\n    ignore_hidden: yes\r\n    bell: yes\r\n    languages: jp\r\n    write: no\r\n    link: yes\r\n    default_action: skip\r\n\r\nmatch:\r\n    preferred:\r\n        original_year: yes\r\ncopyartifacts:\r\n    print_ignored: yes\r\n    extensions: .*\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    enforce_ratio: no\r\n    cautious: no\r\n    maxwidth: 0\r\n    store_source: no\r\n    google_key: REDACTED\r\n    fanarttv_key: REDACTED\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\nmbsubmit:\r\n    threshold: medium\r\n    format: $track. $title - $artist ($length)\r\nihate:\r\n    warn: []\r\n    skip: []\r\nscrub:\r\n    auto: yes\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3793/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3789", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3789/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3789/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3789/events", "html_url": "https://github.com/beetbox/beets/issues/3789", "id": 738316776, "node_id": "MDU6SXNzdWU3MzgzMTY3NzY=", "number": 3789, "title": "lyrics: Strip \\u2005 (four-per-em space) in lyrics", "user": {"login": "AnonTester", "id": 40003252, "node_id": "MDQ6VXNlcjQwMDAzMjUy", "avatar_url": "https://avatars.githubusercontent.com/u/40003252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnonTester", "html_url": "https://github.com/AnonTester", "followers_url": "https://api.github.com/users/AnonTester/followers", "following_url": "https://api.github.com/users/AnonTester/following{/other_user}", "gists_url": "https://api.github.com/users/AnonTester/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnonTester/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnonTester/subscriptions", "organizations_url": "https://api.github.com/users/AnonTester/orgs", "repos_url": "https://api.github.com/users/AnonTester/repos", "events_url": "https://api.github.com/users/AnonTester/events{/privacy}", "received_events_url": "https://api.github.com/users/AnonTester/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-11-07T20:57:17Z", "updated_at": "2020-11-08T14:14:12Z", "closed_at": "2020-11-08T14:14:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current lyrics plugin returns lyrics from Genius which includes the unicode character u2005 (four-per-em space) rather than replacing this with regular space. This results in squares in the lyrics in players like Foobar.\r\n\r\n### Problem\r\n\r\nExample lyrics:\r\n\r\n``` sh\r\n$ beet -vv lyrics -f joshua radin only a wave better days\r\nuser configuration: /home/xxxx/.config/beets/config.yaml\r\ndata directory: /home/xxxx/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\ninline: adding item field disc_and_track\r\ninline: adding item field artist_and_title\r\ninline: adding item field original_date\r\ninline: adding item field album_year\r\ninline: adding album field totaltracks\r\ninline: adding album field album_ends_with_ep\r\nlyrics: Disabling google source: no API key configured.\r\nImageMagick version check failed: [Errno 2] No such file or directory: 'magick'\r\nartresizer: method is (2, (6, 9, 10), True)\r\nlibrary database: /home/xxxx/.config/beets/beetslibrary.db\r\nlibrary directory: /media/music/beets2\r\nSending event: library_opened\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Joshua-Radin/Only-A-Wave-%28Better-Days%29 (404)\r\nlyrics: got lyrics from backend: Genius\r\nlyrics: fetched lyrics: JOSHUA RADIN - Here, Right Now - 03. Only a Wave (Better Days) (3:58)\r\nSending event: write\r\nSending event: after_write\r\nimportadded: Write of item '/media/music/beets2/Album/G-J/Joshua Radin/Joshua Radin - Here, Right Now [2019]/Joshua Radin - 03 - Only a Wave (Better Days).mp3', selected item.added=1604661728.1660378\r\nSending event: database_change\r\nSending event: cli_exit\r\n```\r\n\r\nLed to this problem:\r\nseveral u2005 characters in the first paragraph.\r\nDifferent song but same problem:\r\n![image](https://user-images.githubusercontent.com/40003252/98451234-c6618900-213b-11eb-9c2a-7bbab021bea9.png)\r\n\r\n### Setup\r\n\r\n* OS: Linux Mint 20\r\n* Python version: 3.8.5\r\n* beets version: 1.5.0\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: no\r\n    on_import: yes\r\n    processes: 10\r\n    force: no\r\n    fallback: ''\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    local: no\r\n    sources: [google, musixmatch, genius]\r\nlibrary: /home/xxxx/.config/beets/beetslibrary.db\r\ndirectory: /media/music/beets2\r\n\r\nimport:\r\n    write: yes\r\n    copy: yes\r\n    move: yes\r\n    link: no\r\n    hardlink: no\r\n    resume: ask\r\n    incremental: no\r\n    incremental_skip_later: no\r\n    from_scratch: no\r\n    quiet_fallback: skip\r\n    none_rec_action: ask\r\n    timid: no\r\n    log: /home/xxxx/.config/beets/beetslog.txt\r\n    autotag: yes\r\n    quiet: no\r\n    singletons: no\r\n    default_action: apply\r\n    languages: []\r\n    detail: no\r\n    flat: no\r\n    group_albums: no\r\n    pretend: no\r\n    search_ids: []\r\n    duplicate_action: ask\r\n    bell: no\r\n    set_fields: {}\r\n    art: yes\r\n\r\nclutter:\r\n- Thumbs.DB\r\n- .DS_Store\r\n- desktop.ini\r\n- '*.m3u'\r\n- '*.nfo'\r\n- '*.pls'\r\n- '*.torrent'\r\nignore:\r\n- .*\r\n- '*~'\r\n- System Volume Information\r\n- lost+found\r\n- cover.jpg\r\nignore_hidden: yes\r\n\r\nreplace:\r\n    '[\\\\/]': '-'\r\n    ^\\.: _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>\\?\\*\\|]': _\r\n    '[:]': ' -'\r\n    \\.$: _\r\n    \\s+$: ''\r\n    ^\\s+: ''\r\n    ^-: _\r\n    '[\\u2018\\u2019]': ''''\r\n    '[\\u201c\\u201d]': '\"'\r\n    '\"': ''''\r\npath_sep_replace: '-'\r\ndrive_sep_replace: '-'\r\nasciify_paths: yes\r\nart_filename: folder\r\nmax_filename_length: 0\r\n\r\naunique:\r\n    keys: albumartist album\r\n    disambiguators: albumtype year label catalognum albumdisambig releasegroupdisambig\r\n    bracket: '[]'\r\n\r\noverwrite_null:\r\n    album: []\r\n    track: []\r\n\r\nplugins:\r\n- fetchart\r\n- lyrics\r\n- lastgenre\r\n- embedart\r\n- bucket\r\n- the\r\n- chroma\r\n- ftintitle\r\n- discogs\r\n- scrub\r\n- inline\r\n- fromfilename\r\n- edit\r\n- importadded\r\n- duplicates\r\n- replaygain\r\npluginpath: []\r\nthreaded: yes\r\ntimeout: 5.0\r\nper_disc_numbering: yes\r\nverbose: 0\r\nterminal_encoding: utf8\r\noriginal_date: yes\r\nartist_credit: no\r\nid3v23: no\r\nva_name: Various Artists\r\n\r\nui:\r\n    terminal_width: 80\r\n    length_diff_thresh: 10.0\r\n    color: yes\r\n    colors:\r\n        text_success: green\r\n        text_warning: yellow\r\n        text_error: red\r\n        text_highlight: red\r\n        text_highlight_minor: lightgray\r\n        action_default: turquoise\r\n        action: blue\r\n\r\nformat_item: '%upper{$artist} - $album - $track. $title ($length)'\r\nformat_album: '%upper{$albumartist} - $album [$year] ($totaltracks)'\r\ntime_format: '%Y-%m-%d %H:%M:%S'\r\nformat_raw_length: no\r\n\r\nsort_album: albumartist+ album+\r\nsort_item: artist+ album+ disc+ track+\r\nsort_case_insensitive: yes\r\nitem_fields:\r\n    disc_and_track: f'{disc:02}-{track:02}' if disctotal > 1 else f'{track:02}'\r\n    artist_and_title: f'{artist} - {title}' if artist != albumartist else title\r\n    original_date: '''-''.join(filter(None, (original_year and f''{original_year:04}'', original_month and f''{original_month:02}'', original_day and f''{original_day:02}'')))'\r\n    album_year: f'{year:04}'\r\nalbum_fields:\r\n    totaltracks: str(items[0].tracktotal) + ' tracks'\r\n    album_ends_with_ep: 1 if str({album})[-2:] == \"EP\" else 0\r\n\r\npaths:\r\n    default: Album/%bucket{%the{$albumartist},alpha}/%the{$albumartist}/$albumartist - $album%aunique{} [$year]/$albumartist - $disc_and_track - $title\r\n    albumtype:ep: Album/%bucket{%the{$albumartist},alpha}/%the{$albumartist}/$albumartist - $album%aunique{}%if{$album_ends_with_ep,, EP} [$year]/$albumartist - $disc_and_track - $title\r\n    singleton: Non-Album/%bucket{%the{$artist}}/$artist - $title\r\n    albumtype:soundtrack: Soundtracks/$album%aunique{} [$year]/$disc_and_track - $artist - $title\r\n    comp: Compilations/%bucket{$year}/%the{$album%aunique{}}/$disc_and_track - $artist - $title\r\n\r\nstatefile: state.pickle\r\n\r\nmusicbrainz:\r\n    host: musicbrainz.org\r\n    ratelimit: 1\r\n    ratelimit_interval: 1.0\r\n    searchlimit: 10\r\n    extra_tags: []\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.1\r\n    medium_rec_thresh: 0.25\r\n    rec_gap_thresh: 0.25\r\n    max_rec:\r\n        missing_tracks: medium\r\n        unmatched_tracks: medium\r\n    distance_weights:\r\n        source: 2.0\r\n        artist: 3.0\r\n        album: 3.0\r\n        media: 1.0\r\n        mediums: 1.0\r\n        year: 1.0\r\n        country: 0.5\r\n        label: 0.5\r\n        catalognum: 0.5\r\n        albumdisambig: 0.5\r\n        album_id: 5.0\r\n        tracks: 4.0\r\n        missing_tracks: 0.9\r\n        unmatched_tracks: 0.6\r\n        track_title: 3.0\r\n        track_artist: 2.0\r\n        track_index: 1.0\r\n        track_length: 2.0\r\n        track_id: 5.0\r\n    preferred:\r\n        countries:\r\n        - US\r\n        - GB|UK\r\n        - JP\r\n        - DE\r\n        media: [CD, Digital Media|File]\r\n        original_year: yes\r\n    ignored: []\r\n    required: []\r\n    ignored_media:\r\n    - Data CD\r\n    - DVD\r\n    - DVD-Video\r\n    - Blu-ray\r\n    - HD-DVD\r\n    - VCD\r\n    - SVCD\r\n    - UMD\r\n    - VHS\r\n    ignore_data_tracks: yes\r\n    ignore_video_tracks: yes\r\n    track_length_grace: 10\r\n    track_length_max: 30\r\nembedart:\r\n    auto: yes\r\n    compare_threshold: 20\r\n    ifempty: no\r\n    maxwidth: 800\r\n    remove_art_file: no\r\n    quality: 0\r\nfetchart:\r\n    auto: yes\r\n    cover_names: front folder\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    quality: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    lastfm_key: REDACTED\r\n    store_source: no\r\n    high_resolution: no\r\nbucket:\r\n    bucket_alpha:\r\n    - 0-9\r\n    - A-C\r\n    - D-F\r\n    - G-J\r\n    - K-N\r\n    - O-R\r\n    - S\r\n    - T-Z\r\n    bucket_year:\r\n    - 1960s\r\n    - 1970s\r\n    - 1980s\r\n    - 1990s\r\n    - 2000s\r\n    - 2010s\r\n    bucket_alpha_regex:\r\n        0-9: ^[^a-zA-Z]\r\n    extrapolate: no\r\nftintitle:\r\n    auto: yes\r\n    drop: no\r\n    format: feat. {0}\r\nscrub:\r\n    auto: no\r\ncopyartifacts:\r\n    extensions: .cue .jpg .gif .png .pdf\r\n    print_ignored: yes\r\nedit:\r\n    itemfields: track title artist album year\r\n    albumfields: album albumartist year\r\n    ignore_fields: id path\r\nimportadded:\r\n    preserve_mtime: yes\r\n    preserve_write_mtime: yes\r\n    preserve_mtimes: no\r\n    preserve_write_mtimes: no\r\nduplicates:\r\n    checksum: no\r\n    tiebreak:\r\n        items: [bitrate]\r\n    album: no\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    strict: no\r\n    tag: ''\r\nchroma:\r\n    auto: yes\r\nreplaygain:\r\n    auto: yes\r\n    backend: gstreamer\r\n    overwrite: yes\r\n    targetlevel: 89\r\n    per_disc: no\r\n    peak: 'true'\r\n    r128: [Opus]\r\n    r128_targetlevel: 84\r\npathfields: {}\r\nlastgenre:\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\ndiscogs:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: discogs_token.json\r\n    source_weight: 0.5\r\n    user_token: REDACTED\r\n    separator: ', '\r\n    index_tracks: no\r\nthe:\r\n    the: yes\r\n    a: yes\r\n    format: '{0}, {1}'\r\n    strip: no\r\n    patterns: []\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3789/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3743", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3743/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3743/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3743/events", "html_url": "https://github.com/beetbox/beets/issues/3743", "id": 693221995, "node_id": "MDU6SXNzdWU2OTMyMjE5OTU=", "number": 3743, "title": "Fetch art is pixelated", "user": {"login": "jef", "id": 12074633, "node_id": "MDQ6VXNlcjEyMDc0NjMz", "avatar_url": "https://avatars.githubusercontent.com/u/12074633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jef", "html_url": "https://github.com/jef", "followers_url": "https://api.github.com/users/jef/followers", "following_url": "https://api.github.com/users/jef/following{/other_user}", "gists_url": "https://api.github.com/users/jef/gists{/gist_id}", "starred_url": "https://api.github.com/users/jef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jef/subscriptions", "organizations_url": "https://api.github.com/users/jef/orgs", "repos_url": "https://api.github.com/users/jef/repos", "events_url": "https://api.github.com/users/jef/events{/privacy}", "received_events_url": "https://api.github.com/users/jef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 99834374, "node_id": "MDU6TGFiZWw5OTgzNDM3NA==", "url": "https://api.github.com/repos/beetbox/beets/labels/docs", "name": "docs", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-09-04T14:21:37Z", "updated_at": "2020-10-28T21:35:21Z", "closed_at": "2020-10-28T19:17:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Setup\r\n\r\n* OS: Docker image (`linuxserver/docker-beets:nightly`)\r\n* Python version: `3.8.5`\r\n* beets version: `HEAD`\r\n* Turning off plugins made problem go away (yes/no): N/A\r\n\r\n### Problem\r\n\r\nSeems like `fetchart` is pixelating the images when resizing. Not sure if this is a `Pillow` problem or something beets is doing.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\nbeet -vv fetchart -f 53 thieves after hours\r\nuser configuration: /config/config.yaml\r\ndata directory: /config\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /config/musiclibrary.blb\r\nlibrary directory: /data/media/music\r\nSending event: library_opened\r\nfetchart: trying source filesystem for album 53 Thieves - after hours\r\nfetchart: trying source coverart for album 53 Thieves - after hours\r\nfetchart: trying source coverart for album 53 Thieves - after hours\r\nfetchart: trying source itunes for album 53 Thieves - after hours\r\nfetchart: getting URL: https://itunes.apple.com/search?term=53+Thieves+after+hours&entity=album&media=music&limit=200\r\nImageMagick version check failed: [Errno 2] No such file or directory: 'magick'\r\nImageMagick version check failed: [Errno 2] No such file or directory: 'convert'\r\nartresizer: method is (1, (0,))\r\nfetchart: downloading image: https://is4-ssl.mzstatic.com/image/thumb/Music124/v4/02/24/59/02245915-fb50-26d7-6a10-b976526d3af1/source/1200x1200bb.jpg\r\nfetchart: downloaded art to: /tmp/tmp3a64362y.jpg\r\nfetchart: image size: (1200, 1200)\r\nfetchart: image needs resizing (1200 > 1000)\r\nfetchart: using remote image /tmp/tmp3a64362y.jpg\r\nartresizer: PIL resizing /tmp/tmp3a64362y.jpg to /tmp/tmpbo33o8x7.jpg\r\nSending event: art_set\r\nSending event: database_change\r\nfetchart: 53 Thieves - after hours: found album art\r\nSending event: cli_exit\r\n```\r\n\r\nOutput looks good, no errors there.\r\n\r\n---\r\n\r\nLed to this problem:\r\n\r\n<details>\r\n<summary>Original Image</summary>\r\n\r\n![image](https://user-images.githubusercontent.com/12074633/92248560-e43e1380-ee96-11ea-8967-cece04e5e8c6.png)\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>Resized Image</summary>\r\n\r\n![cover](https://user-images.githubusercontent.com/12074633/92248372-90cbc580-ee96-11ea-972a-ddd3b325b58f.jpg)\r\n\r\n</details>\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nfetchart:\r\n    auto: yes\r\n    maxwidth: 1000\r\n    enforce_ratio: yes\r\n    cautious: yes\r\n```\r\n\r\nIf I use:\r\n\r\n```yaml\r\nfetchart:\r\n    auto: yes\r\n    # maxwidth: 1000\r\n    enforce_ratio: yes\r\n    # cautious: yes\r\n```\r\n\r\nComes out just fine.\r\n\r\n---\r\n\r\n### Suggested solution\r\n\r\nInstalling the `ImageMagick` library worked for resizing. So it seems that we do need `ImageMagick` to use fetchart to it's fullest extent.\r\n\r\n`readthedocs` state that:\r\n\r\n> Note: maxwidth and enforce_ratio options require either ImageMagick or Pillow.\r\n\r\nNot sure where to go from here, but either:\r\n\r\n1. Update doc to include both (or perhaps maybe just `ImageMagick` here works\r\n2. Figure out why Pillow is destroying these images", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3743/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3727", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3727/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3727/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3727/events", "html_url": "https://github.com/beetbox/beets/issues/3727", "id": 678511117, "node_id": "MDU6SXNzdWU2Nzg1MTExMTc=", "number": 3727, "title": "Fix lyrics scraping on genius.com", "user": {"login": "wummel", "id": 1279658, "node_id": "MDQ6VXNlcjEyNzk2NTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1279658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wummel", "html_url": "https://github.com/wummel", "followers_url": "https://api.github.com/users/wummel/followers", "following_url": "https://api.github.com/users/wummel/following{/other_user}", "gists_url": "https://api.github.com/users/wummel/gists{/gist_id}", "starred_url": "https://api.github.com/users/wummel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wummel/subscriptions", "organizations_url": "https://api.github.com/users/wummel/orgs", "repos_url": "https://api.github.com/users/wummel/repos", "events_url": "https://api.github.com/users/wummel/events{/privacy}", "received_events_url": "https://api.github.com/users/wummel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29900975, "node_id": "MDU6TGFiZWwyOTkwMDk3NQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/needinfo", "name": "needinfo", "color": "f7dbb2", "default": false, "description": "We need more details or follow-up from the filer before this can be tagged \"bug\" or \"feature.\""}, {"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-08-13T15:05:34Z", "updated_at": "2021-02-09T23:47:44Z", "closed_at": "2021-02-09T20:13:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### Problem\r\n\r\nThe lyrics plugin cannot get the lyric text on some pages of genius.com.\r\nExample:\r\nhttps://genius.com/Ed-sheeran-nothing-on-you-lyrics\r\nThe plugin expects this:\r\n```html\r\n<div class=\"lyrics\">\r\n```\r\nWhen running \r\n```sh\r\n$ beet -vv lyrics\r\n```\r\nthe above page will result in:\r\n\r\n```\r\nTraceback (most recent call last):\r\n[...]\r\nFile \"/usr/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 375, in lyrics_from_song_api_path\r\n    lyrics = html.find(\"div\", class_=\"lyrics\").get_text()\r\nAttributeError: 'NoneType' object has no attribute 'get_text'\r\n```\r\nReason is that genious.com seems to have several pages where instead of a single div the\r\ntext is stored in a list of divs where the class name starts with Lyrics_Container:\r\n```html\r\n<div class=\"Lyrics__Container-sc-1ynbvzw-2 jgQsqn\">...</div>\r\n<div class=\"Lyrics__Container-sc-1ynbvzw-2 jgQsqn\">...</div>\r\n<div class=\"Lyrics__Container-sc-1ynbvzw-2 jgQsqn\">...</div>\r\n```\r\n\r\n### Setup\r\n\r\n* OS: linux\r\n* Python version: 3.7.3\r\n* beets version: 1.4.9\r\n* Turning off plugins made problem go away (yes/no): yes (lyrics plugin)\r\n\r\nTo reproduce, enable the lyrics plugin, set the genius as only importer and try to\r\nscrape a fairly large music collection.\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    sources: genius\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\ndirectory: REDACTED/music\r\nignore_hidden: yes\r\nasciify_paths: yes\r\n\r\nimport:\r\n    move: no\r\n    write: yes\r\n    incremental: no\r\n    resume: no\r\n\r\nplugins: lyrics\r\n\r\n```\r\n\r\nHere is a patch that worked for me:\r\n\r\n```diff\r\n--- lyrics.py.orig      2020-08-12 20:10:01.000000000 +0200\r\n+++ lyrics.py   2020-08-12 20:10:01.000000000 +0200\r\n@@ -370,11 +370,21 @@\r\n         # Remove script tags that they put in the middle of the lyrics.\r\n         [h.extract() for h in html('script')]\r\n \r\n-        # At least Genius is nice and has a tag called 'lyrics'!\r\n-        # Updated css where the lyrics are based in HTML.\r\n-        lyrics = html.find(\"div\", class_=\"lyrics\").get_text()\r\n-\r\n-        return lyrics\r\n+        # Genius has the lyrics either in multiple divs with class attributes\r\n+        # beginning with \"Lyrics__Container\", or in a single div with class\r\n+        # attribute \"lyrics\"\r\n+        lyric_tag = html.find(\"div\", class_=\"lyrics\")\r\n+        if lyric_tag is None:\r\n+            class_matcher = re.compile(\"^Lyrics__Container\")\r\n+            lyric_tags = html.find_all(\"div\", class_=class_matcher)\r\n+            if not lyric_tags:\r\n+                self._log.debug(u'Genius page {0} has no lyric tags', page_url)\r\n+                return None\r\n+            lyrics = u'\\n\\n'.join(tag.get_text() for tag in lyric_tags)\r\n+        else:\r\n+            lyrics = lyric_tag.get_text()\r\n+        # remove leading and trailing whitespace\r\n+        return lyrics.strip()\r\n \r\n     def fetch(self, artist, title):\r\n         search_url = self.base_url + \"/search\"\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3727/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3727/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3693", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3693/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3693/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3693/events", "html_url": "https://github.com/beetbox/beets/issues/3693", "id": 666594673, "node_id": "MDU6SXNzdWU2NjY1OTQ2NzM=", "number": 3693, "title": "beet zsh completion bug ubuntu 20.04", "user": {"login": "snowyoneill", "id": 4118004, "node_id": "MDQ6VXNlcjQxMTgwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4118004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowyoneill", "html_url": "https://github.com/snowyoneill", "followers_url": "https://api.github.com/users/snowyoneill/followers", "following_url": "https://api.github.com/users/snowyoneill/following{/other_user}", "gists_url": "https://api.github.com/users/snowyoneill/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowyoneill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowyoneill/subscriptions", "organizations_url": "https://api.github.com/users/snowyoneill/orgs", "repos_url": "https://api.github.com/users/snowyoneill/repos", "events_url": "https://api.github.com/users/snowyoneill/events{/privacy}", "received_events_url": "https://api.github.com/users/snowyoneill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29900975, "node_id": "MDU6TGFiZWwyOTkwMDk3NQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/needinfo", "name": "needinfo", "color": "f7dbb2", "default": false, "description": "We need more details or follow-up from the filer before this can be tagged \"bug\" or \"feature.\""}, {"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 2197492275, "node_id": "MDU6TGFiZWwyMTk3NDkyMjc1", "url": "https://api.github.com/repos/beetbox/beets/labels/stale", "name": "stale", "color": "D3D3D3", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-07-27T21:25:09Z", "updated_at": "2021-10-18T09:05:36Z", "closed_at": "2020-10-21T21:01:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nwhen i try to complete beets command using zsh command i keep seeing `_beet:zregexparse:4: invalid regex : )`\r\n\r\nI'm running into the same issue i previously documented here:\r\nhttps://github.com/beetbox/beets/issues/3546\r\n\r\nexcept this time i'm running into the problem on the latest Ubuntu LTS\r\n\r\n### Setup\r\n\r\n\tubuntu 20.04 (Focal Fossa)\r\n\toh-my-zsh\r\n\t\tzsh 5.8 (x86_64-ubuntu-linux-gnu)\r\n\r\n\tbeets\r\n\t\tbeets version 1.4.9\r\n\t\tPython version 3.8.2\r\n\t\tplugins: no plugins\r\n\r\nCan anyone confirm that this is working under Ubuntu 20.04", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3693/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3693/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3685", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3685/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3685/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3685/events", "html_url": "https://github.com/beetbox/beets/issues/3685", "id": 665586286, "node_id": "MDU6SXNzdWU2NjU1ODYyODY=", "number": 3685, "title": "Sanitize colons in drive-letter-like positions in Windows filenames like path separators", "user": {"login": "gschmidl", "id": 20334, "node_id": "MDQ6VXNlcjIwMzM0", "avatar_url": "https://avatars.githubusercontent.com/u/20334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gschmidl", "html_url": "https://github.com/gschmidl", "followers_url": "https://api.github.com/users/gschmidl/followers", "following_url": "https://api.github.com/users/gschmidl/following{/other_user}", "gists_url": "https://api.github.com/users/gschmidl/gists{/gist_id}", "starred_url": "https://api.github.com/users/gschmidl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gschmidl/subscriptions", "organizations_url": "https://api.github.com/users/gschmidl/orgs", "repos_url": "https://api.github.com/users/gschmidl/repos", "events_url": "https://api.github.com/users/gschmidl/events{/privacy}", "received_events_url": "https://api.github.com/users/gschmidl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-25T13:33:49Z", "updated_at": "2020-07-26T19:13:06Z", "closed_at": "2020-07-26T19:13:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have an album containing an artist named \"F:A.R.\". When doing any activity that involves moving this artist, the file is not moved to \"M:\\F:A.R.\" (I'm using unicode replacements instead of underscores), but to \"M:\\F:\\A.R.\".\r\n\r\n### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n~ \u276f beet -vv move \"artist::^F.A.R\"\r\nuser configuration: C:\\Users\\Gunther Schmidl\\AppData\\Roaming\\beets\\config.yaml\r\ndata directory: C:\\Users\\Gunther Schmidl\\AppData\\Roaming\\beets\r\nplugin paths:\r\nSending event: pluginload\r\nlyrics: Disabling google source: no API key configured.\r\nlibrary database: M:\\lib.db\r\nlibrary directory: M:\\\r\nSending event: library_opened\r\nMoving 1 item.\r\nmoving: M:\\F\ua789A\u2024R\u2024 \uff0f Muslimgauze\\[1990] Manipulation (Live Extracts) \uff0f Death of Saint Jarnaii Singh Bhindranwaie\\01-01 - Manipulation (Live Extracts).mp3\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: cli_exit\r\n```\r\n\r\nLed to this problem:\r\n\r\nHere's what it looks like in the database: https://i.imgur.com/Z5lvGqE.png\r\n\r\nHere's a link to the music files that trigger the bug (if relevant):\r\n\r\nhttps://www.dropbox.com/s/pastihu349z6kce/01-01%20-%20Manipulation%20%28Live%20Extracts%29.mp3?dl=0\r\n\r\n### Setup\r\n\r\n* OS: Windows 10 v2004\r\n* Python version: 3.8.0\r\n* beets version: latest trunk, but also happens in latest released version\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\n    sources:\r\n    - google\r\n    - lyricwiki\r\n    - musixmatch\r\n    - genius\r\ndirectory: M:/\r\nlibrary: M:/lib.db\r\n\r\npaths:\r\n    default: $albumartist/[$year] $album%aunique{}/$disc-$track - $title\r\n    singleton: Non-Album/$artist/$title\r\n    comp: Compilations/[$year] $album%aunique{}/$disc-$track - $title\r\n\r\nplugins: web mbsync discogs chroma lastgenre duplicates lyrics\r\nlastgenre:\r\n    source: artist\r\n    force: no\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\n\r\nreplace:\r\n    \\\\: \"\\uFF3C\"\r\n    /: \"\\uFF0F\"\r\n    \\.{3}: \"\\u2026\"\r\n    \\.: \"\\u2024\"\r\n    '[\\x00-\\x1f]': ''\r\n    <: \"\\uFE64\"\r\n    '>': \"\\uFE65\"\r\n    ':': \"\\uA789\"\r\n    '\"': \"\\uFF02\"\r\n    \\?: \"\\uFF1F\"\r\n    \\*: \"\\u204E\"\r\n    \\|: \"\\u2502\"\r\n    \\s+$: ''\r\n    ^\\s+: ''\r\n    ^-: \"\\u2012\"\r\npath_sep_replace: \"\\uFF0F\"\r\ndiscogs:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: discogs_token.json\r\n    source_weight: 0.5\r\n    user_token: REDACTED\r\n    separator: ', '\r\n    index_tracks: no\r\nweb:\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\n    cors_supports_credentials: no\r\n    reverse_proxy: no\r\n    include_paths: no\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\nchroma:\r\n    auto: yes\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3540", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3540/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3540/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3540/events", "html_url": "https://github.com/beetbox/beets/issues/3540", "id": 594648898, "node_id": "MDU6SXNzdWU1OTQ2NDg4OTg=", "number": 3540, "title": "TypeError upon import", "user": {"login": "abdulocracy", "id": 25480267, "node_id": "MDQ6VXNlcjI1NDgwMjY3", "avatar_url": "https://avatars.githubusercontent.com/u/25480267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abdulocracy", "html_url": "https://github.com/abdulocracy", "followers_url": "https://api.github.com/users/abdulocracy/followers", "following_url": "https://api.github.com/users/abdulocracy/following{/other_user}", "gists_url": "https://api.github.com/users/abdulocracy/gists{/gist_id}", "starred_url": "https://api.github.com/users/abdulocracy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abdulocracy/subscriptions", "organizations_url": "https://api.github.com/users/abdulocracy/orgs", "repos_url": "https://api.github.com/users/abdulocracy/repos", "events_url": "https://api.github.com/users/abdulocracy/events{/privacy}", "received_events_url": "https://api.github.com/users/abdulocracy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 431140501, "node_id": "MDU6TGFiZWw0MzExNDA1MDE=", "url": "https://api.github.com/repos/beetbox/beets/labels/blocker", "name": "blocker", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-05T21:17:43Z", "updated_at": "2020-04-10T12:19:17Z", "closed_at": "2020-04-10T12:19:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nRunning from git tip, when trying to import I get this error:\r\n\r\n```\r\nTraceback (most recent call last):                                                                                                                                                                     \r\n  File \"/home/abdulkadir/.local/bin/beet\", line 11, in <module>                                                                                                                                        \r\n    load_entry_point('beets==1.5.0', 'console_scripts', 'beet')()                                                                                                                                      \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/ui/__init__.py\", line 1267, in main                                                                            \r\n    _raw_main(args)                                                                                                                                                                                    \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/ui/__init__.py\", line 1254, in _raw_main                                                                       \r\n    subcommand.func(lib, suboptions, subargs)                                                                                                                                                          \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/ui/commands.py\", line 956, in import_func                                                                      \r\n    import_files(lib, paths, query)                                                                                                                                                                    \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/ui/commands.py\", line 926, in import_files                                                                     \r\n    session.run()                                                                                                                                                                                      \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/importer.py\", line 329, in run                                                                                 \r\n    pl.run_parallel(QUEUE_SIZE)                                                                                                                                                                        \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/util/pipeline.py\", line 445, in run_parallel                                                                   \r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])                                                                                                                                                 \r\n  File \"/usr/lib/python3/dist-packages/six.py\", line 693, in reraise                                                                                                                                   \r\n    raise value                                                                                                                                                                                        \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/util/pipeline.py\", line 312, in run                                                                            \r\n    out = self.coro.send(msg)                                                                                                                                                                          \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/util/pipeline.py\", line 194, in coro                                                                           \r\n    func(*(args + (task,)))                                                                                                                                                                            \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/importer.py\", line 1353, in lookup_candidates                                                                  \r\n    task.lookup_candidates()                                                                                                                                                                           \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/importer.py\", line 641, in lookup_candidates                                                                   \r\n    autotag.tag_album(self.items, search_ids=self.search_ids)                                                                                                                                          \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/autotag/match.py\", line 467, in tag_album                                                                      \r\n    extra_tags):                                                                                                                                                                                       \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/plugins.py\", line 577, in decorated                                                                            \r\n    for v in generator(*args, **kwargs):                                                                                                                                                               \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/autotag/hooks.py\", line 647, in album_candidates                                                               \r\n    extra_tags):                                                                                                                                                                                       \r\n  File \"/home/abdulkadir/.local/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/plugins.py\", line 387, in candidates                                                                           \r\n    extra_tags):                                                                                                                                                                                       \r\nTypeError: candidates() takes 5 positional arguments but 6 were given                                                                                                                                  \r\n```\r\n\r\nI've tried rolling back commits and have narrowed it down to 19d6dfc8f301c4123989227084842d1c25807594. When importing an existing library without tagging there is no error.\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux, Debian\r\n* Python version: 3.8, 3.7\r\n* beets version: git\r\n* Turning off plugins made problem go away (yes/no): didn't try\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:                                                                                                                                                                                      [113/2672]\r\n    bing_lang_from: []                                                                                                                                                                                 \r\n    auto: yes                                                                                                                                                                                          \r\n    bing_client_secret: REDACTED                                                                                                                                                                       \r\n    bing_lang_to:                                                                                                                                                                                      \r\n    google_API_key: REDACTED                                                                                                                                                                           \r\n    google_engine_ID: REDACTED                                                                                                                                                                         \r\n    genius_api_key: REDACTED                                                                                                                                                                           \r\n    fallback:                                                                                                                                                                                          \r\n    force: no                                                                                                                                                                                          \r\n    local: no                                                                                                                                                                                          \r\n    sources:                                                                                                                                                                                           \r\n    - google                                                                                                                                                                                           \r\n    - lyricwiki                                                                                                                                                                                        \r\n    - musixmatch                                                                                                                                                                                       \r\n    - genius                                                                                                                                                                                           \r\ndirectory: /media/music/music-archive                                                                                                                                                                  \r\nlibrary: /media/music/music-archive/beets.db                                                                                                                                                           \r\n                                                                                                                                                                                                       \r\nplugins: acousticbrainz absubmit badfiles chroma convert deezer discogs duplicates embedart info fetchart fromfilename lastgenre lyrics mbsync missing replaygain scrub spotify thumbnails             \r\nconvert:                                                                                                                                                                                               \r\n    copy_album_art: yes                                                                                                                                                                                \r\n    never_convert_lossy_files: yes                                                                                                                                                                     \r\n    command: /home/abdulkadir/.scripts/convert_mp3.sh $source $dest                                                                                                                                    \r\n    extension: mp3                                                                                                                                                                                     \r\n    dest:                                                                                                                                                                                              \r\n    pretend: no                                                                                                                                                                                        \r\n    link: no                                                                                                                                                                                           \r\n    hardlink: no                                                                                                                                                                                       \r\n    threads: 4                                                                                                                                                                                         \r\n    format: mp3                                                                                                                                                                                        \r\n    id3v23: inherit\r\n    formats:\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    max_bitrate: 500\r\n    auto: no\r\n    tmpdir:\r\n    quiet: no\r\n    embed: yes                                                                                                                                                                                [65/2672]\r\n\r\n    paths: {}\r\n    no_convert: ''\r\n    album_art_maxwidth: 0\r\nreplaygain:\r\n    auto: yes\r\n    backend: ffmpeg\r\n    r128_targetlevel: 89\r\n    overwrite: no\r\n    per_disc: no\r\n    peak: 'true'\r\n    targetlevel: 89\r\n    r128: [Opus]\r\nfetchart:\r\n    sources: coverart itunes amazon albumart fanarttv filesystem\r\n    fanarttv_key: REDACTED\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    quality: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    store_source: no\r\n    high_resolution: no\r\nlastgenre:\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no                                                                                                                                                                                 [17/2672]\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\ndiscogs:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: discogs_token.json\r\n    source_weight: 0.5\r\n    user_token: REDACTED\r\n    separator: ', '\r\n    index_tracks: no\r\nthumbnails:\r\n    auto: yes\r\n    force: no\r\n    dolphin: no\r\nacousticbrainz:\r\n    auto: yes\r\n    force: no\r\n    tags: []\r\nmissing:\r\n    count: no\r\n    total: no\r\n    album: no\r\nspotify:\r\n    source_weight: 0.5\r\n    mode: list\r\n    tiebreak: popularity\r\n    show_failures: no\r\n    artist_field: albumartist\r\n    album_field: album\r\n    track_field: title\r\n    region_filter:\r\n    regex: []\r\n    client_id: 4e414367a1d14c75a5c5129a627fcab8\r\n    client_secret: REDACTED\r\n    tokenfile: spotify_token.json\r\nchroma:\r\n    auto: yes\r\nembedart:\r\n    maxwidth: 0\r\n    auto: yes\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    remove_art_file: no\r\n    quality: 0\r\ndeezer:\r\n    source_weight: 0.5\r\nabsubmit:\r\n    extractor: ''\r\n    force: no\r\n    pretend: no\r\nscrub:\r\n    auto: yes\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3540/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3535", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3535/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3535/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3535/events", "html_url": "https://github.com/beetbox/beets/issues/3535", "id": 590566543, "node_id": "MDU6SXNzdWU1OTA1NjY1NDM=", "number": 3535, "title": "genius: Tolerate missing lyrics div in Genius scraper", "user": {"login": "valpackett", "id": 208340, "node_id": "MDQ6VXNlcjIwODM0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/208340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valpackett", "html_url": "https://github.com/valpackett", "followers_url": "https://api.github.com/users/valpackett/followers", "following_url": "https://api.github.com/users/valpackett/following{/other_user}", "gists_url": "https://api.github.com/users/valpackett/gists{/gist_id}", "starred_url": "https://api.github.com/users/valpackett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valpackett/subscriptions", "organizations_url": "https://api.github.com/users/valpackett/orgs", "repos_url": "https://api.github.com/users/valpackett/repos", "events_url": "https://api.github.com/users/valpackett/events{/privacy}", "received_events_url": "https://api.github.com/users/valpackett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-03-30T20:18:33Z", "updated_at": "2020-04-17T22:29:44Z", "closed_at": "2020-04-17T22:29:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n  File \"/home/greg/.local/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 410, in fetch\r\n    return self.lyrics_from_song_api_path(song_api_path)\r\n  File \"/home/greg/.local/lib/python3.7/site-packages/beetsplug/lyrics.py\", line 376, in lyrics_from_song_api_path\r\n    lyrics = html.find(\"div\", class_=\"lyrics\").get_text()\r\nAttributeError: 'NoneType' object has no attribute 'get_text'\r\n```\r\n\r\nMissing error handling when processing lyrics downloads, this shouldn't fail that hard.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3535/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3535/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3533", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3533/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3533/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3533/events", "html_url": "https://github.com/beetbox/beets/issues/3533", "id": 590452977, "node_id": "MDU6SXNzdWU1OTA0NTI5Nzc=", "number": 3533, "title": "replaygain: Don't crash when albums have a mix of ReplayGain and EBU R128 formats", "user": {"login": "valpackett", "id": 208340, "node_id": "MDQ6VXNlcjIwODM0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/208340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valpackett", "html_url": "https://github.com/valpackett", "followers_url": "https://api.github.com/users/valpackett/followers", "following_url": "https://api.github.com/users/valpackett/following{/other_user}", "gists_url": "https://api.github.com/users/valpackett/gists{/gist_id}", "starred_url": "https://api.github.com/users/valpackett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valpackett/subscriptions", "organizations_url": "https://api.github.com/users/valpackett/orgs", "repos_url": "https://api.github.com/users/valpackett/repos", "events_url": "https://api.github.com/users/valpackett/events{/privacy}", "received_events_url": "https://api.github.com/users/valpackett/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-30T17:11:31Z", "updated_at": "2020-04-23T12:04:19Z", "closed_at": "2020-04-23T12:04:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nbeetsplug.replaygain.ReplayGainError: Mix of ReplayGain and EBU R128 detected for some tracks in album  -\r\n```\r\n\r\nThe message isn't accurate: pretty much all of my library is Opus files with both tags \u2014 this is not about the actual tags in the files, this is about formats, the code checks `should_use_r128` \u2014 this actually seems to mean \"you've mixed Opus and not-Opus in the same album\". Which.. shouldn't be a fatal error??", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3516", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3516/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3516/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3516/events", "html_url": "https://github.com/beetbox/beets/issues/3516", "id": 581635101, "node_id": "MDU6SXNzdWU1ODE2MzUxMDE=", "number": 3516, "title": "Erroneous @classmethod on NoneQuery.match", "user": {"login": "adamjakab", "id": 1028115, "node_id": "MDQ6VXNlcjEwMjgxMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1028115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamjakab", "html_url": "https://github.com/adamjakab", "followers_url": "https://api.github.com/users/adamjakab/followers", "following_url": "https://api.github.com/users/adamjakab/following{/other_user}", "gists_url": "https://api.github.com/users/adamjakab/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamjakab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamjakab/subscriptions", "organizations_url": "https://api.github.com/users/adamjakab/orgs", "repos_url": "https://api.github.com/users/adamjakab/repos", "events_url": "https://api.github.com/users/adamjakab/events{/privacy}", "received_events_url": "https://api.github.com/users/adamjakab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-15T11:32:24Z", "updated_at": "2020-03-16T13:08:04Z", "closed_at": "2020-03-16T13:08:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen running a query against the library that contains a NoneQuery such as:\r\n\r\n> dbcore.query.NoneQuery(u'gender', fast=False)\r\n\r\nbeet exits with the following traceback:\r\n\r\n```sh\r\nTraceback (most recent call last):\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/bin/beet\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1266, in main\r\n    _raw_main(args)\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1253, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/Users/jackisback/Documents/Projects/Python/BeetsPluginXtractor/beetsplug/xtractor/command.py\", line 133, in func\r\n    self.xtract()\r\n  File \"/Users/jackisback/Documents/Projects/Python/BeetsPluginXtractor/beetsplug/xtractor/command.py\", line 157, in xtract\r\n    if len(library_items) == 0:\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/dbcore/db.py\", line 741, in __len__\r\n    for obj in self:\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/dbcore/db.py\", line 689, in _get_objects\r\n    if not self.query or self.query.match(obj):\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/dbcore/query.py\", line 462, in match\r\n    return all([q.match(item) for q in self.subqueries])\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/dbcore/query.py\", line 462, in <listcomp>\r\n    return all([q.match(item) for q in self.subqueries])\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/dbcore/query.py\", line 472, in match\r\n    return any([q.match(item) for q in self.subqueries])\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/dbcore/query.py\", line 472, in <listcomp>\r\n    return any([q.match(item) for q in self.subqueries])\r\n  File \"/Users/jackisback/opt/miniconda3/envs/beetsdevel/lib/python3.7/site-packages/beets/dbcore/query.py\", line 168, in match\r\n    return item[cls.field] is None\r\nAttributeError: type object 'NoneQuery' has no attribute 'field'\r\n```\r\n\r\nThe above example is using a flex attribute but the same error can be reproduced using a fixed field such as: `dbcore.query.NoneQuery(u'title')`\r\n\r\nThis behaviour has already been reported in #1634, identifying the problem within the `@classmethod` decorated match method using `self` in the NoneQuery class. The bug was fixed by correcting `self` to `cls` leaving the method itself decorated with `@classmethod`.\r\n\r\n\r\n### Setup\r\nbeets version 1.4.9\r\nPython version 3.7.6\r\nplugins: info, xtractor\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\n### Possible solution\r\nThe NotQuery.match method should probably not be decorated with `@classmethod`.\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3516/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3507", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3507/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3507/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3507/events", "html_url": "https://github.com/beetbox/beets/issues/3507", "id": 573919886, "node_id": "MDU6SXNzdWU1NzM5MTk4ODY=", "number": 3507, "title": "Integers are not normalized", "user": {"login": "adamjakab", "id": 1028115, "node_id": "MDQ6VXNlcjEwMjgxMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1028115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamjakab", "html_url": "https://github.com/adamjakab", "followers_url": "https://api.github.com/users/adamjakab/followers", "following_url": "https://api.github.com/users/adamjakab/following{/other_user}", "gists_url": "https://api.github.com/users/adamjakab/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamjakab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamjakab/subscriptions", "organizations_url": "https://api.github.com/users/adamjakab/orgs", "repos_url": "https://api.github.com/users/adamjakab/repos", "events_url": "https://api.github.com/users/adamjakab/events{/privacy}", "received_events_url": "https://api.github.com/users/adamjakab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-02T11:46:30Z", "updated_at": "2020-03-15T00:28:18Z", "closed_at": "2020-03-15T00:28:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## The Curse of the Floating BPM Value\r\n\r\n### Problem\r\n\r\nBeets currently allows the Model to set and the library to store any value for a field which is declared as `types.INTEGER` in the Item class. This behaviour however is not supported by MediaFile and for fields (such as bpm) which are [declared as integers](https://github.com/beetbox/mediafile/blob/master/mediafile.py#L1735)  these values are casted to integer before being written to the audio file tags. This results in the Model remaining always dirty and hence in the impossibility to have the library fully aligned with the media files.\r\n\r\nThis issue has been reported in #762 and discussed [here](https://discourse.beets.io/t/beet-write-bpm-quirk/738) on the forum. I am opening a new issue because even though this issue is most evident with the bpm field in reality it affects all fields declared `types.INTEGER` [in the Item class](https://github.com/beetbox/beets/blob/master/beets/library.py#L437).\r\n\r\nIn short, for any item in the library which has a bpm value in a non-integer format:\r\n```text\r\n     ...\r\n     bpm: 119.434509277\r\n     ...\r\n```\r\n\r\nRunning this command:\r\n```sh\r\n$ beet write\r\n```\r\n\r\nwill produce:\r\n\r\n```\r\n...\r\nMadness - Full House: The Very Best of Madness - My Girl\r\n  bpm: 119 -> 119.434509277\r\n...\r\n```\r\n\r\nrepeatedly. The audio file, if inspected through `beet info \"My Girl\"` will report:\r\n```text\r\n    ...\r\n    bpm: 119\r\n    ...\r\n```\r\nTherefore library and mediafile will remain forever out of sync.\r\n\r\n### Setup\r\n\r\n* OS: macOS 10.13.6\r\n* Python version: 3.7.6\r\n* beets version:  1.4.9 ([master](https://github.com/beetbox/beets/commit/8b8d223755662f499125b913ec9298faf3a2e3b2))\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /Volumes/Data/_TmpMusic_/\r\nlibrary: ~/.config/beets/test_library.db\r\nasciify_paths: yes\r\nid3v23: yes\r\n\r\nui:\r\n    color: yes\r\n\r\nplugins:\r\n- the\r\n- inline\r\n- info\r\n- fromfilename\r\n- duplicates\r\n- convert\r\n- zero\r\n- acousticbrainz\r\n\r\nimport:\r\n    copy: no\r\n    move: yes\r\n    autotag: yes\r\n    from_scratch: yes\r\n    none_rec_action: asis\r\n    duplicate_action: remove\r\n    set_fields:\r\n        albumstatus: new\r\n\r\npaths:\r\n    default: '%asciify{$initial_letter}/%the{%asciify{$albumartist}}/%asciify{$album}/$track. %asciify{$title}'\r\n    singleton: V/Various Artists/%the{%asciify{$artist}}/$track. %asciify{$title}\r\n    comp: V/Various Artists/%the{%asciify{$artist}}/$track. %asciify{$title}\r\n\r\nmusicbrainz:\r\n    searchlimit: 3\r\nitem_fields:\r\n    initial_letter: albumartist[0].upper() if albumartist else 'U'\r\nzero:\r\n    auto: yes\r\n    fields:\r\n    - month\r\n    - day\r\n    - encoder\r\n    - lyrics\r\n    - comments\r\n    - artist_sort\r\n    - original_month\r\n    - original_day\r\n    update_database: yes\r\n    keep_fields: []\r\nconvert:\r\n    command: ffmpeg -i $source -y -q:a 5 -f mp3 $dest\r\n    extension: mp3\r\n    max_bitrate: 182\r\n    threads: 1\r\n    auto: no\r\n    dest: /Volumes/Data/_TmpMusic_/___converted___\r\n    format: mp3\r\n    formats:\r\n        mp3: ffmpeg -i $source -y -q:a 5 -f mp3 $dest\r\n        flac: ffmpeg -i $source -y -acodec flac -q:a 5 -f mp3 $dest\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    pretend: no\r\n    link: no\r\n    hardlink: no\r\n    id3v23: inherit\r\n    tmpdir:\r\n    quiet: no\r\n    embed: yes\r\n\r\n    paths: {}\r\n    no_convert: ''\r\n    never_convert_lossy_files: no\r\n    copy_album_art: no\r\n    album_art_maxwidth: 0\r\nacousticbrainz:\r\n    auto: no\r\n    force: no\r\n    tags: [bpm]\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\nthe:\r\n    the: yes\r\n    a: yes\r\n    format: '{0}, {1}'\r\n    strip: no\r\n    patterns: []\r\npathfields: {}\r\nalbum_fields: {}\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3507/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3507/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3479", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3479/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3479/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3479/events", "html_url": "https://github.com/beetbox/beets/issues/3479", "id": 557087506, "node_id": "MDU6SXNzdWU1NTcwODc1MDY=", "number": 3479, "title": "replaygain: bs1770gain v0.6.0 XML output can't be parsed", "user": {"login": "ybnd", "id": 31547038, "node_id": "MDQ6VXNlcjMxNTQ3MDM4", "avatar_url": "https://avatars.githubusercontent.com/u/31547038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybnd", "html_url": "https://github.com/ybnd", "followers_url": "https://api.github.com/users/ybnd/followers", "following_url": "https://api.github.com/users/ybnd/following{/other_user}", "gists_url": "https://api.github.com/users/ybnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybnd/subscriptions", "organizations_url": "https://api.github.com/users/ybnd/orgs", "repos_url": "https://api.github.com/users/ybnd/repos", "events_url": "https://api.github.com/users/ybnd/events{/privacy}", "received_events_url": "https://api.github.com/users/ybnd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-29T20:07:36Z", "updated_at": "2020-02-05T21:52:33Z", "closed_at": "2020-02-05T21:52:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nDescribe your problem, feature request, or discussion topic here.\r\n\r\nPlease fill out this and the \"Setup\" section below and remember to include\r\nenough detail so that other people can reproduce the problem.\r\n-->\r\n\r\n### replaygain: bs1770gain v0.6.0 XML output can't be parsed\r\n\r\nRunning `beet -vv replaygain` with the `bs1770gain` backend results in \r\n```\r\nreplaygain: analyzing Nyul -  When The Path Fades - Floatfall\r\nreplaygain: executing bs1770gain --ebu --xml -p /home/ybnd/code/beets/library/Nyul/2014 -  When The Path Fades/05 Floatfall.flac\r\nreplaygain: analysis finished: <!-- scanning 1 -->\r\n<!-- analyzing ... -->\r\n<bs1770gain norm=\"-23.00\">\r\n  <track total=\"1\" number=\"1\" file=\"05 Floatfall.flac\">\r\n    <integrated lufs=\"-10.99\" lu=\"-12.01\"/>\r\n    <sample-peak spfs=\"-0.10\" amplitude=\"0.99\"/>\r\n  </track>\r\n  <integrated lufs=\"-10.99\" lu=\"-12.01\"/>\r\n  <sample-peak spfs=\"-0.10\" amplitude=\"0.99\"/>\r\n</bs1770gain>\r\n<!-- done. -->\r\n\r\nreplaygain: ReplayGain error: The bs1770gain tool produced malformed XML. Using version >=0.4.10 may solve this problem.\r\n```\r\nfor all tracks.\r\n\r\n\r\n1. The actual XML output `text` that gets parsed at https://github.com/beetbox/beets/blob/ca3142b1d92d177a2d789775a4ff2ee5569b9ba6/beetsplug/replaygain.py#L318-L324 gets spliced with some progress percentages \r\n    ```\r\n    b'<!-- scanning 1 -->\r\n    <!-- analyzing ... -->\r\n    <bs1770gain norm=\"-23.00\">\r\n      <track total=\"1\" number=\"1\" file=\"05 Floatfall.flac\">\r\n    0%\\x08\\x080%\\x08\\x080%\\x08\\x080%\\x08\\x08 ...\r\n    ... 100%\\x08\\x08\\x08\\x08    \\x08\\x08\\x08\\x08    <integrated lufs=\"-10.99\" lu=\"-12.01\"/>\r\n        <sample-peak spfs=\"-0.10\" amplitude=\"0.99\"/>\r\n      </track>\r\n      <integrated lufs=\"-10.99\" lu=\"-12.01\"/>\r\n      <sample-peak spfs=\"-0.10\" amplitude=\"0.99\"/>\r\n    </bs1770gain>\r\n    <!-- done. -->'\r\n    ```\r\n2. The parser expects `factor` instead of `amplitude` in the `sample-peak` element, which *used to be* what the output looked like based on https://github.com/beetbox/beets/issues/2983): https://github.com/beetbox/beets/blob/ca3142b1d92d177a2d789775a4ff2ee5569b9ba6/beetsplug/replaygain.py#L296-L299\r\n    \r\n\r\n### Setup\r\n\r\n* OS: 5.4.14-2-MANJARO\r\n* Python version: 3.8.1\r\n* beets version: [current master](https://github.com/beetbox/beets/tree/ca3142b1d92d177a2d789775a4ff2ee5569b9ba6)\r\n* Turning off plugins made problem go away (yes/no): n/a\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nreplaygain:\r\n    backend: bs1770gain\r\n    method: ebu\r\n```\r\n\r\nwith \r\n\r\n```\r\n$ bs1770gain --version\r\nbs1770gain 0.6.0, Copyright (C) Peter Belkner 2014-2019.\r\n```\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3479/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3450", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3450/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3450/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3450/events", "html_url": "https://github.com/beetbox/beets/issues/3450", "id": 534521121, "node_id": "MDU6SXNzdWU1MzQ1MjExMjE=", "number": 3450, "title": "fetchart: Logged requests ignore proxy settings from environment variables", "user": {"login": "aditya12398", "id": 52461779, "node_id": "MDQ6VXNlcjUyNDYxNzc5", "avatar_url": "https://avatars.githubusercontent.com/u/52461779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aditya12398", "html_url": "https://github.com/aditya12398", "followers_url": "https://api.github.com/users/aditya12398/followers", "following_url": "https://api.github.com/users/aditya12398/following{/other_user}", "gists_url": "https://api.github.com/users/aditya12398/gists{/gist_id}", "starred_url": "https://api.github.com/users/aditya12398/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aditya12398/subscriptions", "organizations_url": "https://api.github.com/users/aditya12398/orgs", "repos_url": "https://api.github.com/users/aditya12398/repos", "events_url": "https://api.github.com/users/aditya12398/events{/privacy}", "received_events_url": "https://api.github.com/users/aditya12398/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-12-08T10:27:03Z", "updated_at": "2020-02-07T02:54:15Z", "closed_at": "2020-02-07T02:54:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\nI recently noticed that beet is not embedding album art in my music files as I import them if they are not available locally. So I ran`beet fetchart` command and tried running it in verbose mode for one of the failed albums.\r\n\r\nI think I should mention that I am using internet behind a proxy server, not sure if this has anything to do with the error but I am suspicious that its the proxy.\r\n\r\nI first ran the import command in verbose mode which gave the following output:\r\n\r\n```sh\r\nslimshady@Slim-Shady:~/Downloads/Unfixed/C\u00e9line Dion$ beet -v import .\r\nuser configuration: /home/slimshady/.config/beets/config.yaml\r\ndata directory: /home/slimshady/.config/beets\r\nplugin paths: /home/slimshady/Apps/beets/plugins\r\nSending event: pluginload\r\nlibrary database: /home/slimshady/Apps/beets/musiclibrary.db\r\nlibrary directory: /home/slimshady/Music\r\nSending event: library_opened\r\nSending event: import_begin\r\nSending event: import_task_created\r\nSending event: import_task_start\r\nLooking up: /home/slimshady/Downloads/Unfixed/C\u00e9line Dion\r\nTagging  - \r\nNo album ID found.\r\nSearch terms:  - \r\nAlbum might be VA: True\r\nSending event: albuminfo_received\r\nCandidate: 423kidk, Lil Somethin' - Kyle (2771484)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.91\r\nSending event: albuminfo_received\r\nCandidate: TRiNoVaNTe - Love for You (2647161)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.90\r\nSending event: albuminfo_received\r\nCandidate: Figub Brazlevic - Kaseta De Ouf (2785162)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.96\r\nSending event: albuminfo_received\r\nCandidate: Azetune - OXT (2729859)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.88\r\nSending event: albuminfo_received\r\nCandidate: Namzo - Kensley Circuit (2689278)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.89\r\nRequesting MusicBrainz release fa6a5cfc-8418-4644-a99c-3180821ca360\r\nprimary MB release type: album\r\nsecondary MB release type(s): compilation, soundtrack\r\nSending event: albuminfo_received\r\nRequesting MusicBrainz release 2f347cfb-eab9-41da-ab7f-8b4d512a6c15\r\nprimary MB release type: album\r\nsecondary MB release type(s): compilation\r\nSending event: albuminfo_received\r\nRequesting MusicBrainz release bfd873a1-d81b-46f5-90ba-0a93ce2c8ffe\r\nprimary MB release type: album\r\nsecondary MB release type(s): compilation, soundtrack\r\nSending event: albuminfo_received\r\nRequesting MusicBrainz release f3c7e885-e459-43e5-865c-95c62a9781b9\r\nprimary MB release type: album\r\nsecondary MB release type(s): compilation, soundtrack\r\nSending event: albuminfo_received\r\nchroma: acoustid album candidates: 4\r\nSending event: albuminfo_received\r\nCandidate: Various Artists - Deadpool 2: Original Motion Picture Soundtrack (fa6a5cfc-8418-4644-a99c-3180821ca360)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.93\r\nSending event: albuminfo_received\r\nCandidate: Various Artists - Kuschelrock 32 (2f347cfb-eab9-41da-ab7f-8b4d512a6c15)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.97\r\nSending event: albuminfo_received\r\nCandidate: Various Artists - Deadpool 2 (Super Duper Cut) (bfd873a1-d81b-46f5-90ba-0a93ce2c8ffe)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.95\r\nSending event: albuminfo_received\r\nCandidate: Various Artists - Deadpool 2: Original Motion Picture Soundtrack (f3c7e885-e459-43e5-865c-95c62a9781b9)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.93\r\nEvaluating 9 candidates.\r\n\r\n/home/slimshady/Downloads/Unfixed/C\u00e9line Dion (1 items)\r\nSending event: before_choose_candidate\r\nFinding tags for album \" - \".\r\nCandidates:\r\n1. Azetune - OXT (11.7%) (album, artist, tracks, ...) (Beatport, Digital, 2020, YouTunez, 4250693219135)\r\n2. Namzo - Kensley Circuit (10.7%) (album, artist, tracks, ...) (Beatport, Digital, 2020, Karia Records, KR037)\r\n3. TRiNoVaNTe - Love for You (9.9%) (album, artist, tracks, ...) (Beatport, Digital, 2020, KP Recordings, KP462)\r\n4. 423kidk, Lil Somethin' - Kyle (9.2%) (album, artist, missing tracks, ...) (Beatport, Digital, 2020, SpacedOut Studios Entertainment, KL12062019)\r\n5. Various Artists - Deadpool 2: Original Motion Picture Soundtrack (7.3%) (missing tracks, album, tracks) (CD, 2018, US, Columbia, 19075853472)\r\n6. Various Artists - Deadpool 2: Original Motion Picture Soundtrack (7.3%) (missing tracks, album, tracks) (Digital Media, 2018, GB, Columbia)\r\n7. Various Artists - Deadpool 2 (Super Duper Cut) (5.4%) (missing tracks, album, tracks) (Digital Media, 2018, US, Columbia)\r\n8. Figub Brazlevic - Kaseta De Ouf (4.1%) (missing tracks, album, artist, ...) (Beatport, Digital, 2020, VinDig, VINDIG432)\r\n9. Various Artists - Kuschelrock 32 (2.5%) (missing tracks, album, tracks) (2xCD, 2018, XE, Sony Music, 19075 86604 2)\r\n# selection (default 1), Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? 6\r\nCorrecting tags from:\r\n    (unknown album)\r\nTo:\r\n    Deadpool 2: Original Motion Picture Soundtrack\r\nURL:\r\n    https://musicbrainz.org/release/f3c7e885-e459-43e5-865c-95c62a9781b9\r\n(Similarity: 7.3%) (missing tracks, album, tracks) (Digital Media, 2018, GB, Columbia)\r\n * C\u00e9line Dion - Ashes.mp3 (#0) (3:52) -> Ashes (#1) (3:19) (title, length)\r\nMissing tracks (11/12 - 91.7%):\r\n ! Welcome to the Party                         (# 2) (3:01)\r\n ! Nobody Speak                                 (# 3) (3:16)\r\n ! In Your Eyes                                 (# 4) (5:29)\r\n ! Take on Me (MTV Unplugged \u2013 Summer Solstice) (# 5) (4:14)\r\n ! If I Could Turn Back Time                    (# 6) (4:01)\r\n ! 9 to 5                                       (# 7) (2:45)\r\n ! All Out of Love                              (# 8) (4:03)\r\n ! We Belong (single version)                   (# 9) (3:42)\r\n ! Tomorrow                                     (#10) (2:30)\r\n ! Mutant Convoy                                (#11) (3:59)\r\n ! Bangarang                                    (#12) (3:35)\r\nApply, More candidates, Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? a\r\nSending event: import_task_choice\r\nSending event: import_task_apply\r\n0 of 1 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nlyrics: fetched lyrics: C\u00e9line Dion - Deadpool 2: Original Motion Picture Soundtrack - Ashes\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: import_task_files\r\nacousticbrainz: getting data for: C\u00e9line Dion - Deadpool 2: Original Motion Picture Soundtrack - Ashes\r\nSending event: database_change\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\nThem running fetchart command in verbose (`-v`) mode:\r\n\r\n```sh\r\n$ beet -v fetchart Deadpool\\ 2\r\n```\r\n\r\nGave the output as follows:\r\n\r\n```sh\r\nslimshady@Slim-Shady:~/Downloads/Unfixed/C\u00e9line Dion$ beet -v fetchart Deadpool\\ 2\r\nuser configuration: /home/slimshady/.config/beets/config.yaml\r\ndata directory: /home/slimshady/.config/beets\r\nplugin paths: /home/slimshady/Apps/beets/plugins\r\nSending event: pluginload\r\nlibrary database: /home/slimshady/Apps/beets/musiclibrary.db\r\nlibrary directory: /home/slimshady/Music\r\nSending event: library_opened\r\nfetchart: trying source filesystem for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: trying source itunes for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: getting URL: https://itunes.apple.com/search?term=Various+Artists+Deadpool+2%3A+Original+Motion+Picture+Soundtrack&entity=album&media=music&limit=200\r\nfetchart: iTunes search failed: HTTPSConnectionPool(host='itunes.apple.com', port=443): Max retries exceeded with url: /search?term=Various+Artists+Deadpool+2%3A+Original+Motion+Picture+Soundtrack&entity=album&media=music&limit=200 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f5b2494bac8>: Failed to establish a new connection: [Errno 101] Network is unreachable',))\r\nfetchart: trying source coverart for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: downloading image: https://coverartarchive.org/release/f3c7e885-e459-43e5-865c-95c62a9781b9/front\r\nfetchart: error fetching art: HTTPSConnectionPool(host='coverartarchive.org', port=443): Max retries exceeded with url: /release/f3c7e885-e459-43e5-865c-95c62a9781b9/front (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f5b2494b978>: Failed to establish a new connection: [Errno 110] Connection timed out',))\r\nfetchart: trying source coverart for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: downloading image: https://coverartarchive.org/release-group/22a7ab97-a014-41f2-96c7-98df794e01bb/front\r\nfetchart: error fetching art: HTTPSConnectionPool(host='coverartarchive.org', port=443): Max retries exceeded with url: /release-group/22a7ab97-a014-41f2-96c7-98df794e01bb/front (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f5b2494b0f0>: Failed to establish a new connection: [Errno 110] Connection timed out',))\r\nfetchart: trying source amazon for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: trying source albumart for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: trying source wikipedia for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: getting URL: https://dbpedia.org/sparql?format=application%2Fsparql-results%2Bjson&timeout=2500&query=PREFIX+rdf%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%3E%0A+++++++++++++++++PREFIX+dbpprop%3A+%3Chttp%3A%2F%2Fdbpedia.org%2Fproperty%2F%3E%0A+++++++++++++++++PREFIX+owl%3A+%3Chttp%3A%2F%2Fdbpedia.org%2Fontology%2F%3E%0A+++++++++++++++++PREFIX+rdfs%3A+%3Chttp%3A%2F%2Fwww.w3.org%2F2000%2F01%2Frdf-schema%23%3E%0A+++++++++++++++++PREFIX+foaf%3A+%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0A%0A+++++++++++++++++SELECT+DISTINCT+%3FpageId+%3FcoverFilename+WHERE+%7B%0A+++++++++++++++++++%3Fsubject+owl%3AwikiPageID+%3FpageId+.%0A+++++++++++++++++++%3Fsubject+dbpprop%3Aname+%3Fname+.%0A+++++++++++++++++++%3Fsubject+rdfs%3Alabel+%3Flabel+.%0A+++++++++++++++++++%7B+%3Fsubject+dbpprop%3Aartist+%3Fartist+%7D%0A+++++++++++++++++++++UNION%0A+++++++++++++++++++%7B+%3Fsubject+owl%3Aartist+%3Fartist+%7D%0A+++++++++++++++++++%7B+%3Fartist+foaf%3Aname+%22Various+Artists%22%40en+%7D%0A+++++++++++++++++++++UNION%0A+++++++++++++++++++%7B+%3Fartist+dbpprop%3Aname+%22Various+Artists%22%40en+%7D%0A+++++++++++++++++++%3Fsubject+rdf%3Atype+%3Chttp%3A%2F%2Fdbpedia.org%2Fontology%2FAlbum%3E+.%0A+++++++++++++++++++%3Fsubject+dbpprop%3Acover+%3FcoverFilename+.%0A+++++++++++++++++++FILTER+%28+regex%28%3Fname%2C+%22Deadpool+2%3A+Original+Motion+Picture+Soundtrack%22%2C+%22i%22%29+%29%0A++++++++++++++++++%7D%0A+++++++++++++++++Limit+1\r\nfetchart: dbpedia: error receiving response\r\nfetchart: trying source fanarttv for album Various Artists - Deadpool 2: Original Motion Picture Soundtrack\r\nfetchart: getting URL: https://webservice.fanart.tv/v3/music/albums/22a7ab97-a014-41f2-96c7-98df794e01bb\r\nfetchart: fanart.tv: error receiving response\r\nfetchart: Various Artists - Deadpool 2: Original Motion Picture Soundtrack: no art found\r\nSending event: cli_exit\r\n```\r\n### Setup\r\n\r\n* OS: Ubuntu 18.04\r\n* Python version:  3.6.9\r\n* beets version: 1.4.9\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    force: yes\r\n    sources: google lyricwiki musixmatch genius\r\n    google_API_key: REDACTED\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    local: no\r\ndirectory: ~/Music\r\nlibrary: ~/Apps/beets/musiclibrary.db\r\n\r\nimport:\r\n    write: yes\r\n    log: ~/Apps/beets/import-log.txt\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.15\r\n    medium_rec_thresh: 0.3\r\n\r\nplugins: acousticbrainz chroma fetchart lyrics embedart lastgenre ftintitle beatport\r\npluginpath: ~/Apps/beets/plugins\r\n\r\npaths:\r\n    default: $albumartist/$album%aunique{}/$track - $title\r\n    singleton: $artist/Singles/$title\r\nacousticbrainz:\r\n    auto: yes\r\n    force: yes\r\n    tags: []\r\nchroma:\r\n    auto: yes\r\nfetchart:\r\n    auto: yes\r\n    sources: filesystem itunes *\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    store_source: no\r\nembedart:\r\n    auto: yes\r\n    maxwidth: 0\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    remove_art_file: no\r\nlastgenre:\r\n    auto: yes\r\n    force: yes\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    separator: ', '\r\n    prefer_specific: no\r\nftintitle:\r\n    auto: yes\r\n    format: feat. {0}\r\n    drop: no\r\nbeatport:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: beatport_token.json\r\n    source_weight: 0.5\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3387", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3387/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3387/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3387/events", "html_url": "https://github.com/beetbox/beets/issues/3387", "id": 501095925, "node_id": "MDU6SXNzdWU1MDEwOTU5MjU=", "number": 3387, "title": "Beatport plugin does not apply tags to file", "user": {"login": "temrix", "id": 17903834, "node_id": "MDQ6VXNlcjE3OTAzODM0", "avatar_url": "https://avatars.githubusercontent.com/u/17903834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/temrix", "html_url": "https://github.com/temrix", "followers_url": "https://api.github.com/users/temrix/followers", "following_url": "https://api.github.com/users/temrix/following{/other_user}", "gists_url": "https://api.github.com/users/temrix/gists{/gist_id}", "starred_url": "https://api.github.com/users/temrix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/temrix/subscriptions", "organizations_url": "https://api.github.com/users/temrix/orgs", "repos_url": "https://api.github.com/users/temrix/repos", "events_url": "https://api.github.com/users/temrix/events{/privacy}", "received_events_url": "https://api.github.com/users/temrix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2019-10-01T19:21:46Z", "updated_at": "2019-11-01T15:37:05Z", "closed_at": "2019-10-06T15:45:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nContinuation of issue #2080 \r\nThe beatport plugin fetches genres, bpm and musical_key among others. These should be shown when querying using `beat ls ...` and written into the tags of the music files. However, `genre` is not applied, `bpm` is correctly applied and written to tags and `musical_key` is applied but not written to tags.\r\n\r\nDuring writing this bug report I found that I did not pass the attribute `self.genre` to the hook. This explains why `genre` was not applied but not why `musical_key` is not written to tags.\r\n\r\nI will issue a pull request resolving the first bug but I don't know why `musical_key_ is not written to the tags.\r\n\r\n### Reproducing\r\n\r\nDeleting with a tag editor `genre` and `bpm` beforehand.\r\n\r\nFirst, we import the album in timid (`-t`) mode:\r\n\r\n```sh\r\n$ beet -vv import ~/music -t\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nuser configuration: /home/temrix/.config/beets/config.yaml\r\ndata directory: /home/temrix/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/temrix/Dokumente/musiclibrary.db\r\nlibrary directory: /home/temrix/music\r\nSending event: library_opened\r\nSending event: import_begin\r\nSending event: import_task_created\r\nSending event: import_task_start\r\nLooking up: /home/temrix/music/Supersillyus - Charade - 2016 - MP3\r\nTagging Supersillyus - Charade\r\nNo album ID found.\r\nSearch terms: Supersillyus - Charade\r\nAlbum might be VA: False\r\nSearching for MusicBrainz releases with: {'release': 'charade', 'artist': 'supersillyus', 'tracks': '6'}\r\nRequesting MusicBrainz release 311af76c-3c77-4603-8b64-b4de17ee6c3a\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Supersillyus - Charade (311af76c-3c77-4603-8b64-b4de17ee6c3a)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.00\r\nRequesting MusicBrainz release 8613ba08-2700-48bc-8a2c-349a81e37a31\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Supersillyus - Tesselations (8613ba08-2700-48bc-8a2c-349a81e37a31)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.70\r\nRequesting MusicBrainz release 8ff531fd-198c-4188-9a60-0eff01591153\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: Supersillyus - Interabang\u203d (8ff531fd-198c-4188-9a60-0eff01591153)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.58\r\nRequesting MusicBrainz release a39d17fc-78c2-3daf-bc8e-c5408580423d\r\nprimary MB release type: album\r\nsecondary MB release type(s): soundtrack\r\nSending event: albuminfo_received\r\nCandidate: Henry Mancini - Charade (a39d17fc-78c2-3daf-bc8e-c5408580423d)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.72\r\nRequesting MusicBrainz release 8770c677-9199-4d97-867b-1a28804a3728\r\nprimary MB release type: single\r\nSending event: albuminfo_received\r\nCandidate: Skids - Charade (8770c677-9199-4d97-867b-1a28804a3728)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.60\r\nSending event: albuminfo_received\r\nCandidate: Supersillyus - Charade (1742984)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.12\r\nEvaluating 6 candidates.\r\n\r\n/home/temrix/music/Supersillyus - Charade - 2016 - MP3 (6 items)\r\nSending event: before_choose_candidate\r\nTagging:\r\n    Supersillyus - Charade\r\nURL:\r\n    https://musicbrainz.org/release/311af76c-3c77-4603-8b64-b4de17ee6c3a\r\n(Similarity: 100.0%) (Digital Media, 2016, XW, Gravitas Recordings, GR089)\r\n * Mirage a Trois ->\r\n   Mirage \u00e0 Trois\r\n * A List of Instructions for When I'm Human ->\r\n   A List of Instructions for When I\u2019m Human\r\n[A]pply, More candidates, Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? m\r\nFinding tags for album \"Supersillyus - Charade\".\r\nCandidates:\r\n1. Supersillyus - Charade (100.0%) (Digital Media, 2016, XW, Gravitas Recordings, GR089)\r\n2. Supersillyus - Charade (88.1%) (tracks, source) (Beatport, Digital, 2016, Gravitas Recordings, GR089)\r\n3. Supersillyus - Interabang\u203d (41.8%) (tracks, album, unmatched tracks, ...) (Digital Media, 2013, US)\r\n4. Skids - Charade (39.9%) (tracks, unmatched tracks, artist, ...) (7\" Vinyl, 1979, GB, Virgin, VS 288)\r\n5. Supersillyus - Tesselations (29.7%) (tracks, missing tracks, album, ...) (Digital Media, 2011, US, Base Trip Records, [none])\r\n6. Henry Mancini - Charade (28.0%) (tracks, missing tracks, artist, ...) (CD, 1998, ES, RCA Victor)\r\n# selection (default 1), Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? 2\r\nTagging:\r\n    Supersillyus - Charade\r\nURL:\r\n    https://beatport.com/release/charade/1742984\r\n(Similarity: 88.1%) (tracks, source) (Beatport, Digital, 2016, Gravitas Recordings, GR089)\r\n * Mirage a Trois ->\r\n   Mirage a Trois (source)\r\n * Aeon Bahamut ->\r\n   Aeon Bahamut (source)\r\n * Trancendental Medication ->\r\n   Trancendental Medication (source)\r\n * A List of Instructions for When I'm Human ->\r\n   A List of Instructions for When I'm Human (source)\r\n * The Great Shenanigan ->\r\n   The Great Shenanigan (source)\r\n * Charade ->\r\n   Charade (source)\r\nApply, More candidates, Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? a\r\nSending event: import_task_choice\r\nSending event: import_task_apply\r\n0 of 6 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\nAfter that:\r\n\r\n```sh\r\n$ beet -vv ls -f '$title - $genre - $bpm - $musical_key'\r\n```\r\n\r\n```\r\nuser configuration: /home/temrix/.config/beets/config.yaml\r\ndata directory: /home/temrix/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/temrix/Dokumente/musiclibrary.db\r\nlibrary directory: /home/temrix/music\r\nSending event: library_opened\r\nMirage a Trois - Downtempo - 90 - Gmin\r\nAeon Bahamut - Downtempo - 100 - Gmaj\r\nTrancendental Medication - Downtempo - 141 - Fmaj\r\nA List of Instructions for When I'm Human - Downtempo - 88 - Amin\r\nThe Great Shenanigan - Downtempo - 123 - E&#9837;maj\r\nCharade - Downtempo - 123 - Amaj\r\nSending event: cli_exit\r\n```\r\n\r\n`genre` is left unaltered but should be changed to `Glitch Hop`, `bpm` is correct and written to tags, `musical_key` is correct and not written to tags.\r\n\r\nWe run this:\r\n\r\n```sh\r\n$ beet -vv ls -af '$album - $genre'\r\n```\r\n\r\nAlbum genre has not changed.\r\n\r\n```\r\nuser configuration: /home/temrix/.config/beets/config.yaml\r\ndata directory: /home/temrix/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/temrix/Dokumente/musiclibrary.db\r\nlibrary directory: /home/temrix/music\r\nSending event: library_opened\r\nCharade - Downtempo\r\nSending event: cli_exit\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant):\r\nSimple free download link to files, Creative Commons licensed, and also available in the Beatport catalogue: https://ektoplazm.com/free-music/supersillyus-charade\r\n\r\n### Setup\r\n\r\n* OS: Debian\r\n* Python version: 3.7.3\r\n* beets version: 1.5.0\r\n* Turning off plugins made problem go away (yes/no): yes\r\n* Tagging program used to read tags: Musicbrainz Picard\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: ~/music\r\nlibrary: ~/Dokumente/musiclibrary.db\r\n\r\nimport:\r\n    copy: yes\r\n    write: yes\r\n\r\nui:\r\n    color: yes\r\n\r\nplugins: beatport\r\nbeatport:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: beatport_token.json\r\n    source_weight: 0.5\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3387/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3387/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3346", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3346/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3346/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3346/events", "html_url": "https://github.com/beetbox/beets/issues/3346", "id": 481920619, "node_id": "MDU6SXNzdWU0ODE5MjA2MTk=", "number": 3346, "title": "Importer displays misleading info on album with track 0", "user": {"login": "InvisibleFunction", "id": 3682184, "node_id": "MDQ6VXNlcjM2ODIxODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3682184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InvisibleFunction", "html_url": "https://github.com/InvisibleFunction", "followers_url": "https://api.github.com/users/InvisibleFunction/followers", "following_url": "https://api.github.com/users/InvisibleFunction/following{/other_user}", "gists_url": "https://api.github.com/users/InvisibleFunction/gists{/gist_id}", "starred_url": "https://api.github.com/users/InvisibleFunction/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InvisibleFunction/subscriptions", "organizations_url": "https://api.github.com/users/InvisibleFunction/orgs", "repos_url": "https://api.github.com/users/InvisibleFunction/repos", "events_url": "https://api.github.com/users/InvisibleFunction/events{/privacy}", "received_events_url": "https://api.github.com/users/InvisibleFunction/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-17T19:52:48Z", "updated_at": "2019-08-20T07:32:07Z", "closed_at": "2019-08-20T07:32:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "On importing this album:\r\n\r\nhttps://musicbrainz.org/release/bbf6ecfb-cb4f-401c-9d05-2b6c22d1366d\r\n\r\nI get this:\r\n\r\n```/Volumes/Music/import/Guster/1997 - Goldfly (11 items)\r\nTagging:\r\n    Guster - Goldfly\r\nURL:\r\n    https://musicbrainz.org/release/bbf6ecfb-cb4f-401c-9d05-2b6c22d1366d\r\n(Similarity: 100.0%) (CD, 1997, US, Aware Records, AWA 107)\r\n * Melanie (#0) -> Melanie (#1)\r\n```\r\n\r\nWhich suggests that that track will be tagged as track 1, but in fact it is correctly imported as track 0. I would expect the import to show no changes.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3305", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3305/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3305/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3305/events", "html_url": "https://github.com/beetbox/beets/issues/3305", "id": 453829380, "node_id": "MDU6SXNzdWU0NTM4MjkzODA=", "number": 3305, "title": "replaygain: Failure using audiotools backend with Python Audio Tools 3.1.1", "user": {"login": "samuelnilsson", "id": 6771538, "node_id": "MDQ6VXNlcjY3NzE1Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/6771538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samuelnilsson", "html_url": "https://github.com/samuelnilsson", "followers_url": "https://api.github.com/users/samuelnilsson/followers", "following_url": "https://api.github.com/users/samuelnilsson/following{/other_user}", "gists_url": "https://api.github.com/users/samuelnilsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/samuelnilsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samuelnilsson/subscriptions", "organizations_url": "https://api.github.com/users/samuelnilsson/orgs", "repos_url": "https://api.github.com/users/samuelnilsson/repos", "events_url": "https://api.github.com/users/samuelnilsson/events{/privacy}", "received_events_url": "https://api.github.com/users/samuelnilsson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-08T19:54:31Z", "updated_at": "2019-06-08T20:29:29Z", "closed_at": "2019-06-08T20:29:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\nBeets throws an error when calculating the replaygain using the audiotools backend with Python Audio Tools 3.1.1.\r\n-->\r\n\r\n### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv replaygain --force\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nSending event: library_opened\r\nreplaygain: analyzing Pink Floyd - The Wall - In the Flesh?\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.5.0', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/ui/__init__.py\", line 1267, in main\r\n    _raw_main(args)\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beets/ui/__init__.py\", line 1254, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beetsplug/replaygain.py\", line 1052, in func\r\n    self.handle_track(item, write, force)\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beetsplug/replaygain.py\", line 1003, in handle_track\r\n    track_gains = backend_instance.compute_track_gain([item])\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beetsplug/replaygain.py\", line 752, in compute_track_gain\r\n    return [self._compute_track_gain(item) for item in items]\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beetsplug/replaygain.py\", line 752, in <listcomp>\r\n    return [self._compute_track_gain(item) for item in items]\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beetsplug/replaygain.py\", line 781, in _compute_track_gain\r\n    rg_track_gain, rg_track_peak = self._title_gain(rg, audiofile)\r\n  File \"/usr/lib/python3.7/site-packages/beets-1.5.0-py3.7.egg/beetsplug/replaygain.py\", line 764, in _title_gain\r\n    return rg.title_gain(audiofile.to_pcm())\r\n  File \"/usr/lib/python3.7/site-packages/audiotools/mp3.py\", line 217, in to_pcm\r\n    return MP3Decoder(self.filename)\r\nTypeError: argument 1 must be str, not bytes\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux 5.1.2-arch1-1-ARCH\r\n* Python version: 3.7.3\r\n* beets version: 1.5.0 (master)\r\n* Turning off plugins made problem go away (yes/no): no (this is a plugin related issue)\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nplugins: replaygain\r\nreplaygain:\r\n    backend: audiotools\r\n    overwrite: no\r\n    auto: yes\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3305/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3301", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3301/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3301/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3301/events", "html_url": "https://github.com/beetbox/beets/issues/3301", "id": 453483785, "node_id": "MDU6SXNzdWU0NTM0ODM3ODU=", "number": 3301, "title": "TypeError: update_after_write_time() got an unexpected keyword argument 'path'", "user": {"login": "Holzhaus", "id": 1834516, "node_id": "MDQ6VXNlcjE4MzQ1MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1834516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Holzhaus", "html_url": "https://github.com/Holzhaus", "followers_url": "https://api.github.com/users/Holzhaus/followers", "following_url": "https://api.github.com/users/Holzhaus/following{/other_user}", "gists_url": "https://api.github.com/users/Holzhaus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Holzhaus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Holzhaus/subscriptions", "organizations_url": "https://api.github.com/users/Holzhaus/orgs", "repos_url": "https://api.github.com/users/Holzhaus/repos", "events_url": "https://api.github.com/users/Holzhaus/events{/privacy}", "received_events_url": "https://api.github.com/users/Holzhaus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-07T12:16:11Z", "updated_at": "2019-06-11T15:51:11Z", "closed_at": "2019-06-11T15:51:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Beets crashes on the `after_write` signal.\r\n\r\n### Problem\r\n\r\n```sh\r\n$ beet -v convert -y -d usb playlist:Soul\r\nuser configuration: /home/jan/.config/beets/config.yaml\r\ndata directory: /home/jan/.config/beets\r\nplugin paths:\r\n/data/jan/Projects/beets/beets/mediafile.py:21: UserWarning: beets.mediafile is deprecated; use mediafile instead\r\n  warnings.warn(\"beets.mediafile is deprecated; use mediafile instead\")\r\nSending event: pluginload\r\nartresizer: method is (2, (7, 0, 8), False)\r\nlyrics: Disabling google source: no API key configured.\r\nlibrary database: /home/jan/beets.db\r\nlibrary directory: /data/music\r\nSending event: library_opened\r\n100 Proof (Aged in Soul) - Can You Dig It? The \u201970s Soul Experience - Somebody\u2019s Been Sleeping\r\n[...]\r\nCharles Wright & The Watts 103rd Street Rhythm Band - Can You Dig It? The \u201970s Soul Experience - Express Yourself\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/01-18 - 100 Proof (Aged in Soul) - Somebody's Been Sleeping.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/02-23 - The 8th Day - She's Not Just Another Woman.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-16 - Average White Band - Pick Up the Pieces.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-03 - Average White Band - Cut the Cake.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-10 - B.T. Express - Do It ('til You're Satisfied).flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-02 - B.T. Express - Express.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/01-21 - The Beginning of the End - Funky Nassau, Part I.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/01-05 - Brook Benton - Rainy Night in Georgia.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-18 - The Blackbyrds - Walking in Rhythm.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-08 - Brass Construction - Movin'.flac\r\nconvert: Encoding /data/music/Various Artists/Darker Than Blue_ Soul From Jamdown, 1973-1980/01 - The Boris Gardiner Happening - Ghetto Funk.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/04-09 - Bloodstone - Natural High.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/02-09 - Brenda & the Tabulations - Right on the Tip of My Tongue.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-03 - Blue Magic - Sideshow.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-11 - Brick - Dazz.flac\r\nconvert: Encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/03-18 - Brighter Side of Darkness - Love Jones.flac\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/02-23 - The 8th Day - She's Not Just Another Woman.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/02-09 - Brenda & the Tabulations - Right on the Tip of My Tongue.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/01-18 - 100 Proof (Aged in Soul) - Somebody's Been Sleeping.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Darker Than Blue_ Soul From Jamdown, 1973-1980/01 - The Boris Gardiner Happening - Ghetto Funk.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-18 - The Blackbyrds - Walking in Rhythm.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-16 - Average White Band - Pick Up the Pieces.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/01-21 - The Beginning of the End - Funky Nassau, Part I.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/01-05 - Brook Benton - Rainy Night in Georgia.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-10 - B.T. Express - Do It ('til You're Satisfied).flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/03-18 - Brighter Side of Darkness - Love Jones.flac\r\nSending event: write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-03 - Average White Band - Cut the Cake.flac\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-02 - B.T. Express - Express.flac\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/04-09 - Bloodstone - Natural High.flac\r\nSending event: write\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-08 - Brass Construction - Movin'.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/05-03 - Blue Magic - Sideshow.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: Finished encoding /data/music/Various Artists/Can You Dig It_ The '70s Soul Experience/06-11 - Brick - Dazz.flac\r\nSending event: write\r\nSending event: after_write\r\nTraceback (most recent call last):\r\n  File \"/data/jan/Projects/beets/beets/plugins.py\", line 143, in wrapper\r\n    return func(*args, **kwargs)\r\nTypeError: update_after_write_time() got an unexpected keyword argument 'path'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/jan/.local/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets', 'console_scripts', 'beet')()\r\n  File \"/data/jan/Projects/beets/beets/ui/__init__.py\", line 1267, in main\r\n    _raw_main(args)\r\n  File \"/data/jan/Projects/beets/beets/ui/__init__.py\", line 1254, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/data/jan/Projects/beets/beetsplug/convert.py\", line 458, in convert_func\r\n    pipe.run_parallel()\r\n  File \"/data/jan/Projects/beets/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/usr/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/data/jan/Projects/beets/beets/util/pipeline.py\", line 358, in run\r\n    self.coro.send(msg)\r\n  File \"/data/jan/Projects/beets/beetsplug/convert.py\", line 325, in convert_item\r\n    item.try_write(path=converted, id3v23=id3v23)\r\n  File \"/data/jan/Projects/beets/beets/library.py\", line 687, in try_write\r\n    self.write(*args, **kwargs)\r\n  File \"/data/jan/Projects/beets/beets/library.py\", line 678, in write\r\n    plugins.send('after_write', item=self, path=path)\r\n  File \"/data/jan/Projects/beets/beets/plugins.py\", line 489, in send\r\n    result = handler(**arguments)\r\n  File \"/data/jan/Projects/beets/beets/plugins.py\", line 149, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/data/jan/Projects/beets/beetsplug/importadded.py\", line 133, in update_after_write_time\r\n    self.write_item_mtime(item, item.added)\r\n  File \"/data/jan/Projects/beets/beetsplug/importadded.py\", line 81, in write_item_mtime\r\n    self.write_file_mtime(util.syspath(item.path), mtime)\r\n  File \"/data/jan/Projects/beets/beetsplug/importadded.py\", line 74, in write_file_mtime\r\n    os.utime(util.syspath(path), (stat.st_atime, mtime))\r\nOSError: [Errno 30] Read-only file system\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* Python version: 3.7.3\r\n* beets version: e64ecc2f81b1f06dae29c6e09c84daf446c62b81\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3301/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3271", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3271/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3271/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3271/events", "html_url": "https://github.com/beetbox/beets/issues/3271", "id": 446012890, "node_id": "MDU6SXNzdWU0NDYwMTI4OTA=", "number": 3271, "title": "gmusic: Crash when device ID is unset", "user": {"login": "littlejeem", "id": 11473625, "node_id": "MDQ6VXNlcjExNDczNjI1", "avatar_url": "https://avatars.githubusercontent.com/u/11473625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/littlejeem", "html_url": "https://github.com/littlejeem", "followers_url": "https://api.github.com/users/littlejeem/followers", "following_url": "https://api.github.com/users/littlejeem/following{/other_user}", "gists_url": "https://api.github.com/users/littlejeem/gists{/gist_id}", "starred_url": "https://api.github.com/users/littlejeem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/littlejeem/subscriptions", "organizations_url": "https://api.github.com/users/littlejeem/orgs", "repos_url": "https://api.github.com/users/littlejeem/repos", "events_url": "https://api.github.com/users/littlejeem/events{/privacy}", "received_events_url": "https://api.github.com/users/littlejeem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-20T09:28:14Z", "updated_at": "2021-10-04T14:09:52Z", "closed_at": "2021-10-04T14:09:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I'm experiencing a bug with the gmusic plugin and so logging as requested by @sampsyo \r\n\r\nSetup\r\nOS: Ubuntu 16.04.6 LTS\r\nPython version: Python 2.7.12\r\nbeets version: 1.4.8\r\ngmusicapi: 12\r\n\r\nTurning off plugins made problem go away (no): In this instance its a plugin i'm trying to use (gmusic)\r\nMy configuration (output of beet config) is:\r\n\r\n```sh\r\ndirectory: /home/jlivin25/Music/Library/PlayUploads\r\nlibrary: /home/jlivin25/.config/beets/uploads/musiclibrary.blb\r\n \r\nimport:\r\n    copy: no\r\n    move: yes\r\n    write: yes\r\n    resume: ask\r\n    quiet_fallback: skip\r\n    timid: no\r\n    log: beetslog.txt\r\nignore: .AppleDouble ._* *~ .DS_Store\r\nart_filename: folder\r\n \r\nplugins: embedart chroma fetchart convert permissions gmusic\r\n \r\npluginpath: /home/jlivin25/.config/beets/myplugins\r\n \r\nthreaded: yes\r\n \r\ncolor: yes\r\n \r\nmatch:\r\n    strong_rec_thresh: 0.55\r\n \r\npaths:\r\n    default: $albumartist/$album/$track - $title - $artist\r\n    singleton: Singletons/$track - $title - $artist\r\n    comp: Various/$album/$track - $title - $artist\r\n    albumtype:soundtrack: Soundtracks/$album/$track - $title - $artist\r\n \r\npermissions:\r\n    file: 777\r\n    dir: 777\r\n \r\nconvert:\r\n    never_convert_lossy_files: no\r\n    copy_album_art: yes\r\n    dest: ~/Music/Uploads\r\n    auto: yes\r\n    pretend: no\r\n    embed: yes\r\n    threads: 8\r\n    album_art_maxwidth: 0\r\n    quiet: no\r\n \r\n    format: mp3\r\n    formats:\r\n        flac:\r\n            extension: flac\r\n            command: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        alac:\r\n            extension: m4a\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n        mp3:\r\n            extension: mp3\r\n            command: ffmpeg -i $source -y -vn -aq 2 $dest\r\n    max_bitrate: 500\r\n    tmpdir:\r\n \r\ngmusic:\r\n    email: myuser@gmail.com\r\n    password: mypassword\r\n    auto: yes\r\n    uploader_id:\r\n    device_id:\r\n    oauth_file: /home/jlivin25/.config/beets/oauth.cred\r\n```\r\n\r\ninstalled beets using and gmusicapi 12 using.\r\n\r\n```pip install https://github.com/beetbox/beets/tarball/master```\r\n\r\nI installed this way to take advantage of a fix to a previous bug.\r\n\r\n```pip install gmusicapi```\r\n\r\nThe command ```beet gmusic-upload``` works correctly\r\n\r\nThe command ```beet gmusic-songs``` fails giving the following error:\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/home/jlivin25/.local/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.9', 'console_scripts', 'beet')()\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1266, in main\r\n    _raw_main(args)\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1253, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beetsplug/gmusic.py\", line 115, in search\r\n    or Mobileclient.FROM_MAC_ADDRESS).upper()\r\nAttributeError: 'newobject' object has no attribute 'upper'\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3271/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3270", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3270/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3270/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3270/events", "html_url": "https://github.com/beetbox/beets/issues/3270", "id": 445584163, "node_id": "MDU6SXNzdWU0NDU1ODQxNjM=", "number": 3270, "title": "gmusic: Adapt to gmusicapi change in 12.0.0 that moved OAUTH_FILEPATH", "user": {"login": "littlejeem", "id": 11473625, "node_id": "MDQ6VXNlcjExNDczNjI1", "avatar_url": "https://avatars.githubusercontent.com/u/11473625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/littlejeem", "html_url": "https://github.com/littlejeem", "followers_url": "https://api.github.com/users/littlejeem/followers", "following_url": "https://api.github.com/users/littlejeem/following{/other_user}", "gists_url": "https://api.github.com/users/littlejeem/gists{/gist_id}", "starred_url": "https://api.github.com/users/littlejeem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/littlejeem/subscriptions", "organizations_url": "https://api.github.com/users/littlejeem/orgs", "repos_url": "https://api.github.com/users/littlejeem/repos", "events_url": "https://api.github.com/users/littlejeem/events{/privacy}", "received_events_url": "https://api.github.com/users/littlejeem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-05-17T19:24:28Z", "updated_at": "2019-05-20T07:01:24Z", "closed_at": "2019-05-18T20:33:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem\r\n\r\nI installed the gmusic plugin using the documentation `pip install gmusicapi` and enabled in my config\r\n\r\nRunning this command in verbose (-vv) mode:\r\n\r\n`$ beet -vv import /home/jlivin25/Music/Uploads/`\r\n\r\nLed to this problem:\r\n\r\n```python\r\nuser configuration: /home/jlivin25/.config/beets/config.yaml\r\ndata directory: /home/jlivin25/.config/beets\r\nplugin paths: /home/jlivin25/.config/beets/myplugins\r\nSending event: pluginload\r\nTraceback (most recent call last):\r\n  File \"/home/jlivin25/.local/bin/beet\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1266, in main\r\n    _raw_main(args)\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1249, in _raw_main\r\n    subcommands, plugins, lib = _setup(options, lib)\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1135, in _setup\r\n    plugins = _load_plugins(config)\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1121, in _load_plugins\r\n    plugins.send(\"pluginload\")\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/plugins.py\", line 488, in send\r\n    for handler in event_handlers()[event]:\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/plugins.py\", line 471, in event_handlers\r\n    for plugin in find_plugins():\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beets/plugins.py\", line 307, in find_plugins\r\n    _instances[cls] = cls()\r\n  File \"/home/jlivin25/.local/lib/python2.7/site-packages/beetsplug/gmusic.py\", line 39, in __init__\r\n    u'oauth_file': gmusicapi.clients.OAUTH_FILEPATH,\r\nAttributeError: 'module' object has no attribute 'OAUTH_FILEPATH'\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): N/A\r\n\r\nSetup\r\nOS: Ubuntu 16.04.6 LTS\r\nPython version: Python 2.7.12\r\nbeets version: 1.4.8\r\nTurning off plugins made problem go away (no): In this instance its a plugin i'm trying to use (gmusic)\r\nMy configuration (output of beet config) is:\r\n\r\n```python\r\ndirectory: /home/jlivin25/Music/Library/PlayUploads\r\nlibrary: /home/jlivin25/.config/beets/uploads/musiclibrary.blb\r\n \r\nimport:\r\n    copy: no\r\n    move: yes\r\n    write: yes\r\n    resume: ask\r\n    quiet_fallback: skip\r\n    timid: no\r\n    log: beetslog.txt\r\nignore: .AppleDouble ._* *~ .DS_Store\r\nart_filename: folder\r\n \r\nplugins: embedart chroma fetchart convert permissions gmusic\r\n \r\npluginpath: /home/jlivin25/.config/beets/myplugins\r\n \r\nthreaded: yes\r\n \r\ncolor: yes\r\n \r\nmatch:\r\n    strong_rec_thresh: 0.55\r\n \r\npaths:\r\n    default: $albumartist/$album/$track - $title - $artist\r\n    singleton: Singletons/$track - $title - $artist\r\n    comp: Various/$album/$track - $title - $artist\r\n    albumtype:soundtrack: Soundtracks/$album/$track - $title - $artist\r\n \r\npermissions:\r\n    file: 777\r\n    dir: 777\r\n \r\nconvert:\r\n    never_convert_lossy_files: no\r\n    copy_album_art: yes\r\n    dest: ~/Music/Uploads\r\n    auto: yes\r\n    pretend: no\r\n    embed: yes\r\n    threads: 8\r\n    album_art_maxwidth: 0\r\n    quiet: no\r\n \r\n    format: mp3\r\n    formats:\r\n        flac:\r\n            extension: flac\r\n            command: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        alac:\r\n            extension: m4a\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n        mp3:\r\n            extension: mp3\r\n            command: ffmpeg -i $source -y -vn -aq 2 $dest\r\n    max_bitrate: 500\r\n    tmpdir:\r\n \r\ngmusic:\r\n    email: myuser@gmail.com\r\n    password: mypassword\r\n    auto: yes\r\n    uploader_id:\r\n    device_id:\r\n    oauth_file: ~/.config/beets/oauth.cred\r\n```\r\n\r\nError: [https://pastebin.com/y20KKLxc](https://pastebin.com/y20KKLxc)\r\nconfig.yaml [https://pastebin.com/2u877j5s](https://pastebin.com/2u877j5s)", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3264", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3264/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3264/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3264/events", "html_url": "https://github.com/beetbox/beets/issues/3264", "id": 442944708, "node_id": "MDU6SXNzdWU0NDI5NDQ3MDg=", "number": 3264, "title": "Data files are unreadable when beets is installed as an egg", "user": {"login": "arcresu", "id": 322256, "node_id": "MDQ6VXNlcjMyMjI1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/322256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arcresu", "html_url": "https://github.com/arcresu", "followers_url": "https://api.github.com/users/arcresu/followers", "following_url": "https://api.github.com/users/arcresu/following{/other_user}", "gists_url": "https://api.github.com/users/arcresu/gists{/gist_id}", "starred_url": "https://api.github.com/users/arcresu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arcresu/subscriptions", "organizations_url": "https://api.github.com/users/arcresu/orgs", "repos_url": "https://api.github.com/users/arcresu/repos", "events_url": "https://api.github.com/users/arcresu/events{/privacy}", "received_events_url": "https://api.github.com/users/arcresu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-11T02:28:20Z", "updated_at": "2019-06-01T02:48:08Z", "closed_at": "2019-06-01T02:48:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Following up from [a related Discourse thread](https://discourse.beets.io/t/error-running-from-source/739?u=arcresu), we noticed that beets isn't happy when it's installed as an egg. This is currently the default way beets is installed if you run `setup.py install` (not sure if #2083 changes this story).\r\n\r\n#### Problem\r\nIn egg mode, the whole beets and beetsplug directory trees remain bundled in a zipfile and are not extracted. This causes problems when we try and read data files (aka package resources)  like `config_default.yaml`, because we currently build up the path to such files relative to the executing module's source file and `open()` the resulting path. Obviously this doesn't work of the file is inside a zipfile.\r\n\r\n* Symptom: `ConfigError`s like `configuration error: verbose not found`.\r\n Caused by the failure to open `config_default.yaml` (aside: it would have been clearer if we got a `confit.ConfigReadError` rather than missing default values, but the loading of the default config file is inside a `if os.path.isfile(filename)` guard so it just silently skips the file when it doesn't exist even though beets depends on the default values being set).\r\nNeeds to be fixed in confuse.\r\n\r\n* Symptom: `FileNotFoundError`s related to files like `lastgenre/genres.txt`.\r\nCaused by failure to open other data files needed by plugins.\r\nNeeds to be fixed in beets.\r\n\r\n#### Solutions\r\n\r\n* Explicitly state that we don't support running beets as an egg. This seems unfortunate if it's the result of `setup.py install`.\r\n* Try and fix the way data files are accessed. There is [`pkg_resources`](https://setuptools.readthedocs.io/en/latest/pkg_resources.html) from `setuptools` that has helpers to transparently handle this. We could refactor these data file accesses into a helper for plugins.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3264/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3242", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3242/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3242/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3242/events", "html_url": "https://github.com/beetbox/beets/issues/3242", "id": 437947759, "node_id": "MDU6SXNzdWU0Mzc5NDc3NTk=", "number": 3242, "title": "Make `none_rec_action` respect `timid`", "user": {"login": "RollingStar", "id": 4810902, "node_id": "MDQ6VXNlcjQ4MTA5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/4810902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RollingStar", "html_url": "https://github.com/RollingStar", "followers_url": "https://api.github.com/users/RollingStar/followers", "following_url": "https://api.github.com/users/RollingStar/following{/other_user}", "gists_url": "https://api.github.com/users/RollingStar/gists{/gist_id}", "starred_url": "https://api.github.com/users/RollingStar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RollingStar/subscriptions", "organizations_url": "https://api.github.com/users/RollingStar/orgs", "repos_url": "https://api.github.com/users/RollingStar/repos", "events_url": "https://api.github.com/users/RollingStar/events{/privacy}", "received_events_url": "https://api.github.com/users/RollingStar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-27T14:14:36Z", "updated_at": "2019-09-07T16:54:53Z", "closed_at": "2019-09-07T16:54:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nhttps://github.com/beetbox/beets/blob/9abfc45adc5dd864840c9b72f35239c6204d39fa/beets/ui/commands.py#L493\r\n\r\nWhen you have a none_rec and you set the none_rec_action to \"asis\", beets will import as-is even in timid mode. More predictable behavior would be having timid override the none_rec_action.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3239", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3239/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3239/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3239/events", "html_url": "https://github.com/beetbox/beets/issues/3239", "id": 437486313, "node_id": "MDU6SXNzdWU0Mzc0ODYzMTM=", "number": 3239, "title": "discogs: Unhandled exception (HTTP 502: The Discogs API is undergoing maintenance. We'll be back in a moment)", "user": {"login": "GuilhermeHideki", "id": 9982971, "node_id": "MDQ6VXNlcjk5ODI5NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9982971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuilhermeHideki", "html_url": "https://github.com/GuilhermeHideki", "followers_url": "https://api.github.com/users/GuilhermeHideki/followers", "following_url": "https://api.github.com/users/GuilhermeHideki/following{/other_user}", "gists_url": "https://api.github.com/users/GuilhermeHideki/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuilhermeHideki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuilhermeHideki/subscriptions", "organizations_url": "https://api.github.com/users/GuilhermeHideki/orgs", "repos_url": "https://api.github.com/users/GuilhermeHideki/repos", "events_url": "https://api.github.com/users/GuilhermeHideki/events{/privacy}", "received_events_url": "https://api.github.com/users/GuilhermeHideki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-26T03:43:56Z", "updated_at": "2019-07-30T20:46:04Z", "closed_at": "2019-07-30T20:46:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Problem\r\n\r\nI had an unhandled exception (temporary error, I guess) with the discogs plugin . I ``import --quiet .``'d the folder and went away for some hours, so I can't reproduce this error now.\r\n\r\nThe stacktrace:\r\n```\r\n  File \"/beets/beetsplug/discogs.py\", line 257, in get_master_year\r\n    year = result.fetch('year')\r\n  File \"/usr/lib/python3.7/site-packages/discogs_client/models.py\", line 245, in fetch\r\n    self.refresh()\r\n  File \"/usr/lib/python3.7/site-packages/discogs_client/models.py\", line 211, in refresh\r\n    data = self.client._get(self.data['resource_url'])\r\n  File \"/usr/lib/python3.7/site-packages/discogs_client/client.py\", line 123, in _get\r\n    return self._request('GET', url)\r\n  File \"/usr/lib/python3.7/site-packages/discogs_client/client.py\", line 120, in _request\r\n    raise HTTPError(body['message'], status_code)\r\ndiscogs_client.exceptions.HTTPError: 502: The Discogs API is undergoing maintenance. We'll be back in a moment.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets', 'console_scripts', 'beet')()\r\n  File \"/beets/beets/ui/__init__.py\", line 1266, in main\r\n    _raw_main(args)\r\n  File \"/beets/beets/ui/__init__.py\", line 1253, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/beets/beets/ui/commands.py\", line 955, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/beets/beets/ui/commands.py\", line 925, in import_files\r\n    session.run()\r\n  File \"/beets/beets/importer.py\", line 329, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/beets/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/usr/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/beets/beets/util/pipeline.py\", line 312, in run\r\n    out = self.coro.send(msg)\r\n  File \"/beets/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/beets/beets/importer.py\", line 1351, in lookup_candidates\r\n    task.lookup_candidates()\r\n  File \"/beets/beets/importer.py\", line 641, in lookup_candidates\r\n    autotag.tag_album(self.items, search_ids=self.search_ids)\r\n  File \"/beets/beets/autotag/match.py\", line 460, in tag_album\r\n    va_likely):\r\n  File \"/beets/beets/plugins.py\", line 571, in decorated\r\n    for v in generator(*args, **kwargs):\r\n  File \"/beets/beets/autotag/hooks.py\", line 620, in album_candidates\r\n    for candidate in plugins.candidates(items, artist, album, va_likely):\r\n  File \"/beets/beets/plugins.py\", line 381, in candidates\r\n    for candidate in plugin.candidates(items, artist, album, va_likely):\r\n  File \"/beets/beetsplug/discogs.py\", line 176, in candidates\r\n    return self.get_albums(query)\r\n  File \"/beets/beetsplug/discogs.py\", line 245, in get_albums\r\n    return [album for album in map(self.get_album_info, releases[:5])\r\n  File \"/beets/beetsplug/discogs.py\", line 245, in <listcomp>\r\n    return [album for album in map(self.get_album_info, releases[:5])\r\n  File \"/beets/beetsplug/discogs.py\", line 335, in get_album_info\r\n    original_year = self.get_master_year(master_id) if master_id else year\r\n  File \"/beets/beetsplug/discogs.py\", line 262, in get_master_year\r\n    self._log.debug(u'API Error: {0} (query: {1})', e, result._uri)\r\nAttributeError: 'Master' object has no attribute '_uri'\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Linux\r\n* Python version: 3.7.3\r\n* beets version: 1.4.8, git 81c5ae3f\r\n* Turning off plugins made problem go away (yes/no):  no\r\n\r\nI don't think the config is relevant on this case, but the import/discogs parts are:\r\n\r\n```yaml\r\nimport:                        \r\n    copy: no                   \r\n    move: no                   \r\n    write: no                  \r\n    delete: no                 \r\n    resume: ask                \r\n    incremental: no            \r\n    quiet_fallback: skip       \r\n    none_rec_action: ask       \r\n    timid: no \r\n    autotag: yes               \r\n    quiet: no                  \r\n    singletons: no             \r\n    default_action: apply\r\ndiscogs:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: discogs_token.json\r\n    source_weight: 0.5\r\n    user_token: REDACTED\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3239/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3227", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3227/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3227/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3227/events", "html_url": "https://github.com/beetbox/beets/pull/3227", "id": 435369987, "node_id": "MDExOlB1bGxSZXF1ZXN0MjcyMTM5ODQy", "number": 3227, "title": "docs: remove reference to BeetsPlugin.listen", "user": {"login": "arcresu", "id": 322256, "node_id": "MDQ6VXNlcjMyMjI1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/322256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arcresu", "html_url": "https://github.com/arcresu", "followers_url": "https://api.github.com/users/arcresu/followers", "following_url": "https://api.github.com/users/arcresu/following{/other_user}", "gists_url": "https://api.github.com/users/arcresu/gists{/gist_id}", "starred_url": "https://api.github.com/users/arcresu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arcresu/subscriptions", "organizations_url": "https://api.github.com/users/arcresu/orgs", "repos_url": "https://api.github.com/users/arcresu/repos", "events_url": "https://api.github.com/users/arcresu/events{/privacy}", "received_events_url": "https://api.github.com/users/arcresu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 99834374, "node_id": "MDU6TGFiZWw5OTgzNDM3NA==", "url": "https://api.github.com/repos/beetbox/beets/labels/docs", "name": "docs", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-20T08:15:39Z", "updated_at": "2019-04-20T23:22:43Z", "closed_at": "2019-04-20T18:49:45Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/beetbox/beets/pulls/3227", "html_url": "https://github.com/beetbox/beets/pull/3227", "diff_url": "https://github.com/beetbox/beets/pull/3227.diff", "patch_url": "https://github.com/beetbox/beets/pull/3227.patch", "merged_at": "2019-04-20T18:49:45Z"}, "body": "This decorator was removed in 4578c4f0e1659daab8d25c79d1f466ae9838d8c7 and now `BeetsPlugin.register_listener` should be used instead. Fixes #2885.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3227/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3209", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3209/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3209/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3209/events", "html_url": "https://github.com/beetbox/beets/pull/3209", "id": 430110923, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY4MDg1MDMy", "number": 3209, "title": "Catch OSError in prune_dirs helper", "user": {"login": "arcresu", "id": 322256, "node_id": "MDQ6VXNlcjMyMjI1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/322256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arcresu", "html_url": "https://github.com/arcresu", "followers_url": "https://api.github.com/users/arcresu/followers", "following_url": "https://api.github.com/users/arcresu/following{/other_user}", "gists_url": "https://api.github.com/users/arcresu/gists{/gist_id}", "starred_url": "https://api.github.com/users/arcresu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arcresu/subscriptions", "organizations_url": "https://api.github.com/users/arcresu/orgs", "repos_url": "https://api.github.com/users/arcresu/repos", "events_url": "https://api.github.com/users/arcresu/events{/privacy}", "received_events_url": "https://api.github.com/users/arcresu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-04-07T06:36:36Z", "updated_at": "2019-04-07T23:47:44Z", "closed_at": "2019-04-07T23:47:39Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/beetbox/beets/pulls/3209", "html_url": "https://github.com/beetbox/beets/pull/3209", "diff_url": "https://github.com/beetbox/beets/pull/3209.diff", "patch_url": "https://github.com/beetbox/beets/pull/3209.patch", "merged_at": "2019-04-07T23:47:39Z"}, "body": "Since `fnmatch_all` can raise `OSError`s, and we were already silently giving up in `prune_dirs` on some of these exception, just do more of the same. Closes #1996.\r\n\r\nIt seems that this solution was agreed on in the issue but nobody went ahead and implemented it. I haven't made any attempt to test this but it looks sensible.\r\n\r\n/cc @jackwilsdon ", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3209/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3201", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3201/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3201/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3201/events", "html_url": "https://github.com/beetbox/beets/issues/3201", "id": 427395757, "node_id": "MDU6SXNzdWU0MjczOTU3NTc=", "number": 3201, "title": "Beets crashes on Python 3.8", "user": {"login": "s160413", "id": 49121492, "node_id": "MDQ6VXNlcjQ5MTIxNDky", "avatar_url": "https://avatars.githubusercontent.com/u/49121492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/s160413", "html_url": "https://github.com/s160413", "followers_url": "https://api.github.com/users/s160413/followers", "following_url": "https://api.github.com/users/s160413/following{/other_user}", "gists_url": "https://api.github.com/users/s160413/gists{/gist_id}", "starred_url": "https://api.github.com/users/s160413/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/s160413/subscriptions", "organizations_url": "https://api.github.com/users/s160413/orgs", "repos_url": "https://api.github.com/users/s160413/repos", "events_url": "https://api.github.com/users/s160413/events{/privacy}", "received_events_url": "https://api.github.com/users/s160413/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "jackwilsdon", "id": 1843197, "node_id": "MDQ6VXNlcjE4NDMxOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1843197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwilsdon", "html_url": "https://github.com/jackwilsdon", "followers_url": "https://api.github.com/users/jackwilsdon/followers", "following_url": "https://api.github.com/users/jackwilsdon/following{/other_user}", "gists_url": "https://api.github.com/users/jackwilsdon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwilsdon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwilsdon/subscriptions", "organizations_url": "https://api.github.com/users/jackwilsdon/orgs", "repos_url": "https://api.github.com/users/jackwilsdon/repos", "events_url": "https://api.github.com/users/jackwilsdon/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwilsdon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jackwilsdon", "id": 1843197, "node_id": "MDQ6VXNlcjE4NDMxOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1843197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwilsdon", "html_url": "https://github.com/jackwilsdon", "followers_url": "https://api.github.com/users/jackwilsdon/followers", "following_url": "https://api.github.com/users/jackwilsdon/following{/other_user}", "gists_url": "https://api.github.com/users/jackwilsdon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwilsdon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwilsdon/subscriptions", "organizations_url": "https://api.github.com/users/jackwilsdon/orgs", "repos_url": "https://api.github.com/users/jackwilsdon/repos", "events_url": "https://api.github.com/users/jackwilsdon/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwilsdon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-31T13:16:47Z", "updated_at": "2020-11-08T00:45:43Z", "closed_at": "2019-04-01T02:06:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nBeets crashes when running any command.\r\n\r\n```sh\r\n$ beet\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\Scripts\\beet-script.py\", line 11, in <module>\r\n    load_entry_point('beets==1.4.8', 'console_scripts', 'beet')()\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\ui\\__init__.py\r\n\", line 1266, in main\r\n    _raw_main(args)\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\ui\\__init__.py\r\n\", line 1249, in _raw_main\r\n    subcommands, plugins, lib = _setup(options, lib)\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\ui\\__init__.py\r\n\", line 1144, in _setup\r\n    lib = _open_library(config)\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\ui\\__init__.py\r\n\", line 1201, in _open_library\r\n    get_path_formats(),\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\ui\\__init__.py\r\n\", line 619, in get_path_formats\r\n    path_formats.append((query, Template(view.as_str())))\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\util\\functempl\r\nate.py\", line 558, in __init__\r\n    self.compiled = self.translate()\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\util\\functempl\r\nate.py\", line 591, in translate\r\n    func = compile_func(\r\n  File \"C:\\Python38\\lib\\site-packages\\beets-1.4.8-py3.8.egg\\beets\\util\\functempl\r\nate.py\", line 147, in compile_func\r\n    prog = compile(mod, '<generated>', 'exec')\r\nTypeError: required field \"type_ignores\" missing from Module\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Windows 10 64-bit\r\n* Python version: Python 3.8a3\r\n* beets version: 1.4.8 (git-master)\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nempty\r\n```\r\n\r\nI've also compiled the wheel from git master obviously, I was having this issue from just installing it from pip normally, so I thought doing this manually would solve my issues, but it didn't. I don't really understand why this error occurs, but I imagine it has something to do with the dependencies of this project.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3184", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3184/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3184/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3184/events", "html_url": "https://github.com/beetbox/beets/issues/3184", "id": 420997250, "node_id": "MDU6SXNzdWU0MjA5OTcyNTA=", "number": 3184, "title": "Beatport Plugin Unhandled Error", "user": {"login": "mas-4", "id": 42282289, "node_id": "MDQ6VXNlcjQyMjgyMjg5", "avatar_url": "https://avatars.githubusercontent.com/u/42282289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mas-4", "html_url": "https://github.com/mas-4", "followers_url": "https://api.github.com/users/mas-4/followers", "following_url": "https://api.github.com/users/mas-4/following{/other_user}", "gists_url": "https://api.github.com/users/mas-4/gists{/gist_id}", "starred_url": "https://api.github.com/users/mas-4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mas-4/subscriptions", "organizations_url": "https://api.github.com/users/mas-4/orgs", "repos_url": "https://api.github.com/users/mas-4/repos", "events_url": "https://api.github.com/users/mas-4/events{/privacy}", "received_events_url": "https://api.github.com/users/mas-4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-14T12:43:46Z", "updated_at": "2019-03-14T14:06:13Z", "closed_at": "2019-03-14T13:54:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nThe beatport plugin kicks back an unhandled error during an import quite frequently. It seems to occur most often during the evening. I am under the impression from the traceback that beatport itself is either throttling me or under unusual high load at the time.\r\n\r\nI've been importing a rather massive collection (nearly done, thus far there are 97,908 tracks). I cannot reproduce this error consistently because it seems to occur at the whims of the beatport api. I do not have verbose output and can't provide it because I'm nearly done and just managed to capture the traceback this last time. Also, running consistently in verbose mode makes it difficult to properly interact with the autotagger. \r\n\r\nUnfortunately, upon reviewing this traceback, it appears to not be quite as lengthy as I remember. I remember three cascading exceptions, this is merely one of them. If I run into this error again I will try to capture a fuller traceback.\r\n\r\nHere is the traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/data/music/venv/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"/home/data/music/venv/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 384, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 2, in raise_from\r\n  File \"/home/data/music/venv/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 380, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/lib/python3.7/http/client.py\", line 1321, in getresponse\r\n    response.begin()\r\n    _raw_main(args)\r\n  File \"/home/data/music/venv/src/beets/beets/ui/__init__.py\", line 1253, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/home/data/music/venv/src/beets/beets/ui/commands.py\", line 955, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/home/data/music/venv/src/beets/beets/ui/commands.py\", line 925, in import_files\r\n    session.run()\r\n  File \"/home/data/music/venv/src/beets/beets/importer.py\", line 329, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/home/data/music/venv/src/beets/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/home/data/music/venv/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/home/data/music/venv/src/beets/beets/util/pipeline.py\", line 312, in run\r\n    out = self.coro.send(msg)\r\n  File \"/home/data/music/venv/src/beets/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/home/data/music/venv/src/beets/beets/importer.py\", line 1351, in lookup_candidates\r\n    task.lookup_candidates()\r\n  File \"/home/data/music/venv/src/beets/beets/importer.py\", line 892, in lookup_candidates\r\n    prop = autotag.tag_item(self.item, search_ids=self.search_ids)\r\n  File \"/home/data/music/venv/src/beets/beets/autotag/match.py\", line 513, in tag_item\r\n    for track_info in hooks.item_candidates(item, search_artist, search_title):\r\n  File \"/home/data/music/venv/src/beets/beets/plugins.py\", line 571, in decorated\r\n    for v in generator(*args, **kwargs):\r\n  File \"/home/data/music/venv/src/beets/beets/autotag/hooks.py\", line 640, in item_candidates\r\n    for candidate in plugins.item_candidates(item, artist, title):\r\n  File \"/home/data/music/venv/src/beets/beets/plugins.py\", line 389, in item_candidates\r\n    for item_candidate in plugin.item_candidates(item, artist, title):\r\n  File \"/home/data/music/venv/src/beets/beetsplug/beatport.py\", line 361, in item_candidates\r\n    return self._get_tracks(query)\r\n  File \"/home/data/music/venv/src/beets/beetsplug/beatport.py\", line 460, in _get_tracks\r\n    tracks = [self._get_track_info(x) for x in bp_tracks]\r\n  File \"/home/data/music/venv/src/beets/beetsplug/beatport.py\", line 460, in <listcomp>\r\n    tracks = [self._get_track_info(x) for x in bp_tracks]\r\n  File \"/home/data/music/venv/src/beets/beetsplug/beatport.py\", line 134, in search\r\n    facets=['fieldType:{0}'.format(release_type)])\r\n  File \"/home/data/music/venv/src/beets/beetsplug/beatport.py\", line 194, in _get\r\n    .format(e.message))\r\nAttributeError: 'ConnectionError' object has no attribute 'message'\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* Python version: 3.7.2\r\n* beets version: 1.4.8\r\n* Turning off plugins made problem go away (yes/no): yes\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```\r\ndirectory: /home/data/music\r\nlibrary: /home/data/music/musiclibrary.db\r\n\r\nimport:\r\n    move: yes\r\n    write: yes\r\n    incremental: yes\r\n    detail: yes\r\n    log: /home/data/music/log\r\n    languages: [en]\r\n    autotag: yes\r\n    quiet_fallback: skip\r\n    timid: no\r\nart_filename: albumart\r\nthreaded: yes\r\n\r\nplugins:\r\n- beatport\r\n- discogs\r\n- chroma\r\n- web\r\n- duplicates\r\n- missing\r\n- lastgenre\r\n\r\nui:\r\n    color: yes\r\n\r\nclutter:\r\n- '*.jpg'\r\n- '*.jpeg'\r\n- '*.png'\r\n- '*.gif'\r\n- '*.zip'\r\n- Thumbs.db\r\n- .DS_Store\r\n\r\npaths:\r\n    albumtype:soundtrack: Soundtracks/$album/$track $title\r\nbeatport:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: beatport_token.json\r\n    source_weight: 0.5\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\nmissing:\r\n    count: no\r\n    total: no\r\n    album: no\r\nchroma:\r\n    auto: yes\r\nlastgenre:\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\ndiscogs:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: discogs_token.json\r\n    source_weight: 0.5\r\n    user_token: REDACTED\r\nweb:\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\n    cors_supports_credentials: no\r\n    reverse_proxy: no\r\n    include_paths: no\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3184/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3168", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3168/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3168/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3168/events", "html_url": "https://github.com/beetbox/beets/issues/3168", "id": 414071419, "node_id": "MDU6SXNzdWU0MTQwNzE0MTk=", "number": 3168, "title": "Errors when installed munkres is > 1.0.x", "user": {"login": "Freso", "id": 177659, "node_id": "MDQ6VXNlcjE3NzY1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/177659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freso", "html_url": "https://github.com/Freso", "followers_url": "https://api.github.com/users/Freso/followers", "following_url": "https://api.github.com/users/Freso/following{/other_user}", "gists_url": "https://api.github.com/users/Freso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freso/subscriptions", "organizations_url": "https://api.github.com/users/Freso/orgs", "repos_url": "https://api.github.com/users/Freso/repos", "events_url": "https://api.github.com/users/Freso/events{/privacy}", "received_events_url": "https://api.github.com/users/Freso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-25T12:01:33Z", "updated_at": "2019-02-25T16:08:30Z", "closed_at": "2019-02-25T16:08:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen invoking beets, beets errors out on munkres versions newer than 1.0.x. This was introduced by https://github.com/beetbox/beets/pull/3146.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```python-traceback\r\n> beet -vv import .\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 583, in _build_master\r\n    ws.require(__requires__)\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 900, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 791, in resolve\r\n    raise VersionConflict(dist, req).with_context(dependent_req)\r\npkg_resources.ContextualVersionConflict: (munkres 1.1.2 (/usr/lib/python3.7/site-packages), Requirement.parse('munkres~=1.0.0'), {'beets'})\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 6, in <module>\r\n    from pkg_resources import load_entry_point\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 3191, in <module>\r\n    @_call_aside\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 3175, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 3204, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 585, in _build_master\r\n    return cls._build_from_requirements(__requires__)\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 598, in _build_from_requirements\r\n    dists = ws.resolve(reqs, Environment())\r\n  File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 786, in resolve\r\n    raise DistributionNotFound(req, requirers)\r\npkg_resources.DistributionNotFound: The 'munkres~=1.0.0' distribution was not found and is required by beets\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Linux (Arch Linux)\r\n* Python version: 3.7.2\r\n* beets version: 1.4.7.r359.g80f4f0a0-1 (from `pacman -Qi` output, `beet --version` also break due to munkres dependency)\r\n* Turning off plugins made problem go away (yes/no): Didn't try.\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\nNot relevant.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3158", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3158/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3158/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3158/events", "html_url": "https://github.com/beetbox/beets/issues/3158", "id": 412878312, "node_id": "MDU6SXNzdWU0MTI4NzgzMTI=", "number": 3158, "title": "BadFiles plugin crashes beets with latest git master", "user": {"login": "Holzhaus", "id": 1834516, "node_id": "MDQ6VXNlcjE4MzQ1MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1834516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Holzhaus", "html_url": "https://github.com/Holzhaus", "followers_url": "https://api.github.com/users/Holzhaus/followers", "following_url": "https://api.github.com/users/Holzhaus/following{/other_user}", "gists_url": "https://api.github.com/users/Holzhaus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Holzhaus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Holzhaus/subscriptions", "organizations_url": "https://api.github.com/users/Holzhaus/orgs", "repos_url": "https://api.github.com/users/Holzhaus/repos", "events_url": "https://api.github.com/users/Holzhaus/events{/privacy}", "received_events_url": "https://api.github.com/users/Holzhaus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-21T11:29:20Z", "updated_at": "2019-02-21T16:00:35Z", "closed_at": "2019-02-21T16:00:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nIf the `badfiles` plugin is activated, beets crashes when starting an import task.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv import --write /data/music\r\nuser configuration: /home/jan/.config/beets/config.yaml\r\ndata directory: /home/jan/.config/beets\r\nplugin paths:\r\nSending event: pluginload\r\nartresizer: method is (2, (7, 0, 8))\r\nlyrics: Disabling google source: no API key configured.\r\nlibrary database: /home/jan/beets.db\r\nlibrary directory: /data/music\r\nSending event: library_opened\r\nTraceback (most recent call last):\r\n  File \"/home/jan/.local/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets', 'console_scripts', 'beet')()\r\n  File \"/data/jan/Projects/beets/beets/ui/__init__.py\", line 1266, in main\r\n    _raw_main(args)\r\n  File \"/data/jan/Projects/beets/beets/ui/__init__.py\", line 1253, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/data/jan/Projects/beets/beets/ui/commands.py\", line 955, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/data/jan/Projects/beets/beets/ui/commands.py\", line 925, in import_files\r\n    session.run()\r\n  File \"/data/jan/Projects/beets/beets/importer.py\", line 316, in run\r\n    for stage_func in plugins.early_import_stages():\r\n  File \"/data/jan/Projects/beets/beets/plugins.py\", line 426, in early_import_stages\r\n    stages += plugin.get_early_import_stages()\r\n  File \"/data/jan/Projects/beets/beets/plugins.py\", line 112, in get_early_import_stages\r\n    return self._set_stage_log_level(self.early_import_stages)\r\nAttributeError: 'BadFiles' object has no attribute 'early_import_stages'\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* Python version: 3.7.2\r\n* beets version: be118b92\r\n* Turning off plugins made problem go away (yes/no): Yes (Disabling the `badfiles` plugin suffices)\r\n\r\nMy configuration (output of `beet config`) is: https://gist.github.com/Holzhaus/500b790c06fe2250ac9182bd8a6760da", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3148", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3148/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3148/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3148/events", "html_url": "https://github.com/beetbox/beets/issues/3148", "id": 411135697, "node_id": "MDU6SXNzdWU0MTExMzU2OTc=", "number": 3148, "title": "Traceback: ImportError: cannot import name zip_longest", "user": {"login": "brianjcohen", "id": 265798, "node_id": "MDQ6VXNlcjI2NTc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/265798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianjcohen", "html_url": "https://github.com/brianjcohen", "followers_url": "https://api.github.com/users/brianjcohen/followers", "following_url": "https://api.github.com/users/brianjcohen/following{/other_user}", "gists_url": "https://api.github.com/users/brianjcohen/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianjcohen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianjcohen/subscriptions", "organizations_url": "https://api.github.com/users/brianjcohen/orgs", "repos_url": "https://api.github.com/users/brianjcohen/repos", "events_url": "https://api.github.com/users/brianjcohen/events{/privacy}", "received_events_url": "https://api.github.com/users/brianjcohen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-17T01:38:18Z", "updated_at": "2019-04-23T13:41:35Z", "closed_at": "2019-02-17T18:08:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nAnytime I invoke 'beet' from the command line, with or with any arguments, I receive the following backtrace:\r\n\r\nbeet\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/beet\", line 9, in <module>\r\n    load_entry_point('beets==1.4.7', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 351, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2363, in load_entry_point\r\n    return ep.load()\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2088, in load\r\n    entry = __import__(self.module_name, globals(),globals(), ['__name__'])\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 42, in <module>\r\n    from beets.autotag import mb\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/autotag/__init__.py\", line 25, in <module>\r\n    from .hooks import AlbumInfo, TrackInfo, AlbumMatch, TrackMatch  # noqa\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/autotag/hooks.py\", line 28, in <module>\r\n    from jellyfish import levenshtein_distance\r\n  File \"/usr/local/lib/python2.7/dist-packages/jellyfish/__init__.py\", line 5, in <module>\r\n    from ._jellyfish import *   # noqa\r\n  File \"/usr/local/lib/python2.7/dist-packages/jellyfish/_jellyfish.py\", line 3, in <module>\r\n    from itertools import zip_longest\r\nImportError: cannot import name zip_longest\r\n\r\n\r\n### Setup\r\n\r\n* OS: Ubuntu Linux 14.04.5\r\n* Python version: 2.7.6\r\n* beets version: 1.4.7\r\n* Turning off plugins made problem go away (yes/no):  no\r\n\r\nMy configuration (output of `beet config`) is: the same traceback\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3143", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3143/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3143/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3143/events", "html_url": "https://github.com/beetbox/beets/issues/3143", "id": 410508986, "node_id": "MDU6SXNzdWU0MTA1MDg5ODY=", "number": 3143, "title": "ImportError: cannot import name 'NoReturn'", "user": {"login": "DarkVirtue", "id": 6946119, "node_id": "MDQ6VXNlcjY5NDYxMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6946119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DarkVirtue", "html_url": "https://github.com/DarkVirtue", "followers_url": "https://api.github.com/users/DarkVirtue/followers", "following_url": "https://api.github.com/users/DarkVirtue/following{/other_user}", "gists_url": "https://api.github.com/users/DarkVirtue/gists{/gist_id}", "starred_url": "https://api.github.com/users/DarkVirtue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DarkVirtue/subscriptions", "organizations_url": "https://api.github.com/users/DarkVirtue/orgs", "repos_url": "https://api.github.com/users/DarkVirtue/repos", "events_url": "https://api.github.com/users/DarkVirtue/events{/privacy}", "received_events_url": "https://api.github.com/users/DarkVirtue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-02-14T21:52:48Z", "updated_at": "2019-02-16T02:17:05Z", "closed_at": "2019-02-15T20:26:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nAny invocation of beet immediately fails. This was working as recently as three weeks ago.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv import Amaranthe\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/beet\", line 7, in <module>\r\n    from beets.ui import main\r\n  File \"/usr/local/lib/python3.5/dist-packages/beets/ui/__init__.py\", line 42, in <module>\r\n    from beets.autotag import mb\r\n  File \"/usr/local/lib/python3.5/dist-packages/beets/autotag/__init__.py\", line 26, in <module>\r\n    from .match import tag_item, tag_album, Proposal  # noqa\r\n  File \"/usr/local/lib/python3.5/dist-packages/beets/autotag/match.py\", line 24, in <module>\r\n    from munkres import Munkres\r\n  File \"/usr/local/lib/python3.5/dist-packages/munkres.py\", line 20, in <module>\r\n    from typing import Union, NewType, Sequence, Tuple, NoReturn, Optional, Callable\r\nImportError: cannot import name 'NoReturn'\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Debian 9\r\n* Python version: 3.5.3\r\n* beets version: 1.4.7 (I think; beet --version fails with the above error)\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /home/media/music\r\nlibrary: /var/lib/beets/data/musiclibrary.db\r\nplugins: fetchart lyrics lastgenre multidisc missing scrub\r\nimport:\r\n  move: yes\r\n  language: en\r\npaths:\r\n  default: $albumartist_sort - $album ($year)/%if{$multidisc,Disc $disc%if{$disctitle, - $disctitle}/}/$track - $title\r\nasciify_paths: yes\r\nmissing:\r\n  format: $albumartist_sort - $album ($year)/%if{$multidisc,Disc $disc%if{$disctitle, - $disctitle}/}/$track - $title\r\n  count: no\r\n  total: no\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3143/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3112", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3112/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3112/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3112/events", "html_url": "https://github.com/beetbox/beets/pull/3112", "id": 398100474, "node_id": "MDExOlB1bGxSZXF1ZXN0MjQzODg5ODMy", "number": 3112, "title": "Maintain python 2 compatibility", "user": {"login": "efischer19", "id": 7373924, "node_id": "MDQ6VXNlcjczNzM5MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7373924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efischer19", "html_url": "https://github.com/efischer19", "followers_url": "https://api.github.com/users/efischer19/followers", "following_url": "https://api.github.com/users/efischer19/following{/other_user}", "gists_url": "https://api.github.com/users/efischer19/gists{/gist_id}", "starred_url": "https://api.github.com/users/efischer19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efischer19/subscriptions", "organizations_url": "https://api.github.com/users/efischer19/orgs", "repos_url": "https://api.github.com/users/efischer19/repos", "events_url": "https://api.github.com/users/efischer19/events{/privacy}", "received_events_url": "https://api.github.com/users/efischer19/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-11T02:11:45Z", "updated_at": "2019-02-17T18:07:28Z", "closed_at": "2019-02-17T18:07:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/beetbox/beets/pulls/3112", "html_url": "https://github.com/beetbox/beets/pull/3112", "diff_url": "https://github.com/beetbox/beets/pull/3112.diff", "patch_url": "https://github.com/beetbox/beets/pull/3112.patch", "merged_at": "2019-02-17T18:07:28Z"}, "body": "Jellyfish is no longer python 2 compatible as of release 0.7.0.\r\n\r\nBy pinning the previous release, beets is still able to be installed\r\nand run on python 2 systems without issue.\r\n\r\nI just found beets today in the comments of a Hacker News post, and ran into the following after installing locally:\r\n```\r\neric@oudebier:~$ beet -p\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.7', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 480, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2693, in load_entry_point\r\n    return ep.load()\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2324, in load\r\n    return self.resolve()\r\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2330, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 42, in <module>\r\n    from beets.autotag import mb\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/autotag/__init__.py\", line 25, in <module>\r\n    from .hooks import AlbumInfo, TrackInfo, AlbumMatch, TrackMatch  # noqa\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/autotag/hooks.py\", line 28, in <module>\r\n    from jellyfish import levenshtein_distance\r\n  File \"/usr/local/lib/python2.7/dist-packages/jellyfish/__init__.py\", line 5, in <module>\r\n    from ._jellyfish import *   # noqa\r\n  File \"/usr/local/lib/python2.7/dist-packages/jellyfish/_jellyfish.py\", line 3, in <module>\r\n    from itertools import zip_longest\r\nImportError: cannot import name zip_longest\r\n```\r\n\r\n`jellyfish` [just put out a new release today that is not py2 compatible](https://github.com/jamesturk/jellyfish/compare/0.6.0...0.7.0#diff-b0508adba031c447ece5a495a136a3d1R6), and I was easily able to resolve the issue by installing the previous version 0.6.0.\r\n\r\nThanks for maintaining this excellent tool!", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3112/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3051", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3051/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3051/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3051/events", "html_url": "https://github.com/beetbox/beets/issues/3051", "id": 369916340, "node_id": "MDU6SXNzdWUzNjk5MTYzNDA=", "number": 3051, "title": "`beet modify` in select mode should observe `sort_item` setting", "user": {"login": "discopatrick", "id": 254822, "node_id": "MDQ6VXNlcjI1NDgyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/254822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/discopatrick", "html_url": "https://github.com/discopatrick", "followers_url": "https://api.github.com/users/discopatrick/followers", "following_url": "https://api.github.com/users/discopatrick/following{/other_user}", "gists_url": "https://api.github.com/users/discopatrick/gists{/gist_id}", "starred_url": "https://api.github.com/users/discopatrick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/discopatrick/subscriptions", "organizations_url": "https://api.github.com/users/discopatrick/orgs", "repos_url": "https://api.github.com/users/discopatrick/repos", "events_url": "https://api.github.com/users/discopatrick/events{/privacy}", "received_events_url": "https://api.github.com/users/discopatrick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-14T16:03:58Z", "updated_at": "2018-10-25T01:26:19Z", "closed_at": "2018-10-25T01:26:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Problem\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv modify air moon safari dj=True\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nModifying 10 items.\r\n2017-09-28 20:04:08 - Air - Moon Safari - d:01/01--t:05/10 - Talisman - 4:16 - FLAC - 825kbps - CD - dj:$dj\r\n  dj: True\r\n2017-09-28 20:04:08 - Air - Moon Safari - d:01/01--t:06/10 - Remember - 2:34 - FLAC - 879kbps - CD - dj:$dj\r\n  dj: True\r\n2017-09-28 20:04:08 - Air - Moon Safari - d:01/01--t:07/10 - You Make It Easy - 4:01 - FLAC - 862kbps - CD - dj:$dj\r\n  dj: True\r\n2017-09-28 20:04:08 - Air - Moon Safari - d:01/01--t:08/10 - Ce matin-l\u00e0 - 3:38 - FLAC - 852kbps - CD - dj:$dj\r\n  dj: True\r\n2017-09-28 20:04:08 - Air - Moon Safari - d:01/01--t:09/10 - New Star in the Sky (Chanson pour Solal) - 5:40 - FLAC - 766kbps - CD - dj:$dj\r\n  dj: True\r\n2017-09-28 20:04:08 - Air - Moon Safari - d:01/01--t:10/10 - Le Voyage de P\u00e9n\u00e9lope - 3:11 - FLAC - 768kbps - CD - dj:$dj\r\n  dj: True\r\nReally modify, move and write tags? (Yes/no/select) s\r\n\r\n2017-09-28 20:04:08 - Air - Moon Safari - d:01/01--t:09/10 - New Star in the Sky (Chanson pour Solal) - 5:40 - FLAC - 766kbps - CD - dj:$dj\r\n  dj: True\r\nReally modify, move and write tags? (yes/no)\r\n```\r\n\r\nAs you can see, the tracks are initially sorted according to my `sort_item` setting of `albumartist+ album+ disc+ track+`. (The first 4 tracks from this album are not listed because I already modified them earlier!) However, when I move into \"select\" mode, the first track it asks me to confirm is not the first track from the original list.\r\n\r\n\r\n### Setup\r\n\r\n* OS: OSX 10.10.5\r\n* Python version: 2.7.15 (I use Python 2 because of a 3rd party plugin \"alternatives\")\r\n* beets version: 1.4.5\r\n* Turning off plugins made problem go away (yes/no): didn't try, but can do if you think it's worth it.\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n---\r\n\r\ndirectory: \"/Volumes/2TB Iomega Data/Users/patrick/Music/beets/collection\"\r\nlibrary: \"/Volumes/2TB Iomega Data/Users/patrick/Music/beets/library/musiclibrary.blb\"\r\n\r\nplugins:\r\n  - fetchart\r\n  - chroma\r\n  - discogs\r\n  - fromfilename\r\n  # - beatport\r\n  - convert\r\n  - alternatives\r\n  - info\r\n  - types\r\n  - web\r\n  # - fuzzy\r\n\r\nimport:\r\n  move: yes\r\n  log: \"/Volumes/2TB Iomega Data/Users/patrick/Music/beets/log/beets.log\"\r\n\r\nformat_item: $added - $artist - $album - d:$disc/$disctotal--t:$track/$tracktotal - $title - $length - $format - $bitrate - $import_source - dj:$dj # - $path\r\n\r\nsort_item: albumartist+ album+ disc+ track+\r\n\r\nacoustid:\r\n  apikey: xxxxx\r\n\r\nconvert:\r\n  dest: ~/Music/beets-convert-test\r\n  format: alac\r\n\r\nalternatives:\r\n  macbookpro:\r\n    directory: /Volumes/live/Music/beets\r\n    formats: alac mp3\r\n    query: \"import_source:vinyl , import_source:beatport , dj:True\"\r\n    removable: true\r\n  plex:\r\n    directory: \"/Volumes/2TB Iomega Data/Users/patrick/Music/plex\"\r\n    formats: flac aac alac mp3\r\n    query: \"\"\r\n\r\ntypes:\r\n  dj: bool\r\n\r\n# match:\r\n#   preferred:\r\n#     media: ['Vinyl']\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3051/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3041", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3041/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3041/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3041/events", "html_url": "https://github.com/beetbox/beets/issues/3041", "id": 362740719, "node_id": "MDU6SXNzdWUzNjI3NDA3MTk=", "number": 3041, "title": "extraction failed: local variable 'archive' referenced before assignment", "user": {"login": "rain0r", "id": 675112, "node_id": "MDQ6VXNlcjY3NTExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/675112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rain0r", "html_url": "https://github.com/rain0r", "followers_url": "https://api.github.com/users/rain0r/followers", "following_url": "https://api.github.com/users/rain0r/following{/other_user}", "gists_url": "https://api.github.com/users/rain0r/gists{/gist_id}", "starred_url": "https://api.github.com/users/rain0r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rain0r/subscriptions", "organizations_url": "https://api.github.com/users/rain0r/orgs", "repos_url": "https://api.github.com/users/rain0r/repos", "events_url": "https://api.github.com/users/rain0r/events{/privacy}", "received_events_url": "https://api.github.com/users/rain0r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-21T19:10:12Z", "updated_at": "2018-09-22T16:05:51Z", "closed_at": "2018-09-21T19:56:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen trying to import a mp3-file as a singleton, I get the following error:\r\n`extraction failed: local variable 'archive' referenced before assignment`\r\n\r\nThe file is is a mp3-version of [this song](https://www.youtube.com/watch?v=JibljZBesgM) (`youtube-dl -x ...`).\r\n\r\nAfter digging in the code, I found this line: [importer.py](https://github.com/beetbox/beets/blob/master/beets/importer.py#L1064)\r\n```\r\nipdb> handler_class(util.py3_path(self.toppath), mode='r')\r\n*** OSError: [Errno 22] Invalid argument\r\n```\r\nIf `handler_class()` throws an error, `archive.close()` is not assigned when called in the `finally` block.\r\n\r\nBy the way, why does beets try to extract a mp3-file?\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): \r\n\r\nhttps://www.youtube.com/watch?v=JibljZBesgM\r\n\r\n### Setup\r\n\r\n* OS: Gentoo Linux\r\n* beets version 1.4.7\r\n* Python version 3.6.6\r\n* plugins: chroma, embedart, fetchart, info, lastgenre, mpdstats, play, replaygain", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3041/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3008", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3008/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3008/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3008/events", "html_url": "https://github.com/beetbox/beets/issues/3008", "id": 352277115, "node_id": "MDU6SXNzdWUzNTIyNzcxMTU=", "number": 3008, "title": "replaygain: albumpeak on large collections is calculated as average, not maximum", "user": {"login": "vvvrrooomm", "id": 10185258, "node_id": "MDQ6VXNlcjEwMTg1MjU4", "avatar_url": "https://avatars.githubusercontent.com/u/10185258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vvvrrooomm", "html_url": "https://github.com/vvvrrooomm", "followers_url": "https://api.github.com/users/vvvrrooomm/followers", "following_url": "https://api.github.com/users/vvvrrooomm/following{/other_user}", "gists_url": "https://api.github.com/users/vvvrrooomm/gists{/gist_id}", "starred_url": "https://api.github.com/users/vvvrrooomm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vvvrrooomm/subscriptions", "organizations_url": "https://api.github.com/users/vvvrrooomm/orgs", "repos_url": "https://api.github.com/users/vvvrrooomm/repos", "events_url": "https://api.github.com/users/vvvrrooomm/events{/privacy}", "received_events_url": "https://api.github.com/users/vvvrrooomm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-08-20T20:06:26Z", "updated_at": "2018-08-20T22:24:48Z", "closed_at": "2018-08-20T22:24:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nwhile working on parallelizing the replaygain command I found\r\nbeets/beetsplug/replaygain.py:202\r\n```\r\n for chunk in self.isplitter(items, self.chunk_at):\r\n\r\n                i += 1\r\n\r\n                returnchunk = self.compute_chunk_gain(chunk, is_album)\r\n\r\n                albumgaintot += returnchunk[-1].gain\r\n\r\n                albumpeaktot += returnchunk[-1].peak\r\n\r\n                returnchunks = returnchunks + returnchunk[0:-1]\r\n\r\n            return chunks.append(Gain(albumgaintot / i, albumpeaktot / i))\r\n```\r\n\r\nthis averages the album gain and album peak but the peak is supposed to be the maximum, right?\r\nIt would have to be something like `albumpeaktot = max(albumpeaktot ,returnchunk[-1].peak`\r\nWhat about albumgain, I am not sure here?\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3008/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3008/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/3007", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/3007/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/3007/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/3007/events", "html_url": "https://github.com/beetbox/beets/issues/3007", "id": 351936624, "node_id": "MDU6SXNzdWUzNTE5MzY2MjQ=", "number": 3007, "title": "beets bpd crash", "user": {"login": "hrehfeld", "id": 80887, "node_id": "MDQ6VXNlcjgwODg3", "avatar_url": "https://avatars.githubusercontent.com/u/80887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrehfeld", "html_url": "https://github.com/hrehfeld", "followers_url": "https://api.github.com/users/hrehfeld/followers", "following_url": "https://api.github.com/users/hrehfeld/following{/other_user}", "gists_url": "https://api.github.com/users/hrehfeld/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrehfeld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrehfeld/subscriptions", "organizations_url": "https://api.github.com/users/hrehfeld/orgs", "repos_url": "https://api.github.com/users/hrehfeld/repos", "events_url": "https://api.github.com/users/hrehfeld/events{/privacy}", "received_events_url": "https://api.github.com/users/hrehfeld/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/16", "html_url": "https://github.com/beetbox/beets/milestone/16", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/16/labels", "id": 4368769, "node_id": "MDk6TWlsZXN0b25lNDM2ODc2OQ==", "number": 16, "title": "Modern MPD support", "description": "The MPD protocol has evolved and supports several new features that beets' BPD plugin hasn't implemented. Some of these (like advanced playback control) probably don't make sense in beets, but others are essential for better MPD client support.", "creator": {"login": "arcresu", "id": 322256, "node_id": "MDQ6VXNlcjMyMjI1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/322256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arcresu", "html_url": "https://github.com/arcresu", "followers_url": "https://api.github.com/users/arcresu/followers", "following_url": "https://api.github.com/users/arcresu/following{/other_user}", "gists_url": "https://api.github.com/users/arcresu/gists{/gist_id}", "starred_url": "https://api.github.com/users/arcresu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arcresu/subscriptions", "organizations_url": "https://api.github.com/users/arcresu/orgs", "repos_url": "https://api.github.com/users/arcresu/repos", "events_url": "https://api.github.com/users/arcresu/events{/privacy}", "received_events_url": "https://api.github.com/users/arcresu/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 7, "state": "open", "created_at": "2019-06-03T00:03:24Z", "updated_at": "2019-06-03T00:39:36Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2018-08-19T21:38:21Z", "updated_at": "2019-06-03T00:05:47Z", "closed_at": "2019-04-15T03:39:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nbeets bpd crashes when accessed with mpd client (while fetching albums for artist?).\r\n\r\n```sh\r\n$ beet -vv bpd\r\nuser configuration: /home/hrehfeld/.config/beets/config.yaml\r\ndata directory: /home/hrehfeld/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/hrehfeld/.local/beets.blb\r\nlibrary directory: /home/hrehfeld/music/2017\r\nSending event: library_opened\r\nBuilding directory tree...\r\n... done.\r\n```\r\n\r\nNow access with mpd client:\r\n```sh\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 686, in run\r\n    for data in results:\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 1060, in cmd_list\r\n    rows = tx.query(statement, subvals)\r\n  File \"/usr/lib/python3.7/site-packages/beets/dbcore/db.py\", line 709, in query\r\n    cursor = self.db._connection().execute(statement, subvals)\r\nsqlite3.OperationalError: near \"ORDER\": syntax error\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.7', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/usr/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 1192, in func\r\n    self.start_bpd(lib, host, int(port), password, volume, debug)\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 1168, in start_bpd\r\n    server.run()\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 762, in run\r\n    super(Server, self).run()\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 196, in run\r\n    Connection.handler(self)))\r\n  File \"/usr/lib/python3.7/site-packages/beets/util/bluelet.py\", line 380, in run\r\n    exit_te.reraise()\r\n  File \"/usr/lib/python3.7/site-packages/beets/util/bluelet.py\", line 204, in reraise\r\n    six.reraise(self.exc_info[0], self.exc_info[1], self.exc_info[2])\r\n  File \"/usr/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/usr/lib/python3.7/site-packages/beets/util/bluelet.py\", line 266, in advance_thread\r\n    next_event = coro.throw(*value)\r\n  File \"/usr/lib/python3.7/site-packages/beets/util/bluelet.py\", line 626, in handler\r\n    yield func(conn)\r\n  File \"/usr/lib/python3.7/site-packages/beets/util/bluelet.py\", line 266, in advance_thread\r\n    next_event = coro.throw(*value)\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 625, in run\r\n    yield bluelet.call(self.do_command(Command(line)))\r\n  File \"/usr/lib/python3.7/site-packages/beets/util/bluelet.py\", line 266, in advance_thread\r\n    next_event = coro.throw(*value)\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 585, in do_command\r\n    yield bluelet.call(command.run(self))\r\n  File \"/usr/lib/python3.7/site-packages/beets/util/bluelet.py\", line 268, in advance_thread\r\n    next_event = coro.send(value)\r\n  File \"/usr/lib/python3.7/site-packages/beetsplug/bpd/__init__.py\", line 702, in run\r\n    log.error('{}', traceback.format_exc(e))\r\n  File \"/usr/lib/python3.7/traceback.py\", line 163, in format_exc\r\n    return \"\".join(format_exception(*sys.exc_info(), limit=limit, chain=chain))\r\n  File \"/usr/lib/python3.7/traceback.py\", line 117, in format_exception\r\n    type(value), value, tb, limit=limit).format(chain=chain))\r\n  File \"/usr/lib/python3.7/traceback.py\", line 496, in __init__\r\n    capture_locals=capture_locals)\r\n  File \"/usr/lib/python3.7/traceback.py\", line 331, in extract\r\n    if limit >= 0:\r\nTypeError: '>=' not supported between instances of 'OperationalError' and 'int'\r\n\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Linux 4.14.62-1-ARCH #1 SMP Fri Aug 17 05:43:55 UTC 2018 armv7l GNU/Linux\r\n* Python version: Python 3.7.0\r\n* beets version: 1.4.7\r\n* sqlite3 --version: 3.24.0 2018-06-04 19:24:41 c7ee0833225bfd8c5ec2f9bf62b97c4e04d03bd9566366d5221ac8fb199a87ca\r\n* Turning off plugins made problem go away (yes/no): n/a\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\noriginal_date: yes\r\ndirectory: /home/hrehfeld/music/2017\r\nlibrary: /home/hrehfeld/.local/beets.blb\r\nignore: INCOMPLETE~*\r\nignore_hidden: yes\r\nthreaded: yes\r\n\r\nplugins: bpd\r\n\r\nimport:\r\n    log: ~/beets_import.log\r\n    incremental: yes\r\n    move: yes\r\n    languages: [en, de, fr]\r\n    resume: yes\r\n    detail: yes\r\n    searchlimit: 30\r\n    duplicate_action: keep\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.1\r\n    preferred:\r\n        countries: [US, GB|UK, DE]\r\n        media: [CD, Digital Media|File]\r\n        original_year: yes\r\n    max_rec:\r\n        missing_tracks: low\r\n        unmatched_tracks: medium\r\n\r\nreplace:\r\n    '[\\\\/]': _\r\n    ^\\.: _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>:\"\\?\\*\\|]': _\r\n    \\.$: _\r\n    \\s+$: ''\r\n    '[,!'']': ''\r\nmax_filename_length: 100\r\n\r\npaths:\r\n    default: '%bucket{$year}/%bucket{%asciify{$albumartist}}/%asciify{$albumartist} - $year - %asciify{$album}%aunique{}/%asciify{$albumartist} - $track - %asciify{$title}'\r\nlastgenre:\r\n    fallback: unspecified\r\n    canonical: ''\r\nreplaygain:\r\n    backend: gstreamer\r\nbucket:\r\n    bucket_alpha: [A-F, G-M, N-Z]\r\n    bucket_year:\r\n    - '1920'\r\n    - '1950'\r\n    - '1960'\r\n    - '1970'\r\n    - '1980'\r\n    - '1990'\r\n    - '2000'\r\n    - '2010'\r\ncopyartifacts:\r\n    extensions: .cue .log .jpg .png\r\n    print_ignored: yes\r\nbpd:\r\n    port: 6601\r\n    password: REDACTED\r\n    volume: 100\r\n    host: ''\r\ntypes:\r\n    rating: int\r\nweb:\r\n    host: 127.0.0.1\r\n\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/3007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/3007/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2984", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2984/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2984/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2984/events", "html_url": "https://github.com/beetbox/beets/issues/2984", "id": 341284163, "node_id": "MDU6SXNzdWUzNDEyODQxNjM=", "number": 2984, "title": "`import --set` doesn't work if the value contains a = character", "user": {"login": "MacLeodMike", "id": 1720142, "node_id": "MDQ6VXNlcjE3MjAxNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1720142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MacLeodMike", "html_url": "https://github.com/MacLeodMike", "followers_url": "https://api.github.com/users/MacLeodMike/followers", "following_url": "https://api.github.com/users/MacLeodMike/following{/other_user}", "gists_url": "https://api.github.com/users/MacLeodMike/gists{/gist_id}", "starred_url": "https://api.github.com/users/MacLeodMike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MacLeodMike/subscriptions", "organizations_url": "https://api.github.com/users/MacLeodMike/orgs", "repos_url": "https://api.github.com/users/MacLeodMike/repos", "events_url": "https://api.github.com/users/MacLeodMike/events{/privacy}", "received_events_url": "https://api.github.com/users/MacLeodMike/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-15T01:37:13Z", "updated_at": "2021-03-22T16:23:43Z", "closed_at": "2021-03-22T16:23:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI\u2019m attempting to set a field on the CLI during import to a URL, and I\u2019m getting 'supplied argument is not of the form key=value'. I\u2019ve tried escaping the string, I\u2019ve tried single and double quotes, all without luck.\r\n\r\nHere\u2019s an example you can use (it errors out during argument processing, so it doesn\u2019t even check for the existence of the directory):\r\n\r\n```sh\r\n$ beet import --set import_dir='Example Artist - Example Album (2018)' --set permalink='https://example.com/releases.php?release_id=01239840' Example\\ Artist\\ \\-\\ Example\\ Album\\ \\(2018\\)\r\nerror: supplied argument `permalink=https://example.com/releases.php?release_id=01239840' is not of the form `key=value'\r\n```\r\n\r\nRemoving the = from the URL allows the import to proceed, but with an incorrect URL. Discussion of this issue can be found here: https://discourse.beets.io/t/set-field-to-url/\r\n\r\n### Setup\r\n\r\n* OS: Linux\r\n* Python version: 2.7.9\r\n* beets version: 1.4.6\r\n* Turning off plugins made problem go away (yes/no): N/A\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlibrary: /home/REDACTED/.config/beets/flac.blb\r\nasciify_paths: yes\r\nfetchart:\r\n    sources: coverart itunes amazon albumart wikipedia google filesystem\r\n    google_key: REDACTED\r\n    store_source: yes\r\n    auto: yes\r\n    minwidth: 0\r\n    google_engine: REDACTED MANUALLY\r\n    enforce_ratio: no\r\n    cautious: no\r\n    maxwidth: 0\r\n    fanarttv_key: REDACTED\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\noriginal_date: yes\r\nreplaygain:\r\n    backend: gstreamer\r\n    overwrite: yes\r\n    targetlevel: 89\r\n    auto: yes\r\n    r128: [Opus]\r\ncopyartifacts:\r\n    print_ignored: no\r\n    extensions: .*\r\npluginpath: ~/.config/beets/plugins\r\n\r\nplugins:\r\n- chroma\r\n- discogs\r\n- acousticbrainz\r\n- embedart\r\n- fetchart\r\n- ftintitle\r\n- importadded\r\n- lastgenre\r\n- mbsync\r\n- replaygain\r\n- bucket\r\n- inline\r\n- the\r\n- badfiles\r\n- duplicates\r\n- missing\r\n- info\r\n- bandcamp\r\n- rymgenre\r\n- copyartifacts\r\n\r\npaths:\r\n    default: $format/Albums/%bucket{%upper{%left{%the{$albumartist},1}}}/%the{$albumartist}/[%if{$original_year,$original_year,0000}] $album %aunique{albumartist album year, albumtype label catalognum albumdisambig}/%if{$multidisc,$disc-}$track - $title\r\n    singleton: $format/Singles/%%the{$artist} - $title\r\n    comp: $format/Compilations/[%if{$original_year,$original_year,0000}] %the{$album%if{%aunique, %aunique{albumartist album year, albumtype label catalognum albumdisambig}}}/%if{$multidisc,$disc-}$track - $title\r\n    albumtype:soundtrack: $format/Soundtracks/[%if{$original_year,$original_year,0000}] %the{$album%if{%aunique, %aunique{albumartist album year, albumtype label catalognum albumdisambig}}}/%if{$multidisc,$disk-}$track - $title\r\n    ext:cue: $albumpath/$album\r\n    ext:CUE: $albumpath/$album\r\n    ext:log: $albumpath/$album\r\n    ext:LOG: $albumpath/$album\r\n    ext:m3u: $albumpath/$album\r\n    ext:m3u8: $albumpath/$album\r\n    ext:pls: $albumpath/$album\r\n    ext:nfo: $albumpath/$album\r\n    ext:sfv: $albumpath/$album\r\n    ext:ffp: $albumpath/$album\r\n    ext:accurip: $albumpath/$album\r\nthreaded: yes\r\nitem_fields:\r\n    multidisc: 1 if disctotal > 1 else 0\r\nper_disc_numbering: yes\r\nbucket:\r\n    bucket_alpha:\r\n    - _\r\n    - A\r\n    - B\r\n    - C\r\n    - D\r\n    - E\r\n    - F\r\n    - G\r\n    - H\r\n    - I\r\n    - J\r\n    - K\r\n    - L\r\n    - M\r\n    - N\r\n    - O\r\n    - P\r\n    - Q\r\n    - R\r\n    - S\r\n    - T\r\n    - U\r\n    - V\r\n    - W\r\n    - X\r\n    - Y\r\n    - Z\r\n    bucket_alpha_regex:\r\n        _: ^[^A-Z]\r\n    bucket_year: []\r\n    extrapolate: no\r\nignore: .AppleDouble ._* *~ .DS_Store\r\nlastgenre:\r\n    canonical: ~/.config/beets/genres-tree.yaml\r\n    whitelist: ~/.config/beets/genres.txt\r\n    min_weight: 20\r\n    source: artist\r\n    fallback: Unknown\r\n    count: 1\r\n    prefer_specific: no\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\nrymgenre:\r\n    classes: primary\r\n    depth: node\r\n    separator: ', '\r\ndirectory: /mnt/music/\r\n\r\nimport:\r\n    detail: yes\r\n    resume: ask\r\n    incremental: no\r\n    timid: no\r\n    duplicate_action: skip\r\n    quiet_fallback: skip\r\n    none_rec_fallback: ask\r\n    languages: en\r\n    log: ~/.config/beets/import.log\r\nechonest:\r\n    apikey: REDACTED MANUALLY\r\n    auto: yes\r\nacoustid:\r\n    apikey: REDACTED\r\nthe:\r\n    a: yes\r\n    patterns: []\r\n    the: yes\r\n    strip: no\r\n    format: '{0}, {1}'\r\ndiscogs:\r\n    tokenfile: discogs_token.json\r\n    user_token: REDACTED\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    source_weight: 0.5\r\nbandcamp:\r\n    min_candidates: 5\r\n    art: no\r\n    lyrics: no\r\n    source_weight: 0.5\r\npathfields: {}\r\nalbum_fields: {}\r\nimportadded:\r\n    preserve_write_mtimes: no\r\n    preserve_mtimes: no\r\nduplicates:\r\n    count: no\r\n    full: no\r\n    format: ''\r\n    keys: []\r\n    move: ''\r\n    tag: ''\r\n    path: no\r\n    copy: ''\r\n    tiebreak: {}\r\n    album: no\r\n    strict: no\r\n    checksum: ''\r\n    merge: no\r\n    delete: no\r\nchroma:\r\n    auto: yes\r\nacousticbrainz:\r\n    auto: yes\r\n    force: no\r\n    tags: []\r\nmissing:\r\n    count: no\r\n    album: no\r\n    total: no\r\nembedart:\r\n    compare_threshold: 0\r\n    auto: yes\r\n    ifempty: no\r\n    remove_art_file: no\r\n    maxwidth: 0\r\nftintitle:\r\n    auto: yes\r\n    drop: no\r\n    format: feat. {0}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2984/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2983", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2983/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2983/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2983/events", "html_url": "https://github.com/beetbox/beets/issues/2983", "id": 340906904, "node_id": "MDU6SXNzdWUzNDA5MDY5MDQ=", "number": 2983, "title": "replaygain: Handle invalid XML output from bs1770gain", "user": {"login": "breversa", "id": 2071276, "node_id": "MDQ6VXNlcjIwNzEyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2071276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/breversa", "html_url": "https://github.com/breversa", "followers_url": "https://api.github.com/users/breversa/followers", "following_url": "https://api.github.com/users/breversa/following{/other_user}", "gists_url": "https://api.github.com/users/breversa/gists{/gist_id}", "starred_url": "https://api.github.com/users/breversa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/breversa/subscriptions", "organizations_url": "https://api.github.com/users/breversa/orgs", "repos_url": "https://api.github.com/users/breversa/repos", "events_url": "https://api.github.com/users/breversa/events{/privacy}", "received_events_url": "https://api.github.com/users/breversa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-07-13T07:10:45Z", "updated_at": "2019-05-02T13:35:47Z", "closed_at": "2019-05-02T13:35:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nBeets crashes when calculating ReplayGain. I initially tought it was the import function (#2982), but it's indeed the RG plugin.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv replaygain\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n[\u2026]\r\nreplaygain: executing bs1770gain --ebu --xml -p /home/breversa/Musique/00tz 00tz/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/00tz 00tz - Poisoned minds and broken hearts (Alarm mix).flac /home/breversa/Musique/[Fabrikmutter]/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/[Fabrikmutter] - The minimal devotion.flac /home/breversa/Musique/[Product]/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/[Product] - To the wind (chant).flac /home/breversa/Musique/[Synaptic_Reactor]/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/[Synaptic_Reactor] - The devil's work (Ruinizer mix).flac /home/breversa/Musique/A.D.R.O.N./Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/A.D.R.O.N. - Be subordinated.flac /home/breversa/Musique/Aim & Execute/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Aim & Execute - Phantom energy.flac /home/breversa/Musique/Antibody/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Antibody - Shrimps.flac /home/breversa/Musique/Ayria/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Ayria - Hunger (Acylum mix).flac /home/breversa/Musique/Bereshit/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Bereshit - Virtual freedom.flac /home/breversa/Musique/Biomechanimal/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Biomechanimal - Elder gods.flac /home/breversa/Musique/C-[Phalea]/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/C-[Phalea] - Process to filth.flac /home/breversa/Musique/C2/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/C2 - Affirmative negative infinite.flac /home/breversa/Musique/Code_ Red Core/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Code_ Red Core - Miss betrayal.flac /home/breversa/Musique/Denial of Service/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Denial of Service - Red cross red crescent.flac /home/breversa/Musique/Die System/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Die System - Cyanide.flac /home/breversa/Musique/Diverje/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Diverje - All the fakes (touched by Stahlnebel & Black Selket).flac /home/breversa/Musique/Dolls of Pain/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Dolls of Pain - Drugs on the floor (Endzeit mix).flac /home/breversa/Musique/Durandal x Xiescive/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Durandal x Xiescive - Rabid.flac /home/breversa/Musique/DYM/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/DYM - With a smile (edit).flac /home/breversa/Musique/Flammpunkt/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Flammpunkt - One in the brain (Binary Division mix).flac /home/breversa/Musique/Framework/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Framework - Faith (Contact #2).flac /home/breversa/Musique/Ginger Snap5/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Ginger Snap5 - Waiting for\u2026 (Pride and Fall mix).flac /home/breversa/Musique/Gusano/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Gusano - Sangre eternal.flac /home/breversa/Musique/Hasswut/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Hasswut - Nicht f\u00fcr mich.flac /home/breversa/Musique/Hydra Division V/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Hydra Division V - Ostracized.flac /home/breversa/Musique/Larva/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Larva - Mi mundo nunco fue el vuestro.flac /home/breversa/Musique/M.O.D./Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/M.O.D. - Without regrets.flac /home/breversa/Musique/Mechanic Doll Machine/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Mechanic Doll Machine - Mirage.flac /home/breversa/Musique/Mentallo and The Fixer/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Mentallo and The Fixer - Gammera (Equinox).flac /home/breversa/Musique/Monospore/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Monospore - Standing high.flac /home/breversa/Musique/MRDTC/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/MRDTC - Brain talk (Bunker hellectric).flac /home/breversa/Musique/Neonsol/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Neonsol - Manipulation.flac /home/breversa/Musique/Neustrohm/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Neustrohm - Non toxic.flac /home/breversa/Musique/Protectorate/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Protectorate - Universal exports.flac /home/breversa/Musique/Psychicold/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Psychicold - Burn in Hell.flac /home/breversa/Musique/Renoized/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Renoized - Defcon.flac /home/breversa/Musique/Riotlegion/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Riotlegion - God(b)less.flac /home/breversa/Musique/Sequenz_/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Sequenz_ - Despair (A.D.N. mix).flac /home/breversa/Musique/Shadow Lady/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Shadow Lady - Species (Endzeit mix).flac /home/breversa/Musique/Shadow System/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Shadow System - Nex.flac /home/breversa/Musique/Statik Sky/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Statik Sky - Fuqin noize.flac /home/breversa/Musique/Studio-X/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Studio-X - The source of energy.flac /home/breversa/Musique/Suicidal Romance/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Suicidal Romance - Touch (ES23 mix).flac /home/breversa/Musique/Switchface/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Switchface - A crack in the monolith.flac /home/breversa/Musique/Synapsyche/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Synapsyche - Breath control.flac /home/breversa/Musique/Tamtrum/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Tamtrum - Le son de la pluie (Fils de pute mix by Grendel).flac /home/breversa/Musique/Third Realm/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Third Realm - Deliverance.flac /home/breversa/Musique/Traumatize/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Traumatize - Moje odbicie.flac /home/breversa/Musique/Unter Null/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Unter Null - The fall (The Chemical Sweet Kid mix).flac /home/breversa/Musique/Vault 113/Endzeit Bunkertracks [act VII] \u2013 The bonus tracks/Vault 113 - The prophecy.flac\r\nSending event: album_imported\r\nreplaygain: analysis finished: <bs1770gain>\r\n  <album>\r\n    <track total=\"50\" number=\"1\" file=\"00tz 00tz - Poisoned minds and broken hearts (Alarm mix).flac\">\r\n      <integrated lufs=\"-7.16\" lu=\"-15.84\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"2\" file=\"A.D.R.O.N. - Be subordinated.flac\">\r\n      <integrated lufs=\"-6.34\" lu=\"-16.66\" />\r\n      <sample-peak spfs=\"-0.20\" factor=\"0.977111\" />\r\n    </track>\r\n    <track total=\"50\" number=\"3\" file=\"Aim & Execute - Phantom energy.flac\">\r\n      <integrated lufs=\"-7.90\" lu=\"-15.10\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"4\" file=\"Antibody - Shrimps.flac\">\r\n      <integrated lufs=\"-5.91\" lu=\"-17.09\" />\r\n      <sample-peak spfs=\"-0.20\" factor=\"0.977111\" />\r\n    </track>\r\n    <track total=\"50\" number=\"5\" file=\"Ayria - Hunger (Acylum mix).flac\">\r\n      <integrated lufs=\"-8.48\" lu=\"-14.52\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"6\" file=\"Bereshit - Virtual freedom.flac\">\r\n      <integrated lufs=\"-5.49\" lu=\"-17.51\" />\r\n      <sample-peak spfs=\"-0.21\" factor=\"0.976043\" />\r\n    </track>\r\n    <track total=\"50\" number=\"7\" file=\"Biomechanimal - Elder gods.flac\">\r\n      <integrated lufs=\"-8.85\" lu=\"-14.15\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"8\" file=\"C-[Phalea] - Process to filth.flac\">\r\n      <integrated lufs=\"-8.00\" lu=\"-15.00\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"9\" file=\"C2 - Affirmative negative infinite.flac\">\r\n      <integrated lufs=\"-8.91\" lu=\"-14.09\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"10\" file=\"Code_ Red Core - Miss betrayal.flac\">\r\n      <integrated lufs=\"-7.46\" lu=\"-15.54\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"11\" file=\"DYM - With a smile (edit).flac\">\r\n      <integrated lufs=\"-9.42\" lu=\"-13.58\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"12\" file=\"Denial of Service - Red cross red crescent.flac\">\r\n      <integrated lufs=\"-8.26\" lu=\"-14.74\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"13\" file=\"Die System - Cyanide.flac\">\r\n      <integrated lufs=\"-8.53\" lu=\"-14.47\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"14\" file=\"Diverje - All the fakes (touched by Stahlnebel & Black Selket).flac\">\r\n      <integrated lufs=\"-8.13\" lu=\"-14.87\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"15\" file=\"Dolls of Pain - Drugs on the floor (Endzeit mix).flac\">\r\n      <integrated lufs=\"-8.38\" lu=\"-14.62\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"16\" file=\"Durandal x Xiescive - Rabid.flac\">\r\n      <integrated lufs=\"-9.56\" lu=\"-13.44\" />\r\n      <sample-peak spfs=\"0.00\" factor=\"1.000031\" />\r\n    </track>\r\n    <track total=\"50\" number=\"17\" file=\"Flammpunkt - One in the brain (Binary Division mix).flac\">\r\n      <integrated lufs=\"-9.36\" lu=\"-13.64\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"18\" file=\"Framework - Faith (Contact #2).flac\">\r\n      <integrated lufs=\"-8.65\" lu=\"-14.35\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"19\" file=\"Ginger Snap5 - Waiting for\u2026 (Pride and Fall mix).flac\">\r\n      <integrated lufs=\"-6.26\" lu=\"-16.74\" />\r\n      <sample-peak spfs=\"-0.15\" factor=\"0.982391\" />\r\n    </track>\r\n    <track total=\"50\" number=\"20\" file=\"Gusano - Sangre eternal.flac\">\r\n      <integrated lufs=\"-7.86\" lu=\"-15.14\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"21\" file=\"Hasswut - Nicht f\u00fcr mich.flac\">\r\n      <integrated lufs=\"-5.16\" lu=\"-17.84\" />\r\n      <sample-peak spfs=\"-0.30\" factor=\"0.965514\" />\r\n    </track>\r\n    <track total=\"50\" number=\"22\" file=\"Hydra Division V - Ostracized.flac\">\r\n      <integrated lufs=\"-8.22\" lu=\"-14.78\" />\r\n      <sample-peak spfs=\"-0.17\" factor=\"0.980499\" />\r\n    </track>\r\n    <track total=\"50\" number=\"23\" file=\"Larva - Mi mundo nunco fue el vuestro.flac\">\r\n      <integrated lufs=\"-9.14\" lu=\"-13.86\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"24\" file=\"M.O.D. - Without regrets.flac\">\r\n      <integrated lufs=\"-5.29\" lu=\"-17.71\" />\r\n      <sample-peak spfs=\"-0.01\" factor=\"0.999145\" />\r\n    </track>\r\n    <track total=\"50\" number=\"25\" file=\"MRDTC - Brain talk (Bunker hellectric).flac\">\r\n      <integrated lufs=\"-7.79\" lu=\"-15.21\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"26\" file=\"Mechanic Doll Machine - Mirage.flac\">\r\n      <integrated lufs=\"-8.33\" lu=\"-14.67\" />\r\n      <sample-peak spfs=\"0.00\" factor=\"1.000031\" />\r\n    </track>\r\n    <track total=\"50\" number=\"27\" file=\"Mentallo and The Fixer - Gammera (Equinox).flac\">\r\n      <integrated lufs=\"-6.47\" lu=\"-16.53\" />\r\n      <sample-peak spfs=\"-0.01\" factor=\"0.999023\" />\r\n    </track>\r\n    <track total=\"50\" number=\"28\" file=\"Monospore - Standing high.flac\">\r\n      <integrated lufs=\"-8.62\" lu=\"-14.38\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"29\" file=\"Neonsol - Manipulation.flac\">\r\n      <integrated lufs=\"-7.12\" lu=\"-15.88\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"30\" file=\"Neustrohm - Non toxic.flac\">\r\n      <integrated lufs=\"-8.88\" lu=\"-14.12\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"31\" file=\"Protectorate - Universal exports.flac\">\r\n      <integrated lufs=\"-7.59\" lu=\"-15.41\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"32\" file=\"Psychicold - Burn in Hell.flac\">\r\n      <integrated lufs=\"-8.39\" lu=\"-14.61\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"33\" file=\"Renoized - Defcon.flac\">\r\n      <integrated lufs=\"-8.42\" lu=\"-14.58\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"34\" file=\"Riotlegion - God(b)less.flac\">\r\n      <integrated lufs=\"-8.79\" lu=\"-14.21\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"35\" file=\"Sequenz_ - Despair (A.D.N. mix).flac\">\r\n      <integrated lufs=\"-9.00\" lu=\"-14.00\" />\r\n      <sample-peak spfs=\"0.00\" factor=\"1.000000\" />\r\n    </track>\r\n    <track total=\"50\" number=\"36\" file=\"Shadow Lady - Species (Endzeit mix).flac\">\r\n      <integrated lufs=\"-6.52\" lu=\"-16.48\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"37\" file=\"Shadow System - Nex.flac\">\r\n      <integrated lufs=\"-9.22\" lu=\"-13.78\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"38\" file=\"Statik Sky - Fuqin noize.flac\">\r\n      <integrated lufs=\"-8.39\" lu=\"-14.61\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"39\" file=\"Studio-X - The source of energy.flac\">\r\n      <integrated lufs=\"-6.26\" lu=\"-16.74\" />\r\n      <sample-peak spfs=\"0.00\" factor=\"1.000000\" />\r\n    </track>\r\n    <track total=\"50\" number=\"40\" file=\"Suicidal Romance - Touch (ES23 mix).flac\">\r\n      <integrated lufs=\"-8.69\" lu=\"-14.31\" />\r\n      <sample-peak spfs=\"-0.09\" factor=\"0.990020\" />\r\n    </track>\r\n    <track total=\"50\" number=\"41\" file=\"Switchface - A crack in the monolith.flac\">\r\n      <integrated lufs=\"-8.08\" lu=\"-14.92\" />\r\n      <sample-peak spfs=\"0.00\" factor=\"1.000000\" />\r\n    </track>\r\n    <track total=\"50\" number=\"42\" file=\"Synapsyche - Breath control.flac\">\r\n      <integrated lufs=\"-9.48\" lu=\"-13.52\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"43\" file=\"Tamtrum - Le son de la pluie (Fils de pute mix by Grendel).flac\">\r\n      <integrated lufs=\"-7.78\" lu=\"-15.22\" />\r\n      <sample-peak spfs=\"-0.50\" factor=\"0.944060\" />\r\n    </track>\r\n    <track total=\"50\" number=\"44\" file=\"Third Realm - Deliverance.flac\">\r\n      <integrated lufs=\"-7.40\" lu=\"-15.60\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"45\" file=\"Traumatize - Moje odbicie.flac\">\r\n      <integrated lufs=\"-9.20\" lu=\"-13.80\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"46\" file=\"Unter Null - The fall (The Chemical Sweet Kid mix).flac\">\r\n      <integrated lufs=\"-11.11\" lu=\"-11.89\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"47\" file=\"Vault 113 - The prophecy.flac\">\r\n      <integrated lufs=\"-9.16\" lu=\"-13.84\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975188\" />\r\n    </track>\r\n    <track total=\"50\" number=\"48\" file=\"[Fabrikmutter] - The minimal devotion.flac\">\r\n      <integrated lufs=\"-8.19\" lu=\"-14.81\" />\r\n      <sample-peak spfs=\"0.00\" factor=\"1.000031\" />\r\n    </track>\r\n    <track total=\"50\" number=\"49\" file=\"[Product] - To the wind (chant).flac\">\r\n      <integrated lufs=\"-9.00\" lu=\"-14.00\" />\r\n      <sample-peak spfs=\"-0.03\" factor=\"0.996765\" />\r\n    </track>\r\n    <track total=\"50\" number=\"50\" file=\"[Synaptic_Reactor] - The devil's work (Ruinizer mix).flac\">\r\n      <integrated lufs=\"-10.23\" lu=\"-12.77\" />\r\n      <sample-peak spfs=\"-0.22\" factor=\"0.975176\" />\r\n    </track>\r\n    <summary total=\"50\">\r\n      <integrated lufs=\"-8.00\" lu=\"-15.00\" />\r\n      <sample-peak spfs=\"0.00\" factor=\"1.000031\" />\r\n    </summary>\r\n  </album>\r\n</bs1770gain>\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/beet\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 955, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 925, in import_files\r\n    session.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 329, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 312, in run\r\n    out = self.coro.send(msg)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 1511, in plugin_stage\r\n    func(session, task)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beets/plugins.py\", line 140, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/replaygain.py\", line 1028, in imported\r\n    self.handle_album(task.album, False)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/replaygain.py\", line 955, in handle_album\r\n    album_gain = backend_instance.compute_album_gain(album)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/replaygain.py\", line 136, in compute_album_gain\r\n    output = self.compute_gain(supported_items, True)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/replaygain.py\", line 189, in compute_gain\r\n    return self.compute_chunk_gain(items, is_album)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/replaygain.py\", line 213, in compute_chunk_gain\r\n    results = self.parse_tool_output(output, path_list, is_album)\r\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/replaygain.py\", line 254, in parse_tool_output\r\n    parser.Parse(text, True)\r\nxml.parsers.expat.ExpatError: not well-formed (invalid token): line 11, column 44\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Linux Mint 18.3\r\n* Python version: 2.7.12\r\n* beets version: 1.4.8\r\n* Turning off plugins made problem go away (yes/no): N/A\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nbeet config\r\n\r\npaths:\r\n    default: $artist/$album%aunique{}/$artist - $title\r\n    singleton: $artist/$album%aunique{}/$artist - $title\r\n    comp: $artist/$album%aunique{}/$artist - $title\r\nthreaded: yes\r\nscrub:\r\n    auto: no\r\nchroma:\r\n    auto: yes\r\nlibrary: ~/.config/beets/musiclibrary.db\r\nreplaygain:\r\n    backend: bs1770gain\r\n    method: ebu\r\n    auto: yes\r\n    overwrite: yes\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n    chunk_at: 5000\r\n\r\nui:\r\n    color: yes\r\n\r\nplugins: replaygain chroma duplicates fetchart web info\r\ndirectory: ~/Musique\r\n\r\nimport:\r\n    copy: no\r\n    autotag: no\r\n    resume: ask\r\n    group_albums: yes\r\n    bell: yes\r\nduplicates:\r\n    count: no\r\n    full: no\r\n    format: ''\r\n    keys: []\r\n    move: ''\r\n    tag: ''\r\n    path: no\r\n    copy: ''\r\n    tiebreak: {}\r\n    album: no\r\n    strict: no\r\n    checksum: ''\r\n    merge: no\r\n    delete: no\r\nweb:\r\n    cors_supports_credentials: no\r\n    reverse_proxy: no\r\n    host: 127.0.0.1\r\n    include_paths: no\r\n    cors: ''\r\n    port: 8337\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    enforce_ratio: no\r\n    cautious: no\r\n    maxwidth: 0\r\n    store_source: no\r\n    google_key: REDACTED\r\n    fanarttv_key: REDACTED\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2978", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2978/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2978/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2978/events", "html_url": "https://github.com/beetbox/beets/issues/2978", "id": 338490791, "node_id": "MDU6SXNzdWUzMzg0OTA3OTE=", "number": 2978, "title": "Python 3.7 incompatibility", "user": {"login": "kimpenhaus", "id": 575109, "node_id": "MDQ6VXNlcjU3NTEwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/575109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kimpenhaus", "html_url": "https://github.com/kimpenhaus", "followers_url": "https://api.github.com/users/kimpenhaus/followers", "following_url": "https://api.github.com/users/kimpenhaus/following{/other_user}", "gists_url": "https://api.github.com/users/kimpenhaus/gists{/gist_id}", "starred_url": "https://api.github.com/users/kimpenhaus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kimpenhaus/subscriptions", "organizations_url": "https://api.github.com/users/kimpenhaus/orgs", "repos_url": "https://api.github.com/users/kimpenhaus/repos", "events_url": "https://api.github.com/users/kimpenhaus/events{/privacy}", "received_events_url": "https://api.github.com/users/kimpenhaus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-07-05T09:15:46Z", "updated_at": "2019-03-29T14:16:25Z", "closed_at": "2018-09-05T03:00:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\nAfter upgrading to the latest stable of Python an `AttributeError` is thrown due to changes in the regular expression module of python 3.7.\r\n\r\n```sh\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/beet\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/ui/commands.py\", line 943, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/ui/commands.py\", line 913, in import_files\r\n    session.run()\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/importer.py\", line 329, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/usr/local/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/util/pipeline.py\", line 312, in run\r\n    out = self.coro.send(msg)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/importer.py\", line 1351, in lookup_candidates\r\n    task.lookup_candidates()\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/importer.py\", line 641, in lookup_candidates\r\n    autotag.tag_album(self.items, search_ids=self.search_ids)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/autotag/match.py\", line 432, in tag_album\r\n    _add_candidate(items, candidates, id_info)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/autotag/match.py\", line 377, in _add_candidate\r\n    dist = distance(items, info, mapping)\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/autotag/match.py\", line 191, in distance\r\n    dist.add_equality('media', album_info.media, likelies['media'])\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/autotag/hooks.py\", line 461, in add_equality\r\n    if self._eq(opt, value):\r\n  File \"/usr/local/lib/python3.7/site-packages/beets/autotag/hooks.py\", line 436, in _eq\r\n    if isinstance(value1, re._pattern_type):\r\nAttributeError: module 're' has no attribute '_pattern_type'\r\n```\r\n\r\nThis is related to following changes: https://github.com/python/cpython/pull/1646\r\nFrom what I saw `_pattern_type` is replaced by `Pattern` - see https://github.com/python/cpython/pull/1646/files#diff-daea55f2fca784d9a64ca8f190403904 around `Line 267 - 272`\r\n\r\n### Setup\r\n\r\n* OS: macOS 10.13.5\r\n* Python version:  3.7\r\n* beets version:  1.4.7\r\n* Turning off plugins made problem go away (yes/no):  no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /Volumes/music/\r\n\r\npaths:\r\n    default: $albumartist/$album/%if{$disc == 0 && $totaldisc == 1, 01, $disc} - $track - $title\r\n    comp: Compilations/$album/%if{$disc == 0 && $totaldisc == 1, 01, $disc} - $track - $title\r\n\r\nignore: ['Ringtones', '#recycle', '.*', '*~', 'System Volume Information', 'lost+found', '.m4r']\r\n\r\nformat_item: ($format) $artist - $album - $track - $title\r\n\r\nclutter: ['Thumbs.db', '.DS_Store', '*.m3u', '*.pls', '*.nfo', '*.sfv', '*.jpg', '*.jpeg', '*.png', '*.url', '*.URL', '*.txt', '*.ini']\r\n\r\nimport:\r\n    copy: no\r\n    write: yes\r\n    move: yes\r\n\r\nplugins: [discogs, bandcamp, fetchart, embedart, chroma, zero, scrub, duplicates, missing, edit, lastgenre, ftintitle]\r\n\r\nbandcamp:\r\n    art: yes\r\n\r\nfetchart:\r\n    cautious: yes\r\n    minwidth: 200\r\n    maxwidth: 200\r\n    enforce_ratio: yes\r\n    sources: [filesystem, bandcamp, coverart, amazon, albumart, wikipedia, google]\r\n\r\nzero:\r\n    fields: comments\r\n    update_database: yes\r\n\r\nlastgenre:\r\n    source: album\r\n    count: 5\r\n    force: yes\r\n    canonical: '~/Documents/git/india.kimpenhaus.home/beets/genres-tree.yaml'\r\n    whitelist: '~/Documents/git/india.kimpenhaus.home/beets/genres.txt'\r\n    prefer_specific: yes\r\n    min_weight: 0\r\n    fallback: ''\r\n    separator: ';'\r\n\r\nmissing:\r\n    format: $albumartist - $album - $title\r\n    count: no\r\n    total: no\r\n\r\nedit:\r\n    itemfields: [track, title, artist, albumartist, album, genre]\r\n\r\nftintitle:\r\n    auto: yes\r\n    drop: no\r\n    format: feat. {0}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2978/reactions", "total_count": 5, "+1": 5, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2978/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2972", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2972/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2972/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2972/events", "html_url": "https://github.com/beetbox/beets/issues/2972", "id": 337225834, "node_id": "MDU6SXNzdWUzMzcyMjU4MzQ=", "number": 2972, "title": "import.from_scratch clears the `format` field => replaygain uses wrong tag format", "user": {"login": "zsinskri", "id": 19800705, "node_id": "MDQ6VXNlcjE5ODAwNzA1", "avatar_url": "https://avatars.githubusercontent.com/u/19800705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zsinskri", "html_url": "https://github.com/zsinskri", "followers_url": "https://api.github.com/users/zsinskri/followers", "following_url": "https://api.github.com/users/zsinskri/following{/other_user}", "gists_url": "https://api.github.com/users/zsinskri/gists{/gist_id}", "starred_url": "https://api.github.com/users/zsinskri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zsinskri/subscriptions", "organizations_url": "https://api.github.com/users/zsinskri/orgs", "repos_url": "https://api.github.com/users/zsinskri/repos", "events_url": "https://api.github.com/users/zsinskri/events{/privacy}", "received_events_url": "https://api.github.com/users/zsinskri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-30T16:22:32Z", "updated_at": "2018-07-02T19:38:58Z", "closed_at": "2018-07-02T19:38:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\n#### original Problem:\r\nAll tracks in my library (Opus and FLAC) have `REPLAYGAIN_{ALBUM,TRACK}_{GAIN,PEAK}` tags and no `R128_{ALBUM,TRACK}_GAIN` tags after running `beet replaygain -a`, even the Opus files.\r\nI tried `gstreamer` and `bs1770gain` replaygain backends.\r\nWith `bs1770gain` I also tried explicitly setting `method: ebu`. and setting `r128: Opus FLAC`.\r\n\r\n\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv replaygain LITE Cubic Else\r\nuser configuration: /home/zsin/.config/beets/config.yaml\r\ndata directory: /home/zsin/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlyrics: Disabling google source: no API key configured.\r\n/home/zsin/incoming/tmp/beets/beets/plugins.py:130: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  argspec = inspect.getargspec(func)\r\n/home/zsin/incoming/tmp/beets/beets/plugins.py:130: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  argspec = inspect.getargspec(func)\r\nlibrary database: /home/zsin/.local/share/beets/library.db\r\nlibrary directory: /home/zsin/music\r\nSending event: library_opened\r\nreplaygain: analyzing LITE - Cubic - 01 Else\r\nreplaygain: executing bs1770gain --ebu --xml -p /home/zsin/music/LITE/Cubic/01 Else.opus\r\nreplaygain: analysis finished: <bs1770gain>\r\n  <album>\r\n    <track total=\"1\" number=\"1\" file=\"01&#x20;Else&#x2E;opus\">\r\n      <integrated lufs=\"-10.96\" lu=\"-12.04\" />\r\n      <sample-peak spfs=\"1.71\" factor=\"1.217485\" />\r\n    </track>\r\n    <summary total=\"1\">\r\n      <integrated lufs=\"-10.96\" lu=\"-12.04\" />\r\n      <sample-peak spfs=\"1.71\" factor=\"1.217485\" />\r\n    </summary>\r\n  </album>\r\n</bs1770gain>\r\n\r\nreplaygain: 1 items, 1 results\r\nSending event: database_change\r\nreplaygain: applied track gain -12.04, peak 1.217485\r\nSending event: write\r\nSending event: after_write\r\nSending event: cli_exit\r\n```\r\n\r\nNote the deprecation warnings mentioned in #2826 They go away when disabling plugins. And without plugins item.format is still `\"\"` (see below), so I do not believe them to be the problem. \r\n\r\nLed to this problem:\r\n\r\n```sh\r\n$ ffmpeg -i ~/music/LITE/Cubic/01\\ Else.opus 2>&1 | grep -iE 'gain|r128'\r\n      REPLAYGAIN_ALBUM_GAIN: -12.55 dB\r\n      REPLAYGAIN_ALBUM_PEAK: 1.244816\r\n      REPLAYGAIN_TRACK_GAIN: -12.04 dB\r\n      REPLAYGAIN_TRACK_PEAK: 1.217485\r\n$ ffmpeg -i ~/music/LITE/Cubic/01\\ Else.opus 2>&1 | grep -iE 'input|audio'\r\nInput #0, ogg, from '/home/zsin/music/LITE/Cubic/01 Else.opus':\r\n    Stream #0:0(eng): Audio: opus, 48000 Hz, stereo, fltp\r\n```\r\n\r\n### Trying to analyse the problem\r\n\r\nAdding some `print` statements to `replaygain` (cloned from master):\r\n```python3\r\n    def should_use_r128(self, item):\r\n        \"\"\"Checks the plugin setting to decide whether the calculation\r\n        should be done using the EBU R128 standard and use R128_ tags instead.\r\n        \"\"\"\r\n        print(f\"should_use_r128: {repr(item.format)} in {self.r128_whitelist} ==> {item.format in self.r128_whitelist}\")\r\n        return item.format in self.r128_whitelist\r\n```\r\n```sh\r\nb replaygain LITE Cubic Else\r\nreplaygain: analyzing LITE - Cubic - 01 Else\r\nshould_use_r128: '' in ['Opus', 'FLAC'] ==> False\r\n```\r\nitem.field is the empty string.\r\n\r\n```sh\r\n$ # with all plugins disabled (enabling them just adds the deprecation warnings):\r\n$ beet ls -f '$title [$format]' LITE Cubic Else\r\nElse []\r\n```\r\n\r\nInserting a breakpoint into `list` to continue debugging without plugins:\r\n```python3\r\ndef list_items(lib, query, album, fmt=u''):\r\n    \"\"\"Print out items in lib matching query. If album, then search for\r\n    albums instead of single items.\r\n    \"\"\"\r\n    if album:\r\n        for album in lib.albums(query):\r\n            ui.print_(format(album, fmt))\r\n    else:\r\n        for item in lib.items(query):\r\n            import pdb; pdb.set_trace()\r\n            ui.print_(format(item, fmt))\r\n```\r\n```sh\r\n$ beet ls LITE Cubic Else\r\n> /home/zsin/incoming/tmp/beets/beets/ui/commands.py(1068)list_items()\r\n-> ui.print_(format(item, fmt))\r\n(Pdb) p item.format\r\n''\r\n(Pdb) item.read()\r\n(Pdb) p item.format\r\n'Opus'\r\n(Pdb) \r\n```\r\nSo the `MediaFile` correctly identifies the format, but it is never actually read.\r\nThe `info` plugin uses `MediaFile` directly:\r\n```sh\r\n$ beet info LITE Cubic Else | grep format\r\n              format: Opus\r\n```\r\n\r\n### Problem\r\n\r\nI was not able to find out where `format` is supposed to be read into the Item for use by `list` and `replaygain`. Could someone please provide a hint on that? I'd like to test if/where there is problem on my side.\r\n\r\n\r\n### Setup\r\n\r\n* OS: Fedora 28\r\n* Python version: 3.6.5 (also partially tried 2.7.15 with same results)\r\n* beets version: 1.4.8 (from current git master (commit 0c033bdaf10b78be04e6ebc8f998d9d3d5f70e3d))\r\nI observed the same symptom (no R128_* tags on Opus) with beets 1.4.6 (installed by Fedora's package manager).\r\n* Turning off plugins made problem go away (yes/no): \r\n\r\n### Configuration without plugins\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: ~/music\r\nlibrary: ~/.local/share/beets/library.db\r\nasciify_paths: yes\r\n\r\nimport:\r\n    from_scratch: yes\r\n    languages: en\r\n\r\npaths:\r\n    singleton: $artist/$title\r\n\r\nformat_item: $artist - $album - $track $title\r\n```\r\n\r\n### Configuration (with bs1770 and explicit options)\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n lyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\n    sources:\r\n    - google\r\n    - lyricwiki\r\n    - musixmatch\r\n    - genius\r\ndirectory: ~/music\r\nlibrary: ~/.local/share/beets/library.db\r\nasciify_paths: yes\r\n\r\nimport:\r\n    from_scratch: yes\r\n    languages: en\r\n\r\npaths:\r\n    singleton: $artist/$title\r\n\r\nformat_item: $artist - $album - $track $title\r\n\r\nplugins:\r\n- fromfilename\r\n- edit\r\n- fetchart\r\n- ftintitle\r\n- lastgenre\r\n- lyrics\r\n- replaygain\r\n- convert\r\n- fuzzy\r\n- info\r\n- mbsubmit\r\n- mbsync\r\n- missing\r\nlastgenre:\r\n    count: 5\r\n    prefer_specific: no\r\n    source: track\r\n    whitelist: yes\r\n    min_weight: 10\r\n    fallback:\r\n    canonical: no\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\nreplaygain:\r\n    overwrite: yes\r\n    backend: bs1770gain\r\n    r128: Opus FLAC\r\n    method: ebu\r\n    auto: yes\r\n    targetlevel: 89\r\n    chunk_at: 5000\r\nconvert:\r\n    copy_album_art: yes\r\n    embed: no\r\n    dest: ~/converted_music\r\n    format: opus\r\n    formats:\r\n        opus: ffmpeg-audio-convert-or-copy $source $dest opus -y -vn -ab 96k\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    pretend: no\r\n    threads: 4\r\n    max_bitrate: 500\r\n    auto: no\r\n    tmpdir:\r\n    quiet: no\r\n\r\n    paths: {}\r\n    no_convert: ''\r\n    never_convert_lossy_files: no\r\n    album_art_maxwidth: 0\r\nfuzzy:\r\n    prefix: '~'\r\n    threshold: 0.7\r\nmissing:\r\n    count: no\r\n    total: no\r\n    album: no\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    store_source: no\r\nedit:\r\n    albumfields: album albumartist\r\n    itemfields: track title artist album\r\n    ignore_fields: id path\r\nftintitle:\r\n    auto: yes\r\n    drop: no\r\n    format: feat. {0}\r\nmbsubmit:\r\n    format: $track. $title - $artist ($length)\r\n    threshold: medium\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2967", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2967/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2967/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2967/events", "html_url": "https://github.com/beetbox/beets/issues/2967", "id": 335211086, "node_id": "MDU6SXNzdWUzMzUyMTEwODY=", "number": 2967, "title": "hook: Interpolate paths (and other bytestrings) correctly into commands", "user": {"login": "mike2725", "id": 40547813, "node_id": "MDQ6VXNlcjQwNTQ3ODEz", "avatar_url": "https://avatars.githubusercontent.com/u/40547813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mike2725", "html_url": "https://github.com/mike2725", "followers_url": "https://api.github.com/users/mike2725/followers", "following_url": "https://api.github.com/users/mike2725/following{/other_user}", "gists_url": "https://api.github.com/users/mike2725/gists{/gist_id}", "starred_url": "https://api.github.com/users/mike2725/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mike2725/subscriptions", "organizations_url": "https://api.github.com/users/mike2725/orgs", "repos_url": "https://api.github.com/users/mike2725/repos", "events_url": "https://api.github.com/users/mike2725/events{/privacy}", "received_events_url": "https://api.github.com/users/mike2725/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 393039019, "node_id": "MDU6TGFiZWwzOTMwMzkwMTk=", "url": "https://api.github.com/repos/beetbox/beets/labels/python%203", "name": "python 3", "color": "fbca04", "default": false, "description": "Arises from the Python 2->3 transition."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-06-24T20:59:03Z", "updated_at": "2019-02-25T16:09:13Z", "closed_at": "2019-02-25T16:09:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI have the following configuration for the Hook plugin in my config.yaml:\r\n\r\n```\r\nhook:\r\n    hooks:\r\n        - event: album_imported\r\n          command: /usr/bin/ls -l \"{album.path}\"\r\n```\r\n\r\nThis is just a test to see how beets presents the path values.  It appears that the paths are returned as bytes objects rather than strings.  This is problematic when using the path values as arguments for external shell scripts.  As can be seen below, the shell is unable to use the value provided by {album.path}.\r\n\r\n\r\n```sh\r\n$ beet -vv import /tmp/music/new/Al\\ Di\\ Meola\\ -\\ Elegant\\ Gypsy/\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nhook: running command \"/usr/bin/ls -l b'/tmp/music/FLAC/Al Di Meola/Elegant Gypsy'\" for event album_imported\r\n/usr/bin/ls: cannot access \"b'/tmp/music/FLAC/Al Di Meola/Elegant Gypsy'\": No such file or directory\r\n\r\n```\r\n\r\nThe path \"/tmp/music/FLAC/Al Di Meola/Elegant Gypsy\" does exist on the filesystem after the import is complete.\r\n\r\n\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* Python version: 3.4.5\r\n* beets version: 1.4.7\r\n* Turning off plugins made problem go away (yes/no): This issue is related to a plugin, so I didn't turn them off\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nplugins: inline convert badfiles info missing lastgenre fetchart mbsync scrub smartplaylist hook\r\ndirectory: /tmp/music/FLAC\r\nlibrary: ~/.config/beets/library.db\r\n\r\nimport:\r\n    copy: yes\r\n    write: yes\r\n    log: ~/.config/beets/import.log\r\n    languages: en\r\nper_disc_numbering: yes\r\n\r\npaths:\r\n    default: $albumartist/$album%aunique{}/$disc_and_track - $title\r\n    comp: $albumartist/$album%aunique{}/$disc_and_track - $title\r\nitem_fields:\r\n    disc_and_track: u'%01i-%02i' % (disc, track) if disctotal > 1 else u'%02i' % (track)\r\n\r\nui:\r\n    color: yes\r\n\r\nmatch:\r\n    ignored: missing_tracks unmatched_tracks\r\nconvert:\r\n    copy_album_art: yes\r\n    dest: /tmp/music/ogg\r\n    embed: yes\r\n    never_convert_lossy_files: yes\r\n    format: ogg\r\n    formats:\r\n        ogg:\r\n            command: oggenc -Q -q 4 -o $dest $source\r\n            extension: ogg\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    pretend: no\r\n    threads: 4\r\n    max_bitrate: 500\r\n    auto: no\r\n    tmpdir:\r\n    quiet: no\r\n\r\n    paths: {}\r\n    no_convert: ''\r\n    album_art_maxwidth: 0\r\nlastgenre:\r\n    force: yes\r\n    prefer_specific: no\r\n    min_weight: 20\r\n    count: 4\r\n    separator: '; '\r\n    whitelist: yes\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    auto: yes\r\nfetchart:\r\n    sources: filesystem coverart amazon albumart\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    store_source: no\r\nhook:\r\n    hooks: [{event: album_imported, command: '/usr/bin/ls -l \"{album.path}\"'}]\r\npathfields: {}\r\nalbum_fields: {}\r\nscrub:\r\n    auto: yes\r\nmissing:\r\n    count: no\r\n    total: no\r\n    album: no\r\nsmartplaylist:\r\n    relative_to:\r\n    playlist_dir: .\r\n    auto: yes\r\n    playlists: []\r\n```\r\n\r\nI created a Python 2 virtual environment, installed beets and any dependencies in to that virtualenv, cleaned my test library, and imported the same files using the same config.yaml.  This time the shell  was able to use the path value returned by the hook configuration:\r\n\r\n```\r\nhook: running command \"/usr/bin/ls -l /tmp/music/FLAC/Al Di Meola/Elegant Gypsy\" for event album_imported\r\ntotal 254944\r\n-rw-r--r-- 1 mike mike 50409756 Jun 24 13:46 01 - Flight Over Rio.flac\r\n-rw-r--r-- 1 mike mike 43352354 Jun 24 13:46 02 - Midnight Tango.flac\r\n-rw-r--r-- 1 mike mike  7726389 Jun 24 13:46 03 - Percussion Intro.flac\r\n-rw-r--r-- 1 mike mike 32184646 Jun 24 13:46 04 - Mediterranean Sundance.flac\r\n-rw-r--r-- 1 mike mike 45770796 Jun 24 13:46 05 - Race With Devil on Spanish Highway.flac\r\n-rw-r--r-- 1 mike mike 10421006 Jun 24 13:46 06 - Lady of Rome, Sister of Brazil.flac\r\n-rw-r--r-- 1 mike mike 65807504 Jun 24 13:46 07 - Elegant Gypsy Suite.flac\r\n-rw-r--r-- 1 mike mike  5366515 Jun 24 13:46 cover.jpg\r\n```\r\nI'm guessing this is due to a data type difference between Python 2 and Python 3.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2967/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2967/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2965", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2965/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2965/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2965/events", "html_url": "https://github.com/beetbox/beets/issues/2965", "id": 333882101, "node_id": "MDU6SXNzdWUzMzM4ODIxMDE=", "number": 2965, "title": "crash when using Discogs plugin", "user": {"login": "goodzack", "id": 35585155, "node_id": "MDQ6VXNlcjM1NTg1MTU1", "avatar_url": "https://avatars.githubusercontent.com/u/35585155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goodzack", "html_url": "https://github.com/goodzack", "followers_url": "https://api.github.com/users/goodzack/followers", "following_url": "https://api.github.com/users/goodzack/following{/other_user}", "gists_url": "https://api.github.com/users/goodzack/gists{/gist_id}", "starred_url": "https://api.github.com/users/goodzack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goodzack/subscriptions", "organizations_url": "https://api.github.com/users/goodzack/orgs", "repos_url": "https://api.github.com/users/goodzack/repos", "events_url": "https://api.github.com/users/goodzack/events{/privacy}", "received_events_url": "https://api.github.com/users/goodzack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-06-20T00:16:24Z", "updated_at": "2019-07-30T20:46:04Z", "closed_at": "2019-07-30T20:46:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nRunning an incremental import on a folder of files that may either be new or have duplicates in the library. When the import comes across a certain album-- not sure if it's precipitated by encountering the one that it is prompting me for, or if it's crashing on encountering another album it's processing in the background (which I'm pretty sure beets does?). I don't think it's the former, because \r\n\r\nIf I come across this, I'll turn off the discogs plugin and continue through the import. Later, if there are albums that I would have skipped because it wasn't found in MB, I'll run an import on those albums with discogs turned back on with no problem.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv import -il ../logfile1 ../Inbox/\r\n\r\n```\r\n\r\nLed to this problem:\r\n\r\n\r\nbeginning of logfile...\r\n\r\n```\r\n/Volumes/CritterKeeper/Tunes/Inbox/A Sunny Day In Glasgow/(2007) Scribble Mural Comic Journal (3 items)\r\nLooking up: /Volumes/CritterKeeper/Tunes/Inbox/A Tribe Called Quest/(2016) We Got It from Here... Thank You 4 Your Service\r\nSending event: before_choose_candidate\r\nFinding tags for album \"A Sunny Day In Glasgow - Scribble Mural Comic Journal\".\r\nTagging A Tribe Called Quest - We got it from Here... Thank You 4 Your service\r\nCandidates:\r\n1. A Sunny Day in Glasgow - Scribble Mural Comic Journal (60.8%) (missing tracks, tracks) (CD, 2007, US, Notenuf Records)\r\nSearching for discovered album ID: eb3a43ff-34cf-4c17-9be6-9ffa06e7ac40\r\nRequesting MusicBrainz release eb3a43ff-34cf-4c17-9be6-9ffa06e7ac40\r\n2. A Sunny Day In Glasgow - Scribble Mural Comic Journal (60.0%) (missing tracks, source, tracks) (Discogs, CD, 2007, US, Notenuf Records)\r\n3. A Sunny Day In Glasgow - Scribble Mural Comic Journal (60.0%) (missing tracks, source, tracks) (Discogs, CD, 2008, Japan, Octave)\r\n4. A Sunny Day In Glasgow - Scribble Mural Comic Journal (59.9%) (missing tracks, source, tracks) (Discogs, CD, 2008, UK, Europe & US, Mis Ojos Discos)\r\n5. A Sunny Day in Glasgow - Scribble Mural Comic Journal (52.4%) (missing tracks, mediums, tracks) (2x12\" Vinyl, 2008, US, Ruined Potential Records)\r\n6. A Sunny Day In Glasgow - Scribble Mural Comic Journal (52.2%) (missing tracks, mediums, source, ...) (Discogs, 2xVinyl, 2008, US, Ruined Potential Records)\r\n7. A Sunny Day in Glasgow - Nitetime Rainbows (44.6%) (missing tracks, tracks, album, ...) (12\" Vinyl, 2010, US, Mis Ojos Discos)\r\n8. A Sunny Day in Glasgow - The Sunniest Day Ever (43.2%) (tracks, album, missing tracks, ...) (2006, US)\r\n9. A Sunny Day In Glasgow - Tout New Age (41.1%) (missing tracks, tracks, album, ...) (Discogs, CDr, 2007, US, Not On Label (A Sunny Day In Glasgow Self-released))\r\n10. A Sunny Day in Glasgow - XMAS MIXER (37.7%) (tracks, album, year) (Digital Media, 2013, XW)\r\n# selection (default 1), Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? Sending event: import_task_created\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: A Tribe Called Quest - We Got It from Here... Thank You 4 Your Service (eb3a43ff-34cf-4c17-9be6-9ffa06e7ac40)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.36\r\n\r\n```\r\n\r\n(it continues even though I haven't given an input... I assume it's supposed to happen like that. It continues without incident I can see until the following event)\r\n\r\n```\r\n\r\nRequesting MusicBrainz release 66343625-48b8-4d95-9b79-6d0590e806e3\r\nSending event: import_task_created\r\nprimary MB release type: album\r\nSending event: albuminfo_received\r\nCandidate: AJJ - Home Style (66343625-48b8-4d95-9b79-6d0590e806e3)\r\nComputing track assignment...\r\n...done.\r\nSuccess. Distance: 0.67\r\nSending event: import_task_created\r\ndiscogs: Searching for master release 418779\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\nSending event: import_task_created\r\n```\r\n(occasionally I'll hit enter if beets doesn't appear to be prompting me - this is what happened here)\r\n```\r\nCorrecting tags from:\r\n    A Sunny Day In Glasgow - Scribble Mural Comic Journal\r\nTo:\r\n    A Sunny Day in Glasgow - Scribble Mural Comic Journal\r\nURL:\r\n    https://musicbrainz.org/release/21951976-a87b-4118-a7dd-9ee319c3a32a\r\n(Similarity: 60.8%) (missing tracks, tracks) (CD, 2007, US, Notenuf Records)\r\n * Our Change Into Rain Is No Change At All (Talkin' 'bout Us) ->\r\n   Our Change Into Rain Is No Change at All (Talkin' 'Bout Us)\r\n * Watery (Drowining Is Just Another Word for Being Burried Alive Under Water) ->\r\n   Watery (Drowning Is Just Another Word for Being Buried Alive Under Water) (title)\r\nMissing tracks (10/13 - 76.9%):\r\n ! Wake Up Pretty (#1) (2:00)\r\n ! No. 6 Von Karman Street (#2) (4:16)\r\n ! A Mundane Phonecall to Jack Parsons (#3) (3:21)\r\n ! Ghost in the Graveyard (#5) (5:59)\r\n ! 5:15 Train (#6) (4:12)\r\n ! Lists, Plans (#7) (4:54)\r\n ! C'mon (#8) (4:28)\r\n ! The Horn Song (#9) (1:28)\r\n ! Things Only I Can See (#12) (5:06)\r\n ! The Best Summer Ever (#13) (4:44)\r\nApply, More candidates, Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? A\r\nSending event: import_task_choice\r\nfound duplicates: [6, 2350]\r\ndefault action for duplicates: a\r\nThis album is already in the library!\r\nOld: 2 items, MP3, 199kbps, 9:40, 14.0 MiB\r\nOld: 13 items, MP3 10, AAC 3, 207kbps, 54:10, 81.9 MiB\r\nNew: 3 items, AAC, 256kbps, 13:42, 25.1 MiB\r\n[S]kip new, Keep both, Remove old, Merge all? S\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/bin/beet\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/ui/commands.py\", line 943, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/ui/commands.py\", line 913, in import_files\r\n    session.run()\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/importer.py\", line 329, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/util/pipeline.py\", line 312, in run\r\n    out = self.coro.send(msg)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/importer.py\", line 1351, in lookup_candidates\r\n    task.lookup_candidates()\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/importer.py\", line 641, in lookup_candidates\r\n    autotag.tag_album(self.items, search_ids=self.search_ids)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/autotag/match.py\", line 460, in tag_album\r\n    va_likely):\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/plugins.py\", line 561, in decorated\r\n    for v in generator(*args, **kwargs):\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/autotag/hooks.py\", line 610, in album_candidates\r\n    for candidate in plugins.candidates(items, artist, album, va_likely):\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets/plugins.py\", line 371, in candidates\r\n    for candidate in plugin.candidates(items, artist, album, va_likely):\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/discogs.py\", line 151, in candidates\r\n    return self.get_albums(query)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/discogs.py\", line 216, in get_albums\r\n    return [album for album in map(self.get_album_info, releases[:5])\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/discogs.py\", line 303, in get_album_info\r\n    original_year = self.get_master_year(master_id) if master_id else year\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/discogs.py\", line 230, in get_master_year\r\n    self._log.debug(u'API Error: {0} (query: {1})', e, result._uri)\r\nAttributeError: 'Master' object has no attribute '_uri'\r\n```\r\n\r\n\r\n\r\n### Setup\r\n\r\n* OS: OS X 10.13.5\r\n* Python version:  2.7.14\r\n* beets version: 1.4.7\r\n* Turning off plugins made problem go away (yes/no): yes - discogs\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /Volumes/CritterKeeper/Tunes/Newer Library/\r\nlibrary : /Volumes/CritterKeeper/Tunes/beetlibrary/library.db\r\n\r\nimport:\r\n  bell : yes\r\n  resume : ask\r\n  write: yes\r\nlog: /Volumes/CritterKeeper/Tunes/beetlibrary/\r\nreplace:\r\n  '[\\\\/]': ''\r\n  '^\\.': ''\r\n  '[\\x00-\\x1f]': ''\r\n  '[<>:\"\\?\\*\\|]': ''\r\n  '\\.$': ''\r\n  '\\s+$': ''\r\n  '^\\s+': ''\r\n  '^-': ''\r\n  '\\/': ''\r\npaths:\r\n  default: /$albumartist/($original_year) $album [$format]/$track $title\r\n  singleton: /$albumartist/'non-album tracks'/$title/$title\r\n  compilations: /Compilations/%if{$original_year,$original_year,%if{$year,$year,\"\"}} $album%aunique{} [$format]/$track $title\r\nmissing:\r\n    format: $albumartist - $album - $title\r\nchroma:\r\n    auto: no\r\nconvert:\r\n    dest: /Volumes/CritterKeeper/Tunes/Converted/\r\n    max_bitrate: 320000\r\nduplicates:\r\n    tiebreak:\r\n        items: [bitrate]\r\nplugins: fetchart duplicates missing chroma embedart convert discogs\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2965/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2924", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2924/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2924/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2924/events", "html_url": "https://github.com/beetbox/beets/issues/2924", "id": 322528257, "node_id": "MDU6SXNzdWUzMjI1MjgyNTc=", "number": 2924, "title": "Lyrics plugin groups songs by 'artist' rather than 'albumartist'", "user": {"login": "Abrackadabra", "id": 1352887, "node_id": "MDQ6VXNlcjEzNTI4ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/1352887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Abrackadabra", "html_url": "https://github.com/Abrackadabra", "followers_url": "https://api.github.com/users/Abrackadabra/followers", "following_url": "https://api.github.com/users/Abrackadabra/following{/other_user}", "gists_url": "https://api.github.com/users/Abrackadabra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Abrackadabra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Abrackadabra/subscriptions", "organizations_url": "https://api.github.com/users/Abrackadabra/orgs", "repos_url": "https://api.github.com/users/Abrackadabra/repos", "events_url": "https://api.github.com/users/Abrackadabra/events{/privacy}", "received_events_url": "https://api.github.com/users/Abrackadabra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-12T17:24:11Z", "updated_at": "2018-05-14T14:21:30Z", "closed_at": "2018-05-14T14:21:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen you use the lyrics plugin to create rst files with the lyrics themselves, the resulting files are grouped by the items' `artist` field rather than `albumartist`, which would arguably be more reasonable. When an artist has many collaborations where for a song the two fields are different, it may lead to situations like this:\r\n\r\n![image](https://user-images.githubusercontent.com/1352887/39959925-3f86ed96-562a-11e8-94d2-2b2b21285b5c.png)\r\n\r\nafter a three line change ([commit link](https://github.com/Abrackadabra/beets/commit/62d5fe3692f0e93663da6c87818578a7ccef8d7c)):\r\n\r\n![image](https://user-images.githubusercontent.com/1352887/39959931-6a219286-562a-11e8-9e78-dc76f4a6f60e.png)\r\n\r\nLet me know if you want me to create a push request with this.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2924/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2924/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2921", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2921/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2921/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2921/events", "html_url": "https://github.com/beetbox/beets/issues/2921", "id": 321639701, "node_id": "MDU6SXNzdWUzMjE2Mzk3MDE=", "number": 2921, "title": "mbsync does not yield albuminfo_received / trackinfo_received as the docs suggest", "user": {"login": "iliana", "id": 52814, "node_id": "MDQ6VXNlcjUyODE0", "avatar_url": "https://avatars.githubusercontent.com/u/52814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliana", "html_url": "https://github.com/iliana", "followers_url": "https://api.github.com/users/iliana/followers", "following_url": "https://api.github.com/users/iliana/following{/other_user}", "gists_url": "https://api.github.com/users/iliana/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliana/subscriptions", "organizations_url": "https://api.github.com/users/iliana/orgs", "repos_url": "https://api.github.com/users/iliana/repos", "events_url": "https://api.github.com/users/iliana/events{/privacy}", "received_events_url": "https://api.github.com/users/iliana/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-09T16:27:55Z", "updated_at": "2018-05-10T13:48:21Z", "closed_at": "2018-05-10T13:48:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nI am writing a plugin to override metadata and wish for it to apply when using `beet mbsync`. [The documentation for plugin events](http://beets.readthedocs.io/en/v1.4.6/dev/plugins.html#plugin-events) implies that listening for `albuminfo_received` and `trackinfo_received` will allow me to do just that.\r\n\r\nHowever, running `beet -vv mbsync` for a given query does not show a log message saying that the event was ever sent.\r\n\r\n```\r\n$ beet -vv mbsync 'album:autobahn'\r\nuser configuration: /home/ilianaw/.config/beets/config.yaml\r\ndata directory: /home/ilianaw/.config/beets\r\nplugin paths: /home/ilianaw/.config/beets/plug\r\nSending event: pluginload\r\n/usr/lib/python3.6/site-packages/beets/plugins.py:114: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  argspec = inspect.getargspec(func)\r\nlibrary database: /home/ilianaw/.config/beets/library.db\r\nlibrary directory: /srv/media/ilianaw_music\r\nSending event: library_opened\r\nRequesting MusicBrainz release f8fab745-79bd-31cd-be4b-ceb3d7e1e799\r\nprimary MB release type: album\r\nmbsync: applying changes to Kraftwerk - Autobahn\r\nSending event: cli_exit\r\n```\r\n\r\nIt appears (although I've not tested it) that this is a regression that occurred in https://github.com/beetbox/beets/commit/18a14e8005ee22073f1599fdc023e0eeda17eb1d. `mbsync` uses `hooks.album_for_mbid`, but only `hooks.albums_for_id` yields an `albuminfo_received`.\r\n\r\nThe solution that comes to my mind is to partially revert this commit by removing the `@plugins.notify_info_yielded` decorator on `albums_for_id`/`tracks_for_id` and using `plugins.send`. The use of `@plugins.notify_info_yielded` on `album_candidates`/`item_candidates` seems fine at first glance. If this sounds correct, I'll be happy to send a pull request.\r\n\r\n### Setup\r\n\r\n* OS: Fedora 28\r\n* Python version: 3.6.5\r\n* beets version: 1.4.6\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nplugins: chroma fetchart embedart mbsync scrub override\r\npluginpath: ~/.config/beets/plug\r\ndirectory: /srv/media/ilianaw_music\r\nui:\r\n  color: yes\r\npaths:\r\n  default: \"$albumartist/$album%aunique{}/$track $title\"\r\n  singleton: \"$artist/$title\"\r\n  comp: \"Various Artists/$album%aunique{}/$track $title\"\r\nfetchart:\r\n  sources:\r\n    - amazon\r\n    - coverart\r\n  store_source: yes\r\nembedart:\r\n  remove_art_file: yes\r\n```\r\n(`override` is the plugin I am attempting to write.)", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2911", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2911/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2911/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2911/events", "html_url": "https://github.com/beetbox/beets/issues/2911", "id": 319748736, "node_id": "MDU6SXNzdWUzMTk3NDg3MzY=", "number": 2911, "title": "lyrics: Incorrect disabling of Genius backend", "user": {"login": "rachmadaniHaryono", "id": 6340878, "node_id": "MDQ6VXNlcjYzNDA4Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/6340878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rachmadaniHaryono", "html_url": "https://github.com/rachmadaniHaryono", "followers_url": "https://api.github.com/users/rachmadaniHaryono/followers", "following_url": "https://api.github.com/users/rachmadaniHaryono/following{/other_user}", "gists_url": "https://api.github.com/users/rachmadaniHaryono/gists{/gist_id}", "starred_url": "https://api.github.com/users/rachmadaniHaryono/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rachmadaniHaryono/subscriptions", "organizations_url": "https://api.github.com/users/rachmadaniHaryono/orgs", "repos_url": "https://api.github.com/users/rachmadaniHaryono/repos", "events_url": "https://api.github.com/users/rachmadaniHaryono/events{/privacy}", "received_events_url": "https://api.github.com/users/rachmadaniHaryono/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-02T23:48:27Z", "updated_at": "2018-05-03T02:07:19Z", "closed_at": "2018-05-03T02:07:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\ni try debugging beets and meet an error on lyric plugin.\r\n\r\ninstalling bs4 will fix the error but unfortunately i can't reproduce the error after that, even with new virtualenv\r\n\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ # before install bs4 package\r\n$ beet import -s ./Windows\u7248\u300c\u30b7\u30e5\u30bf\u30a4\u30f3\u30ba\u30fb\u30b2\u30fc\u30c8\\(STEINS\\;GATE\\)\u300dOP.m4a\r\n$ # (error here, see below)\r\n$ # after installing bs4 package\r\n$ beet -vv import -s ./Windows\u7248\u300c\u30b7\u30e5\u30bf\u30a4\u30f3\u30ba\u30fb\u30b2\u30fc\u30c8\\(STEINS\\;GATE\\)\u300dOP.m4a\r\n\r\n```\r\n\r\nLed to this problem:\r\n\r\n```python\r\n(Pdb++) n\r\nTraceback (most recent call last):\r\n  File \"/home/q/envs/beets/bin/beet\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1257, in main\r\n    _raw_main(args)\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1239, in _raw_main\r\n    subcommands, plugins, lib = _setup(options, lib)\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1130, in _setup\r\n    plugins = _load_plugins(config)\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1116, in _load_plugins\r\n    plugins.send(\"pluginload\")\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beets/plugins.py\", line 475, in send\r\n    for handler in event_handlers()[event]:\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beets/plugins.py\", line 458, in event_handlers\r\n    for plugin in find_plugins():\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beets/plugins.py\", line 304, in find_plugins\r\n    _instances[cls] = cls()\r\n  File \"/home/q/envs/beets/lib/python3.6/site-packages/beetsplug/lyrics.py\", line 682, in __init__\r\n    sources.remove('google')\r\nValueError: list.remove(x): x not in list\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): \r\n\r\nhttps://www.youtube.com/watch?v=tiCNSLJ8Ihc\r\n\r\n### Setup\r\n\r\n* OS: ubuntu 18.04\r\n* Python version: 3.6.5\r\n* beets version: beets version 1.4.6 (0712076)\r\n* Turning off plugins made problem go away (yes/no): yes\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: yes\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_API_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\n    sources:\r\n    - google\r\n    - lyricwiki\r\n    - musixmatch\r\n    - genius\r\n\r\nplugins: inline convert web fromfilename play fetchart lyrics lastgenre\r\nconvert:\r\n    dest:\r\n    pretend: no\r\n    threads: 2\r\n    format: mp3\r\n    formats:\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    max_bitrate: 500\r\n    auto: no\r\n    tmpdir:\r\n    quiet: no\r\n    embed: yes\r\n\r\n    paths: {}\r\n    no_convert: ''\r\n    never_convert_lossy_files: no\r\n    copy_album_art: no\r\n    album_art_maxwidth: 0\r\nweb:\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\n    reverse_proxy: no\r\n    include_paths: no\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    store_source: no\r\nplay:\r\n    command:\r\n    use_folders: no\r\n    relative_to:\r\n    raw: no\r\n    warning_threshold: 100\r\npathfields: {}\r\nitem_fields: {}\r\nalbum_fields: {}\r\nlastgenre:\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2887", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2887/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2887/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2887/events", "html_url": "https://github.com/beetbox/beets/issues/2887", "id": 316027237, "node_id": "MDU6SXNzdWUzMTYwMjcyMzc=", "number": 2887, "title": "discogs: Incorrect disc numbering on two-sided media such as vinyl", "user": {"login": "dbogdanov", "id": 409668, "node_id": "MDQ6VXNlcjQwOTY2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/409668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbogdanov", "html_url": "https://github.com/dbogdanov", "followers_url": "https://api.github.com/users/dbogdanov/followers", "following_url": "https://api.github.com/users/dbogdanov/following{/other_user}", "gists_url": "https://api.github.com/users/dbogdanov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbogdanov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbogdanov/subscriptions", "organizations_url": "https://api.github.com/users/dbogdanov/orgs", "repos_url": "https://api.github.com/users/dbogdanov/repos", "events_url": "https://api.github.com/users/dbogdanov/events{/privacy}", "received_events_url": "https://api.github.com/users/dbogdanov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-04-19T20:23:41Z", "updated_at": "2018-04-29T12:16:01Z", "closed_at": "2018-04-29T12:16:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\nThere is an issue with annotating vinyl releases from Discogs that have multiple discs (sides A/B, C/D, etc.). \r\n\r\nFor example, take [this release](https://www.discogs.com/Various-SW33/release/32654).\r\n\r\nThe playlist metadata on Discogs:\r\n```\r\nA - Damon Wild vs. Function - Friction\r\nB1 - Damon Wild - Skyline\r\nB2 - Norman - Fortnight\r\nC - C D C Crew - Flightdance \u00a0\r\nD1 - Chris Sattinger - Decoder Ring\u00a0\r\nD2 - Function - CNTRL\r\n```\r\n\r\nBeet import (tracks for Vinyl 1 and Vinyl 2 are split incorrectly):\r\n```\r\nTagging:\r\n    Various Artists - SW33\r\nURL:\r\n    https://www.discogs.com/Various-SW33/release/32654\r\n(Similarity: 76.5%) (id, source) (Discogs, 2xVinyl, 1997, US, Synewave)\r\nVinyl 1\r\n * Friction (#0)     -> Friction (#1-1)\r\n * Skyline (#0)      -> Skyline (#1-2)\r\n * Fortnight (#0)    -> Fortnight (#1-3)\r\n * Flightdance (#0)  -> Flightdance (#1-4)\r\nVinyl 2\r\n * Decoder Ring (#0) -> Decoder Ring (#2-1)\r\n * CNTRL (#0)        -> CNTRL (#2-2)\r\n[A]pply, More candidates, Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort, plaY?\r\n```\r\n\r\nThe output of beet info after importing:\r\n```\r\nbeet info SW33 | grep -E \"disc:|track:|tracktotal:|title:|artist:\"\r\n     albumartist: Various Artists\r\n          artist: Damon Wild vs. Function\r\n            disc: 1\r\n           title: Friction\r\n           track: 1\r\n      tracktotal: 2\r\n     albumartist: Various Artists\r\n          artist: Damon Wild\r\n            disc: 1\r\n           title: Skyline\r\n           track: 2\r\n      tracktotal: 2\r\n     albumartist: Various Artists\r\n          artist: Norman\r\n            disc: 1\r\n           title: Fortnight\r\n           track: 3\r\n      tracktotal: 2\r\n     albumartist: Various Artists\r\n          artist: C D C Crew\r\n            disc: 1\r\n           title: Flightdance\r\n           track: 4\r\n      tracktotal: 2\r\n     albumartist: Various Artists\r\n          artist: Chris Sattinger\r\n            disc: 2\r\n           title: Decoder Ring\r\n           track: 1\r\n      tracktotal: 2\r\n     albumartist: Various Artists\r\n          artist: Function\r\n            disc: 2\r\n           title: CNTRL\r\n           track: 2\r\n      tracktotal: 2\r\n```\r\n\r\nThe output ```tracktotal``` is incorrect and it breaks the behavior of the missing plugin. \r\nAlso the split into disc 1 and disc 2 is also incorrect, therefore the ```disc``` and ```track```values are erroneous. Those are two vinyls, and by conventions, A and B sides are vinyl 1, C and D should be vinyl 2.\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2887/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2873", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2873/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2873/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2873/events", "html_url": "https://github.com/beetbox/beets/issues/2873", "id": 312386863, "node_id": "MDU6SXNzdWUzMTIzODY4NjM=", "number": 2873, "title": "Generating checksums with duplicates plugin fails", "user": {"login": "lhupitr", "id": 7284007, "node_id": "MDQ6VXNlcjcyODQwMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7284007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lhupitr", "html_url": "https://github.com/lhupitr", "followers_url": "https://api.github.com/users/lhupitr/followers", "following_url": "https://api.github.com/users/lhupitr/following{/other_user}", "gists_url": "https://api.github.com/users/lhupitr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lhupitr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lhupitr/subscriptions", "organizations_url": "https://api.github.com/users/lhupitr/orgs", "repos_url": "https://api.github.com/users/lhupitr/repos", "events_url": "https://api.github.com/users/lhupitr/events{/privacy}", "received_events_url": "https://api.github.com/users/lhupitr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-04-09T04:12:34Z", "updated_at": "2021-06-15T09:19:56Z", "closed_at": "2021-06-15T09:19:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI can't get the duplicates plugin to generate checksums (neither CRC nor md5sum) when following the examples suggested in the documentation: https://beets.readthedocs.io/en/stable/plugins/duplicates.html \r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv duplicates -C 'ffmpeg -i {file} -f crc -' title:\"Blank Generation\"\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nSending event: pluginload\r\nartresizer: method is (2, (7, 0, 7))\r\nthumbnails: using IM to write metadata\r\nthumbnails: using GIO to compute URIs\r\ninline: adding item field multidisc\r\nlibrary database: /net/nfs4/server/mediacentre/Music/Catalogs/beets_seeding.blb\r\nlibrary directory: /net/nfs4/server/mediacentre/Music/Library\r\nSending event: library_opened\r\nduplicates: key ffmpeg on item /net/nfs4/server/mediacentre/Music/Library/Richard Hell & The Voidoids/(1977) Blank Generation/07 Blank Generation.flac not cached:computing checksum\r\nduplicates: failed to checksum /net/nfs4/server/mediacentre/Music/Library/Richard Hell & The Voidoids/(1977) Blank Generation/07 Blank Generation.flac: Command 'ffmpeg -i b'/net/nfs4/server/mediacentre/Music/Library/Richard Hell & The Voidoids/(1977) Blank Generation/07 Blank Generation.flac' -f crc -' returned non-zero exit status 1.\r\nduplicates: all keys ['ffmpeg'] on item /net/nfs4/server/mediacentre/Music/Library/Richard Hell & The Voidoids/(1977) Blank Generation/07 Blank Generation.flac are null or empty: skipping\r\nSending event: cli_exit\r\n```\r\nHowever running directly from ffmpeg produces a checksum and exits with 0:\r\n```sh\r\n$ ffmpeg -i '/media/mediacentre/Mediacentre/Music/Library/Richard Hell & The Voidoids/(1977) Blank Generation/07 Blank Generation.flac' -f crc -\r\n```\r\n\r\n```\r\n...\r\n    Metadata:\r\n      encoder         : Lavc57.107.100 pcm_s16le\r\n    Side data:\r\n      replaygain: track gain - -4.800000, track peak - 0.000023, album gain - -3.150000, album peak - 0.000023, \r\nInvalid return value 0 for stream protocol\r\nCRC=0xfd05c9a4\r\nsize=       0kB time=00:02:45.20 bitrate=   0.0kbits/s speed= 354x    \r\nvideo:0kB audio:28458kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: unknown\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Arch linux\r\n* Python version: 3.6.4\r\n* beets version: 1.4.6\r\n* Turning off plugins made problem go away (yes/no): N/A\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nimportfeeds:\r\n    relative_to: !!binary |\r\n        L25ldC9uZnM0L3NlcnZlci9tZWRpYWNlbnRyZS9NdXNpYy9MaWJyYXJ5\r\n    formats: m3u\r\n    dir: /media/mediacentre/Mediacentre/Music/Playlists/\r\n    m3u_name: imported.m3u\r\n    absolute_path: no\r\nlyrics:\r\n    bing_lang_from: []\r\n    auto: no\r\n    google_API_key: REDACTED\r\n    sources: google\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\ndirectory: /net/nfs4/server/mediacentre/Music/Library\r\nlibrary: /net/nfs4/server/mediacentre/Music/Catalogs/beets_seeding.blb\r\n\r\nplugins: inline edit fromfilename zero rewrite fuzzy info missing random types replaygain smartplaylist duplicates badfiles play chroma absubmit acousticbrainz mbsync mbsubmit lastimport embedart fetchart thumbnails importfeeds lyrics wlg popularity\r\npluginpath: ~/projects/whatlastgenre/plugin/beets/beetsplug\r\nper_disc_numbering: yes\r\nthreaded: no\r\n\r\nimport:\r\n    write: yes\r\n    copy: yes\r\n    hardlink: no\r\n    autotag: yes\r\n    incremental: no\r\n    resume: yes\r\n    quiet_fallback: skip\r\n    none_rec_action: ask\r\n    timid: yes\r\n    log: ~/.config/beets/beetslog.txt\r\n    detail: yes\r\n    bell: yes\r\n    from_scratch: yes\r\n\r\nreplace:\r\n    '[\\\\/]': _\r\n    ^\\.: _\r\n    '[\\x00-\\x1f]': _\r\n    \\.$: _\r\n    \\s+$: ''\r\n    ^\\s+: ''\r\n    ^-: _\r\n\r\nui:\r\n    color: yes\r\n\r\npaths:\r\n    default: $albumartist_credit/($original_year) $album%aunique{albumartist album year,albumtype label catalognum albumdisambig}/%if{$multidisc,Disc${disc}%if{$disctitle, - $disctitle}/}$track $title\r\n    singleton: $artist/-Misc-/$title\r\n    comp: Various Artists/$album%aunique{albumartist album year,albumtype label catalognum albumdisambig} ($year)/%if{$multidisc,Disc$disc%if{$disctitle, - $disctitle}/}$track $title\r\n    ext:cue: $albumpath/$artist - $album\r\n    ext:log: $albumpath/$artist - $album\r\n    ext:jpg: $albumpath/cover\r\n    ext:jpeg: $albumpath/cover\r\n    ext:png: $albumpath/cover\r\nitem_fields:\r\n    multidisc: 1 if disctotal > 1 else 0\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.04\r\n    medium_rec_thresh: 0.25\r\n    rec_gap_thresh: 0.25\r\n    max_rec:\r\n        missing_tracks: medium\r\n        unmatched_tracks: medium\r\n\r\nmusicbrainz:\r\n    searchlimit: 5\r\nart_filename: cover\r\nfetchart:\r\n    auto: no\r\n    cautious: yes\r\n    minwidth: 450\r\n    maxwidth: 1010\r\n    enforce_ratio: 1.5%\r\n    sources: filesystem albumart amazon wikipedia coverart fanarttv google\r\n    google_key: REDACTED\r\n    store_source: yes\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\nembedart:\r\n    auto: no\r\n    maxwidth: 300\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    remove_art_file: no\r\nthumbnails:\r\n    auto: yes\r\n    force: no\r\n    dolphin: no\r\nreplaygain:\r\n    auto: yes\r\n    backend: bs1770gain\r\n    overwrite: yes\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n    chunk_at: 5000\r\n    method: replaygain\r\nwlg:\r\n    auto: no\r\n    force: yes\r\n    count: 4\r\n    whitelist: /home/user/.whatlastgenre/genres.txt\r\n    separator: ', '\r\nmpdstats:\r\n    rating_mix: 0.75\r\nzero:\r\n    auto: yes\r\n    fields: images\r\n    update_database: yes\r\n    keep_fields: []\r\nsmartplaylist:\r\n    relative_to: /net/nfs4/server/mediacentre/Music/Library/\r\n    playlist_dir: /net/nfs4/server/mediacentre/Music/Playlists/\r\n    playlists: [{name: Loved.m3u, query: 'loved:1'}, {name: Genre_acoustic-country-folk-americana.m3u, album_query: ['genre:Folk', 'genre:Country', 'genre:Acoustic', 'genre:Americana']}]\r\n    auto: yes\r\ntypes:\r\n    loved: int\r\n    play_count: int\r\nlastfm:\r\n    user: user\r\n    api_key: REDACTED\r\nplay:\r\n    command: mpv\r\n    use_folders: no\r\n    relative_to:\r\n    raw: no\r\n    warning_threshold: 100\r\ncopyartifacts:\r\n    extensions: .cue .log .jpg .jpeg .png\r\n    print_ignored: yes\r\nacousticbrainz:\r\n    auto: no\r\n    force: no\r\n    tags: []\r\nabsubmit:\r\n    auto: no\r\n    extractor: /usr/bin/streaming_extractor_music\r\nchroma:\r\n    auto: yes\r\nacoustid:\r\n    apikey: REDACTED\r\nmbsubmit:\r\n    format: $track. $title - $artist ($length)\r\n    threshold: medium\r\nlastimport:\r\n    per_page: 500\r\n    retry_limit: 3\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\nfuzzy:\r\n    prefix: '~'\r\n    threshold: 0.7\r\nmissing:\r\n    count: no\r\n    total: no\r\n    album: no\r\npathfields: {}\r\nalbum_fields: {}\r\nrewrite: {}\r\nedit:\r\n    albumfields: album albumartist\r\n    itemfields: track title artist album\r\n    ignore_fields: id path\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2873/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2845", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2845/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2845/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2845/events", "html_url": "https://github.com/beetbox/beets/issues/2845", "id": 306260732, "node_id": "MDU6SXNzdWUzMDYyNjA3MzI=", "number": 2845, "title": "Calculating album replaygain with gstreamer still causes error", "user": {"login": "sdrik", "id": 623981, "node_id": "MDQ6VXNlcjYyMzk4MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/623981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdrik", "html_url": "https://github.com/sdrik", "followers_url": "https://api.github.com/users/sdrik/followers", "following_url": "https://api.github.com/users/sdrik/following{/other_user}", "gists_url": "https://api.github.com/users/sdrik/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdrik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdrik/subscriptions", "organizations_url": "https://api.github.com/users/sdrik/orgs", "repos_url": "https://api.github.com/users/sdrik/repos", "events_url": "https://api.github.com/users/sdrik/events{/privacy}", "received_events_url": "https://api.github.com/users/sdrik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-18T17:29:34Z", "updated_at": "2018-03-20T02:04:30Z", "closed_at": "2018-03-20T02:04:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nI have the same issue as in #2636 when calculating replaygain for my whole collection.\r\nUpgrading from 1.4.5 (which do not contain the fix for #2636 ) to 1.4.6 only reduces the error occurrence rate from 80% to 30%.\r\n\r\n### Setup\r\n\r\n* OS: Gentoo Linux\r\n* Python version: 2.7.14\r\n* beets version: 1.4.6\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    bing_lang_from: []\r\n    sources: '*'\r\n    google_API_key: REDACTED\r\n    force: no\r\n    auto: yes\r\n    genius_api_key: REDACTED\r\n    google_engine_ID: REDACTED\r\n    bing_lang_to:\r\n    bing_client_secret: REDACTED\r\n    fallback:\r\n    local: no\r\n\r\npaths:\r\n    comp: ${album_genre}/Various Artits/${year} - ${album}%aunique{}/${disc_and_track} - ${title} ($artist)\r\n    singleton: ${single_genre}/${artist}/%if{${year},${year} - }${title}\r\n    default: ${album_genre}/${albumartist}/${year} - ${album}%aunique{}/${disc_and_track} - ${title}\r\nfetchart:\r\n    minwidth: 500\r\n    maxwidth: 600\r\n    sources: filesystem coverart amazon albumart fanarttv\r\n    fanarttv_key: REDACTED\r\n    auto: yes\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    enforce_ratio: no\r\n    cautious: no\r\n    store_source: no\r\n    google_key: REDACTED\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\nlibrary: /srv/music/.beets.db\r\n\r\nreplace:\r\n    '''': \"\\u2019\"\r\n    ^\\.: _\r\n    \\s+$: ''\r\n    ^\\s+: ''\r\n    ^-: _\r\noriginal_date: yes\r\nreplaygain:\r\n    auto: no\r\n    backend: gstreamer\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n    overwrite: no\r\nbadfiles:\r\n    commands:\r\n        mpc: mpcdec -c\r\n\r\nplugins: discogs chroma fetchart embedart scrub lastgenre badfiles missing edit inline info convert duplicates replaygain types web mbsync lyrics\r\ntypes:\r\n    mp3car: bool\r\n    myrip: bool\r\nweb:\r\n    reverse_proxy: yes\r\n    include_paths: yes\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\nconvert:\r\n    dest: /srv/music-export\r\n    command: /usr/local/bin/gapless-mp3enc $source $dest\r\n    never_convert_lossy_files: yes\r\n    embed: no\r\n    album_art_maxwidth: 0\r\n    format: mp3\r\n    auto: no\r\n    threads: 2\r\n    copy_album_art: no\r\n    tmpdir:\r\n    max_bitrate: 500\r\n\r\n    paths: {}\r\n    pretend: no\r\n    quiet: no\r\n    formats:\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    no_convert: ''\r\nitem_fields:\r\n    disc_and_track: u'%i%02i' % (disc, track) if disctotal > 1 else u'%02i' % (track)\r\n    single_genre: genre.split(', ')[0] if genre else u'Other'\r\nper_disc_numbering: yes\r\nid3v23: yes\r\nalbum_fields:\r\n    album_genre: genre.split(', ')[0] if genre else u'Other'\r\nlastgenre:\r\n    source: artist\r\n    count: 1\r\n    prefer_specific: yes\r\n    whitelist: /srv/music/.beets.genres.txt\r\n    canonical: /srv/music/.beets.genres-tree.yaml\r\n    force: yes\r\n    min_weight: 10\r\n    auto: yes\r\n    separator: ', '\r\n    fallback:\r\npath_sep_replace: '~'\r\ndirectory: /srv/music\r\n\r\nimport:\r\n    timid: yes\r\n    detail: yes\r\nacoustid:\r\n    apikey: REDACTED\r\ndiscogs:\r\n    user_token: REDACTED\r\n    tokenfile: discogs_token.json\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    source_weight: 0.5\r\nembedart:\r\n    compare_threshold: 0\r\n    auto: yes\r\n    ifempty: no\r\n    remove_art_file: no\r\n    maxwidth: 0\r\nduplicates:\r\n    count: no\r\n    full: no\r\n    format: ''\r\n    keys: []\r\n    move: ''\r\n    tag: ''\r\n    path: no\r\n    copy: ''\r\n    tiebreak: {}\r\n    album: no\r\n    strict: no\r\n    checksum: ''\r\n    merge: no\r\n    delete: no\r\nedit:\r\n    itemfields: track title artist album\r\n    albumfields: album albumartist\r\n    ignore_fields: id path\r\nmissing:\r\n    count: no\r\n    album: no\r\n    total: no\r\nchroma:\r\n    auto: yes\r\nscrub:\r\n    auto: yes\r\npathfields: {}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2845/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2826", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2826/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2826/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2826/events", "html_url": "https://github.com/beetbox/beets/issues/2826", "id": 300996287, "node_id": "MDU6SXNzdWUzMDA5OTYyODc=", "number": 2826, "title": "Deprecation warning in plugins.py", "user": {"login": "akyag", "id": 7376589, "node_id": "MDQ6VXNlcjczNzY1ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/7376589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akyag", "html_url": "https://github.com/akyag", "followers_url": "https://api.github.com/users/akyag/followers", "following_url": "https://api.github.com/users/akyag/following{/other_user}", "gists_url": "https://api.github.com/users/akyag/gists{/gist_id}", "starred_url": "https://api.github.com/users/akyag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akyag/subscriptions", "organizations_url": "https://api.github.com/users/akyag/orgs", "repos_url": "https://api.github.com/users/akyag/repos", "events_url": "https://api.github.com/users/akyag/events{/privacy}", "received_events_url": "https://api.github.com/users/akyag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-02-28T11:54:52Z", "updated_at": "2019-03-14T00:55:17Z", "closed_at": "2019-03-14T00:55:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nInstalled beets from fedora repo and getting the following error every time I run any command\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n[akya@quady scripts] $ beet -vv\r\nuser configuration: /home/akya/.config/beets/config.yaml\r\ndata directory: /home/akya/.config/beets\r\nplugin paths: /home/akya/.config/beets/beetsplug\r\n/usr/lib/python3.6/site-packages/urllib3/contrib/pyopenssl.py:46: DeprecationWarning: OpenSSL.rand is deprecated - you should use os.urandom instead\r\n  import OpenSSL.SSL\r\nSending event: pluginload\r\n/usr/lib/python3.6/site-packages/beets/plugins.py:114: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  argspec = inspect.getargspec(func)\r\nlyrics: Disabling google source: no API key configured.\r\nlibrary database: /home/akya/data/musiclibrary.db\r\nlibrary directory: /media/Media/Songs/English\r\nSending event: library_opened\r\nUsage: \r\n  beet COMMAND [ARGS...]\r\n  beet help COMMAND\r\n\r\nOptions:\r\n  --format-item=FORMAT_ITEM\r\n                        print with custom format\r\n  --format-album=FORMAT_ALBUM\r\n                        print with custom format\r\n  -l LIBRARY, --library=LIBRARY\r\n                        library database file to use\r\n  -d DIRECTORY, --directory=DIRECTORY\r\n                        destination music directory\r\n  -v, --verbose         log more details (use twice for even more)\r\n  -c CONFIG, --config=CONFIG\r\n                        path to configuration file\r\n  -h, --help            show this help message and exit\r\n\r\nCommands:\r\n  bad               check for corrupt or missing files\r\n  clearart          remove images from file metadata\r\n  config            show or edit the user configuration\r\n  convert           convert to external location\r\n  duplicates (dup)  List duplicate tracks or albums.\r\n  embedart          embed image files into file metadata\r\n  extractart        extract an image from file metadata\r\n  fetchart          download album art\r\n  fields            show fields available for queries and format strings\r\n  help (?)          give detailed help on a specific sub-command\r\n  import (imp, im)  import new music\r\n  info              show file metadata\r\n  lastgenre         fetch genres\r\n  list (ls)         query the library\r\n  lyrics            fetch song lyrics\r\n  missing (miss)    List missing tracks.\r\n  modify (mod)      change metadata fields\r\n  move (mv)         move or copy items\r\n  play              send music to a player as a playlist\r\n  remove (rm)       remove matching items from the library\r\n  splupdate         update the smart playlists. Playlist names may be passed\r\n                    as arguments.\r\n  stats             show statistics about the library or a query\r\n  update (upd, up)  update the library\r\n  version           output version information\r\n  web               start a Web interface\r\n  write             write tag information to files\r\nSending event: cli_exit\r\n\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n[akya@quady scripts] $ beet --version\r\n/usr/lib/python3.6/site-packages/urllib3/contrib/pyopenssl.py:46: DeprecationWarning: OpenSSL.rand is deprecated - you should use os.urandom instead\r\n  import OpenSSL.SSL\r\n/usr/lib/python3.6/site-packages/beets/plugins.py:114: DeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() or inspect.getfullargspec()\r\n  argspec = inspect.getargspec(func)\r\nbeets version 1.4.6\r\nPython version 3.6.4\r\nplugins: badfiles, beatport, convert, duplicates, embedart, fetchart, info, lastgenre, lyrics, missing, mpdupdate, play, smartplaylist, web\r\n\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): \r\n\r\n\r\n### Setup\r\n\r\n* OS: Fedora 27\r\n* Python version: 3.6.4 \r\n* beets version: 1.4.6\r\n* Turning off plugins made problem go away (yes/no): yes, problem is in plugins.py\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /media/Media/Songs/English\r\n#directory: /media/Media/Songs/Hindi\r\nlibrary: ~/data/musiclibrary.db\r\n#library: ~/data/musiclibrary2.db\r\nimport:\r\n    copy: no\r\n    write: yes\r\n    log: /home/akya/.config/beets/import.log\r\n\r\npluginpath: \r\n    - /home/akya/.config/beets/beetsplug/\r\n\r\nplugins: fetchart embedart lastgenre lyrics web missing beatport duplicates convert info play smartplaylist mpdupdate badfiles\r\n\r\nplay:\r\n    command: mpv $args --playlist\r\n\r\nmpd:\r\n    host: 192.168.1.100\r\n    port: 6600\r\n\r\nfetchart:\r\n    cautious: true\r\n    cover_names: front back\r\n    minwidth: 300\r\n    sources: itunes *\r\n\r\nsmartplaylist:\r\n    relative_to: \r\n    playlist_dir: ~/.mpd/playlists\r\n    playlists:\r\n        - name: fav.m3u\r\n          query: 'comments:Fav'\r\n        - name: new.m3u\r\n          query: 'comments:New'\r\n        - name: epic.m3u\r\n          query: 'comments:Epic'\r\n        - name: lush.m3u\r\n          query: 'comments:Lush'\r\n        - name: naruto.m3u\r\n          query: 'comments:Naruto'\r\n        - name: latest.m3u\r\n          query: 'added:2017-11-27'\r\nconvert:\r\n    format: mp3\r\n    dest: /home/akya/1Dump/sync\r\n    max_bitrate: 320\r\n    never_convert_lossy_files: yes\r\n\r\n\r\npaths:\r\n    default: $albumartist/$album%aunique{}/$track $title\r\n#    default: $album%aunique{}/$track $title\r\n    singleton: Non-Album/$artist - $title\r\n    comp: Compilations/$album%aunique{}/$track $title\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2826/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2805", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2805/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2805/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2805/events", "html_url": "https://github.com/beetbox/beets/issues/2805", "id": 293249822, "node_id": "MDU6SXNzdWUyOTMyNDk4MjI=", "number": 2805, "title": "lyrics: If none are found, it exits with `AttributeError: 'NoneType' object has no attribute 'artist'", "user": {"login": "doronbehar", "id": 10998835, "node_id": "MDQ6VXNlcjEwOTk4ODM1", "avatar_url": "https://avatars.githubusercontent.com/u/10998835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doronbehar", "html_url": "https://github.com/doronbehar", "followers_url": "https://api.github.com/users/doronbehar/followers", "following_url": "https://api.github.com/users/doronbehar/following{/other_user}", "gists_url": "https://api.github.com/users/doronbehar/gists{/gist_id}", "starred_url": "https://api.github.com/users/doronbehar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doronbehar/subscriptions", "organizations_url": "https://api.github.com/users/doronbehar/orgs", "repos_url": "https://api.github.com/users/doronbehar/repos", "events_url": "https://api.github.com/users/doronbehar/events{/privacy}", "received_events_url": "https://api.github.com/users/doronbehar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "anarcat", "id": 796623, "node_id": "MDQ6VXNlcjc5NjYyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/796623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anarcat", "html_url": "https://github.com/anarcat", "followers_url": "https://api.github.com/users/anarcat/followers", "following_url": "https://api.github.com/users/anarcat/following{/other_user}", "gists_url": "https://api.github.com/users/anarcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/anarcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anarcat/subscriptions", "organizations_url": "https://api.github.com/users/anarcat/orgs", "repos_url": "https://api.github.com/users/anarcat/repos", "events_url": "https://api.github.com/users/anarcat/events{/privacy}", "received_events_url": "https://api.github.com/users/anarcat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "anarcat", "id": 796623, "node_id": "MDQ6VXNlcjc5NjYyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/796623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anarcat", "html_url": "https://github.com/anarcat", "followers_url": "https://api.github.com/users/anarcat/followers", "following_url": "https://api.github.com/users/anarcat/following{/other_user}", "gists_url": "https://api.github.com/users/anarcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/anarcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anarcat/subscriptions", "organizations_url": "https://api.github.com/users/anarcat/orgs", "repos_url": "https://api.github.com/users/anarcat/repos", "events_url": "https://api.github.com/users/anarcat/events{/privacy}", "received_events_url": "https://api.github.com/users/anarcat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2018-01-31T17:41:40Z", "updated_at": "2021-05-13T01:09:01Z", "closed_at": "2020-06-04T18:34:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI search manually for lyrics of a specific track and It exits with the following traceback:\r\n```\r\n$ beet -vv lyrics artie shaw carioca\r\nuser configuration: /home/doron/.config/beets/config.yaml\r\ndata directory: /home/doron/.config/beets\r\nplugin paths:\r\nSending event: pluginload\r\ninline: adding item field isMultiDisc\r\nlibrary database: /var/lib/beets/db\r\nlibrary directory: /var/lib/mpd/music\r\nSending event: library_opened\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Artie-Shaw-and-His-Orchestra/Carioca (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Artie-Shaw/Carioca (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/es/letras/Buddy-Rich-Artie-Shaw/The-Carioca (404)\r\nlyrics: failed to fetch: https://www.musixmatch.com/lyrics/Artie-Shaw/Carioca (404)\r\nlyrics: lyrics not found: FLAC % Artie Shaw - Begin the Beguine | CD-04 | 25 Carioca\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.6', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/usr/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/lyrics.py\", line 734, in func\r\n    self.writerest(opts.writerest, None)\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/lyrics.py\", line 762, in writerest\r\n    self.artist = item.artist.strip()\r\nAttributeError: 'NoneType' object has no attribute 'artist'\r\n```\r\n\r\n### Setup\r\n\r\n```\r\n$ uname -ors\r\nLinux 4.14.15-1-ARCH GNU/Linux\r\n```\r\n* Python version: `3.6.4`\r\n* beets version: `1.4.6`\r\n* Turning off plugins made problem go away (yes/no): lyrics plugin of course.\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n\r\nlyrics:\r\n    bing_lang_from: []\r\n    google_API_key: REDACTED\r\n    sources: google musixmatch\r\n    auto: yes\r\n    bing_client_secret: REDACTED\r\n    bing_lang_to:\r\n    google_engine_ID: REDACTED\r\n    genius_api_key: REDACTED\r\n    fallback:\r\n    force: no\r\n    local: no\r\n\r\nmusicbrainz:\r\n    pass: REDACTED\r\n    host: musicbrainz.org\r\n    ratelimit: 1\r\n    ratelimit_interval: 1.0\r\n    searchlimit: 10\r\n    user: doronbehar\r\nacoustid:\r\n    apikey: REDACTED\r\nmpd:\r\n    host: localhost\r\n    port: 6600\r\n    password: REDACTED\r\n    music_directory: /var/lib/mpd/music\r\n    rating: yes\r\n    rating_mix: 0.75\r\nlibrary: /var/lib/beets/db\r\ndirectory: /var/lib/mpd/music\r\n\r\nimport:\r\n    write: yes\r\n    copy: yes\r\n    move: no\r\n    link: no\r\n    delete: no\r\n    resume: ask\r\n    incremental: no\r\n    quiet_fallback: skip\r\n    none_rec_action: ask\r\n    timid: no\r\n    log: ~/.local/share/beets/log\r\n    autotag: yes\r\n    quiet: no\r\n    singletons: no\r\n    default_action: apply\r\n    languages: []\r\n    detail: no\r\n    flat: no\r\n    group_albums: no\r\n    pretend: no\r\n    search_ids: []\r\n    duplicate_action: ask\r\n\r\nclutter: [Thumbs.DB, .DS_Store]\r\nignore:\r\n- .*\r\n- '*~'\r\n- System Volume Information\r\n- lost+found\r\nignore_hidden: yes\r\n\r\nreplace:\r\n    '[\\\\/]': '-'\r\n    ^\\.: _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>\"\\?\\*\\|]': _\r\n    ':': ' -'\r\n    \\s+$: ''\r\n    ^\\s+: ''\r\npath_sep_replace: _\r\nasciify_paths: no\r\nart_filename: cover\r\nmax_filename_length: 0\r\n\r\nplugins:\r\n- absubmit\r\n- acousticbrainz\r\n- inline\r\n- mbcollection\r\n- chroma\r\n- fromfilename\r\n- info\r\n- duplicates\r\n- edit\r\n- fetchart\r\n- ipfs\r\n- lastgenre\r\n- missing\r\n- mbsync\r\n- mpdstats\r\n- mpdupdate\r\n- lyrics\r\npluginpath: []\r\nthreaded: yes\r\ntimeout: 5.0\r\nper_disc_numbering: yes\r\nverbose: 0\r\nterminal_encoding:\r\noriginal_date: no\r\nid3v23: no\r\nva_name: Various Artists\r\n\r\nui:\r\n    terminal_width: 80\r\n    length_diff_thresh: 10.0\r\n    color: yes\r\n    colors:\r\n        text_success: green\r\n        text_warning: yellow\r\n        text_error: red\r\n        text_highlight: red\r\n        text_highlight_minor: lightgray\r\n        action_default: turquoise\r\n        action: blue\r\n\r\nformat_item: ${format} % ${albumartist} - ${album} | CD-${disc} | ${track} ${title}\r\nformat_album: $album\r\ntime_format: '%Y-%m-%d %H:%M:%S'\r\nformat_raw_length: no\r\n\r\nsort_album: albumartist+ album+\r\nsort_item: artist+ album+ disc+ track+\r\nsort_case_insensitive: yes\r\nitem_fields:\r\n    isMultiDisc: \"u'yes' if\\n    (int(disctotal) > 1) and (disctotal != '')\\nelse\\n    u''\\n\"\r\n\r\npaths:\r\n    default: $album%aunique{album, albumartist}/%if{$isMultiDisc,CD-$disc/}$track $title\r\n    singleton: $artist - Singles/$title\r\n    comp: $album%aunique{album, albumartist}/%if{$isMultiDisc,CD-$disc/}$track $title\r\n\r\nstatefile: ~/.cache/beets/state.pickle\r\nchrome:\r\n    auto: no\r\nipfs:\r\n    auto: no\r\nlastgenre:\r\n    force: no\r\n    source: track\r\n    whitelist: yes\r\n    min_weight: 10\r\n    count: 1\r\n    fallback:\r\n    canonical: no\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.04\r\n    medium_rec_thresh: 0.25\r\n    rec_gap_thresh: 0.25\r\n    max_rec:\r\n        missing_tracks: medium\r\n        unmatched_tracks: medium\r\n    distance_weights:\r\n        source: 2.0\r\n        artist: 3.0\r\n        album: 3.0\r\n        media: 1.0\r\n        mediums: 1.0\r\n        year: 1.0\r\n        country: 0.5\r\n        label: 0.5\r\n        catalognum: 0.5\r\n        albumdisambig: 0.5\r\n        album_id: 5.0\r\n        tracks: 2.0\r\n        missing_tracks: 0.9\r\n        unmatched_tracks: 0.6\r\n        track_title: 3.0\r\n        track_artist: 2.0\r\n        track_index: 1.0\r\n        track_length: 2.0\r\n        track_id: 5.0\r\n    preferred:\r\n        countries: []\r\n        media: []\r\n        original_year: no\r\n    ignored: []\r\n    required: []\r\n    track_length_grace: 10\r\n    track_length_max: 30\r\nabsubmit:\r\n    auto: yes\r\n    extractor: ''\r\ninclude: [passwords.yaml]\r\nedit:\r\n    albumfields: album albumartist\r\n    itemfields: track title artist album\r\n    ignore_fields: id path\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\nacousticbrainz:\r\n    auto: yes\r\n    force: no\r\n    tags: []\r\nchroma:\r\n    auto: yes\r\nmissing:\r\n    count: no\r\n    total: no\r\n    album: no\r\npathfields: {}\r\nalbum_fields: {}\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    store_source: no\r\nmbcollection:\r\n    auto: no\r\n    collection: ''\r\n    remove: no\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2805/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2799", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2799/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2799/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2799/events", "html_url": "https://github.com/beetbox/beets/issues/2799", "id": 292222209, "node_id": "MDU6SXNzdWUyOTIyMjIyMDk=", "number": 2799, "title": "Failing test_asciify_variable and test_asciify_character_expanding_to_slash", "user": {"login": "k0ral", "id": 524268, "node_id": "MDQ6VXNlcjUyNDI2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/524268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k0ral", "html_url": "https://github.com/k0ral", "followers_url": "https://api.github.com/users/k0ral/followers", "following_url": "https://api.github.com/users/k0ral/following{/other_user}", "gists_url": "https://api.github.com/users/k0ral/gists{/gist_id}", "starred_url": "https://api.github.com/users/k0ral/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k0ral/subscriptions", "organizations_url": "https://api.github.com/users/k0ral/orgs", "repos_url": "https://api.github.com/users/k0ral/repos", "events_url": "https://api.github.com/users/k0ral/events{/privacy}", "received_events_url": "https://api.github.com/users/k0ral/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-28T17:31:08Z", "updated_at": "2018-01-31T01:51:40Z", "closed_at": "2018-01-31T01:51:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nTests `test_asciify_variable` and `test_asciify_character_expanding_to_slash` are failing:\r\n\r\n```\r\n======================================================================\r\nFAIL: test_asciify_variable (test.test_library.DestinationFunctionTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/tmp/nix-build-beets-1.4.6.drv-0/source/test/test_library.py\", line 594, in test_asciify_variable\r\n    self._assert_dest(b'/base/abC_1_2d')\r\n  File \"/tmp/nix-build-beets-1.4.6.drv-0/source/test/test_library.py\", line 565, in _assert_dest\r\n    self.assertEqual(actual, dest)\r\nAssertionError: '/base/abC_ 1_2 d' != '/base/abC_1_2d'\r\n-------------------- >> begin captured logging << --------------------\r\nbeets: DEBUG: Sending event: database_change\r\nbeets: DEBUG: Sending event: database_change\r\n--------------------- >> end captured logging << ---------------------\r\n\r\n======================================================================\r\nFAIL: test_asciify_character_expanding_to_slash (test.test_library.DestinationTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/tmp/nix-build-beets-1.4.6.drv-0/source/test/test_library.py\", line 430, in test_asciify_character_expanding_to_slash\r\n    self.assertEqual(self.i.destination(), np('lib/abC_1_2d'))\r\nAssertionError: '/tmp/nix-build-beets-1.4.6.drv-0/source/lib/abC_ 1_2 d' != '/tmp/nix-build-beets-1.4.6.drv-0/source/lib/abC_1_2d'\r\n-------------------- >> begin captured logging << --------------------\r\nbeets: DEBUG: Sending event: database_change\r\nbeets: DEBUG: Sending event: database_change\r\n--------------------- >> end captured logging << ---------------------\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Linux NixOS kernel 4.9.75\r\n* Python version: 2.7\r\n* beets version: 1.4.6\r\n* unidecode version: 1.0.22", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2799/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2790", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2790/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2790/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2790/events", "html_url": "https://github.com/beetbox/beets/issues/2790", "id": 288346273, "node_id": "MDU6SXNzdWUyODgzNDYyNzM=", "number": 2790, "title": "acousticbrainz: Really small float values are stored as strings", "user": {"login": "Kernald", "id": 296840, "node_id": "MDQ6VXNlcjI5Njg0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/296840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kernald", "html_url": "https://github.com/Kernald", "followers_url": "https://api.github.com/users/Kernald/followers", "following_url": "https://api.github.com/users/Kernald/following{/other_user}", "gists_url": "https://api.github.com/users/Kernald/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kernald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kernald/subscriptions", "organizations_url": "https://api.github.com/users/Kernald/orgs", "repos_url": "https://api.github.com/users/Kernald/repos", "events_url": "https://api.github.com/users/Kernald/events{/privacy}", "received_events_url": "https://api.github.com/users/Kernald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-01-13T17:45:34Z", "updated_at": "2019-04-30T15:53:00Z", "closed_at": "2019-04-30T15:53:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nUsing the acousticbrainz plugin (I don't know if it's specific to it, it might be a wider issue), when storing really small values, they end up formatted in an exponential style, e.g. `1.82764233614e-05`. As a result, the whole (flexible, in this case) attribute ends up being treated as a string - which forbids using ranges in query, for example.\r\n\r\nHere's an example with the recording `9dcdb20b-3bdf-4d1f-842f-d3cb545bea28` on MusicBrainz. The `mood_happy` probability is really low on AcousticBrainz: http://acousticbrainz.org/api/v1/9dcdb20b-3bdf-4d1f-842f-d3cb545bea28/high-level?n=0 (field value is `0.0000182764233614`). In beets, it ends up being stored as `1.82764233614e-05`:\r\n\r\n```sh\r\n$ beet -vv acousticbrainz M83 Ludivine -f\r\nuser configuration: /root/.config/beets/config.yaml\r\ndata directory: /root/.config/beets\r\nplugin paths: /root/.config/beets/beets-alternatives/beetsplug\r\nSending event: pluginload\r\nlyrics: Disabling google source: no API key configured.\r\ninline: adding item field disc_with_title\r\ninline: adding album field spinnin_catalognum\r\nlibrary database: /root/.config/beets/beets.blb\r\nlibrary directory: /media/sao/Musique\r\nSending event: library_opened\r\nacousticbrainz: getting data for: M83 - Junk - Ludivine\r\nacousticbrainz: fetching URL: https://acousticbrainz.org/9dcdb20b-3bdf-4d1f-842f-d3cb545bea28/low-level\r\nacousticbrainz: fetching URL: https://acousticbrainz.org/9dcdb20b-3bdf-4d1f-842f-d3cb545bea28/high-level\r\nacousticbrainz: attribute danceable of M83 - Junk - Ludivine set to 0.00766881043091\r\nacousticbrainz: attribute gender of M83 - Junk - Ludivine set to male\r\nacousticbrainz: attribute genre_rosamerica of M83 - Junk - Ludivine set to cla\r\nacousticbrainz: attribute mood_acoustic of M83 - Junk - Ludivine set to 0.995353162289\r\nacousticbrainz: attribute mood_aggressive of M83 - Junk - Ludivine set to 0.042748786509\r\nacousticbrainz: attribute mood_electronic of M83 - Junk - Ludivine set to 0.0935237780213\r\nacousticbrainz: attribute mood_happy of M83 - Junk - Ludivine set to 1.82764233614e-05\r\nacousticbrainz: attribute mood_party of M83 - Junk - Ludivine set to 0.0153690651059\r\nacousticbrainz: attribute mood_relaxed of M83 - Junk - Ludivine set to 0.987963736057\r\nacousticbrainz: attribute mood_sad of M83 - Junk - Ludivine set to 0.956809282303\r\nacousticbrainz: attribute rhythm of M83 - Junk - Ludivine set to Tango\r\nacousticbrainz: attribute tonal of M83 - Junk - Ludivine set to 0.435981780291\r\nacousticbrainz: attribute voice_instrumental of M83 - Junk - Ludivine set to instrumental\r\nacousticbrainz: attribute average_loudness of M83 - Junk - Ludivine set to 0.753472864628\r\nacousticbrainz: attribute bpm of M83 - Junk - Ludivine set to 106.67628479\r\nacousticbrainz: attribute chords_changes_rate of M83 - Junk - Ludivine set to 0.0346172600985\r\nacousticbrainz: attribute chords_key of M83 - Junk - Ludivine set to D\r\nacousticbrainz: attribute chords_number_rate of M83 - Junk - Ludivine set to 0.00487567018718\r\nacousticbrainz: attribute chords_scale of M83 - Junk - Ludivine set to major\r\nacousticbrainz: attribute key_strength of M83 - Junk - Ludivine set to 0.704598069191\r\nacousticbrainz: attribute initial_key of M83 - Junk - Ludivine set to F# minor\r\nSending event: database_change\r\nSending event: write\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Linux\r\n* Python version: 3.6.4\r\n* beets version: 1.4.6\r\n* Turning off plugins made problem go away (yes/no): irrelevant, I guess\r\n\r\nMy configuration (output of `beet config`) is: probably irrelevant too, I just have the plugin enabled without any configuration.\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2790/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2771", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2771/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2771/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2771/events", "html_url": "https://github.com/beetbox/beets/issues/2771", "id": 285110797, "node_id": "MDU6SXNzdWUyODUxMTA3OTc=", "number": 2771, "title": "lyrics: Genius backend needs to handle networking errors", "user": {"login": "BinsonBuzz", "id": 24946073, "node_id": "MDQ6VXNlcjI0OTQ2MDcz", "avatar_url": "https://avatars.githubusercontent.com/u/24946073?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BinsonBuzz", "html_url": "https://github.com/BinsonBuzz", "followers_url": "https://api.github.com/users/BinsonBuzz/followers", "following_url": "https://api.github.com/users/BinsonBuzz/following{/other_user}", "gists_url": "https://api.github.com/users/BinsonBuzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/BinsonBuzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BinsonBuzz/subscriptions", "organizations_url": "https://api.github.com/users/BinsonBuzz/orgs", "repos_url": "https://api.github.com/users/BinsonBuzz/repos", "events_url": "https://api.github.com/users/BinsonBuzz/events{/privacy}", "received_events_url": "https://api.github.com/users/BinsonBuzz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-12-29T15:28:18Z", "updated_at": "2018-01-31T03:38:26Z", "closed_at": "2018-01-31T03:38:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nplease see https://discourse.beets.io/t/crashing-on-resuming-import-help-please/257 for more info\r\n\r\nImporting my library.  After running:\r\n\r\n`docker exec -it beets /bin/bash -c 'beet import /music_library/adults'`\r\n\r\nget the following error intermittently, which ends import\r\n\r\n\r\n```\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.6', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 937, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 914, in import_files\r\n    session.run()\r\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 327, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 445, in run_parallel\r\n    six.reraise(exc_info[0], exc_info[1], exc_info[2])\r\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 312, in run\r\n    out = self.coro.send(msg)\r\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 194, in coro\r\n    func(*(args + (task,)))\r\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1506, in plugin_stage\r\n    func(session, task)\r\n  File \"/usr/lib/python2.7/site-packages/beets/plugins.py\", line 124, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lyrics.py\", line 805, in imported\r\n    False, self.config['force'])\r\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lyrics.py\", line 818, in fetch_item_lyrics\r\n    lyrics = [self.get_lyrics(artist, title) for title in titles]\r\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lyrics.py\", line 851, in get_lyrics\r\n    lyrics = backend.fetch(artist, title)\r\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lyrics.py\", line 388, in fetch\r\n    return self.lyrics_from_song_api_path(song_api_path)\r\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lyrics.py\", line 356, in lyrics_from_song_api_path\r\n    response = requests.get(song_url, headers=self.headers)\r\n  File \"/usr/lib/python2.7/site-packages/requests/api.py\", line 72, in get\r\n    return request('get', url, params=params, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/api.py\", line 58, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/sessions.py\", line 508, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/sessions.py\", line 618, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/adapters.py\", line 490, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', error(104, 'Connection reset by peer'))\r\n```\r\n\r\n\r\n\r\n\r\n### Setup\r\n\r\n* OS:  unRAID 6.4RC17b\r\n* Python version:  2.7.14\r\n* beets version:  1.4.6\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) is:\r\nbeets version 1.4.6\r\nPython version 2.7.14\r\nplugins: chroma, convert, duplicates, embedart, fetchart, fromfilename, ftintitle, lastgenre, lyrics, missing, replaygain, scrub, web\r\nconfig: line 1: docker: command not found\r\n```\r\n\r\n\r\ndirectory: /music_library/adults\r\nlibrary: /config/musiclibrary.blb\r\nart_filename: albumart\r\nthreaded: yes\r\noriginal_date: no\r\nper_disc_numbering: no\r\n\r\nimport:\r\n    write: yes\r\n    move: yes\r\n    copy: no\r\n    resume: ask\r\n    incremental: yes\r\n    quiet_fallback: skip\r\n    autotag: yes\r\n    timid: no\r\n    log: /config/beet.log\r\n\r\nmusicbrainz:\r\n    host: 172.35.12.88:5000\r\n    ratelimit: 100\r\n\r\n########### DOCKER DEFUALTS #################\r\n\r\npaths:\r\n    default: $albumartist/$album%aunique{}/$track - $title\r\n    singleton: Non-Album/$artist - $title\r\n    comp: Compilations/$album%aunique{}/$track - $title\r\n    albumtype_soundtrack: Soundtracks/$album/$track $title\r\n\r\nreplace:\r\n    '^\\.': _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>:\"\\?\\*\\|]': _\r\n    '[\\xE8-\\xEB]': e\r\n    '[\\xEC-\\xEF]': i\r\n    '[\\xE2-\\xE6]': a\r\n    '[\\xF2-\\xF6]': o\r\n    '[\\xF8]': o\r\n    '\\.$': _\r\n    '\\s+$': ''\r\n\r\nweb:\r\n    host: 0.0.0.0\r\n    port: 8337\r\n\r\n########### My additions #####################\r\n\r\n# import folders are deleted if only files matching these patterns are left in folders \r\nclutter: [\"Thumbs.DB\", \".DS_Store\", \"*.m3u\", \".pls\", \"*.jpg\"]\r\n\r\n########### PLUGINS #####################\r\n# chroma and web installed with docker #\r\n\r\nplugins: fetchart lyrics lastgenre embedart ftintitle convert scrub replaygain missing chroma web duplicates missing fromfilename\r\n\r\nfetchart:\r\n    auto: yes\r\n    maxwidth: 300\r\n    cautious: true\r\n    sources: amazon filesystem coverart albumart google  wikipedia\r\n    fanarttv_key: REMOVED\r\n\r\nlyrics:\r\n    fallback: ''\r\n    force: yes\r\n\r\nlastgenre:\r\n    auto: yes\r\n    source: album\r\n    canonical: yes\r\n    canoncical: /config/genres-tree.yaml\r\n    fallback: unknown\r\n    whitelist: /config/genres.txt\r\n\r\nembedart:\r\n    auto: yes\r\n    maxwidth: 300\r\n\r\nftintitle:\r\n    auto: yes\r\n\r\nconvert:\r\n    auto: no\r\n    ffmpeg: /usr/bin/ffmpeg\r\n    opts: -ab 320k -ac 2 -ar 48000\r\n    max_bitrate: 320\r\n    threads: 1\r\n\r\nscrub:\r\n    auto: yes\r\n\r\nreplaygain:\r\n    auto: yes\r\n    overwrite: yes\r\n\r\n#duplicates:\r\n#    move: /duplicates\r\n\r\nmissing:\r\n    format: $albumartist - $album - $track - $title\r\n    count: no\r\n    total: yes\r\n```\r\n\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2771/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2757", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2757/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2757/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2757/events", "html_url": "https://github.com/beetbox/beets/issues/2757", "id": 280841384, "node_id": "MDU6SXNzdWUyODA4NDEzODQ=", "number": 2757, "title": "replaygain: Sets R128 fields to zero when R128 values are not calculated", "user": {"login": "breversa", "id": 2071276, "node_id": "MDQ6VXNlcjIwNzEyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/2071276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/breversa", "html_url": "https://github.com/breversa", "followers_url": "https://api.github.com/users/breversa/followers", "following_url": "https://api.github.com/users/breversa/following{/other_user}", "gists_url": "https://api.github.com/users/breversa/gists{/gist_id}", "starred_url": "https://api.github.com/users/breversa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/breversa/subscriptions", "organizations_url": "https://api.github.com/users/breversa/orgs", "repos_url": "https://api.github.com/users/breversa/repos", "events_url": "https://api.github.com/users/breversa/events{/privacy}", "received_events_url": "https://api.github.com/users/breversa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2017-12-10T20:21:24Z", "updated_at": "2019-03-06T01:19:00Z", "closed_at": "2018-05-31T14:13:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\nThe Replaygain plugins calculate either replaygain_* OR r128 tags, but when using \"beet write\", both series of tags are written, one being equal to zero.\r\n\r\nMy music player (Vanilla Music, on Android) applies r128_* gain if the tags are present, before trying the replaygain_* ones.\r\n\r\nIs there any way NOT to write the r128 tags with the \"beet write\" command ? And to delete the existing r128 tags in my now messed-up library\u00a0(I'm not blaming anyone\u00a0; just looking for a solution :) )\u00a0?\r\n\r\n### Setup\r\n\r\n* OS: Linux\r\n* Python version: 2.7.12\r\n* beets version: 1.4.5\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n$ beet config\r\n\r\npaths:\r\n    default: $artist/$album%aunique{}/$artist - $title\r\n    singleton: $artist/$album%aunique{}/$artist - $title\r\n    comp: $artist/$album%aunique{}/$artist - $title\r\nthreaded: yes\r\nscrub:\r\n    auto: no\r\nchroma:\r\n    auto: yes\r\nlibrary: ~/.config/beets/musiclibrary.db\r\nreplaygain:\r\n    backend: bs1770gain\r\n    method: ebu\r\n    auto: yes\r\n    overwrite: yes\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n    chunk_at: 5000\r\n\r\nui:\r\n    color: yes\r\n\r\nplugins: replaygain chroma duplicates fetchart web info\r\ndirectory: ~/Musique\r\n\r\nimport:\r\n    copy: no\r\n    autotag: no\r\n    resume: ask\r\n    group_albums: yes\r\n    bell: yes\r\nduplicates:\r\n    count: no\r\n    full: no\r\n    format: ''\r\n    keys: []\r\n    move: ''\r\n    tag: ''\r\n    path: no\r\n    copy: ''\r\n    tiebreak: {}\r\n    album: no\r\n    strict: no\r\n    checksum: ''\r\n    merge: no\r\n    delete: no\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 0\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    enforce_ratio: no\r\n    cautious: no\r\n    maxwidth: 0\r\n    store_source: no\r\n    google_key: REDACTED\r\n    fanarttv_key: REDACTED\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\nweb:\r\n    host: 127.0.0.1\r\n    include_paths: no\r\n    port: 8337\r\n    reverse_proxy: no\r\n    cors: ''\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2740", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2740/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2740/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2740/events", "html_url": "https://github.com/beetbox/beets/issues/2740", "id": 274757316, "node_id": "MDU6SXNzdWUyNzQ3NTczMTY=", "number": 2740, "title": "hook: Crash when trying to access {item.track} in command", "user": {"login": "broddo", "id": 11037043, "node_id": "MDQ6VXNlcjExMDM3MDQz", "avatar_url": "https://avatars.githubusercontent.com/u/11037043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/broddo", "html_url": "https://github.com/broddo", "followers_url": "https://api.github.com/users/broddo/followers", "following_url": "https://api.github.com/users/broddo/following{/other_user}", "gists_url": "https://api.github.com/users/broddo/gists{/gist_id}", "starred_url": "https://api.github.com/users/broddo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/broddo/subscriptions", "organizations_url": "https://api.github.com/users/broddo/orgs", "repos_url": "https://api.github.com/users/broddo/repos", "events_url": "https://api.github.com/users/broddo/events{/privacy}", "received_events_url": "https://api.github.com/users/broddo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-17T05:40:27Z", "updated_at": "2018-03-11T00:31:06Z", "closed_at": "2018-03-11T00:31:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm playing around with hook in the hope to use it to keep a lossy version of my flac lib. I came across this issue when trying to generate a new path based on the imported item.\r\n\r\nHere's the relevant part of the config:\r\n\r\n```\r\nhook:\r\n    hooks:\r\n        - event: write\r\n          command: echo \"writing track number {item.track}\"\r\n```\r\n\r\nAnd the error:\r\n\r\n```\r\nFile \"/usr/local/lib/python2.7/site-packages/beetsplug/hook.py\", line 68, in convert_field\r\n    converted = converted.decode(self._coding)\r\nAttributeError: 'int' object has no attribute 'decode'\r\n```\r\n\r\nThis on Freebsd\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2740/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2740/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2734", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2734/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2734/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2734/events", "html_url": "https://github.com/beetbox/beets/issues/2734", "id": 270948992, "node_id": "MDU6SXNzdWUyNzA5NDg5OTI=", "number": 2734, "title": "import: using edit candidates prevents auto fetchart and embedart", "user": {"login": "Vrihub", "id": 3929903, "node_id": "MDQ6VXNlcjM5Mjk5MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3929903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vrihub", "html_url": "https://github.com/Vrihub", "followers_url": "https://api.github.com/users/Vrihub/followers", "following_url": "https://api.github.com/users/Vrihub/following{/other_user}", "gists_url": "https://api.github.com/users/Vrihub/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vrihub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vrihub/subscriptions", "organizations_url": "https://api.github.com/users/Vrihub/orgs", "repos_url": "https://api.github.com/users/Vrihub/repos", "events_url": "https://api.github.com/users/Vrihub/events{/privacy}", "received_events_url": "https://api.github.com/users/Vrihub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-03T11:32:13Z", "updated_at": "2018-07-11T14:12:48Z", "closed_at": "2018-07-11T14:12:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nIf I import an album making some changes with the \"Edit candidates\" option, beets doesn't fetch and embed the album art automatically, as it is supposed to do in my configuration.\r\n\r\nThis is what happens when I import something without making changes via \"Edit candidates\":\r\n\r\n\r\n```\r\n...\r\nApply, More candidates, Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort, eDit, edit Candidates? a\r\nSending event: import_task_choice\r\nSending event: import_task_apply\r\n0 of 1 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nfetchart: trying source filesystem for album Wolfgang Amadeus Mozart - Eine Kleine Nachtmusik / Symphony no. 40 in G minor / Symphony no. 41 \"Jupiter\"\r\nfetchart: trying source coverart for album Wolfgang Amadeus Mozart - Eine Kleine Nachtmusik / Symphony no. 40 in G minor / Symphony no. 41 \"Jupiter\"\r\nfetchart: downloading image: https://coverartarchive.org/release/00185b27-bb54-40fb-b5cc-b26f246a6078/front\r\nfetchart: downloaded art to: /tmp/tmpTD9lQ9.jpg\r\nfetchart: using remote image /tmp/tmpTD9lQ9.jpg\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: art_set\r\nembedart: Resizing album art to 600 pixels wide\r\nartresizer: ImageMagick resizing XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX/wolfgang_amadeus_mozart_0000_eine_kleine_nachtmusik___symphony_no._40_in_g_minor___symphony_no._41__jupiter_/albumart.jpg to /tmp/tmpStol6V.jpg\r\nembedart: Embedding album art into Wolfgang Amadeus Mozart - 0000 - Eine Kleine Nachtmusik / Symphony no. 40 in G minor / Symphony no. 41 \"Jupiter\"\r\nembedart: embedding /tmp/tmpStol6V.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\n\r\n\r\nAnd here's what happens when I make some changes: it seems the fetchart and embedart plugins are not called at all:\r\n\r\n\r\n```\r\n...\r\nEnter search, enter Id, aBort, eDit, edit Candidates? c\r\n# selection (default 1)? 1\r\nedit: invoking editor command: ['vim', '/tmp/tmpGx7YKR.yaml']\r\nWolfgang Amadeus Mozart - 0000 - Eine Kleine Nachtmusik / Symphony no. 40 in G minor / Symphony no. 41 \"Jupiter\" - 01 - Eine Kleine Nachtmusik\r\n  title: Eine Kleine Nachtmusik -> Eine Kleine Nachtmusik test test test\r\ncontinue [E]diting, Apply, Cancel? a\r\nSending event: import_task_choice\r\n0 of 1 items replaced\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: item_copied\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: write\r\nSending event: after_write\r\nSending event: database_change\r\nSending event: import_task_files\r\nSending event: album_imported\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\n\r\n\r\n\r\nPerhaps this might be related to #1671? Though I don't use the `convert` plugin, the only similarity is that the auto fetch/embedart operations during import are skipped when \"something else\" (\"convert\" or \"edit candidates\") happens before.\r\n\r\n### Setup\r\n\r\n* OS: linux\r\n* Python version: 2.7.13\r\n* beets version: 1.4.5\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n...\r\nfetchart:\r\n  auto: yes\r\nembedart:\r\n  auto: yes\r\n...\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2729", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2729/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2729/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2729/events", "html_url": "https://github.com/beetbox/beets/issues/2729", "id": 270450107, "node_id": "MDU6SXNzdWUyNzA0NTAxMDc=", "number": 2729, "title": "ImageMagick applies maxwidth to longest edge instead of to width", "user": {"login": "translit", "id": 4024096, "node_id": "MDQ6VXNlcjQwMjQwOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4024096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/translit", "html_url": "https://github.com/translit", "followers_url": "https://api.github.com/users/translit/followers", "following_url": "https://api.github.com/users/translit/following{/other_user}", "gists_url": "https://api.github.com/users/translit/gists{/gist_id}", "starred_url": "https://api.github.com/users/translit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/translit/subscriptions", "organizations_url": "https://api.github.com/users/translit/orgs", "repos_url": "https://api.github.com/users/translit/repos", "events_url": "https://api.github.com/users/translit/events{/privacy}", "received_events_url": "https://api.github.com/users/translit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-01T20:57:36Z", "updated_at": "2017-12-19T15:47:17Z", "closed_at": "2017-12-19T15:47:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [current invocation](https://github.com/beetbox/beets/blob/2120cf68c61649c22c14f20d83bd28d758720557/beets/util/artresizer.py#L96-L100) of ImageMagick applies the ```maxwidth``` parameter of ```fetchart``` to an image's longer edge instead of to its width. Possible solution suggested by Adrian [on the forum](https://discourse.beets.io/t/fetchart-taming-cover-art-resolution/206/12?u=dorade).\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2729/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2704", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2704/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2704/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2704/events", "html_url": "https://github.com/beetbox/beets/issues/2704", "id": 261654461, "node_id": "MDU6SXNzdWUyNjE2NTQ0NjE=", "number": 2704, "title": "lastgenre: `force` config option doesn\u2019t work", "user": {"login": "geoffreynl", "id": 29703875, "node_id": "MDQ6VXNlcjI5NzAzODc1", "avatar_url": "https://avatars.githubusercontent.com/u/29703875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffreynl", "html_url": "https://github.com/geoffreynl", "followers_url": "https://api.github.com/users/geoffreynl/followers", "following_url": "https://api.github.com/users/geoffreynl/following{/other_user}", "gists_url": "https://api.github.com/users/geoffreynl/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffreynl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffreynl/subscriptions", "organizations_url": "https://api.github.com/users/geoffreynl/orgs", "repos_url": "https://api.github.com/users/geoffreynl/repos", "events_url": "https://api.github.com/users/geoffreynl/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffreynl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-29T14:09:43Z", "updated_at": "2019-04-06T17:50:13Z", "closed_at": "2019-04-06T17:50:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI want to write the popular genres from Last.fm in the metatags of my music.\r\n\r\nI have the following configuration:\r\n\r\n```\r\nlastgenre:\r\n    whitelist: no\r\n    count: 5\r\n    fallback: nogenre\r\n    min_weight: 20\r\n    source: track\r\n    force: yes\r\n```\r\n\r\nNow I run \"beets lastgenre\"\r\n\r\nOther than what I had expected that beets would now write the 5 most popular genres into each file, it just outputs with (keep) and doesn't change anything to the genre metatag...\r\n\r\nWhat could be going wrong here and how can I fix this?\r\n\r\nThanks a lot for any help!\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2704/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2678", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2678/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2678/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2678/events", "html_url": "https://github.com/beetbox/beets/issues/2678", "id": 253774739, "node_id": "MDU6SXNzdWUyNTM3NzQ3Mzk=", "number": 2678, "title": "%aunique fails if a disambiguation is a non-fixed field", "user": {"login": "devster31", "id": 1912062, "node_id": "MDQ6VXNlcjE5MTIwNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1912062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devster31", "html_url": "https://github.com/devster31", "followers_url": "https://api.github.com/users/devster31/followers", "following_url": "https://api.github.com/users/devster31/following{/other_user}", "gists_url": "https://api.github.com/users/devster31/gists{/gist_id}", "starred_url": "https://api.github.com/users/devster31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devster31/subscriptions", "organizations_url": "https://api.github.com/users/devster31/orgs", "repos_url": "https://api.github.com/users/devster31/repos", "events_url": "https://api.github.com/users/devster31/events{/privacy}", "received_events_url": "https://api.github.com/users/devster31/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-29T19:21:31Z", "updated_at": "2021-11-11T19:40:08Z", "closed_at": "2021-11-11T19:40:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently encountered this behaviour while trying out paths with `%aunique{}` and the below config.\r\n```yaml\r\npaths:\r\n    default: $albumartist/$albumartist - $album%ifdef{albumdisambig, - $albumdisambig}%aunique{albumartist album year, catalognum label} [$format]/%if{$multidisc,$disc-}$track. $title\r\n```\r\nThis will produce the below output (part of).\r\n```text\r\nFranz Ferdinand - Franz Ferdinand [678] [MP3]\r\nFranz Ferdinand - Franz Ferdinand [679] [FLAC]\r\n```\r\nThis means that different format, which already produce a different path, still get deduplicated by `%aunique`, which is intended behaviour.\r\nI would, however, want to avoid this and @sampsyo  referred to #2610, from which I slightly adapted this snippet:\r\n```yaml\r\nalbum_fields:\r\n    albumformat: |\r\n        format_list = []\r\n        [format_list.append(item.format) for item in items if item.format not in format_list]\r\n        return format_list\r\n```\r\nThe snippet works for the `beet list` command, however it does not work as a _disambiguator_ for `%aunique`:\r\n```yaml\r\npaths:\r\n    default: $albumartist/$albumartist - $album%ifdef{albumdisambig, - $albumdisambig}%aunique{albumartist album year albumformat, catalognum label} [$format]/%if{$multidisc,$disc-}$track. $title\r\n```\r\nAnd produces `_no such column\u2236 format_` in the file name.\r\nI believe this is caused by this piece:\r\n```py\r\n        for key in keys:\r\n            value = album.get(key, '')\r\n            subqueries.append(dbcore.MatchQuery(key, value))\r\n```\r\nfound in [`beets/library.py`](https://github.com/beetbox/beets/blob/34246a00e7be8da59ed4e0d659f7b980a5da7910/beets/library.py#L1525-1528).\r\nMy understanding is that the `key` gets queried to the database but not with the fields generated by the `inline` plugin. Would it be feasible to allow `inline` fields to be queried?\r\n\r\n### Setup\r\n\r\n* OS: Raspbian + Docker\r\n* Python version: 3.6.1\r\n* beets version: 1.4.5\r\n* Turning off plugins made problem go away (yes/no): no", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2673", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2673/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2673/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2673/events", "html_url": "https://github.com/beetbox/beets/issues/2673", "id": 253138550, "node_id": "MDU6SXNzdWUyNTMxMzg1NTA=", "number": 2673, "title": "absubmit and unicode characters in analysis file causes crash", "user": {"login": "arogl", "id": 1115472, "node_id": "MDQ6VXNlcjExMTU0NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1115472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arogl", "html_url": "https://github.com/arogl", "followers_url": "https://api.github.com/users/arogl/followers", "following_url": "https://api.github.com/users/arogl/following{/other_user}", "gists_url": "https://api.github.com/users/arogl/gists{/gist_id}", "starred_url": "https://api.github.com/users/arogl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arogl/subscriptions", "organizations_url": "https://api.github.com/users/arogl/orgs", "repos_url": "https://api.github.com/users/arogl/repos", "events_url": "https://api.github.com/users/arogl/events{/privacy}", "received_events_url": "https://api.github.com/users/arogl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-27T03:31:30Z", "updated_at": "2017-08-28T13:50:38Z", "closed_at": "2017-08-27T14:22:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen the output file from streaming_extractor_music.exe on windows has a Unicode character in the analysis the json parser crashes\r\n\r\nThis could be an issue with the streaming_extractor_music.exe handling unicode in Windows.\r\n\r\nWould be nice to catch this rather than crashing.\r\nI have added a print statement to absubmit.py to help debug\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n> beet -vv absubmit\r\nuser configuration: C:\\Users\\arogl\\AppData\\Roaming\\beets\\config.yaml\r\ndata directory: C:\\Users\\arogl\\AppData\\Roaming\\beets\r\nplugin paths: C:\\Users\\arogl\\AppData\\Roaming\\beets\\beetsplug\r\nSending event: pluginload\r\nlibrary database: C:\\Users\\arogl\\AppData\\Roaming\\beets\\library.db\r\nlibrary directory: I:\\Music\r\nSending event: library_opened\r\nabsubmit: Analysing 10cc - 70's Dinner Party - The Things We Do for Love,\r\nabsubmit: Successfully submitted AcousticBrainz analysis for 10cc - 70's Dinner Party - The Things We Do for Love.\r\nabsubmit: Analysing 10cc - AM Gold: 1975 - I'm Not in Love,\r\n\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Python36\\Scripts\\beet-script.py\", line 11, in <module>\r\n    load_entry_point('beets==1.4.6', 'console_scripts', 'beet')()\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beets\\ui\\__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beets\\ui\\__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beetsplug\\absubmit.py\", line 108, in command\r\n    analysis = self._get_analysis(item)\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beetsplug\\absubmit.py\", line 138, in _get_analysis\r\n    analysis = json.loads(tmp_file.read())\r\n  File \"C:\\Python36\\lib\\encodings\\cp1252.py\", line 23, in decode\r\n    return codecs.charmap_decode(input,self.errors,decoding_table)[0]\r\nUnicodeDecodeError: 'charmap' codec can't decode byte 0x90 in position 49639: character maps to <undefined>\r\n\r\n```\r\n\r\n\r\n### Setup\r\n\r\n* OS: win10 x64\r\n* Python version: 3.6.2 x64\r\n* beets version:  git latest\r\n* Turning off plugins made problem go away (yes/no):  yes, absubmit plugin no longer works\r\n\r\n```\r\n        \"label\": [\"EMI\u00e2\u20ac\u0090Capitol Music Special Markets\"],\r\n the characters become \\uE2\\u20AC\r\n\r\n\t    \"label\":[\"EMI\u2010Capitol Music Special Markets\"]\r\n\r\n\t    the \u2010 is \\u2010\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2671", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2671/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2671/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2671/events", "html_url": "https://github.com/beetbox/beets/issues/2671", "id": 253090320, "node_id": "MDU6SXNzdWUyNTMwOTAzMjA=", "number": 2671, "title": "chroma plugin errors with non-ascii charaters under python 3 when trying to submit", "user": {"login": "arogl", "id": 1115472, "node_id": "MDQ6VXNlcjExMTU0NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1115472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arogl", "html_url": "https://github.com/arogl", "followers_url": "https://api.github.com/users/arogl/followers", "following_url": "https://api.github.com/users/arogl/following{/other_user}", "gists_url": "https://api.github.com/users/arogl/gists{/gist_id}", "starred_url": "https://api.github.com/users/arogl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arogl/subscriptions", "organizations_url": "https://api.github.com/users/arogl/orgs", "repos_url": "https://api.github.com/users/arogl/repos", "events_url": "https://api.github.com/users/arogl/events{/privacy}", "received_events_url": "https://api.github.com/users/arogl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-26T12:52:05Z", "updated_at": "2017-08-26T22:40:30Z", "closed_at": "2017-08-26T15:19:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nchroma plugin errors with non-ascii charaters under python 3 when trying to submit\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n> beet -vvv submit\r\nuser configuration: C:\\Users\\arogl\\AppData\\Roaming\\beets\\config.yaml\r\ndata directory: C:\\Users\\arogl\\AppData\\Roaming\\beets\r\nplugin paths: C:\\Users\\arogl\\AppData\\Roaming\\beets\\beetsplug\r\nSending event: pluginload\r\nlibrary database: C:\\Users\\arogl\\AppData\\Roaming\\beets\\library.db\r\nlibrary directory: I:\\Music\r\nSending event: library_opened\r\nchroma: I:\\Music\\3\\3OH!3\\(2010) Streets of Gold\\Streets of Gold - 04 - 3OH!3 - D\u00e9j\u00e0 Vu.flac: fingerprinting\r\n\r\nRunning fpcalc from the command line works\r\n\r\n> fpcalc \"I:\\Music\\3\\3OH!3\\(2010) Streets of Gold\\Streets of Gold - 04 - 3OH!3 - D\u00e9j\u00e0 Vu.flac\"\r\nFILE=I:\\Music\\3\\3OH!3\\(2010) Streets of Gold\\Streets of Gold - 04 - 3OH!3 - D\u251c\u00aej\u251c\u00e1 Vu.flac\r\nDURATION=185\r\nFINGERPRINT=AQADtCe1SMlQ_nA-9Hg85IeOHLdwSWnxolyjwaEkfLng5-iDwq2O15Wxj6h1PF6RB08OrVtSyJWEyuzwkrh-9IUPPUat4H2O7-iztXgiaDKPZ8QJkkeYo89SML_xaai0tMflo0cYLhT6w_mhrYmKU8Qp9IIPXUdzJi7O4FphndB5PDbCxFLwHM2HeJOa4VmMH_IUZOkNO6hOtGTxHe_RLzk-6QhfwrJ-6D2o47zhw8-ER4d-9ET845Lgv8jv49ByXDMc59DRZ0cuEs9RHY11fAcDKhzS99DWzGiLpsIRHj7xPbhudAyD1kd6BfKPxgmRo7phTuiDHoFj4Qpx-MK05viKXYKmB__Bw10UPBk04vwxfiF6HdYZQsWNq9g4Dj904TyYEjmaONdRhH7w8Lhy44LzB-Jz9HhUfEb1Q9k_-D26rSVaNWji7DhUWTee4LqCNxkpVLbhHVqjREa-HrUSBZ69oh--wUk1F3eRTLxVhPnxr_jRZ0P6RKgPVUsU5MUaHj2as3iP2A10JjLeH_UUnBTwDGagB3YIJw3y4MsK_5he1DeaV4iN7hy05D-uI88QqsmK5tNxLYP6Iz-mPOgZtA-2W8EF52iPfkivBtp83Ed09H3wHdjXDM2j4cZzoaGmRLjywutx3shT6FJ2I6Vy1O_wJ_jhBzHd46EOvfOE_gnCHPkjVEyyVIMoRU-QJ7hzmGOKo6mkHNeO4-HRjEzRZ_iNH3mCJKSoo7uGJm2IH83Ra0dMBVqO8zju5Tgn6FRh9rgzFlbIHLxw_dDi1HgUHjmuI0ya5MGjHln0HSGPpjou0XiL5kefXMPFHOqqoz0aOcqDy0cPn8bTKNCO3ReeCz-0d9AizUzwH82LHtfROJmK8Hg2BvfRJGWOqYqZo9QnNMeJH59q5DnUE8x0wSFMKUoRnsepCI2qo3KCBwdj9XgUOOnxH-F59IEW5hee5AHScx-ezMdndWiSiCKYo3YYNLtD_DiPB2HOQ9OL3A--g7FyoaGME2dgFVeO89gfPOKL_mheRoh_XIuwPQvxHY8eNM8GzWLwt0Wc5Wh-fDu8oz6OKzzyKNAenIWzClZDoU92HJ-K_oEOx9Ce4QjH0IEfHlY79Amq48gPkRnCB7eO-xneqKikw5dxHWF-aCca_BSuhMN99IKY8UJ3BfmNX8iX4w8aculRmR30a9gzaFUYB03So6KC5mOQ49nR8Bv6HPcynMqPKcl1HG6doMeHM7iKbJsULeigJQ9xXmjSfuizIFxpNM9S0EOPt8ET5IfIhxjNI1VTDqF2HM0zaGfwFs-h0B-qVEH-HD_6BxceZIlTgbEp6A_xREUvBQ2Pn0cuNJHeogul4oou_MQp6Xh4NBcRfgSvQI90NE-hfXhyNBW5oDIjXMyJ6rgMyWfxw7tw9rCT4oezHvKH5tmxv9CXvdh59Mrh3-iXI_7QcCdKsgkeFj6RM8V_qJL0o8_xzLB6XGrwMYW-JMdXpFuYo89w5UI-H80LTceLRupxDX7QH3p2TCx-PApt9Mf0GXkf2EHH5siFo95uiGcMP4eP3EX-BLbg_NA1w9YV9CjcHdU1vL3Q8MedwKGOF1oXHv-IO0JDhQ1q7kDzEVpvIqaNRmwxPcKFix6mH6k8SBEi_fBDPNIFN4mSoi_CPEcPNcd5aURfeBLEO4Sfo9eF48d-aCTDwDz8IJ0-PEeP08V3xPyEx8ugnT-2ByFqEd8epJ12_MW7Q5O54NnxIlJzNL-M32A-ONvRXYikHw2zhdCV4z6OsktxGp0iNtB4NLk1fMqNT_xwZilqURP8XNB-lM-hrMqMS5kF_7ilEH5O9EdONA-P9jnyo1fhUIw2XDzE_TL65DiuHuW0E8qVY0Z-PIcnMSoqJ8KPXDa0M4idVYT_4Yf1BDkhpvoQ_ugD_woe3Dn8RBWcaB6NEF-PWnGhI0y4PbgS7Lrwo1WI6wiPH1rWo3YYXEd-IaeEJs7iotahH7U5OE52fIaTSfvRtwhxpSKCizl0jjty6vADxwuJaWGi4EpCVviJVxXSvEj-jMPFSaj-JDCN6gNH5WiTINWTQ9uN7DlOkmiUzjLO5EVTWziL_2h49Aqx8_iGH9ETCZqeI4zmTXgb1EfzCLeG7DnRtOiEk0U1iUX6Hb1RSgnhmOzQPUUoySSaG7o0IXeOn_iio0mfCY80hLJM9NDCcAatBPrh0wryZCTyG9XQyMd_1DwhOvjGQnlx6iiXK9B5nC8qTymapC--Q-SK8_jCInzQjByxB89O4VK-ggl_nEIzPGBN4UG-Q1p0ogmP_ni2wNfRD2GCzweP0yemSzGcCtfxHx_zIcyDfxGuQ2Q85MrxXxij5oKrDKyio6eLZo_wL8WLXBDv4z9yXWC6HA3j4JNxoRmDSjy-Yb_wCxeap0KPXD--ZYL4BFeO5wjzqCNCLtKFvMWkXDmcPTjbozl-HFeW4suR7Ebqo3qEbiKa6_jxHrlCQ22yRsh19OEQ5jgtHHp2vPMQIoefGSUL6TZ-4XEs1If3nHiVo_EFqczR00KzB09efJFO9GiOazk0I9oHi-Ex6cfVCxvHPMgFXIrQ5EO4sqgcNN_xXXg8oeGLPngXnD8m5fiHPzhqHw9z5IX6DUykI2ycGH2So9GEE03UHSEgEkBZSCgQhiAkDEDMSGWZQkAoY4BgQHhmGLJCECOIUAIiB5TBEAACDIKGIcCYAsAJYAkQTAihAABCAcUEFEAJoAwQADNCgAFOQIMIEk4AZAQAkhCFBEPeGGMMEcArBgQARiDkEGJEBIKMQQYRBwRzyBAhEBGYKAQEEUAgJZQgwhEIAFEcAAWEIY5BaQgCRhgjAFMECCEIwlY4YT40BAFmAHACIQCcIxQZCYQAQAokCAIAASEAgUBJoRwzRBBgpCIGMSqEEcYA4pAACAOBDLCIAWEEUMYwJABAQEFAAABCAKCQowIAABATjAEjAECQAKOAcgIB6SVBBjghoBLIGAAYAEAYRAAjhghhGEEECWKIMoQYYBQCShgEAHBEGuEgMYQBDIAHRKDFgBBUSaAIAERgZRAChCGDCCVACIQEEE4wYgzhxgAFGDAACKoVU8gQIYACTBmgHAkCMmMIMIwAxJlwTAAECAIIKAMgA4gCI5BTRiCDgNKOAIQcBEAAQQgABBjCAGFAGAAFEIYpYADxQhjCCFBKECOUAowZBgggwGECgAIGCEOQUMgIBQhASggCDBVKIeYUAQYYILkCBgjEBDETKAOsogAwggUQAgBCECEGAKQUIFYQ5ARUhBASoCEIEAIIMgIIJABQQCngBJDGCAaAIBQBAhQIzCDIBDDeEEUUUEIoBAAgBjhBoCDEiqGMMUopQwUDACAkBBBGGoYQEIACIZwDhCADkCMCMGOIYcwYA5gERDAgFFHCACIQMcIiA5ABiBBhhAOGEGaUQUgBpAwQAAFAISOAMIAMEYIRDIBABhhhBEBCGccAEEAIZwCRRBAAFEEKWUGQUwgpQwwwxjCDgADAEYEI9cYZgQwAwDBhlBOAOUQAAQBAQAAxChmBFAGAA4EIAAQC4I0gwCAGlAMMAIQkgIQBZRwQBAE\r\n\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Python36\\Scripts\\beet-script.py\", line 11, in <module>\r\n    load_entry_point('beets==1.4.6', 'console_scripts', 'beet')()\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beets\\ui\\__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beets\\ui\\__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beetsplug\\chroma.py\", line 187, in submit_cmd_func\r\n    submit_items(self._log, apikey, lib.items(ui.decargs(args)))\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beetsplug\\chroma.py\", line 243, in submit_items\r\n    fp = fingerprint_item(log, item)\r\n  File \"C:\\Python36\\lib\\site-packages\\beets-1.4.6-py3.6.egg\\beetsplug\\chroma.py\", line 298, in fingerprint_item\r\n    _, fp = acoustid.fingerprint_file(item.path)\r\n  File \"C:\\Python36\\lib\\site-packages\\acoustid.py\", line 323, in fingerprint_file\r\n    return _fingerprint_file_fpcalc(path, maxlength)\r\n  File \"C:\\Python36\\lib\\site-packages\\acoustid.py\", line 277, in _fingerprint_file_fpcalc\r\n    stderr=devnull)\r\n  File \"C:\\Python36\\lib\\subprocess.py\", line 707, in __init__\r\n    restore_signals, start_new_session)\r\n  File \"C:\\Python36\\lib\\subprocess.py\", line 966, in _execute_child\r\n    args = list2cmdline(args)\r\n  File \"C:\\Python36\\lib\\subprocess.py\", line 461, in list2cmdline\r\n    needquote = (\" \" in arg) or (\"\\t\" in arg) or not arg\r\nTypeError: a bytes-like object is required, not 'str'\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): \r\n\r\n\r\n### Setup\r\n\r\n* OS:  win 10 x64\r\n* Python version:  3.6.2 x64\r\n* beets version: latest git \r\n* Turning off plugins made problem go away (yes/no): yes, but then command will not work\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2671/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2664", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2664/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2664/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2664/events", "html_url": "https://github.com/beetbox/beets/issues/2664", "id": 251616595, "node_id": "MDU6SXNzdWUyNTE2MTY1OTU=", "number": 2664, "title": "`mtime` reset when assigning unchanged values to `Item` fields", "user": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-08-21T10:32:16Z", "updated_at": "2019-04-20T10:53:24Z", "closed_at": "2019-04-20T10:53:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Problem\r\n\r\nIn [`library.py`](https://github.com/beetbox/beets/blame/master/beets/library.py#L551)\r\n``` python\r\nclass Item(LibModel):\r\n    # ...\r\n    def __setitem__(self, key, value):\r\n        \"\"\"Set the item's value for a standard field or a flexattr.\r\n        \"\"\"\r\n        # Encode unicode paths and read buffers.\r\n        if key == 'path':\r\n            if isinstance(value, six.text_type):\r\n                value = bytestring_path(value)\r\n            elif isinstance(value, BLOB_TYPE):\r\n                value = bytes(value)\r\n\r\n        if key in MediaFile.fields():\r\n            self.mtime = 0  # Reset mtime on dirty.\r\n\r\n        super(Item, self).__setitem__(key, value)\r\n```\r\nthe `mtime` will be reset (and consequently `Item._dirty` be set) irrespective of whether any field actually\r\nchanged. Most of the time, this is probably not a problem since the item would be dirtied anyway, and even if not, no real database corruption will occur. There is a particular situation where many unnecessary `mtime` updates and metadata writes to the mediafiles can be triggered, though:\r\n\r\nInto the following `beet edit` session, the query selected a full album, but I only changed one song title:\r\n```\r\nbeet -v edit txarango album:'som riu'                                                                                                                                                                      \r\n...\r\nSending event: library_opened\r\nedit: invoking editor command: ['/usr/bin/nvim', '/tmp/tmp9l8hedej.yaml']\r\nTxarango - Som riu - Esperan\u00e7a\r\n  title: Esperan\u00e7a -> Esperan\u00e7a [Not a remix]\r\ncontinue [E]diting, Apply, Cancel? a\r\nedit: saving changes to Txarango - Som riu - Esperan\u00e7a [Not a remix]\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/01 - Esperan\u00e7a.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - M\u00fasic de carrer\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/02 - M\u00fasic de carrer.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - La vuelta al mundo\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/03 - La vuelta al mundo.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Compta amb mi\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/04 - Compta amb mi.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - El meu poble\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/05 - El meu poble.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Alegre i encantada\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/06 - Alegre i encantada.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Som un riu\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/07 - Som un riu.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Governant\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/08 - Governant.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Batega\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/09 - Batega.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Coraz\u00f3n viajero\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/10 - Coraz\u00f3n viajero.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Camp de batalla\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/11 - Camp de batalla.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Com dues gotes d'aigua\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/12 - Com dues gotes d'aigua.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - Tant de bo\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/13 - Tant de bo.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nedit: saving changes to Txarango - Som riu - No t'adormis\r\nSending event: write\r\nSending event: after_write\r\nmoving /.../Txarango/Som riu/14 - No t'adormis.mp3 to synchronize path\r\nthe: \"Txarango\" -> \"Txarango\"\r\nSending event: before_item_moved\r\nSending event: item_moved\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: database_change\r\nSending event: cli_exit\r\n```\r\nbut still all of the items are committed to the database and have their metadata written out to the files. This happens because the edit plugin assigns all fields whether they were changed or not, and then checks `Item._dirty` and if it is non-empty calls `Item.try_sync`. Given that the `mtime` is always changed, the `_dirty` check is useless.\r\n\r\nWhile the edit plugin should probably not re-assign unchanged fields in the first place, it seems to me that the behaviour of `Item.__setitem__` is not ideal either. I'm not really sure about the implications for beets overall, but a first (untested) \"fix\" could be the following (`Item._dirty` is just a `set()`):\r\n\r\n``` python\r\nclass Item(LibModel):\r\n    # ...\r\n    def __setitem__(self, key, value):\r\n        \"\"\"Set the item's value for a standard field or a flexattr.\r\n        \"\"\"\r\n        # Encode unicode paths and read buffers.\r\n        if key == 'path':\r\n            if isinstance(value, six.text_type):\r\n                value = bytestring_path(value)\r\n            elif isinstance(value, BLOB_TYPE):\r\n                value = bytes(value)\r\n\r\n        old_dirty = self._dirty.copy()\r\n        \r\n        super(Item, self).__setitem__(key, value)\r\n\r\n        if old_dirty != self._dirty and key in MediaFile.fields():\r\n            self.mtime = 0  # Reset mtime on dirty.\r\n```\r\nMaybe copying this `set()` all the time has performance implications and there's a better way?\r\n\r\nAny thoughts on how `__setitem__` should behave? Or would it be safer to only change the edit plugin?", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2664/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2652", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2652/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2652/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2652/events", "html_url": "https://github.com/beetbox/beets/issues/2652", "id": 249332541, "node_id": "MDU6SXNzdWUyNDkzMzI1NDE=", "number": 2652, "title": "Date queries for a single day do not return tracks within the final hour of that day", "user": {"login": "discopatrick", "id": 254822, "node_id": "MDQ6VXNlcjI1NDgyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/254822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/discopatrick", "html_url": "https://github.com/discopatrick", "followers_url": "https://api.github.com/users/discopatrick/followers", "following_url": "https://api.github.com/users/discopatrick/following{/other_user}", "gists_url": "https://api.github.com/users/discopatrick/gists{/gist_id}", "starred_url": "https://api.github.com/users/discopatrick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/discopatrick/subscriptions", "organizations_url": "https://api.github.com/users/discopatrick/orgs", "repos_url": "https://api.github.com/users/discopatrick/repos", "events_url": "https://api.github.com/users/discopatrick/events{/privacy}", "received_events_url": "https://api.github.com/users/discopatrick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-08-10T12:38:48Z", "updated_at": "2018-02-21T04:26:25Z", "closed_at": "2018-02-21T04:24:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Problem\r\n\r\nDate queries for a single day do not return tracks within the final hour of that day, e.g.\r\n\r\n```sh\r\n$ beet ls added+ added:2017-02-14\r\n```\r\n\r\nWhat's interesting is that if I print out the SQL clause that is being run, I get this:\r\n\r\n```\r\n('added >= ? AND added < ?', [1487026800, 1487113200])\r\n```\r\n\r\nAnd if I feed those timestamps into a timestamp-to-datetime converter, I get these dates:\r\nFebruary 13, 2017 11:00:00 PM GMT+00:00\r\nFebruary 14, 2017 11:00:00 PM GMT+00:00\r\n\r\nThe period actually runs from 11pm to 11pm. This would explain why my query doesn't return tracks from the final hour of the day. Note: GMT/UTC and my local timezone are \"the same\" in February, so I don't *think* this is an issue of timezone conversion.\r\n\r\nI've done some digging through the code, and the start and end dates of the query appear to be correct as they get passed between the various components of beets - however, one thing did catch my eye - the point at which beets converts a datetime into a timestamp that can be passed to the db in the query.:\r\n\r\nhttps://github.com/beetbox/beets/blob/v1.4.5/beets/dbcore/query.py#L530-L532\r\n```\r\n        epoch = datetime.fromtimestamp(0)\r\n        delta = date - epoch\r\n        return int(delta.total_seconds())\r\n```\r\n\r\nIf I print the `epoch` variable to the terminal, I see `1970-01-01 01:00:00`. Shouldn't this be midnight, and not 1am? Is there something wrong here?\r\n\r\nI'll keep digging and working on a pull request, but any help would be much appreciated.\r\n\r\n### Setup\r\n\r\n* OS: OSX Yosemite 10.10.5\r\n* Python version: 2.7.13\r\n* beets version: 1.4.3 (I rolled back to this version to ensure that it wasn't caused by the addition of datetime queries in 1.4.5)\r\n* Turning off plugins made problem go away (yes/no): Not yet tried.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2652/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2626", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2626/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2626/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2626/events", "html_url": "https://github.com/beetbox/beets/pull/2626", "id": 242494304, "node_id": "MDExOlB1bGxSZXF1ZXN0MTMwMjIxMTY5", "number": 2626, "title": "Case sensitivity for german letters \u00c4, \u00d6 and \u00dc", "user": {"login": "pkess", "id": 11859624, "node_id": "MDQ6VXNlcjExODU5NjI0", "avatar_url": "https://avatars.githubusercontent.com/u/11859624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkess", "html_url": "https://github.com/pkess", "followers_url": "https://api.github.com/users/pkess/followers", "following_url": "https://api.github.com/users/pkess/following{/other_user}", "gists_url": "https://api.github.com/users/pkess/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkess/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkess/subscriptions", "organizations_url": "https://api.github.com/users/pkess/orgs", "repos_url": "https://api.github.com/users/pkess/repos", "events_url": "https://api.github.com/users/pkess/events{/privacy}", "received_events_url": "https://api.github.com/users/pkess/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 2197492275, "node_id": "MDU6TGFiZWwyMTk3NDkyMjc1", "url": "https://api.github.com/repos/beetbox/beets/labels/stale", "name": "stale", "color": "D3D3D3", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-07-12T19:48:33Z", "updated_at": "2020-11-25T01:19:20Z", "closed_at": "2020-11-25T01:19:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/beetbox/beets/pulls/2626", "html_url": "https://github.com/beetbox/beets/pull/2626", "diff_url": "https://github.com/beetbox/beets/pull/2626.diff", "patch_url": "https://github.com/beetbox/beets/pull/2626.patch", "merged_at": null}, "body": "Hi there,\r\n\r\ni just discoverd a problem with unicode strings: The german letters \u00e4, \u00f6 and \u00fc are case-sensitive in queries. I was not able to fix the problem at the moment but i added a test case for this. Any ideas where to fix this?", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2626/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2622", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2622/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2622/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2622/events", "html_url": "https://github.com/beetbox/beets/issues/2622", "id": 240614814, "node_id": "MDU6SXNzdWUyNDA2MTQ4MTQ=", "number": 2622, "title": "Broken pipe on piping `list` output on Python 3", "user": {"login": "xeals", "id": 21125058, "node_id": "MDQ6VXNlcjIxMTI1MDU4", "avatar_url": "https://avatars.githubusercontent.com/u/21125058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xeals", "html_url": "https://github.com/xeals", "followers_url": "https://api.github.com/users/xeals/followers", "following_url": "https://api.github.com/users/xeals/following{/other_user}", "gists_url": "https://api.github.com/users/xeals/gists{/gist_id}", "starred_url": "https://api.github.com/users/xeals/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xeals/subscriptions", "organizations_url": "https://api.github.com/users/xeals/orgs", "repos_url": "https://api.github.com/users/xeals/repos", "events_url": "https://api.github.com/users/xeals/events{/privacy}", "received_events_url": "https://api.github.com/users/xeals/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 393039019, "node_id": "MDU6TGFiZWwzOTMwMzkwMTk=", "url": "https://api.github.com/repos/beetbox/beets/labels/python%203", "name": "python 3", "color": "fbca04", "default": false, "description": "Arises from the Python 2->3 transition."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-05T11:01:42Z", "updated_at": "2017-07-22T08:49:11Z", "closed_at": "2017-07-22T08:49:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI'm trying to write a quick dirty script to play the first result of a search, looking much like you'd expect:\r\n\r\n```sh\r\nmpv --no-audio-display \"$(beet ls -p $@ | head -n 1)\"\r\n```\r\n\r\nHowever, there's something in the formatting of the output that `head` doesn't like:\r\n\r\n```sh\r\n$ beet ls -p home\r\n/media/beets/5 Seconds of Summer/5 Seconds of Summer/09 Long Way Home.mp3\r\n/media/beets/5 Seconds of Summer/LIVESOS/07 Long Way Home.mp3\r\n/media/beets/5 Seconds of Summer/Sounds Good Feels Good/12 Broken Home.mp3\r\n/media/beets/American Authors/What We Live For/07 Go Big or Go Home.mp3\r\n/media/beets/Boys Like Girls/Crazy World/09 Take Me Home.mp3\r\n...\r\n```\r\n\r\nHowever\r\n\r\n```sh\r\nbeet -vv ls -p home | head -n 1                                                                                                                                                                   user configuration: /home/shagaru/.config/beets/config.yaml\r\ndata directory: /home/shagaru/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /media/Music/library.db\r\nlibrary directory: /media/Music\r\nSending event: library_opened\r\n/media/beets/5 Seconds of Summer/5 Seconds of Summer/09 Long Way Home.mp3\r\nException ignored in: <_io.TextIOWrapper name='<stdout>' mode='w' encoding='UTF-8'>\r\nBrokenPipeError: [Errno 32] Broken pipe\r\n\r\n```\r\n\r\nTrying to cheat and run it through `echo` instead produces the following:\r\n\r\n```sh\r\n$ echo -e $(beet ls -p home) | head -n 1\r\n/media/beets/5 Seconds of Summer/5 Seconds of Summer/09 Long Way Home.mp3 /media/beets/5 Seconds of Summer/LIVESOS/07 Long Way Home.mp3 /media/beets/5 Seconds of Summer/Sounds Good Feels Good/12 Broken Home.mp3 /media/beets/American Authors/What We Live For/07 Go Big or Go Home.mp3 /media/beets/Boys Like Girls/Crazy World/09 Take Me Home.mp3 ...\r\n```\r\n\r\nas one string, so it seems like the proper line-ending characters aren't being properly generated. This may be expected of Python output, I don't know; I haven't written using it.\r\n\r\nEnd question I suppose is there any way around how Python handles printing lines short of rewriting that entire part of the program?\r\n\r\n### Setup\r\n\r\n* OS: GNU/Linux\r\n* Python version: 3.5.2\r\n* beets version: 1.4.4\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\nMy configuration (output of `beet config`) shouldn't matter, because it's a question of how the program functions inherently.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2622/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2615", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2615/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2615/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2615/events", "html_url": "https://github.com/beetbox/beets/issues/2615", "id": 239054944, "node_id": "MDU6SXNzdWUyMzkwNTQ5NDQ=", "number": 2615, "title": "replaygain: Check for R128 tags fails on opus files when values are missing", "user": {"login": "gandalf3", "id": 11167504, "node_id": "MDQ6VXNlcjExMTY3NTA0", "avatar_url": "https://avatars.githubusercontent.com/u/11167504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gandalf3", "html_url": "https://github.com/gandalf3", "followers_url": "https://api.github.com/users/gandalf3/followers", "following_url": "https://api.github.com/users/gandalf3/following{/other_user}", "gists_url": "https://api.github.com/users/gandalf3/gists{/gist_id}", "starred_url": "https://api.github.com/users/gandalf3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gandalf3/subscriptions", "organizations_url": "https://api.github.com/users/gandalf3/orgs", "repos_url": "https://api.github.com/users/gandalf3/repos", "events_url": "https://api.github.com/users/gandalf3/events{/privacy}", "received_events_url": "https://api.github.com/users/gandalf3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-06-28T05:15:38Z", "updated_at": "2017-10-09T16:13:42Z", "closed_at": "2017-07-07T03:21:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI enabled the replaygain plugin and attempted to compute tags for an album.\r\nOutput:\r\n\r\n```sh\r\n% beet -vv replaygain -a 'Brandenburg Concerti'\r\nuser configuration: /home/gandalf3/.config/beets/config.yaml\r\ndata directory: /home/gandalf3/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/gandalf3/data/music.db\r\nlibrary directory: /home/gandalf3/music\r\nSending event: library_opened\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/beets/dbcore/db.py\", line 336, in __getattr__\r\n    return self[key]\r\n  File \"/usr/lib/python3.6/site-packages/beets/dbcore/db.py\", line 243, in __getitem__\r\n    raise KeyError(key)\r\nKeyError: 'r128_item_gain'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.5', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/usr/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/replaygain.py\", line 1010, in func\r\n    self.handle_album(album, write)\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/replaygain.py\", line 900, in handle_album\r\n    if not self.album_requires_gain(album):\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/replaygain.py\", line 859, in album_requires_gain\r\n    for item in album.items()]) or \\\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/replaygain.py\", line 859, in <listcomp>\r\n    for item in album.items()]) or \\\r\n  File \"/usr/lib/python3.6/site-packages/beets/dbcore/db.py\", line 338, in __getattr__\r\n    raise AttributeError(u'no such field {0!r}'.format(key))\r\nAttributeError: no such field 'r128_item_gain'\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Archlinux\r\n* Python version: 3.6.1\r\n* beets version: 1.4.5\r\n* Turning off plugins made problem go away (yes/no): well, yes, but the functionality in question also went away ;)\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: ~/music\r\nlibrary: ~/data/music.db\r\n\r\nplugins: mpdstats chroma edit smartplaylist info replaygain\r\nsmartplaylist:\r\n    playlist_dir: ~/.config/mpd/playlists\r\n    playlists: [{name: all.m3u, query: ''}, {name: baroque.m3u, query: 'genre:baroque'}]\r\n    relative_to:\r\n    auto: yes\r\nreplaygain:\r\n    auto: no\r\n    backend: bs1770gain\r\n    overwrite: no\r\n    targetlevel: 89\r\n    r128: [Opus]\r\n    chunk_at: 5000\r\n    method: replaygain\r\n\r\nimport:\r\n    copy: no\r\n    write: no\r\nchroma:\r\n    auto: yes\r\nmpd:\r\n    music_directory: /home/gandalf3/music\r\n    rating: yes\r\n    rating_mix: 0.75\r\n    host: localhost\r\n    port: 6600\r\n    password: REDACTED\r\nedit:\r\n    albumfields: album albumartist\r\n    itemfields: track title artist album\r\n    ignore_fields: id path\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2615/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2595", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2595/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2595/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2595/events", "html_url": "https://github.com/beetbox/beets/issues/2595", "id": 236201183, "node_id": "MDU6SXNzdWUyMzYyMDExODM=", "number": 2595, "title": "metasync does not escape file names fully when querying amarok", "user": {"login": "aranc23", "id": 1986236, "node_id": "MDQ6VXNlcjE5ODYyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1986236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aranc23", "html_url": "https://github.com/aranc23", "followers_url": "https://api.github.com/users/aranc23/followers", "following_url": "https://api.github.com/users/aranc23/following{/other_user}", "gists_url": "https://api.github.com/users/aranc23/gists{/gist_id}", "starred_url": "https://api.github.com/users/aranc23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aranc23/subscriptions", "organizations_url": "https://api.github.com/users/aranc23/orgs", "repos_url": "https://api.github.com/users/aranc23/repos", "events_url": "https://api.github.com/users/aranc23/events{/privacy}", "received_events_url": "https://api.github.com/users/aranc23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-15T13:58:25Z", "updated_at": "2017-06-16T01:04:25Z", "closed_at": "2017-06-16T01:04:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nThe metasync plugin does not fully escape file names when querying amarok via dbus, \r\nin particular it does not escape double quotes which means any files with \" in them causes a dbus error.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n```sh\r\n[accx@a-lnx005:~/src/beets] (metasync-fixes)$ ./beet -vv metasync stuck out here\r\nuser configuration: /home/accx/.config/beets/config.yaml\r\ndata directory: /home/accx/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/accx/beets.db\r\nlibrary directory: /data/music\r\nSending event: library_opened\r\nTraceback (most recent call last):\r\n  File \"./beet\", line 23, in <module>\r\n    beets.ui.main()\r\n  File \"/home/accx/src/beets/beets/ui/__init__.py\", line 1256, in main\r\n    _raw_main(args)\r\n  File \"/home/accx/src/beets/beets/ui/__init__.py\", line 1243, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/home/accx/src/beets/beetsplug/metasync/__init__.py\", line 136, in func\r\n    meta_source.sync_from_source(item)\r\n  File \"/home/accx/src/beets/beetsplug/metasync/amarok.py\", line 74, in sync_from_source\r\n    results = self.collection.Query(self.queryXML % escape(basename(path)))\r\n  File \"/home/accx/.local/lib/python2.7/site-packages/dbus/proxies.py\", line 70, in __call__\r\n    return self._proxy_method(*args, **keywords)\r\n  File \"/home/accx/.local/lib/python2.7/site-packages/dbus/proxies.py\", line 145, in __call__\r\n    **keywords)\r\n  File \"/home/accx/.local/lib/python2.7/site-packages/dbus/connection.py\", line 651, in call_blocking\r\n    message, timeout)\r\ndbus.exceptions.DBusException: org.freedesktop.DBus.Error.InvalidArgs: Invalid XML: <query version=\"1.0\">                     <filters>                         <and><include field=\"filename\" value=\"24 - Beck - Untitled (\"Stuck Out Here...\").ogg\" /></and>                     </filters>                 </query>\r\n\r\n```\r\nIf I change the template for the XML query to dbus to use single quotes, then queries will fail when the file name contains single quotes.\r\n\r\nThe call to escape(basename(path))) on line 76 doesn't escape \" or ' and it should probably do so?\r\n\r\nIn a sane world my files wouldn't contain double or single quotes but some do...\r\n\r\n### Setup\r\n\r\n* OS: Fedora (not relevant)\r\n* beets version 1.4.4\r\n* Python version 2.7.13\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nconvert:\r\n    dest: ~/PhoneSync/Music\r\n    never_convert_lossy_files: yes\r\n    formats:\r\n        mp3: ffmpeg -i $source -y -vn -codec:a libmp3lame -qscale:a 1 $dest\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 $dest\r\n            extension: m4a\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    album_art_maxwidth: 0\r\n    format: mp3\r\n    auto: no\r\n    threads: 8\r\n    copy_album_art: no\r\n    tmpdir:\r\n    max_bitrate: 500\r\n\r\n    paths: {}\r\n    pretend: no\r\n    quiet: no\r\n    embed: yes\r\nmetasync:\r\n    source: amarok\r\n    amarok:\r\n        library: /home/accx/Music\r\n\r\nplugins: info bpd convert play metasync\r\ndirectory: /data/music\r\n\r\nimport:\r\n    copy: no\r\n    write: no\r\n    log: ~/log/beets.log\r\nplay:\r\n    command: /home/accx/deadbeef/deadbeef\r\n    use_folders: no\r\n    raw: no\r\n    warning_threshold: 100\r\n    relative_to:\r\nlibrary: ~/beets.db\r\nbpd:\r\n    volume: 100\r\n    host: ''\r\n    password: REDACTED\r\n    port: 6600\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2592", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2592/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2592/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2592/events", "html_url": "https://github.com/beetbox/beets/issues/2592", "id": 236019526, "node_id": "MDU6SXNzdWUyMzYwMTk1MjY=", "number": 2592, "title": "web: Use Unicode paths to send files on Windows under Python 2", "user": {"login": "robot3498712", "id": 1093577, "node_id": "MDQ6VXNlcjEwOTM1Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1093577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robot3498712", "html_url": "https://github.com/robot3498712", "followers_url": "https://api.github.com/users/robot3498712/followers", "following_url": "https://api.github.com/users/robot3498712/following{/other_user}", "gists_url": "https://api.github.com/users/robot3498712/gists{/gist_id}", "starred_url": "https://api.github.com/users/robot3498712/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robot3498712/subscriptions", "organizations_url": "https://api.github.com/users/robot3498712/orgs", "repos_url": "https://api.github.com/users/robot3498712/repos", "events_url": "https://api.github.com/users/robot3498712/events{/privacy}", "received_events_url": "https://api.github.com/users/robot3498712/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-14T21:48:44Z", "updated_at": "2017-06-15T21:51:50Z", "closed_at": "2017-06-15T21:51:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nbeets version 1.4.3\r\nPython version 2.7.11\r\nplugins: web\r\n\r\nPython 2.7.11 (v2.7.11:6d1b6a68f775, Dec  5 2015, 20:32:19) [MSC v.1500 32 bit (Intel)] on win32\r\n\r\nFollowing flask error was encountered when calling item/file method for non-ascii items:\r\n```\r\n[2017-06-14 21:36:27,233] ERROR in app: Exception on /item/52117/file [GET]\r\nTraceback (most recent call last):\r\n  File \"c:\\python\\lib\\site-packages\\flask\\app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"c:\\python\\lib\\site-packages\\flask\\app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"c:\\python\\lib\\site-packages\\flask_cors\\extension.py\", line 161, in wrapped_function\r\n    return cors_after_request(app.make_response(f(*args, **kwargs)))\r\n  File \"c:\\python\\lib\\site-packages\\flask\\app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"c:\\python\\lib\\site-packages\\flask\\app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"c:\\python\\lib\\site-packages\\flask\\app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"c:\\python\\lib\\site-packages\\beetsplug\\web\\__init__.py\", line 209, in item_file\r\n    attachment_filename=os.path.basename(util.py3_path(item.path)),\r\n  File \"c:\\python\\lib\\site-packages\\flask\\helpers.py\", line 549, in send_file\r\n    file = open(filename, 'rb')\r\nIOError: [Errno 2] No such file or directory: 'PATH_REDACTED\\\\01 Marta Kubis\\xcc\\x8cova\\xcc\\x81 - Tak Dej Se K Na\\xcc\\x81m A Projdem Svet.flac'\r\n127.0.0.1 - - [14/Jun/2017 21:36:27] \"GET /item/52117/file HTTP/1.1\" 500 -\r\n```\r\n\r\nhttps://github.com/beetbox/beets/blob/master/beetsplug/web/__init__.py\r\n\r\nUnicode path fixes it for me:\r\n```\r\ndef item_file(item_id):\r\n    item = g.lib.get_item(item_id)\r\n    response = flask.send_file(\r\n        unicode(item.path, \"utf-8\", errors=\"ignore\"),\r\n        as_attachment=True,\r\n        attachment_filename=os.path.basename(item.path),\r\n    )\r\n    response.headers['Content-Length'] = os.path.getsize(unicode(item.path, \"utf-8\", errors=\"ignore\"))\r\n    return response\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2592/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2548", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2548/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2548/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2548/events", "html_url": "https://github.com/beetbox/beets/issues/2548", "id": 226113959, "node_id": "MDU6SXNzdWUyMjYxMTM5NTk=", "number": 2548, "title": "Lyrics.com backend expect a wrong url scheme", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-03T21:03:07Z", "updated_at": "2017-05-04T13:35:42Z", "closed_at": "2017-05-04T13:35:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nLyrics.com backend is broken.\r\n\r\n\r\n```sh\r\n$ export BEETS_TEST_LYRICS_SOURCES=1\r\n$ nosetests -s -v test/test_lyrics.py\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n======================================================================\r\nFAIL: Test default backends with songs known to exist in respective databases.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/Users/flap/Dev/beets/test/test_lyrics.py\", line 316, in test_backend_sources_ok\r\n    self.assertFalse(errors)\r\nAssertionError: ['LyricsCom', 'MusiXmatch', 'Genius'] is not false\r\n-------------------- >> begin captured logging << --------------------\r\n[...]\r\nrequests.packages.urllib3.connectionpool: DEBUG: Starting new HTTP connection (1): www.lyrics.com\r\nrequests.packages.urllib3.connectionpool: DEBUG: http://www.lyrics.com:80 \"GET /the-beatles-lyrics-lady-madonna.html HTTP/1.1\" 301 20\r\nrequests.packages.urllib3.connectionpool: DEBUG: http://www.lyrics.com:80 \"GET /lyrics/the%20beatles%20by%20lady%20madonna HTTP/1.1\" 200 10372\r\n```\r\n\r\nThe song page *real* url is *http://www.lyrics.com/lyric/9853981* whereas the plugin try to fetch *http://www.lyrics.com/lyrics/the%20beatles%20by%20lady%20madonna*.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2548/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2545", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2545/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2545/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2545/events", "html_url": "https://github.com/beetbox/beets/issues/2545", "id": 226074452, "node_id": "MDU6SXNzdWUyMjYwNzQ0NTI=", "number": 2545, "title": "Genius lyrics backend fails on request error", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-03T18:28:42Z", "updated_at": "2017-10-09T22:53:48Z", "closed_at": "2017-10-09T22:53:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nCan't make the genius backend work.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ export BEETS_TEST_LYRICS_SOURCES=1\r\n$ nosetests -s -v test/test_lyrics.py\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\n======================================================================\r\nFAIL: Test default backends with songs known to exist in respective databases.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/Users/flap/Dev/beets/test/test_lyrics.py\", line 316, in test_backend_sources_ok\r\n    self.assertFalse(errors)\r\nAssertionError: ['LyricsCom', 'MusiXmatch', 'Genius'] is not false\r\n-------------------- >> begin captured logging << --------------------\r\n[...]\r\nbeets.lyrics: DEBUG: lyrics: genius: requesting search https://api.genius.com/search?q=The%20Beatles%20Lady%20Madonna\r\nrequests.packages.urllib3.connectionpool: DEBUG: Starting new HTTPS connection (1): api.genius.com\r\nrequests.packages.urllib3.connectionpool: DEBUG: https://api.genius.com:443 \"GET /search?q=The%20Beatles%20Lady%20Madonna HTTP/1.1\" 200 None\r\nbeets.lyrics: DEBUG: lyrics: genius: requesting lyrics for link https://genius.com/The-beatles-lady-madonna-lyrics\r\nrequests.packages.urllib3.connectionpool: DEBUG: Starting new HTTP connection (1): genius-api.com\r\nbeets.lyrics: DEBUG: lyrics: genius: request error: HTTPConnectionPool(host='genius-api.com', port=80): Max retries exceeded with url: /api/lyricsInfo (Caused by NewConnectionError('<requests.packages.urllib3.connection.HTTPConnection object at 0x104b29590>: Failed to establish a new connection: [Errno 8] nodename nor servname provided, or not known',))\r\n--------------------- >> end captured logging << ---------------------\r\n\r\n----------------------------------------------------------------------\r\nRan 17 tests in 15.582s\r\n\r\nFAILED (failures=1)\r\n```\r\n\r\n### Setup\r\n\r\n* beets version: Dev\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlyrics:\r\n    sources: google lyricwiki lyrics.com genius\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2545/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2532", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2532/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2532/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2532/events", "html_url": "https://github.com/beetbox/beets/issues/2532", "id": 225333241, "node_id": "MDU6SXNzdWUyMjUzMzMyNDE=", "number": 2532, "title": "web: Crash when serializing objects with bytes fields", "user": {"login": "ocelotsloth", "id": 9255772, "node_id": "MDQ6VXNlcjkyNTU3NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/9255772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ocelotsloth", "html_url": "https://github.com/ocelotsloth", "followers_url": "https://api.github.com/users/ocelotsloth/followers", "following_url": "https://api.github.com/users/ocelotsloth/following{/other_user}", "gists_url": "https://api.github.com/users/ocelotsloth/gists{/gist_id}", "starred_url": "https://api.github.com/users/ocelotsloth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ocelotsloth/subscriptions", "organizations_url": "https://api.github.com/users/ocelotsloth/orgs", "repos_url": "https://api.github.com/users/ocelotsloth/repos", "events_url": "https://api.github.com/users/ocelotsloth/events{/privacy}", "received_events_url": "https://api.github.com/users/ocelotsloth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-04-30T15:14:33Z", "updated_at": "2017-05-04T13:31:26Z", "closed_at": "2017-05-04T13:31:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nFor some reason the web interface is not working correctly. I can't actually get it to search for anything. When you type something into the search box nothing happens except for the following text being printed to the terminal.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv web\r\n```\r\nThen searching for something in the web interface gives this problem:\r\n\r\n```\r\n~\r\n\u2794 beet -vv web\r\n * Running on http://127.0.0.1:8337/ (Press CTRL+C to quit)\r\n127.0.0.1 - - [30/Apr/2017 11:05:15] \"GET / HTTP/1.1\" 200 -\r\n127.0.0.1 - - [30/Apr/2017 11:05:22] \"GET /item/query/isabel HTTP/1.1\" 200 -\r\nError on request:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/werkzeug/serving.py\", line 209, in run_wsgi\r\n    execute(self.server.app)\r\n  File \"/usr/lib/python3.6/site-packages/werkzeug/serving.py\", line 199, in execute\r\n    for data in application_iter:\r\n  File \"/usr/lib/python3.6/site-packages/werkzeug/wsgi.py\", line 704, in __next__\r\n    return self._next()\r\n  File \"/usr/lib/python3.6/site-packages/werkzeug/wrappers.py\", line 81, in _iter_encoded\r\n    for item in iterable:\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/web/__init__.py\", line 74, in json_generator\r\n    yield json.dumps(_rep(item, expand=expand))\r\n  File \"/usr/lib/python3.6/json/__init__.py\", line 231, in dumps\r\n    return _default_encoder.encode(obj)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 199, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 257, in iterencode\r\n    return _iterencode(o, 0)\r\n  File \"/usr/lib/python3.6/json/encoder.py\", line 180, in default\r\n    o.__class__.__name__)\r\nTypeError: Object of type 'bytes' is not JSON serializable\r\n```\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux\r\n* Python version: Python 3.6\r\n* beets version: 1.4.3\r\n* Turning off plugins made problem go away (yes/no): no, the problem is with the web plugin\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: ~/Music\r\nlibrary: ~/Music/musicLibrary.db\r\n\r\nimport:\r\n    move: yes\r\n\r\nplugins: chroma web\r\nacoustid:\r\n    apikey: REDACTED\r\nweb:\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\nchroma:\r\n    auto: yes\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2532/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2513", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2513/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2513/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2513/events", "html_url": "https://github.com/beetbox/beets/issues/2513", "id": 221549131, "node_id": "MDU6SXNzdWUyMjE1NDkxMzE=", "number": 2513, "title": "Date-valued field queries allow non-date values", "user": {"login": "discopatrick", "id": 254822, "node_id": "MDQ6VXNlcjI1NDgyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/254822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/discopatrick", "html_url": "https://github.com/discopatrick", "followers_url": "https://api.github.com/users/discopatrick/followers", "following_url": "https://api.github.com/users/discopatrick/following{/other_user}", "gists_url": "https://api.github.com/users/discopatrick/gists{/gist_id}", "starred_url": "https://api.github.com/users/discopatrick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/discopatrick/subscriptions", "organizations_url": "https://api.github.com/users/discopatrick/orgs", "repos_url": "https://api.github.com/users/discopatrick/repos", "events_url": "https://api.github.com/users/discopatrick/events{/privacy}", "received_events_url": "https://api.github.com/users/discopatrick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-13T12:30:52Z", "updated_at": "2017-04-19T15:38:59Z", "closed_at": "2017-04-19T15:38:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen querying on date-valued fields, such as added and mtime, non-date values (e.g. 'abcd') are allowed, and seem to output the full collection list. For example:\r\n\r\n```sh\r\n$ beet -vv list mtime:abcd\r\nno user configuration found at /Users/patrick/.config/beets/config.yaml\r\ndata directory: /Users/patrick/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /Users/patrick/.config/beets/library.db\r\nlibrary directory: /Users/patrick/Music\r\nSending event: library_opened\r\n... every item in my library ...\r\nSending event: cli_exit\r\n```\r\n\r\nI'm currently working on #2506 to extend the date parser, but I feel that this issue needs to be fixed first.\r\n\r\n### Setup\r\n\r\n* OS: OSX 10.11.6 El Capitan\r\n* Python version: 2.7.13\r\n* beets version: 1.4.4 (actually this commit: https://github.com/beetbox/beets/commit/45bed808d39fae2845ba4addbd71f31be2e485d4)\r\n* Turning off plugins made problem go away (yes/no): No, no plugins active.\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n{}\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2513/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2504", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2504/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2504/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2504/events", "html_url": "https://github.com/beetbox/beets/issues/2504", "id": 219372457, "node_id": "MDU6SXNzdWUyMTkzNzI0NTc=", "number": 2504, "title": "fetchart: Catch PIL file type exception (KeyError) when resizing art", "user": {"login": "Mycah", "id": 1263581, "node_id": "MDQ6VXNlcjEyNjM1ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/1263581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mycah", "html_url": "https://github.com/Mycah", "followers_url": "https://api.github.com/users/Mycah/followers", "following_url": "https://api.github.com/users/Mycah/following{/other_user}", "gists_url": "https://api.github.com/users/Mycah/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mycah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mycah/subscriptions", "organizations_url": "https://api.github.com/users/Mycah/orgs", "repos_url": "https://api.github.com/users/Mycah/repos", "events_url": "https://api.github.com/users/Mycah/events{/privacy}", "received_events_url": "https://api.github.com/users/Mycah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-04-04T20:26:41Z", "updated_at": "2018-09-10T20:10:27Z", "closed_at": "2018-09-10T20:10:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\n(Describe your problem, feature request, or discussion topic here. If you're reporting a bug, please fill out this and the \"Setup\" section below. Otherwise, you can delete them.)\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv fetchart -f albumartist:\"KMFDM\" album:\"Amnesia\"\r\nuser configuration: /home/mycah/.config/beets/config.yaml\r\ndata directory: /home/mycah/.config/beets\r\nplugin paths:\r\nSending event: pluginload\r\ninline: adding item field cdtitle\r\ninline: adding item field multidisc\r\ninline: adding item field initial\r\ninline: adding item field nicelength\r\ninline: adding album field cdtype\r\ninline: adding album field notalbum\r\nlibrary database: /home/mmattox/.beets.db\r\nlibrary directory: /home/mmattox/convertedMusic\r\nSending event: library_opened\r\nfetchart: trying source filesystem for album KMFDM - Amnesia\r\nfetchart: trying source coverart for album KMFDM - Amnesia\r\nImageMagick check `convert --version` failed: [Errno 2] No such file or directory: 'convert'\r\nartresizer: method is (1, (0,))\r\nfetchart: downloading image: https://coverartarchive.org/release/b0682581-89f9-430a-8d89-8fc931107a41/front\r\nfetchart: not a supported image: image/x-None\r\nfetchart: downloading image: https://coverartarchive.org/release-group/c9a6bd02-3045-4e9c-a61d-3b41dd2fcf65/front\r\nfetchart: downloaded art to: /tmp/tmp3i69k972.jpg\r\nfetchart: image size: (700, 700)\r\nfetchart: image needs resizing (700 > 600)\r\nfetchart: using remote image /tmp/tmp3i69k972.jpg\r\nartresizer: PIL resizing /tmp/tmp3i69k972.jpg to /tmp/tmpc9k_0qbc.jpg\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/PIL/Image.py\", line 1447, in save\r\n    format = EXTENSION[ext]\r\nKeyError: b'.jpg'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/PIL/Image.py\", line 1451, in save\r\n    format = EXTENSION[ext]\r\nKeyError: b'.jpg'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/beet\", line 9, in <module>\r\n    load_entry_point('beets==1.4.4', 'console_scripts', 'beet')()\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beets/ui/__init__.py\", line 1221, in main\r\n    _raw_main(args)\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beets/ui/__init__.py\", line 1208, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beetsplug/fetchart.py\", line 829, in func\r\n    self.batch_fetch_art(lib, lib.albums(ui.decargs(args)), opts.force)\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beetsplug/fetchart.py\", line 882, in batch_fetch_art\r\n    candidate = self.art_for_album(album, local_paths)\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beetsplug/fetchart.py\", line 865, in art_for_album\r\n    out.resize(self)\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beetsplug/fetchart.py\", line 143, in resize\r\n    self.path = ArtResizer.shared.resize(plugin.maxwidth, self.path)\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beets/util/artresizer.py\", line 184, in resize\r\n    return func(maxwidth, path_in, path_out)\r\n  File \"/usr/local/lib/python3.4/dist-packages/beets-1.4.4-py3.4.egg/beets/util/artresizer.py\", line 75, in pil_resize\r\n    im.save(path_out)\r\n  File \"/usr/lib/python3/dist-packages/PIL/Image.py\", line 1453, in save\r\n    raise KeyError(ext) # unknown extension\r\nKeyError: b'.jpg'\r\n\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nin my config:\r\n\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 350\r\n    maxwidth: 600\r\n\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): \r\n\r\n\r\n### Setup\r\n\r\n* OS: ubuntu 14.04\r\n* Python version: python 3.4.3\r\n* beets version: 1.4.4\r\n* Turning off plugins made problem go away (yes/no): plugin issue\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\n$ beet config\r\nlibrary: ~/.beets.db\r\n\r\nmatch:\r\n    preferred:\r\n        countries: [US, GB|UK]\r\n        original_year: yes\r\n\r\nreplace:\r\n    \"\\u2018\": ''''\r\n    \"\\u2019\": ''''\r\n    \"\\u201C\": '\"'\r\n    \"\\u201D\": '\"'\r\n    \"\\u2010\": '-'\r\n    \"\\u2011\": '-'\r\n    \"\\u2012\": '-'\r\n    \"\\u2013\": '-'\r\n    \"\\u2014\": '-'\r\n    \"\\u2015\": '-'\r\n    \"\\u2016\": '-'\r\n    \"\\u2026\": '...'\r\nitem_fields:\r\n    cdtitle: u' - %s' % (disctitle) if disctitle else u''\r\n    multidisc: 1 if disctotal > 1 else 0\r\n    initial: artist.lower().lstrip('[]*')[0]\r\n    nicelength: 'm, s = divmod(length, 60)\r\n\r\n        h, m = divmod(m, 60)\r\n\r\n        return \"%d:%02d:%02d\" % (h, m, s)\r\n\r\n        '\r\n\r\nimport:\r\n    log: ~/beets.log\r\n    write: yes\r\n    copy: yes\r\nalbum_fields:\r\n    cdtype: u'[%s]' % (albumtype.lower()) if albumtype else u''\r\n    notalbum: 0 if albumtype and albumtype.lower() == 'album' else 1\r\nconvert:\r\n    formats:\r\n        alac:\r\n            extension: m4a\r\n            command: avconv -i $source -y -vn -acodec alac $dest\r\n        ogg: avconv -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        flac: avconv -i $source -y -vn -acodec flac $dest\r\n        wma: avconv -i $source -y -vn -acodec wmav2 -vn $dest\r\n        mp3: avconv -i $source -y -vn -qscale:a 0 $dest\r\n        aac:\r\n            extension: m4a\r\n            command: avconv -i $source -y -vn -acodec libfaac -aq 100 $dest\r\n        opus: avconv -i $source -y -vn -acodec libopus -ab 96k $dest\r\n    max_bitrate: 500\r\n    embed: yes\r\n    dest:\r\n    copy_album_art: yes\r\n    threads: 4\r\n    never_convert_lossy_files: no\r\n    pretend: no\r\n    format: mp3\r\n    tmpdir:\r\n    quiet: no\r\n\r\n    paths: {}\r\n    auto: yes\r\n    album_art_maxwidth: 0\r\npathfields: {}\r\nper_disc_numbering: yes\r\nweb:\r\n    include_paths: no\r\n    cors: ''\r\n    port: 8337\r\n    host: 127.0.0.1\r\n\r\npaths:\r\n    default: albums/$albumartist/%if{$year,$year - }$album%aunique{albumdisambig label catalognum}%if{$multidisc, (disc$disc$cdtitle)}%if{$notalbum, $cdtype}/$track - $title\r\n    comp: albums/000 Various Artists/%if{$year,$year - }$album%aunique{albumdisambig label catalognum}%if{$multidisc, (disc$disc$cdtitle)}%if{$notalbum, $cdtype}/$track - $artist - $title\r\n    singleton: singles/$initial/$artist - $title\r\n\r\nplugins:\r\n- convert\r\n- duplicates\r\n- fromfilename\r\n- fuzzy\r\n- info\r\n- inline\r\n- lastgenre\r\n- mbsync\r\n- random\r\n- scrub\r\n- the\r\n- fetchart\r\n- embedart\r\nasciify_paths: no\r\ndirectory: ~/convertedMusic\r\nembedart:\r\n    auto: yes\r\n    maxwidth: 0\r\n    compare_threshold: 0\r\n    ifempty: no\r\n    remove_art_file: no\r\noriginal_date: yes\r\nfetchart:\r\n    auto: yes\r\n    minwidth: 350\r\n    maxwidth: 600\r\n    store_source: no\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    enforce_ratio: no\r\n    google_key: REDACTED\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    fanarttv_key: REDACTED\r\n    cautious: no\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\nfuzzy:\r\n    threshold: 0.7\r\n    prefix: '~'\r\nlastgenre:\r\n    fallback:\r\n    source: album\r\n    force: yes\r\n    count: 1\r\n    prefer_specific: no\r\n    min_weight: 10\r\n    canonical: no\r\n    auto: yes\r\n    whitelist: yes\r\n    separator: ', '\r\nthe:\r\n    a: yes\r\n    format: '{0}, {1}'\r\n    strip: no\r\n    patterns: []\r\n    the: yes\r\nscrub:\r\n    auto: yes\r\nduplicates:\r\n    path: no\r\n    copy: ''\r\n    move: ''\r\n    merge: no\r\n    checksum: ''\r\n    strict: no\r\n    tiebreak: {}\r\n    full: no\r\n    delete: no\r\n    count: no\r\n    album: no\r\n    format: ''\r\n    tag: ''\r\n    keys: []\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2504/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2501", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2501/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2501/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2501/events", "html_url": "https://github.com/beetbox/beets/issues/2501", "id": 218780481, "node_id": "MDU6SXNzdWUyMTg3ODA0ODE=", "number": 2501, "title": "Use preferred country to select release event within each release", "user": {"login": "djl", "id": 11758, "node_id": "MDQ6VXNlcjExNzU4", "avatar_url": "https://avatars.githubusercontent.com/u/11758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djl", "html_url": "https://github.com/djl", "followers_url": "https://api.github.com/users/djl/followers", "following_url": "https://api.github.com/users/djl/following{/other_user}", "gists_url": "https://api.github.com/users/djl/gists{/gist_id}", "starred_url": "https://api.github.com/users/djl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djl/subscriptions", "organizations_url": "https://api.github.com/users/djl/orgs", "repos_url": "https://api.github.com/users/djl/repos", "events_url": "https://api.github.com/users/djl/events{/privacy}", "received_events_url": "https://api.github.com/users/djl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-02T17:48:11Z", "updated_at": "2017-04-03T16:17:51Z", "closed_at": "2017-04-03T16:17:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When manually selecting a release during import (e.g. by using the MusicBrainz ID or via search) that contains multiple countries, it seems like preferred countries are ignored in favor of the first country in the list.\r\n\r\nFor example, in [this release](https://musicbrainz.org/release/f7304df7-2e3d-461a-b05f-442d330c1bf6) there are multiple countries. With the following config the preferred countries are ignored and Canada is selected instead:\r\n\r\n    match:\r\n      preferred:\r\n        countries: ['XW', 'US', 'GB', 'XE']\r\n\r\nThe same also happens if you call `mbsync` and the country has been updated.\r\n\r\nShould the importer also handle selecting preferred metadata when multiple options are available? Does it handle this already and I'm just doing it wrong?", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2501/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2493", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2493/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2493/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2493/events", "html_url": "https://github.com/beetbox/beets/issues/2493", "id": 216999225, "node_id": "MDU6SXNzdWUyMTY5OTkyMjU=", "number": 2493, "title": "Import of a multidisc release is broken if it has subdirectories", "user": {"login": "antlarr", "id": 4385446, "node_id": "MDQ6VXNlcjQzODU0NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/4385446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antlarr", "html_url": "https://github.com/antlarr", "followers_url": "https://api.github.com/users/antlarr/followers", "following_url": "https://api.github.com/users/antlarr/following{/other_user}", "gists_url": "https://api.github.com/users/antlarr/gists{/gist_id}", "starred_url": "https://api.github.com/users/antlarr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antlarr/subscriptions", "organizations_url": "https://api.github.com/users/antlarr/orgs", "repos_url": "https://api.github.com/users/antlarr/repos", "events_url": "https://api.github.com/users/antlarr/events{/privacy}", "received_events_url": "https://api.github.com/users/antlarr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-25T19:51:50Z", "updated_at": "2017-03-28T02:32:12Z", "closed_at": "2017-03-28T02:32:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nI have a directory structure like:\r\n```\r\n/music/artist/album/CD1/*.mp3\r\n/music/artist/album/CD1/info/*.txt\r\n/music/artist/album/CD1/covers/*.jpg\r\n/music/artist/album/CD2/*.mp3\r\n/music/artist/album/CD2/info/*.txt\r\n/music/artist/album/CD2/covers/*.jpg\r\n/music/artist/album/CD3/*.mp3\r\n/music/artist/album/CD3/info/*.txt\r\n/music/artist/album/CD3/covers/*.jpg\r\n```\r\n\r\nWhen importing such a directory structure with beets, the importer doesn't \r\ncollapse the paths since it has subdirectories that \"break\" the pattern matching.\r\nAll the contents of CD1/CD2/CD3 directories should be colllapsed into the same release, as [the documentation says](http://beets.readthedocs.io/en/v1.3.17/guides/tagger.html#overview) :\r\n\r\n```\r\nFirst, directories that look like separate parts of a multi-disc album are tagged\r\ntogether as a single release. If two adjacent albums have a common prefix,\r\nfollowed by \u201cdisc,\u201d \u201cdisk,\u201d or \u201cCD\u201d and then a number, they are tagged together.\r\n```\r\n\r\n### Setup\r\n\r\n* OS:  openSUSE Tumbleweed\r\n* Python version: 3.6\r\n* beets version: git master\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2493/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2490", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2490/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2490/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2490/events", "html_url": "https://github.com/beetbox/beets/issues/2490", "id": 216581144, "node_id": "MDU6SXNzdWUyMTY1ODExNDQ=", "number": 2490, "title": "Regression in play plugin: no CLI output on successful play.", "user": {"login": "nathdwek", "id": 5646609, "node_id": "MDQ6VXNlcjU2NDY2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5646609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathdwek", "html_url": "https://github.com/nathdwek", "followers_url": "https://api.github.com/users/nathdwek/followers", "following_url": "https://api.github.com/users/nathdwek/following{/other_user}", "gists_url": "https://api.github.com/users/nathdwek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathdwek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathdwek/subscriptions", "organizations_url": "https://api.github.com/users/nathdwek/orgs", "repos_url": "https://api.github.com/users/nathdwek/repos", "events_url": "https://api.github.com/users/nathdwek/events{/privacy}", "received_events_url": "https://api.github.com/users/nathdwek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-03-23T21:40:43Z", "updated_at": "2017-04-04T08:04:31Z", "closed_at": "2017-03-28T14:09:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems 8d972576 and friends have introduced a small regression in the play plugin: there is no output anymore on successful play indicating the number of tracks queued. This does not seem to be desired, as there is still this snippet left in the code:\r\n```python\r\n# Print number of tracks or albums to be played, log command to be run.\r\nitem_type += 's' if len(selection) > 1 else ''\r\nui.print_(u'Playing {0} {1}.'.format(len(selection), item_type))\r\nlog.debug(u'executing command: {} {!r}', command_str, open_args)\r\n```\r\n\r\nI suppose the weird `ui.print_` (as opposed to use the dedicated logger) lost in there is responsible for this.\r\n\r\n@diomekes: would it be possible for you to parse this section real quick to see what was the intention here and if there is indeed a quick fix?\r\n\r\nRepro:\r\n```\r\nbeets version 1.4.4\r\nPython version 3.5.2+\r\nplugins: chroma, convert, discogs, duplicates, embedart, fetchart, info, missing, play, random, zero\r\n```\r\nUbuntu 16.10\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2490/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2490/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2488", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2488/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2488/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2488/events", "html_url": "https://github.com/beetbox/beets/issues/2488", "id": 216216414, "node_id": "MDU6SXNzdWUyMTYyMTY0MTQ=", "number": 2488, "title": "convert: Close stdin for ffmpeg subprocesses", "user": {"login": "jansol", "id": 2588851, "node_id": "MDQ6VXNlcjI1ODg4NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2588851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jansol", "html_url": "https://github.com/jansol", "followers_url": "https://api.github.com/users/jansol/followers", "following_url": "https://api.github.com/users/jansol/following{/other_user}", "gists_url": "https://api.github.com/users/jansol/gists{/gist_id}", "starred_url": "https://api.github.com/users/jansol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jansol/subscriptions", "organizations_url": "https://api.github.com/users/jansol/orgs", "repos_url": "https://api.github.com/users/jansol/repos", "events_url": "https://api.github.com/users/jansol/events{/privacy}", "received_events_url": "https://api.github.com/users/jansol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-22T21:38:46Z", "updated_at": "2017-04-24T18:31:05Z", "closed_at": "2017-04-24T18:31:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nSometimes when running multiple consecutive beets commands, stdio gets confused and the enter key stops working. Seems to happen particularly often with the convert plugin, but I have also observed it when importing.\r\n\r\nSteps to reproduce:\r\n1. convert any album with `beet convert -a foo`, just hit enter in the confirmation prompt\r\n2. try to convert another album with `beet convert -a bar`, hit enter in the confirmation prompt\r\n3. instead a newline, a literal \"^M\" appears when pressing either the enter key or ^M\r\n4. kill beets with ^C and run `reset`\r\n5. try 2. again, now it works as expected\r\n\r\n### Setup\r\n\r\n* OS: NixOS 17.09pre102667.2839b10 (Linux 4.9.13)\r\n* Python version: 2.7.13\r\n* beets version: 1.4.3\r\n* Turning off plugins made problem go away (yes/no): -\r\n\r\nMy configuration (output of `beet config`) is:\r\n```yaml\r\nmpd:\r\n    password: REDACTED\r\n    rating: yes\r\n    rating_mix: 0.75\r\n    host: localhost\r\n    music_directory: /media/music\r\n    port: 6600\r\nfetchart:\r\n    sources: [filesystem]\r\n    store_source: yes\r\n    auto: yes\r\n    minwidth: 0\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    enforce_ratio: no\r\n    cautious: no\r\n    maxwidth: 0\r\n    google_key: REDACTED\r\n    fanarttv_key: REDACTED\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\nplay:\r\n    command: mpc insert\r\n    relative_to: /media/music\r\n    warning_treshold: 30\r\n    raw: yes\r\n    use_folders: no\r\n    warning_threshold: 100\r\n\r\nreplace:\r\n    '[\\\\/]': _\r\n    ^\\.: _\r\n    '[\\x00-\\x1f]': _\r\n    '[<>:\"\\?\\*\\|]': _\r\n    \\.$: _\r\n    \\s+$: ''\r\n    ^\\s+: ''\r\nreplaygain:\r\n    backend: bs1770gain\r\n    method: ebu\r\n    targetlevel: 89\r\n    auto: yes\r\n    overwrite: no\r\n    chunk_at: 5000\r\n\r\nplugins: acousticbrainz badfiles convert edit embedart fetchart ftintitle fuzzy info keyfinder mbsync missing mpdstats mpdupdate play replaygain random the web\r\nfuzzy:\r\n    prefix: \"\\xA7\"\r\n    threshold: 0.7\r\nignore_hidden: yes\r\n\r\npaths:\r\n    default: '%the{$albumartist}/%the{$album}/$track-$title'\r\n    singleton: '%the{$artist}-%the{$title}'\r\n    comp: '%the{$album}/$track-$title'\r\n    albumtype:soundtrack: Soundtracks/%the{$album}/$track-$title\r\n    albumtype:single: '%the{$albumartist}/%the{$album}/$track-$title'\r\nconvert:\r\n    embed: yes\r\n    album_art_maxwidth: 900\r\n    format: aac\r\n    dest: /nas/media/library_aac\r\n    copy_album_art: yes\r\n    formats:\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec aac -aq 1 -ar 48k $dest\r\n            extension: m4a\r\n        opus:\r\n            command: ffmpeg -i $source -y -vn -acodec libopus -ab 128k $dest\r\n        version:\r\n            command: ffmpeg\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 3 $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    never_convert_lossy_files: no\r\n    auto: no\r\n    threads: 4\r\n    tmpdir:\r\n    max_bitrate: 500\r\n\r\n    paths: {}\r\n    pretend: no\r\n    quiet: no\r\nthreaded: yes\r\nart_filename: folder\r\nignore: .AppleDouble ._* *~ .DS_Store\r\n\r\nui:\r\n    color: yes\r\ndirectory: /media/music\r\n\r\nimport:\r\n    incremental: yes\r\nthe:\r\n    a: yes\r\n    patterns: []\r\n    the: yes\r\n    strip: no\r\n    format: '{0}, {1}'\r\nweb:\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\nkeyfinder:\r\n    bin: keyfinder-cli\r\n    auto: yes\r\n    overwrite: no\r\nmissing:\r\n    count: no\r\n    total: no\r\nedit:\r\n    itemfields: track title artist album\r\n    albumfields: album albumartist\r\n    ignore_fields: id path\r\nftintitle:\r\n    auto: yes\r\n    drop: no\r\n    format: feat. {0}\r\nacousticbrainz:\r\n    auto: yes\r\n    force: no\r\nembedart:\r\n    compare_threshold: 0\r\n    auto: yes\r\n    ifempty: no\r\n    remove_art_file: no\r\n    maxwidth: 0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2488/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2488/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2467", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2467/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2467/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2467/events", "html_url": "https://github.com/beetbox/beets/issues/2467", "id": 211814099, "node_id": "MDU6SXNzdWUyMTE4MTQwOTk=", "number": 2467, "title": "importfeeds: Configuration error due to handling of \"dir\" option on Python 3", "user": {"login": "Armael", "id": 315125, "node_id": "MDQ6VXNlcjMxNTEyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/315125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Armael", "html_url": "https://github.com/Armael", "followers_url": "https://api.github.com/users/Armael/followers", "following_url": "https://api.github.com/users/Armael/following{/other_user}", "gists_url": "https://api.github.com/users/Armael/gists{/gist_id}", "starred_url": "https://api.github.com/users/Armael/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Armael/subscriptions", "organizations_url": "https://api.github.com/users/Armael/orgs", "repos_url": "https://api.github.com/users/Armael/repos", "events_url": "https://api.github.com/users/Armael/events{/privacy}", "received_events_url": "https://api.github.com/users/Armael/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 393039019, "node_id": "MDU6TGFiZWwzOTMwMzkwMTk=", "url": "https://api.github.com/repos/beetbox/beets/labels/python%203", "name": "python 3", "color": "fbca04", "default": false, "description": "Arises from the Python 2->3 transition."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-03T22:03:02Z", "updated_at": "2017-08-20T10:29:13Z", "closed_at": "2017-08-20T10:29:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nRunning `beet import /my/album` terminates with the following message: `configuration error: importfeeds.dir: must be a filename, not bytes`.\r\n\r\n### Setup\r\n\r\n* OS: Archlinux\r\n* Python version: 3.6.0\r\n* beets version: 1.4.4 (latest git)\r\n* Turning off plugins made problem go away: yes\r\n\r\nThe output of `beet config` is:\r\n\r\n```yaml\r\nimportfeeds:\r\n    dir: !!binary |\r\n        L3Bvb2wvbXVzaXF1ZQ==\r\n    relative_to:\r\n    formats: m3u\r\n    m3u_name: imported.m3u\r\n    absolute_path: no\r\ndirectory: /pool/musique\r\nlibrary: /pool/musiclibrary.blb\r\n\r\nplugins: fromfilename embedart fetchart lastgenre thumbnails importfeeds\r\nembedart:\r\n    ifempty: yes\r\n    maxwidth: 0\r\n    auto: yes\r\n    compare_threshold: 0\r\n    remove_art_file: no\r\nfetchart:\r\n    enforce_ratio: 5%\r\n    auto: yes\r\n    minwidth: 0\r\n    maxwidth: 0\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    sources:\r\n    - filesystem\r\n    - coverart\r\n    - itunes\r\n    - amazon\r\n    - albumart\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    store_source: no\r\nlastgenre:\r\n    count: 5\r\n    force: no\r\n    whitelist: yes\r\n    min_weight: 10\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\n\r\nimport:\r\n    log: /pool/beets_import.log\r\nthumbnails:\r\n    auto: yes\r\n    force: no\r\n    dolphin: no\r\n```\r\nThe `~/.config/beets/config.yaml` itself is:\r\n\r\n```yaml\r\ndirectory: /pool/musique\r\nlibrary: /pool/musiclibrary.blb\r\n\r\nplugins: fromfilename embedart fetchart lastgenre thumbnails importfeeds\r\n\r\nembedart:\r\n    ifempty: yes\r\n\r\nfetchart:\r\n    enforce_ratio: 5%\r\n\r\nlastgenre:\r\n    count: 5\r\n    force: no\r\n\r\nimport:\r\n#    incremental: yes                                                                                                                                                                                               \r\n    log: /pool/beets_import.log\r\n\r\nimportfeeds:\r\n    formats: m3u\r\n```", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2467/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2459", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2459/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2459/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2459/events", "html_url": "https://github.com/beetbox/beets/issues/2459", "id": 210367204, "node_id": "MDU6SXNzdWUyMTAzNjcyMDQ=", "number": 2459, "title": "Lastgenre plugin crashes with canonical_tree: yes and prefer_specific: yes", "user": {"login": "dropofwill", "id": 3129448, "node_id": "MDQ6VXNlcjMxMjk0NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/3129448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dropofwill", "html_url": "https://github.com/dropofwill", "followers_url": "https://api.github.com/users/dropofwill/followers", "following_url": "https://api.github.com/users/dropofwill/following{/other_user}", "gists_url": "https://api.github.com/users/dropofwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/dropofwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dropofwill/subscriptions", "organizations_url": "https://api.github.com/users/dropofwill/orgs", "repos_url": "https://api.github.com/users/dropofwill/repos", "events_url": "https://api.github.com/users/dropofwill/events{/privacy}", "received_events_url": "https://api.github.com/users/dropofwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-27T01:28:19Z", "updated_at": "2017-06-11T00:48:24Z", "closed_at": "2017-06-11T00:48:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen using the default canonical tree whenever a genre is unmatched [`_get_depth(genre)`](https://github.com/beetbox/beets/blob/4ae02e0d27996cec36e26c4df8c5d3fcfdf717de/beetsplug/lastgenre/__init__.py#L162) will return `None`, which when combined with `prefer_specific` will try to sort this None against a bunch of ints. For example Tycho will return this list (note `(None, chillout)`):\r\n\r\n```\r\n[(0, 'electronic'), (1, 'ambient'), (2, 'post-rock'), (1, 'alternative rock'), (0, 'rock'), (1, 'downtempo'), (None, 'chillout'), (2, 'shoegaze'), (2, 'idm'), (1, 'electronica')]\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.3', 'console_scripts', 'beet')()\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1209, in main\r\n    _raw_main(args)\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1196, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beetsplug/lastgenre/__init__.py\", line 380, in lastgenre_func\r\n    album.genre, src = self._get_genre(album)\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beetsplug/lastgenre/__init__.py\", line 322, in _get_genre\r\n    result = self.fetch_album_genre(obj)\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beetsplug/lastgenre/__init__.py\", line 273, in fetch_album_genre\r\n    u'album', LASTFM.get_album, obj.albumartist, obj.album\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beetsplug/lastgenre/__init__.py\", line 265, in _last_lookup\r\n    genre = self.fetch_genre(method(*args_replaced))\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beetsplug/lastgenre/__init__.py\", line 228, in fetch_genre\r\n    return self._resolve_genres(self._tags_for(lastfm_obj, min_weight))\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beetsplug/lastgenre/__init__.py\", line 213, in _resolve_genres\r\n    tags = self._sort_by_depth(tags)\r\n  File \"/Users/wpaul/.asdf/installs/python/3.6.0/lib/python3.6/site-packages/beetsplug/lastgenre/__init__.py\", line 178, in _sort_by_depth\r\n    depth_tag_pairs.sort(reverse=True)\r\nTypeError: '<' not supported between instances of 'NoneType' and 'int'\r\n```\r\n\r\nMy quick fix was to call [_get_depth in a guard](https://github.com/beetbox/beets/blob/4ae02e0d27996cec36e26c4df8c5d3fcfdf717de/beetsplug/lastgenre/__init__.py#L176):\r\n\r\n```\r\ndepth_tag_pairs = [(self._get_depth(t), t) for t in tags if self._get_depth(t) != None]\r\n```\r\n\r\nObviously we shouldn't be calling this twice without memoizing.\r\n\r\n### Setup\r\n\r\n* OS: macOS Sierra\r\n* Python version: 3.6.0\r\n* beets version: 1.4.3\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nlastgenre:\r\n  canonical: yes\r\n  count: 3\r\n  prefer_specific: yes\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2459/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2443", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2443/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2443/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2443/events", "html_url": "https://github.com/beetbox/beets/issues/2443", "id": 208737449, "node_id": "MDU6SXNzdWUyMDg3Mzc0NDk=", "number": 2443, "title": "On Python 3, rarfile<3.0 does not support bytes filename", "user": {"login": "Lompik", "id": 3791334, "node_id": "MDQ6VXNlcjM3OTEzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3791334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lompik", "html_url": "https://github.com/Lompik", "followers_url": "https://api.github.com/users/Lompik/followers", "following_url": "https://api.github.com/users/Lompik/following{/other_user}", "gists_url": "https://api.github.com/users/Lompik/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lompik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lompik/subscriptions", "organizations_url": "https://api.github.com/users/Lompik/orgs", "repos_url": "https://api.github.com/users/Lompik/repos", "events_url": "https://api.github.com/users/Lompik/events{/privacy}", "received_events_url": "https://api.github.com/users/Lompik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 393039019, "node_id": "MDU6TGFiZWwzOTMwMzkwMTk=", "url": "https://api.github.com/repos/beetbox/beets/labels/python%203", "name": "python 3", "color": "fbca04", "default": false, "description": "Arises from the Python 2->3 transition."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-02-19T18:50:16Z", "updated_at": "2017-02-22T02:44:08Z", "closed_at": "2017-02-22T02:43:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nImporting  rar files does not work anymore. It used to work with beets `1.4.2` and below.\r\n\r\nThe underlying problem is that `is_rarfile` does no accept bytes (and `toppath` variable is byte). See this commit https://github.com/markokr/rarfile/commit/7d7a2cbf04cf4572c26e38ba18b5fe0b049cd850 where future versions (once or twice a year) of `rarfile` will gladly accepts bytes.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\nbeet -vv import /mnt/E/Album\\ -\\ group.rar\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nuser configuration: /home/lompik/.config/beets/config.yaml\r\ndata directory: /home/lompik/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /home/lompik/.data/musiklibrary.blb\r\nlibrary directory: /mnt/music\r\nSending event: library_opened\r\nSending event: import_begin\r\nExtracting archive: /mnt/E/Album - group.rar\r\nextraction failed: Invalid object passed as file\r\nNo files imported from /mnt/E/Album - group.rar\r\nSending event: import\r\nSending event: cli_exit\r\n```\r\n\r\n\r\n\r\n### Setup\r\n\r\n* OS: Linux\r\n* Python version: 3.6\r\n* beets version: 1.4.3  / rafile version: 3.0\r\n* Turning off plugins made problem go away (yes/no): no\r\n\r\n\r\nEDIT: change filename", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2443/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2430", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2430/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2430/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2430/events", "html_url": "https://github.com/beetbox/beets/issues/2430", "id": 206192166, "node_id": "MDU6SXNzdWUyMDYxOTIxNjY=", "number": 2430, "title": "badfiles: Continue to other files if validator command is not found or exits with an error", "user": {"login": "karpinski", "id": 10697044, "node_id": "MDQ6VXNlcjEwNjk3MDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/10697044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karpinski", "html_url": "https://github.com/karpinski", "followers_url": "https://api.github.com/users/karpinski/followers", "following_url": "https://api.github.com/users/karpinski/following{/other_user}", "gists_url": "https://api.github.com/users/karpinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/karpinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karpinski/subscriptions", "organizations_url": "https://api.github.com/users/karpinski/orgs", "repos_url": "https://api.github.com/users/karpinski/repos", "events_url": "https://api.github.com/users/karpinski/events{/privacy}", "received_events_url": "https://api.github.com/users/karpinski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-08T13:03:11Z", "updated_at": "2017-03-15T18:37:51Z", "closed_at": "2017-03-15T18:37:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The execution exits with an error if mp3val or flac validators aren't installed. On the other hand, for extensions other than mp3 or flac which aren't included in the plugin's config, information is logged that the validator is missing and the execution moves on to checking the rest of the files.\r\n\r\nI think this behaviour should be consistent for all extensions, also in cases when a validator is specified in the plugin's config, but it's not actually installed.\r\n\r\nI am happy to send a PR with a fix for this!", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2430/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2426", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2426/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2426/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2426/events", "html_url": "https://github.com/beetbox/beets/issues/2426", "id": 204613721, "node_id": "MDU6SXNzdWUyMDQ2MTM3MjE=", "number": 2426, "title": "Incorrect ReplayGain tag writing for AAC files", "user": {"login": "apastuszak", "id": 3401054, "node_id": "MDQ6VXNlcjM0MDEwNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3401054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apastuszak", "html_url": "https://github.com/apastuszak", "followers_url": "https://api.github.com/users/apastuszak/followers", "following_url": "https://api.github.com/users/apastuszak/following{/other_user}", "gists_url": "https://api.github.com/users/apastuszak/gists{/gist_id}", "starred_url": "https://api.github.com/users/apastuszak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apastuszak/subscriptions", "organizations_url": "https://api.github.com/users/apastuszak/orgs", "repos_url": "https://api.github.com/users/apastuszak/repos", "events_url": "https://api.github.com/users/apastuszak/events{/privacy}", "received_events_url": "https://api.github.com/users/apastuszak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-02-01T15:24:40Z", "updated_at": "2017-04-12T12:47:36Z", "closed_at": "2017-02-05T05:14:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI used beets convert to convert my music library from FLAC to AAC using ffmpeg and libfdk_aac.  The following command is being used to do the conversion in the config.yaml.\r\n\r\ncommand: ffmpeg -i $source -c:a libfdk_aac -b:a 256k $dest\r\n\r\nIt appears album gain information is being written improperly.  album gain, album peak, and track peak values are identical, and foobar2000 claims the files have no album gain info.\r\n\r\n**Running this command in verbose (`-vv`) mode:**\r\n\r\n```\r\nuser configuration: /home/andy/.config/beets/config.yaml\r\ndata directory: /home/andy/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlyrics: Disabling google source: no API key configured.\r\nrewrite: adding template field artist \u30b7\u30fc\u30c8\u30d9\u30eb\u30c4\r\ninline: adding item field multidisc\r\nlibrary database: /home/andy/Documents/library.db\r\nlibrary directory: /mnt/storage/music_library\r\nSending event: library_opened\r\nBleachers - Strange Desire - Wild Heart\r\nBleachers - Strange Desire - Rollercoaster\r\nBleachers - Strange Desire - Shadow\r\nBleachers - Strange Desire - I Wanna Get Better\r\nBleachers - Strange Desire - Wake Me\r\nBleachers - Strange Desire - Reckless Love\r\nBleachers - Strange Desire - Take Me Away feat. Grimes\r\nBleachers - Strange Desire - Like a River Runs\r\nBleachers - Strange Desire - You're Still a Mystery\r\nBleachers - Strange Desire - I'm Ready to Move On / Wild Heart Reprise feat. Yoko Ono\r\nBleachers - Strange Desire - Who I Want You to Love\r\nConvert? (Y/n) y\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/01 Wild Heart.flac\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/02 Rollercoaster.flac\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/04 I Wanna Get Better.flac\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/03 Shadow.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/02 Rollercoaster.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/05 Wake Me.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/01 Wild Heart.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/06 Reckless Love.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/04 I Wanna Get Better.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/07 Take Me Away feat. Grimes.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/03 Shadow.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/08 Like a River Runs.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/05 Wake Me.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/09 You're Still a Mystery.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/07 Take Me Away feat. Grimes.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/10 I'm Ready to Move On _ Wild Heart Reprise feat. Yoko Ono.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/06 Reckless Love.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Encoding /mnt/storage/music_library/Bleachers/Strange Desire/11 Who I Want You to Love.flac\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/08 Like a River Runs.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/09 You're Still a Mystery.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/10 I'm Ready to Move On _ Wild Heart Reprise feat. Yoko Ono.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nconvert: Finished encoding /mnt/storage/music_library/Bleachers/Strange Desire/11 Who I Want You to Love.flac\r\nSending event: write\r\nSending event: after_write\r\nconvert: embedding album art from /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nconvert: embedding /mnt/storage/music_library/Bleachers/Strange Desire/cover.jpg\r\nSending event: write\r\nSending event: after_write\r\nSending event: after_convert\r\nSending event: cli_exit\r\n```\r\n\r\n**beet info on the track Roller Coaster:**\r\n\r\n```\r\n/mnt/storage/music_library/Bleachers/Strange Desire/02 Rollercoaster.flac\r\nacoustid_fingerprint: \r\n         acoustid_id: \r\n               album: Strange Desire\r\n         albumartist: Bleachers\r\n  albumartist_credit: Bleachers\r\n    albumartist_sort: Bleachers\r\n       albumdisambig: \r\n         albumstatus: Official\r\n           albumtype: album\r\n                 art: True\r\n              artist: Bleachers\r\n       artist_credit: Bleachers\r\n         artist_sort: Bleachers\r\n                asin: B00KFU303O\r\n            bitdepth: 16\r\n             bitrate: 976388\r\n                 bpm: 0\r\n          catalognum: 307166\r\n            channels: 2\r\n            comments: \r\n                comp: False\r\n            composer: \r\n             country: US\r\n                date: 2014-07-15\r\n                 day: 15\r\n                disc: 1\r\n           disctitle: \r\n           disctotal: 1\r\n             encoder: FLAC 1.2.1\r\n              format: FLAC\r\n               genre: Indie Pop, Alternative Rock, Rock\r\n              genres: Indie Pop, Alternative Rock, Rock\r\n            grouping: Alternative\r\n               label: RCA\r\n            language: eng\r\n              length: 188.866666667\r\n              lyrics: It was summer when I saw your face\r\nBut like a teenage runaway\r\nOh god I never thought we'd take it that far\r\nSome killer queen you are\r\n\r\nNow I'm running and I can't stop anywhere I go\r\nI think about it everyday and night I can't let go\r\nMan, I'm never the same\r\nWe were shot gun lovers I was shot gun running away\r\n\r\nSo come a little closer\r\nThere was something I could tell ya\r\nYou were such a rollercoaster\r\nAnd a killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer queen you are\r\n\r\nWe took the bones out from the road\r\nThose endless nights that we traveled we stole\r\nYou let your clothes fall to the floor\r\nAnd lit a fire while I waited for more\r\n\r\nNow I'm running and I won't stop I don't wanna go\r\nI think about it everyday and night I can't let go\r\nAnd hey, I'm never the same\r\nIt's a hundred miles an hour on a dirt road running away\r\n\r\nSo come a little closer\r\nThere was something I could tell ya\r\nYou were such a rollercoaster\r\nAnd a killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer claimed it all\r\n\r\nCome a little closer\r\nI'm sure, come a little closer\r\n\r\nWhy don't you come a little closer\r\nThere was something I could tell ya\r\nYou were such a rollercoaster\r\nSome killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer queen you are\r\n    mb_albumartistid: 58e235fc-f6ea-4614-9ed4-9855a5665ae1\r\n          mb_albumid: c2418376-2c16-416d-84a6-bd045f0464dd\r\n         mb_artistid: 58e235fc-f6ea-4614-9ed4-9855a5665ae1\r\n   mb_releasegroupid: aa6d9840-3382-430e-9282-df8df90bfe9a\r\n          mb_trackid: b229b809-b822-48b3-9166-f746047a4307\r\n               media: CD\r\n               month: 7\r\n       original_date: 2014-07-15\r\n        original_day: 15\r\n      original_month: 7\r\n       original_year: 2014\r\n       rg_album_gain: -8.51\r\n       rg_album_peak: 1.000031\r\n       rg_track_gain: -10.28\r\n       rg_track_peak: 1.000031\r\n          samplerate: 44100\r\n              script: Latn\r\n               title: Rollercoaster\r\n               track: 2\r\n          tracktotal: 11\r\n                year: 2014\r\n```\r\n\r\n**AAC File beet info**\r\n\r\n```\r\n/home/andy/lossy-music/Bleachers/Strange Desire/02 Rollercoaster.m4a\r\nacoustid_fingerprint: \r\n         acoustid_id: \r\n               album: Strange Desire\r\n         albumartist: Bleachers\r\n  albumartist_credit: Bleachers\r\n    albumartist_sort: Bleachers\r\n       albumdisambig: \r\n         albumstatus: Official\r\n           albumtype: album\r\n            arranger: \r\n                 art: True\r\n              artist: Bleachers\r\n       artist_credit: Bleachers\r\n         artist_sort: Bleachers\r\n                asin: B00KFU303O\r\n            bitdepth: 16\r\n             bitrate: 256006\r\n                 bpm: 0\r\n          catalognum: 307166\r\n            channels: 2\r\n            comments: \r\n                comp: False\r\n            composer: \r\n             country: US\r\n                date: 2014-07-15\r\n                 day: 15\r\n                disc: 1\r\n           disctitle: \r\n           disctotal: 1\r\n             encoder: FLAC 1.2.1\r\n              format: AAC\r\n               genre: Indie Pop, Alternative Rock, Rock\r\n              genres: Indie Pop, Alternative Rock, Rock\r\n            grouping: Alternative\r\n               label: RCA\r\n            language: eng\r\n              length: 188.913106576\r\n            lyricist: \r\n              lyrics: It was summer when I saw your face\r\nBut like a teenage runaway\r\nOh god I never thought we'd take it that far\r\nSome killer queen you are\r\n\r\nNow I'm running and I can't stop anywhere I go\r\nI think about it everyday and night I can't let go\r\nMan, I'm never the same\r\nWe were shot gun lovers I was shot gun running away\r\n\r\nSo come a little closer\r\nThere was something I could tell ya\r\nYou were such a rollercoaster\r\nAnd a killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer queen you are\r\n\r\nWe took the bones out from the road\r\nThose endless nights that we traveled we stole\r\nYou let your clothes fall to the floor\r\nAnd lit a fire while I waited for more\r\n\r\nNow I'm running and I won't stop I don't wanna go\r\nI think about it everyday and night I can't let go\r\nAnd hey, I'm never the same\r\nIt's a hundred miles an hour on a dirt road running away\r\n\r\nSo come a little closer\r\nThere was something I could tell ya\r\nYou were such a rollercoaster\r\nAnd a killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer claimed it all\r\n\r\nCome a little closer\r\nI'm sure, come a little closer\r\n\r\nWhy don't you come a little closer\r\nThere was something I could tell ya\r\nYou were such a rollercoaster\r\nSome killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer queen you are\r\n\r\nRollercoaster, I don't say no\r\nRollercoaster, When you don't say no\r\nAnd it's such a rollercoaster\r\nSome killer queen you are\r\n    mb_albumartistid: 58e235fc-f6ea-4614-9ed4-9855a5665ae1\r\n          mb_albumid: c2418376-2c16-416d-84a6-bd045f0464dd\r\n         mb_artistid: 58e235fc-f6ea-4614-9ed4-9855a5665ae1\r\n   mb_releasegroupid: aa6d9840-3382-430e-9282-df8df90bfe9a\r\n          mb_trackid: b229b809-b822-48b3-9166-f746047a4307\r\n               media: CD\r\n               month: 7\r\n       original_date: 2014-07-15\r\n        original_day: 15\r\n      original_month: 7\r\n       original_year: 2014\r\n       rg_album_gain: 1.000031\r\n       rg_album_peak: 1.000031\r\n       rg_track_gain: -10.28\r\n       rg_track_peak: 1.000031\r\n          samplerate: 44100\r\n              script: Latn\r\n               title: Rollercoaster\r\n               track: 2\r\n          tracktotal: 11\r\n                year: 2014\r\n```\r\n\r\n\r\n\r\n\r\n```sh\r\n$ beet -vv convert Bleachers Strange Desire\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nAlbum gain info that  is not working\r\n```\r\n\r\nHere's a link to the music files that trigger the bug (if relevant): \r\n\r\n\r\n### Setup\r\n\r\n* OS: Ubuntu Linux 16.04.1\r\n* Python version: 2.7.12\r\n* beets version: 1.4.3\r\n* Turning off plugins made problem go away (yes/no): \r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\nplugins: lastgenre replaygain ftintitle fetchart embedart lastgenre info lyrics chroma scrub inline web convert rewrite\r\n\r\ndirectory: /mnt/storage/music_library\r\nlibrary: ~/Documents/library.db\r\nper_disc_numbering: yes\r\nasciify_paths: yes\r\nmatch:\r\n   preferred:\r\n      media: ['CD']\r\n\r\nimport:\r\n   write: yes\r\n   move: yes\r\n   timid: yes\r\nlastgenre:\r\n   canonical: yes\r\n   count: 3\r\n   separator: ', '\r\nreplaygain:\r\n   backend: bs1770gain\r\n   auto: yes\r\n   overwrite: yes\r\nscrub:\r\n   auto: yes\r\npaths:\r\n    default: $albumartist/$album %if{%aunique{},[$label - $year]}/%if{$multidisc,$disc-}$track $title\r\nitem_fields:\r\n    multidisc: 1 if disctotal > 1 else 0\r\nweb:\r\n    host: 192.168.1.3\r\n\r\nconvert:\r\n    auto: no\r\n    copy_album_art: yes\r\n    dest: /home/andy/lossy-music\r\n    embed: yes\r\n    never_convert_lossy_files: yes\r\n    format: aac\r\n    formats:\r\n        aac:\r\n            command: ffmpeg -i $source -c:a libfdk_aac -b:a 256k $dest\r\n            extension: m4a\r\nrewrite:\r\n    artist \u30b7\u30fc\u30c8\u30d9\u30eb\u30c4: The Seatbelts\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2405", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2405/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2405/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2405/events", "html_url": "https://github.com/beetbox/beets/issues/2405", "id": 202364377, "node_id": "MDU6SXNzdWUyMDIzNjQzNzc=", "number": 2405, "title": "python3 mpdstats str.decode error", "user": {"login": "artemutin", "id": 7271331, "node_id": "MDQ6VXNlcjcyNzEzMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/7271331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artemutin", "html_url": "https://github.com/artemutin", "followers_url": "https://api.github.com/users/artemutin/followers", "following_url": "https://api.github.com/users/artemutin/following{/other_user}", "gists_url": "https://api.github.com/users/artemutin/gists{/gist_id}", "starred_url": "https://api.github.com/users/artemutin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artemutin/subscriptions", "organizations_url": "https://api.github.com/users/artemutin/orgs", "repos_url": "https://api.github.com/users/artemutin/repos", "events_url": "https://api.github.com/users/artemutin/events{/privacy}", "received_events_url": "https://api.github.com/users/artemutin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 393039019, "node_id": "MDU6TGFiZWwzOTMwMzkwMTk=", "url": "https://api.github.com/repos/beetbox/beets/labels/python%203", "name": "python 3", "color": "fbca04", "default": false, "description": "Arises from the Python 2->3 transition."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-22T06:34:37Z", "updated_at": "2017-01-22T07:48:47Z", "closed_at": "2017-01-22T07:22:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen trying to run plugin mpdstats with python 3 upstream beets version, I've got the error below. Just removing .decode('utf-8') part in line 59 makes things work again. I'm not sure, is it proper way to deal with this for python 2 compatibility, so no pr yet.\r\n\r\nRunning this command in verbose (`-vv`) mode:\r\n\r\n```sh\r\n$ beet -vv mpdstats\r\n```\r\n\r\nLed to this problem:\r\n\r\n```\r\nuser configuration: /home/chichi/.config/beets/config.yaml\r\ndata directory: /home/chichi/.config/beets\r\nplugin paths: \r\nSending event: pluginload\r\nlibrary database: /Data/music/musiclibrary.blb\r\nlibrary directory: /Data/music\r\nSending event: library_opened\r\nmpdstats: connecting to localhost:6600\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/beet\", line 11, in <module>\r\n    load_entry_point('beets==1.4.4', 'console_scripts', 'beet')()\r\n  File \"/usr/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1209, in main\r\n    _raw_main(args)\r\n  File \"/usr/lib/python3.6/site-packages/beets/ui/__init__.py\", line 1196, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/mpdstats.py\", line 366, in func\r\n    MPDStats(lib, self._log).run()\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/mpdstats.py\", line 307, in run\r\n    status = self.mpd.status()\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/mpdstats.py\", line 141, in status\r\n    return self.get('status')\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/mpdstats.py\", line 107, in get\r\n    return getattr(self.client, command)()\r\n  File \"/usr/lib/python3.6/site-packages/mpd.py\", line 629, in decorator\r\n    return wrapper(self, name, args, bound_decorator(self, returnValue))\r\n  File \"/usr/lib/python3.6/site-packages/mpd.py\", line 254, in _execute\r\n    return retval()\r\n  File \"/usr/lib/python3.6/site-packages/mpd.py\", line 623, in decorator\r\n    return function(self, *args, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/mpd.py\", line 404, in _fetch_object\r\n    objs = list(self._read_objects())\r\n  File \"/usr/lib/python3.6/site-packages/mpd.py\", line 332, in _read_objects\r\n    for key, value in self._read_pairs():\r\n  File \"/usr/lib/python3.6/site-packages/mpd.py\", line 311, in _read_pairs\r\n    pair = self._read_pair(separator)\r\n  File \"/usr/lib/python3.6/site-packages/mpd.py\", line 302, in _read_pair\r\n    line = self._read_line()\r\n  File \"/usr/lib/python3.6/site-packages/beetsplug/mpdstats.py\", line 59, in _read_line\r\n    return line.decode('utf-8')\r\nAttributeError: 'str' object has no attribute 'decode'\r\n\r\n```\r\n\r\n\r\n### Setup\r\n\r\n* OS: Arch Linux x64\r\n* Python version: Python 3.6.0\r\n* beets version: 1.4.4\r\n* Turning off plugins made problem go away (yes/no): yes, obviously\r\n\r\nMy configuration (output of `beet config`) is:\r\n\r\n```yaml\r\ndirectory: /Data/music\r\nlibrary: /Data/music/musiclibrary.blb\r\n\r\nimport:\r\n    move: no\r\n\r\nui:\r\n    color: yes\r\n    colors:\r\n        text_success: green\r\n        text_warning: yellow\r\n        text_error: red\r\n        text_highlight: red\r\n        text_highlight_minor: lightgray\r\n        action_default: turquoise\r\n        action: blue\r\n\r\nmatch:\r\n    strong_rec_thresh: 0.1\r\n\r\nplugins: fetchart lastgenre types bpm chroma convert discogs fetchart mpdstats replaygain scrub rewrite fuzzy info random play smartplaylist mpdupdate web acousticbrainz absubmit types duplicates\r\nchroma:\r\n    auto: yes\r\nechonest:\r\n    auto: no\r\n    upload: yes\r\nfetchart:\r\n    google_search: yes\r\n    sources: coverart itunes amazon albumart wikipedia google fanarttv filesystem\r\n    maxwidth: 500\r\n    auto: yes\r\n    minwidth: 0\r\n    enforce_ratio: no\r\n    cautious: no\r\n    cover_names:\r\n    - cover\r\n    - front\r\n    - art\r\n    - album\r\n    - folder\r\n    google_key: REDACTED\r\n    google_engine: 001442825323518660753:hrh5ch1gjzm\r\n    fanarttv_key: REDACTED\r\n    store_source: no\r\nlastgenre:\r\n    canonicalize: yes\r\n    count: 3\r\n    whitelist: yes\r\n    min_weight: 10\r\n    fallback:\r\n    canonical: no\r\n    source: album\r\n    force: yes\r\n    auto: yes\r\n    separator: ', '\r\n    prefer_specific: no\r\nreplaygain:\r\n    backend: command\r\n    overwrite: no\r\n    auto: yes\r\n    targetlevel: 89\r\n    command: ''\r\n    noclip: yes\r\ntypes:\r\n    rating: float\r\n    play_count: int\r\n    mood_happy: float\r\n    mood_electronic: float\r\n    mood_sad: float\r\n    mood_acoustic: float\r\n    mood_party: float\r\n    mood_aggressive: float\r\n    mood_relaxed: float\r\n    bpm: int\r\n\r\nconvert:\r\n    auto: yes\r\n    dest: /Data/music\r\n    format: ogg\r\n    formats:\r\n        ogg: ffmpeg -i $source -y -vn -acodec libvorbis -aq 5 $dest\r\n        aac:\r\n            command: ffmpeg -i $source -y -vn -acodec libfaac -aq 100 $dest\r\n            extension: m4a\r\n        alac:\r\n            command: ffmpeg -i $source -y -vn -acodec alac $dest\r\n            extension: m4a\r\n        flac: ffmpeg -i $source -y -vn -acodec flac $dest\r\n        mp3: ffmpeg -i $source -y -vn -aq 2 $dest\r\n        opus: ffmpeg -i $source -y -vn -acodec libopus -ab 96k $dest\r\n        wma: ffmpeg -i $source -y -vn -acodec wmav2 -vn $dest\r\n    extension: ogg\r\n\r\n    paths:\r\n        default: $albumartist/$album%aunique{}/$track $title\r\n        singleton: Non-Album/$artist/$title\r\n        comp: Compilations/$album%aunique{}/$track $title\r\n    pretend: no\r\n    threads: 4\r\n    max_bitrate: 500\r\n    tmpdir:\r\n    quiet: no\r\n    embed: yes\r\n    never_convert_lossy_files: no\r\n    copy_album_art: no\r\n    album_art_maxwidth: 0\r\nmpd:\r\n    port: 6600\r\n    rating-mix: 0.5\r\n    host: localhost\r\n    password: REDACTED\r\n    music_directory: /Data/music\r\n    rating: yes\r\n    rating_mix: 0.75\r\nplay:\r\n    command: vlc\r\n    use_folders: no\r\n    relative_to:\r\n    raw: no\r\n    warning_threshold: 100\r\nsmartplaylist:\r\n    relative_to: /Data/music\r\n    playlist_dir: /Data/music/playlists\r\n    playlists: [{name: workout.m3u, query: 'mood_aggressive::0\\.[7-9]'}, {name: fast.m3u, query: 'bpm:120..250 mood_happy:0.5..1'}]\r\n    auto: yes\r\nabsubmit:\r\n    extractor: ''\r\nfuzzy:\r\n    prefix: '~'\r\n    threshold: 0.7\r\nscrub:\r\n    auto: yes\r\nduplicates:\r\n    album: no\r\n    checksum: ''\r\n    copy: ''\r\n    count: no\r\n    delete: no\r\n    format: ''\r\n    full: no\r\n    keys: []\r\n    merge: no\r\n    move: ''\r\n    path: no\r\n    tiebreak: {}\r\n    strict: no\r\n    tag: ''\r\nbpm:\r\n    max_strokes: 3\r\n    overwrite: yes\r\ndiscogs:\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    tokenfile: discogs_token.json\r\n    source_weight: 0.5\r\nrewrite: {}\r\nacousticbrainz:\r\n    auto: yes\r\n    force: no\r\nweb:\r\n    host: 127.0.0.1\r\n    port: 8337\r\n    cors: ''\r\n    include_paths: no\r\n\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2381", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2381/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2381/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2381/events", "html_url": "https://github.com/beetbox/beets/issues/2381", "id": 199865750, "node_id": "MDU6SXNzdWUxOTk4NjU3NTA=", "number": 2381, "title": "Python 3 compatibility : mpdupdate plugin ", "user": {"login": "PierreRust", "id": 894892, "node_id": "MDQ6VXNlcjg5NDg5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/894892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PierreRust", "html_url": "https://github.com/PierreRust", "followers_url": "https://api.github.com/users/PierreRust/followers", "following_url": "https://api.github.com/users/PierreRust/following{/other_user}", "gists_url": "https://api.github.com/users/PierreRust/gists{/gist_id}", "starred_url": "https://api.github.com/users/PierreRust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PierreRust/subscriptions", "organizations_url": "https://api.github.com/users/PierreRust/orgs", "repos_url": "https://api.github.com/users/PierreRust/repos", "events_url": "https://api.github.com/users/PierreRust/events{/privacy}", "received_events_url": "https://api.github.com/users/PierreRust/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-01-10T16:19:59Z", "updated_at": "2017-01-10T17:46:53Z", "closed_at": "2017-01-10T17:22:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Problem\r\n\r\nWhen using the mpdupdate plugion wth python 3\r\n\r\n```sh\r\n$ beet -vv (... paste here ...)\r\n```\r\n\r\nI get this error \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/pierre/.env_beets/bin/beet\", line 9, in <module>\r\n    load_entry_point('beets==1.4.2', 'console_scripts', 'beet')()\r\n  File \"/home/pierre/.env_beets/lib/python3.5/site-packages/beets/ui/__init__.py\", line 1209, in main\r\n    _raw_main(args)\r\n  File \"/home/pierre/.env_beets/lib/python3.5/site-packages/beets/ui/__init__.py\", line 1198, in _raw_main\r\n    plugins.send('cli_exit', lib=lib)\r\n  File \"/home/pierre/.env_beets/lib/python3.5/site-packages/beets/plugins.py\", line 452, in send\r\n    result = handler(**arguments)\r\n  File \"/home/pierre/.env_beets/lib/python3.5/site-packages/beets/plugins.py\", line 124, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/home/pierre/.env_beets/lib/python3.5/site-packages/beetsplug/mpdupdate.py\", line 92, in update\r\n    config['mpd']['password'].as_str(),\r\n  File \"/home/pierre/.env_beets/lib/python3.5/site-packages/beetsplug/mpdupdate.py\", line 108, in update_mpd\r\n    resp = s.readline()\r\n  File \"/home/pierre/.env_beets/lib/python3.5/site-packages/beetsplug/mpdupdate.py\", line 53, in readline\r\n    self.buf += data\r\nTypeError: Can't convert 'bytes' object to str implicitly\r\n\r\n```\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2381/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2346", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2346/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2346/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2346/events", "html_url": "https://github.com/beetbox/beets/issues/2346", "id": 197617771, "node_id": "MDU6SXNzdWUxOTc2MTc3NzE=", "number": 2346, "title": "discogs: Headings counting as tracks", "user": {"login": "thomsna", "id": 228282, "node_id": "MDQ6VXNlcjIyODI4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/228282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomsna", "html_url": "https://github.com/thomsna", "followers_url": "https://api.github.com/users/thomsna/followers", "following_url": "https://api.github.com/users/thomsna/following{/other_user}", "gists_url": "https://api.github.com/users/thomsna/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomsna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomsna/subscriptions", "organizations_url": "https://api.github.com/users/thomsna/orgs", "repos_url": "https://api.github.com/users/thomsna/repos", "events_url": "https://api.github.com/users/thomsna/events{/privacy}", "received_events_url": "https://api.github.com/users/thomsna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-12-26T20:27:41Z", "updated_at": "2017-01-06T00:44:44Z", "closed_at": "2017-01-05T23:54:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI'm trying to import this album:\r\nhttps://www.discogs.com/Palle-Mikkelborg-Radiojazzgruppen-The-Mysterious-Corona/release/5292307\r\n\r\nThere is 11 tracks in this album, and each side of the LP has a heading, \"The Mysterious Corona\" and \"M.B. Cyclus\".\r\n\r\nWhen importing the 11 tracks, the headings are seen as tracks, resulting in 2 missing tracks.\r\n\r\n### Setup\r\n```\r\n$ uname -a\r\nLinux x 4.4.0-53-generic #74-Ubuntu SMP Fri Dec 2 15:59:10 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n```\r\n$ beet version\r\nbeets version 1.4.1\r\nPython version 2.7.12\r\nplugins: badfiles, chroma, copyartifacts, discogs, embedart, fetchart, info, missing, scrub, web\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2337", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2337/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2337/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2337/events", "html_url": "https://github.com/beetbox/beets/issues/2337", "id": 197162649, "node_id": "MDU6SXNzdWUxOTcxNjI2NDk=", "number": 2337, "title": "Discogs plugin saves Discogs id in mb_*id tags", "user": {"login": "Freso", "id": 177659, "node_id": "MDQ6VXNlcjE3NzY1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/177659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freso", "html_url": "https://github.com/Freso", "followers_url": "https://api.github.com/users/Freso/followers", "following_url": "https://api.github.com/users/Freso/following{/other_user}", "gists_url": "https://api.github.com/users/Freso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freso/subscriptions", "organizations_url": "https://api.github.com/users/Freso/orgs", "repos_url": "https://api.github.com/users/Freso/repos", "events_url": "https://api.github.com/users/Freso/events{/privacy}", "received_events_url": "https://api.github.com/users/Freso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-22T12:18:45Z", "updated_at": "2016-12-22T16:37:49Z", "closed_at": "2016-12-22T16:37:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/beetbox/beets/issues/2336\r\n\r\n`mb_*id` tags are for MusicBrainz identifiers and a number of programs will expect MBIDs and use those MBIDs to look up additional data or for other reasons. Putting Discogs ids into the fields is wrong.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2337/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2302", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2302/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2302/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2302/events", "html_url": "https://github.com/beetbox/beets/issues/2302", "id": 193314645, "node_id": "MDU6SXNzdWUxOTMzMTQ2NDU=", "number": 2302, "title": "discogs: IndexError: list index out of range", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-12-03T21:28:07Z", "updated_at": "2016-12-30T11:03:03Z", "closed_at": "2016-12-30T11:03:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\r\n\r\nI'm trying to import this album :\r\nhttps://www.discogs.com/Para-One-Ciel-Ether-Con-Citoyen-Crazy/master/690105\r\n\r\nwhile doing a `beet import Unsorted/New\\ Stuff` :\r\n\r\n```\r\n/data/Music/Unsorted/New Stuff/Para One - 2003 - Paraone - Iris - Le Sept - Flynt - Lyricson (Maxi) [CD - FLAC] (6 items)\r\nFinding tags for album \"Paraone - Iris - Le sept - Flynt - Lyricson - Paraone - Iris - Le Sept - Flynt - Lyricson\".\r\nCandidates:\r\n1. The Kenny Clarke - Francy Boland Big Band - Paris Jazz Concert: TNP - Oct. 29th, 1969, Part 2 (35.9%) (tracks, artist, album, ...) (CD, 2002, DE, LaserLight Digital)\r\n2. A - Z Consolidated - A - Z Consolidated (33.8%) (tracks, album, artist)\r\n3. \u039c\u03af\u03ba\u03b7\u03c2 \u0398\u03b5\u03bf\u03b4\u03c9\u03c1\u03ac\u03ba\u03b7\u03c2 - \u0392\u03b1\u03c3\u03af\u03bb\u03b7\u03c2 \u03a4\u03c3\u03b9\u03c4\u03c3\u03ac\u03bd\u03b7\u03c2 - \u03a3\u03c4\u03b1\u03bc\u03ac\u03c4\u03b7\u03c2 \u039a\u03cc\u03ba\u03bf\u03c4\u03b1\u03c2 - \u0398\u03b5\u03bf\u03b4\u03c9\u03c1\u03ac\u03ba\u03b7\u03c2 - \u03a4\u03c3\u03b9\u03c4\u03c3\u03ac\u03bd\u03b7\u03c2 - \u039a\u03cc\u03ba\u03bf\u03c4\u03b1\u03c2 (29.3%) (tracks, missing tracks, album, ...) (12\" Vinyl, 1985, GR, \u039c\u03af\u03bd\u03c9\u03c2 \u039c\u03ac\u03c4\u03c3\u03b1\u03c2 & \u03a5\u03b9\u03cc\u03c2 \u0391.\u0395.)\r\n4. Pirkko Mannola - Brita Koivunen - Vieno Kekkonen - Pirkko - Brita - Vieno (20.2%) (missing tracks, tracks, artist, ...) (CD, 1989, FI, Finnlevy)\r\n5. _ - _ (7.7%) (missing tracks, tracks, album, ...)\r\n# selection (default 1), Skip, Use as-is, as Tracks, Group albums,\r\nEnter search, enter Id, aBort? I\r\nEnter release ID: 690105\r\nTraceback (most recent call last):\r\n  File \"/home/cesar/.local/bin/beet\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1250, in main\r\n    _raw_main(args)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1240, in _raw_main\r\n    subcommand.func(lib, suboptions, subargs)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/ui/commands.py\", line 967, in import_func\r\n    import_files(lib, paths, query)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/ui/commands.py\", line 944, in import_files\r\n    session.run()\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/importer.py\", line 320, in run\r\n    pl.run_parallel(QUEUE_SIZE)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 301, in run\r\n    out = self.coro.send(msg)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 160, in coro\r\n    task = func(*(args + (task,)))\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/importer.py\", line 1285, in user_query\r\n    task.choose_match(session)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/importer.py\", line 779, in choose_match\r\n    choice = session.choose_match(self)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/ui/commands.py\", line 755, in choose_match\r\n    task.items, search_ids=search_id.split()\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/autotag/match.py\", line 407, in tag_album\r\n    search_cands.extend(hooks.albums_for_id(search_id))\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/autotag/hooks.py\", line 541, in albums_for_id\r\n    plugin_albums = plugins.album_for_id(album_id)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beets/plugins.py\", line 373, in album_for_id\r\n    res = plugin.album_for_id(album_id)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beetsplug/discogs.py\", line 188, in album_for_id\r\n    return self.get_album_info(result)\r\n  File \"/home/cesar/.local/lib/python2.7/site-packages/beetsplug/discogs.py\", line 225, in get_album_info\r\n    result.data['formats'][0].get('descriptions', [])) or None\r\nIndexError: list index out of range\r\n```\r\n\r\n### Setup\r\n\r\n```\r\n$ uname -a\r\nLinux debian 4.7.0-1-amd64 #1 SMP Debian 4.7.6-1 (2016-10-07) x86_64 GNU/Linux\r\n```\r\n```\r\n$ beet version\r\nbeets version 1.4.1\r\nPython version 2.7.12+\r\nplugins: discogs, lastgenre\r\n```\r\n```\r\n$ beet config\r\ndirectory: /data/Music/beets\r\n\r\nimport:\r\n    link: yes\r\n    write: no\r\n    log: /data/Music/.beets_import.log\r\nlibrary: /data/Music/beetslibrary.blb\r\n\r\nplugins: discogs lastgenre\r\nlastgenre:\r\n    count: 1\r\n    source: album\r\n    prefer_specific: no\r\n    force: yes\r\n    min_weight: 10\r\n    auto: yes\r\n    whitelist: yes\r\n    separator: ', '\r\n    fallback:\r\n    canonical: no\r\ndiscogs:\r\n    tokenfile: discogs_token.json\r\n    apikey: REDACTED\r\n    apisecret: REDACTED\r\n    source_weight: 0.5\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2302/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2260", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2260/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2260/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2260/events", "html_url": "https://github.com/beetbox/beets/issues/2260", "id": 188881892, "node_id": "MDU6SXNzdWUxODg4ODE4OTI=", "number": 2260, "title": "Convert asks for confirmation even if the query did not match anything", "user": {"login": "nathdwek", "id": 5646609, "node_id": "MDQ6VXNlcjU2NDY2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5646609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathdwek", "html_url": "https://github.com/nathdwek", "followers_url": "https://api.github.com/users/nathdwek/followers", "following_url": "https://api.github.com/users/nathdwek/following{/other_user}", "gists_url": "https://api.github.com/users/nathdwek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathdwek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathdwek/subscriptions", "organizations_url": "https://api.github.com/users/nathdwek/orgs", "repos_url": "https://api.github.com/users/nathdwek/repos", "events_url": "https://api.github.com/users/nathdwek/events{/privacy}", "received_events_url": "https://api.github.com/users/nathdwek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-12T01:02:43Z", "updated_at": "2016-11-13T19:37:09Z", "closed_at": "2016-11-13T19:37:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "![](http://imgur.com/e6t6ZKT.gif)", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2260/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2254", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2254/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2254/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2254/events", "html_url": "https://github.com/beetbox/beets/issues/2254", "id": 187625886, "node_id": "MDU6SXNzdWUxODc2MjU4ODY=", "number": 2254, "title": "fetchart uses .jpg, extractart uses .jpeg", "user": {"login": "tweitzel", "id": 1471377, "node_id": "MDQ6VXNlcjE0NzEzNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1471377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tweitzel", "html_url": "https://github.com/tweitzel", "followers_url": "https://api.github.com/users/tweitzel/followers", "following_url": "https://api.github.com/users/tweitzel/following{/other_user}", "gists_url": "https://api.github.com/users/tweitzel/gists{/gist_id}", "starred_url": "https://api.github.com/users/tweitzel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tweitzel/subscriptions", "organizations_url": "https://api.github.com/users/tweitzel/orgs", "repos_url": "https://api.github.com/users/tweitzel/repos", "events_url": "https://api.github.com/users/tweitzel/events{/privacy}", "received_events_url": "https://api.github.com/users/tweitzel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-11-07T05:01:41Z", "updated_at": "2016-11-08T19:06:34Z", "closed_at": "2016-11-08T19:06:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The extractart command in the embedart plugin uses the string output of imghdr.what as an extension. That's \"jpeg.\" \r\nhttps://github.com/beetbox/beets/blob/db782a2404fa8a6827c10a6536b4a960d19af135/beets/art.py#L197\r\n\r\nMeanwhile, over in fetchart, it seems to use the first entry in IMAGE_EXTENSIONS for mime type image/jpeg, which is .jpg.\r\nhttps://github.com/beetbox/beets/blob/db782a2404fa8a6827c10a6536b4a960d19af135/beetsplug/fetchart.py#L44\r\n\r\nTo reproduce:\r\n\r\nImport something with no art, but has jpeg art in a configured fetchart source.\r\nbeet fetchart album\r\nbeet embedart album\r\nbeet extractart album\r\nnow you have cover.jpg and cover.jpeg or sometimes cover.1.jpeg or sometimes cover.1.jpg... it's kind of a big mess and seems weirdly nondeterministic at times.\r\n\r\nThis is normally harmless, but sometimes results in excessive clutter when re-importing old things.", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2254/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2246", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2246/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2246/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2246/events", "html_url": "https://github.com/beetbox/beets/issues/2246", "id": 186129241, "node_id": "MDU6SXNzdWUxODYxMjkyNDE=", "number": 2246, "title": "lyrics: Remove Genius backend", "user": {"login": "orf", "id": 1027207, "node_id": "MDQ6VXNlcjEwMjcyMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1027207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orf", "html_url": "https://github.com/orf", "followers_url": "https://api.github.com/users/orf/followers", "following_url": "https://api.github.com/users/orf/following{/other_user}", "gists_url": "https://api.github.com/users/orf/gists{/gist_id}", "starred_url": "https://api.github.com/users/orf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orf/subscriptions", "organizations_url": "https://api.github.com/users/orf/orgs", "repos_url": "https://api.github.com/users/orf/repos", "events_url": "https://api.github.com/users/orf/events{/privacy}", "received_events_url": "https://api.github.com/users/orf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-30T10:46:34Z", "updated_at": "2017-10-09T22:53:48Z", "closed_at": "2017-10-09T22:53:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The function [get_lyrics](https://github.com/beetbox/beets/blob/master/beetsplug/lyrics.py#L291) looks up the lyrics from a server called `genius-api.com`\n\nAs far as I can tell this address is now defunct, I can't resolve it anywhere. Should it be removed?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2246/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2242", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2242/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2242/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2242/events", "html_url": "https://github.com/beetbox/beets/issues/2242", "id": 186101921, "node_id": "MDU6SXNzdWUxODYxMDE5MjE=", "number": 2242, "title": "keyfinder: Output parsing error", "user": {"login": "diomekes", "id": 184222, "node_id": "MDQ6VXNlcjE4NDIyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/184222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diomekes", "html_url": "https://github.com/diomekes", "followers_url": "https://api.github.com/users/diomekes/followers", "following_url": "https://api.github.com/users/diomekes/following{/other_user}", "gists_url": "https://api.github.com/users/diomekes/gists{/gist_id}", "starred_url": "https://api.github.com/users/diomekes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diomekes/subscriptions", "organizations_url": "https://api.github.com/users/diomekes/orgs", "repos_url": "https://api.github.com/users/diomekes/repos", "events_url": "https://api.github.com/users/diomekes/events{/privacy}", "received_events_url": "https://api.github.com/users/diomekes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-29T21:26:28Z", "updated_at": "2020-12-08T12:37:23Z", "closed_at": "2020-12-08T12:37:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nRunning this command in verbose (`-vv`) mode:\n\n``` sh\n$ beet -vv keyfinder anything\n```\n\nLed to this problem:\n\n```\nuser configuration: /home/diomekes/.config/beets/config.yaml\ndata directory: /home/diomekes/.config/beets\nplugin paths:\nSending event: pluginload\ninline: adding item field disc_and_track\nlibrary database: /home/diomekes/.config/beets/library.db\nlibrary directory: /home/diomekes/media/music\nSending event: library_opened\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.19', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1266, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1253, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/keyfinder.py\", line 48, in command\n    self.find_key(lib.items(ui.decargs(args)), write=ui.should_write())\n  File \"/usr/lib/python2.7/site-packages/beetsplug/keyfinder.py\", line 74, in find_key\n    key_raw = output.rsplit(None, 1)[-1]\nIndexError: list index out of range\n```\n\nkeyfinder-cli works if run directly\n### Setup\n- OS:  archlinux\n- Python version: 2.7.12\n- beets version: 1.3.19\n- Turning off plugins made problem go away (yes/no): problem is with keyfinder plugin only\n- libkeyfinder-git 239.0a5ec7f-1\n- keyfinder-cli-git 49.40a41ab-1\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\n...\nkeyfinder:\n    bin: keyfinder-cli\n    auto: yes\n    overwrite: no\n\nplugins: badfiles chroma convert duplicates fetchart fromfilename fuzzy info inline keyfinder lastgenre lyrics mbcollection mbsync missing play random scrub smartplaylist zero\n...\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2242/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2242/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2234", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2234/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2234/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2234/events", "html_url": "https://github.com/beetbox/beets/issues/2234", "id": 184645555, "node_id": "MDU6SXNzdWUxODQ2NDU1NTU=", "number": 2234, "title": "convert: Invocation of ffmpeg can make standard input break", "user": {"login": "tmplt", "id": 6118602, "node_id": "MDQ6VXNlcjYxMTg2MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/6118602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmplt", "html_url": "https://github.com/tmplt", "followers_url": "https://api.github.com/users/tmplt/followers", "following_url": "https://api.github.com/users/tmplt/following{/other_user}", "gists_url": "https://api.github.com/users/tmplt/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmplt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmplt/subscriptions", "organizations_url": "https://api.github.com/users/tmplt/orgs", "repos_url": "https://api.github.com/users/tmplt/repos", "events_url": "https://api.github.com/users/tmplt/events{/privacy}", "received_events_url": "https://api.github.com/users/tmplt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-22T18:17:29Z", "updated_at": "2019-10-12T14:36:36Z", "closed_at": "2019-10-12T14:36:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nSome times when using `beet convert` I'm unable to press Enter. Instead `^M` is printed.\nTo escape the prompt I must enter `EOF` (CTRL + d) after a CTRL + c.\n\n``` sh\n$ beet -vv convert [redacted; query] --dest .\nuser configuration: /home/tmplt/.config/beets/config.yaml\ndata directory: /home/tmplt/.config/beets\nplugin paths:\nSending event: pluginload\nlibrary database: /home/tmplt/media/music/.lib/musiclibrary.blb\nlibrary directory: /home/tmplt/media/music\nSending event: library_opened\n[redacted; tracks to convert]\nConvert? (Y/n) ^M^M^M^M^M^Cerror: stdin stream ended while input required\n```\n### Setup\n- OS: Arch Linux x64\n- Python version: 2.7.12\n- beets version: 1.3.18\n- Turning off plugins made problem go away (yes/no): no\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\ndirectory: ~/media/music\nlibrary: ~/media/music/.lib/musiclibrary.blb\n\nplugins: chroma fetchart embedart mpdstats ihate smartplaylist replaygain convert fetchart lastgenre fuzzy\n\nimport:\n    move: no\n\nembedart:\n    remove_art_file: yes\n\nihate:\n    warn:\n        - album:christmas\n        - genre:polka\n\nsmartplaylist:\n    relative_to: ~/media/music\n    playlist_dir: ~/.mpd/playlists\n    playlists:\n        - name:  'All.m3u'\n          query: '^artist:Two Steps From Hell'\n        - name:  'Rock.m3u'\n          query: 'genre:rock'\n        - name:  'Metal.m3u'\n          query: 'genre:metal'\n        - name:  'Rap.m3u'\n          query: 'genre:rap'\n        - name:  'Space.m3u'\n          query: ['artist:Ben Prunty', 'artist:Keldian', 'album:Space metal']\n        - name:  'Power Metal.m3u'\n          query: 'genre:Power Metal'\n        - name:  'Symphonic Metal.m3u'\n          query: 'genre:Symphonic Metal'\n\n\nreplaygain:\n    backend: gstreamer\n\nconvert:\n    embed: yes\n    quiet: true\n    never_convert_lossy_files: yes\n    format: mp3\n    formats:\n        mp3:\n            command: ffmpeg -i $source -qscale:a 0 $dest\n            extension: mp3\n\n```\n### Notes:\n\nOccurs in `st` and `termite`, both in and not in `tmux`.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2234/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2195", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2195/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2195/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2195/events", "html_url": "https://github.com/beetbox/beets/issues/2195", "id": 176427398, "node_id": "MDU6SXNzdWUxNzY0MjczOTg=", "number": 2195, "title": "beetsplug/fromfilename.py python3 compatability", "user": {"login": "codyopel", "id": 5561189, "node_id": "MDQ6VXNlcjU1NjExODk=", "avatar_url": "https://avatars.githubusercontent.com/u/5561189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codyopel", "html_url": "https://github.com/codyopel", "followers_url": "https://api.github.com/users/codyopel/followers", "following_url": "https://api.github.com/users/codyopel/following{/other_user}", "gists_url": "https://api.github.com/users/codyopel/gists{/gist_id}", "starred_url": "https://api.github.com/users/codyopel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codyopel/subscriptions", "organizations_url": "https://api.github.com/users/codyopel/orgs", "repos_url": "https://api.github.com/users/codyopel/repos", "events_url": "https://api.github.com/users/codyopel/events{/privacy}", "received_events_url": "https://api.github.com/users/codyopel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 393039019, "node_id": "MDU6TGFiZWwzOTMwMzkwMTk=", "url": "https://api.github.com/repos/beetbox/beets/labels/python%203", "name": "python 3", "color": "fbca04", "default": false, "description": "Arises from the Python 2->3 transition."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-09-12T16:55:47Z", "updated_at": "2016-09-13T01:53:25Z", "closed_at": "2016-09-13T01:53:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/beetbox/beets/blob/e8afcbe7ec4bc37bb080f6f466b98807d020753b/beetsplug/fromfilename.py#L104\n\npython2\n\n``` python2\nd.values()\n```\n\nfor python 3 this should be\n\n``` python3\nlist(d.values())\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2195/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2188", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2188/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2188/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2188/events", "html_url": "https://github.com/beetbox/beets/issues/2188", "id": 175494274, "node_id": "MDU6SXNzdWUxNzU0OTQyNzQ=", "number": 2188, "title": "AssertionError when running 'beet dup --path'", "user": {"login": "catdesk", "id": 13840125, "node_id": "MDQ6VXNlcjEzODQwMTI1", "avatar_url": "https://avatars.githubusercontent.com/u/13840125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catdesk", "html_url": "https://github.com/catdesk", "followers_url": "https://api.github.com/users/catdesk/followers", "following_url": "https://api.github.com/users/catdesk/following{/other_user}", "gists_url": "https://api.github.com/users/catdesk/gists{/gist_id}", "starred_url": "https://api.github.com/users/catdesk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catdesk/subscriptions", "organizations_url": "https://api.github.com/users/catdesk/orgs", "repos_url": "https://api.github.com/users/catdesk/repos", "events_url": "https://api.github.com/users/catdesk/events{/privacy}", "received_events_url": "https://api.github.com/users/catdesk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 431140501, "node_id": "MDU6TGFiZWw0MzExNDA1MDE=", "url": "https://api.github.com/repos/beetbox/beets/labels/blocker", "name": "blocker", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-09-07T12:50:51Z", "updated_at": "2016-09-10T07:04:04Z", "closed_at": "2016-09-08T01:04:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nCrashes trying to get duplicate paths. `beet dup` works fine, as well as other options (`beet dup --full`)\n\nRunning this command in verbose (`-vv`) mode:\n\n``` sh\n$ beet -vv dup --path\n```\n\nLed to this problem:\n\n```\nTraceback (most recent call last):\n  File \"/home/user/.local/bin/beet\", line 11, in <module>\n    load_entry_point('beets==1.4.0', 'console_scripts', 'beet')()\n  File \"/home/user/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1267, in main\n    _raw_main(args)\n  File \"/home/user/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1254, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/user/.local/lib/python2.7/site-packages/beetsplug/duplicates.py\", line 167, in _dup\n    fmt=fmt.format(obj_count))\n  File \"/home/user/.local/lib/python2.7/site-packages/beetsplug/duplicates.py\", line 176, in _proce>\n    print_(format(item, fmt))\n  File \"/home/user/.local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 134, in print_\n    assert isinstance(strings[0], six.text_type)\n\n```\n\nI'm seeing a lot of messages like:\n\n```\nduplicates: all keys ['mb_trackid', 'mb_albumid'] on item /home/user/Music/William Gibson/The Peripheral (Unabridged) (2014) (Lorelei King)/42-The Peripheral (Unabridged) (2014).mp3 are null or empty: skipping\n```\n\nMaybe because the files are symbolic links?\n### Setup\n- OS: Debian\n- Python version: 2.7.12+\n- beets version: 1.4.0\n- Turning off plugins made problem go away (yes/no):  yes, it's a problem with a plugin\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\npaths:\n    default: $albumartist/$album%aunique{}/$track-$title\n    singleton: Unknown_Album/$artist/$title\n    comp: $albumartist/$album%aunique{}/$track-$artist-$title\nlibrary: ~/.local/beets/library.blb\n\nreplace:\n    '[\\\\/]': _\n    ^\\.: _\n    '[\\x00-\\x1f]': _\n    '[<>:\"\\?\\*\\|]': _\n    \\s+$: ''\n    ^\\s+: ''\nignore: .AppleDouble ._* *~ .DS_Store *.wmv lost+found .* *.m4v *.mp4 *.part *.avi *.mkv *.flv *.mov *.mpeg *.mpg *.mpeg4 *.zip\n\nui:\n    color: yes\n    colors:\n        text_success: green\n        text_warning: yellow\n        text_error: red\n        text_highlight: red\n        text_highlight_minor: lightgray\n        action_default: turquoise\n        action: blue\n\nplugins: duplicates\ndirectory: ~/Music\n\nimport:\n    copy: no\n    link: yes\n    autotag: no\n    log: log.txt\nduplicates:\n    count: no\n    full: no\n    format: ''\n    keys: []\n    move: ''\n    tag: ''\n    path: no\n    copy: ''\n    tiebreak: {}\n    album: no\n    strict: no\n    checksum: ''\n    merge: no\n    delete: no\n\n\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2188/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2172", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2172/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2172/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2172/events", "html_url": "https://github.com/beetbox/beets/issues/2172", "id": 172620505, "node_id": "MDU6SXNzdWUxNzI2MjA1MDU=", "number": 2172, "title": "Path query tests fail when SQLITE_LIKE_DOESNT_MATCH_BLOBS", "user": {"login": "stefanor", "id": 442117, "node_id": "MDQ6VXNlcjQ0MjExNw==", "avatar_url": "https://avatars.githubusercontent.com/u/442117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanor", "html_url": "https://github.com/stefanor", "followers_url": "https://api.github.com/users/stefanor/followers", "following_url": "https://api.github.com/users/stefanor/following{/other_user}", "gists_url": "https://api.github.com/users/stefanor/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanor/subscriptions", "organizations_url": "https://api.github.com/users/stefanor/orgs", "repos_url": "https://api.github.com/users/stefanor/repos", "events_url": "https://api.github.com/users/stefanor/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 431140501, "node_id": "MDU6TGFiZWw0MzExNDA1MDE=", "url": "https://api.github.com/repos/beetbox/beets/labels/blocker", "name": "blocker", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-08-23T06:17:42Z", "updated_at": "2016-09-06T23:55:15Z", "closed_at": "2016-09-05T02:41:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related to #1587.\n\nsqlite 3.10 has an option `SQLITE_LIKE_DOESNT_MATCH_BLOBS` [docs](https://sqlite.org/compile.html#like_doesnt_match_blobs) that breaks the path handling logic in beets. It's a performance optimisation, because LIKE doesn't really seem applicable to blobs, and has historically had bugs. Debian (and therefore Ubuntu) are building sqlite with this option as of 3.10.0-1, so you can see this in stretch and xenial.\n\n`test_query` failures resulting from it:\n\n```\n======================================================================\nFAIL: test_case_sensitivity (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 538, in test_case_sensitivity\n    self.assert_items_matched(results, [u'path item', u'caps path'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'path item', u'caps path']\n\nSecond list contains 2 additional elements.\nFirst extra element 0:\nu'path item'\n\n- []\n+ [u'path item', u'caps path']\n\n======================================================================\nFAIL: test_escape_backslash (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 524, in test_escape_backslash\n    self.assert_items_matched(results, [u'with backslash'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'with backslash']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'with backslash'\n\n- []\n+ [u'with backslash']\n\n======================================================================\nFAIL: test_escape_percent (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 514, in test_escape_percent\n    self.assert_items_matched(results, [u'with percent'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'with percent']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'with percent'\n\n- []\n+ [u'with percent']\n\n======================================================================\nFAIL: test_escape_underscore (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 504, in test_escape_underscore\n    self.assert_items_matched(results, [u'with underscore'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'with underscore']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'with underscore'\n\n- []\n+ [u'with underscore']\n\n======================================================================\nFAIL: test_nonnorm_path (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 457, in test_nonnorm_path\n    self.assert_items_matched(results, [u'path item'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'path item']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'path item'\n\n- []\n+ [u'path item']\n\n======================================================================\nFAIL: test_parent_directory_no_slash (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 425, in test_parent_directory_no_slash\n    self.assert_items_matched(results, [u'path item'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'path item']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'path item'\n\n- []\n+ [u'path item']\n\n======================================================================\nFAIL: test_parent_directory_with_slash (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 433, in test_parent_directory_with_slash\n    self.assert_items_matched(results, [u'path item'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'path item']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'path item'\n\n- []\n+ [u'path item']\n\n======================================================================\nFAIL: test_path_exact_match (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 417, in test_path_exact_match\n    self.assert_items_matched(results, [u'path item'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'path item']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'path item'\n\n- []\n+ [u'path item']\n\n======================================================================\nFAIL: test_slashed_query_matches_path (test.test_query.PathQueryTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 465, in test_slashed_query_matches_path\n    self.assert_items_matched(results, [u'path item'])\n  File \"/build/beets-TC7EW2/beets-1.3.19/test/test_query.py\", line 81, in assert_items_matched\n    self.assertEqual([i.title for i in results], titles)\nAssertionError: Lists differ: [] != [u'path item']\n\nSecond list contains 1 additional elements.\nFirst extra element 0:\nu'path item'\n\n- []\n+ [u'path item']\n\n----------------------------------------------------------------------\nRan 114 tests in 3.037s\n\nFAILED (SKIP=1, failures=9)\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2168", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2168/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2168/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2168/events", "html_url": "https://github.com/beetbox/beets/issues/2168", "id": 171003639, "node_id": "MDU6SXNzdWUxNzEwMDM2Mzk=", "number": 2168, "title": "beets crashing with an utf-8 decoding error", "user": {"login": "Armael", "id": 315125, "node_id": "MDQ6VXNlcjMxNTEyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/315125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Armael", "html_url": "https://github.com/Armael", "followers_url": "https://api.github.com/users/Armael/followers", "following_url": "https://api.github.com/users/Armael/following{/other_user}", "gists_url": "https://api.github.com/users/Armael/gists{/gist_id}", "starred_url": "https://api.github.com/users/Armael/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Armael/subscriptions", "organizations_url": "https://api.github.com/users/Armael/orgs", "repos_url": "https://api.github.com/users/Armael/repos", "events_url": "https://api.github.com/users/Armael/events{/privacy}", "received_events_url": "https://api.github.com/users/Armael/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-08-13T10:43:24Z", "updated_at": "2016-08-13T13:55:49Z", "closed_at": "2016-08-13T13:54:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nWhen importing my music library (`beet import mymusic/`), beets crashed with the following traceback: \n\n```\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.19', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1266, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1253, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 967, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 944, in import_files\n    session.run()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 320, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 251, in run\n    msg = next(self.coro)\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1202, in read_tasks\n    for t in task_factory.tasks():\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1038, in tasks\n    for dirs, paths in self.paths():\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1090, in paths\n    for dirs, paths in albums_in_dir(self.toppath):\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1480, in albums_in_dir\n    logger=log):\n  File \"/usr/lib/python2.7/site-packages/beets/util/__init__.py\", line 205, in sorted_walk\n    for res in sorted_walk(cur, ignore, ignore_hidden, logger):\n  File \"/usr/lib/python2.7/site-packages/beets/util/__init__.py\", line 190, in sorted_walk\n    if (ignore_hidden and not hidden.is_hidden(cur)) or not ignore_hidden:\n  File \"/usr/lib/python2.7/site-packages/beets/util/hidden.py\", line 78, in is_hidden\n    path = path.decode('utf-8')\n  File \"/usr/lib/python2.7/encodings/utf_8.py\", line 16, in decode\n    return codecs.utf_8_decode(input, errors, True)\nUnicodeDecodeError: 'utf8' codec can't decode byte 0x96 in position 76: invalid start byte\n```\n### Setup\n- OS: Archlinux\n- Python version: 2.7.12\n- beets version: Archlinux package is 1.3.19, but `beet --version` says 1.3.18\n- locales:\n\n```\n$ locale\nLANG=fr_FR.UTF8\nLC_CTYPE=\"fr_FR.UTF8\"\nLC_NUMERIC=\"fr_FR.UTF8\"\nLC_TIME=\"fr_FR.UTF8\"\nLC_COLLATE=\"fr_FR.UTF8\"\nLC_MONETARY=\"fr_FR.UTF8\"\nLC_MESSAGES=\"fr_FR.UTF8\"\nLC_PAPER=\"fr_FR.UTF8\"\nLC_NAME=\"fr_FR.UTF8\"\nLC_ADDRESS=\"fr_FR.UTF8\"\nLC_TELEPHONE=\"fr_FR.UTF8\"\nLC_MEASUREMENT=\"fr_FR.UTF8\"\nLC_IDENTIFICATION=\"fr_FR.UTF8\"\nLC_ALL=\n```\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\nlastgenre:\n    count: 5\n    force: no\n    source: album\n    min_weight: 10\n    auto: yes\n    whitelist: yes\n    separator: ', '\n    fallback:\n    canonical: no\nembedart:\n    ifempty: yes\n    compare_threshold: 0\n    auto: yes\n    remove_art_file: no\n    maxwidth: 0\nfetchart:\n    enforce_ratio: 5%\n    auto: yes\n    minwidth: 0\n    sources:\n    - filesystem\n    - coverart\n    - itunes\n    - amazon\n    - albumart\n    google_engine: 001442825323518660753:hrh5ch1gjzm\n    cautious: no\n    maxwidth: 0\n    store_source: no\n    google_key: REDACTED\n    fanarttv_key: REDACTED\n    cover_names:\n    - cover\n    - front\n    - art\n    - album\n    - folder\ndirectory: /pool/musique\n\nimport:\n    incremental: yes\n    log: /pool/beets_import.log\n\nplugins: fromfilename embedart fetchart lastgenre thumbnails\nlibrary: /pool/musiclibrary.blb\nthumbnails:\n    auto: yes\n    dolphin: no\n    force: no\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2168/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2166", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2166/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2166/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2166/events", "html_url": "https://github.com/beetbox/beets/issues/2166", "id": 170392095, "node_id": "MDU6SXNzdWUxNzAzOTIwOTU=", "number": 2166, "title": "Template doesn't format at all when contains a comma ", "user": {"login": "miblodelcarpio", "id": 12488998, "node_id": "MDQ6VXNlcjEyNDg4OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/12488998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miblodelcarpio", "html_url": "https://github.com/miblodelcarpio", "followers_url": "https://api.github.com/users/miblodelcarpio/followers", "following_url": "https://api.github.com/users/miblodelcarpio/following{/other_user}", "gists_url": "https://api.github.com/users/miblodelcarpio/gists{/gist_id}", "starred_url": "https://api.github.com/users/miblodelcarpio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miblodelcarpio/subscriptions", "organizations_url": "https://api.github.com/users/miblodelcarpio/orgs", "repos_url": "https://api.github.com/users/miblodelcarpio/repos", "events_url": "https://api.github.com/users/miblodelcarpio/events{/privacy}", "received_events_url": "https://api.github.com/users/miblodelcarpio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "diego-plan9", "id": 418311, "node_id": "MDQ6VXNlcjQxODMxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/418311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diego-plan9", "html_url": "https://github.com/diego-plan9", "followers_url": "https://api.github.com/users/diego-plan9/followers", "following_url": "https://api.github.com/users/diego-plan9/following{/other_user}", "gists_url": "https://api.github.com/users/diego-plan9/gists{/gist_id}", "starred_url": "https://api.github.com/users/diego-plan9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diego-plan9/subscriptions", "organizations_url": "https://api.github.com/users/diego-plan9/orgs", "repos_url": "https://api.github.com/users/diego-plan9/repos", "events_url": "https://api.github.com/users/diego-plan9/events{/privacy}", "received_events_url": "https://api.github.com/users/diego-plan9/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "diego-plan9", "id": 418311, "node_id": "MDQ6VXNlcjQxODMxMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/418311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diego-plan9", "html_url": "https://github.com/diego-plan9", "followers_url": "https://api.github.com/users/diego-plan9/followers", "following_url": "https://api.github.com/users/diego-plan9/following{/other_user}", "gists_url": "https://api.github.com/users/diego-plan9/gists{/gist_id}", "starred_url": "https://api.github.com/users/diego-plan9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diego-plan9/subscriptions", "organizations_url": "https://api.github.com/users/diego-plan9/orgs", "repos_url": "https://api.github.com/users/diego-plan9/repos", "events_url": "https://api.github.com/users/diego-plan9/events{/privacy}", "received_events_url": "https://api.github.com/users/diego-plan9/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2016-08-10T11:14:00Z", "updated_at": "2016-10-04T16:18:15Z", "closed_at": "2016-10-04T16:18:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nIncluding a comma in a path yields incorrect path.\n\nRunning this command in verbose (`-vv`) mode:\n\n``` sh\n$ beet -vv ls -f 'Music/Pajo, David/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $title' Pajo\n```\n\nLed to this problem:\n\n```\nMusic/Pajo, David/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $title\n```\n\nSimply removing the comma in `Pajo, David` yields the expected result.\n### Setup\n- OS: Arch Linux\n- Python version: 2.7.12-1\n- beets version: 1.3.18\n- Turning off plugins made problem go away (yes/no): No\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\npaths:\n    default: Music/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $title\n    comp: Music/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $artist - $title\n    albumartist:Aerial M: Music/Pajo, David/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $title\n    albumartist:Papa M: Music/Pajo, David/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $title\n    albumartist:Pajo: Music/Pajo, David/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $title\n    albumtype:soundtrack: Soundtrack/Game/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $title\n    albumtype:soundtrack comp: Soundtrack/Game/%the{$albumartist_sort}/$releasedate. $album%aunique{}/$disc_and_track. $artist - $title\n    albumstatus:bootleg: Music/%the{$albumartist_sort}/Bootlegs/$album%aunique{}/$disc_and_track. $title\nitem_fields:\n    disc_and_track: u'%02i' % (track) if disctotal == 1 else u'%i-%02i' % (disc, track)\n    releasedate: u'%02i-%02i-%02i' % (year, month, day) if day else u'%02i-%02i' % (year, month) if month else u'%02i' % (year)\nasciify_paths: yes\nlibrary: ~/.config/beets/library.db\n\nreplace:\n    '[\\\\/]': _\n    ^\\.: _\n    \\s+$: ''\n    ^\\s+: ''\n\nplugins: inline mbsubmit rewrite the\ndirectory: ~/Media/Audio\n\nimport:\n    move: yes\n    write: yes\npathfields: {}\nalbum_fields: {}\nthe:\n    a: yes\n    patterns: []\n    the: yes\n    strip: no\n    format: '{0}, {1}'\nmbsubmit:\n    threshold: medium\n    format: $track. $title - $artist ($length)\nrewrite: {}\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2166/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2063", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2063/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2063/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2063/events", "html_url": "https://github.com/beetbox/beets/issues/2063", "id": 161247811, "node_id": "MDU6SXNzdWUxNjEyNDc4MTE=", "number": 2063, "title": "UnicodeDecodeError with beet list", "user": {"login": "bengadbois", "id": 1879785, "node_id": "MDQ6VXNlcjE4Nzk3ODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1879785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bengadbois", "html_url": "https://github.com/bengadbois", "followers_url": "https://api.github.com/users/bengadbois/followers", "following_url": "https://api.github.com/users/bengadbois/following{/other_user}", "gists_url": "https://api.github.com/users/bengadbois/gists{/gist_id}", "starred_url": "https://api.github.com/users/bengadbois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bengadbois/subscriptions", "organizations_url": "https://api.github.com/users/bengadbois/orgs", "repos_url": "https://api.github.com/users/bengadbois/repos", "events_url": "https://api.github.com/users/bengadbois/events{/privacy}", "received_events_url": "https://api.github.com/users/bengadbois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-06-20T17:18:21Z", "updated_at": "2016-06-21T22:15:44Z", "closed_at": "2016-06-21T22:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nRuntime assert\nNote: double quotes after the -f, and a smart quote inside double quotes for the query\n\n``` sh\nx@sub:~$ beet --version\nbeets version 1.3.18\nplugins: copyartifacts, embedart, fetchart, ftintitle, info, scrub, zero\nx@sub:~$ beet -vv ls -f\"$album\" \"\u2019\"\nuser configuration: /home/x/.config/beets/config.yaml\ndata directory: /home/x/.config/beets\nplugin paths:\nSending event: pluginload\nlibrary database: /home/x/Dropbox/beets_data/musiclibrary.blb\nlibrary directory: /home/x/music\nSending event: library_opened\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 11, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1250, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1239, in _raw_main\n    subcommand, suboptions, subargs = parser.parse_subcommand(subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1040, in parse_subcommand\n    suboptions, subargs = subcommand.parse_args(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 904, in parse_args\n    return self.parser.parse_args(args)\n  File \"/usr/lib/python2.7/optparse.py\", line 1400, in parse_args\n    stop = self._process_args(largs, rargs, values)\n  File \"/usr/lib/python2.7/optparse.py\", line 1444, in _process_args\n    self._process_short_opts(rargs, values)\n  File \"/usr/lib/python2.7/optparse.py\", line 1551, in _process_short_opts\n    option.process(opt, value, values, self)\n  File \"/usr/lib/python2.7/optparse.py\", line 789, in process\n    self.action, self.dest, opt, value, values, parser)\n  File \"/usr/lib/python2.7/optparse.py\", line 809, in take_action\n    self.callback(self, opt, value, parser, *args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 802, in _set_format\n    value = fmt or value and unicode(value) or ''\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 0: ordinal not in range(128)\n```\n### Setup\n- OS: Ubuntu 1404\n- Python version: 2.7.6\n- beets version: 1.3.18\n- Turning off plugins made problem go away (yes/no): no\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\n\npaths:\n    default: $albumartist/$album/$track $title\n    singleton: $albumartist/$album/$track $title\n    comp: $albumartist/$album/$track $title\n    ext:jpg: $albumpath/cover\n    ext:jpeg: $albumpath/cover\n    ext:png: $albumpath/cover\n\nformat_item: $album - $track - $albumartist - $artist - $title\nfetchart:\n    cautious: yes\n    source: itunes amazon albumart\n    minwidth: 700\n    sources:\n    - coverart\n    - itunes\n    - amazon\n    - albumart\n    - google\n    - wikipedia\n    maxwidth: 0\n    google_search: no\n    auto: yes\n    cover_names:\n    - cover\n    - front\n    - art\n    - album\n    - folder\n    remote_priority: no\n    enforce_ratio: no\nftintitle:\n    auto: yes\n    format: (feat. {0})\n    drop: no\nlibrary: ~/Dropbox/beets_data/musiclibrary.blb\nreplace:\n    '[\\\\/]': ''\n    _: ''\n    '[\\x00-\\x1f]': ''\n    '[<>\"\\*\\|]': ''\nzero:\n    fields: month day genre comments\n    update_database: yes\n\nui:\n    color: yes\ncopyartifacts:\n    extensions: .jpg .jpeg .png\n    print_ignored: yes\n\nplugins: fetchart embedart scrub zero info ftintitle copyartifacts\ndirectory: ~/music\n\nimport:\n    move: no\n    copy: yes\n    write: yes\nsort_item: album+ disc+ track+\nscrub:\n    auto: yes\nembedart:\n    compare_threshold: 0\n    auto: yes\n    ifempty: no\n    maxwidth: 0\n\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2063/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2053", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2053/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2053/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2053/events", "html_url": "https://github.com/beetbox/beets/issues/2053", "id": 160610460, "node_id": "MDU6SXNzdWUxNjA2MTA0NjA=", "number": 2053, "title": "fetchart: Use the right filename extension according to the image's MIME type", "user": {"login": "broddo", "id": 11037043, "node_id": "MDQ6VXNlcjExMDM3MDQz", "avatar_url": "https://avatars.githubusercontent.com/u/11037043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/broddo", "html_url": "https://github.com/broddo", "followers_url": "https://api.github.com/users/broddo/followers", "following_url": "https://api.github.com/users/broddo/following{/other_user}", "gists_url": "https://api.github.com/users/broddo/gists{/gist_id}", "starred_url": "https://api.github.com/users/broddo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/broddo/subscriptions", "organizations_url": "https://api.github.com/users/broddo/orgs", "repos_url": "https://api.github.com/users/broddo/repos", "events_url": "https://api.github.com/users/broddo/events{/privacy}", "received_events_url": "https://api.github.com/users/broddo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2016-06-16T08:56:06Z", "updated_at": "2016-06-22T17:19:29Z", "closed_at": "2016-06-22T17:19:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is something I noticed today when using fetchart with the fanarttv plugin - one random albumart file it downloaded was actually a PNG file, not a JPG. This wasn't fetchart's fault - I verified that the source image was indeed a PNG from fanarttv despite having the .jpg extension.\n\nBut, I think a nice feature would be to include some form of image validty check and perhaps offer to convert to the image to the desired default format.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2053/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2053/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2031", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2031/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2031/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2031/events", "html_url": "https://github.com/beetbox/beets/issues/2031", "id": 157965096, "node_id": "MDU6SXNzdWUxNTc5NjUwOTY=", "number": 2031, "title": "bs1770gain uses wrong parameters", "user": {"login": "pszxzsd", "id": 15139983, "node_id": "MDQ6VXNlcjE1MTM5OTgz", "avatar_url": "https://avatars.githubusercontent.com/u/15139983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pszxzsd", "html_url": "https://github.com/pszxzsd", "followers_url": "https://api.github.com/users/pszxzsd/followers", "following_url": "https://api.github.com/users/pszxzsd/following{/other_user}", "gists_url": "https://api.github.com/users/pszxzsd/gists{/gist_id}", "starred_url": "https://api.github.com/users/pszxzsd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pszxzsd/subscriptions", "organizations_url": "https://api.github.com/users/pszxzsd/orgs", "repos_url": "https://api.github.com/users/pszxzsd/repos", "events_url": "https://api.github.com/users/pszxzsd/events{/privacy}", "received_events_url": "https://api.github.com/users/pszxzsd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-01T17:37:43Z", "updated_at": "2016-06-02T23:17:04Z", "closed_at": "2016-06-02T23:17:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Applying replaygain with bs1770gain uses the parameter `-it` which means get integrated loudness and calculate true peak.\n\nSpecifying -i is just superfluous because that's the default anyway and -t is wrong for two reasons:\n1. Replaygain specifies sample peak, not any other fancy peak calculation methods\n2. Calculating true peak is _horrrrribly_ slow, the whole process is like 10x slower with this\n\nSolution: invoke bs1770gain with parameter -p instead to calculate the correct peak gain and get a major speed boost as a bonus.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2031/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/2005", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/2005/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/2005/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/2005/events", "html_url": "https://github.com/beetbox/beets/issues/2005", "id": 155486643, "node_id": "MDU6SXNzdWUxNTU0ODY2NDM=", "number": 2005, "title": "convert: Doesn't convert lossless AIFF on import", "user": {"login": "Freso", "id": 177659, "node_id": "MDQ6VXNlcjE3NzY1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/177659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freso", "html_url": "https://github.com/Freso", "followers_url": "https://api.github.com/users/Freso/followers", "following_url": "https://api.github.com/users/Freso/following{/other_user}", "gists_url": "https://api.github.com/users/Freso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freso/subscriptions", "organizations_url": "https://api.github.com/users/Freso/orgs", "repos_url": "https://api.github.com/users/Freso/repos", "events_url": "https://api.github.com/users/Freso/events{/privacy}", "received_events_url": "https://api.github.com/users/Freso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-05-18T12:16:33Z", "updated_at": "2016-05-18T21:34:05Z", "closed_at": "2016-05-18T18:25:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `convert` plugin doesn't register an AIFF file with a pcm_s16be stream as lossless, and thus imports as-is when `never_convert_lossy_files` is set.\n\n`beet -vv import` and `beet config` output: https://gist.github.com/Freso/01e5185503ec40b78e8b43bdcc98c241\nPre-tagged data of the imported files (via `ffprobe`): https://ptpb.pw/APyUNbU6z8_185dEUL7rYMMAyAow\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/2005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/2005/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1997", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1997/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1997/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1997/events", "html_url": "https://github.com/beetbox/beets/issues/1997", "id": 153707988, "node_id": "MDU6SXNzdWUxNTM3MDc5ODg=", "number": 1997, "title": "echonest: TypeError: int() argument must be a string or a number, not 'NoneType'", "user": {"login": "MacLeodMike", "id": 1720142, "node_id": "MDQ6VXNlcjE3MjAxNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/1720142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MacLeodMike", "html_url": "https://github.com/MacLeodMike", "followers_url": "https://api.github.com/users/MacLeodMike/followers", "following_url": "https://api.github.com/users/MacLeodMike/following{/other_user}", "gists_url": "https://api.github.com/users/MacLeodMike/gists{/gist_id}", "starred_url": "https://api.github.com/users/MacLeodMike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MacLeodMike/subscriptions", "organizations_url": "https://api.github.com/users/MacLeodMike/orgs", "repos_url": "https://api.github.com/users/MacLeodMike/repos", "events_url": "https://api.github.com/users/MacLeodMike/events{/privacy}", "received_events_url": "https://api.github.com/users/MacLeodMike/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-05-09T05:56:48Z", "updated_at": "2016-06-08T16:55:22Z", "closed_at": "2016-06-08T16:55:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nI'm attempting to import an album, and beets is crashing. I've tried on both Ubuntu Trusty and Xenial. The trusty host is the host I've used for years with beets, and I have imported albums before and after this one successfully. The Xenial host is brand new, created in an attempt to see if it would make a difference.\n\nThe autotagger identifies the album correctly (100%) but fails to import with the echonest plugin enabled. If I disable the echonest plugin it will import properly.\n\n``` sh\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 11, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1236, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1226, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 966, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 943, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 321, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 302, in run\n    out = self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 184, in coro\n    func(*(args + (task,)))\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 1374, in plugin_stage\n    func(session, task)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/plugins.py\", line 124, in wrapper\n    return func(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 452, in imported\n    self.apply_metadata(item, song)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 426, in apply_metadata\n    item[field] = int(v)\nTypeError: int() argument must be a string or a number, not 'NoneType'\n```\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\nimportfeeds:\n    dir: /mnt/music\n    relative_to:\n    formats: echo\n    absolute_path: yes\n    m3u_name: imported.m3u\n\npaths:\n    default: '%asciify{Albums/%upper{%left{$albumartist,1}}/$albumartist/[%if{$year,$year,0000}] $album%aunique{}/$disc-$track - $title}'\n    singleton: '%asciify{Singles/$artist - $title}'\n    comp: '%asciify{Compilations/[%if{$year,$year,0000}] $album/$track - $title}'\n    albumtype:soundtrack: '%asciify{Soundtracks/[%if{$year,$year,0000}] $album/$track - $title}'\nacoustid:\n    apikey: REDACTED\nthreaded: yes\nscrub:\n    auto: no\nper_disc_numbering: yes\nlibrary: ~/.config/beets/library.blb\nignore: .AppleDouble ._* *~ .DS_Store\nreplaygain:\n    backend: gstreamer\n    overwrite: yes\n    targetlevel: 89\n    auto: yes\nlastgenre:\n    canonical: ~/.config/beets/genres-tree.yaml\n    whitelist: ~/.config/beets/genres.txt\n    source: album\n    fallback: Unknown\n    count: 1\n    force: yes\n    min_weight: 10\n    auto: yes\n    separator: ', '\n\nplugins: fetchart embedart replaygain scrub the mbsync missing lastgenre ftintitle info discogs chroma importfeeds echonest\ndirectory: /mnt/music/\n\nimport:\n    copy: yes\n    move: no\n    write: yes\n    delete: no\n    resume: ask\n    incremental: no\n    quiet_fallback: skip\n    none_rec_fallback: skip\n    timid: no\n    languages: en\n    log: ~/beets-import.log\nechonest:\n    apikey: REDACTED\n    auto: yes\n    convert: yes\n    upload: yes\n    truncate: yes\n    energy: energy\n    liveness: liveness\n    tempo: bpm\n    speechiness: speechiness\n    acousticness: acousticness\n    danceability: danceability\n    valence: valence\n\nmatch:\n    preferred:\n        countries: [US, GB|UK]\n        media: [CD, Digital Media|File]\n        original_year: yes\nfetchart:\n    minwidth: 0\n    sources:\n    - coverart\n    - itunes\n    - amazon\n    - albumart\n    cautious: no\n    google_engine: 001442825323518660753:hrh5ch1gjzm\n    maxwidth: 0\n    google_key: REDACTED\n    auto: yes\n    cover_names:\n    - cover\n    - front\n    - art\n    - album\n    - folder\n    remote_priority: no\n    enforce_ratio: no\nembedart:\n    compare_threshold: 0\n    auto: yes\n    ifempty: no\n    remove_art_file: no\n    maxwidth: 0\nftintitle:\n    auto: yes\n    drop: no\n    format: feat. {0}\ndiscogs:\n    tokenfile: discogs_token.json\n    apikey: REDACTED\n    apisecret: REDACTED\n    source_weight: 0.5\nmissing:\n    count: no\n    total: no\nchroma:\n    auto: yes\nthe:\n    a: yes\n    patterns: []\n    the: yes\n    strip: no\n    format: '{0}, {1}'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1997/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1960", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1960/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1960/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1960/events", "html_url": "https://github.com/beetbox/beets/issues/1960", "id": 151248624, "node_id": "MDU6SXNzdWUxNTEyNDg2MjQ=", "number": 1960, "title": "Fetchart: Wikipedia source is not unicode-ready", "user": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-26T21:55:23Z", "updated_at": "2016-04-27T00:00:32Z", "closed_at": "2016-04-27T00:00:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Fails when formatting artist and title into the `basestring` request. Beets was a few commits behind master, but I don't think there've been any changes to fetchart since.\n\nThe offending album was\nhttp://musicbrainz.org/release/a2f9ef1e-dc73-4054-94f4-5b341660e73e\n\n```\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.18', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1247, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1237, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 965, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 942, in import_files\n    session.run()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 336, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 248, in run\n    self._run()\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 346, in _run\n    out = self.coro.send(msg)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 191, in coro\n    func(*(args + (task,)))\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1389, in plugin_stage\n    func(session, task)\n  File \"/usr/lib/python2.7/site-packages/beets/plugins.py\", line 123, in wrapper\n    return func(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 755, in fetch_art\n    candidate = self.art_for_album(task.album, task.paths, local)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 825, in art_for_album\n    for candidate in source.get(album, extra):\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 491, in get\n    artist=album.albumartist.title(), album=album.album)\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xed' in position 5: ordinal not in range(128)\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1960/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1953", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1953/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1953/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1953/events", "html_url": "https://github.com/beetbox/beets/issues/1953", "id": 150643297, "node_id": "MDU6SXNzdWUxNTA2NDMyOTc=", "number": 1953, "title": "Lyrics: Review my patch please!", "user": {"login": "wisp3rwind", "id": 17089248, "node_id": "MDQ6VXNlcjE3MDg5MjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/17089248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wisp3rwind", "html_url": "https://github.com/wisp3rwind", "followers_url": "https://api.github.com/users/wisp3rwind/followers", "following_url": "https://api.github.com/users/wisp3rwind/following{/other_user}", "gists_url": "https://api.github.com/users/wisp3rwind/gists{/gist_id}", "starred_url": "https://api.github.com/users/wisp3rwind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wisp3rwind/subscriptions", "organizations_url": "https://api.github.com/users/wisp3rwind/orgs", "repos_url": "https://api.github.com/users/wisp3rwind/repos", "events_url": "https://api.github.com/users/wisp3rwind/events{/privacy}", "received_events_url": "https://api.github.com/users/wisp3rwind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 85957545, "node_id": "MDU6TGFiZWw4NTk1NzU0NQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/discussion", "name": "discussion", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-04-24T09:19:12Z", "updated_at": "2016-04-27T05:09:35Z", "closed_at": "2016-04-27T05:09:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Yesterday I did this\n\nhttps://github.com/beetbox/beets/compare/271f7c8...607f41b\n\nbecause my imports were breaking (i.e. with a traceback) halfway-through. I don't know the lyric plugin's code, though. So it might be good if someone who does had a look at it. \nMaybe these checks should be at top-level and would let the plugin issue a warning already on initialization if any of the activated sources need `beautifulsoup4` or `langdetect`?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1953/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1938", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1938/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1938/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1938/events", "html_url": "https://github.com/beetbox/beets/issues/1938", "id": 147949653, "node_id": "MDU6SXNzdWUxNDc5NDk2NTM=", "number": 1938, "title": "mpdstats: Crash when searching by `last_played` field", "user": {"login": "lhupitr", "id": 7284007, "node_id": "MDQ6VXNlcjcyODQwMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7284007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lhupitr", "html_url": "https://github.com/lhupitr", "followers_url": "https://api.github.com/users/lhupitr/followers", "following_url": "https://api.github.com/users/lhupitr/following{/other_user}", "gists_url": "https://api.github.com/users/lhupitr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lhupitr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lhupitr/subscriptions", "organizations_url": "https://api.github.com/users/lhupitr/orgs", "repos_url": "https://api.github.com/users/lhupitr/repos", "events_url": "https://api.github.com/users/lhupitr/events{/privacy}", "received_events_url": "https://api.github.com/users/lhupitr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-13T05:26:20Z", "updated_at": "2016-10-03T18:58:20Z", "closed_at": "2016-10-03T18:58:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nRunning this command in verbose (`-vv`) mode:\n\n``` sh\n$ beet -vv list 'last_played:2015..'\n```\n\nLed to this problem:\n\n```\nuser configuration: ~/.config/beets/config.yaml\ndata directory: ~/.config/beets\nplugin paths: /usr/local/bin/wlg\nSending event: pluginload\ninline: adding item field multidisc\nartresizer: method is (2, (6, 9, 3))\nthumbnails: using IM to write metadata\nthumbnails: using GIO to compute URIs\nlibrary database: /net/nfs4/server/mediacentre/Music/Catalogs/beets_test.blb\nlibrary directory: /net/nfs4/server/mediacentre/Music/Library_test\nSending event: library_opened\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.17', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1236, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1226, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 1068, in list_func\n    list_items(lib, decargs(args), opts.album)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 1063, in list_items\n    for item in lib.items(query):\n  File \"/usr/lib/python2.7/site-packages/beets/dbcore/db.py\", line 538, in _get_objects\n    if not self.query or self.query.match(obj):\n  File \"/usr/lib/python2.7/site-packages/beets/dbcore/query.py\", line 438, in match\n    return all([q.match(item) for q in self.subqueries])\n  File \"/usr/lib/python2.7/site-packages/beets/dbcore/query.py\", line 629, in match\n    timestamp = float(item[self.field])\n  File \"/usr/lib/python2.7/site-packages/beets/dbcore/db.py\", line 231, in __getitem__\n    raise KeyError(key)\nKeyError: u'last_played'\n```\n### Setup\n- OS: Arch Linux\n- Python version: 2.7.11\n- beets version: 1.3.17\n- Turning off plugins made problem go away (yes/no): Without pugins the command returns no results but without errors\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\ndirectory: /net/nfs4/server/mediacentre/Music/Library_test\nlibrary: /net/nfs4/server/mediacentre/Music/Catalogs/beets_test.blb\nplugins: fromfilename inline edit fetchart embedart zero rewrite importfeeds thumbnails fuzzy info missing random types wlg replaygain mpdstats smartplaylist mpdupdate duplicates badfiles smartplaylist play\npluginpath: /usr/local/bin/wlg\nper_disc_numbering: yes\nthreaded: no  #disable for debugging\nimport:\n    resume: yes\n    quiet_fallback: skip\n    none_rec_action: ask\n    log: ~/.config/beets/beetslog.txt\n    detail: yes\n    write: yes\n    copy: yes\n    move: no\n    autotag: yes\n    link: no\n    resume: ask\n    incremental: no\n    timid: no\npaths:\n    default: $albumartist/$album%aunique{albumartist album year,albumtype label catalognum albumdisambig} ($year)/%if{$multidisc,$disc}$track $title\n    singleton: $artist/-Misc-/$track $title\n    comp: Various Artists/$album%aunique{albumartist album year,albumtype label catalognum albumdisambig} ($year)/%if{$multidisc,$disc}$track $title\nitem_fields:\n    multidisc: 1 if disctotal > 1 else 0\nreplace:\n    '[\\\\/]': _\n    '^\\.': _\n    '[\\x00-\\x1f]': _\n    '\\.$': ''\n    '\\s+$': ''\n    '^\\s+': ''\nart_filename: folder\nfetchart:\n    auto: yes\n    cautious: yes\n    remote_priority: no\n    minwidth: 300\n    maxwidth: 500\n    enforce_ratio: no\n    sources: albumart amazon wikipedia coverart itunes #google\nembedart:\n    auto: yes\n    maxwidth: 300\nthumbnails:\n    auto: yes\nlyrics:\n    auto: yes\n    fallback: 'No lyrics found.'\n    sources: musixmatch lyricwiki lyrics.com genius #google\nreplaygain:\n    auto: yes\n    backend: gstreamer\n    overwrite: no\nwlg:\n    auto: yes\n    force: yes\n    count: 3\nmpdstats:\n    rating_mix: 0.75\nui:\n    color: yes\nmusicbrainz:\n    searchlimit: 5\nmatch:\n    strong_rec_thresh: 0.04\n    medium_rec_thresh: 0.25\n    rec_gap_thresh: 0.25\n    max_rec:\n        missing_tracks: medium\n        unmatched_tracks: medium\n    preferred:\n        countries: ['US', 'GB|UK', 'AU', 'AR', 'ES']\nzero:\n    fields: genre\n    update_database: true\nimportfeeds:\n    formats: m3u_multi\n    dir: /net/nfs4/server/mediacentre/Music/Playlists/\n    relative_to: /net/nfs4/server/mediacentre/Music/Library_test/\nsmartplaylist:\n    relative_to: /net/nfs4/server/mediacentre/Music/Library_test/\n    playlist_dir: /net/nfs4/server/mediacentre/Music/Playlists/\n    playlists:\n        - name: 'loved_beets.m3u'\n          query: 'loved:1'\ntypes:\n    loved: int\n    play_count: int\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1938/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1937", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1937/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1937/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1937/events", "html_url": "https://github.com/beetbox/beets/issues/1937", "id": 147946025, "node_id": "MDU6SXNzdWUxNDc5NDYwMjU=", "number": 1937, "title": "MPDStats play count inconsistencies", "user": {"login": "lhupitr", "id": 7284007, "node_id": "MDQ6VXNlcjcyODQwMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/7284007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lhupitr", "html_url": "https://github.com/lhupitr", "followers_url": "https://api.github.com/users/lhupitr/followers", "following_url": "https://api.github.com/users/lhupitr/following{/other_user}", "gists_url": "https://api.github.com/users/lhupitr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lhupitr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lhupitr/subscriptions", "organizations_url": "https://api.github.com/users/lhupitr/orgs", "repos_url": "https://api.github.com/users/lhupitr/repos", "events_url": "https://api.github.com/users/lhupitr/events{/privacy}", "received_events_url": "https://api.github.com/users/lhupitr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-04-13T04:54:02Z", "updated_at": "2017-06-06T03:36:50Z", "closed_at": "2017-06-06T03:31:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nMPDStats is attributing 2 play counts and 1 skip to each track played. The play counts are both registered at the beginning of the track and the skip at the end.\n\nRunning this command in verbose (`-vv`) mode:\n\n``` sh\n$ beet -vv mpdstats\n```\n\nLed to this problem:\n\n```\nmpdstats: playing /net/nfs4/server/mediacentre/Music/Library_test/Calexico/The Black Light (1998)/08 Missing.mp3\nSending event: database_change\nmpdstats: updated: last_played = 1460521768 [/net/nfs4/server/mediacentre/Music/Library_test/Calexico/The Black Light (1998)/08 Missing.mp3]\nmpdstats: playing /net/nfs4/server/mediacentre/Music/Library_test/Calexico/The Black Light (1998)/08 Missing.mp3\nSending event: database_change\nmpdstats: updated: last_played = 1460521769 [/net/nfs4/server/mediacentre/Music/Library_test/Calexico/The Black Light (1998)/08 Missing.mp3]\nSending event: database_change\nmpdstats: updated: skip_count = 1 [/net/nfs4/server/mediacentre/Music/Library_test/Calexico/The Black Light (1998)/08 Missing.mp3]\nmpdstats: skipped /net/nfs4/server/mediacentre/Music/Library_test/Calexico/The Black Light (1998)/08 Missing.mp3\nSending event: database_change\nmpdstats: updated: rating = 0.5625 [/net/nfs4/server/mediacentre/Music/Library_test/Calexico/The Black Light (1998)/08 Missing.mp3]\nmpdstats: playing /net/nfs4/server/mediacentre/Music/Library_test/Iron & Wine/Our Endless Numbered Days (2004)/03 Cinder and Smoke.mp3\nSending event: database_change\nmpdstats: updated: last_played = 1460522211 [/net/nfs4/server/mediacentre/Music/Library_test/Iron & Wine/Our Endless Numbered Days (2004)/03 Cinder and Smoke.mp3]\nmpdstats: playing /net/nfs4/server/mediacentre/Music/Library_test/Iron & Wine/Our Endless Numbered Days (2004)/03 Cinder and Smoke.mp3\nSending event: database_change\nmpdstats: updated: last_played = 1460522211 [/net/nfs4/server/mediacentre/Music/Library_test/Iron & Wine/Our Endless Numbered Days (2004)/03 Cinder and Smoke.mp3]\nSending event: database_change\nmpdstats: updated: skip_count = 1 [/net/nfs4/server/mediacentre/Music/Library_test/Iron & Wine/Our Endless Numbered Days (2004)/03 Cinder and Smoke.mp3]\nmpdstats: skipped /net/nfs4/server/mediacentre/Music/Library_test/Iron & Wine/Our Endless Numbered Days (2004)/03 Cinder and Smoke.mp3\nSending event: database_change\nmpdstats: updated: rating = 0.5125 [/net/nfs4/server/mediacentre/Music/Library_test/Iron & Wine/Our Endless Numbered Days (2004)/03 Cinder and Smoke.mp3]\n```\n### Setup\n- OS: Arch Linux\n- Python version: 2.7.11\n- beets version: 1.3.17\n- Turning off plugins made problem go away (yes/no): no\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\ndirectory: /net/nfs4/server/mediacentre/Music/Library_test\nlibrary: /net/nfs4/server/mediacentre/Music/Catalogs/beets_test.blb\nplugins: fromfilename inline edit fetchart embedart zero rewrite importfeeds thumbnails fuzzy info missing random types wlg replaygain mpdstats smartplaylist mpdupdate duplicates badfiles smartplaylist play\npluginpath: /usr/local/bin/wlg\nper_disc_numbering: yes\nthreaded: no  #disable for debugging\nimport:\n    resume: yes\n    quiet_fallback: skip\n    none_rec_action: ask\n    log: ~/.config/beets/beetslog.txt\n    detail: yes\n    write: yes\n    copy: yes\n    move: no\n    autotag: yes\n    link: no\n    resume: ask\n    incremental: no\n    timid: no\npaths:\n    default: $albumartist/$album%aunique{albumartist album year,albumtype label catalognum albumdisambig} ($year)/%if{$multidisc,$disc}$track $title\n    singleton: $artist/-Misc-/$track $title\n    comp: Various Artists/$album%aunique{albumartist album year,albumtype label catalognum albumdisambig} ($year)/%if{$multidisc,$disc}$track $title\nitem_fields:\n    multidisc: 1 if disctotal > 1 else 0\nreplace:\n    '[\\\\/]': _\n    '^\\.': _\n    '[\\x00-\\x1f]': _\n    '\\.$': ''\n    '\\s+$': ''\n    '^\\s+': ''\nart_filename: folder\nfetchart:\n    auto: yes\n    cautious: yes\n    remote_priority: no\n    minwidth: 300\n    maxwidth: 500\n    enforce_ratio: no\n    sources: albumart amazon wikipedia coverart itunes #google\nembedart:\n    auto: yes\n    maxwidth: 300\nthumbnails:\n    auto: yes\nlyrics:\n    auto: yes\n    fallback: 'No lyrics found.'\n    sources: musixmatch lyricwiki lyrics.com genius #google\nreplaygain:\n    auto: yes\n    backend: gstreamer\n    overwrite: no\nwlg:\n    auto: yes\n    force: yes\n    count: 3\nmpdstats:\n    rating_mix: 0.75\nui:\n    color: yes\nmusicbrainz:\n    searchlimit: 5\nmatch:\n    strong_rec_thresh: 0.04\n    medium_rec_thresh: 0.25\n    rec_gap_thresh: 0.25\n    max_rec:\n        missing_tracks: medium\n        unmatched_tracks: medium\n    preferred:\n        countries: ['US', 'GB|UK', 'AU', 'AR', 'ES']\nzero:\n    fields: genre\n    update_database: true\nimportfeeds:\n    formats: m3u_multi\n    dir: /net/nfs4/server/mediacentre/Music/Playlists/\n    relative_to: /net/nfs4/server/mediacentre/Music/Library_test/\nsmartplaylist:\n    relative_to: /net/nfs4/server/mediacentre/Music/Library_test/\n    playlist_dir: /net/nfs4/server/mediacentre/Music/Playlists/\n    playlists:\n        - name: 'loved_beets.m3u'\n          query: 'loved:1'\ntypes:\n    loved: int\n    play_count: int\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1937/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1927", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1927/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1927/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1927/events", "html_url": "https://github.com/beetbox/beets/issues/1927", "id": 145522377, "node_id": "MDU6SXNzdWUxNDU1MjIzNzc=", "number": 1927, "title": "Error editing id3 during import", "user": {"login": "rlegrand", "id": 1202591, "node_id": "MDQ6VXNlcjEyMDI1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1202591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlegrand", "html_url": "https://github.com/rlegrand", "followers_url": "https://api.github.com/users/rlegrand/followers", "following_url": "https://api.github.com/users/rlegrand/following{/other_user}", "gists_url": "https://api.github.com/users/rlegrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlegrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlegrand/subscriptions", "organizations_url": "https://api.github.com/users/rlegrand/orgs", "repos_url": "https://api.github.com/users/rlegrand/repos", "events_url": "https://api.github.com/users/rlegrand/events{/privacy}", "received_events_url": "https://api.github.com/users/rlegrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-03T17:40:10Z", "updated_at": "2016-04-03T21:42:57Z", "closed_at": "2016-04-03T21:42:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Problem\n\nWhen I try to edit id3 tags on the fly (with the edit plugin, based on this functionality #396), I've got an error (stacktrace)\n\nRunning this command in verbose (`-vv`) mode:\n\n``` sh\n$ beet -vv  import /media/multimedia/multimedia/zik/1955/\n```\n\nLed to this problem:\n\n```\nTagging  -\nNo album IDs found.\nSearch terms:  -\nAlbum might be VA: True\nEvaluating 0 candidates.\nSending event: import_task_start\n\n/media/multimedia/multimedia/zik/1955/file.mp3 (1 items)\nSending event: before_choose_candidate\nNo matching release found for 1 tracks.\nFor help, see: http://beets.readthedocs.org/en/latest/faq.html#nomatch\nLooking up: /media/multimedia/multimedia/zik/1955/file2.mp3\n[U]se as-is, as Tracks, Group albums, Skip, Enter search, enter Id, aBort,\nTagging 0 - 2\neDit? No album IDs found.\nSearch terms: 0 - 2\nAlbum might be VA: False\nD\nSending event: albuminfo_received\nSending event: albuminfo_received\nSending event: albuminfo_received\nSending event: albuminfo_received\nSending event: albuminfo_received\nEvaluating 5 candidates.\nCandidate: *0 - 0.011\nSuccess. Distance: 0.55\nCandidate: 0 - Null & Void\nSuccess. Distance: 0.57\nCandidate: 0 - Null & Void\nSuccess. Distance: 0.57\nCandidate: 0 - Null & Void\nSuccess. Distance: 0.57\nCandidate: *0 - 0.000\nSuccess. Distance: 0.83\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.17', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1236, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1226, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 966, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 943, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 321, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 302, in run\n    out = self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 161, in coro\n    task = func(*(args + (task,)))\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 1286, in user_query\n    task.choose_match(session)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 780, in choose_match\n    choice = session.choose_match(self)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 758, in choose_match\n    post_choice = extra_ops[choice](self, task)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/edit.py\", line 360, in importer_edit\n    success = self.edit_objects(task.items, fields)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/edit.py\", line 249, in edit_objects\n    edit(new.name)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/edit.py\", line 49, in edit\n    subprocess.call(cmd)\n  File \"/usr/lib/python2.7/subprocess.py\", line 522, in call\n    return Popen(*popenargs, **kwargs).wait()\n  File \"/usr/lib/python2.7/subprocess.py\", line 710, in __init__\n    errread, errwrite)\n  File \"/usr/lib/python2.7/subprocess.py\", line 1335, in _execute_child\n    raise child_exception\nOSError: [Errno 2] No such file or directory\n```\n### Setup\n- OS: debian (raspbian)\n- Python version: 2.7.9\n- beets version: 1.3.17\n- Turning off plugins made problem go away (yes/no): no (only using edit plugin)\n\nMy configuration (output of `beet config`) is:\ndirectory: /media/multimedia/tmp\n\n```\nimport:\n    group_albums: yes\nlibrary: /media/multimedia/beets-library.blb\n\nplugins: edit\nedit:\n    itemfields: track title artist album\n    albumfields: album albumartist\n    ignore_fields: id path\n```\n\n``` yaml\ndirectory: /media/multimedia/tmp\nlibrary: /media/multimedia/beets-library.blb\n\nimport:\n  group_albums: yes\n\nplugins: edit\n```\n### More:\n\nI don't know python at all, but tried to add this to edit.py, line 49:\n\n```\nui.print_(filename );\n```\n\nWhich outputs:\n\n```\n/tmp/tmpili298.yaml\n```\n\nAnd this files effectively doesn't exists.\n\nThank you for your help.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1921", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1921/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1921/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1921/events", "html_url": "https://github.com/beetbox/beets/issues/1921", "id": 144408024, "node_id": "MDU6SXNzdWUxNDQ0MDgwMjQ=", "number": 1921, "title": "%media imported from Discogs is always CD", "user": {"login": "kroem", "id": 17495744, "node_id": "MDQ6VXNlcjE3NDk1NzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/17495744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kroem", "html_url": "https://github.com/kroem", "followers_url": "https://api.github.com/users/kroem/followers", "following_url": "https://api.github.com/users/kroem/following{/other_user}", "gists_url": "https://api.github.com/users/kroem/gists{/gist_id}", "starred_url": "https://api.github.com/users/kroem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kroem/subscriptions", "organizations_url": "https://api.github.com/users/kroem/orgs", "repos_url": "https://api.github.com/users/kroem/repos", "events_url": "https://api.github.com/users/kroem/events{/privacy}", "received_events_url": "https://api.github.com/users/kroem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-03-29T22:32:01Z", "updated_at": "2016-10-17T15:05:50Z", "closed_at": "2016-10-17T15:05:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "All releases from Discogs show up as CD - when matching to a release on MB there a correct tag . \n\nAnyway to get beets to pickup if a release is CD/Vinyl/Digital when importing from Discogs? There's so many of my releases that aren't on MB so Discogs is pretty essential. \n\nAlternatively - and this is outside of beets I guess - is there any smooth import/export feature to get a Discogs release to MB? \n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1921/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1914", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1914/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1914/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1914/events", "html_url": "https://github.com/beetbox/beets/issues/1914", "id": 142280048, "node_id": "MDU6SXNzdWUxNDIyODAwNDg=", "number": 1914, "title": "lyricwiki fails with IndexError: list index out of range", "user": {"login": "arogl", "id": 1115472, "node_id": "MDQ6VXNlcjExMTU0NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1115472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arogl", "html_url": "https://github.com/arogl", "followers_url": "https://api.github.com/users/arogl/followers", "following_url": "https://api.github.com/users/arogl/following{/other_user}", "gists_url": "https://api.github.com/users/arogl/gists{/gist_id}", "starred_url": "https://api.github.com/users/arogl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arogl/subscriptions", "organizations_url": "https://api.github.com/users/arogl/orgs", "repos_url": "https://api.github.com/users/arogl/repos", "events_url": "https://api.github.com/users/arogl/events{/privacy}", "received_events_url": "https://api.github.com/users/arogl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-03-21T08:01:32Z", "updated_at": "2016-03-22T10:24:19Z", "closed_at": "2016-03-21T17:29:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Problem\n\nRunning this command in verbose (`-vv`) mode:\n\n``` sh\nC:\\>beet -vv lyrics artist:\"10,000 Maniacs\" album:\"The Earth Pressed Flat\"\nuser configuration: C:\\Users\\Andre\\AppData\\Roaming\\beets\\config.yaml\ndata directory: C:\\Users\\Andre\\AppData\\Roaming\\beets\nplugin paths: C:\\Users\\Andre\\AppData\\Roaming\\beets\\beetsplug\nSending event: pluginload\nin init Searching amazon\nlibrary database: C:\\Users\\Andre\\AppData\\Roaming\\beets\\library.db\nlibrary directory: F:\\Music\\\nSending event: library_opened\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - The Earth Pressed Flat\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Ellen\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Once a City\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Glow\nlyrics: failed to fetch: http://lyrics.wikia.com/10%2C000_Maniacs:On_%26_On_%28Mersey_Song%29 (404)\nlyrics: failed to fetch: http://lyrics.wikia.com/10%2C000_Maniacs:On_%26_On (404)\nlyrics: lyrics not found: 10,000 Maniacs - The Earth Pressed Flat - On & On (Mersey Song)\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Somebody's Heaven\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Cabaret\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Beyond the Blue\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Smallest Step\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - In the Quiet Morning\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Time Turns\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Hidden in My Heart\nlyrics: lyrics already present: 10,000 Maniacs - The Earth Pressed Flat - Who Knows Where the Time Goes?\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\beet-script.py\", line 9, in <module>\n    load_entry_point('beets==1.3.18', 'console_scripts', 'beet')()\n  File \"c:\\python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1238, in main\n    _raw_main(args)\n  File \"c:\\python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1228, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"c:\\python27\\lib\\site-packages\\beetsplug\\lyrics.py\", line 607, in func\n    opts.force_refetch or self.config['force'],\n  File \"c:\\python27\\lib\\site-packages\\beetsplug\\lyrics.py\", line 633, in fetch_item_lyrics\n    lyrics = [self.get_lyrics(artist, title) for title in titles]\n  File \"c:\\python27\\lib\\site-packages\\beetsplug\\lyrics.py\", line 660, in get_lyrics\n    lyrics = backend.fetch(artist, title)\n  File \"c:\\python27\\lib\\site-packages\\beetsplug\\lyrics.py\", line 335, in fetch\n    lyrics = scrape_lyrics_from_html(lyrics)\n  File \"c:\\python27\\lib\\site-packages\\beetsplug\\lyrics.py\", line 433, in scrape_lyrics_from_html\n    soup = sorted(soup.stripped_strings, key=len)[-1]\nIndexError: list index out of range\n\n```\n\nLed to this problem:\n\nIn theory only opening 1 connection to http://lyrics.wikia.com/\n\n``` sh\nC:\\>beet -vv lyrics artist:\"10,000 Maniacs\" album:\"The Earth Pressed Flat\" title:\"On & On (Mersey Song)\"\nuser configuration: C:\\Users\\Andre\\AppData\\Roaming\\beets\\config.yaml\ndata directory: C:\\Users\\Andre\\AppData\\Roaming\\beets\nplugin paths: C:\\Users\\Andre\\AppData\\Roaming\\beets\\beetsplug\nSending event: pluginload\nin init Searching amazon\nlibrary database: C:\\Users\\Andre\\AppData\\Roaming\\beets\\library.db\nlibrary directory: F:\\Music\\\nSending event: library_opened\nlyrics: failed to fetch: http://lyrics.wikia.com/10%2C000_Maniacs:On_%26_On_%28Mersey_Song%29 (404)\nlyrics: failed to fetch: http://lyrics.wikia.com/10%2C000_Maniacs:On_%26_On (404)\nlyrics: lyrics not found: 10,000 Maniacs - The Earth Pressed Flat - On & On (Mersey Song)\nSending event: cli_exit\n```\n### Setup\n- OS: win10_x64\n- Python version: 2.7.11\n- beets version: GIt as of c9be5bc7d14865ff3d00628dc0cc7e07d71ed1c3\n- Turning off plugins made problem go away (yes/no): no\n\nMy configuration (output of `beet config`) is:\n\n``` yaml\nlyrics:\n    sources: [lyricwiki]\n    fallback: ''\n    google_API_key: REDACTED\n    google_engine_ID: REDACTED\n    force: no\n    auto: yes\n    genius_api_key: REDACTED\nimportadded:\n    preserve_mtimes: yes\nfetchart:\n    auto: yes\n    cautious: yes\n    cover_names: cover front art album folder\n    google_search: no\n    minwidth: 0\n    enforce_ratio: no\n    remote_priority: no\n    sources: coverart itunes albumart amazon google wikipedia\n    google_engine: REDACTED\n    maxwidth: 0\n    google_key: REDACTED\nduplicates:\n    album: no\n    checksum: ffmpeg -i {file} -f crc -\n    copy: none\n    count: no\n    delete: no\n    format: $albumartist - $album - $title\n    full: no\n    strict: no\n    keys: [mb_trackid, mb_albumid]\n    move: none\n    path: no\n    tag: ''\n    tiebreak: {}\n    merge: no\nembedart:\n    auto: yes\n    compare_threshold: 0\n    ifempty: no\n    remove_art_file: no\n    maxwidth: 0\nreplace:\n    '[\\\\/]': ''\n    ^\\.: ''\n    '[\\x00-\\x1f]': ''\n    '[<>:\\\"\\?\\*\\|]': ''\n    \\.$: ''\n    \\s+$: ''\n    ^\\s+: ''\n    \"\\\\\\u201C\": ''\n    \"\\\\\\u201D\": ''\n    \\`: ''''\n    \"\\\\\\u2019\": ''''\nreplaygain:\n    overwrite: no\n    auto: yes\n    command: c:\\agrbin\\aacgain.exe\n    targetlevel: 89\n    backend: command\n    noclip: yes\ncopyartifacts:\n    extensions: .pdf\n    print_ignored: no\npluginpath: C:\\Users\\Andre\\AppData\\Roaming\\beets\\beetsplug\n\nplugins: chroma discogs lastgenre mbsync fetchart embedart replaygain duplicates missing info scrub zero fromfilename amazon ftintitle copyartifacts importadded lyrics\nscrub:\n    auto: yes\ncheck:\n\n    import: yes\n    write-check: yes\n    write-update: yes\n    convert-update: yes\n    threads: 4\n\npaths:\n    default: '%upper{%left{$albumartist,1}}/$albumartist/($year) $album%aunique{}/$album - $track - $artist - $title'\n    singleton: Singles/$artist - $title\n    albumtype:soundtrack: Soundtracks/($year) $album%aunique{}/$album - $track - $artist - $title\n    albumartist:various\\ artists: Various Artists/($year) $album%aunique{}/$album - $track - $artist - $title\n    albumartist:various: Various Artists/($year) $album%aunique{}/$album - $track - $artist - $title\n    comp: Various Artists/($year) $album%aunique{}/$album - $track - $artist - $title\nconvert:\n    ffmpeg: c:\\agrbin\\bin\\ffmpeg.exe\n    embed: yes\n    format: mp3\n    max_bitrate: 192\n    dest: '%upper{%left{$albumartist,1}}/$albumartist/($year) $album%aunique{}/$album - $track - $artist - $title'\n    threads: 4\n\n    paths:\n        default: '%upper{%left{$albumartist,1}}/$albumartist/($year) $album%aunique{}/$album - $track - $artist - $title'\nthreaded: no\nart_filename: cover\nid3v23: no\nzero:\n    fields: month day genre comments\n    comments:\n    - EAC\n    - LAME\n    - from.+collection\n    - ripped by\n    update_database: no\n    keep_fields: []\namazon:\n    Access_Key_ID:  REDACTED\n    Secret_Access_Key:  REDACTED\n    asso_tag: beets\n    source_weight: 0.3\nignore: .AppleDouble ._* *~ .DS_Store *.sfv *.srr *.nfo *.m3u\n\nui:\n    color: yes\n    colors:\n        text_success: green\n        text_warning: yellow\n        text_error: red\n        text_highlight: red\n        text_highlight_minor: lightgray\n        action_default: turquoise\n        action: yellow\ndirectory: \\\\?\\F:\\Music\\\n\nimport:\n    copy: no\n    move: yes\n    write: yes\n    resume: ask\n    quiet_fallback: skip\n    timid: no\n    log: F:\\new_Music\\beetslog.txt\n    languages: en\nacoustid:\n    apikey: REDACTED\nlastgenre:\n    count: 1\n    source: album\n    force: yes\n    min_weight: 10\n    auto: yes\n    whitelist: yes\n    separator: ', '\n    fallback:\n    canonical: no\ndiscogs:\n    tokenfile: discogs_token.json\n    apikey: REDACTED\n    apisecret: REDACTED\n    source_weight: 0.5\nftintitle:\n    auto: yes\n    drop: no\n    format: feat. {0}\nchroma:\n    auto: yes\nmissing:\n    count: no\n    total: no\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1889", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1889/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1889/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1889/events", "html_url": "https://github.com/beetbox/beets/issues/1889", "id": 135027122, "node_id": "MDU6SXNzdWUxMzUwMjcxMjI=", "number": 1889, "title": "New URL has broken AppVeyor", "user": {"login": "jackwilsdon", "id": 1843197, "node_id": "MDQ6VXNlcjE4NDMxOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1843197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackwilsdon", "html_url": "https://github.com/jackwilsdon", "followers_url": "https://api.github.com/users/jackwilsdon/followers", "following_url": "https://api.github.com/users/jackwilsdon/following{/other_user}", "gists_url": "https://api.github.com/users/jackwilsdon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackwilsdon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackwilsdon/subscriptions", "organizations_url": "https://api.github.com/users/jackwilsdon/orgs", "repos_url": "https://api.github.com/users/jackwilsdon/repos", "events_url": "https://api.github.com/users/jackwilsdon/events{/privacy}", "received_events_url": "https://api.github.com/users/jackwilsdon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 168673069, "node_id": "MDU6TGFiZWwxNjg2NzMwNjk=", "url": "https://api.github.com/repos/beetbox/beets/labels/testing", "name": "testing", "color": "bfdadc", "default": false, "description": "Relates to the testing/CI infrastructure"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-02-20T03:15:27Z", "updated_at": "2016-02-23T23:14:46Z", "closed_at": "2016-02-20T06:34:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It looks like the new URL of `beetbox/beets` has stopped AppVeyor tests being run (https://ci.appveyor.com/project/beetbox/beets returns a 404, and https://ci.appveyor.com/project/sampsyo/beets hasn't been updated since the rename). It also looks like any new PRs aren't being tested by AppVeyor.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1889/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1880", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1880/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1880/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1880/events", "html_url": "https://github.com/beetbox/beets/issues/1880", "id": 133371874, "node_id": "MDU6SXNzdWUxMzMzNzE4NzQ=", "number": 1880, "title": "lyrics: Use hyphens in place spaces, not underscores, to construct URL for Musixmatch", "user": {"login": "Oyashirox", "id": 17209842, "node_id": "MDQ6VXNlcjE3MjA5ODQy", "avatar_url": "https://avatars.githubusercontent.com/u/17209842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oyashirox", "html_url": "https://github.com/Oyashirox", "followers_url": "https://api.github.com/users/Oyashirox/followers", "following_url": "https://api.github.com/users/Oyashirox/following{/other_user}", "gists_url": "https://api.github.com/users/Oyashirox/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oyashirox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oyashirox/subscriptions", "organizations_url": "https://api.github.com/users/Oyashirox/orgs", "repos_url": "https://api.github.com/users/Oyashirox/repos", "events_url": "https://api.github.com/users/Oyashirox/events{/privacy}", "received_events_url": "https://api.github.com/users/Oyashirox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-02-12T23:49:19Z", "updated_at": "2016-03-18T15:51:39Z", "closed_at": "2016-03-18T15:51:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI try to get lyrics for some songs. I know they exist on musixmatch (i.e https://www.musixmatch.com/lyrics/Dead-Astronauts/Part-Two) but beets says : \n\n> lyrics: lyrics not found: Dead Astronauts - Constellations - Part Two\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1865", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1865/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1865/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1865/events", "html_url": "https://github.com/beetbox/beets/issues/1865", "id": 131422654, "node_id": "MDU6SXNzdWUxMzE0MjI2NTQ=", "number": 1865, "title": "Implicit path queries in a boolean OR yield a match-all query", "user": {"login": "intelfx", "id": 1158172, "node_id": "MDQ6VXNlcjExNTgxNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1158172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/intelfx", "html_url": "https://github.com/intelfx", "followers_url": "https://api.github.com/users/intelfx/followers", "following_url": "https://api.github.com/users/intelfx/following{/other_user}", "gists_url": "https://api.github.com/users/intelfx/gists{/gist_id}", "starred_url": "https://api.github.com/users/intelfx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/intelfx/subscriptions", "organizations_url": "https://api.github.com/users/intelfx/orgs", "repos_url": "https://api.github.com/users/intelfx/repos", "events_url": "https://api.github.com/users/intelfx/events{/privacy}", "received_events_url": "https://api.github.com/users/intelfx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-04T17:46:05Z", "updated_at": "2022-06-12T13:50:08Z", "closed_at": "2022-06-12T13:50:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is best illustrated by example:\n- `beet list /path/to/library/A` \u2014 works\n- `beet list /path/to/library/B` \u2014 works\n- `beet list /path/to/library/A , /path/to/library/B` \u2014 **lists the whole library**\n- `beet list path:/path/to/library/A , path:/path/to/library/B` \u2014 works\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1865/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1859", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1859/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1859/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1859/events", "html_url": "https://github.com/beetbox/beets/issues/1859", "id": 131189492, "node_id": "MDU6SXNzdWUxMzExODk0OTI=", "number": 1859, "title": "lastimport: Use project's API key", "user": {"login": "intelfx", "id": 1158172, "node_id": "MDQ6VXNlcjExNTgxNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1158172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/intelfx", "html_url": "https://github.com/intelfx", "followers_url": "https://api.github.com/users/intelfx/followers", "following_url": "https://api.github.com/users/intelfx/following{/other_user}", "gists_url": "https://api.github.com/users/intelfx/gists{/gist_id}", "starred_url": "https://api.github.com/users/intelfx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/intelfx/subscriptions", "organizations_url": "https://api.github.com/users/intelfx/orgs", "repos_url": "https://api.github.com/users/intelfx/repos", "events_url": "https://api.github.com/users/intelfx/events{/privacy}", "received_events_url": "https://api.github.com/users/intelfx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-02-03T23:33:30Z", "updated_at": "2016-02-24T17:38:56Z", "closed_at": "2016-02-24T15:18:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Looks like the lastimport plugin requires a user to get their own last.fm API key. This is not mentioned in the docs.\n\nMoreover, why can't a global (per-app) API key be used?\n\nI'm sorry if this is explained somewhere. A cursory sweep over the docs told me nothing.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1859/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1806", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1806/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1806/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1806/events", "html_url": "https://github.com/beetbox/beets/issues/1806", "id": 125883986, "node_id": "MDU6SXNzdWUxMjU4ODM5ODY=", "number": 1806, "title": "stats -e fails when file is missing", "user": {"login": "lucaspanjer", "id": 2180, "node_id": "MDQ6VXNlcjIxODA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucaspanjer", "html_url": "https://github.com/lucaspanjer", "followers_url": "https://api.github.com/users/lucaspanjer/followers", "following_url": "https://api.github.com/users/lucaspanjer/following{/other_user}", "gists_url": "https://api.github.com/users/lucaspanjer/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucaspanjer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucaspanjer/subscriptions", "organizations_url": "https://api.github.com/users/lucaspanjer/orgs", "repos_url": "https://api.github.com/users/lucaspanjer/repos", "events_url": "https://api.github.com/users/lucaspanjer/events{/privacy}", "received_events_url": "https://api.github.com/users/lucaspanjer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-11T06:51:35Z", "updated_at": "2016-01-11T18:14:18Z", "closed_at": "2016-01-11T18:14:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Stats exact fails when it can't find the file on disk. In this case the file had been removed but was still in the beets library. Beets should probably proceed and note the number of missing files in the statistics summary.\n\n```\n$ beet stats -e\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.16', 'console_scripts', 'beet')()\n  File \"/Library/Python/2.7/site-packages/beets/ui/__init__.py\", line 1207, in main\n    _raw_main(args)\n  File \"/Library/Python/2.7/site-packages/beets/ui/__init__.py\", line 1197, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Library/Python/2.7/site-packages/beets/ui/commands.py\", line 1267, in stats_func\n    show_stats(lib, decargs(args), opts.exact)\n  File \"/Library/Python/2.7/site-packages/beets/ui/commands.py\", line 1235, in show_stats\n    total_size += os.path.getsize(item.path)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/genericpath.py\", line 57, in getsize\n    return os.stat(filename).st_size\nOSError: [Errno 2] No such file or directory: ...\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1806/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1804", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1804/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1804/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1804/events", "html_url": "https://github.com/beetbox/beets/issues/1804", "id": 125687532, "node_id": "MDU6SXNzdWUxMjU2ODc1MzI=", "number": 1804, "title": "edit plugin doesn't rename folders", "user": {"login": "stp242", "id": 15237908, "node_id": "MDQ6VXNlcjE1MjM3OTA4", "avatar_url": "https://avatars.githubusercontent.com/u/15237908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stp242", "html_url": "https://github.com/stp242", "followers_url": "https://api.github.com/users/stp242/followers", "following_url": "https://api.github.com/users/stp242/following{/other_user}", "gists_url": "https://api.github.com/users/stp242/gists{/gist_id}", "starred_url": "https://api.github.com/users/stp242/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stp242/subscriptions", "organizations_url": "https://api.github.com/users/stp242/orgs", "repos_url": "https://api.github.com/users/stp242/repos", "events_url": "https://api.github.com/users/stp242/events{/privacy}", "received_events_url": "https://api.github.com/users/stp242/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-01-08T20:30:09Z", "updated_at": "2016-01-10T07:40:28Z", "closed_at": "2016-01-10T07:40:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "when I do:\n`beet edit album:\"somealbum\"`\n\nand change the album artist, the folder doesn't get renamed.\n\nusing beets 1.3.16 on OS X 10.9\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1804/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1804/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1802", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1802/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1802/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1802/events", "html_url": "https://github.com/beetbox/beets/issues/1802", "id": 125128149, "node_id": "MDU6SXNzdWUxMjUxMjgxNDk=", "number": 1802, "title": "Typos in variables, methods & options", "user": {"login": "JesseWeinstein", "id": 200568, "node_id": "MDQ6VXNlcjIwMDU2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/200568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JesseWeinstein", "html_url": "https://github.com/JesseWeinstein", "followers_url": "https://api.github.com/users/JesseWeinstein/followers", "following_url": "https://api.github.com/users/JesseWeinstein/following{/other_user}", "gists_url": "https://api.github.com/users/JesseWeinstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/JesseWeinstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JesseWeinstein/subscriptions", "organizations_url": "https://api.github.com/users/JesseWeinstein/orgs", "repos_url": "https://api.github.com/users/JesseWeinstein/repos", "events_url": "https://api.github.com/users/JesseWeinstein/events{/privacy}", "received_events_url": "https://api.github.com/users/JesseWeinstein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-06T07:32:05Z", "updated_at": "2016-01-06T11:07:51Z", "closed_at": "2016-01-06T11:07:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here are some typos I've noticed:\n\nhttps://github.com/sampsyo/beets/blob/master/beets/ui/commands.py#L443 `def _summary_judment(rec):` should be `def _summary_judgment(rec):`\n\nhttps://github.com/sampsyo/beets/blob/master/beetsplug/play.py#L44 `'warning_treshold': 100,` should be `'warning_threshold': 100,`\n\nI'll submit a PR to fix them soon.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1802/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1770", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1770/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1770/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1770/events", "html_url": "https://github.com/beetbox/beets/issues/1770", "id": 123775541, "node_id": "MDU6SXNzdWUxMjM3NzU1NDE=", "number": 1770, "title": "lyrics: Handle JSON decode errors", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/13", "html_url": "https://github.com/beetbox/beets/milestone/13", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/13/labels", "id": 1384401, "node_id": "MDk6TWlsZXN0b25lMTM4NDQwMQ==", "number": 13, "title": "1.3.16", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-10-29T22:50:00Z", "updated_at": "2016-11-20T20:00:09Z", "due_on": null, "closed_at": "2016-11-20T20:00:09Z"}, "comments": 2, "created_at": "2015-12-24T08:33:01Z", "updated_at": "2015-12-29T00:37:09Z", "closed_at": "2015-12-29T00:33:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "It worked fine few days ago. Now I get this: \nhttp://pastebin.com/Ni1y4DB3\nhttp://pastebin.com/hsYMucKK\n\nDisabling the lyrics plugin solves the problem.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1770/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1762", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1762/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1762/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1762/events", "html_url": "https://github.com/beetbox/beets/issues/1762", "id": 121858871, "node_id": "MDU6SXNzdWUxMjE4NTg4NzE=", "number": 1762, "title": "discogs: On vinyl releases, \"sides\" treated as \"disks\"", "user": {"login": "m0nkey-br4in", "id": 8735883, "node_id": "MDQ6VXNlcjg3MzU4ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/8735883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m0nkey-br4in", "html_url": "https://github.com/m0nkey-br4in", "followers_url": "https://api.github.com/users/m0nkey-br4in/followers", "following_url": "https://api.github.com/users/m0nkey-br4in/following{/other_user}", "gists_url": "https://api.github.com/users/m0nkey-br4in/gists{/gist_id}", "starred_url": "https://api.github.com/users/m0nkey-br4in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m0nkey-br4in/subscriptions", "organizations_url": "https://api.github.com/users/m0nkey-br4in/orgs", "repos_url": "https://api.github.com/users/m0nkey-br4in/repos", "events_url": "https://api.github.com/users/m0nkey-br4in/events{/privacy}", "received_events_url": "https://api.github.com/users/m0nkey-br4in/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-12T14:16:37Z", "updated_at": "2016-10-17T15:05:04Z", "closed_at": "2016-10-17T15:05:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've retagged this release recently: http://www.discogs.com/Various-1989-Hustlers-Convention-Live/release/404846\nAnd noticed afterwards, that iTunes shows me it's on two disks, which is clearly wrong. Then i've found more releases that show up with more disks than they really had.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1762/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1760", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1760/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1760/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1760/events", "html_url": "https://github.com/beetbox/beets/issues/1760", "id": 121778902, "node_id": "MDU6SXNzdWUxMjE3Nzg5MDI=", "number": 1760, "title": "Fetchart searches having problems", "user": {"login": "Nukien", "id": 3519651, "node_id": "MDQ6VXNlcjM1MTk2NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3519651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nukien", "html_url": "https://github.com/Nukien", "followers_url": "https://api.github.com/users/Nukien/followers", "following_url": "https://api.github.com/users/Nukien/following{/other_user}", "gists_url": "https://api.github.com/users/Nukien/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nukien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nukien/subscriptions", "organizations_url": "https://api.github.com/users/Nukien/orgs", "repos_url": "https://api.github.com/users/Nukien/repos", "events_url": "https://api.github.com/users/Nukien/events{/privacy}", "received_events_url": "https://api.github.com/users/Nukien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-11T19:43:13Z", "updated_at": "2015-12-13T00:48:17Z", "closed_at": "2015-12-13T00:47:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just noticed that cover art wasn't being found for some albums, so checked with **-v**\n#### Google search uses old API that is no longer available\n\n> fetchart: trying source google for album Yazz - The Natural Life\n> fetchart: getting URL: https://ajax.googleapis.com/ajax/services/search/images?q=Yazz%2CThe+Natural+Life\n> &start=0&v=1.0\n> fetchart: error scraping art page\n> fetchart: Yazz - The Natural Life: no art found\n\nSo I tested some URLs directly ...\n\n> https://ajax.googleapis.com/ajax/services/search/images?q=Yazz%2CThe+Natural+Life&start=0&v=1.0\n> https://ajax.googleapis.com/ajax/services/search/images?q=The+Motels%2CAll+Four+One&start=0&v=1.0\n\nand get an error page from google\n\n> {\"responseData\": null, \"responseDetails\": \"This API is no longer available.\", \"responseStatus\": 403}\n#### iTunes fails with **index out of range**\n\n> fetchart: trying source itunes for album Yazz - The Natural Life\n> fetchart: iTunes search failed: list index out of range\n\nI'm assuming that this is when it can't find that particular cover, so this one is probably not an issue.  But it seems to happen a lot, and I thought iTunes had a good selection of cover art ...\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1760/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1734", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1734/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1734/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1734/events", "html_url": "https://github.com/beetbox/beets/issues/1734", "id": 118110943, "node_id": "MDU6SXNzdWUxMTgxMTA5NDM=", "number": 1734, "title": "Crash when sorting by nonexistent field", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/13", "html_url": "https://github.com/beetbox/beets/milestone/13", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/13/labels", "id": 1384401, "node_id": "MDk6TWlsZXN0b25lMTM4NDQwMQ==", "number": 13, "title": "1.3.16", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-10-29T22:50:00Z", "updated_at": "2016-11-20T20:00:09Z", "due_on": null, "closed_at": "2016-11-20T20:00:09Z"}, "comments": 2, "created_at": "2015-11-20T19:34:59Z", "updated_at": "2015-12-13T02:10:59Z", "closed_at": "2015-12-13T02:10:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Executing the query string \"--\" exposes a bug in the query parser.\n\n```\n$ beet ls -- --\nTraceback (most recent call last):\n  File \"/home/asampson/.local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.16', 'console_scripts', 'beet')()\n  File \"/home/asampson/beets/beets/ui/__init__.py\", line 1207, in main\n    _raw_main(args)\n  File \"/home/asampson/beets/beets/ui/__init__.py\", line 1197, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/asampson/beets/beets/ui/commands.py\", line 958, in list_func\n    list_items(lib, decargs(args), opts.album)\n  File \"/home/asampson/beets/beets/ui/commands.py\", line 953, in list_items\n    for item in lib.items(query):\n  File \"/home/asampson/beets/beets/dbcore/db.py\", line 545, in __iter__\n    objects = self.sort.sort(list(self._get_objects()))\n  File \"/home/asampson/beets/beets/dbcore/query.py\", line 775, in sort\n    return sorted(objs, key=key, reverse=not self.ascending)\n  File \"/home/asampson/beets/beets/dbcore/query.py\", line 770, in key\n    field_val = getattr(item, self.field)\n  File \"/home/asampson/beets/beets/dbcore/db.py\", line 326, in __getattr__\n    raise AttributeError('no such field {0!r}'.format(key))\nAttributeError: no such field '-'\n```\n\nThe same occurs for any sequence of dashses longer than two: \"-------\" results in the same crash. Interestingly, \"----foo\" does not.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1734/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1734/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1722", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1722/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1722/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1722/events", "html_url": "https://github.com/beetbox/beets/issues/1722", "id": 116991123, "node_id": "MDU6SXNzdWUxMTY5OTExMjM=", "number": 1722, "title": "badfiles gives SyntaxError: Non-ASCII character '\\xc3' in file", "user": {"login": "jmwatte", "id": 768112, "node_id": "MDQ6VXNlcjc2ODExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/768112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwatte", "html_url": "https://github.com/jmwatte", "followers_url": "https://api.github.com/users/jmwatte/followers", "following_url": "https://api.github.com/users/jmwatte/following{/other_user}", "gists_url": "https://api.github.com/users/jmwatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwatte/subscriptions", "organizations_url": "https://api.github.com/users/jmwatte/orgs", "repos_url": "https://api.github.com/users/jmwatte/repos", "events_url": "https://api.github.com/users/jmwatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwatte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-15T12:50:38Z", "updated_at": "2015-11-19T20:18:01Z", "closed_at": "2015-11-19T20:16:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I did a fresh install with \n\n```\nsudo python2.7 -m pip install -e git+https://github.com/sampsyo/beets#egg=beets\n```\n\nand I get \n`\n ** error loading plugin badfiles:\nTraceback (most recent call last):\n  File \"/home/jmw/Documents/src/beets/beets/plugins.py\", line 254, in load_plugins\n    namespace = __import__(modname, None, None)\n  File \"/home/jmw/Documents/src/beets/beetsplug/badfiles.py\", line 2\nSyntaxError: Non-ASCII character '\\xc3' in file /home/jmw/Documents/src/beets/beetsplug/badfiles.py on line 2, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\n`\n\nNow I know its is the `\u00e7` in Fran\u00e7ois but  should that happen out of the box?  Is that a problem on my side?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1722/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1673", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1673/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1673/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1673/events", "html_url": "https://github.com/beetbox/beets/issues/1673", "id": 114162307, "node_id": "MDU6SXNzdWUxMTQxNjIzMDc=", "number": 1673, "title": "sre_constants.error: unbalanced parenthesis while importing Sunn O))) & Boris - Altar", "user": {"login": "Bercio", "id": 3931668, "node_id": "MDQ6VXNlcjM5MzE2Njg=", "avatar_url": "https://avatars.githubusercontent.com/u/3931668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bercio", "html_url": "https://github.com/Bercio", "followers_url": "https://api.github.com/users/Bercio/followers", "following_url": "https://api.github.com/users/Bercio/following{/other_user}", "gists_url": "https://api.github.com/users/Bercio/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bercio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bercio/subscriptions", "organizations_url": "https://api.github.com/users/Bercio/orgs", "repos_url": "https://api.github.com/users/Bercio/repos", "events_url": "https://api.github.com/users/Bercio/events{/privacy}", "received_events_url": "https://api.github.com/users/Bercio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/13", "html_url": "https://github.com/beetbox/beets/milestone/13", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/13/labels", "id": 1384401, "node_id": "MDk6TWlsZXN0b25lMTM4NDQwMQ==", "number": 13, "title": "1.3.16", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-10-29T22:50:00Z", "updated_at": "2016-11-20T20:00:09Z", "due_on": null, "closed_at": "2016-11-20T20:00:09Z"}, "comments": 2, "created_at": "2015-10-29T22:40:27Z", "updated_at": "2015-12-13T02:10:04Z", "closed_at": "2015-12-13T02:09:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.14', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1140, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 1130, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 875, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 852, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 316, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 301, in run\n    out = self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 183, in coro\n    func(*(args + (task,)))\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 1353, in plugin_stage\n    func(session, task)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/plugins.py\", line 123, in wrapper\n    return func(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/lyrics.py\", line 509, in imported\n    False, self.config['force'])\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/lyrics.py\", line 521, in fetch_item_lyrics\n    lyrics = [self.get_lyrics(artist, title) for title in titles]\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/lyrics.py\", line 548, in get_lyrics\n    lyrics = backend.fetch(artist, title)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/lyrics.py\", line 433, in fetch\n    title, artist):\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/lyrics.py\", line 409, in is_page_candidate\n    songTitle = re.sub(u'(%s)' % u'|'.join(tokens), u'', urlTitle)\n  File \"/usr/lib/python2.7/re.py\", line 151, in sub\n    return _compile(pattern, flags).sub(repl, string, count)\n  File \"/usr/lib/python2.7/re.py\", line 244, in _compile\n    raise error, v # invalid expression\nsre_constants.error: unbalanced parenthesis\n```\n\nMaybe caused by triple closed parens ? I don't have other Sunn O))) albums to test it on, sadly\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1673/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1666", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1666/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1666/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1666/events", "html_url": "https://github.com/beetbox/beets/issues/1666", "id": 114050007, "node_id": "MDU6SXNzdWUxMTQwNTAwMDc=", "number": 1666, "title": "Crash on UnicodeDecodeError: 'ascii' codec can't decode byte", "user": {"login": "teo", "id": 126364, "node_id": "MDQ6VXNlcjEyNjM2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/126364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teo", "html_url": "https://github.com/teo", "followers_url": "https://api.github.com/users/teo/followers", "following_url": "https://api.github.com/users/teo/following{/other_user}", "gists_url": "https://api.github.com/users/teo/gists{/gist_id}", "starred_url": "https://api.github.com/users/teo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teo/subscriptions", "organizations_url": "https://api.github.com/users/teo/orgs", "repos_url": "https://api.github.com/users/teo/repos", "events_url": "https://api.github.com/users/teo/events{/privacy}", "received_events_url": "https://api.github.com/users/teo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/13", "html_url": "https://github.com/beetbox/beets/milestone/13", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/13/labels", "id": 1384401, "node_id": "MDk6TWlsZXN0b25lMTM4NDQwMQ==", "number": 13, "title": "1.3.16", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-10-29T22:50:00Z", "updated_at": "2016-11-20T20:00:09Z", "due_on": null, "closed_at": "2016-11-20T20:00:09Z"}, "comments": 4, "created_at": "2015-10-29T13:33:28Z", "updated_at": "2015-11-13T20:21:55Z", "closed_at": "2015-11-13T20:21:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "The import operation seems to crash, I'm guessing it might have something to do with characters in SoundCheck metadata. The files in question are MP3.\n\nThis happens in 1.3.15 as well as in current master.\n\n```\nbeet -vv import -A public/Disks/red2/Music\n(...)\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.16', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1163, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1153, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 860, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 837, in import_files\n    session.run()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 318, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 251, in run\n    msg = self.coro.next()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1191, in read_tasks\n    for t in task_factory.tasks():\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1036, in tasks\n    tasks = self._create(self.album(paths, dirs))\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1115, in album\n    items = map(self.read_item, paths)\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1165, in read_item\n    return library.Item.from_path(path)\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 482, in from_path\n    i.read(path)\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 539, in read\n    value = getattr(mediafile, key)\n  File \"/usr/lib/python2.7/site-packages/beets/mediafile.py\", line 1079, in __get__\n    out = style.get(mediafile.mgfile)\n  File \"/usr/lib/python2.7/site-packages/beets/mediafile.py\", line 553, in get\n    return _sc_decode(data)[self.index]\n  File \"/usr/lib/python2.7/site-packages/beets/mediafile.py\", line 218, in _sc_decode\n    soundcheck = soundcheck.replace(' ', '').decode('hex')\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xef in position 93: ordinal not in range(128)\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1666/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1662", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1662/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1662/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1662/events", "html_url": "https://github.com/beetbox/beets/issues/1662", "id": 113698292, "node_id": "MDU6SXNzdWUxMTM2OTgyOTI=", "number": 1662, "title": "EmbedArt Plugin: remove_art_file doesn't seem to work", "user": {"login": "l-t-k", "id": 3150962, "node_id": "MDQ6VXNlcjMxNTA5NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3150962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l-t-k", "html_url": "https://github.com/l-t-k", "followers_url": "https://api.github.com/users/l-t-k/followers", "following_url": "https://api.github.com/users/l-t-k/following{/other_user}", "gists_url": "https://api.github.com/users/l-t-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/l-t-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l-t-k/subscriptions", "organizations_url": "https://api.github.com/users/l-t-k/orgs", "repos_url": "https://api.github.com/users/l-t-k/repos", "events_url": "https://api.github.com/users/l-t-k/events{/privacy}", "received_events_url": "https://api.github.com/users/l-t-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/13", "html_url": "https://github.com/beetbox/beets/milestone/13", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/13/labels", "id": 1384401, "node_id": "MDk6TWlsZXN0b25lMTM4NDQwMQ==", "number": 13, "title": "1.3.16", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-10-29T22:50:00Z", "updated_at": "2016-11-20T20:00:09Z", "due_on": null, "closed_at": "2016-11-20T20:00:09Z"}, "comments": 4, "created_at": "2015-10-27T21:54:20Z", "updated_at": "2015-11-03T00:51:12Z", "closed_at": "2015-11-03T00:46:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm running beets version 1.15. The EmbedArt plugin isn't removing the art file from the file system. \nLogfile: http://pastebin.com/n10bbdpS\nConfig: http://pastebin.com/ztrjd16C\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1662/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1657", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1657/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1657/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1657/events", "html_url": "https://github.com/beetbox/beets/issues/1657", "id": 113007236, "node_id": "MDU6SXNzdWUxMTMwMDcyMzY=", "number": 1657, "title": "scrub: Restore album art in `auto` hook", "user": {"login": "Kolbasz12", "id": 13027137, "node_id": "MDQ6VXNlcjEzMDI3MTM3", "avatar_url": "https://avatars.githubusercontent.com/u/13027137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kolbasz12", "html_url": "https://github.com/Kolbasz12", "followers_url": "https://api.github.com/users/Kolbasz12/followers", "following_url": "https://api.github.com/users/Kolbasz12/following{/other_user}", "gists_url": "https://api.github.com/users/Kolbasz12/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kolbasz12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kolbasz12/subscriptions", "organizations_url": "https://api.github.com/users/Kolbasz12/orgs", "repos_url": "https://api.github.com/users/Kolbasz12/repos", "events_url": "https://api.github.com/users/Kolbasz12/events{/privacy}", "received_events_url": "https://api.github.com/users/Kolbasz12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/13", "html_url": "https://github.com/beetbox/beets/milestone/13", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/13/labels", "id": 1384401, "node_id": "MDk6TWlsZXN0b25lMTM4NDQwMQ==", "number": 13, "title": "1.3.16", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2015-10-29T22:50:00Z", "updated_at": "2016-11-20T20:00:09Z", "due_on": null, "closed_at": "2016-11-20T20:00:09Z"}, "comments": 35, "created_at": "2015-10-23T12:07:12Z", "updated_at": "2016-01-02T07:24:36Z", "closed_at": "2015-12-13T02:30:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "recently finished importing all media into beets.  Upon completion I decided to check replaygain as it was not something I did during import.\n\ndid a basic query, beet replaygain year:2015\n\nIt does as expected, going through and adding replaygain to all files, but what was not expected is the fact that it clears the embeded album art.\n\nI can look at a folder, change view so the art appears and as replaygain goes through the files, one by one the embedded art disappears.  \n\nit is corrected by running beet embedart, but it seems like that shouldnt be needed.  Would beets be doing any other processing that would call to clear art?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1652", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1652/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1652/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1652/events", "html_url": "https://github.com/beetbox/beets/issues/1652", "id": 112218485, "node_id": "MDU6SXNzdWUxMTIyMTg0ODU=", "number": 1652, "title": "Importer sometimes skips duplicates without prompting for a choice", "user": {"login": "ekjaker", "id": 14990658, "node_id": "MDQ6VXNlcjE0OTkwNjU4", "avatar_url": "https://avatars.githubusercontent.com/u/14990658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ekjaker", "html_url": "https://github.com/ekjaker", "followers_url": "https://api.github.com/users/ekjaker/followers", "following_url": "https://api.github.com/users/ekjaker/following{/other_user}", "gists_url": "https://api.github.com/users/ekjaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/ekjaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ekjaker/subscriptions", "organizations_url": "https://api.github.com/users/ekjaker/orgs", "repos_url": "https://api.github.com/users/ekjaker/repos", "events_url": "https://api.github.com/users/ekjaker/events{/privacy}", "received_events_url": "https://api.github.com/users/ekjaker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-10-19T19:46:40Z", "updated_at": "2015-10-25T10:40:09Z", "closed_at": "2015-10-24T20:09:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Beets will skip sometimes duplicate albums when a prompt is needed.  I found this to happen quite often with large imports, especially after after the 20-30 mark where more than 50% gets trumped unjustly. The problem is rather annoying and potentially dangerous, as it creates empty folders without bringing in the audiofiles. The only way to know that something went wrong is check the log file and correct manually, which due to the high occurrence is not realistically feasible.\n\nFor every release, I always have a mp3 and flac folder. When importing, it should detect the duplicate and then ask whether I want to keep, release or remove, which it often does. But not always. The result is that I get both a folder for the flac and the mp3 version (I have paths setup to separate them), but one of them won't have any audiofiles, although the .cue .log file might be there from copyartifacts. The output on screen is \"This album is already in the library! All duplicates are empty, we ignore them\". In the logfile, I get a \"duplicate-replace\". This only happens with duplicates that get accepted automatically (t my knowledge). When I to have manually apply, it will give the duplicate prompt.\n\nI did some basic troubleshooting. When checking the database afterwards with ls, I only get one of the releases, either the flac or the mp3. When manually adding just the missing one, the duplicate question pops up and it gets added without an issue, showing every file twice with ls. When removing the database entry for that release (both mp3 files and flac files), and re-importing both folders manually again, again there is no problem.\nI also tried it without being threaded: no issue.\n\nMy guess is that when working with a large import copying the files to a new location (which is what I'm doing), a large queue of files to be copied might stack up, especially when there are a lot of highly recommended releases that get processed faster than they can get copied. When such a copy-backlog is present, and 2 duplicate folders (with different formats) come immediately one after the other, the first one gets processed normally and the copy operation is added to the copy-queue. When the second one gets processed, beets detects a duplicate in the database, checks the folder but finds it still to be empty (because the copy operation is still in the backlog) and does a duplicate-replace.\n\nTo reproduce the bug is not going be very straight forward, I'm afraid. I suggest preparing a folder with plenty of releases that get recognized easily and automatically get tagged as highly recommended (about 20 full size albums should be sufficient), followed by a few releases for duplicate albums but different formats. Probably the easiest way to do it, is to a run an import on a basic folder with a lot of releases till you have done about 40. Remove all the ones that needed input. Add the duplicate albums/different formats. If necessary, rename the folders of these albums to make them start with a \"z\" or something at the back of the alphabet, as those will be processed last by the importer. I have the error when performing an import-copy from one HDD to another. SSD might be too fast to easily reproduce the error.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1652/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1600", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1600/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1600/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1600/events", "html_url": "https://github.com/beetbox/beets/issues/1600", "id": 105879068, "node_id": "MDU6SXNzdWUxMDU4NzkwNjg=", "number": 1600, "title": "beets-play: Cleanup code doesn't run in `play_music()`.", "user": {"login": "nathdwek", "id": 5646609, "node_id": "MDQ6VXNlcjU2NDY2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5646609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathdwek", "html_url": "https://github.com/nathdwek", "followers_url": "https://api.github.com/users/nathdwek/followers", "following_url": "https://api.github.com/users/nathdwek/following{/other_user}", "gists_url": "https://api.github.com/users/nathdwek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathdwek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathdwek/subscriptions", "organizations_url": "https://api.github.com/users/nathdwek/orgs", "repos_url": "https://api.github.com/users/nathdwek/repos", "events_url": "https://api.github.com/users/nathdwek/events{/privacy}", "received_events_url": "https://api.github.com/users/nathdwek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 90159505, "node_id": "MDU6TGFiZWw5MDE1OTUwNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/refactor", "name": "refactor", "color": "bfdadc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "nathdwek", "id": 5646609, "node_id": "MDQ6VXNlcjU2NDY2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5646609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathdwek", "html_url": "https://github.com/nathdwek", "followers_url": "https://api.github.com/users/nathdwek/followers", "following_url": "https://api.github.com/users/nathdwek/following{/other_user}", "gists_url": "https://api.github.com/users/nathdwek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathdwek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathdwek/subscriptions", "organizations_url": "https://api.github.com/users/nathdwek/orgs", "repos_url": "https://api.github.com/users/nathdwek/repos", "events_url": "https://api.github.com/users/nathdwek/events{/privacy}", "received_events_url": "https://api.github.com/users/nathdwek/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nathdwek", "id": 5646609, "node_id": "MDQ6VXNlcjU2NDY2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5646609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nathdwek", "html_url": "https://github.com/nathdwek", "followers_url": "https://api.github.com/users/nathdwek/followers", "following_url": "https://api.github.com/users/nathdwek/following{/other_user}", "gists_url": "https://api.github.com/users/nathdwek/gists{/gist_id}", "starred_url": "https://api.github.com/users/nathdwek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nathdwek/subscriptions", "organizations_url": "https://api.github.com/users/nathdwek/orgs", "repos_url": "https://api.github.com/users/nathdwek/repos", "events_url": "https://api.github.com/users/nathdwek/events{/privacy}", "received_events_url": "https://api.github.com/users/nathdwek/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-09-10T19:14:29Z", "updated_at": "2016-01-01T10:29:27Z", "closed_at": "2016-01-01T10:29:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `play_music()` function in beets-play calls `interactive_open()`, which ends python execution rather then forking a new process. For this reason, cleanup code responsible of the deletion of the temporary playlist after the invocation of the player doesn't actually run.\n\n> We have two options:\n> - Make the `play` plugin use a different spawning mechanism (leaving `interactive_open` for `config -e` >and the like).\n> - Add an optional flag for `interactive_open` to avoid `exec`ing in place.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1600/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1588", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1588/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1588/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1588/events", "html_url": "https://github.com/beetbox/beets/issues/1588", "id": 104287461, "node_id": "MDU6SXNzdWUxMDQyODc0NjE=", "number": 1588, "title": "fetchart: Reconcile file types with embedart", "user": {"login": "Kolbasz12", "id": 13027137, "node_id": "MDQ6VXNlcjEzMDI3MTM3", "avatar_url": "https://avatars.githubusercontent.com/u/13027137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kolbasz12", "html_url": "https://github.com/Kolbasz12", "followers_url": "https://api.github.com/users/Kolbasz12/followers", "following_url": "https://api.github.com/users/Kolbasz12/following{/other_user}", "gists_url": "https://api.github.com/users/Kolbasz12/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kolbasz12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kolbasz12/subscriptions", "organizations_url": "https://api.github.com/users/Kolbasz12/orgs", "repos_url": "https://api.github.com/users/Kolbasz12/repos", "events_url": "https://api.github.com/users/Kolbasz12/events{/privacy}", "received_events_url": "https://api.github.com/users/Kolbasz12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-09-01T15:05:52Z", "updated_at": "2015-09-02T19:46:31Z", "closed_at": "2015-09-02T19:46:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to make the fetchart plugin ignore image formats that are not supported or convert them from not supported formats to ones that are supported?\n\nI have some files I was updating, fetching and embedding art.  For the most part it just ran, but every time it hit a gif image, it threw an error.  fetchart pulled the gifs during import, so if there was a way to make it ignore gifs on import or convert them, this would avoid the error.\n\nSpecifically:\n\nembedart: not embedding image of unsupported type: image/gif\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1588/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1587", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1587/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1587/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1587/events", "html_url": "https://github.com/beetbox/beets/issues/1587", "id": 104262978, "node_id": "MDU6SXNzdWUxMDQyNjI5Nzg=", "number": 1587, "title": "Case insensitive search for a file does not work", "user": {"login": "mried", "id": 9843448, "node_id": "MDQ6VXNlcjk4NDM0NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9843448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mried", "html_url": "https://github.com/mried", "followers_url": "https://api.github.com/users/mried/followers", "following_url": "https://api.github.com/users/mried/following{/other_user}", "gists_url": "https://api.github.com/users/mried/gists{/gist_id}", "starred_url": "https://api.github.com/users/mried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mried/subscriptions", "organizations_url": "https://api.github.com/users/mried/orgs", "repos_url": "https://api.github.com/users/mried/repos", "events_url": "https://api.github.com/users/mried/events{/privacy}", "received_events_url": "https://api.github.com/users/mried/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-09-01T13:11:53Z", "updated_at": "2015-09-12T19:47:39Z", "closed_at": "2015-09-12T19:47:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Imagine you have a file at `/path/to/library/A/File.mp3`. Executing `beet ls -f $path` will give us\n\n```\n/path/to/library/A/File.mp3\n```\n\nSo I would expect to get a result when executing `beet ls path:\"/path/to/library/A/File.mp3\"`, but beets doesn't find the file.\n\nI tried to find the bug but didn't succeed. One thing I noted is the where clause of the `PathQuery` (line 103 of `library.py`): The bound parameter is in lower case but the data at the database might contain upper case letters. Therefore, a check like `path = ?` might fail even if it shouldn't. So I changed it to `lower(path) = ?` but that didn't change the described behavior.\n\nWhat am I doing wrong?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1579", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1579/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1579/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1579/events", "html_url": "https://github.com/beetbox/beets/issues/1579", "id": 102954721, "node_id": "MDU6SXNzdWUxMDI5NTQ3MjE=", "number": 1579, "title": "fetchart: Handle exceptions in Google backend", "user": {"login": "randybias", "id": 25304, "node_id": "MDQ6VXNlcjI1MzA0", "avatar_url": "https://avatars.githubusercontent.com/u/25304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/randybias", "html_url": "https://github.com/randybias", "followers_url": "https://api.github.com/users/randybias/followers", "following_url": "https://api.github.com/users/randybias/following{/other_user}", "gists_url": "https://api.github.com/users/randybias/gists{/gist_id}", "starred_url": "https://api.github.com/users/randybias/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/randybias/subscriptions", "organizations_url": "https://api.github.com/users/randybias/orgs", "repos_url": "https://api.github.com/users/randybias/repos", "events_url": "https://api.github.com/users/randybias/events{/privacy}", "received_events_url": "https://api.github.com/users/randybias/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-25T05:42:38Z", "updated_at": "2019-02-20T13:45:44Z", "closed_at": "2019-02-20T13:45:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "With a big library if you force a fetchart there is a good chance that a connection is reset and unfortunately, this case isn't handled with some basic retrying:\n\n``` python\nfetchart: The Chemical Brothers - The Private Psychedelic Reel: found album art\nfetchart: The Chemical Brothers - We Are the Night: found album art\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.15', 'console_scripts', 'beet')()\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets-1.3.15-py2.7.egg/beets/ui/__init__.py\", line 1161, in main\n    _raw_main(args)\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets-1.3.15-py2.7.egg/beets/ui/__init__.py\", line 1151, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets-1.3.15-py2.7.egg/beetsplug/fetchart.py\", line 412, in func\n    self.batch_fetch_art(lib, lib.albums(ui.decargs(args)), opts.force)\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets-1.3.15-py2.7.egg/beetsplug/fetchart.py\", line 513, in batch_fetch_art\n    path = self.art_for_album(album, local_paths)\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets-1.3.15-py2.7.egg/beetsplug/fetchart.py\", line 487, in art_for_album\n    for url in self._source_urls(album):\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets-1.3.15-py2.7.egg/beetsplug/fetchart.py\", line 532, in _source_urls\n    for url in urls:\n  File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beets-1.3.15-py2.7.egg/beetsplug/fetchart.py\", line 125, in get\n    'start': '0',\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 473, in get\n    return self.request('GET', url, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 461, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 573, in send\n    r = adapter.send(request, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/adapters.py\", line 415, in send\n    raise ConnectionError(err, request=request)\nrequests.exceptions.ConnectionError: ('Connection aborted.', error(54, 'Connection reset by peer'))\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1579/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1574", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1574/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1574/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1574/events", "html_url": "https://github.com/beetbox/beets/issues/1574", "id": 102625410, "node_id": "MDU6SXNzdWUxMDI2MjU0MTA=", "number": 1574, "title": "lastimport: Unable to read page", "user": {"login": "rjgould", "id": 419300, "node_id": "MDQ6VXNlcjQxOTMwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/419300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjgould", "html_url": "https://github.com/rjgould", "followers_url": "https://api.github.com/users/rjgould/followers", "following_url": "https://api.github.com/users/rjgould/following{/other_user}", "gists_url": "https://api.github.com/users/rjgould/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjgould/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjgould/subscriptions", "organizations_url": "https://api.github.com/users/rjgould/orgs", "repos_url": "https://api.github.com/users/rjgould/repos", "events_url": "https://api.github.com/users/rjgould/events{/privacy}", "received_events_url": "https://api.github.com/users/rjgould/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-08-23T14:25:09Z", "updated_at": "2016-01-04T22:41:36Z", "closed_at": "2016-01-04T22:41:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone,\n\nIs anyone else having issues with lastimport at all?\n\n```\nlastimport: Fetching last.fm library for @mysticg\nlastimport: Querying page #1...\nlastimport: ERROR: unable to read page #1\nlastimport: Retrying page #1... (1/3 retry)\nlastimport: ERROR: unable to read page #1\nlastimport: Retrying page #1... (2/3 retry)\nlastimport: ERROR: unable to read page #1\nlastimport: Retrying page #1... (3/3 retry)\nlastimport: ... done!\nlastimport: finished processing 1 song pages\nlastimport: 0 unknown play-counts\nlastimport: 0 play-counts imported\n```\n\nMy config as per the manual is just\n\n```\nlastfm:\n    user: mysticg\n```\n\nAny suggestions?  I'm wondering if it might be related to the Last.fm site updates?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1574/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1564", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1564/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1564/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1564/events", "html_url": "https://github.com/beetbox/beets/issues/1564", "id": 99779442, "node_id": "MDU6SXNzdWU5OTc3OTQ0Mg==", "number": 1564, "title": "Importing fails on a file", "user": {"login": "bearcatsandor", "id": 57407, "node_id": "MDQ6VXNlcjU3NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/57407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bearcatsandor", "html_url": "https://github.com/bearcatsandor", "followers_url": "https://api.github.com/users/bearcatsandor/followers", "following_url": "https://api.github.com/users/bearcatsandor/following{/other_user}", "gists_url": "https://api.github.com/users/bearcatsandor/gists{/gist_id}", "starred_url": "https://api.github.com/users/bearcatsandor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bearcatsandor/subscriptions", "organizations_url": "https://api.github.com/users/bearcatsandor/orgs", "repos_url": "https://api.github.com/users/bearcatsandor/repos", "events_url": "https://api.github.com/users/bearcatsandor/events{/privacy}", "received_events_url": "https://api.github.com/users/bearcatsandor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-08-08T06:59:07Z", "updated_at": "2015-08-10T01:11:57Z", "closed_at": "2015-08-08T18:24:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to import a directory with 100 songs in it as singletons. My command beet import -s ./  fails on a particular track. I'm using the git version of Beets pulled on 8/7/2015\n\nWhat i see is:\n\n/home/hometheater/audio/various_artists/rs500-flac/101-200/154-buddy_holly_&_the_crickets-rave_on_1958.wv\nTagging track: Buddy Holly & The Crickets - Rave On\nURL:\n    http://musicbrainz.org/recording/ce146f18-96bc-4ee6-a534-61910db2892a\n(Similarity: 100.0%)\n[A]pply, More candidates, Skip, Use as-is, Enter search, enter Id, aBort? \n\n/home/hometheater/audio/various_artists/rs500-flac/101-200/157-the_flamingos-i_only_have_eyes_for_you_1959.wv\nCorrecting track tags from:\n    The Flamingos - I Only Have Eyes For You\nTo:\n    The Flamingos - I Only Have Eyes for You\nURL:\n    http://musicbrainz.org/recording/4ebfa4d9-d36f-437a-846f-2f908828cdb1\n(Similarity: 100.0%)\n[A]pply, More candidates, Skip, Use as-is, Enter search, enter Id, aBort? \nTraceback (most recent call last):\n  File \"/usr/lib/python-exec/python2.7/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.15', 'console_scripts', 'beet')()\n  File \"/usr/lib64/python2.7/site-packages/beets/ui/**init**.py\", line 1161, in main\n    _raw_main(args)\n  File \"/usr/lib64/python2.7/site-packages/beets/ui/__init__.py\", line 1151, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib64/python2.7/site-packages/beets/ui/commands.py\", line 875, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib64/python2.7/site-packages/beets/ui/commands.py\", line 852, in import_files\n    session.run()\n  File \"/usr/lib64/python2.7/site-packages/beets/importer.py\", line 316, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib64/python2.7/site-packages/beets/util/pipeline.py\", line 301, in run\n    out = self.coro.send(msg)\n  File \"/usr/lib64/python2.7/site-packages/beets/util/pipeline.py\", line 183, in coro\n    func(_(args + (task,)))\n  File \"/usr/lib64/python2.7/site-packages/beets/importer.py\", line 1353, in plugin_stage\n    func(session, task)\n  File \"/usr/lib64/python2.7/site-packages/beets/plugins.py\", line 123, in wrapper\n    return func(_args, **kwargs)\n  File \"/usr/lib64/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 381, in imported\n    item.genre, src = self._get_genre(item)\n  File \"/usr/lib64/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 280, in _get_genre\n    result = self.fetch_track_genre(obj)\n  File \"/usr/lib64/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 259, in fetch_track_genre\n    obj.title)\n  File \"/usr/lib64/python2.7/site-packages/beetsplug/lastgenre/**init**.py\", line 234, in _last_lookup\n    genre = self.fetch_genre(method(*args_replaced))\n  File \"/usr/lib64/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 198, in fetch_genre\n    return self._resolve_genres(self._tags_for(lastfm_obj, min_weight))\n  File \"/usr/lib64/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 414, in _tags_for\n    res = [el for el in res if (int(el.weight) or 0) >= min_weight]\nTypeError: int() argument must be a string or a number, not 'NoneType'\n\nIt may be track 157 or 158, but i don't know what tag to clobber to make it pass.\n\nAdrian responded: \nThanks for the report\u2014this seems to be a bug introduced by a \"fix\" in the most recent version. Can you please file an issue on GitHub?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1564/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1555", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1555/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1555/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1555/events", "html_url": "https://github.com/beetbox/beets/issues/1555", "id": 98545703, "node_id": "MDU6SXNzdWU5ODU0NTcwMw==", "number": 1555, "title": "__str__ crash due to timeout in fetchart plugin", "user": {"login": "LordSputnik", "id": 1898174, "node_id": "MDQ6VXNlcjE4OTgxNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1898174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LordSputnik", "html_url": "https://github.com/LordSputnik", "followers_url": "https://api.github.com/users/LordSputnik/followers", "following_url": "https://api.github.com/users/LordSputnik/following{/other_user}", "gists_url": "https://api.github.com/users/LordSputnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/LordSputnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LordSputnik/subscriptions", "organizations_url": "https://api.github.com/users/LordSputnik/orgs", "repos_url": "https://api.github.com/users/LordSputnik/repos", "events_url": "https://api.github.com/users/LordSputnik/events{/privacy}", "received_events_url": "https://api.github.com/users/LordSputnik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-01T15:48:47Z", "updated_at": "2015-08-01T22:00:34Z", "closed_at": "2015-08-01T22:00:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This looks like more of an issue with the urllib3 package than beets, but beets could do with a workaround to avoid crashing when this exception occurs while fetching album artwork:\n\n```\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.14-py2.7.egg/beetsplug/fetchart.py\", line 385, in fetch_art\n    path = self.art_for_album(task.album, task.paths, local)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.14-py2.7.egg/beetsplug/fetchart.py\", line 488, in art_for_album\n    candidate = self._fetch_image(url)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.14-py2.7.egg/beetsplug/fetchart.py\", line 425, in _fetch_image\n    with closing(requests_session.get(url, stream=True)) as resp:\n  File \"/home/ben/.local/lib/python2.7/site-packages/requests/sessions.py\", line 477, in get\n    return self.request('GET', url, **kwargs)\n  File \"/home/ben/.local/lib/python2.7/site-packages/requests/sessions.py\", line 465, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/home/ben/.local/lib/python2.7/site-packages/requests/sessions.py\", line 573, in send\n    r = adapter.send(request, **kwargs)\n  File \"/home/ben/.local/lib/python2.7/site-packages/requests/adapters.py\", line 370, in send\n    timeout=timeout\n  File \"/home/ben/.local/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py\", line 544, in urlopen\n    body=body, headers=headers)\n  File \"/home/ben/.local/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py\", line 344, in _make_request\n    self._raise_timeout(err=e, url=url, timeout_value=conn.timeout)\n  File \"/home/ben/.local/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py\", line 314, in _raise_timeout\n    if 'timed out' in str(err) or 'did not complete (read)' in str(err):  # Python 2.6\nTypeError: __str__ returned non-string (type Error)\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1555/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1543", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1543/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1543/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1543/events", "html_url": "https://github.com/beetbox/beets/issues/1543", "id": 95249861, "node_id": "MDU6SXNzdWU5NTI0OTg2MQ==", "number": 1543, "title": "Discogs: beets takes one number (i.e. 5A and 5B) as two different numbers", "user": {"login": "l-t-k", "id": 3150962, "node_id": "MDQ6VXNlcjMxNTA5NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3150962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l-t-k", "html_url": "https://github.com/l-t-k", "followers_url": "https://api.github.com/users/l-t-k/followers", "following_url": "https://api.github.com/users/l-t-k/following{/other_user}", "gists_url": "https://api.github.com/users/l-t-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/l-t-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l-t-k/subscriptions", "organizations_url": "https://api.github.com/users/l-t-k/orgs", "repos_url": "https://api.github.com/users/l-t-k/repos", "events_url": "https://api.github.com/users/l-t-k/events{/privacy}", "received_events_url": "https://api.github.com/users/l-t-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-07-15T17:40:49Z", "updated_at": "2016-10-17T15:01:05Z", "closed_at": "2016-10-17T15:01:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Some discogs releases contain track numbers A and B (for example 5A and 5B). In reality, this is most of the time 1 mp3 file. It usually occurs with dance music / house tracks. Beets is unable to recognize this. Therefore, tagging is impossible because beets concludes that the album is having a missing track (for example 5B).\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1543/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1525", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1525/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1525/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1525/events", "html_url": "https://github.com/beetbox/beets/issues/1525", "id": 91651219, "node_id": "MDU6SXNzdWU5MTY1MTIxOQ==", "number": 1525, "title": "zsh completion: Breaks when smartplaylist is enabled", "user": {"login": "parnmatt", "id": 318829, "node_id": "MDQ6VXNlcjMxODgyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/318829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parnmatt", "html_url": "https://github.com/parnmatt", "followers_url": "https://api.github.com/users/parnmatt/followers", "following_url": "https://api.github.com/users/parnmatt/following{/other_user}", "gists_url": "https://api.github.com/users/parnmatt/gists{/gist_id}", "starred_url": "https://api.github.com/users/parnmatt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parnmatt/subscriptions", "organizations_url": "https://api.github.com/users/parnmatt/orgs", "repos_url": "https://api.github.com/users/parnmatt/repos", "events_url": "https://api.github.com/users/parnmatt/events{/privacy}", "received_events_url": "https://api.github.com/users/parnmatt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-06-28T22:43:24Z", "updated_at": "2015-09-18T05:54:40Z", "closed_at": "2015-09-18T05:54:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I have `smartplaylist` in my list of plugins, I get the following message, `<TAB>` shown where pressed for completion:\n\n```\nbeet <TAB>...error: unknown command 'as'\n\n_beet:zregexparse:4: invalid regex : #\n_beet:zregexparse:4: invalid regex : #\n```\n\nHowever works fine without the plugin. The program and plugins work perfectly fine, its just the tab completion that's messed up.\n\n![2015-06-28-234251_956x510_scrot](https://cloud.githubusercontent.com/assets/318829/8398653/6fae6d80-1def-11e5-9f10-b2f01c2e664f.png)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1525/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1511", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1511/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1511/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1511/events", "html_url": "https://github.com/beetbox/beets/issues/1511", "id": 89687321, "node_id": "MDU6SXNzdWU4OTY4NzMyMQ==", "number": 1511, "title": "Track numbers are not sorted correctly", "user": {"login": "bearcatsandor", "id": 57407, "node_id": "MDQ6VXNlcjU3NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/57407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bearcatsandor", "html_url": "https://github.com/bearcatsandor", "followers_url": "https://api.github.com/users/bearcatsandor/followers", "following_url": "https://api.github.com/users/bearcatsandor/following{/other_user}", "gists_url": "https://api.github.com/users/bearcatsandor/gists{/gist_id}", "starred_url": "https://api.github.com/users/bearcatsandor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bearcatsandor/subscriptions", "organizations_url": "https://api.github.com/users/bearcatsandor/orgs", "repos_url": "https://api.github.com/users/bearcatsandor/repos", "events_url": "https://api.github.com/users/bearcatsandor/events{/privacy}", "received_events_url": "https://api.github.com/users/bearcatsandor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/12", "html_url": "https://github.com/beetbox/beets/milestone/12", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/12/labels", "id": 1173243, "node_id": "MDk6TWlsZXN0b25lMTE3MzI0Mw==", "number": 12, "title": "1.3.14", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2015-06-20T01:52:37Z", "updated_at": "2015-10-29T22:49:48Z", "due_on": null, "closed_at": "2015-10-29T22:49:48Z"}, "comments": 7, "created_at": "2015-06-20T00:00:03Z", "updated_at": "2015-07-06T02:20:09Z", "closed_at": "2015-07-05T18:56:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the following config parameters in my file:\n\nformat_item: $artist - $original_year - $album - $title - $track\nsort_item: artist+ original_year+ album+ disc+ track+  \n\nI get \"10\" immediately after \"01\"\n\nIced Earth - 1996 - The Dark Saga - Dark Saga - 01\nIced Earth - 1996 - The Dark Saga - The Suffering: A Question of Heaven - 10\nIced Earth - 1996 - The Dark Saga - I Died for You - 02\nIced Earth - 1996 - The Dark Saga - Violate - 03\nIced Earth - 1996 - The Dark Saga - The Hunter - 04\nIced Earth - 1996 - The Dark Saga - The Last Laugh - 05\nIced Earth - 1996 - The Dark Saga - Depths of Hell - 06\nIced Earth - 1996 - The Dark Saga - Vengeance Is Mine - 07\nIced Earth - 1996 - The Dark Saga - The Suffering: Scarred - 08\nIced Earth - 1996 - The Dark Saga - The Suffering: Slave to the Dark - 09\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1511/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1496", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1496/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1496/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1496/events", "html_url": "https://github.com/beetbox/beets/issues/1496", "id": 85150183, "node_id": "MDU6SXNzdWU4NTE1MDE4Mw==", "number": 1496, "title": "Case changes on a case insensitive file system", "user": {"login": "mried", "id": 9843448, "node_id": "MDQ6VXNlcjk4NDM0NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9843448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mried", "html_url": "https://github.com/mried", "followers_url": "https://api.github.com/users/mried/followers", "following_url": "https://api.github.com/users/mried/following{/other_user}", "gists_url": "https://api.github.com/users/mried/gists{/gist_id}", "starred_url": "https://api.github.com/users/mried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mried/subscriptions", "organizations_url": "https://api.github.com/users/mried/orgs", "repos_url": "https://api.github.com/users/mried/repos", "events_url": "https://api.github.com/users/mried/events{/privacy}", "received_events_url": "https://api.github.com/users/mried/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-06-04T15:36:33Z", "updated_at": "2015-09-01T09:09:52Z", "closed_at": "2015-09-01T09:09:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I've got the following album: \"Sounds Of The Universe\". While importing it with `move` set to `true` it should be renamed to \"Sounds of the Universe\" (so only the case has changed). This will work on a case sensitive file system since a second folder is created first and the contents is then copied into it. On a case insensitive file system, no new folder will be created hence the files won't be moved. But at the database, the new path is stored.\nThis is not what I expect beets to do. I tried to fix this but I'm completely unsure how to do this in a elegant way because it should work on a case sensitive file system, too. I guess the right place is `Item.move()` defined in `library.py`.\nAny suggestions?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1496/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1480", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1480/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1480/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1480/events", "html_url": "https://github.com/beetbox/beets/issues/1480", "id": 82021335, "node_id": "MDU6SXNzdWU4MjAyMTMzNQ==", "number": 1480, "title": "On OS X, `beet config -e` doesn't work for initial setup by default", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-28T16:42:14Z", "updated_at": "2015-07-07T22:02:45Z", "closed_at": "2015-07-07T21:56:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "By default (when `$EDITOR` is not set), the `beet config -e` command will try to use OS X's `open` command to edit the config file on that platform. Unfortunately, that command doesn't work when the file does not exist\u2014when setting up beets for the first time, for example.\n\nWe may need to run `touch` first to create the file, and then use `open -t` to get the default text editor.\n\nBackground in a mailing-list thread:\nhttps://groups.google.com/d/topic/beets-users/FDa_3fO3sBM/discussion\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1480/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1464", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1464/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1464/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1464/events", "html_url": "https://github.com/beetbox/beets/issues/1464", "id": 77834107, "node_id": "MDU6SXNzdWU3NzgzNDEwNw==", "number": 1464, "title": "convert: Originals left behind on import when transcoding with \"move: yes\" ", "user": {"login": "steveh", "id": 535, "node_id": "MDQ6VXNlcjUzNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveh", "html_url": "https://github.com/steveh", "followers_url": "https://api.github.com/users/steveh/followers", "following_url": "https://api.github.com/users/steveh/following{/other_user}", "gists_url": "https://api.github.com/users/steveh/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveh/subscriptions", "organizations_url": "https://api.github.com/users/steveh/orgs", "repos_url": "https://api.github.com/users/steveh/repos", "events_url": "https://api.github.com/users/steveh/events{/privacy}", "received_events_url": "https://api.github.com/users/steveh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-18T22:41:28Z", "updated_at": "2018-08-18T05:56:07Z", "closed_at": "2018-08-18T05:56:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given the following configuration, when importing a directory of ALAC albums:\n\n```\nconvert:\n  format: flac\n  auto: yes\nimport:\n  write: yes\n  move: yes\n```\n\n`beet import` will convert imported files to FLAC as expected, but will leave behind the originals. I want it to delete the originals when files are imported successfully.\n\nFrom google group: https://groups.google.com/forum/#!topic/beets-users/WvTmPWnmyrk\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1464/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1463", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1463/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1463/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1463/events", "html_url": "https://github.com/beetbox/beets/issues/1463", "id": 77729045, "node_id": "MDU6SXNzdWU3NzcyOTA0NQ==", "number": 1463, "title": "Handling of the results of multiple plugins registered for one event", "user": {"login": "mried", "id": 9843448, "node_id": "MDQ6VXNlcjk4NDM0NDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9843448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mried", "html_url": "https://github.com/mried", "followers_url": "https://api.github.com/users/mried/followers", "following_url": "https://api.github.com/users/mried/following{/other_user}", "gists_url": "https://api.github.com/users/mried/gists{/gist_id}", "starred_url": "https://api.github.com/users/mried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mried/subscriptions", "organizations_url": "https://api.github.com/users/mried/orgs", "repos_url": "https://api.github.com/users/mried/repos", "events_url": "https://api.github.com/users/mried/events{/privacy}", "received_events_url": "https://api.github.com/users/mried/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-05-18T17:04:01Z", "updated_at": "2015-09-12T18:49:20Z", "closed_at": "2015-09-12T18:49:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "While writing a plugin to stop the import of files already present at the library (like discussed here: #1441), I stumbled over the result handling when more than one plugin is registered to the `imort_task_created` event. Plugins may return `ImportTask` objects to change the imported files or change an album import into a singleton import for example.\nRight now we have: If there are two plugins registered for the event and they do nothing but returning the tasks, the tasks will be duplicated. So the returned tasks are concatenated and then executed.\nI think the behaviour should be changed so that the results of the first plugin are passed to the second one as input. This way, we will get some sort of a pipeline.\nOne bad thing about this is: The order in which the plugins get executed is important.\nIs this a goal we (I :smile:) should work on?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1463/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1457", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1457/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1457/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1457/events", "html_url": "https://github.com/beetbox/beets/issues/1457", "id": 74985229, "node_id": "MDU6SXNzdWU3NDk4NTIyOQ==", "number": 1457, "title": "duplicates: Crash when \"move\" or \"copy\" option is \"yes\"", "user": {"login": "TylerRudie", "id": 2695916, "node_id": "MDQ6VXNlcjI2OTU5MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2695916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TylerRudie", "html_url": "https://github.com/TylerRudie", "followers_url": "https://api.github.com/users/TylerRudie/followers", "following_url": "https://api.github.com/users/TylerRudie/following{/other_user}", "gists_url": "https://api.github.com/users/TylerRudie/gists{/gist_id}", "starred_url": "https://api.github.com/users/TylerRudie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TylerRudie/subscriptions", "organizations_url": "https://api.github.com/users/TylerRudie/orgs", "repos_url": "https://api.github.com/users/TylerRudie/repos", "events_url": "https://api.github.com/users/TylerRudie/events{/privacy}", "received_events_url": "https://api.github.com/users/TylerRudie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "pedros", "id": 253571, "node_id": "MDQ6VXNlcjI1MzU3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/253571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedros", "html_url": "https://github.com/pedros", "followers_url": "https://api.github.com/users/pedros/followers", "following_url": "https://api.github.com/users/pedros/following{/other_user}", "gists_url": "https://api.github.com/users/pedros/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedros/subscriptions", "organizations_url": "https://api.github.com/users/pedros/orgs", "repos_url": "https://api.github.com/users/pedros/repos", "events_url": "https://api.github.com/users/pedros/events{/privacy}", "received_events_url": "https://api.github.com/users/pedros/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pedros", "id": 253571, "node_id": "MDQ6VXNlcjI1MzU3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/253571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedros", "html_url": "https://github.com/pedros", "followers_url": "https://api.github.com/users/pedros/followers", "following_url": "https://api.github.com/users/pedros/following{/other_user}", "gists_url": "https://api.github.com/users/pedros/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedros/subscriptions", "organizations_url": "https://api.github.com/users/pedros/orgs", "repos_url": "https://api.github.com/users/pedros/repos", "events_url": "https://api.github.com/users/pedros/events{/privacy}", "received_events_url": "https://api.github.com/users/pedros/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2015-05-10T19:30:45Z", "updated_at": "2015-05-17T21:42:11Z", "closed_at": "2015-05-15T09:48:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Issue with the Duplicates Plugin. When i have the 'Path' setting populated the plugin dumps a trackback. remove the path and set move to no and the plugin works just fine.\n\n```\nduplicates:\n    album: no\n    full: no\n    format: ''\n    keys: [mb_trackid, mb_albumid]\n    path: /mnt/download/dest/beat/.dup/\n    move: yes\n    tag: no\n    copy: no\n    count: no\n    checksum:\n    delete: no\n```\n\n```\n$ beet dup\nWarning: top-level configuration of `color` is deprecated. Configure color use under `ui`. See documentation for more info.\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.14', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1104, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1094, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/site-packages/beetsplug/duplicates.py\", line 148, in _dup\n    fmt=fmt.format(obj_count))\n  File \"/usr/local/lib/python2.7/site-packages/beetsplug/duplicates.py\", line 161, in _process_item\n    item.move(basedir=move, copy=False)\n  File \"/usr/local/lib/python2.7/site-packages/beets/library.py\", line 713, in move\n    dest = self.destination(basedir=basedir)\n  File \"/usr/local/lib/python2.7/site-packages/beets/library.py\", line 808, in destination\n    return normpath(os.path.join(basedir, subpath))\n  File \"/usr/local/lib/python2.7/posixpath.py\", line 77, in join\n    elif path == '' or path.endswith('/'):\nAttributeError: 'bool' object has no attribute 'endswith'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1457/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1433", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1433/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1433/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1433/events", "html_url": "https://github.com/beetbox/beets/issues/1433", "id": 70135561, "node_id": "MDU6SXNzdWU3MDEzNTU2MQ==", "number": 1433, "title": "thumbnails: Segmentation fault", "user": {"login": "bartlibert", "id": 948770, "node_id": "MDQ6VXNlcjk0ODc3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/948770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bartlibert", "html_url": "https://github.com/bartlibert", "followers_url": "https://api.github.com/users/bartlibert/followers", "following_url": "https://api.github.com/users/bartlibert/following{/other_user}", "gists_url": "https://api.github.com/users/bartlibert/gists{/gist_id}", "starred_url": "https://api.github.com/users/bartlibert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bartlibert/subscriptions", "organizations_url": "https://api.github.com/users/bartlibert/orgs", "repos_url": "https://api.github.com/users/bartlibert/repos", "events_url": "https://api.github.com/users/bartlibert/events{/privacy}", "received_events_url": "https://api.github.com/users/bartlibert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2015-04-22T14:09:12Z", "updated_at": "2015-11-20T20:56:40Z", "closed_at": "2015-11-20T19:29:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I often see a segmentation fault when importing. I can't completely confirm, but I have the impression it happens when I get a prompt (\"Apply, More candidates,...\") and don't respond immediately.\nI enabled the following plugins: fetchart embedart chroma discogs mbsync duplicates missing random thumbnails replaygain\n\nThread 0x00007fccf1ffb700 (most recent call first):\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/audioread/ffdec.py\", line 65 in run\n  File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n  File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n\nCurrent thread 0x00007fccf2ffd700 (most recent call first):\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/thumbnails.py\", line 268 in uri\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/thumbnails.py\", line 164 in thumbnail_file_name\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/thumbnails.py\", line 143 in make_cover_thumbnail\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/thumbnails.py\", line 131 in process_album\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 123 in wrapper\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 455 in send\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/library.py\", line 1069 in set_art\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 362 in assign_art\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 123 in wrapper\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 455 in send\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 661 in manipulate_files\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 1366 in manipulate_files\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 160 in coro\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 347 in run\n  File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n  File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n\nThread 0x00007fccf37fe700 (most recent call first):\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/dbcore/db.py\", line 651 in query\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/dbcore/db.py\", line 551 in _make_model\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/dbcore/db.py\", line 522 in _get_objects\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/dbcore/db.py\", line 609 in get\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/dbcore/db.py\", line 823 in _get\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/dbcore/db.py\", line 384 in load\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 759 in reload\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 1348 in plugin_stage\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 183 in coro\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 301 in run\n  File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n  File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n\nThread 0x00007fccf3fff700 (most recent call first):\n  File \"/usr/lib/python2.7/socket.py\", line 387 in read\n  File \"/usr/lib/python2.7/httplib.py\", line 573 in read\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/requests/packages/urllib3/response.py\", line 186 in read\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/requests/packages/urllib3/response.py\", line 256 in stream\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/requests/models.py\", line 655 in generate\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 397 in _fetch_image\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 442 in art_for_album\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 348 in fetch_art\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 123 in wrapper\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 1343 in plugin_stage\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 183 in coro\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 301 in run\n  File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n  File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n\nThread 0x00007fcd00b35700 (most recent call first):\n  File \"/usr/lib/python2.7/threading.py\", line 340 in wait\n  File \"/usr/lib/python2.7/Queue.py\", line 168 in get\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 292 in run\n  File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n  File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n\nThread 0x00007fcd01336700 (most recent call first):\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/**init**.py\", line 156 in input_\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/**init**.py\", line 292 in input_options\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 643 in choose_candidate\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 707 in choose_match\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 751 in choose_match\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 1257 in user_query\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 160 in coro\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 301 in run\n  File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n  File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n\nThread 0x00007fcd01b37700 (most recent call first):\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/audioread/ffdec.py\", line 134 in _get_info\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/audioread/ffdec.py\", line 90 in __init__\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/audioread/**init**.py\", line 91 in audio_open\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/acoustid.py\", line 262 in _fingerprint_file_audioread\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/acoustid.py\", line 321 in fingerprint_file\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/chroma.py\", line 65 in acoustid_match\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/chroma.py\", line 213 in fingerprint_task\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beetsplug/chroma.py\", line 143 in fingerprint_task\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 123 in wrapper\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 455 in send\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 1234 in lookup_candidates\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 183 in coro\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 301 in run\n  File \"/usr/lib/python2.7/threading.py\", line 810 in __bootstrap_inner\n  File \"/usr/lib/python2.7/threading.py\", line 783 in __bootstrap\n\nThread 0x00007fcd0dc76700 (most recent call first):\n  File \"/usr/lib/python2.7/threading.py\", line 359 in wait\n  File \"/usr/lib/python2.7/threading.py\", line 960 in join\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 415 in run_parallel\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 316 in run\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 870 in import_files\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 893 in import_func\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/**init**.py\", line 1094 in _raw_main\n  File \"/home/bart/.virtualenv/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1104 in main\n  File \"/home/bart/.virtualenv/beets/bin/beet\", line 11 in <module>\n[1]    1054 segmentation fault  beet import J\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1433/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1427", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1427/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1427/events", "html_url": "https://github.com/beetbox/beets/issues/1427", "id": 69039943, "node_id": "MDU6SXNzdWU2OTAzOTk0Mw==", "number": 1427, "title": "embedart plugin disregards \"write: no\" and \"-W\" config opts", "user": {"login": "reynhout", "id": 2137, "node_id": "MDQ6VXNlcjIxMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/2137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reynhout", "html_url": "https://github.com/reynhout", "followers_url": "https://api.github.com/users/reynhout/followers", "following_url": "https://api.github.com/users/reynhout/following{/other_user}", "gists_url": "https://api.github.com/users/reynhout/gists{/gist_id}", "starred_url": "https://api.github.com/users/reynhout/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reynhout/subscriptions", "organizations_url": "https://api.github.com/users/reynhout/orgs", "repos_url": "https://api.github.com/users/reynhout/repos", "events_url": "https://api.github.com/users/reynhout/events{/privacy}", "received_events_url": "https://api.github.com/users/reynhout/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-04-17T01:04:21Z", "updated_at": "2015-04-23T22:26:41Z", "closed_at": "2015-04-23T22:26:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Any import action with `embedart` enabled causes a full write of tags and art, even when config file specifies `write: no`, or commandline includes `-W`.\n\nCAUSE: `art.py` does not check config option `import/write` before calling `try_write`.\n\nSUGGESTED FIX: check config option first! :) PR will be attached presently.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1427/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1417", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1417/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1417/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1417/events", "html_url": "https://github.com/beetbox/beets/issues/1417", "id": 67965280, "node_id": "MDU6SXNzdWU2Nzk2NTI4MA==", "number": 1417, "title": "discogs plugin throwing \"invalid response from request token URL\" error", "user": {"login": "jwyant", "id": 7349263, "node_id": "MDQ6VXNlcjczNDkyNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/7349263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwyant", "html_url": "https://github.com/jwyant", "followers_url": "https://api.github.com/users/jwyant/followers", "following_url": "https://api.github.com/users/jwyant/following{/other_user}", "gists_url": "https://api.github.com/users/jwyant/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwyant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwyant/subscriptions", "organizations_url": "https://api.github.com/users/jwyant/orgs", "repos_url": "https://api.github.com/users/jwyant/repos", "events_url": "https://api.github.com/users/jwyant/events{/privacy}", "received_events_url": "https://api.github.com/users/jwyant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/11", "html_url": "https://github.com/beetbox/beets/milestone/11", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/11/labels", "id": 1048355, "node_id": "MDk6TWlsZXN0b25lMTA0ODM1NQ==", "number": 11, "title": "1.3.12", "description": null, "creator": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-04-01T09:01:28Z", "updated_at": "2015-06-20T01:52:19Z", "due_on": null, "closed_at": "2015-06-20T01:52:19Z"}, "comments": 18, "created_at": "2015-04-12T22:01:58Z", "updated_at": "2015-04-17T22:20:18Z", "closed_at": "2015-04-14T17:27:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm doing this in a new virtualenv --no-site-packages.\n\n```\nSuccessfully installed beets discogs-client pyacoustid enum34 mutagen munkres unidecode musicbrainzngs pyyaml requests six oauthlib audioread\nCleaning up...\n(env)jwyant@bigbox ~/code/beets $ ./env/bin/beet import ~/.music-incoming/flac\nTraceback (most recent call last):\n  File \"./env/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1081, in main\n    _raw_main(args)\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1071, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beets/ui/commands.py\", line 892, in import_func\n    import_files(lib, paths, query)\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beets/ui/commands.py\", line 869, in import_files\n    session.run()\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beets/importer.py\", line 313, in run\n    plugins.send('import_begin', session=self)\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beets/plugins.py\", line 455, in send\n    result = handler(**arguments)\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beets/plugins.py\", line 123, in wrapper\n    return func(*args, **kwargs)\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beetsplug/discogs.py\", line 76, in setup\n    token, secret = self.authenticate(c_key, c_secret)\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/beetsplug/discogs.py\", line 98, in authenticate\n    _, _, url = auth_client.get_authorize_url()\n  File \"/home/jwyant/code/beets/env/lib/python2.7/site-packages/discogs_client/client.py\", line 61, in get_authorize_url\n    raise HTTPError('Invalid response from request token URL.', status_code)\ndiscogs_client.exceptions.HTTPError: 401: Invalid response from request token URL.\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1416", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1416/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1416/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1416/events", "html_url": "https://github.com/beetbox/beets/issues/1416", "id": 67964820, "node_id": "MDU6SXNzdWU2Nzk2NDgyMA==", "number": 1416, "title": "importadded: Exception upon selecting \"as tracks\"", "user": {"login": "ctlaltdefeat", "id": 4173549, "node_id": "MDQ6VXNlcjQxNzM1NDk=", "avatar_url": "https://avatars.githubusercontent.com/u/4173549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctlaltdefeat", "html_url": "https://github.com/ctlaltdefeat", "followers_url": "https://api.github.com/users/ctlaltdefeat/followers", "following_url": "https://api.github.com/users/ctlaltdefeat/following{/other_user}", "gists_url": "https://api.github.com/users/ctlaltdefeat/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctlaltdefeat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctlaltdefeat/subscriptions", "organizations_url": "https://api.github.com/users/ctlaltdefeat/orgs", "repos_url": "https://api.github.com/users/ctlaltdefeat/repos", "events_url": "https://api.github.com/users/ctlaltdefeat/events{/privacy}", "received_events_url": "https://api.github.com/users/ctlaltdefeat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/11", "html_url": "https://github.com/beetbox/beets/milestone/11", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/11/labels", "id": 1048355, "node_id": "MDk6TWlsZXN0b25lMTA0ODM1NQ==", "number": 11, "title": "1.3.12", "description": null, "creator": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-04-01T09:01:28Z", "updated_at": "2015-06-20T01:52:19Z", "due_on": null, "closed_at": "2015-06-20T01:52:19Z"}, "comments": 4, "created_at": "2015-04-12T21:57:12Z", "updated_at": "2015-04-25T19:57:30Z", "closed_at": "2015-04-14T18:46:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting this during an import:\n\n``` python\nFinding tags for album \"Bluetech - \".\nCandidates:\n1. Bluetech - Sines And Singularities (26.6%) (missing tracks, album, source, ...) (Discogs, CD, 2005, Israel, Aleph Zero Records)\n2. Bluetech - The Divine Invasion (26.6%) (missing tracks, album, source, ...) (Discogs, CD, 2009, Israel, Aleph Zero Records)\n3. Bluetech - Prima Materia (24.7%) (missing tracks, album, tracks, ...) (Discogs, CD, 2003, US, Waveform Records)\n4. Bluetech - Elementary Particles + Prima Materia (20.5%) (missing tracks, album, source, ...) (Discogs, 2xCD, 2004, US, Aleph Zero Records)\n5. Bluetech - Love Songs To The Source (20.0%) (missing tracks, album, tracks, ...) (Discogs, CD, 2010, Canada, Interchill Records)\n6. Various Artists - Left Coast Liquid, Volume 1 (15.3%) (missing tracks, album) (CD, 2005, US, Native State Records)\n# selection (default 1), Skip, Use as-is, as Tracks, Group albums,\nEnter search, enter Id, aBort? T\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1081, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 1071, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 892, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 869, in import_files\n    session.run()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 316, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 304, in run\n    for msg in _allmsgs(out):\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 455, in pull\n    out = coro.send(msg)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 183, in coro\n    func(*(args + (task,)))\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1234, in lookup_candidates\n    plugins.send('import_task_start', session=session, task=task)\n  File \"/usr/lib/python2.7/site-packages/beets/plugins.py\", line 455, in send\n    result = handler(**arguments)\n  File \"/usr/lib/python2.7/site-packages/beets/plugins.py\", line 123, in wrapper\n    return func(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/importadded.py\", line 53, in record_if_inplace\n    for item in task.items:\nTypeError: 'NoneType' object is not iterable\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1416/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1404", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1404/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1404/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1404/events", "html_url": "https://github.com/beetbox/beets/issues/1404", "id": 67101431, "node_id": "MDU6SXNzdWU2NzEwMTQzMQ==", "number": 1404, "title": "AttributeError when changing date tag", "user": {"login": "dirtdigger", "id": 11851803, "node_id": "MDQ6VXNlcjExODUxODAz", "avatar_url": "https://avatars.githubusercontent.com/u/11851803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirtdigger", "html_url": "https://github.com/dirtdigger", "followers_url": "https://api.github.com/users/dirtdigger/followers", "following_url": "https://api.github.com/users/dirtdigger/following{/other_user}", "gists_url": "https://api.github.com/users/dirtdigger/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirtdigger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirtdigger/subscriptions", "organizations_url": "https://api.github.com/users/dirtdigger/orgs", "repos_url": "https://api.github.com/users/dirtdigger/repos", "events_url": "https://api.github.com/users/dirtdigger/events{/privacy}", "received_events_url": "https://api.github.com/users/dirtdigger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/11", "html_url": "https://github.com/beetbox/beets/milestone/11", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/11/labels", "id": 1048355, "node_id": "MDk6TWlsZXN0b25lMTA0ODM1NQ==", "number": 11, "title": "1.3.12", "description": null, "creator": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-04-01T09:01:28Z", "updated_at": "2015-06-20T01:52:19Z", "due_on": null, "closed_at": "2015-06-20T01:52:19Z"}, "comments": 10, "created_at": "2015-04-08T10:41:54Z", "updated_at": "2015-04-17T02:56:42Z", "closed_at": "2015-04-17T02:56:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! New beets user, and I am working on slowly importing my music into beets.\n\nI can't actually change the date on any of the files that I've already imported. I started by trying to change the date on an album whose original release date was wrong on MusicBrainz. Here's the command I used:\n\nbeet -v modify The Autumn Effect date=\"2005-08-16\"\n\nand the output: https://gist.github.com/dirtdigger/aea6c0c97d5bfbae37ac\n\nI tried rolling back to 1.3.10 in case it was something new, but the same thing happened there too. It doesn't just happen with that album, it's happened to any album that I try to change the date on, and it happens on both flac and mp3 albums. This also happens when I just try to change the date separately.\n\nSystem information: beets 1.3.11, Arch Linux\n\nAny help would be appreciated. Thanks :-)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1404/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1398", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1398/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1398/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1398/events", "html_url": "https://github.com/beetbox/beets/issues/1398", "id": 66761179, "node_id": "MDU6SXNzdWU2Njc2MTE3OQ==", "number": 1398, "title": "New replaygain backend bs1770gain failing", "user": {"login": "bossanova808", "id": 731309, "node_id": "MDQ6VXNlcjczMTMwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/731309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bossanova808", "html_url": "https://github.com/bossanova808", "followers_url": "https://api.github.com/users/bossanova808/followers", "following_url": "https://api.github.com/users/bossanova808/following{/other_user}", "gists_url": "https://api.github.com/users/bossanova808/gists{/gist_id}", "starred_url": "https://api.github.com/users/bossanova808/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bossanova808/subscriptions", "organizations_url": "https://api.github.com/users/bossanova808/orgs", "repos_url": "https://api.github.com/users/bossanova808/repos", "events_url": "https://api.github.com/users/bossanova808/events{/privacy}", "received_events_url": "https://api.github.com/users/bossanova808/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "jmwatte", "id": 768112, "node_id": "MDQ6VXNlcjc2ODExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/768112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwatte", "html_url": "https://github.com/jmwatte", "followers_url": "https://api.github.com/users/jmwatte/followers", "following_url": "https://api.github.com/users/jmwatte/following{/other_user}", "gists_url": "https://api.github.com/users/jmwatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwatte/subscriptions", "organizations_url": "https://api.github.com/users/jmwatte/orgs", "repos_url": "https://api.github.com/users/jmwatte/repos", "events_url": "https://api.github.com/users/jmwatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwatte/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jmwatte", "id": 768112, "node_id": "MDQ6VXNlcjc2ODExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/768112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwatte", "html_url": "https://github.com/jmwatte", "followers_url": "https://api.github.com/users/jmwatte/followers", "following_url": "https://api.github.com/users/jmwatte/following{/other_user}", "gists_url": "https://api.github.com/users/jmwatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwatte/subscriptions", "organizations_url": "https://api.github.com/users/jmwatte/orgs", "repos_url": "https://api.github.com/users/jmwatte/repos", "events_url": "https://api.github.com/users/jmwatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwatte/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/11", "html_url": "https://github.com/beetbox/beets/milestone/11", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/11/labels", "id": 1048355, "node_id": "MDk6TWlsZXN0b25lMTA0ODM1NQ==", "number": 11, "title": "1.3.12", "description": null, "creator": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-04-01T09:01:28Z", "updated_at": "2015-06-20T01:52:19Z", "due_on": null, "closed_at": "2015-06-20T01:52:19Z"}, "comments": 43, "created_at": "2015-04-07T03:18:33Z", "updated_at": "2017-12-02T04:00:21Z", "closed_at": "2015-04-10T16:01:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Folks\n\ntrying the new backend out - very handy to at last have an easier option on Windows.  However, hitting a hurdle pretty quick on testing:\n\n```\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\beet-script.py\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1081, in main\n    _raw_main(args)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 1071, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\commands.py\", line 892, in import_func\n    import_files(lib, paths, query)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\commands.py\", line 869, in import_files\n    session.run()\n  File \"C:\\Python27\\lib\\site-packages\\beets\\importer.py\", line 316, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\util\\pipeline.py\", line 301, in run\n    out = self.coro.send(msg)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\util\\pipeline.py\", line 183, in coro\n    func(*(args + (task,)))\n  File \"C:\\Python27\\lib\\site-packages\\beets\\importer.py\", line 1343, in plugin_stage\n    func(session, task)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\plugins.py\", line 123, in wrapper\n    return func(*args, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\beetsplug\\replaygain.py\", line 849, in imported\n    self.handle_album(task.album, False)\n  File \"C:\\Python27\\lib\\site-packages\\beetsplug\\replaygain.py\", line 790, in handle_album\n    album_gain = self.backend_instance.compute_album_gain(album)\n  File \"C:\\Python27\\lib\\site-packages\\beetsplug\\replaygain.py\", line 133, in compute_album_gain\n    return AlbumGain(output[-1], output[:-1])\nIndexError: list index out of range\n```\n\nMy config is:\n\n```\nlibrary: C:\\Utilities\\beets\\library.db\ndirectory: F:\\TestOut\nimport:\n    copy: yes\n    write: yes\n    resume: ask\n    quiet_fallback: skip\n    timid: no\n    log: beets.log\nignore: .AppleDouble ._* *~ .DS_Store\nart_filename: folder\noriginal_date: yes\nui:\n    color: yes\n#plugins: scrub chroma lyrics fetchart embedart ftintitle missing \nplugins: scrub chroma lyrics fetchart embedart replaygain ftintitle missing \nthreaded: yes\nid3v23: yes\npaths:\n    default: $albumartist/$year - $album%aunique{}/$track $title\n    singleton: Singles/$year/$artist - $title\n    comp: Various Artists/$year - $album%aunique{}/$track $title (by $artist)\nlastgenre:\n    count: 3\n#bs1770gain.exe must be in $PATH\nreplaygain:\n    backend: bs1770gain\n    overwrite: yes\n    albumgain: yes\nfetchart:\n    cautious: true\n    cover_names: front back cover folder\n```\n\nError happens with albumgain enabled or not.  Not sure if this is still used, couldn't see it in the docs.\n\nAny clues on this one?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1398/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1367", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1367/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1367/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1367/events", "html_url": "https://github.com/beetbox/beets/issues/1367", "id": 63412108, "node_id": "MDU6SXNzdWU2MzQxMjEwOA==", "number": 1367, "title": "Reimporting an existing album causes a traceback error when finding duplicates", "user": {"login": "ab623", "id": 3438974, "node_id": "MDQ6VXNlcjM0Mzg5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3438974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ab623", "html_url": "https://github.com/ab623", "followers_url": "https://api.github.com/users/ab623/followers", "following_url": "https://api.github.com/users/ab623/following{/other_user}", "gists_url": "https://api.github.com/users/ab623/gists{/gist_id}", "starred_url": "https://api.github.com/users/ab623/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ab623/subscriptions", "organizations_url": "https://api.github.com/users/ab623/orgs", "repos_url": "https://api.github.com/users/ab623/repos", "events_url": "https://api.github.com/users/ab623/events{/privacy}", "received_events_url": "https://api.github.com/users/ab623/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/10", "html_url": "https://github.com/beetbox/beets/milestone/10", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/10/labels", "id": 940945, "node_id": "MDk6TWlsZXN0b25lOTQwOTQ1", "number": 10, "title": "1.3.11", "description": "Log refactoring and many other fixes.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-01-19T00:34:10Z", "updated_at": "2015-04-11T22:40:42Z", "due_on": null, "closed_at": "2015-04-11T22:40:42Z"}, "comments": 3, "created_at": "2015-03-21T14:35:38Z", "updated_at": "2015-03-25T12:26:44Z", "closed_at": "2015-03-25T12:26:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Repo Steps:\n1. Import an album into beets\n2. Import the exact same album into beets again. \n## Error:\n\nAlbum is recognised tagged, and says album already exists but also causes a traceback error:\n\n```\n * Gettin Jiggy Wit It ->\n   Gettin' Jiggy Wit It\n * Miami\n * Freakin It ->\n   Freakin' It\n * Will 2k (Ft. K-Ci) ->\n   Will 2K (title)\n * Wild Wild West (Ft. Dru Hill & Kool Moe Dee) ->\n   Wild Wild West (title)\n * Nod Ya Head (The Remix) (Ft. Christina Vidal en Tr\u00e1-Knox) ->\n   Nod Ya Head (The Remix) (title)\n * Just The Two Of Us ->\n   Just the Two of Us\nThis album is already in the library!\nTraceback (most recent call last):\n  File \"/home/admin/.virtualenvs/beetsdev/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"/home/admin/python/beets/beets/ui/__init__.py\", line 1081, in main\n    _raw_main(args)\n  File \"/home/admin/python/beets/beets/ui/__init__.py\", line 1071, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/admin/python/beets/beets/ui/commands.py\", line 892, in import_func\n    import_files(lib, paths, query)\n  File \"/home/admin/python/beets/beets/ui/commands.py\", line 869, in import_files\n    session.run()\n  File \"/home/admin/python/beets/beets/importer.py\", line 316, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/home/admin/python/beets/beets/util/pipeline.py\", line 301, in run\n    out = self.coro.send(msg)\n  File \"/home/admin/python/beets/beets/util/pipeline.py\", line 160, in coro\n    task = func(*(args + (task,)))\n  File \"/home/admin/python/beets/beets/importer.py\", line 1287, in user_query\n    resolve_duplicates(session, task)\n  File \"/home/admin/python/beets/beets/importer.py\", line 1299, in resolve_duplicates\n    session.resolve_duplicate(task, found_duplicates)\n  File \"/home/admin/python/beets/beets/ui/commands.py\", line 783, in resolve_duplicate\n    real_duplicates = filter(len, found_duplicates)\nTypeError: object of type 'Album' has no len()\n```\n\nI saw that @brunal made a commit bcfdcdc4b768c138c074a4ac599623f7e3f35066 which added new functionality which is where this error is occurring.\n\nHappy to provide any more info. \n\nConfig:\n\n```\n  1 directory: /mounts/backup/music\n  2 library: /mounts/backup/music/beetslibrary.db\n  3\n  4 import:\n  5     move: no\n  6     copy: yes\n  7     write: yes\n  8     resume: ask\n  9     detail: yes\n 10\n 11 plugins:\n 12     ftintitle\n 13\n 14 paths:\n 15     default: $albumartist/$year - $album/$track - $title\n 16     singleton: ZZMusic/$artist - $track - $title\n 17     comp: Various Artists/$year - $album/$track - $title\n 18\n 19 ui:\n 20     terminal_width: 120\n 21     color: yes\n 22     colors:\n 23         text_success: green\n 24         text_warning: yellow\n 25         text_error: red\n 26         text_highlight: red\n 27         text_highlight_minor: lightgray\n 28         action_default: turquoise\n 29         action: blue\n 30\n 31 time_format: '%Y-%m-%d %H:%M:%S'\n 32\n 33 ftintitle:\n 34     auto: yes\n 35     drop: no\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1367/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1332", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1332/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1332/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1332/events", "html_url": "https://github.com/beetbox/beets/issues/1332", "id": 58187751, "node_id": "MDU6SXNzdWU1ODE4Nzc1MQ==", "number": 1332, "title": "Non-determinism of MediaFile.art and embedart plugin", "user": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 85957545, "node_id": "MDU6TGFiZWw4NTk1NzU0NQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/discussion", "name": "discussion", "color": "c7def8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-02-19T10:00:59Z", "updated_at": "2015-03-01T00:12:52Z", "closed_at": "2015-03-01T00:12:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "@mried work on #1328 brought to light the fact that the `extractart` plugin relies on `MediaFile.art` which is as \"legacy album art field\", the \"first image on a file\". However this seems non-deterministic (sometime returns a 2nd+ image) especially on python 2.6 (sigh).\n\nMoreover `extractart` works with this field, while it could work with `images`, extracting all arts from a file (`MediaFile.images`).\n\nThe questions raised are:\n- how does MediaFile determines the `art` property?\n- should the `art` property be kept? It seems used by the plugins `scrub` and `embedart`\n- shouldn't `embedart` manage all art files?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1332/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1331", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1331/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1331/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1331/events", "html_url": "https://github.com/beetbox/beets/issues/1331", "id": 58090116, "node_id": "MDU6SXNzdWU1ODA5MDExNg==", "number": 1331, "title": "beet mbsync \u2192 TypeError: item_before_write() got an unexpected keyword argument 'tags'", "user": {"login": "Freso", "id": 177659, "node_id": "MDQ6VXNlcjE3NzY1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/177659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freso", "html_url": "https://github.com/Freso", "followers_url": "https://api.github.com/users/Freso/followers", "following_url": "https://api.github.com/users/Freso/following{/other_user}", "gists_url": "https://api.github.com/users/Freso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freso/subscriptions", "organizations_url": "https://api.github.com/users/Freso/orgs", "repos_url": "https://api.github.com/users/Freso/repos", "events_url": "https://api.github.com/users/Freso/events{/privacy}", "received_events_url": "https://api.github.com/users/Freso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-18T16:24:18Z", "updated_at": "2015-02-18T17:25:27Z", "closed_at": "2015-02-18T17:05:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\nfreso@kotake> beet mbsync\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 953, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 943, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/mbsync.py\", line 69, in func\n    self.singletons(lib, query, move, pretend, write, fmt)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/mbsync.py\", line 94, in singletons\n    apply_item_changes(lib, item, move, pretend, write)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/mbsync.py\", line 36, in apply_item_changes\n    item.try_write()\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 556, in try_write\n    self.write(path, tags)\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 530, in write\n    plugins.send('write', item=self, path=path, tags=item_tags)\n  File \"/usr/lib/python2.7/site-packages/beets/plugins.py\", line 446, in send\n    result = handler(**arguments)\n  File \"/usr/lib/python2.7/site-packages/beets/plugins.py\", line 122, in wrapper\n    return func(*args, **kwargs)\nTypeError: item_before_write() got an unexpected keyword argument 'tags'\n[1] freso@kotake> beet --version\nbeets version 1.3.11\nplugins: lyrics, permissions, info, freedesktop, inline, lastgenre, check, mbsync, bpm, copyartifacts, fetchart, artistcountry, follow, types, web, alternatives, chroma, smartplaylist\nfreso@kotake> yaourt -Qi beets-git|grep Version\nVersion        : 1.3.10.r398.g457afdc-1\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1331/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1326", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1326/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1326/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1326/events", "html_url": "https://github.com/beetbox/beets/issues/1326", "id": 57444922, "node_id": "MDU6SXNzdWU1NzQ0NDkyMg==", "number": 1326, "title": "Crash when showing size of replaced music that does not exist", "user": {"login": "simonbcn", "id": 428231, "node_id": "MDQ6VXNlcjQyODIzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/428231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonbcn", "html_url": "https://github.com/simonbcn", "followers_url": "https://api.github.com/users/simonbcn/followers", "following_url": "https://api.github.com/users/simonbcn/following{/other_user}", "gists_url": "https://api.github.com/users/simonbcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonbcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonbcn/subscriptions", "organizations_url": "https://api.github.com/users/simonbcn/orgs", "repos_url": "https://api.github.com/users/simonbcn/repos", "events_url": "https://api.github.com/users/simonbcn/events{/privacy}", "received_events_url": "https://api.github.com/users/simonbcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "tomjaspers", "id": 1549375, "node_id": "MDQ6VXNlcjE1NDkzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1549375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomjaspers", "html_url": "https://github.com/tomjaspers", "followers_url": "https://api.github.com/users/tomjaspers/followers", "following_url": "https://api.github.com/users/tomjaspers/following{/other_user}", "gists_url": "https://api.github.com/users/tomjaspers/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomjaspers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomjaspers/subscriptions", "organizations_url": "https://api.github.com/users/tomjaspers/orgs", "repos_url": "https://api.github.com/users/tomjaspers/repos", "events_url": "https://api.github.com/users/tomjaspers/events{/privacy}", "received_events_url": "https://api.github.com/users/tomjaspers/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomjaspers", "id": 1549375, "node_id": "MDQ6VXNlcjE1NDkzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1549375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomjaspers", "html_url": "https://github.com/tomjaspers", "followers_url": "https://api.github.com/users/tomjaspers/followers", "following_url": "https://api.github.com/users/tomjaspers/following{/other_user}", "gists_url": "https://api.github.com/users/tomjaspers/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomjaspers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomjaspers/subscriptions", "organizations_url": "https://api.github.com/users/tomjaspers/orgs", "repos_url": "https://api.github.com/users/tomjaspers/repos", "events_url": "https://api.github.com/users/tomjaspers/events{/privacy}", "received_events_url": "https://api.github.com/users/tomjaspers/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/10", "html_url": "https://github.com/beetbox/beets/milestone/10", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/10/labels", "id": 940945, "node_id": "MDk6TWlsZXN0b25lOTQwOTQ1", "number": 10, "title": "1.3.11", "description": "Log refactoring and many other fixes.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-01-19T00:34:10Z", "updated_at": "2015-04-11T22:40:42Z", "due_on": null, "closed_at": "2015-04-11T22:40:42Z"}, "comments": 2, "created_at": "2015-02-12T10:53:06Z", "updated_at": "2015-02-14T01:35:53Z", "closed_at": "2015-02-13T11:25:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "beet git version updated now\nUbuntu 14.04 64 bits\nPython 2.7.8\n\nI have imported an album. I have deleted from disk. I have imported again and beets crash:\n\n```\n$ beet im /dunehd/Musica\\ pendiente/Madonna\\ \u2013\\ Rebel\\ Heart\\ \\[Deluxe\\ Edition\\ 2015\\]\\(MP3\\ 320\\ Kbps\\)/\n\n/dunehd/Musica pendiente/Madonna \u2013 Rebel Heart [Deluxe Edition 2015](MP3 320 Kbps)/Track List (25 items)\nCorrecting tags from:\n    Madonna - Rebel Heart Deluxe\nTo:\n    Madonna - Rebel Heart (Super Deluxe Edition)\nURL:\n    http://musicbrainz.org/release/0911931a-3770-4cb7-ba67-3d2fda24d2e8\n(Similarity: 97.5%) (album, tracks) (Digital Media, 2015)\n * Living For Love                               -> Living for Love\n * Bitch I'm Madonna (feat. Nicki Minaj)         -> Bitch I\u2019m Madonna (title)\n * Iconic (feat. Chance the Rapper & Mike Tyson) -> Iconic (title)\n * Veni Vidi Vici (feat. Nas)                    -> Veni Vedi Vici (title)\nThis album is already in the library!\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/ui/__init__.py\", line 953, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/ui/__init__.py\", line 943, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/ui/commands.py\", line 874, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/ui/commands.py\", line 851, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/importer.py\", line 316, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/util/pipeline.py\", line 301, in run\n    out = self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/util/pipeline.py\", line 160, in coro\n    task = func(*(args + (task,)))\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/importer.py\", line 1287, in user_query\n    resolve_duplicates(session, task)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/importer.py\", line 1299, in resolve_duplicates\n    session.resolve_duplicate(task, found_duplicates)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/ui/commands.py\", line 789, in resolve_duplicate\n    not task.is_album,\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/ui/commands.py\", line 446, in summarize_items\n    total_filesize = sum([item.filesize for item in items])\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/dbcore/db.py\", line 316, in __getattr__\n    return self[key]\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/dbcore/db.py\", line 224, in __getitem__\n    return getters[key](self)\n  File \"/usr/local/lib/python2.7/dist-packages/beets-1.3.11-py2.7.egg/beets/library.py\", line 424, in <lambda>\n    getters['filesize'] = lambda i: os.path.getsize(syspath(i.path))\n  File \"/usr/lib/python2.7/genericpath.py\", line 49, in getsize\n    return os.stat(filename).st_size\nOSError: [Errno 2] No such file or directory: '/home/simon/M\\xc3\\xbasica/Madonna/Rebel Heart (Super Deluxe Edition)/01 - Living for Love.mp3'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1326/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1316", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1316/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1316/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1316/events", "html_url": "https://github.com/beetbox/beets/issues/1316", "id": 56946289, "node_id": "MDU6SXNzdWU1Njk0NjI4OQ==", "number": 1316, "title": "ReplayGain plugin with mp3gain backend is modifying source files.", "user": {"login": "jaquer", "id": 118391, "node_id": "MDQ6VXNlcjExODM5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/118391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaquer", "html_url": "https://github.com/jaquer", "followers_url": "https://api.github.com/users/jaquer/followers", "following_url": "https://api.github.com/users/jaquer/following{/other_user}", "gists_url": "https://api.github.com/users/jaquer/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaquer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaquer/subscriptions", "organizations_url": "https://api.github.com/users/jaquer/orgs", "repos_url": "https://api.github.com/users/jaquer/repos", "events_url": "https://api.github.com/users/jaquer/events{/privacy}", "received_events_url": "https://api.github.com/users/jaquer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-02-08T10:03:52Z", "updated_at": "2015-02-17T22:03:59Z", "closed_at": "2015-02-17T22:03:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "If one enables the replaygain module using the mp3gain backend, the gain is being applied to the source files. Furthermore, the modifications are not reversible because the undo information is not being written to either source or destination files.\n\nTo reproduce:\n\nCreate this one-line ~/.config/beets/config.yaml:\n\n```\nplugins: replaygain\n```\n\nPer the [docs](http://beets.readthedocs.org/en/latest/plugins/replaygain.html#configuration), this will default to automatically analyze for replaygain, using the command backend.\n\nNow, `beet import -A` a file. I use [this one](http://cdn.izrm.net/jaquer.net/projects/lala/lala.mp3), which has a `222912248f934554ec2eaaf1b191f938607ffbab` sha1sum.\n\nThe replaygain plugin calls mp3gain on the source with the \"-r\" parameter, which will apply the gain to the source file. Calling sha1sum on the source file after the import will show it has been modified.\n\nPer the plugin docs, the gain should not be applied unless the `apply` config is set to `yes`, but even then, I don't believe that the intention was to modify at the source, was it?\n\nBy the way, the `apply` option was dropped from the plugin at 86ee30df0d177f9103a7c4e7489cbf06aaa62838. This is relatively easy to bring back, and I'd be happy to submit a PR fixing that omission, but the real problem is that even bringing that option/conditional check, the gain will still be applied to the source files.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1316/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1303", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1303/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1303/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1303/events", "html_url": "https://github.com/beetbox/beets/issues/1303", "id": 56457608, "node_id": "MDU6SXNzdWU1NjQ1NzYwOA==", "number": 1303, "title": "Always set year, month, and day tags on MediaFiles in that order", "user": {"login": "tlc", "id": 19436, "node_id": "MDQ6VXNlcjE5NDM2", "avatar_url": "https://avatars.githubusercontent.com/u/19436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlc", "html_url": "https://github.com/tlc", "followers_url": "https://api.github.com/users/tlc/followers", "following_url": "https://api.github.com/users/tlc/following{/other_user}", "gists_url": "https://api.github.com/users/tlc/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlc/subscriptions", "organizations_url": "https://api.github.com/users/tlc/orgs", "repos_url": "https://api.github.com/users/tlc/repos", "events_url": "https://api.github.com/users/tlc/events{/privacy}", "received_events_url": "https://api.github.com/users/tlc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-02-03T23:49:29Z", "updated_at": "2015-09-25T02:36:15Z", "closed_at": "2015-09-02T22:05:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "1.3.10\n\n_Immediately_ after 'write'\n\n> $ beet write -p album:Mutations\n> Beck - Mutations - Cold Brains\n>   original_day: 00 -> 02\n>   bitrate: 931kbps -> 931kbps\n> Beck - Mutations - Nobody\u2019s Fault but My Own\n>   original_day: 00 -> 02\n>   bitrate: 902kbps -> 902kbps\n> ...\n\nI check the FLAC files and see\n\n>    comment[44]: ORIGINALDATE=1998-11\n\nIssue 1)  original_day wasn't written.\nIMO, 'write' should think the db and files are in sync immediately after a 'write'.\n\nIssue 2)  write thinks the bitrate doesn't match.\nI'm not sure what FLAC data to look at in the file...\n\n'update' apparently thinks things are in sync.\n\n> $ beet update -p album:Mutations\n> $\n\nSo 'update' doesn't care about original_day ??\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1303/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1300", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1300/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1300/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1300/events", "html_url": "https://github.com/beetbox/beets/issues/1300", "id": 56337973, "node_id": "MDU6SXNzdWU1NjMzNzk3Mw==", "number": 1300, "title": "Unicode object is not callable", "user": {"login": "willgrnr", "id": 9218348, "node_id": "MDQ6VXNlcjkyMTgzNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9218348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willgrnr", "html_url": "https://github.com/willgrnr", "followers_url": "https://api.github.com/users/willgrnr/followers", "following_url": "https://api.github.com/users/willgrnr/following{/other_user}", "gists_url": "https://api.github.com/users/willgrnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/willgrnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willgrnr/subscriptions", "organizations_url": "https://api.github.com/users/willgrnr/orgs", "repos_url": "https://api.github.com/users/willgrnr/repos", "events_url": "https://api.github.com/users/willgrnr/events{/privacy}", "received_events_url": "https://api.github.com/users/willgrnr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/10", "html_url": "https://github.com/beetbox/beets/milestone/10", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/10/labels", "id": 940945, "node_id": "MDk6TWlsZXN0b25lOTQwOTQ1", "number": 10, "title": "1.3.11", "description": "Log refactoring and many other fixes.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-01-19T00:34:10Z", "updated_at": "2015-04-11T22:40:42Z", "due_on": null, "closed_at": "2015-04-11T22:40:42Z"}, "comments": 7, "created_at": "2015-02-03T06:12:05Z", "updated_at": "2015-02-11T15:39:22Z", "closed_at": "2015-02-03T13:02:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Upon using beet duplicates...\n\n```\nC:\\Users\\100557855>beet duplicates\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\beet-script.py\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\__init__.py\", line 953, in main\n    _raw_main(args)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\__init__.py\", line 943, in _raw_ma\nin\n    subcommand.func(lib, suboptions, subargs)\n  File \"c:\\users\\100557855\\src\\beets\\beetsplug\\duplicates.py\", line 232, in _dup\n\n    format=fmt.format(obj_count))\n  File \"c:\\users\\100557855\\src\\beets\\beetsplug\\duplicates.py\", line 48, in _proc\ness_item\n    print_(format(item, format))\nTypeError: 'unicode' object is not callable\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1300/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1299", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1299/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1299/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1299/events", "html_url": "https://github.com/beetbox/beets/issues/1299", "id": 56331367, "node_id": "MDU6SXNzdWU1NjMzMTM2Nw==", "number": 1299, "title": "discogs: Handle socket errors", "user": {"login": "willgrnr", "id": 9218348, "node_id": "MDQ6VXNlcjkyMTgzNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9218348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willgrnr", "html_url": "https://github.com/willgrnr", "followers_url": "https://api.github.com/users/willgrnr/followers", "following_url": "https://api.github.com/users/willgrnr/following{/other_user}", "gists_url": "https://api.github.com/users/willgrnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/willgrnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willgrnr/subscriptions", "organizations_url": "https://api.github.com/users/willgrnr/orgs", "repos_url": "https://api.github.com/users/willgrnr/repos", "events_url": "https://api.github.com/users/willgrnr/events{/privacy}", "received_events_url": "https://api.github.com/users/willgrnr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-03T04:07:09Z", "updated_at": "2015-02-03T06:29:15Z", "closed_at": "2015-02-03T06:29:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nApply, More candidates, Skip, Use as-is, as Tracks, Group albums,\nEnter search, enter Id, aBort? a\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\beet-script.py\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\__init__.py\", line 953, in main\n    _raw_main(args)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\__init__.py\", line 943, in _raw_m\nin\n    subcommand.func(lib, suboptions, subargs)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\commands.py\", line 870, in import\nfunc\n    import_files(lib, paths, query)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\commands.py\", line 847, in import\nfiles\n    session.run()\n  File \"c:\\users\\100557855\\src\\beets\\beets\\importer.py\", line 316, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\util\\pipeline.py\", line 301, in run\n    out = self.coro.send(msg)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\util\\pipeline.py\", line 183, in coro\n    func(*(args + (task,)))\n  File \"c:\\users\\100557855\\src\\beets\\beets\\importer.py\", line 1227, in lookup_c\nndidates\n    task.lookup_candidates()\n  File \"c:\\users\\100557855\\src\\beets\\beets\\importer.py\", line 558, in lookup_ca\ndidates\n    autotag.tag_album(self.items)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\autotag\\match.py\", line 433, in tag_\nlbum\n    search_album, va_likely)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\autotag\\hooks.py\", line 563, in albu\n_candidates\n    out.extend(plugins.candidates(items, artist, album, va_likely))\n  File \"c:\\users\\100557855\\src\\beets\\beets\\plugins.py\", line 360, in candidates\n    out.extend(plugin.candidates(items, artist, album, va_likely))\n  File \"c:\\users\\100557855\\src\\beets\\beetsplug\\discogs.py\", line 121, in candid\ntes\n    return self.get_albums(query)\n  File \"c:\\users\\100557855\\src\\beets\\beetsplug\\discogs.py\", line 173, in get_al\nums\n    return [self.get_album_info(release) for release in releases[:5]]\n  File \"c:\\users\\100557855\\src\\beets\\beetsplug\\discogs.py\", line 178, in get_al\num_info\n    artist, artist_id = self.get_artist([a.data for a in result.artists])\n  File \"C:\\Python27\\lib\\site-packages\\discogs_client\\models.py\", line 96, in __\net__\n    return [wrapper_class(instance.client, d) for d in instance.fetch(self.name\n [])]\n  File \"C:\\Python27\\lib\\site-packages\\discogs_client\\models.py\", line 237, in f\ntch\n    self.refresh()\n  File \"C:\\Python27\\lib\\site-packages\\discogs_client\\models.py\", line 203, in r\nfresh\n    data = self.client._get(self.data['resource_url'])\n  File \"C:\\Python27\\lib\\site-packages\\discogs_client\\client.py\", line 110, in _\net\n    return self._request('GET', url)\n  File \"C:\\Python27\\lib\\site-packages\\discogs_client\\client.py\", line 97, in _r\nquest\n    content, status_code = self._fetcher.fetch(self, method, url, data=data, he\nders=headers)\n  File \"C:\\Python27\\lib\\site-packages\\discogs_client\\fetchers.py\", line 73, in\netch\n    resp, content = self.oauth_client.request(url, method, headers=headers)\n  File \"C:\\Python27\\lib\\site-packages\\oauth2\\__init__.py\", line 682, in request\n    connection_type=connection_type)\n  File \"C:\\Python27\\lib\\site-packages\\httplib2\\__init__.py\", line 1593, in requ\nst\n    (response, content) = self._request(conn, authority, uri, request_uri, meth\nd, body, headers, redirections, cachekey)\n  File \"C:\\Python27\\lib\\site-packages\\httplib2\\__init__.py\", line 1335, in _req\nest\n    (response, content) = self._conn_request(conn, request_uri, method, body, h\naders)\n  File \"C:\\Python27\\lib\\site-packages\\httplib2\\__init__.py\", line 1291, in _con\n_request\n    response = conn.getresponse()\n  File \"C:\\Python27\\lib\\httplib.py\", line 1074, in getresponse\n    response.begin()\n  File \"C:\\Python27\\lib\\httplib.py\", line 415, in begin\n    version, status, reason = self._read_status()\n  File \"C:\\Python27\\lib\\httplib.py\", line 371, in _read_status\n    line = self.fp.readline(_MAXLINE + 1)\n  File \"C:\\Python27\\lib\\socket.py\", line 476, in readline\n    data = self._sock.recv(self._rbufsize)\nsocket.error: [Errno 10054] An existing connection was forcibly closed by the r\nmote host\n```\n\nI get this error during a regular import and the only plugin currently being used is discogs. I removed the discogs plugin and started the import again and it worked fine.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1298", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1298/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1298/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1298/events", "html_url": "https://github.com/beetbox/beets/issues/1298", "id": 56305703, "node_id": "MDU6SXNzdWU1NjMwNTcwMw==", "number": 1298, "title": "UnicodeDecodeError when using beet update", "user": {"login": "willgrnr", "id": 9218348, "node_id": "MDQ6VXNlcjkyMTgzNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9218348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willgrnr", "html_url": "https://github.com/willgrnr", "followers_url": "https://api.github.com/users/willgrnr/followers", "following_url": "https://api.github.com/users/willgrnr/following{/other_user}", "gists_url": "https://api.github.com/users/willgrnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/willgrnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willgrnr/subscriptions", "organizations_url": "https://api.github.com/users/willgrnr/orgs", "repos_url": "https://api.github.com/users/willgrnr/repos", "events_url": "https://api.github.com/users/willgrnr/events{/privacy}", "received_events_url": "https://api.github.com/users/willgrnr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-02T22:48:07Z", "updated_at": "2015-02-02T23:30:00Z", "closed_at": "2015-02-02T23:30:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the following error when trying to use the beet update command.\n\n```\nC:\\Users\\100557855>beet update\nM83 - Hurry Up, We\u0393\u00c7\u00d6re Dreaming - Midnight City\n  month: 10 -> 00\n  day: 17 -> 00\n  original_day: 17 -> 00\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\beet-script.py\", line 9, in <module>\n    load_entry_point('beets==1.3.11', 'console_scripts', 'beet')()\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\__init__.py\", line 953, in main\n    _raw_main(args)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\__init__.py\", line 943, in _raw_ma\nin\n    subcommand.func(lib, suboptions, subargs)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\commands.py\", line 1078, in update\n_func\n    update_items(lib, decargs(args), opts.album, opts.move, opts.pretend)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\ui\\commands.py\", line 1041, in update\n_items\n    item.move()\n  File \"c:\\users\\100557855\\src\\beets\\beets\\library.py\", line 672, in move\n    album.move_art(copy)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\library.py\", line 887, in move_art\n    new_art = util.unique_path(new_art)\n  File \"c:\\users\\100557855\\src\\beets\\beets\\util\\__init__.py\", line 491, in uniqu\ne_path\n    new_path = '%s.%i%s' % (base, num, ext)\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 49: ordinal\n not in range(128)\n```\n\nUnfortunately I have no idea what music file (if any?) is causing the issue.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1298/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1297", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1297/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1297/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1297/events", "html_url": "https://github.com/beetbox/beets/issues/1297", "id": 56198601, "node_id": "MDU6SXNzdWU1NjE5ODYwMQ==", "number": 1297, "title": "No such file or directory when scrubbing", "user": {"login": "willgrnr", "id": 9218348, "node_id": "MDQ6VXNlcjkyMTgzNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/9218348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willgrnr", "html_url": "https://github.com/willgrnr", "followers_url": "https://api.github.com/users/willgrnr/followers", "following_url": "https://api.github.com/users/willgrnr/following{/other_user}", "gists_url": "https://api.github.com/users/willgrnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/willgrnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willgrnr/subscriptions", "organizations_url": "https://api.github.com/users/willgrnr/orgs", "repos_url": "https://api.github.com/users/willgrnr/repos", "events_url": "https://api.github.com/users/willgrnr/events{/privacy}", "received_events_url": "https://api.github.com/users/willgrnr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-02-02T05:46:53Z", "updated_at": "2015-02-02T20:15:32Z", "closed_at": "2015-02-02T18:14:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use the scrub plugin. However it gets stuck and errors out when it tries to scrub the Tri-State album by Above & Beyond. It seems to think \"C:\\Users\\100557855\\Desktop\\Mu\nsic\\Above & Beyond\\Tri\\xe2\\x80\\x90State\\01 Tri\\xe2\\x80\\x90State.mp3\" is the correct location, but it's really \"C:\\Users\\100557855\\Desktop\\Music\\Above & Beyond\\Tri\u2010State\\01 Tri-State.mp3\". I'm not sure why it has only screwed up this one time, because for all the other functions and commands I've run, it's never had an issue with the filename.\n\n```\nscrubbing: C:\\Users\\100557855\\Desktop\\Music\\Above & Beyond\\Tri\u0393\u00c7\u00c9State\\01 Tri\u0393\u00c7\u00c9\nState.mp3\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\beet-script.py\", line 9, in <module>\n    load_entry_point('beets==1.3.10', 'console_scripts', 'beet')()\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 945, in main\n    _raw_main(args)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 935, in _raw_m\nain\n    subcommand.func(lib, suboptions, subargs)\n  File \"C:\\Python27\\lib\\site-packages\\beetsplug\\scrub.py\", line 73, in scrub_fun\nc\n    config['id3v23'].get(bool))\n  File \"C:\\Python27\\lib\\site-packages\\beets\\mediafile.py\", line 1314, in __init_\n_\n    self.mgfile = mutagen.File(path)\n  File \"C:\\Python27\\lib\\site-packages\\mutagen\\_file.py\", line 221, in File\n    fileobj = open(filename, \"rb\")\nIOError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\100557855\\\\Desktop\\\\Mu\nsic\\\\Above & Beyond\\\\Tri\\xe2\\x80\\x90State\\\\01 Tri\\xe2\\x80\\x90State.mp3'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1297/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1290", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1290/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1290/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1290/events", "html_url": "https://github.com/beetbox/beets/issues/1290", "id": 56109935, "node_id": "MDU6SXNzdWU1NjEwOTkzNQ==", "number": 1290, "title": "Handle shlex parse errors in query strings", "user": {"login": "l-t-k", "id": 3150962, "node_id": "MDQ6VXNlcjMxNTA5NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3150962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l-t-k", "html_url": "https://github.com/l-t-k", "followers_url": "https://api.github.com/users/l-t-k/followers", "following_url": "https://api.github.com/users/l-t-k/following{/other_user}", "gists_url": "https://api.github.com/users/l-t-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/l-t-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l-t-k/subscriptions", "organizations_url": "https://api.github.com/users/l-t-k/orgs", "repos_url": "https://api.github.com/users/l-t-k/repos", "events_url": "https://api.github.com/users/l-t-k/events{/privacy}", "received_events_url": "https://api.github.com/users/l-t-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-01-31T03:05:22Z", "updated_at": "2015-02-09T14:56:38Z", "closed_at": "2015-01-31T18:54:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When trying to import a certain directory with beets i'm getting an error. Don't know what this is. I'm using Ubuntu Server 14.04. \n\n```\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.10', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 945, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 935, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 873, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 845, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 305, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 345, in run\n    self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 158, in coro\n    task = func(*(args + (task,)))\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 1291, in manipulate_files\n    session=session,\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 635, in manipulate_files\n    item.move(copy, link)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/library.py\", line 611, in move\n    dest = self.destination(basedir=basedir)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/library.py\", line 653, in destination\n    query, _ = parse_query_string(query, type(self))\n  File \"/usr/local/lib/python2.7/dist-packages/beets/library.py\", line 1016, in parse_query_string\n    parts = [p.decode('utf8') for p in shlex.split(s)]\n  File \"/usr/lib/python2.7/shlex.py\", line 279, in split\n    return list(lex)\n  File \"/usr/lib/python2.7/shlex.py\", line 269, in next\n    token = self.get_token()\n  File \"/usr/lib/python2.7/shlex.py\", line 96, in get_token\n    raw = self.read_token()\n  File \"/usr/lib/python2.7/shlex.py\", line 172, in read_token\n    raise ValueError, \"No closing quotation\"\nValueError: No closing quotation\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1288", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1288/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1288/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1288/events", "html_url": "https://github.com/beetbox/beets/issues/1288", "id": 56108220, "node_id": "MDU6SXNzdWU1NjEwODIyMA==", "number": 1288, "title": "One-sided range queries are broken", "user": {"login": "randybias", "id": 25304, "node_id": "MDQ6VXNlcjI1MzA0", "avatar_url": "https://avatars.githubusercontent.com/u/25304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/randybias", "html_url": "https://github.com/randybias", "followers_url": "https://api.github.com/users/randybias/followers", "following_url": "https://api.github.com/users/randybias/following{/other_user}", "gists_url": "https://api.github.com/users/randybias/gists{/gist_id}", "starred_url": "https://api.github.com/users/randybias/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/randybias/subscriptions", "organizations_url": "https://api.github.com/users/randybias/orgs", "repos_url": "https://api.github.com/users/randybias/repos", "events_url": "https://api.github.com/users/randybias/events{/privacy}", "received_events_url": "https://api.github.com/users/randybias/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/10", "html_url": "https://github.com/beetbox/beets/milestone/10", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/10/labels", "id": 940945, "node_id": "MDk6TWlsZXN0b25lOTQwOTQ1", "number": 10, "title": "1.3.11", "description": "Log refactoring and many other fixes.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-01-19T00:34:10Z", "updated_at": "2015-04-11T22:40:42Z", "due_on": null, "closed_at": "2015-04-11T22:40:42Z"}, "comments": 2, "created_at": "2015-01-31T02:14:03Z", "updated_at": "2015-01-31T18:45:44Z", "closed_at": "2015-01-31T13:24:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Configuration:\n\n> smartplaylist:\n>   playlist_dir: /Volumes/djmusic/crates\n>   playlists:\n>     - name: traktor_collection.m3u\n>       query: 'traktor:yes'\n>     - name: genre-house.m3u\n>       query: 'genre:house'\n>     - name: genre-disco.m3u\n>       query: 'genre:disco'\n>     - name: genre-funk.m3u\n>       query: 'genre:funk'\n>     - name: bpm-hiphopreggae.m3u\n>       query: 'bpm:75..104'\n>     - name: bpm-funkybreaks.m3u\n>       query: 'bpm:103..'\n\nCommand line output:\n\n> $ beet -v splupdate\n> user configuration: /Users/djrandyb/.config/beets/config.yaml\n> data directory: /Users/djrandyb/.config/beets\n> Sending event: pluginload\n> library database: /Volumes/djmusic/beets/data/musiclibrary.blb\n> library directory: /Volumes/djmusic/beets/music\n> Sending event: library_opened\n> smartplaylist: Updating smart playlists...\n> smartplaylist: Creating playlist traktor_collection.m3u\n> smartplaylist: Creating playlist genre-house.m3u\n> smartplaylist: Creating playlist genre-disco.m3u\n> smartplaylist: Creating playlist genre-funk.m3u\n> smartplaylist: Creating playlist bpm-hiphopreggae.m3u\n> smartplaylist: Creating playlist bpm-funkybreaks.m3u\n> invalid query: u'' is not an int or a float\n\nAnd the smart playlist is NOT updated.  It bails out at this point (there are more playlists after funkybreaks).\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1288/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1252", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1252/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1252/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1252/events", "html_url": "https://github.com/beetbox/beets/issues/1252", "id": 55025597, "node_id": "MDU6SXNzdWU1NTAyNTU5Nw==", "number": 1252, "title": "embedart with -f and image file absent", "user": {"login": "simonbcn", "id": 428231, "node_id": "MDQ6VXNlcjQyODIzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/428231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonbcn", "html_url": "https://github.com/simonbcn", "followers_url": "https://api.github.com/users/simonbcn/followers", "following_url": "https://api.github.com/users/simonbcn/following{/other_user}", "gists_url": "https://api.github.com/users/simonbcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonbcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonbcn/subscriptions", "organizations_url": "https://api.github.com/users/simonbcn/orgs", "repos_url": "https://api.github.com/users/simonbcn/repos", "events_url": "https://api.github.com/users/simonbcn/events{/privacy}", "received_events_url": "https://api.github.com/users/simonbcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-21T14:30:24Z", "updated_at": "2015-01-21T17:08:23Z", "closed_at": "2015-01-21T17:08:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "`embedart`: If the image file to embed specified with `-f` doesn't exist it shows error but it strips the image actually embedded.\nIf the image file to embed doesn't exist beets should show an error and it does nothing.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1252/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1252/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1244", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1244/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1244/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1244/events", "html_url": "https://github.com/beetbox/beets/issues/1244", "id": 54716513, "node_id": "MDU6SXNzdWU1NDcxNjUxMw==", "number": 1244, "title": "embedart: Logging is too verbose in new infrastructure", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/10", "html_url": "https://github.com/beetbox/beets/milestone/10", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/10/labels", "id": 940945, "node_id": "MDk6TWlsZXN0b25lOTQwOTQ1", "number": 10, "title": "1.3.11", "description": "Log refactoring and many other fixes.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2015-01-19T00:34:10Z", "updated_at": "2015-04-11T22:40:42Z", "due_on": null, "closed_at": "2015-04-11T22:40:42Z"}, "comments": 12, "created_at": "2015-01-19T00:32:06Z", "updated_at": "2015-02-17T22:13:17Z", "closed_at": "2015-02-17T22:13:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The recent plugin log refactoring has made the `embedart` plugin too noisy. Since it uses an event handler rather than an import stage, its `self._log.info` calls (e.g., \"compare PHASH score\u2026\") are printed during the import process. We need a way to quiet this down, either special-purpose for this plugin on its own.\n\nA quick grep reveals that the plugins using `album_imported` and `item_imported` are: `embedart`, `freedesktop`, `importadded`, `importfeeds`, and `permissions`. All of them could use a second look to make sure they don't have the same problem.\n\nI don't have any bright ideas at the moment, but I'll keep thinking. @brunal, any thoughts?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1244/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1226", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1226/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1226/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1226/events", "html_url": "https://github.com/beetbox/beets/issues/1226", "id": 54415730, "node_id": "MDU6SXNzdWU1NDQxNTczMA==", "number": 1226, "title": "lyrics: Some self.config references broken", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "brunal", "id": 921168, "node_id": "MDQ6VXNlcjkyMTE2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/921168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunal", "html_url": "https://github.com/brunal", "followers_url": "https://api.github.com/users/brunal/followers", "following_url": "https://api.github.com/users/brunal/following{/other_user}", "gists_url": "https://api.github.com/users/brunal/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunal/subscriptions", "organizations_url": "https://api.github.com/users/brunal/orgs", "repos_url": "https://api.github.com/users/brunal/repos", "events_url": "https://api.github.com/users/brunal/events{/privacy}", "received_events_url": "https://api.github.com/users/brunal/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-01-15T06:05:42Z", "updated_at": "2015-01-15T10:35:53Z", "closed_at": "2015-01-15T10:34:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@brunal, it looks like the source-class refactoring in `lyrics` broke some `self.config` references in the `Google` backend. Specifically, that code still refers to `self.config['google_API_key']`, even though the `Google` object does not have a `config`.\n\nI'm not sure what the best resolution is\u2014pass the `config` along? Initialize the objects up front and pass the Google-specific parameters to `__init__`?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1226/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1225", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1225/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1225/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1225/events", "html_url": "https://github.com/beetbox/beets/issues/1225", "id": 54389956, "node_id": "MDU6SXNzdWU1NDM4OTk1Ng==", "number": 1225, "title": "Smartplaylist plugin generates a directory path for album_query", "user": {"login": "pjones", "id": 3737, "node_id": "MDQ6VXNlcjM3Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjones", "html_url": "https://github.com/pjones", "followers_url": "https://api.github.com/users/pjones/followers", "following_url": "https://api.github.com/users/pjones/following{/other_user}", "gists_url": "https://api.github.com/users/pjones/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjones/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjones/subscriptions", "organizations_url": "https://api.github.com/users/pjones/orgs", "repos_url": "https://api.github.com/users/pjones/repos", "events_url": "https://api.github.com/users/pjones/events{/privacy}", "received_events_url": "https://api.github.com/users/pjones/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-14T23:02:31Z", "updated_at": "2015-01-15T17:17:11Z", "closed_at": "2015-01-15T06:00:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using `album_query`, the documentation states that the smartplaylist plugin will include all tracks from matching albums.  Instead, the smartplaylist plugin writes the directory name into the playlist file.  To be a proper playlist, the smartplaylist plugin should export all tracks from a matching album.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1225/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1204", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1204/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1204/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1204/events", "html_url": "https://github.com/beetbox/beets/issues/1204", "id": 53483066, "node_id": "MDU6SXNzdWU1MzQ4MzA2Ng==", "number": 1204, "title": "lyrics: Insecure Request Warning from MusixMatch backend", "user": {"login": "Night-Man", "id": 6537813, "node_id": "MDQ6VXNlcjY1Mzc4MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/6537813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Night-Man", "html_url": "https://github.com/Night-Man", "followers_url": "https://api.github.com/users/Night-Man/followers", "following_url": "https://api.github.com/users/Night-Man/following{/other_user}", "gists_url": "https://api.github.com/users/Night-Man/gists{/gist_id}", "starred_url": "https://api.github.com/users/Night-Man/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Night-Man/subscriptions", "organizations_url": "https://api.github.com/users/Night-Man/orgs", "repos_url": "https://api.github.com/users/Night-Man/repos", "events_url": "https://api.github.com/users/Night-Man/events{/privacy}", "received_events_url": "https://api.github.com/users/Night-Man/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-01-06T05:37:26Z", "updated_at": "2015-01-06T19:17:31Z", "closed_at": "2015-01-06T19:17:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I keep getting this warning when using beet import\n\n```\nInsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n```\n\nI followed the readthedocs link, but I couldn't figure anything out.\n\nHere's my plugins list\n\n```\nplugins: lyrics chroma lastgenre fetchart ftintitle fromfilename inline web copyartifacts rewrite discogs fuzzy missing check\n```\n\nBeets continues to import, but it repeats the error over and over, usually 10 or so times in between the importing of each album. Like this:\n\n```\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/connectionpool.py:734: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.org/en/latest/security.html\n  InsecureRequestWarning)\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1204/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1179", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1179/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1179/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1179/events", "html_url": "https://github.com/beetbox/beets/issues/1179", "id": 53011236, "node_id": "MDU6SXNzdWU1MzAxMTIzNg==", "number": 1179, "title": "ftintitle: does not gracefully handle duplicate artist name", "user": {"login": "marcaddeo", "id": 199649, "node_id": "MDQ6VXNlcjE5OTY0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/199649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcaddeo", "html_url": "https://github.com/marcaddeo", "followers_url": "https://api.github.com/users/marcaddeo/followers", "following_url": "https://api.github.com/users/marcaddeo/following{/other_user}", "gists_url": "https://api.github.com/users/marcaddeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcaddeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcaddeo/subscriptions", "organizations_url": "https://api.github.com/users/marcaddeo/orgs", "repos_url": "https://api.github.com/users/marcaddeo/repos", "events_url": "https://api.github.com/users/marcaddeo/events{/privacy}", "received_events_url": "https://api.github.com/users/marcaddeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-28T22:19:58Z", "updated_at": "2014-12-28T23:00:45Z", "closed_at": "2014-12-28T23:00:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using ftintitle on one of my tracks, it seemed to get tripped up and not be able to fix it. I've tracked it down to being a problem with the fact that the Album Artist's name is in the Artist field twice.\n\n```\nArtist: The Roots feat. Talib Kweli / The Roots\nAlbum Artist: The Roots\n```\n\nWhen trying to find the album artist in the artist field, it does a string split using the album artist as a separator. This returns a list with the following values `['', 'feat. Talib Kweli / ', '']`.\n\nThe code that tries to find the `feat_part` is then only expecting a two element list, but is instead given a three. It then checks if the `-1th` element, `2` in this case, is blank. If it's not, it extracts the featured artist. \n\nIf it is blank, it goes on to assume the featured artist must be on the left-hand side of the split and checks element `0`.\n\nBoth elements `0` and `2` are blank, so no featured part is found.\n\nI've thought of two solutions, but am not sure which one would make more sense\n- Attempt to remove duplicate album artists from the artist string before splitting\n- Add another/change the current case to iterate over the split parts to find the first non-blank item\n\nEither way, these methods would presumably still leave the trailing slash on the `feat. Talib Kweli /` and add the extraneous trailing slash to the track title. This, I'm not quite sure how to handle if at all.\n\nThoughts?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1179/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1178", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1178/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1178/events", "html_url": "https://github.com/beetbox/beets/issues/1178", "id": 53011138, "node_id": "MDU6SXNzdWU1MzAxMTEzOA==", "number": 1178, "title": "config: Star character in source lists can cause YAML syntax error", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 99834374, "node_id": "MDU6TGFiZWw5OTgzNDM3NA==", "url": "https://api.github.com/repos/beetbox/beets/labels/docs", "name": "docs", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-28T22:15:48Z", "updated_at": "2015-01-30T21:24:54Z", "closed_at": "2015-01-30T21:24:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "the `*` char is used in _sources_ option of lyrics plugin as a shortcut for _all sources_\n\n```\nlyrics:\n    sources: * google \n```\n\n(all sources with google in last position) gives : \n\n```\nconfiguration error: file /Users/flap/.config/beets/config-test.yaml could not be read: while scanning an alias\n  in \"/Users/flap/.config/beets/config-test.yaml\", line 51, column 14\nexpected alphabetic or numeric character, but found ' '\n  in \"/Users/flap/.config/beets/config-test.yaml\", line 51, column 15\n```\n\nworks as expected though with following notation : \n\n```\nlyrics:\n    sources: ['*', 'google'] \n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1178/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1177", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1177/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1177/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1177/events", "html_url": "https://github.com/beetbox/beets/issues/1177", "id": 53011036, "node_id": "MDU6SXNzdWU1MzAxMTAzNg==", "number": 1177, "title": "fetchart: Check that image files are in fact files", "user": {"login": "kelvinhammond", "id": 1824682, "node_id": "MDQ6VXNlcjE4MjQ2ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/1824682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kelvinhammond", "html_url": "https://github.com/kelvinhammond", "followers_url": "https://api.github.com/users/kelvinhammond/followers", "following_url": "https://api.github.com/users/kelvinhammond/following{/other_user}", "gists_url": "https://api.github.com/users/kelvinhammond/gists{/gist_id}", "starred_url": "https://api.github.com/users/kelvinhammond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kelvinhammond/subscriptions", "organizations_url": "https://api.github.com/users/kelvinhammond/orgs", "repos_url": "https://api.github.com/users/kelvinhammond/repos", "events_url": "https://api.github.com/users/kelvinhammond/events{/privacy}", "received_events_url": "https://api.github.com/users/kelvinhammond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-28T22:10:37Z", "updated_at": "2015-01-08T21:41:14Z", "closed_at": "2015-01-08T21:41:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have no idea why it was a directory, I fixed it manually but still beets should probably check that what it is trying to copy to a file is actually a file and not some other type of \"file\".\n\n> Error: Is a directory while copying <music root>/Cashmere Cat - Mirror Maru (Remixes) - 2013/Folder.jpg to<music root>/Cashmere Cat - Mirror Maru (\n> Remixes) - 2013/cover.jpg\n\n`<music root>/Cashmere Cat - Mirror Maru (Remixes) - 2013/Folder.jpg` was a directory with a file inside of it for the cover, not sure why it was like that but I fixed it.\n\nThis may be an issue with the cover art plugin, am not sure, it probably is.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1177/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1177/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1172", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1172/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1172/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1172/events", "html_url": "https://github.com/beetbox/beets/issues/1172", "id": 52963593, "node_id": "MDU6SXNzdWU1Mjk2MzU5Mw==", "number": 1172, "title": "ftintitle: be less verbose during import", "user": {"login": "marcaddeo", "id": 199649, "node_id": "MDQ6VXNlcjE5OTY0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/199649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcaddeo", "html_url": "https://github.com/marcaddeo", "followers_url": "https://api.github.com/users/marcaddeo/followers", "following_url": "https://api.github.com/users/marcaddeo/following{/other_user}", "gists_url": "https://api.github.com/users/marcaddeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcaddeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcaddeo/subscriptions", "organizations_url": "https://api.github.com/users/marcaddeo/orgs", "repos_url": "https://api.github.com/users/marcaddeo/repos", "events_url": "https://api.github.com/users/marcaddeo/events{/privacy}", "received_events_url": "https://api.github.com/users/marcaddeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-27T19:04:50Z", "updated_at": "2014-12-28T22:54:09Z", "closed_at": "2014-12-28T22:54:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "During an import, with the ftintitle enabled it seems to have very verbose output. This causes the user to not notice any prompts that beets has, and is somewhat annoying when doing a large import.\n\nAs seen here:\n![Image of ftintitle spam](http://i.imgur.com/wd0rN0R.png)\n\nMy suggestion would be to add a configuration option that would make ftintitle be less verbose. Or, making it not be verbose by default and adding a verbosity configuration option.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1172/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1165", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1165/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1165/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1165/events", "html_url": "https://github.com/beetbox/beets/issues/1165", "id": 52671552, "node_id": "MDU6SXNzdWU1MjY3MTU1Mg==", "number": 1165, "title": "Path queries are case-insensitive", "user": {"login": "jmwatte", "id": 768112, "node_id": "MDQ6VXNlcjc2ODExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/768112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwatte", "html_url": "https://github.com/jmwatte", "followers_url": "https://api.github.com/users/jmwatte/followers", "following_url": "https://api.github.com/users/jmwatte/following{/other_user}", "gists_url": "https://api.github.com/users/jmwatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwatte/subscriptions", "organizations_url": "https://api.github.com/users/jmwatte/orgs", "repos_url": "https://api.github.com/users/jmwatte/repos", "events_url": "https://api.github.com/users/jmwatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwatte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-22T17:42:45Z", "updated_at": "2015-03-02T01:12:25Z", "closed_at": "2015-03-02T01:12:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I have two albums with the same name except for 1 difference: \n\n/media/bb/audio/jazz/Sinatra/In the Wee Wee Hours\n/media/bb/adio/jazz/Sinatra/In The Wee Wee Hours\n\nthe difference is just a lowercase/uppercase (t/T)\n\nwhen using the command\nbeet rm /media/bb/audio:jazz/Sinatra/In the Wee Wee Hours (or The Wee Wee)\nbeet asks me if I want to delete both of the albums\nI checked and even with \nbeet ls /media/bb/audio:jazz/Sinatra/In the Wee Wee Hours (or The Wee Wee)\nI get both the albums.\n\nShould beet not differentiate between lower/uppercase?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1165/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1154", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1154/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1154/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1154/events", "html_url": "https://github.com/beetbox/beets/issues/1154", "id": 52516177, "node_id": "MDU6SXNzdWU1MjUxNjE3Nw==", "number": 1154, "title": "convert plugin failing on Windows", "user": {"login": "mluds", "id": 1666457, "node_id": "MDQ6VXNlcjE2NjY0NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1666457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mluds", "html_url": "https://github.com/mluds", "followers_url": "https://api.github.com/users/mluds/followers", "following_url": "https://api.github.com/users/mluds/following{/other_user}", "gists_url": "https://api.github.com/users/mluds/gists{/gist_id}", "starred_url": "https://api.github.com/users/mluds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mluds/subscriptions", "organizations_url": "https://api.github.com/users/mluds/orgs", "repos_url": "https://api.github.com/users/mluds/repos", "events_url": "https://api.github.com/users/mluds/events{/privacy}", "received_events_url": "https://api.github.com/users/mluds/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-19T18:55:51Z", "updated_at": "2014-12-21T01:09:10Z", "closed_at": "2014-12-21T01:09:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to convert my FLAC songs to MP3 but something isn't working. Here is the PowerShell output when I try converting a single song:\n\n```\nPS C:\\Users\\Michael\\Desktop> beet -v convert -d . \"pull me under\"\nuser configuration: C:\\Users\\Michael\\AppData\\Roaming\\beets\\config.yaml\ndata directory: C:\\Users\\Michael\\AppData\\Roaming\\beets\nSending event: pluginload\nlibrary database: C:\\Users\\Michael\\Music\\MusicLibrary.blb\nlibrary directory: C:\\Users\\Michael\\Music\nSending event: library_opened\nDream Theater - Images and Words - Pull Me Under\nConvert? (Y/n) y\nEncoding C:\\Users\\Michael\\Music\\Dream Theater\\Images and Words\\01 Pull Me Under.flac\nconvert: executing: ffmpeg -i 'C:\\Users\\Michael\\Music\\Dream Theater\\Images and Words\\01 Pull Me Under.flac' -vn -b:a 320k 'C:\\Users\\Michael\\Desktop\\Dream Theater\\Images and Words\\01 Pull Me Under.mp3'\nEncoding C:\\Users\\Michael\\Music\\Dream Theater\\Images and Words\\01 Pull Me Under.flac failed. Cleaning up...\nSending event: cli_exit\n```\n\n`ffmpeg` is in my `PATH` and I've tested the above command on a sample file. Any suggestions?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1154/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1154/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1152", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1152/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1152/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1152/events", "html_url": "https://github.com/beetbox/beets/issues/1152", "id": 52431289, "node_id": "MDU6SXNzdWU1MjQzMTI4OQ==", "number": 1152, "title": "mbcollection: MusicBrainz API error", "user": {"login": "cemmec", "id": 10238010, "node_id": "MDQ6VXNlcjEwMjM4MDEw", "avatar_url": "https://avatars.githubusercontent.com/u/10238010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cemmec", "html_url": "https://github.com/cemmec", "followers_url": "https://api.github.com/users/cemmec/followers", "following_url": "https://api.github.com/users/cemmec/following{/other_user}", "gists_url": "https://api.github.com/users/cemmec/gists{/gist_id}", "starred_url": "https://api.github.com/users/cemmec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cemmec/subscriptions", "organizations_url": "https://api.github.com/users/cemmec/orgs", "repos_url": "https://api.github.com/users/cemmec/repos", "events_url": "https://api.github.com/users/cemmec/events{/privacy}", "received_events_url": "https://api.github.com/users/cemmec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-12-18T23:45:10Z", "updated_at": "2014-12-30T22:14:56Z", "closed_at": "2014-12-21T03:22:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nWhen I try to use beet mbpdate I'm receiving the following error:\n\nUpdating MusicBrainz collection 63b52b5f-589e-311b-bd7d-11722fcc3c18...\nerror: MusicBrainz API error: caused by: HTTP Error 400: Bad Request\n\nI'm using Windows 8.1 and I followed the guide on http://beets.readthedocs.org/en/v1.3.9/guides/main.html to install beet.\n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1152/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1146", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1146/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1146/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1146/events", "html_url": "https://github.com/beetbox/beets/issues/1146", "id": 52101326, "node_id": "MDU6SXNzdWU1MjEwMTMyNg==", "number": 1146, "title": "Escape path queries for SQLite", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-16T11:23:15Z", "updated_at": "2014-12-21T11:27:08Z", "closed_at": "2014-12-21T11:27:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Path queries in beets use the [SQLite `LIKE` operator](https://www.sqlite.org/lang_expr.html#like) to search subdirectories. For example, `beet ls /foo` generates an SQL expression like `path LIKE '/foo/%'`. This can fail when the path contains characters that SQLite wants to interpret specially. Specifically, if there's an underscore in the path, SQLite matches any character in that position.\n\nWe should escape `_` and `%` in these strings before sending them to SQLite.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1146/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1139", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1139/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1139/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1139/events", "html_url": "https://github.com/beetbox/beets/issues/1139", "id": 51883361, "node_id": "MDU6SXNzdWU1MTg4MzM2MQ==", "number": 1139, "title": "Path to configuration file not taken into account", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-12-13T10:12:45Z", "updated_at": "2014-12-14T14:06:10Z", "closed_at": "2014-12-14T12:38:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\nflap at MacBook \u00b1 beet -c ~/.config/beets/config-noop.yaml -v import -CAW Joao\\ Gilberto \nuser configuration: /Users/flap/.config/beets/config.yaml\n...\n\nflap at MacBook \u00b1 ll ~/.config/beets/config-noop.yaml\n-rw-r--r--  1 flap  staff  729 Dec 13 10:26 /Users/flap/.config/beets/config-noop.yaml\n```\n\nAs printed, `config.yaml`has been used instead of `config-noop.yaml`\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1139/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1137", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1137/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1137/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1137/events", "html_url": "https://github.com/beetbox/beets/issues/1137", "id": 51701505, "node_id": "MDU6SXNzdWU1MTcwMTUwNQ==", "number": 1137, "title": "smartplaylist: Respect sort terms in queries", "user": {"login": "djl", "id": 11758, "node_id": "MDQ6VXNlcjExNzU4", "avatar_url": "https://avatars.githubusercontent.com/u/11758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djl", "html_url": "https://github.com/djl", "followers_url": "https://api.github.com/users/djl/followers", "following_url": "https://api.github.com/users/djl/following{/other_user}", "gists_url": "https://api.github.com/users/djl/gists{/gist_id}", "starred_url": "https://api.github.com/users/djl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djl/subscriptions", "organizations_url": "https://api.github.com/users/djl/orgs", "repos_url": "https://api.github.com/users/djl/repos", "events_url": "https://api.github.com/users/djl/events{/privacy}", "received_events_url": "https://api.github.com/users/djl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-12-11T15:42:54Z", "updated_at": "2014-12-12T23:43:29Z", "closed_at": "2014-12-12T23:43:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It would be nice to be able sort items in smart playlists, like so:\n\n```\nsmartplaylist:\n  relative_to: ~/music\n  playlist_dir: ~/.mpd/playlists\n  playlists:\n    - name: '2014.m3u'\n      query: 'year:2014 added+'\n    - name: 'imported-%time{$added,%Y-%m}.m3u'\n      query: \"added:: path+\"\n```\n\nI'm unfamiliar with the code but it looks like the smartplaylist plugin [discards the query `sort` field](https://github.com/sampsyo/beets/blob/master/beetsplug/smartplaylist.py#L45) when building playlists. Would it be possible to keep the custom sort?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1137/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1135", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1135/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1135/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1135/events", "html_url": "https://github.com/beetbox/beets/issues/1135", "id": 51492231, "node_id": "MDU6SXNzdWU1MTQ5MjIzMQ==", "number": 1135, "title": "lyrics: UnicodeEncodeError may happen when google backend activated", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-12-09T22:37:22Z", "updated_at": "2014-12-12T00:04:08Z", "closed_at": "2014-12-12T00:04:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\nfetching Elephanz Stereo\nTraceback (most recent call last):\n  File \"/Users/flap/bin/beet\", line 20, in <module>\n    beets.ui.main()\n  File \"/Users/flap/Dev/beets/beets/ui/__init__.py\", line 937, in main\n    _raw_main(args)\n  File \"/Users/flap/Dev/beets/beets/ui/__init__.py\", line 927, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Users/flap/Dev/beets/beets/ui/commands.py\", line 872, in import_func\n    import_files(lib, paths, query)\n  File \"/Users/flap/Dev/beets/beets/ui/commands.py\", line 844, in import_files\n    session.run()\n  File \"/Users/flap/Dev/beets/beets/importer.py\", line 300, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/Users/flap/Dev/beets/beets/util/pipeline.py\", line 299, in run\n    out = self.coro.send(msg)\n  File \"/Users/flap/Dev/beets/beets/util/pipeline.py\", line 181, in coro\n    func(*(args + (task,)))\n  File \"/Users/flap/Dev/beets/beets/importer.py\", line 1263, in plugin_stage\n    func(session, task)\n  File \"/Users/flap/Dev/beets/beetsplug/lyrics.py\", line 457, in imported\n    False, False)\n  File \"/Users/flap/Dev/beets/beetsplug/lyrics.py\", line 473, in fetch_item_lyrics\n    lyrics = [self.get_lyrics(artist, title) for title in titles]\n  File \"/Users/flap/Dev/beets/beetsplug/lyrics.py\", line 503, in get_lyrics\n    lyrics = backend(artist, title)\n  File \"/Users/flap/Dev/beets/beetsplug/lyrics.py\", line 405, in fetch_google\n    if is_lyrics(lyrics, artist):\n  File \"/Users/flap/Dev/beets/beetsplug/lyrics.py\", line 302, in is_lyrics\n    text.decode('utf8')))\n  File \"/usr/local/Cellar/python/2.7.8_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/encodings/utf_8.py\", line 16, in decode\n    return codecs.utf_8_decode(input, errors, True)\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 61: ordinal not in range(128)\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1135/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1121", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1121/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1121/events", "html_url": "https://github.com/beetbox/beets/issues/1121", "id": 50410891, "node_id": "MDU6SXNzdWU1MDQxMDg5MQ==", "number": 1121, "title": "echonest: Turn off song identification", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-29T01:07:26Z", "updated_at": "2014-11-30T20:19:58Z", "closed_at": "2014-11-30T20:19:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The EN API is [turning off fingerprint and upload-based song identification](http://developer.echonest.com/forums/thread/3650). In other words, Echoprint is dead, and it also looks like the upload-to-analyze API will no longer include an ID for fetching the bulk of the metadata.\n\nSo we should probably remove these parts of the Echo Nest plugin:\n- Fingerprinting\n- Uploading\n- Transcoding for upload\n- Truncation for upload\n\nwhich leaves matching by MBID and conventional metadata (artist/title).\n\nProbably not a bad idea to start exploring an AcousticBrainz plugin as a replacement\u2026\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1121/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1119", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1119/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1119/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1119/events", "html_url": "https://github.com/beetbox/beets/issues/1119", "id": 50315752, "node_id": "MDU6SXNzdWU1MDMxNTc1Mg==", "number": 1119, "title": "Delete echonest_tempo plugin", "user": {"login": "ab623", "id": 3438974, "node_id": "MDQ6VXNlcjM0Mzg5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3438974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ab623", "html_url": "https://github.com/ab623", "followers_url": "https://api.github.com/users/ab623/followers", "following_url": "https://api.github.com/users/ab623/following{/other_user}", "gists_url": "https://api.github.com/users/ab623/gists{/gist_id}", "starred_url": "https://api.github.com/users/ab623/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ab623/subscriptions", "organizations_url": "https://api.github.com/users/ab623/orgs", "repos_url": "https://api.github.com/users/ab623/repos", "events_url": "https://api.github.com/users/ab623/events{/privacy}", "received_events_url": "https://api.github.com/users/ab623/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/8", "html_url": "https://github.com/beetbox/beets/milestone/8", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/8/labels", "id": 620035, "node_id": "MDk6TWlsZXN0b25lNjIwMDM1", "number": 8, "title": "MediaFile++", "description": "A few core refactors and improvements for beets' tag-writing layer.\r\n\r\nThis might be a good time to split off the MediaFile project as a separate library, in which case this would probably be beets 1.4.0.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 11, "state": "open", "created_at": "2014-04-04T04:39:49Z", "updated_at": "2020-07-18T23:41:24Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2014-11-27T18:20:40Z", "updated_at": "2014-11-30T20:19:05Z", "closed_at": "2014-11-30T20:19:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The echonest_tempo plugin functionality already exists within the echonest plugin. Is there any need to keep the individual plugin, seeing as it contains lots of duplicate code, and is 1 extra request to echonest. \n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1119/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1118", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1118/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1118/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1118/events", "html_url": "https://github.com/beetbox/beets/issues/1118", "id": 50290551, "node_id": "MDU6SXNzdWU1MDI5MDU1MQ==", "number": 1118, "title": "Handle errors in date query parsing", "user": {"login": "arthurlutz", "id": 108437, "node_id": "MDQ6VXNlcjEwODQzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/108437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthurlutz", "html_url": "https://github.com/arthurlutz", "followers_url": "https://api.github.com/users/arthurlutz/followers", "following_url": "https://api.github.com/users/arthurlutz/following{/other_user}", "gists_url": "https://api.github.com/users/arthurlutz/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthurlutz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthurlutz/subscriptions", "organizations_url": "https://api.github.com/users/arthurlutz/orgs", "repos_url": "https://api.github.com/users/arthurlutz/repos", "events_url": "https://api.github.com/users/arthurlutz/events{/privacy}", "received_events_url": "https://api.github.com/users/arthurlutz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/8", "html_url": "https://github.com/beetbox/beets/milestone/8", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/8/labels", "id": 620035, "node_id": "MDk6TWlsZXN0b25lNjIwMDM1", "number": 8, "title": "MediaFile++", "description": "A few core refactors and improvements for beets' tag-writing layer.\r\n\r\nThis might be a good time to split off the MediaFile project as a separate library, in which case this would probably be beets 1.4.0.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 11, "state": "open", "created_at": "2014-04-04T04:39:49Z", "updated_at": "2020-07-18T23:41:24Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2014-11-27T13:19:10Z", "updated_at": "2014-11-28T16:28:35Z", "closed_at": "2014-11-28T16:28:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n(beets)arthur:~$ beet ls -a 'added:2014-11'+\nTraceback (most recent call last):\n  File \"/home/arthur/.virtualenvs/beets/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.7', 'console_scripts', 'beet')()\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 966, in main\n    _raw_main(args)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 957, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 982, in list_func\n    list_items(lib, decargs(args), opts.album, fmt)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 970, in list_items\n    for album in lib.albums(query):\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/library.py\", line 1032, in albums\n    return self._fetch(Album, query, order)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/library.py\", line 1022, in _fetch\n    model_cls, get_query(query, model_cls), order_by\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/library.py\", line 942, in get_query\n    dbcore.AndQuery, model_cls, prefixes, non_path_parts\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/dbcore/queryparse.py\", line 120, in query_from_strings\n    subqueries.append(construct_query_part(model_cls, prefixes, part))\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/dbcore/queryparse.py\", line 110, in construct_query_part\n    return query_class(key.lower(), pattern, key in model_cls._fields)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/dbcore/query.py\", line 471, in __init__\n    start, end = _parse_periods(pattern)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/dbcore/query.py\", line 365, in _parse_periods\n    instant = Period.parse(parts[0])\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/dbcore/query.py\", line 404, in parse\n    date = datetime.strptime(string, date_format)\n  File \"/usr/lib/python2.7/_strptime.py\", line 328, in _strptime\n    data_string[found.end():])\nValueError: unconverted data remains: +\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1118/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1107", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1107/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1107/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1107/events", "html_url": "https://github.com/beetbox/beets/issues/1107", "id": 49692599, "node_id": "MDU6SXNzdWU0OTY5MjU5OQ==", "number": 1107, "title": "importadded: Crash when files are neither moved nor copied", "user": {"login": "arthurlutz", "id": 108437, "node_id": "MDQ6VXNlcjEwODQzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/108437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthurlutz", "html_url": "https://github.com/arthurlutz", "followers_url": "https://api.github.com/users/arthurlutz/followers", "following_url": "https://api.github.com/users/arthurlutz/following{/other_user}", "gists_url": "https://api.github.com/users/arthurlutz/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthurlutz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthurlutz/subscriptions", "organizations_url": "https://api.github.com/users/arthurlutz/orgs", "repos_url": "https://api.github.com/users/arthurlutz/repos", "events_url": "https://api.github.com/users/arthurlutz/events{/privacy}", "received_events_url": "https://api.github.com/users/arthurlutz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-11-21T12:56:58Z", "updated_at": "2015-01-30T21:22:02Z", "closed_at": "2015-01-30T21:22:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n[snip]\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 966, in main\n    _raw_main(args)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 957, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 884, in import_func\n    import_files(lib, paths, query)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 856, in import_files\n    session.run()\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 291, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 345, in run\n    self.coro.send(msg)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 158, in coro\n    task = func(*(args + (task,)))\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 1138, in manipulate_files\n    task.finalize(session)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 470, in finalize\n    self._emit_imported(session.lib)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 502, in _emit_imported\n    plugins.send('album_imported', lib=lib, album=self.album)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/plugins.py\", line 379, in send\n    handler(**args)\n  File \"/home/arthur/.virtualenvs/beets/local/lib/python2.7/site-packages/beetsplug/importadded.py\", line 85, in update_album_times\n    album.added = min(album_mtimes)\nValueError: min() arg is an empty sequence\n```\n\n(sorry was running in a screen so I don't have the full history)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1087", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1087/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1087/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1087/events", "html_url": "https://github.com/beetbox/beets/issues/1087", "id": 48884676, "node_id": "MDU6SXNzdWU0ODg4NDY3Ng==", "number": 1087, "title": "In %asciify, asciify_paths, scrub path separators", "user": {"login": "igno2k", "id": 3158341, "node_id": "MDQ6VXNlcjMxNTgzNDE=", "avatar_url": "https://avatars.githubusercontent.com/u/3158341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igno2k", "html_url": "https://github.com/igno2k", "followers_url": "https://api.github.com/users/igno2k/followers", "following_url": "https://api.github.com/users/igno2k/following{/other_user}", "gists_url": "https://api.github.com/users/igno2k/gists{/gist_id}", "starred_url": "https://api.github.com/users/igno2k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igno2k/subscriptions", "organizations_url": "https://api.github.com/users/igno2k/orgs", "repos_url": "https://api.github.com/users/igno2k/repos", "events_url": "https://api.github.com/users/igno2k/events{/privacy}", "received_events_url": "https://api.github.com/users/igno2k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-11-15T08:02:59Z", "updated_at": "2016-12-09T02:35:11Z", "closed_at": "2016-12-09T02:35:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Songs starting with \"\u00bd\" should be renamed like the following:\n\n$artist/$album/01 - 1_2 song title.mp3\n\nActually they will be renamed like this:\n\n$artist/$album/01 -1/2 sing title.mp3\n\nSo a new folder starting with \"01\" is created.\n\nSuggestion:\nWe will probably need to special-case this to re-scrub path separators after asciification.\n\nAlso see:\nhttps://groups.google.com/forum/#!topic/beets-users/cpY7zKRUGbA\n\nRegards,\nMatthias\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1087/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1051", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1051/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1051/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1051/events", "html_url": "https://github.com/beetbox/beets/issues/1051", "id": 47389092, "node_id": "MDU6SXNzdWU0NzM4OTA5Mg==", "number": 1051, "title": "Problem with non-ascii characters when using the discogs plugin and oauth", "user": {"login": "fhchl", "id": 6132231, "node_id": "MDQ6VXNlcjYxMzIyMzE=", "avatar_url": "https://avatars.githubusercontent.com/u/6132231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fhchl", "html_url": "https://github.com/fhchl", "followers_url": "https://api.github.com/users/fhchl/followers", "following_url": "https://api.github.com/users/fhchl/following{/other_user}", "gists_url": "https://api.github.com/users/fhchl/gists{/gist_id}", "starred_url": "https://api.github.com/users/fhchl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fhchl/subscriptions", "organizations_url": "https://api.github.com/users/fhchl/orgs", "repos_url": "https://api.github.com/users/fhchl/repos", "events_url": "https://api.github.com/users/fhchl/events{/privacy}", "received_events_url": "https://api.github.com/users/fhchl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-10-31T12:30:27Z", "updated_at": "2021-03-17T11:58:48Z", "closed_at": "2021-03-17T11:58:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just found this bug: when trying to import with the awesome discogs plugin I get the following error:\n\n```\nbeet -v import /Volumes/Speicher/Music/iTunes/iTunes\\ Media/Music/Nikolai\\ Lugansky/Rachmaninov_\\ Pr\u00e9ludes,\\ Moments\\ Musicaux\nuser configuration: /Users/Franz/.config/beets/config.yaml\ndata directory: /Users/Franz/.config/beets\nSending event: pluginload\nlibrary database: /Users/Franz/fun/data/musiclibrary.blb\nlibrary directory: /Users/Franz/fun/music\nSending event: library_opened\nSending event: import_task_start\nLooking up: /Volumes/Speicher/Music/iTunes/iTunes Media/Music/Nikolai Lugansky/Rachmaninov_ Pr\u00e9ludes, Moments Musicaux\nTagging Nikolai Lugansky - Rachmaninov: Pr\u00e9ludes, Moments Musicaux\nNo album IDs found.\nSearch terms: Nikolai Lugansky - Rachmaninov: Pr\u00e9ludes, Moments Musicaux\nAlbum might be VA: False\nTraceback (most recent call last):\n  File \"/Users/Franz/anaconda/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.9', 'console_scripts', 'beet')()\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/ui/__init__.py\", line 935, in main\n    _raw_main(args)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/ui/__init__.py\", line 925, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/ui/commands.py\", line 872, in import_func\n    import_files(lib, paths, query)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/ui/commands.py\", line 844, in import_files\n    session.run()\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/importer.py\", line 295, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/util/pipeline.py\", line 299, in run\n    out = self.coro.send(msg)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/util/pipeline.py\", line 181, in coro\n    func(*(args + (task,)))\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/importer.py\", line 1156, in lookup_candidates\n    task.lookup_candidates()\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/importer.py\", line 539, in lookup_candidates\n    autotag.tag_album(self.items)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/autotag/match.py\", line 432, in tag_album\n    search_album, va_likely)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/autotag/hooks.py\", line 557, in album_candidates\n    out.extend(plugins.candidates(items, artist, album, va_likely))\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beets/plugins.py\", line 301, in candidates\n    out.extend(plugin.candidates(items, artist, album, va_likely))\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beetsplug/discogs.py\", line 110, in candidates\n    return self.get_albums(query)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/beets-1.3.9-py2.7.egg/beetsplug/discogs.py\", line 156, in get_albums\n    releases = self.discogs_client.search(query, type='release').page(1)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/discogs_client/models.py\", line 336, in page\n    data = self.client._get(self._url_for_page(index))\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/discogs_client/client.py\", line 110, in _get\n    return self._request('GET', url)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/discogs_client/client.py\", line 97, in _request\n    content, status_code = self._fetcher.fetch(self, method, url, data=data, headers=headers)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/discogs_client/fetchers.py\", line 73, in fetch\n    resp, content = self.oauth_client.request(url, method, headers=headers)\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/oauth2/__init__.py\", line 676, in request\n    uri = req.to_url()\n  File \"/Users/Franz/anaconda/lib/python2.7/site-packages/oauth2/__init__.py\", line 440, in to_url\n    urllib.urlencode(query, True), fragment)\n  File \"/Users/Franz/anaconda/lib/python2.7/urllib.py\", line 1357, in urlencode\n    l.append(k + '=' + quote_plus(str(elt)))\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 31-32: ordinal not in range(128)\n```\n\nMy beets options are set like this:\n\n``` yaml\nplugins: discogs chroma keyfinder fetchart embedart # fromfilename\n\ngroup_albums: yes\nasciify_paths: yes\n\n# Plugin options\nlastgenre:\n    fallback: ''\n\nkeyfinder:\n    bin: /Applications/KeyFinder.app/Contents/MacOS/KeyFinder\n    auto: no\n    overwrite: no\n\nfetchart:\n    auto: no\n\nchroma:\n    auto: no\n```\n\nI'm using the most recent version and the asciify_path option has no effect on the error.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1051/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1035", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1035/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1035/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1035/events", "html_url": "https://github.com/beetbox/beets/issues/1035", "id": 46797235, "node_id": "MDU6SXNzdWU0Njc5NzIzNQ==", "number": 1035, "title": "Licensing issues in lyrics tests", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/7", "html_url": "https://github.com/beetbox/beets/milestone/7", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/7/labels", "id": 620031, "node_id": "MDk6TWlsZXN0b25lNjIwMDMx", "number": 7, "title": "1.3.9", "description": "A miscellaneous fix release.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-04-04T04:26:29Z", "updated_at": "2015-01-19T00:33:46Z", "due_on": null, "closed_at": "2015-01-19T00:33:46Z"}, "comments": 8, "created_at": "2014-10-25T00:49:31Z", "updated_at": "2014-11-11T18:25:13Z", "closed_at": "2014-11-11T18:11:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As @laarmen pointed out on IRC, the test data for the lyrics plugin contains copyrighted content (not just the lyrics but the web pages themselves). Most pressingly, this creates issues for downstream packaging. But in general, we can't have content we don't own sitting around in our git repository. :unamused: Oh, well!\n\nSo, even though this may be inconvenient, I think we have a couple of possible courses of action:\n- Go back to a \"live\" version of those Google lyrics integration tests. We'd need to disable them by default so the main tests can be run offline.\n- Shift to smaller unit tests with abstract inputs instead of real-world data.\n- Go through the input files and carefully remove all content we don't own.\n\nAny opinions, @Kraymer?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1035/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1034", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1034/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1034/events", "html_url": "https://github.com/beetbox/beets/issues/1034", "id": 46700813, "node_id": "MDU6SXNzdWU0NjcwMDgxMw==", "number": 1034, "title": "Continuing issues with LyricWiki scrape.", "user": {"login": "kerobaros", "id": 108291, "node_id": "MDQ6VXNlcjEwODI5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/108291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kerobaros", "html_url": "https://github.com/kerobaros", "followers_url": "https://api.github.com/users/kerobaros/followers", "following_url": "https://api.github.com/users/kerobaros/following{/other_user}", "gists_url": "https://api.github.com/users/kerobaros/gists{/gist_id}", "starred_url": "https://api.github.com/users/kerobaros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kerobaros/subscriptions", "organizations_url": "https://api.github.com/users/kerobaros/orgs", "repos_url": "https://api.github.com/users/kerobaros/repos", "events_url": "https://api.github.com/users/kerobaros/events{/privacy}", "received_events_url": "https://api.github.com/users/kerobaros/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-10-24T03:16:58Z", "updated_at": "2014-10-25T04:42:35Z", "closed_at": "2014-10-25T00:33:31Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As mentioned in issue #954, JavaScript continues to be present in lyrics fetched from LyricWiki. I am using the current HEAD.\n\nAn example:\n\n```\n\u2514> beet lyrics -fp minus the bear the pig war\nfetched lyrics: Minus the Bear - The Pig War\n(function() {var opts = {artist: \"Minus_The_Bear\",song: \"The Pig War\",adunit_id: 39382076,div_id: \"cf_async_\" + Math.floor((Math.random() * 999999999))};document.write('');var c=function(){cf.showAsyncAd(opts)};if(window.cf)c();else{cf_async=!0;var r=document.createElement(\"script\"),s=document.getElementsByTagName(\"script\")[0];r.async=!0;r.src=\"//srv.tonefuse.com/showads/showad.js\";r.readyState?r.onreadystatechange=function(){if(\"loaded\"==r.readyState||\"complete\"==r.readyState)r.onreadystatechange=null,c()}:r.onload=c;s.parentNode.insertBefore(r,s)};})();It's been so long\nthat it seems like I've never\nbeen to the San Juans.\nCan we go soon?\n\nGirl slow down with me.\n\nIf we leave now\nwe can catch the last boat out,\nand that's the best one,\non this clear night\nunder pin-prick light.\n\n(Chorus)\nThe wind on the boat's deck\nis a cold hand on the neck\nor slipping into a cold bed.\n\nIt's been so long\nthat it seems like I've never\ndanced with anyone.\n\nShe moves so well.\n\nIf we go outside\nwe can take in a haze of\nRoche Harbor light\nand drink a bottle of red wine,\nforgetting to tell time.\n\nJust sit still,\nwe've moved enough.\n\n(Chorus)\nNewPP limit report\nPreprocessor node count: 243/300000\nPost\u2010expand include size: 1795/2097152 bytes\nTemplate argument size: 203/2097152 bytes\nExpensive parser function count: 1/100\nExtLoops count: 4/100\n\n-->\n(function() {var opts = {artist: \"Minus_The_Bear\",song: \"The Pig War\",adunit_id: 39382077,div_id: \"cf_async_\" + Math.floor((Math.random() * 999999999))};document.write('');var c=function(){cf.showAsyncAd(opts)};if(window.cf)c();else{cf_async=!0;var r=document.createElement(\"script\"),s=document.getElementsByTagName(\"script\")[0];r.async=!0;r.src=\"//srv.tonefuse.com/showads/showad.js\";r.readyState?r.onreadystatechange=function(){if(\"loaded\"==r.readyState||\"complete\"==r.readyState)r.onreadystatechange=null,c()}:r.onload=c;s.parentNode.insertBefore(r,s)};})();\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1034/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1027", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1027/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1027/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1027/events", "html_url": "https://github.com/beetbox/beets/issues/1027", "id": 46507868, "node_id": "MDU6SXNzdWU0NjUwNzg2OA==", "number": 1027, "title": "discogs-client: Add authentication", "user": {"login": "swpeter", "id": 9351630, "node_id": "MDQ6VXNlcjkzNTE2MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/9351630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swpeter", "html_url": "https://github.com/swpeter", "followers_url": "https://api.github.com/users/swpeter/followers", "following_url": "https://api.github.com/users/swpeter/following{/other_user}", "gists_url": "https://api.github.com/users/swpeter/gists{/gist_id}", "starred_url": "https://api.github.com/users/swpeter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swpeter/subscriptions", "organizations_url": "https://api.github.com/users/swpeter/orgs", "repos_url": "https://api.github.com/users/swpeter/repos", "events_url": "https://api.github.com/users/swpeter/events{/privacy}", "received_events_url": "https://api.github.com/users/swpeter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-10-22T13:15:08Z", "updated_at": "2014-10-26T22:57:03Z", "closed_at": "2014-10-26T22:57:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hallo\nis the discogs plugin partly defunct. I am getting the same error using beets 1.3.9 or 1.3.8\nI have installed the discogs-client 2.0.2.\nBelow you wiil also find the complett  the output of an import  for an example that has no musicbrainz entry, but an entry at discogs . The relevant part states:\nDiscogs API Error: 401: You must authenticate to access this resource. (query: Oliver Lake Otherside)\n(Suse 12.3/64 )\nThank you for looking at the Problem\nPeter\n\n```\nbeet  -v import \"/ioerror/part2/Oliver Lake - Otherside (1988)\"\nuser configuration: /root/.config/beets/config.yaml\ndata directory: /root/.config/beets\nSending event: pluginload\nlibrary database: /beets/test.blb\nlibrary directory: /ioerror/part2/2tagged\nSending event: library_opened\nSending event: import_task_start\nLooking up: /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)\nTagging Oliver Lake - Otherside\nNo album IDs found.\nSearch terms: Oliver Lake - Otherside\nAlbum might be VA: False\nDiscogs API Error: 401: You must authenticate to access this resource. (query: Oliver Lake Otherside)\nEvaluating 5 candidates.\nCandidate: Oliver Lake - Prophet\nSuccess. Distance: <beets.autotag.hooks.Distance object at 0x87568cc>\nCandidate: Oliver Lake - Impala\nSuccess. Distance: <beets.autotag.hooks.Distance object at 0x865530c>\nCandidate: Oliver Lake - Edge-Ing\nSuccess. Distance: <beets.autotag.hooks.Distance object at 0x86bca4c>\nCandidate: Oliver Lake - Holding Together\nSuccess. Distance: <beets.autotag.hooks.Distance object at 0x86bc9cc>\nCandidate: Red Hot Chili Peppers - Otherside\nSuccess. Distance: <beets.autotag.hooks.Distance object at 0x8745fac>\n\n/ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988) (6 items)\nFinding tags for album \"Oliver Lake - Otherside\".\nCandidates:\n1. Red Hot Chili Peppers - Otherside (41.1%) (tracks, unmatched tracks, artist) (CD, 2000, SE, Warner Bros. Records)\n2. Oliver Lake - Edge-Ing (40.0%) (tracks, album) (CD, 1994, IT, Black Saint)\n3. Oliver Lake - Prophet (36.6%) (tracks, album) (Vinyl, 1981, IT, Black Saint)\n4. Oliver Lake - Holding Together (36.5%) (tracks, album) (CD, 2010, Black Saint)\n5. Oliver Lake - Impala (33.1%) (tracks, album) (Vinyl, 1987, US, Gramavision)\n# selection (default 1), Skip, Use as-is, as Tracks, Group albums,\nEnter search, enter Id, aBort? I\nEnter release ID: 1298848\nTagging Oliver Lake - Otherside\nSearching for album ID: 1298848\nInvalid MBID (1298848).\nSearching Discogs for release 1298848\nEvaluating 1 candidates.\nCandidate: Oliver Lake - Otherside\n/beets/src/beets/beets/autotag/hooks.py:202: RuntimeWarning: Argument <type 'str'> is not an unicode object. Passing an encoded string will likely have unexpected results.\n  str2 = unidecode(str2)\nSuccess. Distance: <beets.autotag.hooks.Distance object at 0x86552cc>\nTagging:\n    Oliver Lake - Otherside\nURL:\n    http://www.discogs.com/Oliver-Lake-Otherside/release/1298848\n(Similarity: 91.5%) (source, tracks) (Discogs, 2xVinyl, 1988, US, Gramavision)\nVinyl 1\n * Whitestone -> Stand (title)\nVinyl 2\n[A]pply, More candidates, Skip, Use as-is, as Tracks, Group albums,\nEnter search, enter Id, aBort? A\nSending event: import_task_choice\nSending event: import_task_apply\nReplacing item 4: /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/01 Gano Club.mp3\nSending event: database_change\nSending event: item_removed\nReplacing item 2: /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/05 Weave Song II.mp3\nSending event: database_change\nSending event: item_removed\nReplacing item 5: /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/03 Whitestone.mp3\nSending event: database_change\nSending event: item_removed\nReplacing item 3: /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/02 Whitestone.mp3\nSending event: database_change\nSending event: item_removed\nReplacing item 6: /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/06 Dedicated To Dolphy.mp3\nSending event: database_change\nSending event: item_removed\nReplacing item 1: /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/04 Hymn For The Old Year.mp3\nSending event: database_change\nSending event: database_change\nSending event: item_removed\n6 of 6 items replaced\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nReimported album: added 1413977661.1, flexible attributes [] from album 1 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)\nReimported item added 1413977661.1 from item 4 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/01 Gano Club.mp3\nReimported item flexible attributes [] from item 4 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/01 Gano Club.mp3\nSending event: database_change\nReimported item added 1413977661.1 from item 2 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/05 Weave Song II.mp3\nReimported item flexible attributes [] from item 2 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/05 Weave Song II.mp3\nSending event: database_change\nReimported item added 1413977661.1 from item 5 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/03 Whitestone.mp3\nReimported item flexible attributes [] from item 5 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/03 Whitestone.mp3\nSending event: database_change\nReimported item added 1413977661.1 from item 3 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/02 Whitestone.mp3\nReimported item flexible attributes [] from item 3 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/02 Whitestone.mp3\nSending event: database_change\nReimported item added 1413977661.1 from item 6 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/06 Dedicated To Dolphy.mp3\nReimported item flexible attributes [] from item 6 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/06 Dedicated To Dolphy.mp3\nSending event: database_change\nReimported item added 1413977661.1 from item 1 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/04 Hymn For The Old Year.mp3\nReimported item flexible attributes [] from item 1 for /ioerror/part2/Oliver Lake - Otherside (1988)/Oliver Lake - Otherside (1988)/04 Hymn For The Old Year.mp3\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: import_task_files\nSending event: album_imported\nSending event: import\nSending event: cli_exit\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1027/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1004", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1004/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1004/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1004/events", "html_url": "https://github.com/beetbox/beets/issues/1004", "id": 45556706, "node_id": "MDU6SXNzdWU0NTU1NjcwNg==", "number": 1004, "title": "Uncaught exception by discogs plugin", "user": {"login": "otakucode", "id": 2532847, "node_id": "MDQ6VXNlcjI1MzI4NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2532847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/otakucode", "html_url": "https://github.com/otakucode", "followers_url": "https://api.github.com/users/otakucode/followers", "following_url": "https://api.github.com/users/otakucode/following{/other_user}", "gists_url": "https://api.github.com/users/otakucode/gists{/gist_id}", "starred_url": "https://api.github.com/users/otakucode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/otakucode/subscriptions", "organizations_url": "https://api.github.com/users/otakucode/orgs", "repos_url": "https://api.github.com/users/otakucode/repos", "events_url": "https://api.github.com/users/otakucode/events{/privacy}", "received_events_url": "https://api.github.com/users/otakucode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "andriykohut", "id": 3106616, "node_id": "MDQ6VXNlcjMxMDY2MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3106616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andriykohut", "html_url": "https://github.com/andriykohut", "followers_url": "https://api.github.com/users/andriykohut/followers", "following_url": "https://api.github.com/users/andriykohut/following{/other_user}", "gists_url": "https://api.github.com/users/andriykohut/gists{/gist_id}", "starred_url": "https://api.github.com/users/andriykohut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andriykohut/subscriptions", "organizations_url": "https://api.github.com/users/andriykohut/orgs", "repos_url": "https://api.github.com/users/andriykohut/repos", "events_url": "https://api.github.com/users/andriykohut/events{/privacy}", "received_events_url": "https://api.github.com/users/andriykohut/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andriykohut", "id": 3106616, "node_id": "MDQ6VXNlcjMxMDY2MTY=", "avatar_url": "https://avatars.githubusercontent.com/u/3106616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andriykohut", "html_url": "https://github.com/andriykohut", "followers_url": "https://api.github.com/users/andriykohut/followers", "following_url": "https://api.github.com/users/andriykohut/following{/other_user}", "gists_url": "https://api.github.com/users/andriykohut/gists{/gist_id}", "starred_url": "https://api.github.com/users/andriykohut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andriykohut/subscriptions", "organizations_url": "https://api.github.com/users/andriykohut/orgs", "repos_url": "https://api.github.com/users/andriykohut/repos", "events_url": "https://api.github.com/users/andriykohut/events{/privacy}", "received_events_url": "https://api.github.com/users/andriykohut/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-10-11T17:08:04Z", "updated_at": "2014-10-12T05:12:46Z", "closed_at": "2014-10-12T05:12:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "During use of the discogs plugin, a requests.exceptions.ConnectionError exception is occasionally thrown and not caught.  This causes the operation to fail and beet to exit with a stacktrace.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1004/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/1000", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/1000/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/1000/events", "html_url": "https://github.com/beetbox/beets/issues/1000", "id": 45487593, "node_id": "MDU6SXNzdWU0NTQ4NzU5Mw==", "number": 1000, "title": "duplicates: Do not report duplicates when only `mb_albumid` is duplicated", "user": {"login": "simonbcn", "id": 428231, "node_id": "MDQ6VXNlcjQyODIzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/428231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonbcn", "html_url": "https://github.com/simonbcn", "followers_url": "https://api.github.com/users/simonbcn/followers", "following_url": "https://api.github.com/users/simonbcn/following{/other_user}", "gists_url": "https://api.github.com/users/simonbcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonbcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonbcn/subscriptions", "organizations_url": "https://api.github.com/users/simonbcn/orgs", "repos_url": "https://api.github.com/users/simonbcn/repos", "events_url": "https://api.github.com/users/simonbcn/events{/privacy}", "received_events_url": "https://api.github.com/users/simonbcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-10-10T14:41:02Z", "updated_at": "2015-03-27T10:39:48Z", "closed_at": "2015-03-27T10:39:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ beet duplicates -F\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/03 - The Magic Friend.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/04 - Contrast.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/05 - Desire.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/06 - Pacific Walk.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/07 - Workaholic.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/08 - Rougher Than The Average.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/09 - Delight.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/10 - Eternally Yours.mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/11 - Twilight Zone (Rave Version Edit).mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/12 - Get Ready For This (Vocal Version).mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/13 - The Magic Friend (Instrumental).mp3\n/home/simon/M\u00fasica/2 Unlimited/Get Ready/14 - Workaholic (Instrumental).mp3\n```\n\n```\n$ ll M\u00fasica/2\\ Unlimited/Get\\ Ready/\ntotal 83M\n-rw-rw-r-- 1 simon simon 7,5M oct 10 16:00 03 - The Magic Friend.mp3\n-rw-rw-r-- 1 simon simon 6,4M oct 10 16:00 04 - Contrast.mp3\n-rw-rw-r-- 1 simon simon 7,9M oct 10 16:00 05 - Desire.mp3\n-rw-rw-r-- 1 simon simon 5,7M oct 10 16:00 06 - Pacific Walk.mp3\n-rw-rw-r-- 1 simon simon 7,2M oct 10 16:00 07 - Workaholic.mp3\n-rw-rw-r-- 1 simon simon 7,6M oct 10 16:00 08 - Rougher Than The Average.mp3\n-rw-rw-r-- 1 simon simon 6,5M oct 10 16:00 09 - Delight.mp3\n-rw-rw-r-- 1 simon simon 7,6M oct 10 16:00 10 - Eternally Yours.mp3\n-rw-rw-r-- 1 simon simon 7,1M oct 10 16:00 11 - Twilight Zone (Rave Version Edit).mp3\n-rw-rw-r-- 1 simon simon 6,4M oct 10 16:00 12 - Get Ready For This (Vocal Version).mp3\n-rw-rw-r-- 1 simon simon 5,9M oct 10 16:00 13 - The Magic Friend (Instrumental).mp3\n-rw-rw-r-- 1 simon simon 7,2M oct 10 16:00 14 - Workaholic (Instrumental).mp3\n-rw-rw-r-- 1 simon simon  30K oct 10 16:00 cover.jpg\n```\n\nWhat is the duplicate of that?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/1000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/1000/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/990", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/990/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/990/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/990/events", "html_url": "https://github.com/beetbox/beets/issues/990", "id": 45098919, "node_id": "MDU6SXNzdWU0NTA5ODkxOQ==", "number": 990, "title": "error loading plugin discogs", "user": {"login": "simonbcn", "id": 428231, "node_id": "MDQ6VXNlcjQyODIzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/428231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonbcn", "html_url": "https://github.com/simonbcn", "followers_url": "https://api.github.com/users/simonbcn/followers", "following_url": "https://api.github.com/users/simonbcn/following{/other_user}", "gists_url": "https://api.github.com/users/simonbcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonbcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonbcn/subscriptions", "organizations_url": "https://api.github.com/users/simonbcn/orgs", "repos_url": "https://api.github.com/users/simonbcn/repos", "events_url": "https://api.github.com/users/simonbcn/events{/privacy}", "received_events_url": "https://api.github.com/users/simonbcn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-10-07T12:00:56Z", "updated_at": "2014-10-07T13:42:42Z", "closed_at": "2014-10-07T13:27:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ubuntu 14.04 64 bits\n\n```\n$ beet version\n** error loading plugin discogs\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/beets/plugins.py\", line 201, in load_plugins\n    namespace = __import__(modname, None, None)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/discogs.py\", line 20, in <module>\n    from discogs_client import Release, Client\nImportError: cannot import name Client\n\nbeets version 1.3.8\nplugins: chroma, replaygain, echonest_tempo, embedart, beatport, lastgenre, scrub, fetchart\n```\n\n```\n$ beet im /dunehd/Musica\\ pendiente/Maroon\\ 5\\ -\\ V\\ \\(2014\\)\\ FLAC/\n** error loading plugin discogs\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/beets/plugins.py\", line 201, in load_plugins\n    namespace = __import__(modname, None, None)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/discogs.py\", line 20, in <module>\n    from discogs_client import Release, Client\nImportError: cannot import name Client\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/990/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/983", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/983/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/983/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/983/events", "html_url": "https://github.com/beetbox/beets/issues/983", "id": 44168497, "node_id": "MDU6SXNzdWU0NDE2ODQ5Nw==", "number": 983, "title": "imagemagick/PIL detection fails", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-09-27T10:52:56Z", "updated_at": "2014-09-27T18:30:17Z", "closed_at": "2014-09-27T18:29:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "artresizer detects my IM installation but somehow embedart plugin does not report the same\n\n```\nflap|~/Dev/beets (master)$ ./beet -v import ~/Music/VA-Nova\\ Tunes\\ 3.0-2014/\nuser configuration: /Users/flap/.config/beets/config.yaml\ndata directory: /Users/flap/.config/beets\nSending event: pluginload\nartresizer: method is (2, (6, 8, 8))\nembedart: ImageMagick or PIL not found; 'maxwidth' option ignored\n```\n\n(I would have look at it myself, but going in holidays tomorrow)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/983/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/979", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/979/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/979/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/979/events", "html_url": "https://github.com/beetbox/beets/issues/979", "id": 43773750, "node_id": "MDU6SXNzdWU0Mzc3Mzc1MA==", "number": 979, "title": "echonest: analyze() doesn't clean up temporary files", "user": {"login": "zacharydenton", "id": 310773, "node_id": "MDQ6VXNlcjMxMDc3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/310773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacharydenton", "html_url": "https://github.com/zacharydenton", "followers_url": "https://api.github.com/users/zacharydenton/followers", "following_url": "https://api.github.com/users/zacharydenton/following{/other_user}", "gists_url": "https://api.github.com/users/zacharydenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacharydenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacharydenton/subscriptions", "organizations_url": "https://api.github.com/users/zacharydenton/orgs", "repos_url": "https://api.github.com/users/zacharydenton/repos", "events_url": "https://api.github.com/users/zacharydenton/events{/privacy}", "received_events_url": "https://api.github.com/users/zacharydenton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-24T14:50:03Z", "updated_at": "2014-12-02T10:27:45Z", "closed_at": "2014-12-01T16:54:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [analyze() function](https://github.com/sampsyo/beets/blob/master/beetsplug/echonest.py#L364) converts or truncates audio files in preparation for uploading to EchoNest. It creates temporary .ogg files in the process (with tempfile.mkstemp()). However, it does not delete these files when finished with them, eventually filling up /tmp.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/979/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/979/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/972", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/972/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/972/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/972/events", "html_url": "https://github.com/beetbox/beets/issues/972", "id": 43215161, "node_id": "MDU6SXNzdWU0MzIxNTE2MQ==", "number": 972, "title": "mpdstats: \"AttributeError: 'module' object has no attribute 'Date'\"", "user": {"login": "DjSlash", "id": 538802, "node_id": "MDQ6VXNlcjUzODgwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/538802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DjSlash", "html_url": "https://github.com/DjSlash", "followers_url": "https://api.github.com/users/DjSlash/followers", "following_url": "https://api.github.com/users/DjSlash/following{/other_user}", "gists_url": "https://api.github.com/users/DjSlash/gists{/gist_id}", "starred_url": "https://api.github.com/users/DjSlash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DjSlash/subscriptions", "organizations_url": "https://api.github.com/users/DjSlash/orgs", "repos_url": "https://api.github.com/users/DjSlash/repos", "events_url": "https://api.github.com/users/DjSlash/events{/privacy}", "received_events_url": "https://api.github.com/users/DjSlash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-09-19T08:16:54Z", "updated_at": "2014-10-10T10:23:19Z", "closed_at": "2014-09-19T09:23:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not entirely sure what has changed, but this morning I invoked beets and this error appeared:\n\n```\n** error loading plugin mpdstats\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/beets/plugins.py\", line 201, in load_plugins\n    namespace = __import__(modname, None, None)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/mpdstats.py\", line 311, in <module>\n    class MPDStatsPlugin(plugins.BeetsPlugin):\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/mpdstats.py\", line 316, in MPDStatsPlugin\n    'last_played': library.Date(),\nAttributeError: 'module' object has no attribute 'Date'\n```\n\nbeets is version 1.3.8\npython-mpd is uptodate (installed through pip)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/972/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/963", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/963/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/963/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/963/events", "html_url": "https://github.com/beetbox/beets/issues/963", "id": 42942150, "node_id": "MDU6SXNzdWU0Mjk0MjE1MA==", "number": 963, "title": "zero: Can nullify fields in the library", "user": {"login": "angelsanzn", "id": 2227888, "node_id": "MDQ6VXNlcjIyMjc4ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/2227888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angelsanzn", "html_url": "https://github.com/angelsanzn", "followers_url": "https://api.github.com/users/angelsanzn/followers", "following_url": "https://api.github.com/users/angelsanzn/following{/other_user}", "gists_url": "https://api.github.com/users/angelsanzn/gists{/gist_id}", "starred_url": "https://api.github.com/users/angelsanzn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angelsanzn/subscriptions", "organizations_url": "https://api.github.com/users/angelsanzn/orgs", "repos_url": "https://api.github.com/users/angelsanzn/repos", "events_url": "https://api.github.com/users/angelsanzn/events{/privacy}", "received_events_url": "https://api.github.com/users/angelsanzn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-09-16T22:38:48Z", "updated_at": "2014-09-17T21:47:00Z", "closed_at": "2014-09-17T19:02:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been experimenting some behaviour contrary to the intended functionality. The plugin does delete the fields in the files' tags, but it also nullifies the fields in the library. This is contrary to the [docs](http://beets.readthedocs.org/en/v1.3.7/plugins/zero.html), where one can read:\n\n> This plugin only affects files\u2019 tags; the beets database is unchanged.\n\nThis can be confirmed by querying the library for any of those items which have been zeroed, specifying a value for some of the zeroed fields in the query, as in `beet ls <field>:<whatever>`. The items should be returned by the query. However, I have found zeroed items to **not** be returned when querying by some of the zeroed fields, which means the value of that field has been modified in the library, which should not happen.\n\nThe relevant parts of my config are:\n\n```\nplugins: fromfilename fetchart web info zero\n\nzero:\n    fields: comments genre album artist\n```\n\nI'm using beets 1.3.7.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/963/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/911", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/911/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/911/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/911/events", "html_url": "https://github.com/beetbox/beets/issues/911", "id": 40980705, "node_id": "MDU6SXNzdWU0MDk4MDcwNQ==", "number": 911, "title": "The `importadded` plugin crashes when reimporting items already in the library", "user": {"login": "silb", "id": 405918, "node_id": "MDQ6VXNlcjQwNTkxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/405918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silb", "html_url": "https://github.com/silb", "followers_url": "https://api.github.com/users/silb/followers", "following_url": "https://api.github.com/users/silb/following{/other_user}", "gists_url": "https://api.github.com/users/silb/gists{/gist_id}", "starred_url": "https://api.github.com/users/silb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silb/subscriptions", "organizations_url": "https://api.github.com/users/silb/orgs", "repos_url": "https://api.github.com/users/silb/repos", "events_url": "https://api.github.com/users/silb/events{/privacy}", "received_events_url": "https://api.github.com/users/silb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "silb", "id": 405918, "node_id": "MDQ6VXNlcjQwNTkxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/405918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silb", "html_url": "https://github.com/silb", "followers_url": "https://api.github.com/users/silb/followers", "following_url": "https://api.github.com/users/silb/following{/other_user}", "gists_url": "https://api.github.com/users/silb/gists{/gist_id}", "starred_url": "https://api.github.com/users/silb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silb/subscriptions", "organizations_url": "https://api.github.com/users/silb/orgs", "repos_url": "https://api.github.com/users/silb/repos", "events_url": "https://api.github.com/users/silb/events{/privacy}", "received_events_url": "https://api.github.com/users/silb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "silb", "id": 405918, "node_id": "MDQ6VXNlcjQwNTkxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/405918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silb", "html_url": "https://github.com/silb", "followers_url": "https://api.github.com/users/silb/followers", "following_url": "https://api.github.com/users/silb/following{/other_user}", "gists_url": "https://api.github.com/users/silb/gists{/gist_id}", "starred_url": "https://api.github.com/users/silb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silb/subscriptions", "organizations_url": "https://api.github.com/users/silb/orgs", "repos_url": "https://api.github.com/users/silb/repos", "events_url": "https://api.github.com/users/silb/events{/privacy}", "received_events_url": "https://api.github.com/users/silb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2014-08-23T17:41:40Z", "updated_at": "2014-10-11T13:59:45Z", "closed_at": "2014-10-11T13:59:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When the `importadded` plugin is enabled and items that are already in the Beets library are reimported with `beet import -L`, the plugin crashes.\n\nConsole output:\n\n```\n$ beet import -L\n\n/beets/src/media/library/Younger Brother (2011) - Vaccine (9 items)\nTagging:\n    Younger Brother - Vaccine\nURL:\n    http://musicbrainz.org/release/7da3a7d8-0240-4ebd-bab6-44a1a72504fe\n(Similarity: 100.0%) (CD, 2011, US, SCI Fidelity Records)\nTraceback (most recent call last):\n  File \"/beets/bin/beet\", line 20, in <module>\n    beets.ui.main()\n  File \"/beets/src/beets/beets/ui/__init__.py\", line 966, in main\n    _raw_main(args)\n  File \"/beets/src/beets/beets/ui/__init__.py\", line 957, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/beets/src/beets/beets/ui/commands.py\", line 884, in import_func\n    import_files(lib, paths, query)\n  File \"/beets/src/beets/beets/ui/commands.py\", line 856, in import_files\n    session.run()\n  File \"/beets/src/beets/beets/importer.py\", line 293, in run\n    pl.run_sequential()\n  File \"/beets/src/beets/beets/util/pipeline.py\", line 376, in run_sequential\n    list(self.pull())\n  File \"/beets/src/beets/beets/util/pipeline.py\", line 453, in pull\n    out = coro.send(msg)\n  File \"/beets/src/beets/beets/util/pipeline.py\", line 158, in coro\n    task = func(*(args + (task,)))\n  File \"/beets/src/beets/beets/importer.py\", line 1138, in manipulate_files\n    task.finalize(session)\n  File \"/beets/src/beets/beets/importer.py\", line 470, in finalize\n    self._emit_imported(session.lib)\n  File \"/beets/src/beets/beets/importer.py\", line 502, in _emit_imported\n    plugins.send('album_imported', lib=lib, album=self.album)\n  File \"/beets/src/beets/beets/plugins.py\", line 379, in send\n    handler(**args)\n  File \"/beets/src/beets/beetsplug/importadded.py\", line 77, in update_album_times\n    mtime = item_mtime[item.path]\nKeyError: '/beets/src/media/library/Younger Brother (2011) - Vaccine/Younger Brother - Vaccine - 01 - Crystalline.flac'\n```\n\nThe error is cause by the fact that the plugin tries to detect reimports.\n\nI'm working on a fix.\n\nA workaround is to comment out the reimport detection in `importadded.py`:\n\n``` python\n#if (source == destination):\n        # Re-import of an existing library item?\n        #return\n```\n\nThe workaround will, on reimport, use an item file's mtime as the added date. The mtime is not necessarily equal to `item.added` in the database.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/911/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/899", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/899/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/899/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/899/events", "html_url": "https://github.com/beetbox/beets/issues/899", "id": 40293776, "node_id": "MDU6SXNzdWU0MDI5Mzc3Ng==", "number": 899, "title": "MediaFile: use older text encodings in ID3v2.3 mode", "user": {"login": "ruippeixotog", "id": 613493, "node_id": "MDQ6VXNlcjYxMzQ5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/613493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruippeixotog", "html_url": "https://github.com/ruippeixotog", "followers_url": "https://api.github.com/users/ruippeixotog/followers", "following_url": "https://api.github.com/users/ruippeixotog/following{/other_user}", "gists_url": "https://api.github.com/users/ruippeixotog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruippeixotog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruippeixotog/subscriptions", "organizations_url": "https://api.github.com/users/ruippeixotog/orgs", "repos_url": "https://api.github.com/users/ruippeixotog/repos", "events_url": "https://api.github.com/users/ruippeixotog/events{/privacy}", "received_events_url": "https://api.github.com/users/ruippeixotog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2014-08-14T20:08:14Z", "updated_at": "2016-11-19T21:14:47Z", "closed_at": "2016-11-19T21:14:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am trying to create an auto-tagging configuration in which my tags are saved in ID3v2.3 (as 2.4 lacks compatibility with some players I use) and I like the cover art to be embedded in each music file. However, the cover art of the output files is not recognised by OS X 10.9.4 (i.e. in Finder) or iTunes.\n\nHere is a simple configuration with which the problem occurs:\n\n``` yaml\ndirectory: /mnt/data/home/Music\n\nplugins: mbsync fetchart embedart\nper_disc_numbering: yes\nid3v23: yes\n\nimport:\n    copy: yes\n    write: yes\n\npaths:\n    default: $albumartist/$album%aunique{}/$disc-$track $title\n```\n\nWhen I comment the `id3v23: yes` option the covers of the output files are correctly recognised in Mac.\n\nThe cover art of the ID3v2.3 output files is recognised in Windows, so it seems a Mac-specific issue. Strangely enough, the input files I used already have ID3v2.3 tags and embedded cover art and are correctly recognised in Mac. Below you have a diff of the ID3v2.3 tags (sorted by name) between an input and an output file taken with `mid3v2`:\n\n``` diff\n1c1,2\n< APIC= (image/jpeg, 32205 bytes)\n\n---\n> APIC= (image/jpeg, 111083 bytes)\n> COMM=iTunNORM='eng'= 00001700 00001700 00003981 00003981 00000000 00000000 00008187 00008187 00000000 00000000\n3a5,6\n> TBPM=0\n> TCMP=0\n5a9\n> TLAN=eng\n12a17,19\n> TXXX=Album Artist Credit=The Beatles\n> TXXX=ALBUMARTISTSORT=Beatles, The\n> TXXX=Artist Credit=The Beatles\n14a22\n> TXXX=MusicBrainz Album Comment=UK mono\n17c25\n< TXXX=MusicBrainz Album Status=official\n\n---\n> TXXX=MusicBrainz Album Status=Official\n27a36\n> USLT=[unrepresentable data]\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/899/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/896", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/896/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/896/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/896/events", "html_url": "https://github.com/beetbox/beets/issues/896", "id": 39852025, "node_id": "MDU6SXNzdWUzOTg1MjAyNQ==", "number": 896, "title": "Echonest plugin fails on `fetch_song` with KeyError: 'duration'", "user": {"login": "thomwiggers", "id": 974662, "node_id": "MDQ6VXNlcjk3NDY2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/974662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomwiggers", "html_url": "https://github.com/thomwiggers", "followers_url": "https://api.github.com/users/thomwiggers/followers", "following_url": "https://api.github.com/users/thomwiggers/following{/other_user}", "gists_url": "https://api.github.com/users/thomwiggers/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomwiggers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomwiggers/subscriptions", "organizations_url": "https://api.github.com/users/thomwiggers/orgs", "repos_url": "https://api.github.com/users/thomwiggers/repos", "events_url": "https://api.github.com/users/thomwiggers/events{/privacy}", "received_events_url": "https://api.github.com/users/thomwiggers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-08T18:49:22Z", "updated_at": "2014-12-01T19:29:54Z", "closed_at": "2014-12-01T19:29:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n$ beet im -L Kenna      \n\n/var/music/Kenna - Make Sure They See My Face [2007] (33 items)\nTagging:\n    Kenna - Make Sure They See My Face\nURL:\n    http://musicbrainz.org/release/f16ce924-e815-4b0c-b2dd-32b6496c60e8\n(Similarity: 100.0%) (CD, 2008, DE, Interscope Records)\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.6', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 967, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 958, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 816, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 788, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 264, in run\n    pl.run_sequential()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 376, in run_sequential\n    list(self.pull())\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 453, in pull\n    out = coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 181, in coro\n    func(*(args + (task,)))\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 1048, in plugin_stage\n    func(session, task)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 472, in imported\n    song = self.fetch_song(item)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 433, in fetch_song\n    song['duration'],\nKeyError: 'duration'\n```\n\nIt doesn't happen when I do `beet echonest Kenna`, but if I then `beet im -L Kenna` again, the same exception pops up.\n\nVerbose log:\n\n```\n$ beet -v im -L Kenna\nuser configuration: /home/thom/.config/beets/config.yaml\nSending event: pluginload\ninline: adding item field multidisc\nSending event: library_opened\ndata directory: /home/thom/.config/beets\nlibrary database: /home/thom/.config/beets/library.db\nlibrary directory: /var/music\nyielding album 1099: Kenna - Make Sure They See My Face\nSending event: import_task_start\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/01 Daylight.flac'\nchroma: matched recordings [u'0ee8ccd0-992a-4c2f-b133-8f037832bf37', u'fef2335b-e077-43be-b3c7-93eae69711e1']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/02 Out of Control (State of Emotion).flac'\nchroma: matched recordings [u'7b6afb43-8dbe-4165-a7ec-6822e0fb1e15', u'e9c2886e-f64c-434a-a8a2-913b905f6fd8']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/03 Loose Wires _ Blink Radio.flac'\nchroma: matched recordings [u'87864fb0-9e6b-4463-b451-2a0613079fa3', u'b49db4c6-1d0d-4bd3-afa7-0399f7004af6']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/04 Say Goodbye to Love.flac'\nchroma: matched recordings [u'20911fbb-6dc8-45fb-91a7-17cf22f184d2', u'9d5ed834-e5e1-44a0-b967-ef73d9c865cb', u'bbc3c6f5-7860-4185-af17-5bb896d52314', u'e3573af9-c2d6-4ca6-a71c-def893594283']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/05 Sun Red Sky Blue.flac'\nchroma: matched recordings [u'72c47d37-5567-452b-a11d-8bcb7b04c310', u'd1aeb58f-2e45-49bc-8ca3-1c44196134a3']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/06 Baptized in Blacklight.flac'\nchroma: matched recordings [u'199a86e4-a996-4b15-ba2e-5cd03d631324', u'c7a4bae4-66b3-43a7-b41d-ffd993564874']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/07 Static.flac'\nchroma: matched recordings [u'b78553de-fa66-4483-8a4c-76584a23567b', u'd8cf6263-5d71-4694-92d0-50d3c4719894']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/08 Phantom Always.flac'\nchroma: matched recordings [u'06430c6e-aeba-4091-b3fb-3a1293eebb57', u'd024aba2-3d86-4c72-ba94-55992b1804d2']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/09 Face the Gun _ Good Luck.flac'\nchroma: matched recordings [u'0961246e-dd7d-4631-9db6-18251f54cbeb', u'a849d0f4-5d8b-424e-835c-23f091ed2c73']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/10 Better Wise Up.flac'\nchroma: matched recordings [u'198e7a3d-54b7-464d-bd6c-f283f029df91', u'7d66ef30-454d-4d02-84ab-0ebb1572b946', u'a73dcb5c-db44-436a-888e-4ffdc622f4dc']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/11 Be Still.flac'\nchroma: matched recordings [u'4571afbc-2a23-448f-a5de-e79f5ee6b5f6', u'cee198c7-b64a-415b-8dab-3c9e78df4ec8']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/12 Wide Awake.flac'\nchroma: matched recordings [u'a464cd47-278b-423e-8a61-7881752b2045', u'c66ddb60-3154-4893-b14f-a3e50896ac49']\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/13 [silence].14.flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/14 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/15 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/16 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/17 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/18 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/19 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/20 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/21 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/22 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/23 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/24 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/25 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/26 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/27 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/28 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/29 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/30 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/31 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/32 [silence].flac'\nchroma: no match found\nchroma: fingerprinted '/var/music/Kenna - Make Sure They See My Face [2007]/33 Rockaway Life.flac'\nchroma: matched recordings [u'a44bbbd2-e947-44b2-a177-953baa2957f6']\nLooking up: /var/music/Kenna - Make Sure They See My Face [2007]\nTagging Kenna - Make Sure They See My Face\nSearching for discovered album ID: f16ce924-e815-4b0c-b2dd-32b6496c60e8\nCandidate: Kenna - Make Sure They See My Face\nSuccess. Distance: 0.000000\nAlbum ID match recommendation is Recommendation.strong\nID match.\n\n/var/music/Kenna - Make Sure They See My Face [2007] (33 items)\nTagging:\n    Kenna - Make Sure They See My Face\nURL:\n    http://musicbrainz.org/release/f16ce924-e815-4b0c-b2dd-32b6496c60e8\n(Similarity: 100.0%) (CD, 2008, DE, Interscope Records)\nSending event: import_task_choice\nSending event: import_task_apply\nreplacing item 15569: /var/music/Kenna - Make Sure They See My Face [2007]/01 Daylight.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15567: /var/music/Kenna - Make Sure They See My Face [2007]/32 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15570: /var/music/Kenna - Make Sure They See My Face [2007]/03 Loose Wires _ Blink Radio.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15571: /var/music/Kenna - Make Sure They See My Face [2007]/04 Say Goodbye to Love.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15593: /var/music/Kenna - Make Sure They See My Face [2007]/02 Out of Control (State of Emotion).flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15572: /var/music/Kenna - Make Sure They See My Face [2007]/05 Sun Red Sky Blue.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15573: /var/music/Kenna - Make Sure They See My Face [2007]/06 Baptized in Blacklight.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15566: /var/music/Kenna - Make Sure They See My Face [2007]/31 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15574: /var/music/Kenna - Make Sure They See My Face [2007]/07 Static.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15575: /var/music/Kenna - Make Sure They See My Face [2007]/08 Phantom Always.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15576: /var/music/Kenna - Make Sure They See My Face [2007]/09 Face the Gun _ Good Luck.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15577: /var/music/Kenna - Make Sure They See My Face [2007]/10 Better Wise Up.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15578: /var/music/Kenna - Make Sure They See My Face [2007]/11 Be Still.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15579: /var/music/Kenna - Make Sure They See My Face [2007]/12 Wide Awake.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15580: /var/music/Kenna - Make Sure They See My Face [2007]/13 [silence].14.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15581: /var/music/Kenna - Make Sure They See My Face [2007]/14 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15582: /var/music/Kenna - Make Sure They See My Face [2007]/15 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15583: /var/music/Kenna - Make Sure They See My Face [2007]/16 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15584: /var/music/Kenna - Make Sure They See My Face [2007]/17 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15585: /var/music/Kenna - Make Sure They See My Face [2007]/18 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15591: /var/music/Kenna - Make Sure They See My Face [2007]/33 Rockaway Life.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15586: /var/music/Kenna - Make Sure They See My Face [2007]/19 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15587: /var/music/Kenna - Make Sure They See My Face [2007]/20 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15588: /var/music/Kenna - Make Sure They See My Face [2007]/21 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15589: /var/music/Kenna - Make Sure They See My Face [2007]/22 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15590: /var/music/Kenna - Make Sure They See My Face [2007]/23 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15592: /var/music/Kenna - Make Sure They See My Face [2007]/24 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15568: /var/music/Kenna - Make Sure They See My Face [2007]/25 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15594: /var/music/Kenna - Make Sure They See My Face [2007]/26 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15595: /var/music/Kenna - Make Sure They See My Face [2007]/27 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15596: /var/music/Kenna - Make Sure They See My Face [2007]/28 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15597: /var/music/Kenna - Make Sure They See My Face [2007]/29 [silence].flac\nSending event: database_change\nSending event: item_removed\nreplacing item 15565: /var/music/Kenna - Make Sure They See My Face [2007]/30 [silence].flac\nSending event: database_change\nSending event: database_change\nSending event: item_removed\n33 of 33 items replaced\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nechonest: got song through profile: Kenna - Daylight [266.63955]\nechonest: metadata: bpm = 124.99\nechonest: metadata: energy = 0.957589\nechonest: metadata: liveness = 0.308128\nechonest: metadata: speechiness = 0.06031\nechonest: metadata: acousticness = 0.002478\nechonest: metadata: danceability = 0.556219\nechonest: metadata: valence = 0.118631\nechonest: metadata: echonest_id = SODAAQG12AB0183E36\nSending event: database_change\nechonest: (u'Echo Nest API Error 5: The Identifier specified does not exist [HTTP 200]',)\nechonest: lookup by MBID failed\nechonest: no songs found\nechonest: got song through profile: Kenna - Loose Wires / Blink Radio [280.91955]\nechonest: metadata: bpm = 119.932\nechonest: metadata: energy = 0.747039\nechonest: metadata: liveness = 0.239748\nechonest: metadata: speechiness = 0.100279\nechonest: metadata: acousticness = 0.021407\nechonest: metadata: danceability = 0.826763\nechonest: metadata: valence = 0.29432\nechonest: metadata: echonest_id = SOSZZBU1315CD476CB\nSending event: database_change\nechonest: no songs found\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.6', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 967, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 958, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 816, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 788, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 264, in run\n    pl.run_sequential()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 376, in run_sequential\n    list(self.pull())\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 453, in pull\n    out = coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 181, in coro\n    func(*(args + (task,)))\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 1048, in plugin_stage\n    func(session, task)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 472, in imported\n    song = self.fetch_song(item)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 433, in fetch_song\n    song['duration'],\nKeyError: 'duration'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/896/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/895", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/895/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/895/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/895/events", "html_url": "https://github.com/beetbox/beets/issues/895", "id": 39851429, "node_id": "MDU6SXNzdWUzOTg1MTQyOQ==", "number": 895, "title": "mbsync: problems with silent tracks", "user": {"login": "thomwiggers", "id": 974662, "node_id": "MDQ6VXNlcjk3NDY2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/974662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomwiggers", "html_url": "https://github.com/thomwiggers", "followers_url": "https://api.github.com/users/thomwiggers/followers", "following_url": "https://api.github.com/users/thomwiggers/following{/other_user}", "gists_url": "https://api.github.com/users/thomwiggers/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomwiggers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomwiggers/subscriptions", "organizations_url": "https://api.github.com/users/thomwiggers/orgs", "repos_url": "https://api.github.com/users/thomwiggers/repos", "events_url": "https://api.github.com/users/thomwiggers/events{/privacy}", "received_events_url": "https://api.github.com/users/thomwiggers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-08-08T18:42:39Z", "updated_at": "2014-08-22T06:14:20Z", "closed_at": "2014-08-22T06:14:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n$ beet mbsync\nKenna - Make Sure They See My Face - [silence]\ntrack: 14 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 15 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 16 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 17 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 18 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 19 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 20 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 21 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 22 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 23 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 24 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 25 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 26 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 27 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 28 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 29 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 30 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 31 -> 13\nKenna - Make Sure They See My Face - [silence]\ntrack: 32 -> 13\n\n$ beet im -L Kenna\n/var/music/Kenna - Make Sure They See My Face [2007] (33 items)\nTagging:\n    Kenna - Make Sure They See My Face\nURL:\n    http://musicbrainz.org/release/f16ce924-e815-4b0c-b2dd-32b6496c60e8\n(Similarity: 95.8%) (tracks) (CD, 2008, DE, Interscope Records)\n * [silence] (#13) -> [silence] (#14) (index)\n * [silence] (#13) -> [silence] (#15) (index)\n * [silence] (#13) -> [silence] (#16) (index)\n * [silence] (#13) -> [silence] (#17) (index)\n * [silence] (#13) -> [silence] (#18) (index)\n * [silence] (#13) -> [silence] (#19) (index)\n * [silence] (#13) -> [silence] (#20) (index)\n * [silence] (#13) -> [silence] (#21) (index)\n * [silence] (#13) -> [silence] (#22) (index)\n * [silence] (#13) -> [silence] (#23) (index)\n * [silence] (#13) -> [silence] (#24) (index)\n * [silence] (#13) -> [silence] (#25) (index)\n * [silence] (#13) -> [silence] (#26) (index)\n * [silence] (#13) -> [silence] (#27) (index)\n * [silence] (#13) -> [silence] (#28) (index)\n * [silence] (#13) -> [silence] (#29) (index)\n * [silence] (#13) -> [silence] (#30) (index)\n * [silence] (#13) -> [silence] (#31) (index)\n * [silence] (#13) -> [silence] (#32) (index)\n```\n\nVerbose didn't add much useful information.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/895/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/887", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/887/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/887/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/887/events", "html_url": "https://github.com/beetbox/beets/issues/887", "id": 38716836, "node_id": "MDU6SXNzdWUzODcxNjgzNg==", "number": 887, "title": "fetchart: Handle unicode image filenames", "user": {"login": "somasis", "id": 264788, "node_id": "MDQ6VXNlcjI2NDc4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/264788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/somasis", "html_url": "https://github.com/somasis", "followers_url": "https://api.github.com/users/somasis/followers", "following_url": "https://api.github.com/users/somasis/following{/other_user}", "gists_url": "https://api.github.com/users/somasis/gists{/gist_id}", "starred_url": "https://api.github.com/users/somasis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/somasis/subscriptions", "organizations_url": "https://api.github.com/users/somasis/orgs", "repos_url": "https://api.github.com/users/somasis/repos", "events_url": "https://api.github.com/users/somasis/events{/privacy}", "received_events_url": "https://api.github.com/users/somasis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/7", "html_url": "https://github.com/beetbox/beets/milestone/7", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/7/labels", "id": 620031, "node_id": "MDk6TWlsZXN0b25lNjIwMDMx", "number": 7, "title": "1.3.9", "description": "A miscellaneous fix release.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-04-04T04:26:29Z", "updated_at": "2015-01-19T00:33:46Z", "due_on": null, "closed_at": "2015-01-19T00:33:46Z"}, "comments": 4, "created_at": "2014-07-25T10:25:30Z", "updated_at": "2016-09-14T23:32:17Z", "closed_at": "2014-09-13T14:50:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Leave it up to vaporwave artists to give tracks titles that break programs.\n\n```\nsombra/somasis:~/MusicIncoming/ \u03bb beet -v imp Blank\\ Banshee\\ -\\ Blank\\ Banshee\\ *\nuser configuration: /home/somasis/.config/beets/config.yaml\nSending event: pluginload\nSending event: library_opened\ndata directory: /home/somasis/.config/beets\nlibrary database: /home/somasis/Music/library.blb\nlibrary directory: /home/somasis/Music\nerror reading Blank Banshee - Blank Banshee 0 - QR-SCAN-Print.jpg: error reading /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - QR-SCAN-Print.jpg: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - QR-SCAN-Print.jpg\nSending event: import_task_start\nerror reading Blank Banshee - Blank Banshee 1 - FREE WALLPAPER\u221a\u221a\u221a.jpg: error reading /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - FREE WALLPAPER\u221a\u221a\u221a.jpg: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - FREE WALLPAPER\u221a\u221a\u221a.jpg\nerror reading Blank Banshee - Blank Banshee 1 - \ufffd.jpg: error reading /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - \ufffd.jpg: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - \ufffd.jpg\nerror reading cover.jpg: error reading /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/cover.jpg: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/cover.jpg\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 01 B- Start Up.flac'\nchroma: matched recordings [u'0d6b4c02-4252-40b8-a96b-ee92a7541782']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 02 Wavestep.flac'\nchroma: matched recordings [u'e78f39e0-ec1e-4095-be6e-3c8ccf175d61']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 03 Bathsalts.flac'\nchroma: matched recordings [u'1cd0bb95-49e3-4cea-960e-b821ba124fbe']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 04 Ammonia Clouds.flac'\nchroma: matched recordings [u'32b1f0d0-ac89-45b9-af8b-2444558a4a05']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 05 Venus Death Trap.flac'\nchroma: matched recordings [u'b9ae6039-6824-4fa9-82d2-22e391b0cb77']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 06 HYP\\xe2\\x98\\xb0R OBJ\\xe2\\x98\\xb0CT.flac'\nchroma: matched recordings [u'cc9c4295-22d2-4f0f-a322-fd1225bf4c0e']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 07 Photosynthesis.flac'\nchroma: matched recordings [u'6f95814c-9325-4637-a183-2ce16278c62e']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 08 D \\xe2\\x98\\xb0 \\xe2\\x98\\xb0 P $ P \\xce\\x9b C \\xe2\\x98\\xb0.flac'\nchroma: matched recordings [u'8f019dc2-1bfd-424d-aa25-975efc2d00f4']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 09 Dreamcast.flac'\nchroma: matched recordings [u'aedd2a55-75cd-4bb2-acaf-968faae74e4e']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 10 Cyber Zodiac.flac'\nchroma: matched recordings [u'814922c4-1706-45b9-99ab-33af5bca27eb']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 11 Teen Pregnancy.flac'\nchroma: matched recordings [u'53bd825f-bce0-4bc2-b139-c32b791f61b2']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 12 Purity Boys.flac'\nchroma: matched recordings [u'01553d3f-4acb-4d38-bd64-4bd20ea56380']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 13 Visualization.flac'\nchroma: matched recordings [u'f54e6b16-f91c-4a53-bf67-28a7e3bca871']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 14 World Vision.flac'\nchroma: matched recordings [u'512ec8a6-b9da-4e16-a8de-2077eb5194dd']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0/Blank Banshee - Blank Banshee 0 - 15 B- Shut down-Depression.flac'\nchroma: matched recordings [u'a1085c33-6b6b-463e-ae6a-c3203969f0d3']\nLooking up: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0\nTagging Blank Banshee - Blank Banshee 0\nNo album IDs found.\nSearch terms: Blank Banshee - Blank Banshee 0\nAlbum might be VA: False\nacoustid album candidates: 1\nDiscogs API Error: 503 Service Unavailable (query: Blank Banshee Blank Banshee 0\nEvaluating 6 candidates.\nCandidate: Blank Banshee - Blank Banshee 0\nSuccess. Distance: 0.000000\nCandidate: Blank Banshee - Blank Banshee 1\nSuccess. Distance: 0.714291\nCandidate: Blank Banshee - Blank Banshee 1\nSuccess. Distance: 0.648056\nCandidate: Screaming Banshee Aircrew - When All Is Said and Done\nSuccess. Distance: 0.818253\nCandidate: Gerda Blank - gerda:BLANK\nSuccess. Distance: 0.872529\nCandidate: Blank Banshee - Blank Banshee 0\nDuplicate.\nSending event: import_task_start\n\n/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 0 (15 items)\nTagging:\n    Blank Banshee - Blank Banshee 0\nURL:\n    http://musicbrainz.org/release/9509a46c-b2d9-4ac5-b4a9-f219a18be3b4\n(Similarity: 100.0%) (Digital Media, 2012, CA)\n * D \u2630 \u2630 P  $ P \u039b C \u2630 -> D \u2630 \u2630 P $ P \u039b C \u2630\nSending event: import_task_choice\nThis album is already in the library!\n[S]kip new, Keep both, Remove old? chroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 01 B- Infinite Login.flac'\nchroma: matched recordings [u'7afcf15d-9b85-48d2-ad44-4d60307d91ea']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 02 Eco Zones.flac'\nchroma: matched recordings [u'b2332635-4963-471e-bb33-40d3be821d0e', u'd4f6d63b-8ef0-4db3-a904-ec0a561f35c0']\nrchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 03 METAMATERIAL.flac'\nchroma: matched recordings [u'b2abaf84-f060-4fae-94ab-1230a25987f8', u'c3374faa-89fc-4a18-a8f9-3c242e78fb2a']\n\nSending event: import_task_apply\n15 of 15 items replaced\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nlyrics not found: Blank Banshee - Teen Pregnancy\nlyrics not found: Blank Banshee - D \u2630 \u2630 P $ P \u039b C \u2630\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 04 Anxiety Online !.flac'\nchroma: matched recordings [u'23fcbedc-c9ea-4465-9221-7018ee039241']\nlyrics not found: Blank Banshee - Photosynthesis\nlyrics not found: Blank Banshee - Purity Boys\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 05 Java Clouds-\\xd9\\x85\\xd8\\xac\\xd8\\xb3\\xd9\\x85\\xd9\\x87 \\xd8\\xb3\\xd8\\xa7\\xd8\\xb2\\xdb\\x8c \\xd9\\x85\\xd9\\x87\\xd8\\xaa\\xd8\\xa7\\xd8\\xa8.flac'\nchroma: matched recordings [u'0ee06ce3-3fea-4c94-bae4-81acbbb5abf2', u'b683574d-2abe-4473-a624-a7d9ec8c867c']\nlyrics not found: Blank Banshee - Dreamcast\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 06 LSD Polyphony.flac'\nchroma: matched recordings [u'40277e03-7e07-4b30-970b-0979a45c7314', u'4d80187c-6660-4330-a179-a61f1cafad13']\nlyrics not found: Blank Banshee - Visualization\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 07 Conflict Minerals.flac'\nchroma: matched recordings [u'5dca7ab9-8374-4542-b080-563e9a84a71b', u'acd0e9ef-0a65-4de9-be50-4210e3b12aa0']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 08 Metal Rain.flac'\nchroma: matched recordings [u'da81c6b9-73b3-4428-86ce-e0c958fd8388', u'e6553f3a-dd38-407a-8350-72f75bcc3239']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 09 Big Gulp.flac'\nchroma: matched recordings [u'48bb5157-f145-4a26-91f2-1bbfe3843ad4', u'5bad5e8b-a738-45c0-9702-fa580716d85b']\nlyrics not found: Blank Banshee - B:/ Start Up\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 10 Doldrum Corp..flac'\nchroma: matched recordings [u'40783287-5e49-4986-8c2e-98fc76bc4575', u'd48b5188-8830-4f34-ab96-99bec735d592']\nlyrics not found: Blank Banshee - Bathsalts\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 11 Cyber Slums.flac'\nchroma: matched recordings [u'252b73ea-fa04-47d0-b030-ff074240db78', u'4fab878d-9656-4a3f-b8d1-195d374eabf2']\nlyrics not found: Blank Banshee - Cyber Zodiac\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 12 Realization.flac'\nchroma: matched recordings [u'79f44bff-d5be-46f0-89a5-e5c56efa3dda']\nlyrics not found: Blank Banshee - Venus Death Trap\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 13 SOLAR PLEXUS.flac'\nchroma: matched recordings [u'456e401f-e3cd-44c6-b7e8-fee3dce95785']\nlyrics not found: Blank Banshee - World Vision\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 14 Paradise Disc -\\xe8\\x8a\\xb8\\xe8\\x83\\xbd\\xe5\\xb1\\xb1\\xe5\\x9f\\x8e\\xe7\\xb5\\x84.flac'\nchroma: matched recordings [u'45b77e22-08f8-4e21-bff7-60c32c445f66']\nchroma: fingerprinted '/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 15 B- Hidden-Reality.flac'\nchroma: matched recordings [u'0b2b6785-e9b9-494a-a3fd-7c7c332af4e1']\nLooking up: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1\nTagging Blank Banshee - Blank Banshee 1\nNo album IDs found.\nSearch terms: Blank Banshee - Blank Banshee 1\nAlbum might be VA: False\nlyrics not found: Blank Banshee - Ammonia Clouds\nlyrics not found: Blank Banshee - HYP\u2630R OBJ\u2630CT\nacoustid album candidates: 1\nlyrics not found: Blank Banshee - B:/ Shut down/Depression\nlyrics not found: Blank Banshee - Wavestep\nfetchart: using fallback art file Blank Banshee - Blank Banshee 0 - QR-SCAN-Print.jpg\nDiscogs API Error: 404 Not Found (query: Blank Banshee Blank Banshee 1\nEvaluating 6 candidates.\nCandidate: Blank Banshee - Blank Banshee 1\nSuccess. Distance: 0.234335\nCandidate: Blank Banshee - Blank Banshee 1\nSuccess. Distance: 0.000000\nCandidate: Blank Banshee - Blank Banshee 0\nSuccess. Distance: 0.634043\nCandidate: Screaming Banshee Aircrew - When All Is Said and Done\nadded last.fm album genre (artist): Electronic\nSuccess. Distance: 0.822202\nSending event: database_change\nCandidate: Gerda Blank - gerda:BLANK\nSuccess. Distance: 0.882945\nCandidate: Blank Banshee - Blank Banshee 1\nDuplicate.\n\n/home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1 (15 items)\nTagging:\n    Blank Banshee - Blank Banshee 1\nURL:\n    http://musicbrainz.org/release/5e66f0d1-6925-44ab-b96c-da7c7bfd644c\n(Similarity: 100.0%) (Digital Media, 2013)\nSending event: import_task_choice\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: import_task_apply\nreplacing item 8860: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 04 Anxiety Online !.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8864: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 12 Realization.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8862: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 08 Metal Rain.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8871: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 11 Cyber Slums.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8868: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 13 SOLAR PLEXUS.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8865: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 05 Java Clouds-\u0645\u062c\u0633\u0645\u0647 \u0633\u0627\u0632\u06cc \u0645\u0647\u062a\u0627\u0628.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8867: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 09 Big Gulp.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8866: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 15 B- Hidden-Reality.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8874: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 02 Eco Zones.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8870: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 03 METAMATERIAL.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8863: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 10 Doldrum Corp..flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8872: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 01 B- Infinite Login.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8873: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 07 Conflict Minerals.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8861: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 14 Paradise Disc -\u82b8\u80fd\u5c71\u57ce\u7d44.flac\nSending event: database_change\nSending event: item_removed\nreplacing item 8869: /home/somasis/MusicIncoming/Blank Banshee - Blank Banshee 1/Blank Banshee - Blank Banshee 1 - 06 LSD Polyphony.flac\nSending event: database_change\nSending event: database_change\nSending event: item_removed\n15 of 15 items replaced\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nadded last.fm item genre (track): Electronic\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nlyrics not found: Blank Banshee - Anxiety Online !\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nlyrics not found: Blank Banshee - Realization\nadded last.fm item genre (track): Techno\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nlyrics not found: Blank Banshee - Metal Rain\nadded last.fm item genre (track): Chillwave\nSending event: database_change\nadded last.fm item genre (track): Chillwave\nSending event: database_change\nlyrics not found: Blank Banshee - Cyber Slums\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nadded last.fm item genre (track): Acid\nlyrics not found: Blank Banshee - SOLAR PLEXUS\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nadded last.fm item genre (artist): Electronic\nSending event: database_change\nremoving 15 old duplicated items\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/01 - Blank Banshee - B__ Start Up.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/02 - Blank Banshee - Wavestep.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/03 - Blank Banshee - Bathsalts.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/04 - Blank Banshee - Ammonia Clouds.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/05 - Blank Banshee - Venus Death Trap.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/06 - Blank Banshee - HYPR OBJCT.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/07 - Blank Banshee - Photosynthesis.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/08 - Blank Banshee - D   P $ P L C.flac\nlyrics not found: Blank Banshee - Java Clouds/\u0645\u062c\u0633\u0645\u0647 \u0633\u0627\u0632\u06cc \u0645\u0647\u062a\u0627\u0628\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/09 - Blank Banshee - Dreamcast.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/10 - Blank Banshee - Cyber Zodiac.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/11 - Blank Banshee - Teen Pregnancy.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/12 - Blank Banshee - Purity Boys.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/13 - Blank Banshee - Visualization.flac\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/14 - Blank Banshee - World Vision.flac\nlyrics not found: Blank Banshee - Big Gulp\nSending event: database_change\nSending event: database_change\nSending event: item_removed\ndeleting duplicate /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/15 - Blank Banshee - B__ Shut down_Depression.flac\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/11 - Blank Banshee - Teen Pregnancy.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/08 - Blank Banshee - D   P $ P L C.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Techno -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/07 - Blank Banshee - Photosynthesis.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/12 - Blank Banshee - Purity Boys.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Chillwave -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/09 - Blank Banshee - Dreamcast.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Acid -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/13 - Blank Banshee - Visualization.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/01 - Blank Banshee - B__ Start Up.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/03 - Blank Banshee - Bathsalts.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Chillwave -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/10 - Blank Banshee - Cyber Zodiac.flac\nSending event: after_write\nSending event: item_copied\nlyrics not found: Blank Banshee - B:/ Hidden/Reality\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/05 - Blank Banshee - Venus Death Trap.flac\nSending event: after_write\nSending event: item_copied\nlyrics not found: Blank Banshee - Eco Zones\nlyrics not found: Blank Banshee - METAMATERIAL\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/14 - Blank Banshee - World Vision.flac\nSending event: after_write\nSending event: item_copied\nlyrics not found: Blank Banshee - Doldrum Corp.\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/04 - Blank Banshee - Ammonia Clouds.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/06 - Blank Banshee - HYPR OBJCT.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/15 - Blank Banshee - B__ Shut down_Depression.flac\nSending event: after_write\nSending event: item_copied\nSending event: database_change\nSending event: database_change\nSending event: write\n[zero] genre: Electronic -> None\n[zero] day: 1 -> None\n[zero] month: 9 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/02 - Blank Banshee - Wavestep.flac\nSending event: after_write\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: import_task_files\nSending event: database_change\nSending event: album_imported\nEmbedding album art into Blank Banshee - Blank Banshee 0.\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/01 - Blank Banshee - B__ Start Up.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/02 - Blank Banshee - Wavestep.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/03 - Blank Banshee - Bathsalts.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/04 - Blank Banshee - Ammonia Clouds.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/05 - Blank Banshee - Venus Death Trap.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/06 - Blank Banshee - HYPR OBJCT.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/07 - Blank Banshee - Photosynthesis.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/08 - Blank Banshee - D   P $ P L C.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/09 - Blank Banshee - Dreamcast.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/10 - Blank Banshee - Cyber Zodiac.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/11 - Blank Banshee - Teen Pregnancy.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/12 - Blank Banshee - Purity Boys.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/13 - Blank Banshee - Visualization.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/14 - Blank Banshee - World Vision.flac\nSending event: after_write\nSending event: write\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] month: 0 -> None\nauto-scrubbing /home/somasis/Music/Blank Banshee - Blank Banshee 0 (2012 - FLAC)/15 - Blank Banshee - B__ Shut down_Depression.flac\nSending event: after_write\nlyrics not found: Blank Banshee - B:/ Infinite Login\nlyrics not found: Blank Banshee - Conflict Minerals\nlyrics not found: Blank Banshee - Paradise Disc /\u82b8\u80fd\u5c71\u57ce\u7d44\nlyrics not found: Blank Banshee - LSD Polyphony\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.7', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 966, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 957, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 841, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 813, in import_files\n    session.run()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 290, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 299, in run\n    out = self.coro.send(msg)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 181, in coro\n    func(*(args + (task,)))\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1077, in plugin_stage\n    func(session, task)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 325, in fetch_art\n    path = art_for_album(task.album, task.paths, self.maxwidth, local)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 240, in art_for_album\n    out = art_in_path(path, cover_names, cautious)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 179, in art_in_path\n    images = sorted(images, key=lambda x: filename_priority(x, cover_names))\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 179, in <lambda>\n    images = sorted(images, key=lambda x: filename_priority(x, cover_names))\n  File \"/usr/lib/python2.7/site-packages/beetsplug/fetchart.py\", line 163, in filename_priority\n    return [idx for (idx, x) in enumerate(cover_names) if x in filename]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 48: ordinal not in range(128)\n```\n\nSorry for the long post, I figured the most detail wouldn't hurt.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/887/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/880", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/880/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/880/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/880/events", "html_url": "https://github.com/beetbox/beets/issues/880", "id": 38186990, "node_id": "MDU6SXNzdWUzODE4Njk5MA==", "number": 880, "title": "Typo in genres-tree.yaml", "user": {"login": "nrgetik", "id": 125412, "node_id": "MDQ6VXNlcjEyNTQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/125412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrgetik", "html_url": "https://github.com/nrgetik", "followers_url": "https://api.github.com/users/nrgetik/followers", "following_url": "https://api.github.com/users/nrgetik/following{/other_user}", "gists_url": "https://api.github.com/users/nrgetik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrgetik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrgetik/subscriptions", "organizations_url": "https://api.github.com/users/nrgetik/orgs", "repos_url": "https://api.github.com/users/nrgetik/repos", "events_url": "https://api.github.com/users/nrgetik/events{/privacy}", "received_events_url": "https://api.github.com/users/nrgetik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-07-18T15:36:51Z", "updated_at": "2014-07-18T15:52:06Z", "closed_at": "2014-07-18T15:52:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have found at least one, pretty sure 'funkd' should be 'funk' under the 'r&b' primary genre\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/880/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/878", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/878/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/878/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/878/events", "html_url": "https://github.com/beetbox/beets/issues/878", "id": 38045054, "node_id": "MDU6SXNzdWUzODA0NTA1NA==", "number": 878, "title": "convert: Handle MediaFile errors when writing new tags", "user": {"login": "Dietr1ch", "id": 2096594, "node_id": "MDQ6VXNlcjIwOTY1OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2096594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dietr1ch", "html_url": "https://github.com/Dietr1ch", "followers_url": "https://api.github.com/users/Dietr1ch/followers", "following_url": "https://api.github.com/users/Dietr1ch/following{/other_user}", "gists_url": "https://api.github.com/users/Dietr1ch/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dietr1ch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dietr1ch/subscriptions", "organizations_url": "https://api.github.com/users/Dietr1ch/orgs", "repos_url": "https://api.github.com/users/Dietr1ch/repos", "events_url": "https://api.github.com/users/Dietr1ch/events{/privacy}", "received_events_url": "https://api.github.com/users/Dietr1ch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-07-17T03:20:20Z", "updated_at": "2014-08-25T12:54:21Z", "closed_at": "2014-08-25T12:54:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While running a conversion with more files than threads, I'm getting a crash after the initial jobs are finished.\nThe weird thing is that those first K files are converted successfully (or at least they are playable :P), so it appears to be a bug on the job scheduler (As I would expect that it skips the failing jobs), and also somewhere else.\n\n```\nbeet convert\n```\n\n```\nTraceback (most recent call last):\n  File \"/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.6', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 967, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 958, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/convert.py\", line 251, in convert_func\n    pipe.run_parallel()\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 345, in run\n    self.coro.send(msg)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/convert.py\", line 179, in convert_item\n    item.write(path=converted)\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 369, in write\n    mediafile = MediaFile(path)\n  File \"/usr/lib/python2.7/site-packages/beets/mediafile.py\", line 1239, in __init__\n    raise FileTypeError('file type unsupported by Mutagen')\nbeets.mediafile.FileTypeError: file type unsupported by Mutagen\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/878/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/873", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/873/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/873/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/873/events", "html_url": "https://github.com/beetbox/beets/issues/873", "id": 37908893, "node_id": "MDU6SXNzdWUzNzkwODg5Mw==", "number": 873, "title": "KeyError on import due to recent resuming refactor", "user": {"login": "jmwatte", "id": 768112, "node_id": "MDQ6VXNlcjc2ODExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/768112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwatte", "html_url": "https://github.com/jmwatte", "followers_url": "https://api.github.com/users/jmwatte/followers", "following_url": "https://api.github.com/users/jmwatte/following{/other_user}", "gists_url": "https://api.github.com/users/jmwatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwatte/subscriptions", "organizations_url": "https://api.github.com/users/jmwatte/orgs", "repos_url": "https://api.github.com/users/jmwatte/repos", "events_url": "https://api.github.com/users/jmwatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwatte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-07-15T17:55:54Z", "updated_at": "2014-07-18T17:19:16Z", "closed_at": "2014-07-17T10:51:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I am on \n\nbeets version 1.3.7\nplugins: fetchart, embedart, amazon, smartplaylist, fromfilename, scrub, dates, bpd, play, lastgenre, ftintitle, fuzzy, duplicates, convert, replaygain\n\nand while importing a folder with 3 subfolders I get this message...\n\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 20, in <module>\n    beets.ui.main()\n  File \"/home/winters/buildtests/beets/beets/ui/**init**.py\", line 957, in main\n    _raw_main(args)\n  File \"/home/winters/buildtests/beets/beets/ui/__init__.py\", line 948, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/winters/buildtests/beets/beets/ui/commands.py\", line 841, in import_func\n    import_files(lib, paths, query)\n  File \"/home/winters/buildtests/beets/beets/ui/commands.py\", line 813, in import_files\n    session.run()\n  File \"/home/winters/buildtests/beets/beets/importer.py\", line 283, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/home/winters/buildtests/beets/beets/util/pipeline.py\", line 249, in run\n    msg = self.coro.next()\n  File \"/home/winters/buildtests/beets/beets/importer.py\", line 824, in read_tasks\n    if session.want_resume and has_progress(toppath):\n  File \"/home/winters/buildtests/beets/beets/importer.py\", line 123, in has_progress\n    return len(state[toppath]) != 0\nKeyError: '/media/ditis_H/downloads/complete/CSNY 1974'\n\nany ideas?\n\ngrtz\njmw\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/873/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/867", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/867/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/867/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/867/events", "html_url": "https://github.com/beetbox/beets/issues/867", "id": 37812271, "node_id": "MDU6SXNzdWUzNzgxMjI3MQ==", "number": 867, "title": "beet -h and beet help do not produce the same output", "user": {"login": "nrgetik", "id": 125412, "node_id": "MDQ6VXNlcjEyNTQxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/125412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrgetik", "html_url": "https://github.com/nrgetik", "followers_url": "https://api.github.com/users/nrgetik/followers", "following_url": "https://api.github.com/users/nrgetik/following{/other_user}", "gists_url": "https://api.github.com/users/nrgetik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrgetik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrgetik/subscriptions", "organizations_url": "https://api.github.com/users/nrgetik/orgs", "repos_url": "https://api.github.com/users/nrgetik/repos", "events_url": "https://api.github.com/users/nrgetik/events{/privacy}", "received_events_url": "https://api.github.com/users/nrgetik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/7", "html_url": "https://github.com/beetbox/beets/milestone/7", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/7/labels", "id": 620031, "node_id": "MDk6TWlsZXN0b25lNjIwMDMx", "number": 7, "title": "1.3.9", "description": "A miscellaneous fix release.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-04-04T04:26:29Z", "updated_at": "2015-01-19T00:33:46Z", "due_on": null, "closed_at": "2015-01-19T00:33:46Z"}, "comments": 1, "created_at": "2014-07-14T18:20:26Z", "updated_at": "2014-07-17T10:44:00Z", "closed_at": "2014-07-17T10:44:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In particular, beet -h seems to omit any commands enabled by plugins\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/867/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/858", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/858/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/858/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/858/events", "html_url": "https://github.com/beetbox/beets/issues/858", "id": 37029304, "node_id": "MDU6SXNzdWUzNzAyOTMwNA==", "number": 858, "title": "Most formatting should not allow album-level data to override item-level fields", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/7", "html_url": "https://github.com/beetbox/beets/milestone/7", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/7/labels", "id": 620031, "node_id": "MDk6TWlsZXN0b25lNjIwMDMx", "number": 7, "title": "1.3.9", "description": "A miscellaneous fix release.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-04-04T04:26:29Z", "updated_at": "2015-01-19T00:33:46Z", "due_on": null, "closed_at": "2015-01-19T00:33:46Z"}, "comments": 0, "created_at": "2014-07-02T22:02:04Z", "updated_at": "2014-08-25T16:04:07Z", "closed_at": "2014-08-25T16:04:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Recently, we refactored the string-formatting logic for Items so that, consistently, the associated album-level data would override any inconsistent item-level data. Confusing experiences in #853 and #807 have demonstrated that this was probably not a good idea.\n\nWe still need this behavior for formatting paths\u2014for directory structure consistency\u2014but we should back off on making it the default. Commands like `list` should show item-level data with no album-level overrides.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/858/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/857", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/857/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/857/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/857/events", "html_url": "https://github.com/beetbox/beets/issues/857", "id": 37028918, "node_id": "MDU6SXNzdWUzNzAyODkxOA==", "number": 857, "title": "Catch read errors in Item.from_path in write command", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-07-02T21:57:04Z", "updated_at": "2014-07-06T11:27:55Z", "closed_at": "2014-07-06T11:27:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Issue #853 shows a case where the `Item.from_path` command in the `beet write` command fails due to invalid tags. We need to catch this error and proceed rather than crashing.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/857/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/856", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/856/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/856/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/856/events", "html_url": "https://github.com/beetbox/beets/issues/856", "id": 37028844, "node_id": "MDU6SXNzdWUzNzAyODg0NA==", "number": 856, "title": "Album dirty tracking should be less aggressive", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/7", "html_url": "https://github.com/beetbox/beets/milestone/7", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/7/labels", "id": 620031, "node_id": "MDk6TWlsZXN0b25lNjIwMDMx", "number": 7, "title": "1.3.9", "description": "A miscellaneous fix release.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-04-04T04:26:29Z", "updated_at": "2015-01-19T00:33:46Z", "due_on": null, "closed_at": "2015-01-19T00:33:46Z"}, "comments": 0, "created_at": "2014-07-02T21:56:06Z", "updated_at": "2014-11-14T07:25:44Z", "closed_at": "2014-11-14T07:25:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As pointed out in #853, recent refactoring has broken a behavior in album-level metadata modifications. If, for example, an album has field `foo` equal to `bar`, then `beet mod foo=bar` is a no-op due to dirty tracking. This is problematic when the tracks have inconsistent data\u2014it would be good for this change to propagate to the tracks even when no change has made.\n\nThis means we need to change the way dirty tracking works for the `Album` class to consider a field dirty on assignment, even when the new value equals the old value.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/856/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/844", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/844/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/844/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/844/events", "html_url": "https://github.com/beetbox/beets/issues/844", "id": 36461198, "node_id": "MDU6SXNzdWUzNjQ2MTE5OA==", "number": 844, "title": "Incremental import does not record skipped directories", "user": {"login": "jcassette", "id": 7935799, "node_id": "MDQ6VXNlcjc5MzU3OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/7935799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcassette", "html_url": "https://github.com/jcassette", "followers_url": "https://api.github.com/users/jcassette/followers", "following_url": "https://api.github.com/users/jcassette/following{/other_user}", "gists_url": "https://api.github.com/users/jcassette/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcassette/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcassette/subscriptions", "organizations_url": "https://api.github.com/users/jcassette/orgs", "repos_url": "https://api.github.com/users/jcassette/repos", "events_url": "https://api.github.com/users/jcassette/events{/privacy}", "received_events_url": "https://api.github.com/users/jcassette/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-06-25T09:11:53Z", "updated_at": "2014-07-11T05:43:59Z", "closed_at": "2014-07-01T21:35:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Incremental import is turned on in my config file. \nI have run a first import of a directory and skipped a few albums that I don't want to import.\nWhen I import this directory again, it will try to import the albums I have skipped.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/844/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/825", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/825/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/825/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/825/events", "html_url": "https://github.com/beetbox/beets/issues/825", "id": 35778587, "node_id": "MDU6SXNzdWUzNTc3ODU4Nw==", "number": 825, "title": "Import log says \"None\" in album-grouping mode", "user": {"login": "smcvb", "id": 4687743, "node_id": "MDQ6VXNlcjQ2ODc3NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4687743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smcvb", "html_url": "https://github.com/smcvb", "followers_url": "https://api.github.com/users/smcvb/followers", "following_url": "https://api.github.com/users/smcvb/following{/other_user}", "gists_url": "https://api.github.com/users/smcvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/smcvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smcvb/subscriptions", "organizations_url": "https://api.github.com/users/smcvb/orgs", "repos_url": "https://api.github.com/users/smcvb/repos", "events_url": "https://api.github.com/users/smcvb/events{/privacy}", "received_events_url": "https://api.github.com/users/smcvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-06-16T09:03:05Z", "updated_at": "2015-05-25T19:58:16Z", "closed_at": "2015-05-25T19:58:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Found this issue while importing a large music set from which I only want the tagged data in my database, so not alter the files (move/rename) in any fashion. I didn't fancy taking every auto-tag issue into account, hence I imported the files in quite mode and logged the music files which it couldn't tag so I could do those by hand later. However, since the log only contained \"Skipped none\" and I did not move or alter any of my files, I had no way of telling which files weren't logged.\n\nIn short, when you are importing music in quite mode and want to log which files are skipped, the log only contains lines like \"Skipped none\".\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/825/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/822", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/822/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/822/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/822/events", "html_url": "https://github.com/beetbox/beets/issues/822", "id": 35705949, "node_id": "MDU6SXNzdWUzNTcwNTk0OQ==", "number": 822, "title": "Convert Stripping Tags", "user": {"login": "haok2", "id": 7883775, "node_id": "MDQ6VXNlcjc4ODM3NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7883775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haok2", "html_url": "https://github.com/haok2", "followers_url": "https://api.github.com/users/haok2/followers", "following_url": "https://api.github.com/users/haok2/following{/other_user}", "gists_url": "https://api.github.com/users/haok2/gists{/gist_id}", "starred_url": "https://api.github.com/users/haok2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haok2/subscriptions", "organizations_url": "https://api.github.com/users/haok2/orgs", "repos_url": "https://api.github.com/users/haok2/repos", "events_url": "https://api.github.com/users/haok2/events{/privacy}", "received_events_url": "https://api.github.com/users/haok2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-06-13T20:51:17Z", "updated_at": "2014-07-20T17:00:24Z", "closed_at": "2014-06-14T15:09:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Convert plugin is stripping all tags using auto-scrubbing. How can I stop this from occuring?\n\nHere's an output -\n\nStarted encoding /media/mpd/music/The Cars/24-96Khz/Candy-O/01 - Let'S Go.flac\nconvert: executing: ffmpeg -i '/media/mpd/music/The Cars/24-96Khz/Candy-O/01 - Let'\"'\"'S Go.flac' -y -aq 4 '/media/mx/archive/mp3/The Cars/Candy-O/01 - Let'\"'\"'S Go.mp3'\nStarted encoding /media/mpd/music/The Cars/24-96Khz/Candy-O/02 - Since I Held You.flac\nconvert: executing: ffmpeg -i '/media/mpd/music/The Cars/24-96Khz/Candy-O/02 - Since I Held You.flac' -y -aq 4 '/media/mx/archive/mp3/The Cars/Candy-O/02 - Since I Held You.mp3'\nFinished encoding /media/mpd/music/The Cars/24-96Khz/Candy-O/01 - Let'S Go.flac\nSending event: write\nauto-scrubbing /media/mpd/music/The Cars/24-96Khz/Candy-O/01 - Let'S Go.flac\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] comments:  -> None\n[zero] month: 0 -> None\nFinished encoding /media/mpd/music/The Cars/24-96Khz/Candy-O/02 - Since I Held You.flac\nSending event: after_write\nSending event: after_convert\nStarted encoding /media/mpd/music/The Cars/24-96Khz/Candy-O/03 - It'S All I Can Do.flac\nconvert: executing: ffmpeg -i '/media/mpd/music/The Cars/24-96Khz/Candy-O/03 - It'\"'\"'S All I Can Do.flac' -y -aq 4 '/media/mx/archive/mp3/The Cars/Candy-O/03 - It'\"'\"'S All I Can Do.mp3'\nSending event: write\nauto-scrubbing /media/mpd/music/The Cars/24-96Khz/Candy-O/02 - Since I Held You.flac\n[zero] genre:  -> None\n[zero] day: 0 -> None\n[zero] comments:  -> None\n[zero] month: 0 -> None\nSending event: after_write\nSending event: after_convert\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/822/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/814", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/814/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/814/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/814/events", "html_url": "https://github.com/beetbox/beets/issues/814", "id": 35426292, "node_id": "MDU6SXNzdWUzNTQyNjI5Mg==", "number": 814, "title": "lastgenre: Suppress pylast bug", "user": {"login": "acieroid", "id": 58877, "node_id": "MDQ6VXNlcjU4ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/58877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acieroid", "html_url": "https://github.com/acieroid", "followers_url": "https://api.github.com/users/acieroid/followers", "following_url": "https://api.github.com/users/acieroid/following{/other_user}", "gists_url": "https://api.github.com/users/acieroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/acieroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acieroid/subscriptions", "organizations_url": "https://api.github.com/users/acieroid/orgs", "repos_url": "https://api.github.com/users/acieroid/repos", "events_url": "https://api.github.com/users/acieroid/events{/privacy}", "received_events_url": "https://api.github.com/users/acieroid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-06-10T21:15:31Z", "updated_at": "2014-07-02T05:00:03Z", "closed_at": "2014-06-29T14:49:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running beet import in verbose on the directory containing the album:\n\n```\nuser configuration: /home/quentin/.config/beets/config.yaml\n** plugin fetchart, not found\nSending event: pluginload\nSending event: library_opened\ndata directory: /home/quentin/.config/beets\nlibrary database: /dd/music/library.blb\nlibrary directory: /dd/music\nSending event: import_task_start\nLooking up: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3\nTagging Passenger - Whispers (Deluxe)\nNo album IDs found.\nSearch terms: Passenger - Whispers (Deluxe)\nAlbum might be VA: False\nEvaluating 5 candidates.\nCandidate: Passenger - Whispers\nSuccess. Distance: 0.009184\nCandidate: Passenger - Whispers\nSuccess. Distance: 0.142413\nCandidate: Passenger - Wide Eyes Blind Love\nSuccess. Distance: 0.617171\nCandidate: Passenger - Divers & Submarines\nSuccess. Distance: 0.621372\nCandidate: Passenger - Flight of the Crow\nSuccess. Distance: 0.584718\n\n/dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3 (18 items)\nCorrecting tags from:\n    Passenger - Whispers (Deluxe)\nTo:\n    Passenger - Whispers\nURL:\n    http://musicbrainz.org/release/41e31201-93ba-415d-a075-2b2afc2fbb83\n(Similarity: 99.1%) (album) (2xCD, 2014, GB, Embassy of Music, deluxe edition)\nCD 1\n * Coins In A Fountain            -> Coins in a Fountain\n * Heart's On Fire                -> Heart's on Fire\n * Start A Fire                   -> Start a Fire\n * Riding To New York             -> Riding to New York\n * Scare Away The Dark            -> Scare Away the Dark\nCD 2: (acoustic)\n * Heart's On Fire (Acoustic)     -> Heart's on Fire (acoustic)\n * Coins In A Fountain (Acoustic) -> Coins in a Fountain (acoustic)\n * Riding To New York (Acoustic)  -> Riding to New York (acoustic)\n * Start A Fire (Acoustic)        -> Start a Fire (acoustic)\n * Golden Leaves (Acoustic)       -> Golden Leaves (acoustic)\n * Rolling Stone (Acoustic)       -> Rolling Stone (acoustic)\n * Whispers (Acoustic)            -> Whispers (acoustic)\nSending event: import_task_choice\nSending event: import_task_apply\nreplacing item 2593: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/17 Rolling Stone (Acoustic).mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2592: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/09 Whispers.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2595: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/16 Golden Leaves (Acoustic).mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2594: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/06 Thunder.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2596: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/14 Riding To New York (Acoustic).mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2597: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/08 Start A Fire.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2598: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/02 27.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2607: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/07 Rolling Stone.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2600: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/13 Coins In A Fountain (Acoustic).mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2601: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/05 Golden Leaves.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2606: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/10 Riding To New York.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2605: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/15 Start A Fire (Acoustic).mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2603: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/11 Scare Away The Dark.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2604: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/04 Bullets.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2599: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/12 Heart's On Fire (Acoustic).mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2608: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/01 Coins In A Fountain.mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2591: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/18 Whispers (Acoustic).mp3\nSending event: database_change\nSending event: item_removed\nreplacing item 2602: /dd/tmp/Passenger - Whispers (Deluxe) (2014) - WEB FLAC Lossless/mp3/03 Heart's On Fire.mp3\nSending event: database_change\nSending event: database_change\nSending event: item_removed\n18 of 18 items replaced\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nTraceback (most recent call last):\n  File \"/usr/sbin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.7', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 970, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 961, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 816, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 788, in import_files\n    session.run()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 262, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 299, in run\n    out = self.coro.send(msg)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 181, in coro\n    func(*(args + (task,)))\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 1051, in plugin_stage\n    func(session, task)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 377, in imported\n    album.genre, src = self._get_genre(album)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 292, in _get_genre\n    result = self.fetch_album_genre(obj)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 248, in fetch_album_genre\n    obj.album)\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 240, in _cached_lookup\n    genre = self.fetch_genre(method(*args))\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 213, in fetch_genre\n    return self._resolve_genres(_tags_for(lastfm_obj, min_weight))\n  File \"/usr/lib/python2.7/site-packages/beetsplug/lastgenre/__init__.py\", line 58, in _tags_for\n    res = super(pylast.Album, obj).get_top_tags()\n  File \"/usr/lib/python2.7/site-packages/pylast.py\", line 1083, in get_top_tags\n    doc = self._request(self.ws_prefix + '.getTopTags', True)\n  File \"/usr/lib/python2.7/site-packages/pylast.py\", line 970, in _request\n    return _Request(self.network, method_name, params).execute(cacheable)\n  File \"/usr/lib/python2.7/site-packages/pylast.py\", line 828, in execute\n    response = self._download_response()\n  File \"/usr/lib/python2.7/site-packages/pylast.py\", line 819, in _download_response\n    self._check_response_for_errors(response_text)\n  File \"/usr/lib/python2.7/site-packages/pylast.py\", line 840, in _check_response_for_errors\n    e = doc.getElementsByTagName('lfm')[0]\nIndexError: list index out of range\n```\n\nMy config.yaml:\n\n```\nlibrary: /dd/music/library.blb\ndirectory: /dd/music\nart_filename: cover\nplugins: fetchart, lastgenre\n\nimport:\n    copy: true\n    write: true\n    resume: ask\n    art: true\n    quiet_fallback: skip\n    timid: false\nignore: .AppleDouble ._* *~ .DS_Store .*\nthreaded: true\ncolor: true\n\nreplace:\n    '\\s+': '-'\n\npaths:\n    default: '%asciify{$albumartist}/%asciify{$album%aunique{}}/$track-%asciify{$title}'\n    singleton: $artist/non-album/$title\n    comp: Compilations/%asciify{$album%aunique{}}/$track-%asciify{$title}\n    # albumtype:soundtrack: Soundtracks/$album/$track-%asciify{$title}\n\nfetchart:\n    auto: true\n\nlastgenre:\n    count: 3\n    separator: ', '\n    whitelist: /home/quentin/dotfiles/genres.txt\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/814/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/812", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/812/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/812/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/812/events", "html_url": "https://github.com/beetbox/beets/issues/812", "id": 35268789, "node_id": "MDU6SXNzdWUzNTI2ODc4OQ==", "number": 812, "title": "beet write -p shows changes for fields that are not written back to files", "user": {"login": "pprkut", "id": 56635, "node_id": "MDQ6VXNlcjU2NjM1", "avatar_url": "https://avatars.githubusercontent.com/u/56635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pprkut", "html_url": "https://github.com/pprkut", "followers_url": "https://api.github.com/users/pprkut/followers", "following_url": "https://api.github.com/users/pprkut/following{/other_user}", "gists_url": "https://api.github.com/users/pprkut/gists{/gist_id}", "starred_url": "https://api.github.com/users/pprkut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pprkut/subscriptions", "organizations_url": "https://api.github.com/users/pprkut/orgs", "repos_url": "https://api.github.com/users/pprkut/repos", "events_url": "https://api.github.com/users/pprkut/events{/privacy}", "received_events_url": "https://api.github.com/users/pprkut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-09T08:39:18Z", "updated_at": "2014-06-10T08:46:29Z", "closed_at": "2014-06-09T12:34:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "With beets 1.3.6, \"beet write -p\" shows changes for fields that are not actually written back to the matching files, for example the echonest fields.\nLikely culprit seems to be the new unified difference printing code.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/812/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/807", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/807/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/807/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/807/events", "html_url": "https://github.com/beetbox/beets/issues/807", "id": 35054865, "node_id": "MDU6SXNzdWUzNTA1NDg2NQ==", "number": 807, "title": "beet modify on year confirmation dialog output does not print new value", "user": {"login": "bartkl", "id": 2497867, "node_id": "MDQ6VXNlcjI0OTc4Njc=", "avatar_url": "https://avatars.githubusercontent.com/u/2497867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bartkl", "html_url": "https://github.com/bartkl", "followers_url": "https://api.github.com/users/bartkl/followers", "following_url": "https://api.github.com/users/bartkl/following{/other_user}", "gists_url": "https://api.github.com/users/bartkl/gists{/gist_id}", "starred_url": "https://api.github.com/users/bartkl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bartkl/subscriptions", "organizations_url": "https://api.github.com/users/bartkl/orgs", "repos_url": "https://api.github.com/users/bartkl/repos", "events_url": "https://api.github.com/users/bartkl/events{/privacy}", "received_events_url": "https://api.github.com/users/bartkl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-06-05T13:05:58Z", "updated_at": "2014-08-25T23:12:00Z", "closed_at": "2014-08-25T23:12:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**TL;DR**: When using `beet modify` to change the `year` value,  in the confirmation dialog it seems the new value being displayed is actually a print of the old one.\n\nI'm changing the `year` tag of the (only) album called \"Knee Deep\" doing:\n\n```\n$ beet modify album:\"Knee Deep\" year=4000\nModifying 8 items.\nWhoMadeWho - Knee Deep - There's an Answer\n  year: 2011 -> 2011\nWhoMadeWho - Knee Deep - Every Minute Alone\n  year: 2011 -> 2011\nWhoMadeWho - Knee Deep - Musketeer\n  year: 2011 -> 2011\nWhoMadeWho - Knee Deep - All That I Am\n  year: 2011 -> 2011\nWhoMadeWho - Knee Deep - Nothing Has Changed\n  year: 2011 -> 2011\nWhoMadeWho - Knee Deep - Two Feet Off Ground\n  year: 2011 -> 2011\nWhoMadeWho - Knee Deep - Checkers\n  year: 2011 -> 2011\nWhoMadeWho - Knee Deep - We're Alive, It's a Miracle\n  year: 2011 -> 2011\nReally modify, move and write tags (Y/n)? \n```\n\nNotice that the new field value is not 4000 as I specified, but equal to the old one. However, I noticed in my audio player that the value was in fact updated to 4000. So, in this confirmation dialog it seems the new value being displayed is actually a print of the old one.\n\nWhen I issued `beet modify album:\"Knee Deep\" album=\"XXX\"` the output displays the correct values, so it seems to be the case only for the `year` tag.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/807/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/805", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/805/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/805/events", "html_url": "https://github.com/beetbox/beets/issues/805", "id": 34923338, "node_id": "MDU6SXNzdWUzNDkyMzMzOA==", "number": 805, "title": "Duplicate genres in lastgenre", "user": {"login": "fortes", "id": 5181, "node_id": "MDQ6VXNlcjUxODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fortes", "html_url": "https://github.com/fortes", "followers_url": "https://api.github.com/users/fortes/followers", "following_url": "https://api.github.com/users/fortes/following{/other_user}", "gists_url": "https://api.github.com/users/fortes/gists{/gist_id}", "starred_url": "https://api.github.com/users/fortes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fortes/subscriptions", "organizations_url": "https://api.github.com/users/fortes/orgs", "repos_url": "https://api.github.com/users/fortes/repos", "events_url": "https://api.github.com/users/fortes/events{/privacy}", "received_events_url": "https://api.github.com/users/fortes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-04T02:29:31Z", "updated_at": "2014-07-01T21:31:08Z", "closed_at": "2014-07-01T21:31:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Looks like there's some regression in the last version (maybe two versions back?) -- now getting duplicate genres when fetching:\n\n```\n$ beet -v lastgenre -f schoolboy q year:2014\nuser configuration: /Users/fortes/.config/beets/config.yaml\nSending event: pluginload\nSending event: library_opened\ndata directory: /Users/fortes/.config/beets\nlibrary database: /var/music/tools/albums.blb\nlibrary directory: /var/music\ngenre for album ScHoolboy Q - Oxymoron (artist): Hip-Hop, Hip-Hop, Hip-Hop\n```\n\nHere's my config file: https://github.com/fortes/dotfiles/blob/master/.config/beets/config.yaml\n\nI haven't had a chance to dig into the code, just wanted to file this real quick in case it's an obvious issue from a recent change.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/805/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/779", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/779/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/779/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/779/events", "html_url": "https://github.com/beetbox/beets/issues/779", "id": 33822306, "node_id": "MDU6SXNzdWUzMzgyMjMwNg==", "number": 779, "title": "removing a flexattr fails", "user": {"login": "superceu", "id": 7613790, "node_id": "MDQ6VXNlcjc2MTM3OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7613790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/superceu", "html_url": "https://github.com/superceu", "followers_url": "https://api.github.com/users/superceu/followers", "following_url": "https://api.github.com/users/superceu/following{/other_user}", "gists_url": "https://api.github.com/users/superceu/gists{/gist_id}", "starred_url": "https://api.github.com/users/superceu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/superceu/subscriptions", "organizations_url": "https://api.github.com/users/superceu/orgs", "repos_url": "https://api.github.com/users/superceu/repos", "events_url": "https://api.github.com/users/superceu/events{/privacy}", "received_events_url": "https://api.github.com/users/superceu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/7", "html_url": "https://github.com/beetbox/beets/milestone/7", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/7/labels", "id": 620031, "node_id": "MDk6TWlsZXN0b25lNjIwMDMx", "number": 7, "title": "1.3.9", "description": "A miscellaneous fix release.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2014-04-04T04:26:29Z", "updated_at": "2015-01-19T00:33:46Z", "due_on": null, "closed_at": "2015-01-19T00:33:46Z"}, "comments": 2, "created_at": "2014-05-19T18:00:07Z", "updated_at": "2014-05-21T00:25:49Z", "closed_at": "2014-05-21T00:25:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nroot@readynas:~# beet -v modify -M autoradiov3! id:12738\nuser configuration: /root/.config/beets/config.yaml\nSending event: pluginload\nSending event: library_opened\ndata directory: /root/.config/beets\nlibrary database: /data/Music/beets/library.db\nlibrary directory: /data/Music/raccolta\nModifying 1 items.\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.6', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 967, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 958, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 1261, in modify_func\n    not opts.yes)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 1193, in modify_items\n    if ui.show_model_changes(obj):\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 612, in show_model_changes\n    line = _field_diff(field, old, new)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 580, in _field_diff\n    newstr = new.formatted.get(field) or u''\n  File \"/usr/local/lib/python2.7/dist-packages/beets/library.py\", line 599, in get\n    raise KeyError(key)\nKeyError: u'autoradiov3'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/779/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/773", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/773/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/773/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/773/events", "html_url": "https://github.com/beetbox/beets/issues/773", "id": 33675246, "node_id": "MDU6SXNzdWUzMzY3NTI0Ng==", "number": 773, "title": "mpdstats: mpd events are processed twice", "user": {"login": "rafi", "id": 147918, "node_id": "MDQ6VXNlcjE0NzkxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/147918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafi", "html_url": "https://github.com/rafi", "followers_url": "https://api.github.com/users/rafi/followers", "following_url": "https://api.github.com/users/rafi/following{/other_user}", "gists_url": "https://api.github.com/users/rafi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafi/subscriptions", "organizations_url": "https://api.github.com/users/rafi/orgs", "repos_url": "https://api.github.com/users/rafi/repos", "events_url": "https://api.github.com/users/rafi/events{/privacy}", "received_events_url": "https://api.github.com/users/rafi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-05-16T13:39:49Z", "updated_at": "2015-01-08T21:44:38Z", "closed_at": "2015-01-08T21:44:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Running `beet -v  mpdstats` shows that mpd events are processed twice, for example:\n\n```\nmpdstats: playing /mnt/media/music/10 Her Majesty.mp3\nSending event: database_change\nmpdstats: updated: last_played = 1400247006 [/mnt/media/music/10 Her Majesty.mp3]\nmpdstats: playing /mnt/media/music/10 Her Majesty.mp3\nSending event: database_change\nmpdstats: updated: last_played = 1400247006 [/mnt/media/music/10 Her Majesty.mp3]\nSending event: database_change\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/773/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/772", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/772/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/772/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/772/events", "html_url": "https://github.com/beetbox/beets/issues/772", "id": 33675051, "node_id": "MDU6SXNzdWUzMzY3NTA1MQ==", "number": 772, "title": "mpdstats: single or last song isn't rated and counted", "user": {"login": "rafi", "id": 147918, "node_id": "MDQ6VXNlcjE0NzkxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/147918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafi", "html_url": "https://github.com/rafi", "followers_url": "https://api.github.com/users/rafi/followers", "following_url": "https://api.github.com/users/rafi/following{/other_user}", "gists_url": "https://api.github.com/users/rafi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafi/subscriptions", "organizations_url": "https://api.github.com/users/rafi/orgs", "repos_url": "https://api.github.com/users/rafi/repos", "events_url": "https://api.github.com/users/rafi/events{/privacy}", "received_events_url": "https://api.github.com/users/rafi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-05-16T13:36:58Z", "updated_at": "2014-06-05T00:14:32Z", "closed_at": "2014-06-05T00:14:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The `mpdstats` plugin won't update `play_count`+`rating` for the last (or only) song in the playlist. (paging @pscn and @kljohann)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/772/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/765", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/765/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/765/events", "html_url": "https://github.com/beetbox/beets/issues/765", "id": 33520110, "node_id": "MDU6SXNzdWUzMzUyMDExMA==", "number": 765, "title": "import: error when accessing MusicBrainz data", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-05-14T18:38:08Z", "updated_at": "2014-05-29T16:22:20Z", "closed_at": "2014-05-29T16:22:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I got an error when importing that stops the process, stack trace below.\n\n> MusicBrainz \u200f@MusicBrainz  2 h\n> It is schema change release time! We're going to get started on the release in just a few minutes. If you're editing, finish now! -ruaok\n\nIt's likely related to that upgrade on their side ^^ :interrobang: \n\n```\n  flap|~/Dev/beets (master)$ ./beet -v import /Users/flap/Music/The\\ Bamboos\\ -\\ Fever\\ In\\ the\\ Road\\ \\[2013\\]\\ 320/\n [...]    \n\n   /Users/flap/Music/The Bamboos - Fever In the Road [2013] 320 (11 items)\n   Correcting tags from:\n       The Bamboos - Fever In the Road\n   To:\n       The Bamboos - Fever in the Road\n   URL:\n       http://musicbrainz.org/release/53862e7d-1a5f-4a5f-98ab-0f5389d5d5b4\n   (Similarity: 100.0%) (CD, 2013, AU, Pacific Theatre)\n   Sending event: import_task_choice\n   Traceback (most recent call last):\n     File \"./beet\", line 20, in <module>\n       beets.ui.main()\n     File \"/Users/flap/Dev/beets/beets/ui/__init__.py\", line 967, in main\n       _raw_main(args)\n     File \"/Users/flap/Dev/beets/beets/ui/__init__.py\", line 958, in _raw_main\n       subcommand.func(lib, suboptions, subargs)\n     File \"/Users/flap/Dev/beets/beets/ui/commands.py\", line 816, in import_func\n       import_files(lib, paths, query)\n     File \"/Users/flap/Dev/beets/beets/ui/commands.py\", line 788, in import_files\n       session.run()\n     File \"/Users/flap/Dev/beets/beets/importer.py\", line 262, in run\n       pl.run_parallel(QUEUE_SIZE)\n     File \"/Users/flap/Dev/beets/beets/util/pipeline.py\", line 299, in run\n       out = self.coro.send(msg)\n     File \"/Users/flap/Dev/beets/beets/util/pipeline.py\", line 158, in coro\n       task = func(*(args + (task,)))\n     File \"/Users/flap/Dev/beets/beets/importer.py\", line 986, in user_query\n       resolve_duplicates(session, task)\n     File \"/Users/flap/Dev/beets/beets/importer.py\", line 996, in resolve_duplicates\n       if ident in session.seen_idents or task.find_duplicates(session.lib):\n     File \"/Users/flap/Dev/beets/beets/importer.py\", line 456, in find_duplicates\n       for album in lib.albums(duplicate_query):\n     File \"/Users/flap/Dev/beets/beets/dbcore/db.py\", line 514, in __iter__\n       obj = self.model_class._awaken(self.db, values, flex_values)\n     File \"/Users/flap/Dev/beets/beets/dbcore/db.py\", line 121, in _awaken\n       obj._values_fixed[key] = cls._fields[key].normalize(value)\n   KeyError: 'mb_artistid'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/765/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/757", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/757/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/757/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/757/events", "html_url": "https://github.com/beetbox/beets/issues/757", "id": 33265573, "node_id": "MDU6SXNzdWUzMzI2NTU3Mw==", "number": 757, "title": "unicode in windows paths failing in library.py:Item.write", "user": {"login": "t-nil", "id": 936176, "node_id": "MDQ6VXNlcjkzNjE3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/936176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-nil", "html_url": "https://github.com/t-nil", "followers_url": "https://api.github.com/users/t-nil/followers", "following_url": "https://api.github.com/users/t-nil/following{/other_user}", "gists_url": "https://api.github.com/users/t-nil/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-nil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-nil/subscriptions", "organizations_url": "https://api.github.com/users/t-nil/orgs", "repos_url": "https://api.github.com/users/t-nil/repos", "events_url": "https://api.github.com/users/t-nil/events{/privacy}", "received_events_url": "https://api.github.com/users/t-nil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-05-11T16:53:58Z", "updated_at": "2014-07-02T02:22:13Z", "closed_at": "2014-05-21T15:17:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed the beet write command fail with an error message indicating it was not using the magic prefix '\\?\\', which prevented beets from updating media files with unicode symbols in the filename. A simple\n\n``` Python\n356:             mediafile = MediaFile(path)\n```\n\nto\n\n``` Python\n356:             mediafile = MediaFile(syspath(path))\n```\n\nhas fixed the issue for me; since I am in no way a skilled python developer nor am familiar with beets and its infrastructure, I cannot tell if the fix is universal or complete. Please look into it, since it's very frustrating as a german to have beets fail on every \u00f6/\u00e4/\u00fc.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/757/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/741", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/741/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/741/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/741/events", "html_url": "https://github.com/beetbox/beets/issues/741", "id": 32609279, "node_id": "MDU6SXNzdWUzMjYwOTI3OQ==", "number": 741, "title": "web: Can't scroll the information view", "user": {"login": "udiboy1209", "id": 7384411, "node_id": "MDQ6VXNlcjczODQ0MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/7384411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udiboy1209", "html_url": "https://github.com/udiboy1209", "followers_url": "https://api.github.com/users/udiboy1209/followers", "following_url": "https://api.github.com/users/udiboy1209/following{/other_user}", "gists_url": "https://api.github.com/users/udiboy1209/gists{/gist_id}", "starred_url": "https://api.github.com/users/udiboy1209/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udiboy1209/subscriptions", "organizations_url": "https://api.github.com/users/udiboy1209/orgs", "repos_url": "https://api.github.com/users/udiboy1209/repos", "events_url": "https://api.github.com/users/udiboy1209/events{/privacy}", "received_events_url": "https://api.github.com/users/udiboy1209/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-05-01T11:39:22Z", "updated_at": "2014-05-13T05:46:07Z", "closed_at": "2014-05-13T05:46:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\n\nThere is a bug in the `web` plugin which does not let me scroll down the information page for a song. Some of my songs have lyrics stored in the metadata, and the lyrics run out of the page. So I can't scroll the page and view that extra part.\n\nPlease Help! Thank you.\n\nPS. The newlines in lyrics are not correctly shown on the page, but they are correctly shown from the CLI. I think some else has reported this bug, if not I will open a new Issue.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/741/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/732", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/732/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/732/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/732/events", "html_url": "https://github.com/beetbox/beets/issues/732", "id": 32466918, "node_id": "MDU6SXNzdWUzMjQ2NjkxOA==", "number": 732, "title": "replaygain: Quieter logging during import", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "yevgenybezman", "id": 4896059, "node_id": "MDQ6VXNlcjQ4OTYwNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4896059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yevgenybezman", "html_url": "https://github.com/yevgenybezman", "followers_url": "https://api.github.com/users/yevgenybezman/followers", "following_url": "https://api.github.com/users/yevgenybezman/following{/other_user}", "gists_url": "https://api.github.com/users/yevgenybezman/gists{/gist_id}", "starred_url": "https://api.github.com/users/yevgenybezman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yevgenybezman/subscriptions", "organizations_url": "https://api.github.com/users/yevgenybezman/orgs", "repos_url": "https://api.github.com/users/yevgenybezman/repos", "events_url": "https://api.github.com/users/yevgenybezman/events{/privacy}", "received_events_url": "https://api.github.com/users/yevgenybezman/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yevgenybezman", "id": 4896059, "node_id": "MDQ6VXNlcjQ4OTYwNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4896059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yevgenybezman", "html_url": "https://github.com/yevgenybezman", "followers_url": "https://api.github.com/users/yevgenybezman/followers", "following_url": "https://api.github.com/users/yevgenybezman/following{/other_user}", "gists_url": "https://api.github.com/users/yevgenybezman/gists{/gist_id}", "starred_url": "https://api.github.com/users/yevgenybezman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yevgenybezman/subscriptions", "organizations_url": "https://api.github.com/users/yevgenybezman/orgs", "repos_url": "https://api.github.com/users/yevgenybezman/repos", "events_url": "https://api.github.com/users/yevgenybezman/events{/privacy}", "received_events_url": "https://api.github.com/users/yevgenybezman/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-04-29T17:31:32Z", "updated_at": "2014-06-27T16:51:18Z", "closed_at": "2014-06-27T16:51:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since the ReplayGain refactor in #260, the plugin has started logging more. This is useful, but logs from plugins need to be disabled by default during the import process to avoid conflicting with the prompts and the importer candidate display (which comes from a different thread).\n\nIn particular:\n- The `log.info` calls for skipping/analyzing albums/tracks in `handle_album` and `handle_track` need to be silenced during import.\n- The `ReplayGainError`s raised when a file in unsupported (\"ReplayGain backed failed for some tracks in album\" and \"ReplayGain backend failed for track\") in particular [can be confusing to users](https://groups.google.com/d/msg/beets-users/FrpZQCPvUy8/uZO9Yl5ChwcJ). If the backend doesn't support some tracks, it should silently skip them during import.\n\nWays to address this include:\n- Informing the plugin about whether it's running in explicit-command or import-hook mode so it can choose the right logging level. [The lyrics plugin does this.](https://github.com/sampsyo/beets/blob/master/beetsplug/lyrics.py#L484) It's sort of messy.\n- Using a [hierarchical logger](https://docs.python.org/2/library/logging.html#logger-objects) like `beets.lyrics` and setting the child logger to propagate at the DEBUG level in import-hook mode and INFO in explicit-command mode.\n\nI'm assigning to @yevgenybezman since they know the architecture best currently, but I might also get to this at some point.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/732/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/725", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/725/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/725/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/725/events", "html_url": "https://github.com/beetbox/beets/issues/725", "id": 32295183, "node_id": "MDU6SXNzdWUzMjI5NTE4Mw==", "number": 725, "title": "Mark releases with MB type \"compilation\" as compilations", "user": {"login": "flz", "id": 48219, "node_id": "MDQ6VXNlcjQ4MjE5", "avatar_url": "https://avatars.githubusercontent.com/u/48219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flz", "html_url": "https://github.com/flz", "followers_url": "https://api.github.com/users/flz/followers", "following_url": "https://api.github.com/users/flz/following{/other_user}", "gists_url": "https://api.github.com/users/flz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flz/subscriptions", "organizations_url": "https://api.github.com/users/flz/orgs", "repos_url": "https://api.github.com/users/flz/repos", "events_url": "https://api.github.com/users/flz/events{/privacy}", "received_events_url": "https://api.github.com/users/flz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-04-26T18:36:17Z", "updated_at": "2016-11-28T18:01:14Z", "closed_at": "2016-11-28T18:01:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've just imported https://musicbrainz.org/release/2beda690-f988-41f7-a6ed-37e0b34d3db6 and https://musicbrainz.org/release/02c9c809-14d5-430c-b2d3-06f564a849ca and none of those were marked as comp. The artist in MB isn't VA but both are marked as Compilation.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/725/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/712", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/712/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/712/events", "html_url": "https://github.com/beetbox/beets/issues/712", "id": 31854706, "node_id": "MDU6SXNzdWUzMTg1NDcwNg==", "number": 712, "title": "convert: Handle embedded video streams with ffmpeg", "user": {"login": "jwyant", "id": 7349263, "node_id": "MDQ6VXNlcjczNDkyNjM=", "avatar_url": "https://avatars.githubusercontent.com/u/7349263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwyant", "html_url": "https://github.com/jwyant", "followers_url": "https://api.github.com/users/jwyant/followers", "following_url": "https://api.github.com/users/jwyant/following{/other_user}", "gists_url": "https://api.github.com/users/jwyant/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwyant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwyant/subscriptions", "organizations_url": "https://api.github.com/users/jwyant/orgs", "repos_url": "https://api.github.com/users/jwyant/repos", "events_url": "https://api.github.com/users/jwyant/events{/privacy}", "received_events_url": "https://api.github.com/users/jwyant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-04-19T21:15:29Z", "updated_at": "2015-02-17T12:06:43Z", "closed_at": "2015-02-17T12:06:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is happening on a file with an embedded mjpeg stream (whatever that is).  Reproduced the error using:\n\n```\nffmpeg -i ~/music/ActRazer/Classics\\ \\(2012\\)/01\\ Thief.flac -y -acodec alac ~/.music-incoming/alac/test.m4a\n\noutput:\n...\nStream mapping:\n  Stream #0:1 -> #0:0 (mjpeg -> ?)\n  Stream #0:0 -> #0:1 (flac -> alac)\nEncoder (codec none) not found for output stream #0:0\n```\n\nI can get the conversion to work by doing:\n\n```\nffmpeg -i ~/music/ActRazer/Classics\\ \\(2012\\)/01\\ Thief.flac -y -vn -acodec alac ~/.music-incoming/alac/test.m4a\n```\n\nAdding the -vn apparently ignores the video track and it only converts Stream#0:0 (the FLAC stream).\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/712/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/711", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/711/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/711/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/711/events", "html_url": "https://github.com/beetbox/beets/issues/711", "id": 31825274, "node_id": "MDU6SXNzdWUzMTgyNTI3NA==", "number": 711, "title": "lastgenre: always enforce `min_weight` option ", "user": {"login": "Kraymer", "id": 84227, "node_id": "MDQ6VXNlcjg0MjI3", "avatar_url": "https://avatars.githubusercontent.com/u/84227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kraymer", "html_url": "https://github.com/Kraymer", "followers_url": "https://api.github.com/users/Kraymer/followers", "following_url": "https://api.github.com/users/Kraymer/following{/other_user}", "gists_url": "https://api.github.com/users/Kraymer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kraymer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kraymer/subscriptions", "organizations_url": "https://api.github.com/users/Kraymer/orgs", "repos_url": "https://api.github.com/users/Kraymer/repos", "events_url": "https://api.github.com/users/Kraymer/events{/privacy}", "received_events_url": "https://api.github.com/users/Kraymer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-18T21:13:53Z", "updated_at": "2014-05-01T06:52:05Z", "closed_at": "2014-05-01T06:51:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently tags that have a weight < `min_weight` may be kept or not depending on the existence of others fetched tag.  \nTags whose weight < `min_weight` should be ignored regardless of others tags.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/711/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/711/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/697", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/697/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/697/events", "html_url": "https://github.com/beetbox/beets/issues/697", "id": 31696316, "node_id": "MDU6SXNzdWUzMTY5NjMxNg==", "number": 697, "title": "PyGIDeprecationWarning w/ ReplayGain plugin", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "yevgenybezman", "id": 4896059, "node_id": "MDQ6VXNlcjQ4OTYwNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4896059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yevgenybezman", "html_url": "https://github.com/yevgenybezman", "followers_url": "https://api.github.com/users/yevgenybezman/followers", "following_url": "https://api.github.com/users/yevgenybezman/following{/other_user}", "gists_url": "https://api.github.com/users/yevgenybezman/gists{/gist_id}", "starred_url": "https://api.github.com/users/yevgenybezman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yevgenybezman/subscriptions", "organizations_url": "https://api.github.com/users/yevgenybezman/orgs", "repos_url": "https://api.github.com/users/yevgenybezman/repos", "events_url": "https://api.github.com/users/yevgenybezman/events{/privacy}", "received_events_url": "https://api.github.com/users/yevgenybezman/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yevgenybezman", "id": 4896059, "node_id": "MDQ6VXNlcjQ4OTYwNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4896059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yevgenybezman", "html_url": "https://github.com/yevgenybezman", "followers_url": "https://api.github.com/users/yevgenybezman/followers", "following_url": "https://api.github.com/users/yevgenybezman/following{/other_user}", "gists_url": "https://api.github.com/users/yevgenybezman/gists{/gist_id}", "starred_url": "https://api.github.com/users/yevgenybezman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yevgenybezman/subscriptions", "organizations_url": "https://api.github.com/users/yevgenybezman/orgs", "repos_url": "https://api.github.com/users/yevgenybezman/repos", "events_url": "https://api.github.com/users/yevgenybezman/events{/privacy}", "received_events_url": "https://api.github.com/users/yevgenybezman/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2014-04-17T02:26:14Z", "updated_at": "2014-04-17T17:06:13Z", "closed_at": "2014-04-17T17:06:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the newly released Beets version (1.3.5) on Arch Linux x86_64 I get this warning prepending any beet command I run:\n\n```\n/usr/lib/python2.7/site-packages/beetsplug/replaygain.py:275: PyGIDeprecationWarning: Since version 3.11, calling threads_init is no longer needed. See: https://wiki.gnome.org/PyGObject/Threading\n  GObject.threads_init()\n```\n\nWhen searching in this repo for threads_init, the only two results I get are referencing replaygain, so I assume this is an isolated incident. Also, the warning subsides as expected when I disable replaygain in my config.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/697/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/685", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/685/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/685/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/685/events", "html_url": "https://github.com/beetbox/beets/issues/685", "id": 31430913, "node_id": "MDU6SXNzdWUzMTQzMDkxMw==", "number": 685, "title": "Echonest plugin fails when uploading files bigger then 50MB", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-14T02:25:01Z", "updated_at": "2014-04-14T17:37:26Z", "closed_at": "2014-04-14T08:02:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Echonest has a limit of 50MB when uploading files. It's not usually a problem with flac because the file gets transcoded to ogg with a pretty low bitrate and it will rarely be bigger then 50MB. But with an mp3 or ogg that is already bigger then 50MB (pretty common in my library) the plugin tries to upload it and fails with multiple \"echonest: IO error: timed out\" errors. It also prevents analyzing the rest of the library without excluding the problematic files.\n\nPossible solutions:\n- Very easy: skip the file. At least the rest of the library can be analysed\n- Pretty easy: Re-encode the file in ogg if it is bigger then 50MB, even if it is already in a compatible format. If it is still > 50MB skip\n- Less easy: Encode just a part of the file, that might change the results but it will allow even very long tracks (75 minutes ~= 50MB at current bitrate) to be uploaded. I'm not sure this is necessary, or even a good idea.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/685/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/678", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/678/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/678/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/678/events", "html_url": "https://github.com/beetbox/beets/issues/678", "id": 31253464, "node_id": "MDU6SXNzdWUzMTI1MzQ2NA==", "number": 678, "title": "Embedart: IOError: No such file or directory: '...cover.1.jpg'", "user": {"login": "pwenzel", "id": 187949, "node_id": "MDQ6VXNlcjE4Nzk0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/187949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pwenzel", "html_url": "https://github.com/pwenzel", "followers_url": "https://api.github.com/users/pwenzel/followers", "following_url": "https://api.github.com/users/pwenzel/following{/other_user}", "gists_url": "https://api.github.com/users/pwenzel/gists{/gist_id}", "starred_url": "https://api.github.com/users/pwenzel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pwenzel/subscriptions", "organizations_url": "https://api.github.com/users/pwenzel/orgs", "repos_url": "https://api.github.com/users/pwenzel/repos", "events_url": "https://api.github.com/users/pwenzel/events{/privacy}", "received_events_url": "https://api.github.com/users/pwenzel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-10T15:28:24Z", "updated_at": "2014-04-10T18:32:48Z", "closed_at": "2014-04-10T18:32:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran `beet embedart` to embed artwork in all tracks in my library, and it died with the error noted below. \n\nBackground: For some reason, beets named the cover art `cover.1.jpg` in its library, so I manually renamed the file in the _Ghostbusters_ folder to `cover.jpg`. This caused the embedart plugin to die.\n\nRenaming the file back back to `cover.1.jpg` makes the embedart plugin run successfully, but I thought it was worth filing a ticket.\n\n```\nEmbedding album art into Various Artists - Ghostbusters\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 8, in <module>\n    load_entry_point('beets==1.3.4', 'console_scripts', 'beet')()\n  File \"/Library/Python/2.7/site-packages/beets/ui/__init__.py\", line 955, in main\n    _raw_main(args)\n  File \"/Library/Python/2.7/site-packages/beets/ui/__init__.py\", line 946, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Library/Python/2.7/site-packages/beetsplug/embedart.py\", line 88, in embed_func\n    embed_current(lib, decargs(args))\n  File \"/Library/Python/2.7/site-packages/beetsplug/embedart.py\", line 138, in embed_current\n    config['embedart']['maxwidth'].get(int))\n  File \"/Library/Python/2.7/site-packages/beetsplug/embedart.py\", line 35, in _embed\n    data = open(syspath(path), 'rb').read()\nIOError: [Errno 2] No such file or directory: '/Volumes/BigMedia/Beets/Ghostbusters/cover.1.jpg'\n```\n\nI can't tell for sure what version of embedart I'm using, but I installed the latest version of beets 1.3.4 with pip in OSX 10.9.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/678/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/672", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/672/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/672/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/672/events", "html_url": "https://github.com/beetbox/beets/issues/672", "id": 31120686, "node_id": "MDU6SXNzdWUzMTEyMDY4Ng==", "number": 672, "title": "MediaFile: \"other\" image type replaced with \"front\"", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "geigerzaehler", "id": 3919579, "node_id": "MDQ6VXNlcjM5MTk1Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3919579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geigerzaehler", "html_url": "https://github.com/geigerzaehler", "followers_url": "https://api.github.com/users/geigerzaehler/followers", "following_url": "https://api.github.com/users/geigerzaehler/following{/other_user}", "gists_url": "https://api.github.com/users/geigerzaehler/gists{/gist_id}", "starred_url": "https://api.github.com/users/geigerzaehler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geigerzaehler/subscriptions", "organizations_url": "https://api.github.com/users/geigerzaehler/orgs", "repos_url": "https://api.github.com/users/geigerzaehler/repos", "events_url": "https://api.github.com/users/geigerzaehler/events{/privacy}", "received_events_url": "https://api.github.com/users/geigerzaehler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "geigerzaehler", "id": 3919579, "node_id": "MDQ6VXNlcjM5MTk1Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3919579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geigerzaehler", "html_url": "https://github.com/geigerzaehler", "followers_url": "https://api.github.com/users/geigerzaehler/followers", "following_url": "https://api.github.com/users/geigerzaehler/following{/other_user}", "gists_url": "https://api.github.com/users/geigerzaehler/gists{/gist_id}", "starred_url": "https://api.github.com/users/geigerzaehler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geigerzaehler/subscriptions", "organizations_url": "https://api.github.com/users/geigerzaehler/orgs", "repos_url": "https://api.github.com/users/geigerzaehler/repos", "events_url": "https://api.github.com/users/geigerzaehler/events{/privacy}", "received_events_url": "https://api.github.com/users/geigerzaehler/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/6", "html_url": "https://github.com/beetbox/beets/milestone/6", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/6/labels", "id": 620027, "node_id": "MDk6TWlsZXN0b25lNjIwMDI3", "number": 6, "title": "1.3.5", "description": "Small release adding a dependency on enum34.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2014-04-04T04:23:00Z", "updated_at": "2014-04-16T17:27:40Z", "due_on": null, "closed_at": "2014-04-16T17:27:40Z"}, "comments": 2, "created_at": "2014-04-09T00:18:59Z", "updated_at": "2014-04-09T21:52:37Z", "closed_at": "2014-04-09T16:14:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Paging @geigerzaehler: I noticed that MediaFile uses `type_index or 3` in a few places. This is intended to fall back to the index 3 when the type is None, but it accidentally falls back to 3 also when the type is \"other\" (index 0).\n\nPerhaps a simple solution is to have `type_index` always return an integer\u20143 when no type is specified?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/672/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/657", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/657/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/657/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/657/events", "html_url": "https://github.com/beetbox/beets/issues/657", "id": 30906365, "node_id": "MDU6SXNzdWUzMDkwNjM2NQ==", "number": 657, "title": "Convert plugin:  UTF-8 issue?", "user": {"login": "helta", "id": 7171117, "node_id": "MDQ6VXNlcjcxNzExMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7171117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/helta", "html_url": "https://github.com/helta", "followers_url": "https://api.github.com/users/helta/followers", "following_url": "https://api.github.com/users/helta/following{/other_user}", "gists_url": "https://api.github.com/users/helta/gists{/gist_id}", "starred_url": "https://api.github.com/users/helta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/helta/subscriptions", "organizations_url": "https://api.github.com/users/helta/orgs", "repos_url": "https://api.github.com/users/helta/repos", "events_url": "https://api.github.com/users/helta/events{/privacy}", "received_events_url": "https://api.github.com/users/helta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-05T01:46:29Z", "updated_at": "2014-10-25T00:56:22Z", "closed_at": "2014-10-25T00:56:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using Windows 7:\nI try to convert my existing library to mp3 versions using the following config.yaml.\n\n```\ndirectory: C:\\Music\nlibrary: C:\\musiclibrary.blb\nimport:\n    move: yes\nplugins: fetchart embedart web convert\nart_filename: folder \nid3v23: yes\nmatch:\n    strong_rec_thresh: 0.2\n    ignored: missing_tracks unmatched_tracks\npaths:\n    default: $albumartist/$album%aunique{}/$track $title\n    comp: Various Artists/$album%aunique{}/$track $title\nconvert:\n    max_bitrate: 320\n    dest: L:\\mp3\n```\n\nIt will correctly figure out all the files that need to be transcoded, and after I choose yes  , it will begin the process  Here is an abbreviated log that shows that I have run the convert process before, and is now choking on a certain file :\n\n```\nSkipping C:\\Music\\AC_DC\\Black Ice\\03 Big Jack.mp3 (target file exists)\nSkipping C:\\Music\\AC_DC\\Black Ice\\04 Anything Goes.mp3 (target file exists)\nSkipping C:\\Music\\AC_DC\\Black Ice\\05 War Machine.mp3 (target file exists)\nSkipping C:\\Music\\AC_DC\\Black Ice\\06 Smash 'n' Grab.mp3 (target file exists)\nCopying C:\\Music\\AC_DC\\Black Ice\\07 Spoilin' for a Fight.mp3\nCopying C:\\Music\\AC_DC\\Black Ice\\08 Wheels.mp3\nCopying C:\\Music\\AC_DC\\Black Ice\\09 Decibel.mp3\nEncoding C:\\Music\\AC_DC\\Back in Black\\10 Rock and Roll Ain\u0393\u00c7\u00d6t Noise Pollution.flac failed. Cleaning up...\nSending event: write\nSending event: write\nEmbedding album art.\nSending event: write\nSending event: write\nEmbedding album art.\nEmbedding album art.\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\beets\\library.py\", line 379, in write\n    f = MediaFile(syspath(self.path))\n  File \"C:\\Python27\\lib\\site-packages\\beets\\mediafile.py\", line 879, in __init__\n    self.mgfile = mutagen.File(path)\n  File \"C:\\Python27\\lib\\site-packages\\mutagen\\__init__.py\", line 247, in File\n    fileobj = open(filename, \"rb\")\nIOError: [Errno 2] No such file or directory: u'\\\\\\\\?\\\\L:\\\\mp3\\\\AC_DC\\\\Back in Black\\\\10 Rock and Roll Ain\\u2019t Noise\nPollution.mp3'\n\nError: No such file or directory while reading 'L:\\\\mp3\\\\AC_DC\\\\Back in Black\\\\10 Rock and Roll Ain\\xe2\\x80\\x99t Noise Pollution.mp3'\n```\n\nIf I try to run the convert plugin on that specific file I get:\n\n```\nC:\\ffmpeg\\bin>beet -v convert \"c:\\music\\AC_DC\\Back in Black\\10 Rock and Roll Ain't Noise Pollution.flac\"\ndata directory: C:\\Users\\xbmc\\AppData\\Roaming\\beets\nlibrary database: C:\\musiclibrary.blb\nlibrary directory: C:\\Music\nTraceback (most recent call last):\n  File \"C:\\Python27\\Scripts\\beet-script.py\", line 9, in <module>\n    load_entry_point('beets==1.3.3', 'console_scripts', 'beet')()\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 946, in main\n    _raw_main(args)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 937, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"C:\\Python27\\lib\\site-packages\\beetsplug\\convert.py\", line 236, in convert_func\n    ui.commands.list_items(lib, ui.decargs(args), opts.album, None)\n  File \"C:\\Python27\\lib\\site-packages\\beets\\ui\\__init__.py\", line 95, in decargs\n    return [s.decode(_encoding()) for s in arglist]\n  File \"C:\\Python27\\lib\\encodings\\utf_8.py\", line 16, in decode\n    return codecs.utf_8_decode(input, errors, True)\nUnicodeDecodeError: 'utf8' codec can't decode byte 0x92 in position 49: invalid start byte\n```\n\nYou can download the problem file here:\nhttps://dl.dropboxusercontent.com/u/54794753/10%20Rock%20and%20Roll%20Ain%E2%80%99t%20Noise%20Pollution.flac\n\nAny ideas?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/657/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/655", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/655/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/655/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/655/events", "html_url": "https://github.com/beetbox/beets/issues/655", "id": 30885692, "node_id": "MDU6SXNzdWUzMDg4NTY5Mg==", "number": 655, "title": "Can't run tests on cygwin", "user": {"login": "yevgenybezman", "id": 4896059, "node_id": "MDQ6VXNlcjQ4OTYwNTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4896059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yevgenybezman", "html_url": "https://github.com/yevgenybezman", "followers_url": "https://api.github.com/users/yevgenybezman/followers", "following_url": "https://api.github.com/users/yevgenybezman/following{/other_user}", "gists_url": "https://api.github.com/users/yevgenybezman/gists{/gist_id}", "starred_url": "https://api.github.com/users/yevgenybezman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yevgenybezman/subscriptions", "organizations_url": "https://api.github.com/users/yevgenybezman/orgs", "repos_url": "https://api.github.com/users/yevgenybezman/repos", "events_url": "https://api.github.com/users/yevgenybezman/events{/privacy}", "received_events_url": "https://api.github.com/users/yevgenybezman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-04T19:00:22Z", "updated_at": "2014-04-17T16:51:27Z", "closed_at": "2014-04-17T16:51:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The common module tries to rmtree the temporary directory created for each test.\nSince the library file is still open, and Windows doesn't allow deleting an open file, this fails.\nAdding True as the second argument (ignore errors) fixes the problem (tests pass, directory not deleted). A more thorough fix is needed.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/655/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/632", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/632/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/632/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/632/events", "html_url": "https://github.com/beetbox/beets/issues/632", "id": 30223533, "node_id": "MDU6SXNzdWUzMDIyMzUzMw==", "number": 632, "title": "Artist Aliases being used instead of Artist Name", "user": {"login": "fortes", "id": 5181, "node_id": "MDQ6VXNlcjUxODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fortes", "html_url": "https://github.com/fortes", "followers_url": "https://api.github.com/users/fortes/followers", "following_url": "https://api.github.com/users/fortes/following{/other_user}", "gists_url": "https://api.github.com/users/fortes/gists{/gist_id}", "starred_url": "https://api.github.com/users/fortes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fortes/subscriptions", "organizations_url": "https://api.github.com/users/fortes/orgs", "repos_url": "https://api.github.com/users/fortes/repos", "events_url": "https://api.github.com/users/fortes/events{/privacy}", "received_events_url": "https://api.github.com/users/fortes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-03-26T15:48:32Z", "updated_at": "2014-07-23T16:04:04Z", "closed_at": "2014-03-26T20:22:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I just did an `mbsync` and found some weird behavior: A few of my albums have had their Album Artist set to an alias. \n\nSpecifically, Bombay Bicycle Club is now \"The Canals\", which is an old name that artist used almost 10 years ago.\n\nLooking at [the XML](http://musicbrainz.org/ws/2/release/fdb5dce3-e135-4d3e-ac52-b6cb0abb2e7c?inc=artists+artist-credits+recordings+aliases), it looks like beets is picking up the value from the artist `alias-list`. I assume this isn't by design?\n\nI've seen this happen with a few other artists, such as Moby, which ends up being written out as \"DJ Moby\" (an alias present in [the XML](http://musicbrainz.org/ws/2/release/679841df-599d-402f-9f89-0d0bb6e94368?inc=artists+artist-credits+recordings+aliases)), so it's not new behavior as far as I can tell.\n\nLooking at [the code](https://github.com/sampsyo/beets/blob/master/beets/autotag/mb.py#L90), the issue seems to be in the `_preferred_alias` function:\n\n``` python\n    # Search configured locales in order.\n    for locale in config['import']['languages'].as_str_seq():\n        # Find matching aliases for this locale.\n        matches = [a for a in aliases if a['locale'] == locale]\n        # Skip to the next locale if we have no matches\n        if not matches:\n            continue\n\n        # Find the aliases that have the primary flag set.\n        primaries = [a for a in matches if 'primary' in a]\n        # Take the primary if we have it, otherwise take the first\n        # match with the correct locale.\n        if primaries:\n            return primaries[0]\n        else:\n            return matches[0]\n```\n\nPerhaps MusicBrainz used to set `primary` on the alias entries, but it doesn't seem to be present in the albums I've checked. \n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/632/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/628", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/628/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/628/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/628/events", "html_url": "https://github.com/beetbox/beets/issues/628", "id": 30095184, "node_id": "MDU6SXNzdWUzMDA5NTE4NA==", "number": 628, "title": "Replaygain tags set but always 0", "user": {"login": "bossanova808", "id": 731309, "node_id": "MDQ6VXNlcjczMTMwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/731309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bossanova808", "html_url": "https://github.com/bossanova808", "followers_url": "https://api.github.com/users/bossanova808/followers", "following_url": "https://api.github.com/users/bossanova808/following{/other_user}", "gists_url": "https://api.github.com/users/bossanova808/gists{/gist_id}", "starred_url": "https://api.github.com/users/bossanova808/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bossanova808/subscriptions", "organizations_url": "https://api.github.com/users/bossanova808/orgs", "repos_url": "https://api.github.com/users/bossanova808/repos", "events_url": "https://api.github.com/users/bossanova808/events{/privacy}", "received_events_url": "https://api.github.com/users/bossanova808/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/8", "html_url": "https://github.com/beetbox/beets/milestone/8", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/8/labels", "id": 620035, "node_id": "MDk6TWlsZXN0b25lNjIwMDM1", "number": 8, "title": "MediaFile++", "description": "A few core refactors and improvements for beets' tag-writing layer.\r\n\r\nThis might be a good time to split off the MediaFile project as a separate library, in which case this would probably be beets 1.4.0.", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 5, "closed_issues": 11, "state": "open", "created_at": "2014-04-04T04:39:49Z", "updated_at": "2020-07-18T23:41:24Z", "due_on": null, "closed_at": null}, "comments": 24, "created_at": "2014-03-25T03:50:11Z", "updated_at": "2016-01-24T16:00:27Z", "closed_at": "2016-01-24T16:00:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ok, so I am using latest stable beets, on Win 7 64 and have installed the various bits all easily enough (including fpcalc, gstreamer etc).\n\nAll is going well, but when I import albums, the verbose log only says this about replaygain:\n\n```\nreplaygain: analyzing 10 files\nreplaygain: analysis finished\n```\n\n...however the resulting tags and tracks are always zero, both track and album tags.\n\nconfig.yaml being used is:\n\n```\nlibrary: C:\\Utilities\\beets\\library.db\ndirectory: F:\\TestOut\nimport:\n    copy: yes\n    write: yes\n    resume: ask\n    quiet_fallback: skip\n    timid: no\n    log: beets.log\nignore: .AppleDouble ._* *~ .DS_Store\nart_filename: folder\noriginal_date: yes\nplugins: scrub chroma lyrics fetchart embedart replaygain ftintitle missing \nthreaded: yes\ncolor: yes\nid3v23: yes\npaths:\n    default: $albumartist/$year - $album%aunique{}/$track $title\n    singleton: Singletons/$year/$artist - $title\n    comp: Various Artists/$year - $album%aunique{}/$track $title (by $artist)\nlastgenre:\n    count: 3\nreplaygain:\n    overwrite: yes\n    albumgain: yes\n    command: C:/Utilities/mp3gain/mp3gain.exe\nfetchart:\n    cautious: true\n    cover_names: front back cover folder\n```\n\nI saw someone else on the IRC log talking about this (called it 'flat replaygain' IIRC).  Same issue, also windows I think - was back in January sometime.\n\nAm happy to help however I can...would love to get an auto importing/tag fixing system going on but RG is a very important part of this for me :)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/628/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/610", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/610/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/610/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/610/events", "html_url": "https://github.com/beetbox/beets/issues/610", "id": 29360480, "node_id": "MDU6SXNzdWUyOTM2MDQ4MA==", "number": 610, "title": "No such file or directory in importfeeds plugin", "user": {"login": "dokterbob", "id": 22742, "node_id": "MDQ6VXNlcjIyNzQy", "avatar_url": "https://avatars.githubusercontent.com/u/22742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dokterbob", "html_url": "https://github.com/dokterbob", "followers_url": "https://api.github.com/users/dokterbob/followers", "following_url": "https://api.github.com/users/dokterbob/following{/other_user}", "gists_url": "https://api.github.com/users/dokterbob/gists{/gist_id}", "starred_url": "https://api.github.com/users/dokterbob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dokterbob/subscriptions", "organizations_url": "https://api.github.com/users/dokterbob/orgs", "repos_url": "https://api.github.com/users/dokterbob/repos", "events_url": "https://api.github.com/users/dokterbob/events{/privacy}", "received_events_url": "https://api.github.com/users/dokterbob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-03-13T15:32:52Z", "updated_at": "2014-03-19T16:30:26Z", "closed_at": "2014-03-19T16:30:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "During an import I got the following exception:\n\n``` python\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.3', 'console_scripts', 'beet')()\n  File \"/Users/drbob/Development/beets/beets/ui/__init__.py\", line 946, in main\n    _raw_main(args)\n  File \"/Users/drbob/Development/beets/beets/ui/__init__.py\", line 937, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Users/drbob/Development/beets/beets/ui/commands.py\", line 843, in import_func\n    import_files(lib, paths, query)\n  File \"/Users/drbob/Development/beets/beets/ui/commands.py\", line 779, in import_files\n    session.run()\n  File \"/Users/drbob/Development/beets/beets/importer.py\", line 347, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/Users/drbob/Development/beets/beets/util/pipeline.py\", line 288, in run\n    self.coro.send(msg)\n  File \"/Users/drbob/Development/beets/beets/importer.py\", line 927, in finalize\n    lib=session.lib, album=album)\n  File \"/Users/drbob/Development/beets/beets/plugins.py\", line 372, in send\n    handler(**arguments)\n  File \"/Users/drbob/Development/beets/beetsplug/importfeeds.py\", line 127, in album_imported\n    _record_items(lib, album.album, album.items())\n  File \"/Users/drbob/Development/beets/beetsplug/importfeeds.py\", line 112, in _record_items\n    _write_m3u(m3u_path, paths)\n  File \"/Users/drbob/Development/beets/beetsplug/importfeeds.py\", line 81, in _write_m3u\n    with open(syspath(m3u_path), 'a') as f:\nIOError: [Errno 2] No such file or directory: '/Users/drbob/Music/beets/Imports/20140313_16h26_Poor_Boy_/_Lucky_Man.m3u'\n```\n\nThe full album name is: 'Asaf Avidan & The Mojos - Poor Boy / Lucky Man' (note the _/_).\n\nThe most logical explanation seems to be the `/` in the file title. I suppose the import feed name should make use of substitutions as per the `replace` configuration option.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/610/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/610/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/587", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/587/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/587/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/587/events", "html_url": "https://github.com/beetbox/beets/issues/587", "id": 29012581, "node_id": "MDU6SXNzdWUyOTAxMjU4MQ==", "number": 587, "title": "discogs: disc field is set to zero", "user": {"login": "l-t-k", "id": 3150962, "node_id": "MDQ6VXNlcjMxNTA5NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3150962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l-t-k", "html_url": "https://github.com/l-t-k", "followers_url": "https://api.github.com/users/l-t-k/followers", "following_url": "https://api.github.com/users/l-t-k/following{/other_user}", "gists_url": "https://api.github.com/users/l-t-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/l-t-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l-t-k/subscriptions", "organizations_url": "https://api.github.com/users/l-t-k/orgs", "repos_url": "https://api.github.com/users/l-t-k/repos", "events_url": "https://api.github.com/users/l-t-k/events{/privacy}", "received_events_url": "https://api.github.com/users/l-t-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-03-08T02:03:51Z", "updated_at": "2016-10-19T12:59:03Z", "closed_at": "2016-10-19T12:59:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Releases coming from MB with only a single disc are tagged in a correct way (to my view) like: 1/1. However, when using the discogs plugin for releases from discogs the disc field of a single disc album is set to 0/1.\n\nWhat is exactly going wrong here? Is it just a mistake within the plugin or is it the discogs database serving the wrong 0/1 disc tag? And, is there a workaround to avoid this and have it tagged in the correct way like MB does as 1/1?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/587/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/585", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/585/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/585/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/585/events", "html_url": "https://github.com/beetbox/beets/issues/585", "id": 28924028, "node_id": "MDU6SXNzdWUyODkyNDAyOA==", "number": 585, "title": "fetchart: Send User-Agent header to albumart.org", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "johtso", "id": 830800, "node_id": "MDQ6VXNlcjgzMDgwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/830800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johtso", "html_url": "https://github.com/johtso", "followers_url": "https://api.github.com/users/johtso/followers", "following_url": "https://api.github.com/users/johtso/following{/other_user}", "gists_url": "https://api.github.com/users/johtso/gists{/gist_id}", "starred_url": "https://api.github.com/users/johtso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johtso/subscriptions", "organizations_url": "https://api.github.com/users/johtso/orgs", "repos_url": "https://api.github.com/users/johtso/repos", "events_url": "https://api.github.com/users/johtso/events{/privacy}", "received_events_url": "https://api.github.com/users/johtso/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johtso", "id": 830800, "node_id": "MDQ6VXNlcjgzMDgwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/830800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johtso", "html_url": "https://github.com/johtso", "followers_url": "https://api.github.com/users/johtso/followers", "following_url": "https://api.github.com/users/johtso/following{/other_user}", "gists_url": "https://api.github.com/users/johtso/gists{/gist_id}", "starred_url": "https://api.github.com/users/johtso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johtso/subscriptions", "organizations_url": "https://api.github.com/users/johtso/orgs", "repos_url": "https://api.github.com/users/johtso/repos", "events_url": "https://api.github.com/users/johtso/events{/privacy}", "received_events_url": "https://api.github.com/users/johtso/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2014-03-06T23:10:06Z", "updated_at": "2014-03-09T18:43:51Z", "closed_at": "2014-03-09T18:43:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As reported by tz on IRC, albumart.org appears to be filtering our requests now. By reporting our User-Agent as \"beets\", we can apparently coax a correct response.\n\nQuick patch: http://pastie.org/8884896\n\nAlthough this might be the right time to move the plugin to [requests](http://www.python-requests.org/) (especially for exception handling).\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/585/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/571", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/571/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/571/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/571/events", "html_url": "https://github.com/beetbox/beets/issues/571", "id": 28705546, "node_id": "MDU6SXNzdWUyODcwNTU0Ng==", "number": 571, "title": "scrub: Restore album art during automatic scrubbing", "user": {"login": "l-t-k", "id": 3150962, "node_id": "MDQ6VXNlcjMxNTA5NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3150962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l-t-k", "html_url": "https://github.com/l-t-k", "followers_url": "https://api.github.com/users/l-t-k/followers", "following_url": "https://api.github.com/users/l-t-k/following{/other_user}", "gists_url": "https://api.github.com/users/l-t-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/l-t-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l-t-k/subscriptions", "organizations_url": "https://api.github.com/users/l-t-k/orgs", "repos_url": "https://api.github.com/users/l-t-k/repos", "events_url": "https://api.github.com/users/l-t-k/events{/privacy}", "received_events_url": "https://api.github.com/users/l-t-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-03-04T13:41:26Z", "updated_at": "2016-01-26T18:54:21Z", "closed_at": "2016-01-26T18:54:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As mentioned earlier, the scrub plugin removes the embedded art file from the tags. An option to enable / disable this behaviour would be great!\n\nI'm running beets 1.3.3\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/571/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/570", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/570/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/570/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/570/events", "html_url": "https://github.com/beetbox/beets/issues/570", "id": 28701779, "node_id": "MDU6SXNzdWUyODcwMTc3OQ==", "number": 570, "title": "NoneType error when running with -g ", "user": {"login": "poolski", "id": 1942093, "node_id": "MDQ6VXNlcjE5NDIwOTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1942093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poolski", "html_url": "https://github.com/poolski", "followers_url": "https://api.github.com/users/poolski/followers", "following_url": "https://api.github.com/users/poolski/following{/other_user}", "gists_url": "https://api.github.com/users/poolski/gists{/gist_id}", "starred_url": "https://api.github.com/users/poolski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poolski/subscriptions", "organizations_url": "https://api.github.com/users/poolski/orgs", "repos_url": "https://api.github.com/users/poolski/repos", "events_url": "https://api.github.com/users/poolski/events{/privacy}", "received_events_url": "https://api.github.com/users/poolski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-03-04T12:36:15Z", "updated_at": "2014-03-05T15:49:17Z", "closed_at": "2014-03-04T16:13:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run Beets in Group Album mode, I get this error. I can't figure out quite what causes it - whether it's a weird combination of album/tags/whatever\n\nmy  config:\n\n``` yaml\ndirectory: ~/beets/music/\nlibrary: ~/beets/musiclibrary.blb\n\nplugins: fetchart lastgenre discogs\n\nimport: \n  incremental: yes\n  quiet_fallback: asis\n  log: ~/beets/beets.log\n\nlastgenre:\n  min_weight: 30\n\nreplaygain: \n  overwrite: yes\n\nmatch:\n  strong_rec_thresh: 0.30\n  ignored: missing_tracks\n\npaths:\n  default: '$genre/$artist/$artist - $title'\n  singleton: '$genre/$artist/$artist - $title'\n  comp: '$genre/$artist/$artist - $title'\n```\n\nError: \n\n``` python\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.3', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 946, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 937, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 843, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 779, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 347, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 288, in run\n    self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 952, in finalize\n    task.save_history()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 458, in save_history\n    history_add(self.paths)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 210, in history_add\n    state[HISTORY_KEY].add(tuple(paths))\nTypeError: 'NoneType' object is not iterable\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/570/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/568", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/568/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/568/events", "html_url": "https://github.com/beetbox/beets/issues/568", "id": 28673813, "node_id": "MDU6SXNzdWUyODY3MzgxMw==", "number": 568, "title": "Cleanly recover when mp3gain crashes:", "user": {"login": "wting", "id": 622170, "node_id": "MDQ6VXNlcjYyMjE3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/622170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wting", "html_url": "https://github.com/wting", "followers_url": "https://api.github.com/users/wting/followers", "following_url": "https://api.github.com/users/wting/following{/other_user}", "gists_url": "https://api.github.com/users/wting/gists{/gist_id}", "starred_url": "https://api.github.com/users/wting/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wting/subscriptions", "organizations_url": "https://api.github.com/users/wting/orgs", "repos_url": "https://api.github.com/users/wting/repos", "events_url": "https://api.github.com/users/wting/events{/privacy}", "received_events_url": "https://api.github.com/users/wting/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-03-04T01:50:18Z", "updated_at": "2015-12-31T05:37:01Z", "closed_at": "2015-12-31T05:37:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` shell\n/home/ting/media/inbox/music/Nujabes/Nujabes/Ristorante Mixtape/Side B (15 items)\nFinding tags for album \"Nujabes - Ristorante Mixtape\".\nCandidates:\n1. Nujabes - Good Music Cuisine: Ristorante Nujabes (39.1%) (missing tracks, tracks, album) (2xDigital Media, 2004, XW, Hyde Out Recordings)\n2. Nujabes - Metaphorical Music (30.9%) (tracks, album) (CD, 2003, JP, Dimid Recordings)\n3. Nujabes - Next View (29.4%) (unmatched tracks, tracks, album) (7\" Vinyl, 2003, JP, Hyde Out Recordings)\n4. Nujabes - Luv(sic) Part 5 (24.5%) (unmatched tracks, tracks, album) (Digital Media, 2012, JP, Hyde Out Recordings)\n5. Nujabes - Good Music Cuisine: Ristorante Nujabes (22.8%) (tracks, missing tracks, album) (Cassette, 2002, JP, Hyde Out Recordings)\n# selection (default 1), Skip, Use as-is, as Tracks, Group albums,\nEnter search, enter Id, aBort? U\nThis album is already in the library!\n[S]kip new, Keep both, Remove old? R\nreplaygain: analysis failed (mp3gain exited with status 1)\nTraceback (most recent call last):\n  File \"/home/ting/.virtualenvs/beets/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.3', 'console_scripts', 'beet')()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 946, in main\n    _raw_main(args)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 937, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 843, in import_func\n    import_files(lib, paths, query)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 779, in import_files\n    session.run()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 347, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 243, in run\n    out = self.coro.send(msg)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/importer.py\", line 838, in plugin_stage\n    item.load()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/dbcore/db.py\", line 304, in load\n    self.update(dict(stored_obj))\nTypeError: 'NoneType' object is not iterable\n\u256d\u2500ting@noa ~  \u2039python-2.7.3\u203a \u2039beets\u203a  \n\u2570\u2500\u27a4                                          \n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/568/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/567", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/567/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/567/events", "html_url": "https://github.com/beetbox/beets/issues/567", "id": 28673435, "node_id": "MDU6SXNzdWUyODY3MzQzNQ==", "number": 567, "title": "Nicer error when $BEETSDIR points to a file", "user": {"login": "wting", "id": 622170, "node_id": "MDQ6VXNlcjYyMjE3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/622170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wting", "html_url": "https://github.com/wting", "followers_url": "https://api.github.com/users/wting/followers", "following_url": "https://api.github.com/users/wting/following{/other_user}", "gists_url": "https://api.github.com/users/wting/gists{/gist_id}", "starred_url": "https://api.github.com/users/wting/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wting/subscriptions", "organizations_url": "https://api.github.com/users/wting/orgs", "repos_url": "https://api.github.com/users/wting/repos", "events_url": "https://api.github.com/users/wting/events{/privacy}", "received_events_url": "https://api.github.com/users/wting/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-03-04T01:41:03Z", "updated_at": "2014-03-04T16:31:02Z", "closed_at": "2014-03-04T16:31:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` shell\n\u256d\u2500ting@noa ~  \u2039python-2.7.3\u203a \u2039beets\u203a  \n\u2570\u2500\u27a4  echo $BEETSDIR                                                                                                                         1 \u21b5 2014.03.03 19:36:31 CST \n/home/ting/custom/beets/config.yaml\n\u256d\u2500ting@noa ~  \u2039python-2.7.3\u203a \u2039beets\u203a  \n\u2570\u2500\u27a4  cat `echo $BEETSDIR`                                                                                                                       2014.03.03 19:36:50 CST \ndirectory: ~/media/music\nlibrary: ~/.local/share/beets.blb\n\nimport:\n    resume: ask\n    move: yes\n    write: yes\n    timid: no\n    log: beetslog.log\n\nignore: .AppleDouble ._* *~ .DS_Store\nart_filename: albumart\nplugins: replaygain\npluginpath: ~/.local/share/beets/plugins\nthreaded: yes\ncolor: yes\n\npaths:\n    default: $albumartist/$album/$track - $title\n    singleton: $artist/$title\n    comp: Compilations/$album/$track - $title\n\u256d\u2500ting@noa ~  \u2039python-2.7.3\u203a \u2039beets\u203a  \n\u2570\u2500\u27a4  beet import ~/media/inbox/music                                                                                                            2014.03.03 19:36:53 CST \nTraceback (most recent call last):\n  File \"/home/ting/.virtualenvs/beets/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.3', 'console_scripts', 'beet')()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 946, in main\n    _raw_main(args)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 901, in _raw_main\n    subcommand, suboptions, subargs = _configure(args)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 858, in _configure\n    migrate.automigrate()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/migrate.py\", line 361, in automigrate\n    db_fn = migrate_db()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/ui/migrate.py\", line 310, in migrate_db\n    destfn = beets.config['library'].as_filename()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 342, in as_filename\n    path, source = self.first()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 165, in first\n    return iter_first(pairs)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 59, in iter_first\n    return it.next()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 456, in resolve\n    for collection, source in self.parent.resolve():\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 719, in resolve\n    self.read()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 714, in read\n    super(LazyConfig, self).read(user, defaults)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 660, in read\n    self._add_user_source()\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 637, in _add_user_source\n    filename = os.path.join(self.config_dir(), CONFIG_FILENAME)\n  File \"/home/ting/.virtualenvs/beets/local/lib/python2.7/site-packages/beets/util/confit.py\", line 690, in config_dir\n    os.makedirs(appdir)\n  File \"/home/ting/.virtualenvs/beets/lib/python2.7/os.py\", line 157, in makedirs\n    mkdir(name, mode)\nOSError: [Errno 17] File exists: '/home/ting/custom/beets/config.yaml'\n\u256d\u2500ting@noa ~  \u2039python-2.7.3\u203a \u2039beets\u203a  \n\u2570\u2500\u27a4                                                                                                                                         1 \u21b5 2014.03.03 19:37:04 CST \n```\n\nIt works fine once I remove `$BEETSDIR` from my `~/.zshrc` and manually run `beet --config=$HOME/custom/beets/config.yaml import ~/media/inbox/music`.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/567/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/563", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/563/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/563/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/563/events", "html_url": "https://github.com/beetbox/beets/issues/563", "id": 28585347, "node_id": "MDU6SXNzdWUyODU4NTM0Nw==", "number": 563, "title": "duplicate plugin fails for files with ' in", "user": {"login": "drsm79", "id": 104090, "node_id": "MDQ6VXNlcjEwNDA5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/104090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drsm79", "html_url": "https://github.com/drsm79", "followers_url": "https://api.github.com/users/drsm79/followers", "following_url": "https://api.github.com/users/drsm79/following{/other_user}", "gists_url": "https://api.github.com/users/drsm79/gists{/gist_id}", "starred_url": "https://api.github.com/users/drsm79/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drsm79/subscriptions", "organizations_url": "https://api.github.com/users/drsm79/orgs", "repos_url": "https://api.github.com/users/drsm79/repos", "events_url": "https://api.github.com/users/drsm79/events{/privacy}", "received_events_url": "https://api.github.com/users/drsm79/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-03-02T18:44:48Z", "updated_at": "2014-03-02T21:47:41Z", "closed_at": "2014-03-02T21:09:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Say I have a track called: `Music/02 Vessel - Marvin's Joint.mp3` - running `beet dup -C \"ffmpeg -i {file} -f crc -\"` fails with:\n\n<code>\nTraceback (most recent call last):\n  File \"/Users/7ams/venv/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.3', 'console_scripts', 'beet')()\n  File \"/Users/7ams/venv/lib/python2.7/site-packages/beets/ui/**init**.py\", line 946, in main\n    _raw_main(args)\n  File \"/Users/7ams/venv/lib/python2.7/site-packages/beets/ui/__init__.py\", line 937, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Users/7ams/venv/lib/python2.7/site-packages/beetsplug/duplicates.py\", line 209, in _dup\n    k, _ = _checksum(i, checksum)\n  File \"/Users/7ams/venv/lib/python2.7/site-packages/beetsplug/duplicates.py\", line 58, in _checksum\n    args = shlex.split(prog.format(file=item.path))\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shlex.py\", line 279, in split\n    return list(lex)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shlex.py\", line 269, in next\n    token = self.get_token()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shlex.py\", line 96, in get_token\n    raw = self.read_token()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shlex.py\", line 172, in read_token\n    raise ValueError, \"No closing quotation\"\n</code>\n\n(I have a large, partially duplicated music collection that I want to clean up)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/563/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/542", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/542/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/542/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/542/events", "html_url": "https://github.com/beetbox/beets/issues/542", "id": 27644233, "node_id": "MDU6SXNzdWUyNzY0NDIzMw==", "number": 542, "title": "Resolve some time zone weirdness in date queries", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": {"login": "silb", "id": 405918, "node_id": "MDQ6VXNlcjQwNTkxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/405918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silb", "html_url": "https://github.com/silb", "followers_url": "https://api.github.com/users/silb/followers", "following_url": "https://api.github.com/users/silb/following{/other_user}", "gists_url": "https://api.github.com/users/silb/gists{/gist_id}", "starred_url": "https://api.github.com/users/silb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silb/subscriptions", "organizations_url": "https://api.github.com/users/silb/orgs", "repos_url": "https://api.github.com/users/silb/repos", "events_url": "https://api.github.com/users/silb/events{/privacy}", "received_events_url": "https://api.github.com/users/silb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "silb", "id": 405918, "node_id": "MDQ6VXNlcjQwNTkxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/405918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silb", "html_url": "https://github.com/silb", "followers_url": "https://api.github.com/users/silb/followers", "following_url": "https://api.github.com/users/silb/following{/other_user}", "gists_url": "https://api.github.com/users/silb/gists{/gist_id}", "starred_url": "https://api.github.com/users/silb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silb/subscriptions", "organizations_url": "https://api.github.com/users/silb/orgs", "repos_url": "https://api.github.com/users/silb/repos", "events_url": "https://api.github.com/users/silb/events{/privacy}", "received_events_url": "https://api.github.com/users/silb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2014-02-15T07:10:33Z", "updated_at": "2014-02-22T07:58:12Z", "closed_at": "2014-02-22T07:58:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I ran into some issues today when attempting to find some items by the specific day that they were added. Specifically, it looks like there is a mismatch between the time zones of the timestamps used for the query bounds and hose used for added dates in the database. My guess is that we need `fromtimestamp` where we have `utcfromtimestamp` or vice-versa.\n\nPaging @silb, who might have a better idea of what to do here. (But depending on how close you live to UTC, you might not even have noticed!) I'll look into it also, but if you can figure out what needs to be fixed here, please go ahead and resolve.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/542/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/536", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/536/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/536/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/536/events", "html_url": "https://github.com/beetbox/beets/issues/536", "id": 27318877, "node_id": "MDU6SXNzdWUyNzMxODg3Nw==", "number": 536, "title": "beet version prints echonest twice ", "user": {"login": "dfc", "id": 129725, "node_id": "MDQ6VXNlcjEyOTcyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/129725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfc", "html_url": "https://github.com/dfc", "followers_url": "https://api.github.com/users/dfc/followers", "following_url": "https://api.github.com/users/dfc/following{/other_user}", "gists_url": "https://api.github.com/users/dfc/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfc/subscriptions", "organizations_url": "https://api.github.com/users/dfc/orgs", "repos_url": "https://api.github.com/users/dfc/repos", "events_url": "https://api.github.com/users/dfc/events{/privacy}", "received_events_url": "https://api.github.com/users/dfc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-02-11T01:27:48Z", "updated_at": "2014-02-11T06:09:26Z", "closed_at": "2014-02-11T06:08:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running 1.3.2 with my config appended. if I do not enable the echonest plugin beet version operates like you would expect:\n\n```\n$ beet version\nbeets version 1.3.2\nplugins: chroma, fromfilename, fetchart\n```\n\nIf I switch the commented plugin line to enable echonest beet version prints echonest twice:\n\n```\n$ beet version\nbeets version 1.3.2\nplugins: chroma, fromfilename, fetchart, echonest, echonest \n```\n\nMy conig is: \n\n```\ndirectory: ~/MyTunes\nlibrary: ~/.beets/musiclibrary.db\n\n#plugins: chroma fromfilename fetchart\nplugins:  chroma fromfilename fetchart echonest\n\nimport:\n    move: yes\n    quiet_fallback: skip\n    log:    ~/.beets/imported-beets.log\n\npaths:\n    default: $albumartist/$album%aunique{}/$track $title\n    singleton: 0xSingles/$genre/$artist/$title\n    comp: 0xCompilations/$genre/$album%aunique{}/$track $title\n\nfetchart:\n    cautious: true\n\nechonest:\n    upload: no\n    convert: no\n    apikey: XXXXXXXX\n\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/536/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/533", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/533/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/533/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/533/events", "html_url": "https://github.com/beetbox/beets/issues/533", "id": 27220821, "node_id": "MDU6SXNzdWUyNzIyMDgyMQ==", "number": 533, "title": "fetchart remote_priority", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-02-09T11:03:45Z", "updated_at": "2014-02-10T00:14:04Z", "closed_at": "2014-02-10T00:12:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "from reading the documentation it is my understanding that this means the web is searched even if there is a local source, and if no art is found on the web, the local source is used. Actual observed behaviour when this is true is the local source gets ignored. Limited programming experience but it seems out is overwritten even if fetchimage returns none.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/533/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/529", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/529/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/529/events", "html_url": "https://github.com/beetbox/beets/issues/529", "id": 27097000, "node_id": "MDU6SXNzdWUyNzA5NzAwMA==", "number": 529, "title": "mpdstats: last_played is documented but not implemented", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-02-06T23:39:10Z", "updated_at": "2014-02-11T17:51:46Z", "closed_at": "2014-02-11T17:51:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As pointed out [on the mailing list](https://groups.google.com/d/msg/beets-users/VW0pxtCVZG4/sq9gGsNS9zEJ), the mpdstats plugin (paging @pscn and @kljohann) does not seem to set the `last_played` field, even though the field is described in [the plugin's docs](http://beets.readthedocs.org/en/v1.3.2/plugins/mpdstats.html). Grepping in mpdstats.py for \"last_played\" shows that doesn't seem to be implemented. We should probably either add it to the plugin or remove it from the docs.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/529/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/522", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/522/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/522/events", "html_url": "https://github.com/beetbox/beets/issues/522", "id": 26766962, "node_id": "MDU6SXNzdWUyNjc2Njk2Mg==", "number": 522, "title": "duplicates: move and copy should move to a directory, not a file", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-02-02T18:55:01Z", "updated_at": "2014-02-02T21:17:40Z", "closed_at": "2014-02-02T21:00:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The destination arguments to `--move` and `--copy` in the duplicates plugin currently indicate exactly the path where files should be moved to. So if you use `beet dup --move ~/dir`, the first duplicate is renamed to `~/dir` and the second to `~/dir.1`, etc. It seems to me like the expected behavior would be that the destination is a directory, yes? (Paging @pedros for an opinion here.)\n\nThis arises because `Item.move_file` and `beets.util.move` don't accept a directory name as their second argument (i.e., they're not like `mv`).\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/522/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/508", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/508/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/508/events", "html_url": "https://github.com/beetbox/beets/issues/508", "id": 26319414, "node_id": "MDU6SXNzdWUyNjMxOTQxNA==", "number": 508, "title": "this used to work args to lyrics.py", "user": {"login": "jmwatte", "id": 768112, "node_id": "MDQ6VXNlcjc2ODExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/768112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwatte", "html_url": "https://github.com/jmwatte", "followers_url": "https://api.github.com/users/jmwatte/followers", "following_url": "https://api.github.com/users/jmwatte/following{/other_user}", "gists_url": "https://api.github.com/users/jmwatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwatte/subscriptions", "organizations_url": "https://api.github.com/users/jmwatte/orgs", "repos_url": "https://api.github.com/users/jmwatte/repos", "events_url": "https://api.github.com/users/jmwatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwatte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-26T18:36:22Z", "updated_at": "2014-01-26T20:13:36Z", "closed_at": "2014-01-26T18:52:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "My aplogies if this is the result of my own stupidity, but...\nAnyway...\nThis shortcut in my zsh config file used to work...\n\n```\nbeet lyrics -p  ${$(mpc current)//-/ \n```\n\n(that's part of the shortcut)\n\nBut this is what I get now... I put in some print statements\n\n```\nTindersticks - Chocolate (from mpc)\nlyrics426 ['Tindersticks', ' ', 'Chocolate']\n('lib943', [u'Tindersticks', u' ', u'Chocolate'])\n('lib859', [u'Tindersticks', u' ', u'Chocolate'])\n('lib800', u'Tindersticks')\n('lib778', u'Tindersticks')\n('lib800', u' ')\n('lib778', u' ')\nTraceback (most recent call last):\n File \"/usr/local/bin/beet\", line 20, in <module>\n beets.ui.main()\nFile \"/home/winters/buildtests/beets/beets/ui/__init__.py\", line 815, in main\n_raw_main(args)\nFile \"/home/winters/buildtests/beets/beets/ui/__init__.py\", line 807, in _raw_main\nsubcommand.func(lib, suboptions, subargs)\nFile \"/home/winters/buildtests/beets/beetsplug/lyrics.py\", line 428, in func\nfor item in lib.items(ui.decargs(args)):\nFile \"/home/winters/buildtests/beets/beets/library.py\", line 965, in items\nreturn self._fetch(Item, query, order)\nFile \"/home/winters/buildtests/beets/beets/library.py\", line 946, in _fetch\nmodel_cls, get_query(query, model_cls), order_by\nFile \"/home/winters/buildtests/beets/beets/library.py\", line 874, in get_query\nreturn query_from_strings(dbcore.AndQuery, model_cls, val)\nFile \"/home/winters/buildtests/beets/beets/library.py\", line 845, in query_from_strings\nsubq = construct_query_part(part, model_cls)\nFile \"/home/winters/buildtests/beets/beets/library.py\", line 805, in  construct_query_part\n parsed = parse_query_part(query_part, query_classes, prefixes)\nFile \"/home/winters/buildtests/beets/beets/library.py\", line 782, in parse_query_part\nassert match  # Regex should always match.\n AssertionError\n```\n\nif I do : \n\n```\n   beet lyrics  -p Tindersticks  Chocolate\n```\n\nit works...it just prints the lyrics ...\nBut in the args there is an empty query-part and\nsomehow this empty query-part cannot pass through the chain...\nAnyway, I know it's bleeding edge, but maybe it can help.\nGreetz\n\nbeets version 1.3.3\nplugins: amazon, discogs, dates, fuzzy, ftintitle, replaygain, fromfilename, bpd, lastgenre, fetchart, embedart, lyrics, scrub, smartplaylist\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/508/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/503", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/503/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/503/events", "html_url": "https://github.com/beetbox/beets/issues/503", "id": 26086563, "node_id": "MDU6SXNzdWUyNjA4NjU2Mw==", "number": 503, "title": "unicodeDecode problem ?", "user": {"login": "jmwatte", "id": 768112, "node_id": "MDQ6VXNlcjc2ODExMg==", "avatar_url": "https://avatars.githubusercontent.com/u/768112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwatte", "html_url": "https://github.com/jmwatte", "followers_url": "https://api.github.com/users/jmwatte/followers", "following_url": "https://api.github.com/users/jmwatte/following{/other_user}", "gists_url": "https://api.github.com/users/jmwatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwatte/subscriptions", "organizations_url": "https://api.github.com/users/jmwatte/orgs", "repos_url": "https://api.github.com/users/jmwatte/repos", "events_url": "https://api.github.com/users/jmwatte/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwatte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-01-22T12:41:19Z", "updated_at": "2014-01-23T23:08:58Z", "closed_at": "2014-01-23T23:08:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "using the latest\n\n```\nbeets version 1.3.3\nplugins: amazon, discogs, dates, fuzzy, ftintitle, replaygain, fromfilename, bpd,\nlastgenre, fetchart, embedart, lyrics, scrub, smartplaylist\n```\n\nThis is the name of the folder..\n\n```\n [~DOWNLOADS/music_tagged/Ambient/Crane's Dreams]$ ls                                                                                                                         \n \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b\n```\n\nthis is what I get when searching \n\n```\n [~DOWNLOADS/music_tagged/Ambient/Crane's Dreams]$ beet ls crane                                                                                                              \n Crane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u0412\u0435\u0440\u0445\u043e\u0432\u044c\u0435\n Crane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u0420\u0430\u0441\u0441\u0432\u0435\u0442\n Crane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u0412\u0435\u0447\u043d\u044b\u0439 \u0417\u043e\u0432\n Crane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u0412\u0435\u0441\u043d\u0430\n Crane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041a\u043e\u0433\u0434\u0430 \u0414\u0435\u0440\u0435\u0432\u044c\u044f \u0411\u044b\u043b\u0438 \u0411\u043e\u043b\u044c\u0448\u0438\u0435\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041d\u0435 \u0412\u0435\u0440\u043d\u0443\u0442\u044c\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041a\u0430\u0440\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u041b\u0435\u0441\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u0417\u0430\u043f\u043e\u043b\u044f\u0440\u044c\u0435\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041c\u043e\u0436\u0435\u0442 \u0411\u044b\u0442\u044c\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041a\u043e\u043b\u044b\u0431\u0435\u043b\u044c\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041b\u0435\u0442\u043e\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041f\u043e\u043c\u043d\u0438\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u041e\u0441\u0435\u043d\u044c\nCrane's Dreams - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b - \u0416\u0443\u0440\u0430\u0432\u043b\u0438\u043d\u044b\u0435 \u0421\u043d\u044b\n```\n\nSo no problem.\n\nNow: this is what I get when searching for albums:\n\n```\n[~DOWNLOADS/music_tagged/Ambient/Crane's Dreams]$ beet ls -a crane                                                                                                           \nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 20, in <module>\n  beets.ui.main()\n  File \"/home/winters/buildtests/beets/beets/ui/__init__.py\", line 815, in main\n   _raw_main(args)\n  File \"/home/winters/buildtests/beets/beets/ui/__init__.py\", line 807, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/home/winters/buildtests/beets/beets/ui/commands.py\", line 876, in list_func\n    list_items(lib, decargs(args), opts.album, fmt)\n  File \"/home/winters/buildtests/beets/beets/ui/commands.py\", line 859, in list_items\n    ui.print_obj(album, lib, tmpl)\n  File \"/home/winters/buildtests/beets/beets/ui/__init__.py\", line 512, in print_obj\n    print_(obj.evaluate_template(template))\n  File \"/home/winters/buildtests/beets/beets/dbcore/db.py\", line 365, in \n evaluate_template\n    mapping = self._formatted_mapping(for_path)\n  File \"/home/winters/buildtests/beets/beets/dbcore/db.py\", line 356, in   \n_formatted_mapping\n    out[key] = self._get_formatted(key, for_path)\n  File \"/home/winters/buildtests/beets/beets/dbcore/db.py\", line 336, in     _get_formatted\n    value = unicode(value)\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xd0 in position 61: ordinal not   in range(128)\n```\n\nIs that a problem?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/496", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/496/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/496/events", "html_url": "https://github.com/beetbox/beets/issues/496", "id": 25776100, "node_id": "MDU6SXNzdWUyNTc3NjEwMA==", "number": 496, "title": "Trailing whitespace not removed after max_filename_length truncation", "user": {"login": "LordSputnik", "id": 1898174, "node_id": "MDQ6VXNlcjE4OTgxNzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1898174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LordSputnik", "html_url": "https://github.com/LordSputnik", "followers_url": "https://api.github.com/users/LordSputnik/followers", "following_url": "https://api.github.com/users/LordSputnik/following{/other_user}", "gists_url": "https://api.github.com/users/LordSputnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/LordSputnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LordSputnik/subscriptions", "organizations_url": "https://api.github.com/users/LordSputnik/orgs", "repos_url": "https://api.github.com/users/LordSputnik/repos", "events_url": "https://api.github.com/users/LordSputnik/events{/privacy}", "received_events_url": "https://api.github.com/users/LordSputnik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2014-01-16T23:35:26Z", "updated_at": "2015-07-08T01:21:28Z", "closed_at": "2015-07-08T01:21:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Just been updating all my path names to try to fit them onto an NTFS drive legally. To do this, I set \"max_filename_length: 80\". However, on a few folders, this seems to have set the folder name so that it ends with a space.\n\nSince I haven't set a custom \"replace: ...\" parameter in my configuration, I believe that beets should be using the default character replacement set, which includes a regex for removing trailing spaces (\"\\s+$\").\n\nTherefore, I think that the character replacement isn't being applied to the path name again after it's been truncated.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/496/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/481", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/481/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/481/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/481/events", "html_url": "https://github.com/beetbox/beets/issues/481", "id": 24506462, "node_id": "MDU6SXNzdWUyNDUwNjQ2Mg==", "number": 481, "title": "Echo Nest Unknown Error", "user": {"login": "yoasif", "id": 152493, "node_id": "MDQ6VXNlcjE1MjQ5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/152493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoasif", "html_url": "https://github.com/yoasif", "followers_url": "https://api.github.com/users/yoasif/followers", "following_url": "https://api.github.com/users/yoasif/following{/other_user}", "gists_url": "https://api.github.com/users/yoasif/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoasif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoasif/subscriptions", "organizations_url": "https://api.github.com/users/yoasif/orgs", "repos_url": "https://api.github.com/users/yoasif/repos", "events_url": "https://api.github.com/users/yoasif/events{/privacy}", "received_events_url": "https://api.github.com/users/yoasif/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-12-18T17:49:24Z", "updated_at": "2015-05-12T14:25:09Z", "closed_at": "2013-12-18T20:35:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When importing http://musicbrainz.org/release/fc9c511a-a3a6-4069-abcd-0ea65449c969 using the latest source and the echonest plugin enabled, I get a \"pyechonest.util.EchoNestIOError: Echo Nest Unknown Error\" reproducibly. \n\n```\n:~$ beet -v import -A '/quadra/music/Downloaded Albums/Banco de Gaia/album/Banco de Gaia - 2013-04-08 - Apollo'\ndata directory: /home/asif/.config/beets\nlibrary database: /home/asif/.musiclibrary.blb\nlibrary directory: /quadra/music/Downloaded Albums\n/quadra/music/Downloaded Albums/Banco de Gaia/album/Banco de Gaia - 2013-04-08 - Apollo\n0 of 9 items replaced\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nechonest: (u'Echo Nest API Error 5: The Identifier specified does not exist',)\nechonest: lookup by MBID failed\nechonest: got song through search: Banco de Gaia - Lamentations [182.06621]\nechonest: metadata: bpm = 70.82\nechonest: metadata: energy = 0.25012\nechonest: metadata: liveness = 0.134912\nechonest: metadata: speechiness = 0.034224\nechonest: metadata: acousticness = 0.712262\nechonest: metadata: valence = 0.013836\nechonest: metadata: danceability = 0.22675\nechonest: metadata: echonest_id = SODCFPR13E36C52D6B\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nechonest: (u'Echo Nest API Error 5: The Identifier specified does not exist',)\nechonest: lookup by MBID failed\nechonest: got song through search: Banco de Gaia - Wimble Toot [479.05288]\nechonest: metadata: bpm = 99.999\nechonest: metadata: energy = 0.761175\nechonest: metadata: liveness = 0.126003\nechonest: metadata: speechiness = 0.032143\nechonest: metadata: acousticness = 0.040603\nechonest: metadata: valence = 0.426442\nechonest: metadata: danceability = 0.604544\nechonest: metadata: echonest_id = SODDWFD13E36C54663\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nechonest: (u'Echo Nest API Error 5: The Identifier specified does not exist',)\nechonest: lookup by MBID failed\nechonest: got song through search: Banco de Gaia - Eternal Sunshine [445.71955]\nechonest: metadata: bpm = 127.997\nechonest: metadata: energy = 0.696588\nechonest: metadata: liveness = 0.317226\nechonest: metadata: speechiness = 0.054773\nechonest: metadata: acousticness = 0.006521\nechonest: metadata: valence = 0.73494\nechonest: metadata: danceability = 0.792567\nechonest: metadata: echonest_id = SOEMAXR13E36C56934\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nechonest: (u'Echo Nest API Error 5: The Identifier specified does not exist',)\nechonest: lookup by MBID failed\nechonest: got song through search: Banco de Gaia - For Such a Time [512.95955]\nechonest: metadata: bpm = 157.953\nechonest: metadata: energy = 0.535834\nechonest: metadata: liveness = 0.367458\nechonest: metadata: speechiness = 0.050277\nechonest: metadata: acousticness = 0.218338\nechonest: metadata: valence = 0.220222\nechonest: metadata: danceability = 0.383271\nechonest: metadata: echonest_id = SOXBVVQ13E36C58840\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nechonest: (u'Echo Nest API Error 5: The Identifier specified does not exist',)\nechonest: lookup by MBID failed\nechonest: got song through search: Banco de Gaia - Apollon [400.86621]\nechonest: metadata: bpm = 98.0\nechonest: metadata: energy = 0.855483\nechonest: metadata: liveness = 0.046618\nechonest: metadata: speechiness = 0.093345\nechonest: metadata: acousticness = 0.010288\nechonest: metadata: valence = 0.84206\nechonest: metadata: danceability = 0.729957\nechonest: metadata: echonest_id = SONRSRI13E36C5A572\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nSending event: database_change\nechonest: (u'Echo Nest API Error 5: The Identifier specified does not exist',)\nechonest: lookup by MBID failed\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.2', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 810, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 802, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 845, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/commands.py\", line 783, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 341, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 243, in run\n    out = self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/importer.py\", line 815, in plugin_stage\n    func(session, task)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 380, in imported\n    song = self.fetch_song(item)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 341, in fetch_song\n    song = method(item)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 185, in search\n    return self._flatten_song(self._pick_song(songs, item))\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/echonest.py\", line 130, in _pick_song\n    dist = abs(item.length - song.audio_summary['duration'])\n  File \"/usr/local/lib/python2.7/dist-packages/pyechonest/song.py\", line 111, in get_audio_summary\n    response = self.get_attribute('profile', bucket='audio_summary')\n  File \"/usr/local/lib/python2.7/dist-packages/pyechonest/proxies.py\", line 179, in get_attribute\n    return super(SongProxy, self).get_attribute(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/pyechonest/proxies.py\", line 23, in get_attribute\n    result = util.callm(\"%s/%s\" % (self._object_type, method_name), kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/pyechonest/util.py\", line 246, in callm\n    raise EchoNestIOError(error=e.reason)\npyechonest.util.EchoNestIOError: Echo Nest Unknown Error\n```\n\nI am happy to provide further details as needed. \n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/481/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/461", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/461/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/461/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/461/events", "html_url": "https://github.com/beetbox/beets/issues/461", "id": 23286180, "node_id": "MDU6SXNzdWUyMzI4NjE4MA==", "number": 461, "title": "Album-level flexattrs don't appear in item-level templates", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/5", "html_url": "https://github.com/beetbox/beets/milestone/5", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/5/labels", "id": 454022, "node_id": "MDk6TWlsZXN0b25lNDU0MDIy", "number": 5, "title": "1.3.2", "description": "", "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2013-10-14T05:17:04Z", "updated_at": "2014-04-04T04:22:18Z", "due_on": null, "closed_at": "2014-04-04T04:22:18Z"}, "comments": 0, "created_at": "2013-11-26T00:42:03Z", "updated_at": "2013-12-25T23:50:18Z", "closed_at": "2013-12-25T23:50:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`Item.evaluate_template` only gets the _fixed_ attributes from the associated Album object. It should collect both Album and Item-level fields for the template. This affects path formats, since they are are item-level templates.\n\nWhile fixing this, we should probably also simplify the various loops involved in building up the value map (it's getting  a bit unwieldy: fixed attributes, flexible attributes, and plugin attributes, all from two different levels), possibly by adding a separate method that can collect all associated fields for an object.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/461/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/453", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/453/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/453/events", "html_url": "https://github.com/beetbox/beets/issues/453", "id": 22321093, "node_id": "MDU6SXNzdWUyMjMyMTA5Mw==", "number": 453, "title": "%if{} template function should work with Python booleans", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-11-08T07:30:26Z", "updated_at": "2014-04-18T22:38:28Z", "closed_at": "2014-04-18T22:38:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, if the first argument to an %if{} is the string \"False\", it treats the condition as true. It should special-case this string to facilitate use with inline functions that return booleans.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/453/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/418", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/418/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/418/events", "html_url": "https://github.com/beetbox/beets/issues/418", "id": 20987067, "node_id": "MDU6SXNzdWUyMDk4NzA2Nw==", "number": 418, "title": "Error in ftintitle plugin run", "user": {"login": "arogl", "id": 1115472, "node_id": "MDQ6VXNlcjExMTU0NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1115472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arogl", "html_url": "https://github.com/arogl", "followers_url": "https://api.github.com/users/arogl/followers", "following_url": "https://api.github.com/users/arogl/following{/other_user}", "gists_url": "https://api.github.com/users/arogl/gists{/gist_id}", "starred_url": "https://api.github.com/users/arogl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arogl/subscriptions", "organizations_url": "https://api.github.com/users/arogl/orgs", "repos_url": "https://api.github.com/users/arogl/repos", "events_url": "https://api.github.com/users/arogl/events{/privacy}", "received_events_url": "https://api.github.com/users/arogl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-10-14T23:02:12Z", "updated_at": "2013-10-15T17:03:20Z", "closed_at": "2013-10-15T04:12:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When running the very latest beets via:\n\nsudo pip install --upgrade https://github.com/sampsyo/beets/tarball/master\n\nthen running:\nandrew@andrew-VirtualBox ~ $ beet -v ftintitle\ndata directory: /home/andrew/.config/beets\nlibrary database: /home/andrew/.config/beets/library.db\nlibrary directory: /media/sf_F_DRIVE/Music\nSending event: write\nSending event: write\nSending event: write\nSending event: write\nSending event: write\nSending event: write\nSending event: write\nSending event: write\n...\n...\n...\n...\n/media/sf_F_DRIVE/Music/B/Britney Spears/(2013) The Essential Britney Spears/The Essential Britney Spears - 12 - Britney Spears featuring Madonna - Me Against The Music.m4a\nartist: Britney Spears featuring Madonna -> Britney Spears\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.2', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/**init**.py\", line 773, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 765, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/ftintitle.py\", line 119, in func\n    ft_in_title(item)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/ftintitle.py\", line 105, in ft_in_title\n    update_metadata(item, feat_part)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/ftintitle.py\", line 58, in update_metadata\n    item.artist_sort, _ = split_on_feat(item.artist_sort)  # Strip featured.\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/ftintitle.py\", line 33, in split_on_feat\n    1,  # Only split on the first \"feat\".\n  File \"/usr/lib/python2.7/re.py\", line 167, in split\n    return _compile(pattern, flags).split(string, maxsplit)\nTypeError: expected string or buffer\n\nI have turned off all plugins apart from ftintitle.\n\nThis is the first song to have the feat[uring] in the title.\n\nAnything else you need?\n\nAndrew.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/418/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/415", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/415/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/415/events", "html_url": "https://github.com/beetbox/beets/issues/415", "id": 20940255, "node_id": "MDU6SXNzdWUyMDk0MDI1NQ==", "number": 415, "title": "discogs: Set `medium_total` in TrackInfo", "user": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-10-14T05:16:37Z", "updated_at": "2016-10-17T20:03:29Z", "closed_at": "2016-10-17T20:03:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The Discogs plugin currently doesn't set `medium_total`, which can lead to incorrect `tracktotal` fields when `per_disc_numbering` is on.\n\nOverall, the situation with medium grouping leaves something to be desired in the current implementation. We're duplicating a lot of information across the `TrackInfo.index`, `TrackInfo.medium_index`, `TrackInfo.medium`, and `TrackInfo.medium_total` fields along with the ordering in the `AlbumInfo.tracks` list and the `AlbumInfo.mediums` field.\n\nMaybe we should overhaul these so that the information is stored in one place\u2014for example, by allowing `tracks` to be a list of lists, or using a `medium_lengths` field to indicate the size of each medium. The goal here would be to minimize the headache for the data source author necessary to get the numbering correct.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/415/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/411", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/411/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/411/events", "html_url": "https://github.com/beetbox/beets/issues/411", "id": 20857738, "node_id": "MDU6SXNzdWUyMDg1NzczOA==", "number": 411, "title": "iHate fails with singletons", "user": {"login": "dokterbob", "id": 22742, "node_id": "MDQ6VXNlcjIyNzQy", "avatar_url": "https://avatars.githubusercontent.com/u/22742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dokterbob", "html_url": "https://github.com/dokterbob", "followers_url": "https://api.github.com/users/dokterbob/followers", "following_url": "https://api.github.com/users/dokterbob/following{/other_user}", "gists_url": "https://api.github.com/users/dokterbob/gists{/gist_id}", "starred_url": "https://api.github.com/users/dokterbob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dokterbob/subscriptions", "organizations_url": "https://api.github.com/users/dokterbob/orgs", "repos_url": "https://api.github.com/users/dokterbob/repos", "events_url": "https://api.github.com/users/dokterbob/events{/privacy}", "received_events_url": "https://api.github.com/users/dokterbob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-10-11T09:09:49Z", "updated_at": "2014-02-08T20:12:14Z", "closed_at": "2014-02-08T20:12:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When importing singletons when iHate is enabled, I'm getting the following exception:\n\n``` python\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 8, in <module>\n    load_entry_point('beets==1.3.0', 'console_scripts', 'beet')()\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/ui/__init__.py\", line 776, in main\n    _raw_main(args)\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/ui/__init__.py\", line 768, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/ui/commands.py\", line 845, in import_func\n    import_files(lib, paths, query)\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/ui/commands.py\", line 783, in import_files\n    session.run()\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/importer.py\", line 341, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/util/pipeline.py\", line 243, in run\n    out = self.coro.send(msg)\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/importer.py\", line 952, in item_query\n    plugins.send('import_task_choice', session=session, task=task)\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beets/plugins.py\", line 372, in send\n    handler(**arguments)\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beetsplug/ihate.py\", line 104, in import_task_choice_event\n    self.config['skip_whitelist'].as_str_seq()):\n  File \"/Library/Python/2.7/site-packages/beets-1.3.0-py2.7.egg/beetsplug/ihate.py\", line 79, in do_i_hate_this\n    if not hate and task.cur_album and album_patterns:\nAttributeError: 'ImportTask' object has no attribute 'cur_album'\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/411/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/393", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/393/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/393/events", "html_url": "https://github.com/beetbox/beets/issues/393", "id": 20033563, "node_id": "MDU6SXNzdWUyMDAzMzU2Mw==", "number": 393, "title": "iHate syntax error in documentation", "user": {"login": "dokterbob", "id": 22742, "node_id": "MDQ6VXNlcjIyNzQy", "avatar_url": "https://avatars.githubusercontent.com/u/22742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dokterbob", "html_url": "https://github.com/dokterbob", "followers_url": "https://api.github.com/users/dokterbob/followers", "following_url": "https://api.github.com/users/dokterbob/following{/other_user}", "gists_url": "https://api.github.com/users/dokterbob/gists{/gist_id}", "starred_url": "https://api.github.com/users/dokterbob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dokterbob/subscriptions", "organizations_url": "https://api.github.com/users/dokterbob/orgs", "repos_url": "https://api.github.com/users/dokterbob/repos", "events_url": "https://api.github.com/users/dokterbob/events{/privacy}", "received_events_url": "https://api.github.com/users/dokterbob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/4", "html_url": "https://github.com/beetbox/beets/milestone/4", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/4/labels", "id": 433546, "node_id": "MDk6TWlsZXN0b25lNDMzNTQ2", "number": 4, "title": "1.3.1", "description": null, "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2013-09-21T16:50:32Z", "updated_at": "2013-10-14T05:18:19Z", "due_on": null, "closed_at": "2013-10-14T05:18:19Z"}, "comments": 0, "created_at": "2013-09-25T10:27:55Z", "updated_at": "2013-10-06T19:17:01Z", "closed_at": "2013-10-06T19:17:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The documentation for the iHate plugin lists a non-yaml syntax, see https://beets.readthedocs.org/en/latest/plugins/ihate.html\n\nExpect a pull request some time soon. ^^\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/393/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/390", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/390/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/390/events", "html_url": "https://github.com/beetbox/beets/issues/390", "id": 19856358, "node_id": "MDU6SXNzdWUxOTg1NjM1OA==", "number": 390, "title": "convert plugin fails with non-ascii filenames", "user": {"login": "macmenot", "id": 1790877, "node_id": "MDQ6VXNlcjE3OTA4Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/1790877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/macmenot", "html_url": "https://github.com/macmenot", "followers_url": "https://api.github.com/users/macmenot/followers", "following_url": "https://api.github.com/users/macmenot/following{/other_user}", "gists_url": "https://api.github.com/users/macmenot/gists{/gist_id}", "starred_url": "https://api.github.com/users/macmenot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/macmenot/subscriptions", "organizations_url": "https://api.github.com/users/macmenot/orgs", "repos_url": "https://api.github.com/users/macmenot/repos", "events_url": "https://api.github.com/users/macmenot/events{/privacy}", "received_events_url": "https://api.github.com/users/macmenot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/4", "html_url": "https://github.com/beetbox/beets/milestone/4", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/4/labels", "id": 433546, "node_id": "MDk6TWlsZXN0b25lNDMzNTQ2", "number": 4, "title": "1.3.1", "description": null, "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2013-09-21T16:50:32Z", "updated_at": "2013-10-14T05:18:19Z", "due_on": null, "closed_at": "2013-10-14T05:18:19Z"}, "comments": 4, "created_at": "2013-09-21T13:11:19Z", "updated_at": "2013-10-06T19:14:18Z", "closed_at": "2013-10-06T19:14:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.3.1', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", \nline 773, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", \nline 765, in _raw_main\n     subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/convert.py\", \nline 234, in convert_func\n     pipe.run_parallel()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\"\n, line 288, in run\n     self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/convert.py\", \nline 167, in convert_item\n     item.path = os.path.splitext(item.path)[0] + get_file_extension()\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 4\n4: ordinal not in range(128)\nbeet convert -k format:flac\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/390/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/371", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/371/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/371/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/371/events", "html_url": "https://github.com/beetbox/beets/issues/371", "id": 18721042, "node_id": "MDU6SXNzdWUxODcyMTA0Mg==", "number": 371, "title": "info plugin 'crashes' when used on a directory", "user": {"login": "DjSlash", "id": 538802, "node_id": "MDQ6VXNlcjUzODgwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/538802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DjSlash", "html_url": "https://github.com/DjSlash", "followers_url": "https://api.github.com/users/DjSlash/followers", "following_url": "https://api.github.com/users/DjSlash/following{/other_user}", "gists_url": "https://api.github.com/users/DjSlash/gists{/gist_id}", "starred_url": "https://api.github.com/users/DjSlash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DjSlash/subscriptions", "organizations_url": "https://api.github.com/users/DjSlash/orgs", "repos_url": "https://api.github.com/users/DjSlash/repos", "events_url": "https://api.github.com/users/DjSlash/events{/privacy}", "received_events_url": "https://api.github.com/users/DjSlash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-08-29T09:42:10Z", "updated_at": "2013-09-16T23:41:10Z", "closed_at": "2013-09-16T23:41:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Sometimes I forget to give a filename when using the info command, which results in an error:\n\n```\n% beet info \\(1991\\)\\ Kerplunk\n/home/shared/Downloads/GreenDay - Discography/(1991) Kerplunk\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.2.1', 'console_scripts', 'beet')()\n  File \"/usr/share/beets/beets/ui/__init__.py\", line 776, in main\n    _raw_main(args)\n  File \"/usr/share/beets/beets/ui/__init__.py\", line 768, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/share/beets/beetsplug/info.py\", line 64, in func\n    info(args)\n  File \"/usr/share/beets/beetsplug/info.py\", line 44, in info\n    mf = mediafile.MediaFile(path)\n  File \"/usr/share/beets/beets/mediafile.py\", line 871, in __init__\n    self.mgfile = mutagen.File(path)\n  File \"/usr/lib/python2.7/dist-packages/mutagen/__init__.py\", line 202, in File\n    fileobj = open(filename, \"rb\")\nIOError: [Errno 21] Is a directory: '/home/shared/Downloads/GreenDay - Discography/(1991) Kerplunk'\n```\n\nThis could been handled a bit more userfriendly. :)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/371/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/361", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/361/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/361/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/361/events", "html_url": "https://github.com/beetbox/beets/issues/361", "id": 18152330, "node_id": "MDU6SXNzdWUxODE1MjMzMA==", "number": 361, "title": "Inaccurate behaviour of echonest_tempo plugin", "user": {"login": "naglis", "id": 827324, "node_id": "MDQ6VXNlcjgyNzMyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/827324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/naglis", "html_url": "https://github.com/naglis", "followers_url": "https://api.github.com/users/naglis/followers", "following_url": "https://api.github.com/users/naglis/following{/other_user}", "gists_url": "https://api.github.com/users/naglis/gists{/gist_id}", "starred_url": "https://api.github.com/users/naglis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/naglis/subscriptions", "organizations_url": "https://api.github.com/users/naglis/orgs", "repos_url": "https://api.github.com/users/naglis/repos", "events_url": "https://api.github.com/users/naglis/events{/privacy}", "received_events_url": "https://api.github.com/users/naglis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/3", "html_url": "https://github.com/beetbox/beets/milestone/3", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/3/labels", "id": 403598, "node_id": "MDk6TWlsZXN0b25lNDAzNTk4", "number": 3, "title": "1.2.2", "description": null, "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2013-08-16T15:40:39Z", "updated_at": "2013-10-14T05:18:12Z", "due_on": null, "closed_at": "2013-10-14T05:18:12Z"}, "comments": 1, "created_at": "2013-08-16T11:35:20Z", "updated_at": "2013-09-17T00:37:15Z", "closed_at": "2013-09-17T00:37:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider the following (taken from `echonest_tempo.py`) code:\n\n``` python\nimport sys\nimport time\nimport socket\n\nimport pyechonest.config\nimport pyechonest.song\n\nRETRIES = 3\nRETRY_INTERVAL = 3\n\npyechonest.config.ECHO_NEST_API_KEY = \"NY2KTZHQ0QDSHBAP6\"\n\n\ndef get_tempo(artist, title):\n    \"\"\"Get the tempo for a song.\"\"\"\n    # We must have sufficient metadata for the lookup. Otherwise the API\n    # will just complain.\n    artist = artist.replace(u'\\n', u' ').strip()\n    title = title.replace(u'\\n', u' ').strip()\n    if not artist or not title:\n        return None\n\n    for i in range(RETRIES):\n        try:\n            # Unfortunately, all we can do is search by artist and title.\n            # EchoNest supports foreign ids from MusicBrainz, but currently\n            # only for artists, not individual tracks/recordings.\n            results = pyechonest.song.search(\n                artist=artist, title=title, results=1, buckets=['audio_summary']\n            )\n        except pyechonest.util.EchoNestAPIError as e:\n            if e.code == 3:\n                # Wait and try again.\n                time.sleep(RETRY_INTERVAL)\n            else:\n                #log.warn(u'echonest_tempo: {0}'.format(e.args[0][0]))\n                return None\n        except (pyechonest.util.EchoNestIOError, socket.error) as e:\n            #log.debug(u'echonest_tempo: IO error: {0}'.format(e))\n            time.sleep(RETRY_INTERVAL)\n        else:\n            break\n    else:\n        # If we exited the loop without breaking, then we used up all\n        # our allotted retries.\n        #log.debug(u'echonest_tempo: exceeded retries')\n        return None\n\n    if len(results) > 0:\n        for r in results:\n            print r.artist_name, \"-\", r.title, \":\", r.audio_summary[\"tempo\"]\n        #return results[0].audio_summary['tempo']\n    #else:\n        #return None\n\nif __name__ == '__main__':\n    if len(sys.argv) == 3:\n        artist, title = sys.argv[1:]\n        get_tempo(artist, title)\n    else:\n        print \"Usage: %s artist title\" % sys.argv[0]\n```\n\nSave it as, for example, `en.py`, run:\n`python en.py a b`\n\nResults:\n`The Trio - B : 70.26`\n\nIt means that even if the exact song is not found in EchoNest's database, Echonest will return the closest match, which will then be used (no checking is done) by the `echonest_tempo` plugin, thus incorrect tempo might be written to a song/songs.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/361/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/348", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/348/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/348/events", "html_url": "https://github.com/beetbox/beets/issues/348", "id": 16902461, "node_id": "MDU6SXNzdWUxNjkwMjQ2MQ==", "number": 348, "title": "OverflowError: Python int too large to convert to SQLite INTEGER", "user": {"login": "aquamme", "id": 3794475, "node_id": "MDQ6VXNlcjM3OTQ0NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/3794475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aquamme", "html_url": "https://github.com/aquamme", "followers_url": "https://api.github.com/users/aquamme/followers", "following_url": "https://api.github.com/users/aquamme/following{/other_user}", "gists_url": "https://api.github.com/users/aquamme/gists{/gist_id}", "starred_url": "https://api.github.com/users/aquamme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aquamme/subscriptions", "organizations_url": "https://api.github.com/users/aquamme/orgs", "repos_url": "https://api.github.com/users/aquamme/repos", "events_url": "https://api.github.com/users/aquamme/events{/privacy}", "received_events_url": "https://api.github.com/users/aquamme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2013-07-18T03:53:21Z", "updated_at": "2013-09-17T00:37:16Z", "closed_at": "2013-09-17T00:37:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Encountered this error when importing Exhumed; I was importing my entire library at the time. Console output is included below. Will update if I can reproduce the error.\n\n```\n/home/aaron/Music/Exhumed/2003 - Anatomy Is Destiny (11 items)\nTagging:\n    Exhumed - Anatomy Is Destiny\n(Similarity: 99.3%) (label) (CD, 2003, US, Relapse Records)\nTraceback (most recent call last):\n  File \"/usr/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.2.1', 'console_scripts', 'beet')()\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 776, in main\n    _raw_main(args)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/__init__.py\", line 768, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 845, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/lib/python2.7/site-packages/beets/ui/commands.py\", line 783, in import_files\n    session.run()\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 337, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/lib/python2.7/site-packages/beets/util/pipeline.py\", line 243, in run\n    out = self.coro.send(msg)\n  File \"/usr/lib/python2.7/site-packages/beets/importer.py\", line 793, in apply_choices\n    album = session.lib.add_album(items)\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 1553, in add_album\n    self.add(item)\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 1343, in add\n    new_id = tx.mutate(query, subvars)\n  File \"/usr/lib/python2.7/site-packages/beets/library.py\", line 1112, in mutate\n    cursor = self.lib._connection().execute(statement, subvals)\nOverflowError: Python int too large to convert to SQLite INTEGER\n[aaron@localhost ~]$ \n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/348/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/341", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/341/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/341/events", "html_url": "https://github.com/beetbox/beets/issues/341", "id": 16295342, "node_id": "MDU6SXNzdWUxNjI5NTM0Mg==", "number": 341, "title": "Use length from release, not recording", "user": {"login": "nijotz", "id": 398399, "node_id": "MDQ6VXNlcjM5ODM5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/398399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nijotz", "html_url": "https://github.com/nijotz", "followers_url": "https://api.github.com/users/nijotz/followers", "following_url": "https://api.github.com/users/nijotz/following{/other_user}", "gists_url": "https://api.github.com/users/nijotz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nijotz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nijotz/subscriptions", "organizations_url": "https://api.github.com/users/nijotz/orgs", "repos_url": "https://api.github.com/users/nijotz/repos", "events_url": "https://api.github.com/users/nijotz/events{/privacy}", "received_events_url": "https://api.github.com/users/nijotz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30419331, "node_id": "MDU6TGFiZWwzMDQxOTMzMQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bitesize", "name": "bitesize", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-03T00:07:27Z", "updated_at": "2013-09-17T00:37:16Z", "closed_at": "2013-09-17T00:37:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was importing an album and ansible said that all the lengths were wrong.  I looked in the Musicbrainz database and noticed that despite me manually choosing an album ID, it wasn't using that album's track lengths.  It was using the recording information.  An example is here:\n\nhttp://musicbrainz.org/recording/35cd7342-74d2-4fe5-8e03-88edfa1cb1e1\n\nNotice on the right the recording information (as of today) says 3:22 and all the releases in the list say 1:46.  I've already submitted an edit to fix this, but thought it was weird that ansible would use this information rather than the information specific to the album I chose.\n\nHopefully this makes sense, I'm not sure if I'm using the right Musicbrainz terms.  Basically for track information, it seems it doesn't matter what album ID I choose, it will always pull info from the general \"release\".\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/341/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/323", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/323/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/323/events", "html_url": "https://github.com/beetbox/beets/issues/323", "id": 15302029, "node_id": "MDU6SXNzdWUxNTMwMjAyOQ==", "number": 323, "title": "Document or remove path_sep_replace config value", "user": {"login": "mrjoel", "id": 96100, "node_id": "MDQ6VXNlcjk2MTAw", "avatar_url": "https://avatars.githubusercontent.com/u/96100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrjoel", "html_url": "https://github.com/mrjoel", "followers_url": "https://api.github.com/users/mrjoel/followers", "following_url": "https://api.github.com/users/mrjoel/following{/other_user}", "gists_url": "https://api.github.com/users/mrjoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrjoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrjoel/subscriptions", "organizations_url": "https://api.github.com/users/mrjoel/orgs", "repos_url": "https://api.github.com/users/mrjoel/repos", "events_url": "https://api.github.com/users/mrjoel/events{/privacy}", "received_events_url": "https://api.github.com/users/mrjoel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2013-06-08T08:10:52Z", "updated_at": "2021-10-26T12:29:00Z", "closed_at": "2021-10-26T12:29:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I struggled for quite a while to not have slashes replaced with underscores (I use a comma for readability). Based on the documentation of the configuration (which is otherwise quite thorough, thanks!), I tried replacing the regex in the replace configuration value. Only after digging at the code did I find that there is a separate path_sep_replace config value used to define what to use for replacement.\n\nI didn't look in detail, but it looks like as long as a valid regex replacement value is given then the separate config value isn't needed. If it is needed, a quick mention during the discussion of the replace configuration section would be quite helpful.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/323/reactions", "total_count": 2, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/318", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/318/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/318/events", "html_url": "https://github.com/beetbox/beets/issues/318", "id": 15297969, "node_id": "MDU6SXNzdWUxNTI5Nzk2OQ==", "number": 318, "title": "Beatport plugin does not handle", "user": {"login": "tima", "id": 50353, "node_id": "MDQ6VXNlcjUwMzUz", "avatar_url": "https://avatars.githubusercontent.com/u/50353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tima", "html_url": "https://github.com/tima", "followers_url": "https://api.github.com/users/tima/followers", "following_url": "https://api.github.com/users/tima/following{/other_user}", "gists_url": "https://api.github.com/users/tima/gists{/gist_id}", "starred_url": "https://api.github.com/users/tima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tima/subscriptions", "organizations_url": "https://api.github.com/users/tima/orgs", "repos_url": "https://api.github.com/users/tima/repos", "events_url": "https://api.github.com/users/tima/events{/privacy}", "received_events_url": "https://api.github.com/users/tima/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2013-06-08T01:03:31Z", "updated_at": "2016-05-04T16:07:12Z", "closed_at": "2013-06-08T03:54:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a number of Beatport tracks in my music collection that I was pleased to see a plugin added for accessing their metadata. I'm seeing a problem with it though. Doing a quiet import (I'm new to using beets) I got this error:\n\nbeet import -ql ~/beets/quiet-import.log /Volumes/TB3/iTunes/Music/\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/share/python/beet\", line 9, in <module>\n    load_entry_point('beets==1.2.0', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 771, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/site-packages/beets/ui/__init__.py\", line 763, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 828, in import_func\n    import_files(lib, paths, query)\n  File \"/usr/local/lib/python2.7/site-packages/beets/ui/commands.py\", line 766, in import_files\n    session.run()\n  File \"/usr/local/lib/python2.7/site-packages/beets/importer.py\", line 337, in run\n    pl.run_parallel(QUEUE_SIZE)\n  File \"/usr/local/lib/python2.7/site-packages/beets/util/pipeline.py\", line 243, in run\n    out = self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/site-packages/beets/importer.py\", line 646, in initial_lookup\n    *autotag.tag_album(task.items)\n  File \"/usr/local/lib/python2.7/site-packages/beets/autotag/match.py\", line 515, in tag_album\n    search_album, va_likely)\n  File \"/usr/local/lib/python2.7/site-packages/beets/autotag/hooks.py\", line 223, in album_candidates\n    out.extend(plugins.candidates(items, artist, album, va_likely))\n  File \"/usr/local/lib/python2.7/site-packages/beets/plugins.py\", line 270, in candidates\n    out.extend(plugin.candidates(items, artist, album, va_likely))\n  File \"/usr/local/Cellar/python/2.7.5/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/beatport.py\", line 188, in candidates\n    return self._get_releases(query)\n  File \"/usr/local/Cellar/python/2.7.5/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/beatport.py\", line 240, in _get_releases\n    for x in BeatportSearch(query).results]\n  File \"/usr/local/Cellar/python/2.7.5/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/beatport.py\", line 86, in __init__\n    release.get_tracks()\n  File \"/usr/local/Cellar/python/2.7.5/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/beatport.py\", line 124, in get_tracks\n    self.tracks = [BeatportTrack(x) for x in response['tracks']]\n  File \"/usr/local/Cellar/python/2.7.5/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/beetsplug/beatport.py\", line 142, in __init__\n    self.length = timedelta(milliseconds=data['lengthMs'])\nTypeError: unsupported type for timedelta milliseconds component: NoneType\n```\n\nBesides handling a none value more carefully here, it seems like beets really needs to contain failing plugin better. This stopped my import cold and doesn't give me the option to resume my import when I try again.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/318/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/314", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/314/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/314/events", "html_url": "https://github.com/beetbox/beets/issues/314", "id": 15209527, "node_id": "MDU6SXNzdWUxNTIwOTUyNw==", "number": 314, "title": "Re-import should move album art (or remove the old album art file)", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-06T07:44:29Z", "updated_at": "2015-11-04T17:46:49Z", "closed_at": "2015-11-04T17:46:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "When updating the directory structure in the path format and reimporting the library to update the paths, the new directory contains the cover art, but the old directory still stays with the old cover art left inside.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/314/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/299", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/299/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/299/events", "html_url": "https://github.com/beetbox/beets/issues/299", "id": 14931690, "node_id": "MDU6SXNzdWUxNDkzMTY5MA==", "number": 299, "title": "AcoustidPlugin.candidates returns a list of lists", "user": {"login": "jayme-github", "id": 1632246, "node_id": "MDQ6VXNlcjE2MzIyNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1632246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayme-github", "html_url": "https://github.com/jayme-github", "followers_url": "https://api.github.com/users/jayme-github/followers", "following_url": "https://api.github.com/users/jayme-github/following{/other_user}", "gists_url": "https://api.github.com/users/jayme-github/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayme-github/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayme-github/subscriptions", "organizations_url": "https://api.github.com/users/jayme-github/orgs", "repos_url": "https://api.github.com/users/jayme-github/repos", "events_url": "https://api.github.com/users/jayme-github/events{/privacy}", "received_events_url": "https://api.github.com/users/jayme-github/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/2", "html_url": "https://github.com/beetbox/beets/milestone/2", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/2/labels", "id": 344997, "node_id": "MDk6TWlsZXN0b25lMzQ0OTk3", "number": 2, "title": "1.1.1", "description": null, "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2013-05-30T16:53:58Z", "updated_at": "2013-06-02T00:47:14Z", "due_on": null, "closed_at": "2013-06-02T00:47:14Z"}, "comments": 3, "created_at": "2013-05-30T09:16:17Z", "updated_at": "2013-06-02T00:47:14Z", "closed_at": "2013-06-02T00:47:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not sure if this is the right spot to fix the problem but for me it looks like \"def candidates(..)\" should always return a list of  AlbumInfo objects. As \"_album_for_id\" (at least in my case) returns a list, AcoustidPlugin.candidates should extend the result instead of appending it (but maybe this needs a more general fix?):\n\n`````` patch\ndiff --git a/beetsplug/chroma.py b/beetsplug/chroma.py\nindex 3b2731a..14003d9 100644\n--- a/beetsplug/chroma.py\n+++ b/beetsplug/chroma.py\n@@ -129,7 +129,7 @@ class AcoustidPlugin(plugins.BeetsPlugin):\n         for relid in _all_releases(items):\n             album = hooks._album_for_id(relid)\n             if album:\n-                albums.append(album)\n+                albums.extend(album)\n\n         log.debug('acoustid album candidates: %i' % len(albums))\n         return albums```\n``````\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/299/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/281", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/281/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/281/events", "html_url": "https://github.com/beetbox/beets/issues/281", "id": 14493903, "node_id": "MDU6SXNzdWUxNDQ5MzkwMw==", "number": 281, "title": "art_filename ignore the \"replace\" config option", "user": {"login": "mathgl67", "id": 378588, "node_id": "MDQ6VXNlcjM3ODU4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/378588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathgl67", "html_url": "https://github.com/mathgl67", "followers_url": "https://api.github.com/users/mathgl67/followers", "following_url": "https://api.github.com/users/mathgl67/following{/other_user}", "gists_url": "https://api.github.com/users/mathgl67/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathgl67/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathgl67/subscriptions", "organizations_url": "https://api.github.com/users/mathgl67/orgs", "repos_url": "https://api.github.com/users/mathgl67/repos", "events_url": "https://api.github.com/users/mathgl67/events{/privacy}", "received_events_url": "https://api.github.com/users/mathgl67/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-19T08:54:38Z", "updated_at": "2013-05-19T17:35:03Z", "closed_at": "2013-05-19T17:34:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "No remplacement are made for the art filename.\n\n(beets version 1.1.0-beta.3: plugins: fetchart, embedart, lastgenre)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/281/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/280", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/280/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/280/events", "html_url": "https://github.com/beetbox/beets/issues/280", "id": 14487842, "node_id": "MDU6SXNzdWUxNDQ4Nzg0Mg==", "number": 280, "title": "UnicodeDecodeError with beet update", "user": {"login": "phmongeau", "id": 87895, "node_id": "MDQ6VXNlcjg3ODk1", "avatar_url": "https://avatars.githubusercontent.com/u/87895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phmongeau", "html_url": "https://github.com/phmongeau", "followers_url": "https://api.github.com/users/phmongeau/followers", "following_url": "https://api.github.com/users/phmongeau/following{/other_user}", "gists_url": "https://api.github.com/users/phmongeau/gists{/gist_id}", "starred_url": "https://api.github.com/users/phmongeau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phmongeau/subscriptions", "organizations_url": "https://api.github.com/users/phmongeau/orgs", "repos_url": "https://api.github.com/users/phmongeau/repos", "events_url": "https://api.github.com/users/phmongeau/events{/privacy}", "received_events_url": "https://api.github.com/users/phmongeau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-05-18T19:38:59Z", "updated_at": "2013-05-19T17:13:58Z", "closed_at": "2013-05-19T17:05:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When I run `beet update`, I get a UnicodeDecodeError when it gets to this album: http://musicbrainz.org/release/5fa351f2-8792-495b-bdc8-76e917039d4e\n\nUsing git bisect, I was able to isolate the issue to commit 24c90b565a\n\nHere's the stack trace:\n\n```\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.1.1', 'console_scripts', 'beet')()\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/ui/__init__.py\", line 771, in main\n    _raw_main(args)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/ui/__init__.py\", line 763, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/ui/commands.py\", line 881, in update_func\n    update_items(lib, decargs(args), opts.album, opts.move, opts.pretend)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/ui/commands.py\", line 836, in update_items\n    lib.move(item)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/library.py\", line 1431, in move\n    album.move_art(copy)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/library.py\", line 1646, in move_art\n    new_art = self.art_destination(old_art)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/library.py\", line 1704, in art_destination\n    self.evaluate_template(self._library.art_filename)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/library.py\", line 1746, in evaluate_template\n    mapping[key] = format_for_path(getattr(self, key), key)\n  File \"/Users/philippemongeau/Documents/Python/beets/beets/library.py\", line 197, in format_for_path\n    beets.config['path_sep_replace'].get(unicode),\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 55: ordinal not in range(128)\n```\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/280/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/270", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/270/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/270/events", "html_url": "https://github.com/beetbox/beets/issues/270", "id": 14190354, "node_id": "MDU6SXNzdWUxNDE5MDM1NA==", "number": 270, "title": "Lyricswiki and Musicbrainz characters", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-05-10T13:13:01Z", "updated_at": "2013-05-12T19:47:57Z", "closed_at": "2013-05-12T19:46:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "People on Musicbrainz have the wonderful habit of replacing characters like  '  by stuff like  \u2019  . The problem is that Lyricswiki doesn't use that last kind of apostrophe. So when beets tries to reach for \"Aerosmith - Janie\u2019s Got a Gun\", it finds nothing while there exists http://lyrics.wikia.com/Aerosmith:Janie%27s_Got_A_Gun\n\nWhat would be the most efficient way to deal with that? \n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/270/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/268", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/268/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/268/events", "html_url": "https://github.com/beetbox/beets/issues/268", "id": 14098959, "node_id": "MDU6SXNzdWUxNDA5ODk1OQ==", "number": 268, "title": "lyrics fetch can get stuck without timeout", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2013-05-08T12:57:48Z", "updated_at": "2016-05-07T01:46:24Z", "closed_at": "2016-05-06T16:10:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I use the command \"beet lyrics\", at some point (it seems to be random) it will hang forever and never finish. Using -vvv doesn't show anything.\n\nI guess you need a library big enough to experience that bug.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/268/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/251", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/251/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/251/events", "html_url": "https://github.com/beetbox/beets/issues/251", "id": 13307916, "node_id": "MDU6SXNzdWUxMzMwNzkxNg==", "number": 251, "title": "Lyrics: LyricWiki and capitalization", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-04-17T17:43:08Z", "updated_at": "2013-11-17T12:19:59Z", "closed_at": "2013-05-12T20:14:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "[15:07:51] <Sk> About the lyrics plugin, there is something quite annoying with french songs. On lyricswiki people sometimes use capital letters for all the words of the song title, while on musicbrainz only the first word of the title has a capital letter. The result is that beets doesn't find  the song \"Abc def\", because on lyricswiki it is \"Abc Def\".\n[15:27:36] <Sk> Actually it is not \"sometimes\", it seems to be standart: http://lyrics.wikia.com/LyricWiki_talk:Page_Names#Capitalization\n[16:39:08] <sampsyo> Skeptix: Interesting... so we should capitalize all strings before querying LW?\n[16:47:47] <Sk> sampsyo: I am not sure, it seems quite messy. Some artists follow LW's guidelines, some don't...\n[16:48:19] <sampsyo> Ugh; that's a drag.\n[16:49:27] <Sk> sampsyo: I guess an option that would capitalize would be interesting, so that with two pass (one with and the other without) you would manage to get pretty much everything\n[16:51:00] <sampsyo> Right; I suppose that might help, at the cost of more time spent when the song is not present.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/251/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/230", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/230/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/230/events", "html_url": "https://github.com/beetbox/beets/issues/230", "id": 12282552, "node_id": "MDU6SXNzdWUxMjI4MjU1Mg==", "number": 230, "title": "mbsync: Deal with albums that have multiple copies of the same recording", "user": {"login": "bjin", "id": 175336, "node_id": "MDQ6VXNlcjE3NTMzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/175336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjin", "html_url": "https://github.com/bjin", "followers_url": "https://api.github.com/users/bjin/followers", "following_url": "https://api.github.com/users/bjin/following{/other_user}", "gists_url": "https://api.github.com/users/bjin/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjin/subscriptions", "organizations_url": "https://api.github.com/users/bjin/orgs", "repos_url": "https://api.github.com/users/bjin/repos", "events_url": "https://api.github.com/users/bjin/events{/privacy}", "received_events_url": "https://api.github.com/users/bjin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-03-21T16:23:19Z", "updated_at": "2014-08-22T06:14:20Z", "closed_at": "2014-08-22T06:11:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "the current way mbsync plugin used to obtain track mapping list is to use the MusicBrainz recoding ID from each track, it's a workaround to handle \"missing or extra tracks\". This method is based on an assumption that for each MB release, there are no multiple tracks with same MB recording ID. It usually works, and in my case, only 4 out of 700+ albums disobey this assumption. But for this four albums, I have to fix them by tag track number by hand and re-import.\n\nConsidering it's called \"mbsync\", Why not make an assumption that track number in metadata is not corrupt and use it if possible, or fallback to MB recording ID way if it's corrupted(missing or extra track detected)\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/230/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/230/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/199", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/199/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/199/events", "html_url": "https://github.com/beetbox/beets/issues/199", "id": 11517062, "node_id": "MDU6SXNzdWUxMTUxNzA2Mg==", "number": 199, "title": "Track / recording artist aliases don't always work", "user": {"login": "samdoshi", "id": 112490, "node_id": "MDQ6VXNlcjExMjQ5MA==", "avatar_url": "https://avatars.githubusercontent.com/u/112490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samdoshi", "html_url": "https://github.com/samdoshi", "followers_url": "https://api.github.com/users/samdoshi/followers", "following_url": "https://api.github.com/users/samdoshi/following{/other_user}", "gists_url": "https://api.github.com/users/samdoshi/gists{/gist_id}", "starred_url": "https://api.github.com/users/samdoshi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samdoshi/subscriptions", "organizations_url": "https://api.github.com/users/samdoshi/orgs", "repos_url": "https://api.github.com/users/samdoshi/repos", "events_url": "https://api.github.com/users/samdoshi/events{/privacy}", "received_events_url": "https://api.github.com/users/samdoshi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2013-02-28T20:08:42Z", "updated_at": "2016-05-03T16:36:47Z", "closed_at": "2016-05-03T16:36:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Description\n\nDue to a bug on MusicBrainz ([MBS-4021](http://tickets.musicbrainz.org/browse/MBS-4021)) track and recording artist-credit blocks don't always include their list of aliases; this means that the new code for translating artists (#102) won't always work for track artists (release artists do work).\n\nThis [code review](http://codereview.musicbrainz.org/r/2156/) for a proposed patch has a good description of the issue, and why it doesn't always manifest itself:\n\n```\nhttps://github.com/mwiencek/musicbrainz-server/tree/mbs-4021\n\nThe issue is that aliases are not loaded for recording artists - at all. \nThe only reason the \"aliases\" inc flag currently works for recordings \non single-artist albums is that aliases *are* loaded for album artists, \nthus cached and displayed for recordings whose artists are equal \nto the album's.\n\nThe code is written as if recording artist aliases was not an intended\nfeature at all. But, it's now expected functionality, and even depended \non by Picard to translate artist names.\n```\n\nI think the final bit about Picard is quite interesting (see [PICARD-200](http://tickets.musicbrainz.org/browse/PICARD-200)).\n### Examples\n\nHere is a quick example:\n- **Martha Argerich: The Collection 3** [[WWW](http://musicbrainz.org/release/19dba417-1ac6-40f7-8df7-83a04048211b) / [XML](http://musicbrainz.org/ws/2/release/19dba417-1ac6-40f7-8df7-83a04048211b?inc=artists+artist-credits+recordings+aliases)]. You can see that the XML version does not contain aliases for the track artists (e.g. \u0421\u0435\u0440\u0433\u0435\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u0438\u0447 \u0420\u0430\u0445\u043c\u0430\u043d\u0438\u043d\u043e\u0432 a.k.a. Rachmaninoff), but the release artist does.\n- **Rachmaninoff: \"The Nutcracker\" Suite / Symphonic Dances** [[WWW](http://musicbrainz.org/release/70376719-23f7-4fc2-8cf1-4fe4fe95231a) / [XML](http://musicbrainz.org/ws/2/release/70376719-23f7-4fc2-8cf1-4fe4fe95231a?inc=artists+artist-credits+recordings+aliases)]. The XML for this does contain aliases (and lots of them too!)\n### Options\n\nThe practical upshot of all of this, is that as things currently stand, translations for release artists **do work** and that for track artists they **might work**. It's also clear that the MusicBrainz developers aren't sure what to do about at the moment (and I can't say that I blame them).\n\n**Potential options are:**\n1.  **Do nothing**: We could just see how [MBS-4021](http://tickets.musicbrainz.org/browse/MBS-4021) pans out, especially as the translation features in beets require an unreleased version of [musicbrainzngs](https://github.com/alastair/python-musicbrainz-ngs) so probably won't see a lot of use yet.\n2.  **Disable translations for track artists**: At least it's consistent then.\n3.  **Make an artist API call**: We could get the artists aliases with a secondary to call to the web service ([example](http://musicbrainz.org/ws/2/artist/44b16e44-da77-4580-b851-0d765904573e?inc=aliases)). It would be best to cache the result for an import session as we would most likely use the alias several times. This has the advantage of working no matter what is decided on the MuscBrainz bug.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/199/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/198", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/198/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/198/events", "html_url": "https://github.com/beetbox/beets/issues/198", "id": 11516001, "node_id": "MDU6SXNzdWUxMTUxNjAwMQ==", "number": 198, "title": "Fix performance problems with album-level manipulations", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-02-28T19:43:19Z", "updated_at": "2013-09-17T00:40:27Z", "closed_at": "2013-09-17T00:40:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: adrian.sampson (August 03, 2010 02:44:30)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=82_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/198/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/192", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/192/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/192/events", "html_url": "https://github.com/beetbox/beets/issues/192", "id": 11515990, "node_id": "MDU6SXNzdWUxMTUxNTk5MA==", "number": 192, "title": "Resume doesn't work with import_move or import_delete", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-02-28T19:43:14Z", "updated_at": "2014-08-25T16:30:54Z", "closed_at": "2014-08-25T16:30:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: adrian.sampson (August 18, 2012 19:26:05)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=425_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/192/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/163", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/163/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/163/events", "html_url": "https://github.com/beetbox/beets/issues/163", "id": 11515953, "node_id": "MDU6SXNzdWUxMTUxNTk1Mw==", "number": 163, "title": "per_disc_numbering: Set tracktotal correctly", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-02-28T19:42:56Z", "updated_at": "2013-09-22T02:27:14Z", "closed_at": "2013-09-22T02:27:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: adrian.sampson (January 04, 2013 22:58:07)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=492_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/163/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/162", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/162/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/162/events", "html_url": "https://github.com/beetbox/beets/issues/162", "id": 11515952, "node_id": "MDU6SXNzdWUxMTUxNTk1Mg==", "number": 162, "title": "Lyricswiki and featured artists", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-02-28T19:42:55Z", "updated_at": "2013-04-15T18:11:00Z", "closed_at": "2013-04-15T18:10:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: trash.xa...@gmail.com (December 09, 2012 10:18:22)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=466_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/162/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/158", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/158/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/158/events", "html_url": "https://github.com/beetbox/beets/issues/158", "id": 11515947, "node_id": "MDU6SXNzdWUxMTUxNTk0Nw==", "number": 158, "title": "Avoid unnecessary work when resuming import", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-02-28T19:42:52Z", "updated_at": "2014-08-25T16:46:50Z", "closed_at": "2014-08-25T16:46:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: wemoloht...@gmail.com (January 16, 2012 07:13:35)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=296_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/158/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/148", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/148/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/148/events", "html_url": "https://github.com/beetbox/beets/issues/148", "id": 11515935, "node_id": "MDU6SXNzdWUxMTUxNTkzNQ==", "number": 148, "title": "Handle (all) the HTTP errors", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-02-28T19:42:46Z", "updated_at": "2013-09-17T00:39:58Z", "closed_at": "2013-09-17T00:39:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: daniele.sluijters (December 15, 2012 16:28:39)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=475_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/148/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/138", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/138/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/138/events", "html_url": "https://github.com/beetbox/beets/issues/138", "id": 11515921, "node_id": "MDU6SXNzdWUxMTUxNTkyMQ==", "number": 138, "title": "scrub: Plugin removes embedded album art.", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-02-28T19:42:40Z", "updated_at": "2013-09-22T02:27:14Z", "closed_at": "2013-09-22T02:27:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: florent....@gmail.com (January 04, 2013 12:04:40)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=490_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/138/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/125", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/125/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/125/events", "html_url": "https://github.com/beetbox/beets/issues/125", "id": 11515904, "node_id": "MDU6SXNzdWUxMTUxNTkwNA==", "number": 125, "title": "Skip corrupt/missing files in \"update\" command", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}, {"id": 30151879, "node_id": "MDU6TGFiZWwzMDE1MTg3OQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/migrated", "name": "migrated", "color": "DDDDDD", "default": false, "description": "Issue migrated from Google Code"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2013-02-28T19:42:32Z", "updated_at": "2013-05-09T22:53:25Z", "closed_at": "2013-03-25T19:37:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue was automatically migrated from Google Code.\n_Original author: adrian.sampson (February 12, 2012 21:11:24)_\n_Original issue: http://code.google.com/p/beets/issues/detail?id=338_\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/125/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/108", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/108/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/108/events", "html_url": "https://github.com/beetbox/beets/issues/108", "id": 11460544, "node_id": "MDU6SXNzdWUxMTQ2MDU0NA==", "number": 108, "title": "Path format if for unset attributes returns \"None\"", "user": {"login": "pscn", "id": 1275191, "node_id": "MDQ6VXNlcjEyNzUxOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1275191?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pscn", "html_url": "https://github.com/pscn", "followers_url": "https://api.github.com/users/pscn/followers", "following_url": "https://api.github.com/users/pscn/following{/other_user}", "gists_url": "https://api.github.com/users/pscn/gists{/gist_id}", "starred_url": "https://api.github.com/users/pscn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pscn/subscriptions", "organizations_url": "https://api.github.com/users/pscn/orgs", "repos_url": "https://api.github.com/users/pscn/repos", "events_url": "https://api.github.com/users/pscn/events{/privacy}", "received_events_url": "https://api.github.com/users/pscn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/1", "html_url": "https://github.com/beetbox/beets/milestone/1", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/1/labels", "id": 277239, "node_id": "MDk6TWlsZXN0b25lMjc3MjM5", "number": 1, "title": "1.1", "description": null, "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2013-02-27T18:26:42Z", "updated_at": "2013-03-13T05:00:29Z", "due_on": null, "closed_at": "2013-03-03T22:45:14Z"}, "comments": 3, "created_at": "2013-02-27T15:43:19Z", "updated_at": "2014-04-18T17:03:04Z", "closed_at": "2013-02-28T18:00:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Sorry I don't have time to provide more details or fix it myself at the moment.\n\nI wanted to add the disctitle to the path if disctitle is set. I thought adding something like the following to the path would be enough:  /Disc$disc%if{$disctitle,($disctitle)}/\nBut I ended up with \"/Disc01(None)/\" for releases without a disctitle.  This happens for initial as well as re-imports.\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/107", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/107/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/107/events", "html_url": "https://github.com/beetbox/beets/issues/107", "id": 11448373, "node_id": "MDU6SXNzdWUxMTQ0ODM3Mw==", "number": 107, "title": "mbcollection: Catch MusicBrainz errors", "user": {"login": "grostim", "id": 3714755, "node_id": "MDQ6VXNlcjM3MTQ3NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3714755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grostim", "html_url": "https://github.com/grostim", "followers_url": "https://api.github.com/users/grostim/followers", "following_url": "https://api.github.com/users/grostim/following{/other_user}", "gists_url": "https://api.github.com/users/grostim/gists{/gist_id}", "starred_url": "https://api.github.com/users/grostim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grostim/subscriptions", "organizations_url": "https://api.github.com/users/grostim/orgs", "repos_url": "https://api.github.com/users/grostim/repos", "events_url": "https://api.github.com/users/grostim/events{/privacy}", "received_events_url": "https://api.github.com/users/grostim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/1", "html_url": "https://github.com/beetbox/beets/milestone/1", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/1/labels", "id": 277239, "node_id": "MDk6TWlsZXN0b25lMjc3MjM5", "number": 1, "title": "1.1", "description": null, "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2013-02-27T18:26:42Z", "updated_at": "2013-03-13T05:00:29Z", "due_on": null, "closed_at": "2013-03-03T22:45:14Z"}, "comments": 6, "created_at": "2013-02-27T09:53:24Z", "updated_at": "2014-04-18T17:03:04Z", "closed_at": "2013-02-28T18:43:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\ngrostim@Vesta:~# beet mbupdate\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.1.0-beta.2', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 771, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 763, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/mbcollection.py\", line 41, in update_collection\n    collections = musicbrainz._mb_request('collection', 'GET', True, True)\n  File \"/usr/local/lib/python2.7/dist-packages/musicbrainzngs/musicbrainz.py\", line 300, in __call__\n    return self.fun(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/musicbrainzngs/musicbrainz.py\", line 463, in _mb_request\n    f = _safe_open(opener, req, body)\n  File \"/usr/local/lib/python2.7/dist-packages/musicbrainzngs/musicbrainz.py\", line 365, in _safe_open\n    raise ResponseError(cause=exc)\nmusicbrainzngs.musicbrainz.ResponseError: caused by: HTTP Error 400: Bad Request\n```\n\nAny idea ?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/107/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/beetbox/beets/issues/106", "repository_url": "https://api.github.com/repos/beetbox/beets", "labels_url": "https://api.github.com/repos/beetbox/beets/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/beetbox/beets/issues/106/comments", "events_url": "https://api.github.com/repos/beetbox/beets/issues/106/events", "html_url": "https://github.com/beetbox/beets/issues/106", "id": 11448273, "node_id": "MDU6SXNzdWUxMTQ0ODI3Mw==", "number": 106, "title": "Unicode path error in convert plugin", "user": {"login": "grostim", "id": 3714755, "node_id": "MDQ6VXNlcjM3MTQ3NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3714755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grostim", "html_url": "https://github.com/grostim", "followers_url": "https://api.github.com/users/grostim/followers", "following_url": "https://api.github.com/users/grostim/following{/other_user}", "gists_url": "https://api.github.com/users/grostim/gists{/gist_id}", "starred_url": "https://api.github.com/users/grostim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grostim/subscriptions", "organizations_url": "https://api.github.com/users/grostim/orgs", "repos_url": "https://api.github.com/users/grostim/repos", "events_url": "https://api.github.com/users/grostim/events{/privacy}", "received_events_url": "https://api.github.com/users/grostim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29901025, "node_id": "MDU6TGFiZWwyOTkwMTAyNQ==", "url": "https://api.github.com/repos/beetbox/beets/labels/bug", "name": "bug", "color": "f94e48", "default": true, "description": "bugs that are confirmed and actionable"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/beetbox/beets/milestones/1", "html_url": "https://github.com/beetbox/beets/milestone/1", "labels_url": "https://api.github.com/repos/beetbox/beets/milestones/1/labels", "id": 277239, "node_id": "MDk6TWlsZXN0b25lMjc3MjM5", "number": 1, "title": "1.1", "description": null, "creator": {"login": "sampsyo", "id": 188033, "node_id": "MDQ6VXNlcjE4ODAzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/188033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sampsyo", "html_url": "https://github.com/sampsyo", "followers_url": "https://api.github.com/users/sampsyo/followers", "following_url": "https://api.github.com/users/sampsyo/following{/other_user}", "gists_url": "https://api.github.com/users/sampsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sampsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sampsyo/subscriptions", "organizations_url": "https://api.github.com/users/sampsyo/orgs", "repos_url": "https://api.github.com/users/sampsyo/repos", "events_url": "https://api.github.com/users/sampsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/sampsyo/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2013-02-27T18:26:42Z", "updated_at": "2013-03-13T05:00:29Z", "due_on": null, "closed_at": "2013-03-03T22:45:14Z"}, "comments": 2, "created_at": "2013-02-27T09:50:16Z", "updated_at": "2014-04-18T17:03:04Z", "closed_at": "2013-02-27T18:30:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\ngrostim@Vesta:~# beet convert format:flac\nThe Beatles - A Hard Day\u2019s Night - A Hard Day\u2019s Night\nThe Beatles - A Hard Day\u2019s Night - I Should Have Known Better\nThe Beatles - A Hard Day\u2019s Night - If I Fell\nThe Beatles - A Hard Day\u2019s Night - I\u2019m Happy Just to Dance With You\nThe Beatles - A Hard Day\u2019s Night - And I Love Her\n[...]\nSimon & Garfunkel - Bridge Over Troubled Water - The Boxer\nSimon & Garfunkel - Bridge Over Troubled Water - Baby Driver\nSimon & Garfunkel - Bridge Over Troubled Water - The Only Living Boy In New York\nSimon & Garfunkel - Bridge Over Troubled Water - Why Don't You Write Me\nSimon & Garfunkel - Bridge Over Troubled Water - Bye Bye Love\nSimon & Garfunkel - Bridge Over Troubled Water - Song For The Asking\nConvert? (Y/n) Y\nTraceback (most recent call last):\n  File \"/usr/local/bin/beet\", line 9, in <module>\n    load_entry_point('beets==1.1.0-beta.2', 'console_scripts', 'beet')()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 771, in main\n    _raw_main(args)\n  File \"/usr/local/lib/python2.7/dist-packages/beets/ui/__init__.py\", line 763, in _raw_main\n    subcommand.func(lib, suboptions, subargs)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/convert.py\", line 105, in convert_func\n    pipe.run_parallel()\n  File \"/usr/local/lib/python2.7/dist-packages/beets/util/pipeline.py\", line 288, in run\n    self.coro.send(msg)\n  File \"/usr/local/lib/python2.7/dist-packages/beetsplug/convert.py\", line 56, in convert_item\n    if os.path.exists(dest):\n  File \"/usr/lib/python2.7/genericpath.py\", line 18, in exists\n    os.stat(path)\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\u2019' in position 44: ordinal not in range(128)\n```\n\nAny idea ?\n", "reactions": {"url": "https://api.github.com/repos/beetbox/beets/issues/106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/beetbox/beets/issues/106/timeline", "performed_via_github_app": null, "state_reason": "completed"}]