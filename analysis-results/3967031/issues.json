[{"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2539", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2539/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2539/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2539/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2539", "id": 1677031430, "node_id": "I_kwDOBM6RF85j9XgG", "number": 2539, "title": "Unexpected primary key for `denorm_fuel_by_plant_ferc1`", "user": {"login": "e-belfer", "id": 37471869, "node_id": "MDQ6VXNlcjM3NDcxODY5", "avatar_url": "https://avatars.githubusercontent.com/u/37471869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-belfer", "html_url": "https://github.com/e-belfer", "followers_url": "https://api.github.com/users/e-belfer/followers", "following_url": "https://api.github.com/users/e-belfer/following{/other_user}", "gists_url": "https://api.github.com/users/e-belfer/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-belfer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-belfer/subscriptions", "organizations_url": "https://api.github.com/users/e-belfer/orgs", "repos_url": "https://api.github.com/users/e-belfer/repos", "events_url": "https://api.github.com/users/e-belfer/events{/privacy}", "received_events_url": "https://api.github.com/users/e-belfer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-20T16:15:09Z", "updated_at": "2023-04-20T16:24:50Z", "closed_at": "2023-04-20T16:24:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Describe the bug\r\nAs found in #2521, the `denorm_fuel_by_plant_ferc1` table aggregates fuel types by plant. However, plant ID is not a primary key of this table. This is counterintuitive to the table description and unexpected.\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n **Low:** The bug isn't causing me problems, but something's still wrong here.\r\n\r\n### To Reproduce\r\n```\r\nasset_name = \"denorm_fuel_by_plant_ferc1\"\r\nnew_df = defs.load_asset_value(AssetKey(asset_name))\r\nnew_df.set_index([\"report_year\", \"plant_id_pudl\"]).index.is_unique # Same for `plant_name_ferc1`\r\n```\r\n\r\n### Expected behavior\r\nSome plant ID column should act as the primary key for this table.\r\n\r\n### Additional context\r\nUp until now we haven't applied a schema to the output tables, so we haven't had to consider this yet.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2539/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2426", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2426/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2426/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2426/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2426", "id": 1632997015, "node_id": "I_kwDOBM6RF85hVY6X", "number": 2426, "title": "Segmentation fault when importing PUDL installed from conda-forge", "user": {"login": "arengel", "id": 14152953, "node_id": "MDQ6VXNlcjE0MTUyOTUz", "avatar_url": "https://avatars.githubusercontent.com/u/14152953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arengel", "html_url": "https://github.com/arengel", "followers_url": "https://api.github.com/users/arengel/followers", "following_url": "https://api.github.com/users/arengel/following{/other_user}", "gists_url": "https://api.github.com/users/arengel/gists{/gist_id}", "starred_url": "https://api.github.com/users/arengel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arengel/subscriptions", "organizations_url": "https://api.github.com/users/arengel/orgs", "repos_url": "https://api.github.com/users/arengel/repos", "events_url": "https://api.github.com/users/arengel/events{/privacy}", "received_events_url": "https://api.github.com/users/arengel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 2724491583, "node_id": "MDU6TGFiZWwyNzI0NDkxNTgz", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": null, "assignees": [{"login": "jdangerx", "id": 2495794, "node_id": "MDQ6VXNlcjI0OTU3OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2495794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdangerx", "html_url": "https://github.com/jdangerx", "followers_url": "https://api.github.com/users/jdangerx/followers", "following_url": "https://api.github.com/users/jdangerx/following{/other_user}", "gists_url": "https://api.github.com/users/jdangerx/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdangerx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdangerx/subscriptions", "organizations_url": "https://api.github.com/users/jdangerx/orgs", "repos_url": "https://api.github.com/users/jdangerx/repos", "events_url": "https://api.github.com/users/jdangerx/events{/privacy}", "received_events_url": "https://api.github.com/users/jdangerx/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/42", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/42", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/42/labels", "id": 9141602, "node_id": "MI_kwDOBM6RF84Ai31i", "number": 42, "title": "2023 Spring", "description": "Work that we will include in our Spring, 2023 Release.", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 37, "closed_issues": 22, "state": "open", "created_at": "2023-03-09T22:46:57Z", "updated_at": "2023-04-27T19:41:02Z", "due_on": "2023-06-21T07:00:00Z", "closed_at": null}, "comments": 22, "created_at": "2023-03-20T23:05:53Z", "updated_at": "2023-04-24T19:06:25Z", "closed_at": "2023-04-24T19:06:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Describe the bug\nI just re-created a new conda environment where I installed PUDL from conda-forge. When I import PUDL in that environment, it results in a segmentation fault.\n\nThe last time I installed PUDL from conda-forge, this didn't happen, though I can't say for sure when that would have been.\n\n### Bug Severity\nHow badly is this bug affecting you?\n - **Low:** When installed using pip, this doesn't seem to happen so I can work around it.\n\n### To Reproduce\nCreate the new environment, install PUDL, activate the environment, and launch a python console.\n```shell\nmamba create --name test python=3.10 catalystcoop.pudl\nmamba activate test\npython\n```\n\nIn the console, import PUDL\n```python\nimport pudl\n```\n\nThe console then produces this output and exits.\n```\n/Users/aengel/mambaforge/envs/test/lib/python3.10/site-packages/pudl/analysis/spatial.py:7: UserWarning: Shapely 2.0 is installed, but because PyGEOS is also installed, GeoPandas will still use PyGEOS by default for now. To force to use and test Shapely 2.0, you have to set the environment variable USE_PYGEOS=0. You can do this before starting the Python process, or in your code before importing geopandas:\n\nimport os\nos.environ['USE_PYGEOS'] = '0'\nimport geopandas\n\nIn a future release, GeoPandas will switch to using Shapely by default. If you are using PyGEOS directly (calling PyGEOS functions on geometries from GeoPandas), this will then stop working and you are encouraged to migrate from PyGEOS to Shapely 2.0 (https://shapely.readthedocs.io/en/latest/migration_pygeos.html).\n  import geopandas as gpd\nzsh: segmentation fault  python\n```\n\n### Software Environment?\n - Operating System. MacOS 12.6.3\n - Python 3.10.9 | packaged by conda-forge | (main, Feb  2 2023, 20:26:08) [Clang 14.0.6 ] on darwin\n - How did you install PUDL?\n    - `mamba create --name test python=3.10 catalystcoop.pudl`\n\nFull set of packages and versions:\n```\n# packages in environment at /Users/aengel/mambaforge/envs/test:\n#\n# Name                    Version                   Build  Channel\naddfips                   0.4.0              pyhd8ed1ab_1    conda-forge\naiohttp                   3.8.4           py310h8e9501a_0    conda-forge\naiosignal                 1.3.1              pyhd8ed1ab_0    conda-forge\narelle-release            2.2.4              pyhd8ed1ab_1    conda-forge\narrow-cpp                 10.0.1          hce30654_17_cpu    conda-forge\nasync-timeout             4.0.2              pyhd8ed1ab_0    conda-forge\nattrs                     22.2.0             pyh71513ae_0    conda-forge\naws-c-auth                0.6.26               h0f48f9c_0    conda-forge\naws-c-cal                 0.5.21               h134b2d6_2    conda-forge\naws-c-common              0.8.14               h1a8c8d9_0    conda-forge\naws-c-compression         0.2.16               h59b28b2_5    conda-forge\naws-c-event-stream        0.2.20               ha370d96_4    conda-forge\naws-c-http                0.7.5                hca61f3c_5    conda-forge\naws-c-io                  0.13.19              ha2443f3_1    conda-forge\naws-c-mqtt                0.8.6               hcfee220_11    conda-forge\naws-c-s3                  0.2.7                h050892e_0    conda-forge\naws-c-sdkutils            0.1.8                h59b28b2_0    conda-forge\naws-checksums             0.1.14               h59b28b2_5    conda-forge\naws-crt-cpp               0.19.8              h0287f93_11    conda-forge\naws-sdk-cpp               1.10.57              h3daea3c_8    conda-forge\nblinker                   1.5                pyhd8ed1ab_0    conda-forge\nblosc                     1.21.3               h1d6ff8b_0    conda-forge\nbokeh                     2.4.3              pyhd8ed1ab_3    conda-forge\nboost-cpp                 1.78.0               h1cb353e_1    conda-forge\nboto3                     1.26.94            pyhd8ed1ab_0    conda-forge\nbotocore                  1.29.94            pyhd8ed1ab_0    conda-forge\nbranca                    0.6.0              pyhd8ed1ab_0    conda-forge\nbrotli                    1.0.9                h1a8c8d9_8    conda-forge\nbrotli-bin                1.0.9                h1a8c8d9_8    conda-forge\nbrotlipy                  0.7.0           py310h8e9501a_1005    conda-forge\nbzip2                     1.0.8                h3422bc3_4    conda-forge\nc-ares                    1.18.1               h3422bc3_0    conda-forge\nca-certificates           2022.12.7            h4653dfc_0    conda-forge\ncached-property           1.5.2                hd8ed1ab_1    conda-forge\ncached_property           1.5.2              pyha770c72_1    conda-forge\ncachetools                5.3.0              pyhd8ed1ab_0    conda-forge\ncairo                     1.16.0            h73a0509_1014    conda-forge\ncatalystcoop.dbfread      3.0.0                      py_0    conda-forge\ncatalystcoop.ferc-xbrl-extractor 0.6.1              pyhd8ed1ab_1    conda-forge\ncatalystcoop.pudl         2022.11.30         pyhd8ed1ab_0    conda-forge\ncchardet                  2.1.7           py310h0f1eb42_4    conda-forge\ncertifi                   2022.12.7          pyhd8ed1ab_0    conda-forge\ncffi                      1.15.1          py310h2399d43_3    conda-forge\ncfitsio                   4.2.0                h2f961c4_0    conda-forge\nchardet                   5.1.0           py310hbe9552e_0    conda-forge\ncharset-normalizer        2.1.1              pyhd8ed1ab_0    conda-forge\nclick                     8.1.3           unix_pyhd8ed1ab_2    conda-forge\nclick-plugins             1.1.1                      py_0    conda-forge\ncligj                     0.7.2              pyhd8ed1ab_1    conda-forge\ncloudpickle               2.2.1              pyhd8ed1ab_0    conda-forge\ncolorama                  0.4.6              pyhd8ed1ab_0    conda-forge\ncoloredlogs               15.0.1             pyhd8ed1ab_3    conda-forge\ncommonmark                0.9.1                      py_0    conda-forge\ncontourpy                 1.0.7           py310h2887b22_0    conda-forge\ncryptography              39.0.2          py310hfc83b78_0    conda-forge\ncurl                      7.88.1               h9049daf_1    conda-forge\ncycler                    0.11.0             pyhd8ed1ab_0    conda-forge\ncytoolz                   0.12.0          py310h8e9501a_1    conda-forge\ndask                      2022.11.1          pyhd8ed1ab_0    conda-forge\ndask-core                 2022.11.1          pyhd8ed1ab_0    conda-forge\ndataclasses               0.8                pyhc8e2a94_3    conda-forge\ndatapackage               1.15.2             pyh44b312d_0    conda-forge\ndecorator                 5.1.1              pyhd8ed1ab_0    conda-forge\ndistributed               2022.11.1          pyhd8ed1ab_0    conda-forge\ndnspython                 2.3.0              pyhd8ed1ab_0    conda-forge\nemail-validator           1.3.1              pyhd8ed1ab_0    conda-forge\net_xmlfile                1.1.0              pyhd8ed1ab_0    conda-forge\nexpat                     2.5.0                hb7217d7_0    conda-forge\nfiona                     1.9.2           py310h2e51ddd_0    conda-forge\nfolium                    0.14.0             pyhd8ed1ab_0    conda-forge\nfont-ttf-dejavu-sans-mono 2.37                 hab24e00_0    conda-forge\nfont-ttf-inconsolata      3.000                h77eed37_0    conda-forge\nfont-ttf-source-code-pro  2.038                h77eed37_0    conda-forge\nfont-ttf-ubuntu           0.83                 hab24e00_0    conda-forge\nfontconfig                2.14.2               h82840c6_0    conda-forge\nfonts-conda-ecosystem     1                             0    conda-forge\nfonts-conda-forge         1                             0    conda-forge\nfonttools                 4.39.2          py310h8e9501a_0    conda-forge\nfreetype                  2.12.1               hd633e50_1    conda-forge\nfreexl                    1.0.6                h1a8c8d9_1    conda-forge\nfrictionless              4.40.8             pyh6c4a22f_0    conda-forge\nfrozenlist                1.3.3           py310h8e9501a_0    conda-forge\nfsspec                    2022.11.0          pyhd8ed1ab_0    conda-forge\nfuture                    0.18.3             pyhd8ed1ab_0    conda-forge\ngcsfs                     2022.11.0          pyhd8ed1ab_0    conda-forge\ngdal                      3.6.3           py310h0b34360_0    conda-forge\ngeopandas                 0.12.2             pyhd8ed1ab_0    conda-forge\ngeopandas-base            0.12.2             pyha770c72_0    conda-forge\ngeos                      3.11.1               hb7217d7_0    conda-forge\ngeotiff                   1.7.1                h435296a_7    conda-forge\ngettext                   0.21.1               h0186832_0    conda-forge\ngflags                    2.2.2             hc88da5d_1004    conda-forge\ngiflib                    5.2.1                h1a8c8d9_3    conda-forge\nglog                      0.6.0                h6da1cb0_0    conda-forge\ngoogle-api-core           2.11.0             pyhd8ed1ab_0    conda-forge\ngoogle-auth               2.16.2             pyh1a96a4e_0    conda-forge\ngoogle-auth-oauthlib      1.0.0              pyhd8ed1ab_0    conda-forge\ngoogle-cloud-core         2.3.2              pyhd8ed1ab_0    conda-forge\ngoogle-cloud-storage      2.7.0              pyh1a96a4e_0    conda-forge\ngoogle-crc32c             1.1.2           py310he58995c_4    conda-forge\ngoogle-resumable-media    2.4.1              pyhd8ed1ab_0    conda-forge\ngoogleapis-common-protos  1.57.1             pyhd8ed1ab_0    conda-forge\ngreenlet                  2.0.2           py310h0f1eb42_0    conda-forge\ngrpcio                    1.52.1          py310h0f1eb42_1    conda-forge\nh3-py                     3.7.4           py310h0f1eb42_1    conda-forge\nhdf4                      4.2.15               h8111dcc_6    conda-forge\nhdf5                      1.12.2          nompi_ha7af310_101    conda-forge\nheapdict                  1.0.1                      py_0    conda-forge\nhumanfriendly             10.0            py310hbe9552e_4    conda-forge\nicu                       70.1                 h6b3803e_0    conda-forge\nidna                      3.4                pyhd8ed1ab_0    conda-forge\nijson                     3.2.0.post0        pyhd8ed1ab_0    conda-forge\nimportlib-metadata        6.1.0              pyha770c72_0    conda-forge\nimportlib_resources       5.12.0             pyhd8ed1ab_0    conda-forge\niniconfig                 2.0.0              pyhd8ed1ab_0    conda-forge\nisodate                   0.6.1              pyhd8ed1ab_0    conda-forge\njinja2                    3.1.2              pyhd8ed1ab_1    conda-forge\njmespath                  1.0.1              pyhd8ed1ab_0    conda-forge\njoblib                    1.2.0              pyhd8ed1ab_0    conda-forge\njson-c                    0.16                 hc449e50_0    conda-forge\njsonlines                 3.1.0              pyhd8ed1ab_0    conda-forge\njsonpointer               2.0                        py_0    conda-forge\njsonschema                4.17.3             pyhd8ed1ab_0    conda-forge\nkealib                    1.5.0                hfd766a6_0    conda-forge\nkiwisolver                1.4.4           py310h2887b22_1    conda-forge\nkrb5                      1.20.1               h69eda48_0    conda-forge\nlcms2                     2.15                 hd835a16_1    conda-forge\nlerc                      4.0.0                h9a09cb3_0    conda-forge\nlibabseil                 20230125.0      cxx17_hb7217d7_1    conda-forge\nlibaec                    1.0.6                hb7217d7_1    conda-forge\nlibarrow                  10.0.1          hdcd110a_17_cpu    conda-forge\nlibblas                   3.9.0           16_osxarm64_openblas    conda-forge\nlibbrotlicommon           1.0.9                h1a8c8d9_8    conda-forge\nlibbrotlidec              1.0.9                h1a8c8d9_8    conda-forge\nlibbrotlienc              1.0.9                h1a8c8d9_8    conda-forge\nlibcblas                  3.9.0           16_osxarm64_openblas    conda-forge\nlibcrc32c                 1.1.2                hbdafb3b_0    conda-forge\nlibcurl                   7.88.1               h9049daf_1    conda-forge\nlibcxx                    15.0.7               h75e25f2_0    conda-forge\nlibdeflate                1.17                 h1a8c8d9_0    conda-forge\nlibedit                   3.1.20191231         hc8eb9b7_2    conda-forge\nlibev                     4.33                 h642e427_1    conda-forge\nlibevent                  2.1.10               h7673551_4    conda-forge\nlibffi                    3.4.2                h3422bc3_5    conda-forge\nlibgdal                   3.6.3                h2c41457_0    conda-forge\nlibgfortran               5.0.0           12_2_0_hd922786_31    conda-forge\nlibgfortran5              12.2.0              h0eea778_31    conda-forge\nlibglib                   2.74.1               h4646484_1    conda-forge\nlibgoogle-cloud           2.8.0                h7206bc8_1    conda-forge\nlibgrpc                   1.52.1               he98ff75_1    conda-forge\nlibiconv                  1.17                 he4db4b2_0    conda-forge\nlibjpeg-turbo             2.1.5.1              h1a8c8d9_0    conda-forge\nlibkml                    1.3.0             h41464e4_1015    conda-forge\nliblapack                 3.9.0           16_osxarm64_openblas    conda-forge\nlibllvm11                 11.1.0               hfa12f05_5    conda-forge\nlibnetcdf                 4.9.1           nompi_hda66dd9_102    conda-forge\nlibnghttp2                1.52.0               hae82a92_0    conda-forge\nlibopenblas               0.3.21          openmp_hc731615_3    conda-forge\nlibpng                    1.6.39               h76d750c_0    conda-forge\nlibpq                     15.2                 h1a28acd_0    conda-forge\nlibprotobuf               3.21.12              hb5ab8b9_0    conda-forge\nlibrttopo                 1.1.0               h844f84d_12    conda-forge\nlibspatialindex           1.9.3                hbdafb3b_4    conda-forge\nlibspatialite             5.0.1               h14115fc_23    conda-forge\nlibsqlite                 3.40.0               h76d750c_0    conda-forge\nlibssh2                   1.10.0               h7a5bd25_3    conda-forge\nlibthrift                 0.18.1               h6635e49_0    conda-forge\nlibtiff                   4.5.0                hdc14d85_5    conda-forge\nlibutf8proc               2.8.0                h1a8c8d9_0    conda-forge\nlibwebp-base              1.3.0                h1a8c8d9_0    conda-forge\nlibxcb                    1.13              h9b22ae9_1004    conda-forge\nlibxml2                   2.10.3               h67585b2_4    conda-forge\nlibxslt                   1.1.37               h1bd8bc4_0    conda-forge\nlibzip                    1.9.2                h76ab92c_1    conda-forge\nlibzlib                   1.2.13               h03a7124_4    conda-forge\nlinear-tsv                1.1.0                      py_1    conda-forge\nllvm-openmp               16.0.0               h7cfbb63_0    conda-forge\nllvmlite                  0.39.1          py310h1e34944_1    conda-forge\nlocket                    1.0.0              pyhd8ed1ab_0    conda-forge\nlxml                      4.9.2           py310h85b680a_0    conda-forge\nlz4                       4.3.2           py310ha6df754_0    conda-forge\nlz4-c                     1.9.4                hb7217d7_0    conda-forge\nmapclassify               2.5.0              pyhd8ed1ab_1    conda-forge\nmarko                     1.3.0              pyhd8ed1ab_0    conda-forge\nmarkupsafe                2.1.2           py310h8e9501a_0    conda-forge\nmatplotlib-base           3.6.3           py310h78c5c2f_0    conda-forge\nmsgpack-python            1.0.5           py310h2887b22_0    conda-forge\nmultidict                 6.0.4           py310h8e9501a_0    conda-forge\nmunch                     2.5.0                      py_0    conda-forge\nmunkres                   1.1.4              pyh9f0ad1d_0    conda-forge\nncurses                   6.3                  h07bb92c_1    conda-forge\nnetworkx                  2.8.8              pyhd8ed1ab_0    conda-forge\nnspr                      4.35                 hb7217d7_0    conda-forge\nnss                       3.89                 h789eff7_0    conda-forge\nnumba                     0.56.4          py310h3124f1e_0    conda-forge\nnumpy                     1.23.5          py310h5d7c261_0    conda-forge\noauthlib                  3.2.2              pyhd8ed1ab_0    conda-forge\nopenjpeg                  2.5.0                hbc2ba62_2    conda-forge\nopenpyxl                  3.1.1           py310h8e9501a_0    conda-forge\nopenssl                   3.1.0                h03a7124_0    conda-forge\norc                       1.8.3                hef0d403_0    conda-forge\npackaging                 23.0               pyhd8ed1ab_0    conda-forge\npandas                    1.4.4           py310h2b830bf_0    conda-forge\nparquet-cpp               1.5.1                         2    conda-forge\npartd                     1.3.0              pyhd8ed1ab_0    conda-forge\npcre2                     10.40                hb34f9b4_0    conda-forge\npetl                      1.7.12             pyhd8ed1ab_0    conda-forge\npillow                    9.4.0           py310h07496d3_2    conda-forge\npip                       23.0.1             pyhd8ed1ab_0    conda-forge\npixman                    0.40.0               h27ca646_0    conda-forge\npkgutil-resolve-name      1.3.10             pyhd8ed1ab_0    conda-forge\npluggy                    1.0.0              pyhd8ed1ab_5    conda-forge\npoppler                   23.03.0              h15f6d88_1    conda-forge\npoppler-data              0.4.12               hd8ed1ab_0    conda-forge\npostgresql                15.2                 h45c140d_0    conda-forge\nproj                      9.1.1                h13f728c_2    conda-forge\nprotobuf                  4.21.12         py310h0f1eb42_0    conda-forge\npsutil                    5.9.4           py310h8e9501a_0    conda-forge\npthread-stubs             0.4               h27ca646_1001    conda-forge\npy                        1.11.0             pyh6c4a22f_0    conda-forge\npyarrow                   10.0.1          py310h89f3c6b_17_cpu    conda-forge\npyasn1                    0.4.8                      py_0    conda-forge\npyasn1-modules            0.2.7                      py_0    conda-forge\npycparser                 2.21               pyhd8ed1ab_0    conda-forge\npydantic                  1.10.6          py310h8e9501a_0    conda-forge\npygeos                    0.13            py310h9356385_2    conda-forge\npygments                  2.14.0             pyhd8ed1ab_0    conda-forge\npyjwt                     2.6.0              pyhd8ed1ab_0    conda-forge\npyopenssl                 23.0.0             pyhd8ed1ab_0    conda-forge\npyparsing                 3.0.9              pyhd8ed1ab_0    conda-forge\npyproj                    3.4.1           py310h9862ddf_1    conda-forge\npyrsistent                0.19.3          py310h8e9501a_0    conda-forge\npysocks                   1.7.1              pyha2e5f31_6    conda-forge\npytest                    6.2.5           py310hbe9552e_3    conda-forge\npython                    3.10.9          h3ba56d0_0_cpython    conda-forge\npython-dateutil           2.8.2              pyhd8ed1ab_0    conda-forge\npython-slugify            8.0.1              pyhd8ed1ab_1    conda-forge\npython-snappy             0.6.1           py310h7f31a72_0    conda-forge\npython_abi                3.10                    3_cp310    conda-forge\npytz                      2022.7.1           pyhd8ed1ab_0    conda-forge\npyu2f                     0.1.5              pyhd8ed1ab_0    conda-forge\npyyaml                    6.0             py310h8e9501a_5    conda-forge\nre2                       2023.02.02           hb7217d7_0    conda-forge\nreadline                  8.1.2                h46ed386_0    conda-forge\nregex                     2022.10.31      py310h8e9501a_0    conda-forge\nrequests                  2.28.2             pyhd8ed1ab_0    conda-forge\nrequests-oauthlib         1.3.1              pyhd8ed1ab_0    conda-forge\nrfc3986                   2.0.0              pyhd8ed1ab_0    conda-forge\nrich                      12.6.0             pyhd8ed1ab_0    conda-forge\nrsa                       4.9                pyhd8ed1ab_0    conda-forge\nrtree                     1.0.1           py310ha3239f5_1    conda-forge\ns3transfer                0.6.0              pyhd8ed1ab_0    conda-forge\nscikit-learn              1.1.3           py310ha00a7cd_1    conda-forge\nscipy                     1.9.3           py310ha0d8a01_2    conda-forge\nsetuptools                67.6.0             pyhd8ed1ab_0    conda-forge\nshapely                   2.0.1           py310h9356385_0    conda-forge\nshellingham               1.5.1              pyhd8ed1ab_0    conda-forge\nsimpleeval                0.9.13          py310h8e9501a_0    conda-forge\nsix                       1.16.0             pyh6c4a22f_0    conda-forge\nsnappy                    1.1.10               h17c5cce_0    conda-forge\nsortedcontainers          2.4.0              pyhd8ed1ab_0    conda-forge\nsqlalchemy                1.4.44          py310h8e9501a_0    conda-forge\nsqlite                    3.40.0               h2229b38_0    conda-forge\nstringcase                1.2.0                      py_0    conda-forge\ntableschema               1.19.3             pyh9f0ad1d_0    conda-forge\ntabulate                  0.9.0              pyhd8ed1ab_1    conda-forge\ntabulator                 1.53.5             pyhd8ed1ab_0    conda-forge\ntblib                     1.7.0              pyhd8ed1ab_0    conda-forge\ntext-unidecode            1.3                        py_0    conda-forge\nthreadpoolctl             3.1.0              pyh8a188c0_0    conda-forge\ntiledb                    2.13.2               h9bd36d0_0    conda-forge\ntimezonefinder            6.0.2              pyhd8ed1ab_0    conda-forge\ntk                        8.6.12               he1e0b03_0    conda-forge\ntoml                      0.10.2             pyhd8ed1ab_0    conda-forge\ntoolz                     0.12.0             pyhd8ed1ab_0    conda-forge\ntornado                   6.1             py310hf8d0d8f_3    conda-forge\ntyper                     0.7.0              pyhd8ed1ab_0    conda-forge\ntyping-extensions         4.5.0                hd8ed1ab_0    conda-forge\ntyping_extensions         4.5.0              pyha770c72_0    conda-forge\ntzcode                    2022g                h1a8c8d9_0    conda-forge\ntzdata                    2022g                h191b570_0    conda-forge\nunicodecsv                0.14.1                     py_1    conda-forge\nunicodedata2              15.0.0          py310h8e9501a_0    conda-forge\nunidecode                 1.3.6              pyhd8ed1ab_0    conda-forge\nurllib3                   1.26.15            pyhd8ed1ab_0    conda-forge\nvalidators                0.20.0             pyhd8ed1ab_0    conda-forge\nwheel                     0.40.0             pyhd8ed1ab_0    conda-forge\nxerces-c                  3.2.4                h627aa08_1    conda-forge\nxlrd                      2.0.1              pyhd8ed1ab_3    conda-forge\nxlsxwriter                3.0.9              pyhd8ed1ab_0    conda-forge\nxorg-libxau               1.0.9                h27ca646_0    conda-forge\nxorg-libxdmcp             1.1.3                h27ca646_0    conda-forge\nxyzservices               2023.2.0           pyhd8ed1ab_0    conda-forge\nxz                        5.2.6                h57fd34a_0    conda-forge\nyaml                      0.2.5                h3422bc3_2    conda-forge\nyarl                      1.8.2           py310h8e9501a_0    conda-forge\nzict                      2.2.0              pyhd8ed1ab_0    conda-forge\nzipp                      3.15.0             pyhd8ed1ab_0    conda-forge\nzlib                      1.2.13               h03a7124_4    conda-forge\nzstd                      1.5.2                hf913c23_6    conda-forge\n\n```\n\n### Additional context\nAdd any other context about the problem here.\n\n\n========\nedit from @jdangerx \n\n```[tasklist]\n### Scope\n- [ ] this segfault doesn't happen anymore.\n```\n\n```[tasklist]\n### Next steps\n- [ ] see if we can downgrade the h3 dependency in our conda-forge package?\n```\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2426/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2419", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2419/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2419/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2419/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2419", "id": 1630755238, "node_id": "I_kwDOBM6RF85hM1mm", "number": 2419, "title": "New / old input / output paths are behaving inconsistently", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 970341148, "node_id": "MDU6TGFiZWw5NzAzNDExNDg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/testing", "name": "testing", "color": "93e88d", "default": false, "description": "Writing tests, creating test data, automating testing, etc."}, {"id": 1073066788, "node_id": "MDU6TGFiZWwxMDczMDY2Nzg4", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc714", "name": "ferc714", "color": "2043db", "default": false, "description": "Anything having to do with FERC Form 714"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/41", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/41", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/41/labels", "id": 9141571, "node_id": "MI_kwDOBM6RF84Ai31D", "number": 41, "title": "2023 Winter", "description": "The main goal of our 2023 Q1 release is to get the ETL migrated into Dagster and have all of our useful output and analysis tables written directly into the database we distribute. See #2246 and #1973", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 59, "state": "closed", "created_at": "2023-03-09T22:42:21Z", "updated_at": "2023-04-05T15:22:52Z", "due_on": "2023-03-20T07:00:00Z", "closed_at": "2023-04-04T22:58:18Z"}, "comments": 0, "created_at": "2023-03-19T03:07:58Z", "updated_at": "2023-03-22T18:47:28Z", "closed_at": "2023-03-22T18:47:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When attempting to test that the FERC-714 outputs were still working after bringing the EIA-861 into the PUDL DB by running pytest:\r\n\r\n```bash\r\npytest --live-dbs test/integration/output_test.py::test_ferc1_outputs\r\n```\r\nI got the following errors:\r\n\r\n```\r\nERROR test/integration/output_test.py::test_ferc714_outputs[annualize] - ValueError: No DB found at /private/var/folders/ps/6jyqvztj5fq_tvhwx5h59d7w0000z8/T/pytest-of-zane/pytest-92/pudl_output0/ferc1.sqlite. Run the job that creates the ferc1 database.\r\nERROR test/integration/output_test.py::test_ferc714_outputs[categorize] - ValueError: No DB found at /private/var/folders/ps/6jyqvztj5fq_tvhwx5h59d7w0000z8/T/pytest-of-zane/pytest-92/pudl_output0/ferc1.sqlite. Run the job that creates the ferc1 database.\r\nERROR test/integration/output_test.py::test_ferc714_outputs[summarize_demand] - ValueError: No DB found at /private/var/folders/ps/6jyqvztj5fq_tvhwx5h59d7w0000z8/T/pytest-of-zane/pytest-92/pudl_output0/ferc1.sqlite. Run the job that creates the ferc1 database.\r\nERROR test/integration/output_test.py::test_ferc714_outputs[fipsify] - ValueError: No DB found at /private/var/folders/ps/6jyqvztj5fq_tvhwx5h59d7w0000z8/T/pytest-of-zane/pytest-92/pudl_output0/ferc1.sqlite. Run the job that creates the ferc1 database.\r\n```\r\n\r\nApparently even with the `--live-dbs` argument pytest was still looking for the `ferc1.sqlite` DB in one of pytest's temporary directories.\r\n\r\nThe `pudl_settings` that were logged show that `sqlite_dir` and `parquet_dir` are pointing at the temporary directories:\r\n\r\n```python\r\npudl_settings = {\r\n  \"pudl_in\": \"/Users/zane/code/catalyst/pudl-work\",\r\n  \"data_dir\": \"/Users/zane/code/catalyst/pudl-work/data\",\r\n  \"settings_dir\": \"/Users/zane/code/catalyst/pudl-work/settings\",\r\n  \"pudl_out\": \"/Users/zane/code/catalyst/pudl-work\",\r\n  \"sqlite_dir\": \"/private/var/folders/ps/6jyqvztj5fq_tvhwx5h59d7w0000z8/T/pytest-of-zane/pytest-92/pudl_output0\",\r\n  \"parquet_dir\": \"/private/var/folders/ps/6jyqvztj5fq_tvhwx5h59d7w0000z8/T/pytest-of-zane/pytest-92/pudl_output0\",\r\n  \"PUDL_OUTPUT\": \"/private/var/folders/ps/6jyqvztj5fq_tvhwx5h59d7w0000z8/T/pytest-of-zane/pytest-92/pudl_output0/output\",\r\n  \"PUDL_INPUT\": \"/Users/zane/code/catalyst/pudl-work/data\",\r\n  \"ferc1_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/ferc1.sqlite\",\r\n  \"ferc1_xbrl_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/ferc1_xbrl.sqlite\",\r\n  \"ferc1_xbrl_datapackage\": \"/Users/zane/code/catalyst/pudl-work/output/ferc1_xbrl_datapackage.json\",\r\n  \"ferc1_xbrl_taxonomy_metadata\": \"/Users/zane/code/catalyst/pudl-work/output/ferc1_xbrl_taxonomy_metadata.json\",\r\n  \"ferc2_xbrl_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/ferc2_xbrl.sqlite\",\r\n  \"ferc2_xbrl_datapackage\": \"/Users/zane/code/catalyst/pudl-work/output/ferc2_xbrl_datapackage.json\",\r\n  \"ferc2_xbrl_taxonomy_metadata\": \"/Users/zane/code/catalyst/pudl-work/output/ferc2_xbrl_taxonomy_metadata.json\",\r\n  \"ferc6_xbrl_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/ferc6_xbrl.sqlite\",\r\n  \"ferc6_xbrl_datapackage\": \"/Users/zane/code/catalyst/pudl-work/output/ferc6_xbrl_datapackage.json\",\r\n  \"ferc6_xbrl_taxonomy_metadata\": \"/Users/zane/code/catalyst/pudl-work/output/ferc6_xbrl_taxonomy_metadata.json\",\r\n  \"ferc60_xbrl_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/ferc60_xbrl.sqlite\",\r\n  \"ferc60_xbrl_datapackage\": \"/Users/zane/code/catalyst/pudl-work/output/ferc60_xbrl_datapackage.json\",\r\n  \"ferc60_xbrl_taxonomy_metadata\": \"/Users/zane/code/catalyst/pudl-work/output/ferc60_xbrl_taxonomy_metadata.json\",\r\n  \"ferc714_xbrl_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/ferc714_xbrl.sqlite\",\r\n  \"ferc714_xbrl_datapackage\": \"/Users/zane/code/catalyst/pudl-work/output/ferc714_xbrl_datapackage.json\",\r\n  \"ferc714_xbrl_taxonomy_metadata\": \"/Users/zane/code/catalyst/pudl-work/output/ferc714_xbrl_taxonomy_metadata.json\",\r\n  \"pudl_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/pudl.sqlite\",\r\n  \"censusdp1tract_db\": \"sqlite:////Users/zane/code/catalyst/pudl-work/output/censusdp1tract.sqlite\",\r\n  \"sandbox\": \"False\"\r\n}\r\n```\r\n\r\nA different example:\r\n\r\n```bash\r\npytest --live-dbs test/integration/datasette_metadata_test.py::test_datasette_metadata_to_yml\r\n```\r\n\r\nSomehow it's still looking for stuff in an `outputs` directory, even though my `PUDL_OUTPUT` ends with `output`\r\n\r\n```\r\n    @pytest.fixture(scope=\"session\", name=\"ferc1_engine_xbrl\")\r\n    def ferc1_xbrl_sql_engine(ferc_to_sqlite, dataset_settings_config):\r\n        \"\"\"Grab a connection to the FERC Form 1 DB clone.\"\"\"\r\n        context = build_init_resource_context(\r\n            resources={\"dataset_settings\": dataset_settings_config}\r\n        )\r\n>       return ferc1_xbrl_sqlite_io_manager(context).engine\r\n\r\ntest/conftest.py:250:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n../../../mambaforge/envs/pudl-dev/lib/python3.10/site-packages/dagster/_core/definitions/resource_definition.py:218: in __call__\r\n    return resource_invocation_result(\r\n../../../mambaforge/envs/pudl-dev/lib/python3.10/site-packages/dagster/_core/definitions/resource_invocation.py:32: in resource_invocation_result\r\n    resource_fn(_init_context)\r\nsrc/pudl/io_managers.py:554: in ferc1_xbrl_sqlite_io_manager\r\n    return FercXBRLSQLiteIOManager(\r\nsrc/pudl/io_managers.py:391: in __init__\r\n    super().__init__(base_dir, db_name, md)\r\nsrc/pudl/io_managers.py:118: in __init__\r\n    self.engine = self._setup_database()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = <pudl.io_managers.FercXBRLSQLiteIOManager object at 0x17b22b0d0>\r\n\r\n    def _setup_database(self) -> sa.engine.Engine:\r\n        \"\"\"Create database engine and read the metadata.\r\n\r\n        Returns:\r\n            engine: SQL Alchemy engine that connects to a database in the base_dir.\r\n        \"\"\"\r\n        # If the sqlite directory doesn't exist, create it.\r\n        db_path = self.base_dir / f\"{self.db_name}.sqlite\"\r\n        if not db_path.exists():\r\n>           raise ValueError(\r\n                f\"No DB found at {db_path}. Run the job that creates the \"\r\n                f\"{self.db_name} database.\"\r\n            )\r\nE           ValueError: No DB found at /Users/zane/code/catalyst/pudl-work/outputs/ferc1_xbrl.sqlite. Run the job that creates the ferc1_xbrl database.\r\n\r\nsrc/pudl/io_managers.py:402: ValueError\r\n------------------------------------------------------------------------------------------------------------- Captured log setup -------------------------------------------------------------------------------------------------------------\r\n2023-03-19 16:29:58 [    INFO] test.conftest:119 PUDL_OUTPUT path: /Users/zane/code/catalyst/pudl-work/outputs\r\n2023-03-19 16:29:58 [    INFO] test.conftest:120 PUDL_INPUT path: ~/\r\n```\r\n\r\nAnd whenever this happens, it's also changing the value of my environment variable `$PUDL_OUTPUT` to be `/outputs` rather than `/output`\r\n\r\nIt's also creating a directory literally named `~` which seems dangerous! If I had thoughtlessly tried to `rm -rf` it... I could have wiped out my home directory.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2419/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2417", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2417/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2417/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2417/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2417", "id": 1630676541, "node_id": "I_kwDOBM6RF85hMiY9", "number": 2417, "title": "SQLite IO Manager should retry after encountering locked DB", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 1480372589, "node_id": "MDU6TGFiZWwxNDgwMzcyNTg5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/sqlite", "name": "sqlite", "color": "1b6800", "default": false, "description": "Issues related to interacting with sqlite databases"}, {"id": 4428262511, "node_id": "LA_kwDOBM6RF88AAAABB_Hsbw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/dagster", "name": "dagster", "color": "1d76db", "default": false, "description": "Issues related to our use of the Dagster orchestrator"}], "state": "closed", "locked": false, "assignee": {"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/41", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/41", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/41/labels", "id": 9141571, "node_id": "MI_kwDOBM6RF84Ai31D", "number": 41, "title": "2023 Winter", "description": "The main goal of our 2023 Q1 release is to get the ETL migrated into Dagster and have all of our useful output and analysis tables written directly into the database we distribute. See #2246 and #1973", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 59, "state": "closed", "created_at": "2023-03-09T22:42:21Z", "updated_at": "2023-04-05T15:22:52Z", "due_on": "2023-03-20T07:00:00Z", "closed_at": "2023-04-04T22:58:18Z"}, "comments": 0, "created_at": "2023-03-18T23:18:24Z", "updated_at": "2023-03-22T02:29:13Z", "closed_at": "2023-03-22T02:29:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Describe the bug\r\nWhen multiple assets in our DAG that are using the SQLite IO Manager finish processing at almost the same time, they encounter a locked SQLite DB as they try to write out their data, since only one process can write to an SQLite DB at any given time.  With a small number of assets, these collisions are unlikely, but with hundreds of assets potentially being written into the same SQLite DB, and ~10 of them processing concurrently on a modern laptop (or nightly build machine!) this problem will probably become more and more common.\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n - **Medium:** With some effort, I can work around the bug.\r\n\r\n### To Reproduce\r\nThis behavior is stochastic -- it depends on exactly when each of the assets finish processing -- but with the addition of 29 new SQLite assets from EIA-861 it has become more common. If you run the Fast ETL several times in a row on a machine with lots of cores, it'll happen within ~10 runs.\r\n\r\n### Expected behavior\r\nEven with 100+ assets, most of the time nothing is writing to the DB, so it seems like the SQLite IO Manager could simply retry writing to the DB with an exponential back-off if it encounters a lock.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2417/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2269", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2269/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2269/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2269/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2269", "id": 1570160183, "node_id": "I_kwDOBM6RF85dlr43", "number": 2269, "title": "`pudl_out` not working to load EIA tables for single years prior to 2013", "user": {"login": "grgmiller", "id": 45949268, "node_id": "MDQ6VXNlcjQ1OTQ5MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/45949268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grgmiller", "html_url": "https://github.com/grgmiller", "followers_url": "https://api.github.com/users/grgmiller/followers", "following_url": "https://api.github.com/users/grgmiller/following{/other_user}", "gists_url": "https://api.github.com/users/grgmiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/grgmiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grgmiller/subscriptions", "organizations_url": "https://api.github.com/users/grgmiller/orgs", "repos_url": "https://api.github.com/users/grgmiller/repos", "events_url": "https://api.github.com/users/grgmiller/events{/privacy}", "received_events_url": "https://api.github.com/users/grgmiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 785877576, "node_id": "MDU6TGFiZWw3ODU4Nzc1NzY=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-repair", "name": "data-repair", "color": "ef9bbd", "default": false, "description": "Interpolating or extrapolating data that we don't actually have."}, {"id": 5128568578, "node_id": "LA_kwDOBM6RF88AAAABMa-_Ag", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/inframundo", "name": "inframundo", "color": "BFD4F2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2023-02-03T17:04:28Z", "updated_at": "2023-02-13T21:11:19Z", "closed_at": "2023-02-13T21:11:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In our OGE pipeline, we are trying to load EIA data for years prior to 2013 by running `pudl_out.gens_eia860()` and `pudl_out.gf_eia923()`. However, when we run this, we are getting the following KeyErrors. \r\n\r\nIt looks like this issue is originating in `fill_in_missing_ba_codes`, which notes that :\r\n\r\n```\r\n Balancing authority codes did not begin being reported until 2013. This function\r\n    fills in the old years with BA codes using two main methods:\r\n\r\n    * Backfilling with the oldest reported BA code for each plant.\r\n    * Backfilling with the most frequently reported BA code for each plant.\r\n```\r\n\r\nI am suspecting that this is caused because we are trying to load data for a single year (2012) rather than running pudl_out with a range of years that includes multiple years after 2012 to backfill. I recognize that often you're running the pudl pipeline for multiple years instead of a single year, but is there any way to make this work for a single year prior to 2013, or is the only solution to load newer data as well? \r\n\r\nHow many years of new data would we need to load? Just 2013? All years 2013-2021? Since pudl_out takes a start date and end date argument, if we just wanted to load data for 2005, does this mean that in order for this function to work, we would actually have to load all data for 2005-2013+, even though we are only interested in a single year?\r\n\r\n\r\n\r\nTrying to load EIA-860 data for 2012:\r\n```\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\nCell In[6], line 1\r\n----> 1 gens = pudl_out.gens_eia860()\r\n      2 gens\r\n\r\nFile a:\\miniconda3\\envs\\open_grid_emissions\\lib\\site-packages\\pudl\\output\\pudltabl.py:602, in PudlTabl.gens_eia860(self, update)\r\n    589 \"\"\"Pull a dataframe describing generators, as reported in EIA 860.\r\n    590 \r\n    591 If you want to fill the technology_description field, recreate\r\n   (...)\r\n    599     pandas.DataFrame: a denormalized table for interactive use.\r\n    600 \"\"\"\r\n    601 if update or self._dfs[\"gens_eia860\"] is None:\r\n--> 602     self._dfs[\"gens_eia860\"] = pudl.output.eia860.generators_eia860(\r\n    603         self.pudl_engine,\r\n    604         start_date=self.start_date,\r\n    605         end_date=self.end_date,\r\n    606         unit_ids=self.unit_ids,\r\n    607         fill_tech_desc=self.fill_tech_desc,\r\n    608     )\r\n    610 return self._dfs[\"gens_eia860\"]\r\n\r\nFile a:\\miniconda3\\envs\\open_grid_emissions\\lib\\site-packages\\pudl\\output\\eia860.py:459, in generators_eia860(pudl_engine, start_date, end_date, unit_ids, fill_tech_desc)\r\n    456 out_df.report_date = pd.to_datetime(out_df.report_date)\r\n    458 # Bring in some generic plant & utility information:\r\n--> 459 pu_eia = plants_utils_eia860(\r\n    460     pudl_engine, start_date=start_date, end_date=end_date\r\n    461 ).drop([\"plant_name_eia\", \"utility_id_eia\"], axis=\"columns\")\r\n    462 out_df = pd.merge(out_df, pu_eia, on=[\"report_date\", \"plant_id_eia\"], how=\"left\")\r\n    464 # Merge in the unit_id_pudl assigned to each generator in the BGA process\r\n    465 # Pull the BGA table and make it unit-generator only:\r\n\r\nFile a:\\miniconda3\\envs\\open_grid_emissions\\lib\\site-packages\\pudl\\output\\eia860.py:338, in plants_utils_eia860(pudl_engine, start_date, end_date)\r\n    311 \"\"\"Create a dataframe of plant and utility IDs and names from EIA 860.\r\n    312 \r\n    313 Returns a pandas dataframe with the following columns:\r\n   (...)\r\n    334     names from EIA 860.\r\n    335 \"\"\"\r\n    336 # Contains the one-to-one mapping of EIA plants to their operators\r\n    337 plants_eia = (\r\n--> 338     plants_eia860(pudl_engine, start_date=start_date, end_date=end_date)\r\n    339     .drop(\r\n    340         [\r\n    341             \"utility_id_pudl\",\r\n    342             \"city\",\r\n    343             \"state\",  # Avoid dupes in merge\r\n    344             \"zip_code\",\r\n    345             \"street_address\",\r\n    346             \"utility_name_eia\",\r\n    347         ],\r\n    348         axis=\"columns\",\r\n    349     )\r\n    350     .dropna(subset=[\"utility_id_eia\"])  # Drop unmergable records\r\n    351 )\r\n    352 utils_eia = utilities_eia860(pudl_engine, start_date=start_date, end_date=end_date)\r\n    354 # to avoid duplicate columns on the merge...\r\n\r\nFile a:\\miniconda3\\envs\\open_grid_emissions\\lib\\site-packages\\pudl\\output\\eia860.py:136, in plants_eia860(pudl_engine, start_date, end_date)\r\n    128 utils_eia_select = sa.sql.select(utils_eia_tbl)\r\n    129 utils_eia_df = pd.read_sql(utils_eia_select, pudl_engine)\r\n    131 out_df = (\r\n    132     pd.merge(plants_eia_df, plants_eia860_df, how=\"left\", on=[\"plant_id_eia\"])\r\n    133     .merge(plants_g_eia_df, how=\"left\", on=[\"plant_id_eia\"])\r\n    134     .merge(utils_eia_df, how=\"left\", on=[\"utility_id_eia\"])\r\n    135     .dropna(subset=[\"report_date\", \"plant_id_eia\"])\r\n--> 136     .pipe(fill_in_missing_ba_codes)\r\n    137     .pipe(apply_pudl_dtypes, group=\"eia\")\r\n    138 )\r\n    139 return out_df\r\n\r\nFile a:\\miniconda3\\envs\\open_grid_emissions\\lib\\site-packages\\pandas\\core\\generic.py:5839, in NDFrame.pipe(self, func, *args, **kwargs)\r\n   5781 @final\r\n   5782 @doc(klass=_shared_doc_kwargs[\"klass\"])\r\n   5783 def pipe(\r\n   (...)\r\n   5787     **kwargs,\r\n   5788 ) -> T:\r\n   5789     r\"\"\"\r\n   5790     Apply chainable functions that expect Series or DataFrames.\r\n   5791 \r\n   (...)\r\n   5837     ...  )  # doctest: +SKIP\r\n   5838     \"\"\"\r\n-> 5839     return com.pipe(self, func, *args, **kwargs)\r\n\r\nFile a:\\miniconda3\\envs\\open_grid_emissions\\lib\\site-packages\\pandas\\core\\common.py:503, in pipe(obj, func, *args, **kwargs)\r\n    501     return func(*args, **kwargs)\r\n    502 else:\r\n--> 503     return func(obj, *args, **kwargs)\r\n\r\nFile a:\\miniconda3\\envs\\open_grid_emissions\\lib\\site-packages\\pudl\\output\\eia860.py:232, in fill_in_missing_ba_codes(plants)\r\n    227     logger.info(\r\n    228         f\"{method_str}. {currently_null_len/len(plants):.1%} of records have no BA codes\"\r\n...\r\n-> 6173     raise KeyError(f\"None of [{key}] are in the [{axis_name}]\")\r\n   6175 not_found = list(ensure_index(key)[missing_mask.nonzero()[0]].unique())\r\n   6176 raise KeyError(f\"{not_found} not in index\")\r\n\r\nKeyError: \"None of [Index(['plant_id_eia', 'balancing_authority_code_eia', 'balancing_authority_code_eia_consistent_rate'], dtype='object')] are in the [columns]\"\r\n```", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2269/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2255", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2255/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2255/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2255/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2255", "id": 1565145564, "node_id": "I_kwDOBM6RF85dSjnc", "number": 2255, "title": "`plants_eia860` is incorrectly assigning `balancing_authority_code_eia` for plants in ISNE", "user": {"login": "grgmiller", "id": 45949268, "node_id": "MDQ6VXNlcjQ1OTQ5MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/45949268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grgmiller", "html_url": "https://github.com/grgmiller", "followers_url": "https://api.github.com/users/grgmiller/followers", "following_url": "https://api.github.com/users/grgmiller/following{/other_user}", "gists_url": "https://api.github.com/users/grgmiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/grgmiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grgmiller/subscriptions", "organizations_url": "https://api.github.com/users/grgmiller/orgs", "repos_url": "https://api.github.com/users/grgmiller/repos", "events_url": "https://api.github.com/users/grgmiller/events{/privacy}", "received_events_url": "https://api.github.com/users/grgmiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}, {"id": 785877576, "node_id": "MDU6TGFiZWw3ODU4Nzc1NzY=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-repair", "name": "data-repair", "color": "ef9bbd", "default": false, "description": "Interpolating or extrapolating data that we don't actually have."}, {"id": 5128568578, "node_id": "LA_kwDOBM6RF88AAAABMa-_Ag", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/inframundo", "name": "inframundo", "color": "BFD4F2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "e-belfer", "id": 37471869, "node_id": "MDQ6VXNlcjM3NDcxODY5", "avatar_url": "https://avatars.githubusercontent.com/u/37471869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-belfer", "html_url": "https://github.com/e-belfer", "followers_url": "https://api.github.com/users/e-belfer/followers", "following_url": "https://api.github.com/users/e-belfer/following{/other_user}", "gists_url": "https://api.github.com/users/e-belfer/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-belfer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-belfer/subscriptions", "organizations_url": "https://api.github.com/users/e-belfer/orgs", "repos_url": "https://api.github.com/users/e-belfer/repos", "events_url": "https://api.github.com/users/e-belfer/events{/privacy}", "received_events_url": "https://api.github.com/users/e-belfer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "e-belfer", "id": 37471869, "node_id": "MDQ6VXNlcjM3NDcxODY5", "avatar_url": "https://avatars.githubusercontent.com/u/37471869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e-belfer", "html_url": "https://github.com/e-belfer", "followers_url": "https://api.github.com/users/e-belfer/followers", "following_url": "https://api.github.com/users/e-belfer/following{/other_user}", "gists_url": "https://api.github.com/users/e-belfer/gists{/gist_id}", "starred_url": "https://api.github.com/users/e-belfer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e-belfer/subscriptions", "organizations_url": "https://api.github.com/users/e-belfer/orgs", "repos_url": "https://api.github.com/users/e-belfer/repos", "events_url": "https://api.github.com/users/e-belfer/events{/privacy}", "received_events_url": "https://api.github.com/users/e-belfer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2023-01-31T23:23:25Z", "updated_at": "2023-02-21T13:33:39Z", "closed_at": "2023-02-21T13:33:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It appears that for some reason, the `plants_eia860` output is incorrectly assigning the balancing authority code for several plants that are identified by EIA-860 as being in ISNE, but pudl is assigning as NYIS:\r\n![image](https://user-images.githubusercontent.com/45949268/215905773-35826176-62ed-461b-8c35-dea3bb495636.png)\r\n\r\nFor example, here is the output of plants_eia860 for one of those plants:\r\n![image](https://user-images.githubusercontent.com/45949268/215905946-7b1b831d-9d58-40b9-99c7-6731973584a5.png)\r\n\r\nFor this specific plant, the ba code for this plant has been listed as ISNE for at least the past three years in EIA-860. \r\n\r\nI'm not sure why this is happening, but it is affecting data for a number of plants. ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2255/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2219", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2219/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2219/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2219/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2219", "id": 1550276672, "node_id": "I_kwDOBM6RF85cZ1hA", "number": 2219, "title": "bing bong", "user": {"login": "bdnorman", "id": 12631593, "node_id": "MDQ6VXNlcjEyNjMxNTkz", "avatar_url": "https://avatars.githubusercontent.com/u/12631593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdnorman", "html_url": "https://github.com/bdnorman", "followers_url": "https://api.github.com/users/bdnorman/followers", "following_url": "https://api.github.com/users/bdnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bdnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdnorman/subscriptions", "organizations_url": "https://api.github.com/users/bdnorman/orgs", "repos_url": "https://api.github.com/users/bdnorman/repos", "events_url": "https://api.github.com/users/bdnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bdnorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-20T04:06:06Z", "updated_at": "2023-01-21T02:04:10Z", "closed_at": "2023-01-21T02:04:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\nA clear and concise description of what the bug is.\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n - **High:** This bug is preventing me from using PUDL.\r\n - **Medium:** With some effort, I can work around the bug.\r\n - **Low:** The bug isn't causing me problems, but something's still wrong here.\r\n\r\n### To Reproduce\r\nSteps to reproduce the behavior -- ideally including a code snippet that causes the error to appear.\r\n - Is the bug related to the software / database? If so, please attach the `settings.yml` file you're using to specify which data to load, and make a note of where in the ETL process the error is happening.\r\n - Have you found an error or inconsistency in the data that PUDL brings together? If so, what is the data source, year, plant_id, etc -- how can we find the data you're looking at, and what is the nature of the error or inconsistency.\r\n - Does the problem happen when you're starting up the database (importing data) or does it happen later when you're trying to use the database?\r\n\r\n### Expected behavior\r\nA clear and concise description of what you expected to happen, or what you expected the data to look like.\r\n\r\n### Software Environment?\r\n - Operating System. (e.g. MacOS 14.5, Ubuntu 22.04, Windows Subsystem for Linux v2)\r\n - Python version and distribution (e.g. Anaconda Python 3.10.6)\r\n - How did you install PUDL?\r\n    - If you installed using `git clone` what branch are you using (probably `main` or `dev`)\r\n    - If you installed using `pip`, `conda` or `mamba` what version did you install?\r\n\r\n### Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2219/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2218", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2218/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2218/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2218/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2218", "id": 1549810673, "node_id": "I_kwDOBM6RF85cYDvx", "number": 2218, "title": "Test com-dev action when a part of org", "user": {"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-19T19:24:03Z", "updated_at": "2023-01-19T19:25:35Z", "closed_at": "2023-01-19T19:25:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": null, "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2218/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2217", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2217/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2217/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2217/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2217", "id": 1549808808, "node_id": "I_kwDOBM6RF85cYDSo", "number": 2217, "title": "Test com-dev action again", "user": {"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-01-19T19:22:34Z", "updated_at": "2023-01-19T19:25:27Z", "closed_at": "2023-01-19T19:25:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Test the com-dev action when my org is set to private. ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2217/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2216", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2216/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2216/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2216/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2216", "id": 1548332954, "node_id": "I_kwDOBM6RF85cSa-a", "number": 2216, "title": "Test com dev action", "user": {"login": "bdnorman", "id": 12631593, "node_id": "MDQ6VXNlcjEyNjMxNTkz", "avatar_url": "https://avatars.githubusercontent.com/u/12631593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdnorman", "html_url": "https://github.com/bdnorman", "followers_url": "https://api.github.com/users/bdnorman/followers", "following_url": "https://api.github.com/users/bdnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bdnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdnorman/subscriptions", "organizations_url": "https://api.github.com/users/bdnorman/orgs", "repos_url": "https://api.github.com/users/bdnorman/repos", "events_url": "https://api.github.com/users/bdnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bdnorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-01-19T00:39:18Z", "updated_at": "2023-01-19T19:26:14Z", "closed_at": "2023-01-19T19:25:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "My brother asked me to do this", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2216/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2216/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2067", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2067/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2067/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2067/events", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/2067", "id": 1450405647, "node_id": "PR_kwDOBM6RF85C9iSo", "number": 2067, "title": "Resolve duplicate DBF-XBRL mappings and duplicate records in `plant_in_service_ferc1`", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 530157187, "node_id": "MDU6TGFiZWw1MzAxNTcxODc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/glue", "name": "glue", "color": "33cc33", "default": false, "description": "PUDL specific structures & metadata. Stuff that connects datasets together."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 970341148, "node_id": "MDU6TGFiZWw5NzAzNDExNDg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/testing", "name": "testing", "color": "93e88d", "default": false, "description": "Writing tests, creating test data, automating testing, etc."}, {"id": 4303293669, "node_id": "LA_kwDOBM6RF88AAAABAH8M5Q", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/xbrl", "name": "xbrl", "color": "96CCC2", "default": false, "description": "Related to the FERC XBRL transition"}, {"id": 4476683856, "node_id": "LA_kwDOBM6RF88AAAABCtTGUA", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/dbf", "name": "dbf", "color": "ED7B8C", "default": false, "description": "Data coming from FERC's old Visual FoxPro DBF database file format."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-15T21:31:57Z", "updated_at": "2022-11-16T21:51:20Z", "closed_at": "2022-11-16T21:51:12Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/pulls/2067", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/2067", "diff_url": "https://github.com/catalyst-cooperative/pudl/pull/2067.diff", "patch_url": "https://github.com/catalyst-cooperative/pudl/pull/2067.patch", "merged_at": "2022-11-16T21:51:12Z"}, "body": "## PR Checklist\r\n\r\nBefore requesting a review of your pull request, please make sure you've done the\r\nfollowing:\r\n\r\n* [x] Verify that all of the CI checks on your PR are passing. See\r\n      [Running Tests with Tox](https://catalystcoop-pudl.readthedocs.io/en/latest/dev/testing.html#running-tests-with-tox)\r\n      for details on how to run the full test suite locally if you need to debug a\r\n      particular failure.\r\n* [x] Ensure that the docstrings for any new modules, classes, functions, or methods are\r\n      descriptive enough for developers and users to understand your code.\r\n* [x] If you expanded data coverage or changed the outputs, ensure that the full\r\n      [data validation tests](https://catalystcoop-pudl.readthedocs.io/en/latest/dev/testing.html#data-validation)\r\n      pass locally on a fresh DB.\r\n* [x] If you've added new functions or classes, ensure that they have at least basic\r\n      unit tests.\r\n* [x] If you've added new analyses, make sure they include defensive sanity checks that\r\n      will catch unexpected data issues.\r\n* [x] Update the\r\n      [release notes](https://catalystcoop-pudl.readthedocs.io/en/latest/release_notes.html)\r\n      to reflect your changes. Make sure to reference the PR and any related issues.\r\n* [x] Do your own review of the PR. Add comments highlighting areas where you have\r\n      questions you'd like reviewers to answer, known issues, solutions you're\r\n      unsatisfied with, or other things that deserve special attention from the\r\n      reviewer.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2067/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2067/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2049", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2049/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2049/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2049/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/2049", "id": 1443096644, "node_id": "I_kwDOBM6RF85WA-hE", "number": 2049, "title": "Error in generation allocation", "user": {"login": "arengel", "id": 14152953, "node_id": "MDQ6VXNlcjE0MTUyOTUz", "avatar_url": "https://avatars.githubusercontent.com/u/14152953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arengel", "html_url": "https://github.com/arengel", "followers_url": "https://api.github.com/users/arengel/followers", "following_url": "https://api.github.com/users/arengel/following{/other_user}", "gists_url": "https://api.github.com/users/arengel/gists{/gist_id}", "starred_url": "https://api.github.com/users/arengel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arengel/subscriptions", "organizations_url": "https://api.github.com/users/arengel/orgs", "repos_url": "https://api.github.com/users/arengel/repos", "events_url": "https://api.github.com/users/arengel/events{/privacy}", "received_events_url": "https://api.github.com/users/arengel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-11-10T01:52:44Z", "updated_at": "2022-11-10T21:05:16Z", "closed_at": "2022-11-10T21:05:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Describe the bug\r\nAn `AttributeError` occurs in `allocate_gen_fuel_by_generator_energy_source`.\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n - **High:** This bug is preventing me from using PUDL.\r\n\r\n### To Reproduce\r\n```python \r\npt = pudl.output.pudltabl.PudlTabl(\r\n    sqlalchemy.create_engine(pudl.workspace.setup.get_defaults()[\"pudl_db\"]),\r\n    freq=\"AS\",\r\n    fill_fuel_cost=True,\r\n    roll_fuel_cost=True,\r\n    fill_net_gen=True,\r\n)\r\ndf = pt.gen_fuel_by_generator_energy_source_eia923()\r\n```\r\nWhen running this code I get the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/aengel/mambaforge/envs/hub/lib/python3.10/site-packages/IPython/core/interactiveshell.py\", line 3433, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-4-d690f2444caf>\", line 1, in <module>\r\n    df = pt.gen_fuel_by_generator_energy_source_eia923()\r\n  File \"/Users/aengel/mambaforge/envs/hub/lib/python3.10/site-packages/pudl/output/pudltabl.py\", line 787, in gen_fuel_by_generator_energy_source_eia923\r\n    ] = allocate_gen_fuel_by_generator_energy_source(pudl_out=self)\r\n  File \"/Users/aengel/mambaforge/envs/hub/lib/python3.10/site-packages/pudl/analysis/allocate_net_gen.py\", line 271, in allocate_gen_fuel_by_generator_energy_source\r\n    _ = test_original_gf_vs_the_allocated_by_gens_gf(\r\n  File \"/Users/aengel/mambaforge/envs/hub/lib/python3.10/site-packages/pudl/analysis/allocate_net_gen.py\", line 1886, in test_original_gf_vs_the_allocated_by_gens_gf\r\n    max_diff = gf_test[f\"{data_col}_diff\"].max().round(2)\r\nAttributeError: 'float' object has no attribute 'round'\r\n```\r\n\r\n\r\n### Software Environment?\r\n - Operating System. macOS 12.6.1\r\n - Python version and distribution 3.10.6 | packaged by conda-forge | (main, Aug 22 2022, 20:41:22) [Clang 13.0.1 ]\r\n - How did you install PUDL?\r\n    - using pip from GitHub (`catalystcoop.pudl @ git+https://github.com/catalyst-cooperative/pudl.git@dev`) giving `0.6.1.dev1034+g50bbc573`.\r\n    - I am using the pudl.sqlite that I downloaded today, running a sha256 checksum on it gives `e7975672303d8ad3a423cf80e9d15273b6e11171c40182f76dd6bda1f53272d4`.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/2049/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1959", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1959/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1959/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1959/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1959", "id": 1389827637, "node_id": "I_kwDOBM6RF85S1xY1", "number": 1959, "title": "Save nightly build outputs prior to foreign key indexing", "user": {"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 4484993103, "node_id": "LA_kwDOBM6RF88AAAABC1OQTw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/nightly-builds", "name": "nightly-builds", "color": "2FAF68", "default": false, "description": "Anything having to do with nightly builds or continuous deployment."}], "state": "closed", "locked": false, "assignee": {"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-09-28T19:09:53Z", "updated_at": "2023-02-11T03:41:54Z", "closed_at": "2023-02-11T03:41:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While debugging #1954, I realized the database sizes of successful runs were larger than expected. This is because the `/devtools/datasette/publish.sh` script indexes the foreign keys, which increases the size of the dbs. Luckily, this isn't breaking anything, but I think it's best to save the databases as they are output by the ETL. We'll also save a little GCS space.\r\n\r\nThis can be resolved by copying the ETL outputs immediately after the ETL and tests finish. ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1959/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1954", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1954/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1954/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1954/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1954", "id": 1388237331, "node_id": "I_kwDOBM6RF85SvtIT", "number": 1954, "title": "Resolve PyGeos error in nightly builds", "user": {"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 4484993103, "node_id": "LA_kwDOBM6RF88AAAABC1OQTw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/nightly-builds", "name": "nightly-builds", "color": "2FAF68", "default": false, "description": "Anything having to do with nightly builds or continuous deployment."}], "state": "closed", "locked": false, "assignee": {"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bendnorman", "id": 17532695, "node_id": "MDQ6VXNlcjE3NTMyNjk1", "avatar_url": "https://avatars.githubusercontent.com/u/17532695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendnorman", "html_url": "https://github.com/bendnorman", "followers_url": "https://api.github.com/users/bendnorman/followers", "following_url": "https://api.github.com/users/bendnorman/following{/other_user}", "gists_url": "https://api.github.com/users/bendnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendnorman/subscriptions", "organizations_url": "https://api.github.com/users/bendnorman/orgs", "repos_url": "https://api.github.com/users/bendnorman/repos", "events_url": "https://api.github.com/users/bendnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/bendnorman/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2022-09-27T19:10:04Z", "updated_at": "2022-10-04T16:51:34Z", "closed_at": "2022-10-04T16:51:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `81d10c1dff2ae7da83593f70d694d694531a427e-dev` nightly build passed but the subsequent build `5264d2664ca664b397793d369cf4a2dec1de2c0a-dev` failed with a single error:\r\n\r\n```\r\n=================================== FAILURES ===================================\r\n____________________ test_ferc714_outputs[summarize_demand] ____________________\r\n\r\nferc714_out = <pudl.output.ferc714.Respondents object at 0x7ff11eadceb0>\r\ndf_name = 'summarize_demand'\r\n\r\n    @pytest.mark.parametrize(\r\n        \"df_name\",\r\n        [\r\n            \"annualize\",\r\n            \"categorize\",\r\n            \"summarize_demand\",\r\n            \"fipsify\",\r\n        ],\r\n    )\r\n    def test_ferc714_outputs(ferc714_out, df_name):\r\n        \"\"\"Test FERC 714 derived output methods.\"\"\"\r\n        logger.info(f\"Running ferc714_out.{df_name}()\")\r\n>       df = ferc714_out.__getattribute__(df_name)()\r\n\r\ntest/integration/output_test.py:207: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\nsrc/pudl/output/ferc714.py:531: in summarize_demand\r\n    self.georef_counties(update=update)\r\nsrc/pudl/output/ferc714.py:614: in georef_counties\r\n    self._counties_gdf = pudl.analysis.service_territory.add_geometries(\r\nsrc/pudl/analysis/service_territory.py:135: in add_geometries\r\n    census_gdf[[\"geoid10\", \"namelsad10\", \"dp0010001\", \"geometry\"]]\r\nenv/lib/python3.10/site-packages/pandas/core/frame.py:4515: in assign\r\n    data[k] = com.apply_if_callable(v, data)\r\nenv/lib/python3.10/site-packages/pandas/core/common.py:358: in apply_if_callable\r\n    return maybe_callable(obj, **kwargs)\r\nsrc/pudl/analysis/service_territory.py:144: in <lambda>\r\n    .assign(area_km2=lambda x: x.geometry.to_crs(epsg=6933).area / 1e6)\r\nenv/lib/python3.10/site-packages/geopandas/geoseries.py:1117: in to_crs\r\n    self.values.to_crs(crs=crs, epsg=epsg), index=self.index, name=self.name\r\nenv/lib/python3.10/site-packages/geopandas/array.py:767: in to_crs\r\n    new_data = vectorized.transform(self.data, transformer.transform)\r\nenv/lib/python3.10/site-packages/geopandas/_vectorized.py:971: in transform\r\n    result = pygeos.set_coordinates(data.copy(), np.array(new_coords).T)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\ngeometry = array([<pygeos.Geometry MULTIPOLYGON (((-15692305.544 5990802.138, -15692642.281 59...>,\r\n       <pygeos.Geometry MULTI... 47....>,\r\n       <pygeos.Geometry MULTIPOLYGON (((-92.079 43.955, -92.079 43.957, -92.079 43....>],\r\n      dtype=object)\r\ncoordinates = array([[-15692305.54372587,   5990802.13803348],\r\n       [-15692642.28084394,   5990371.46691768],\r\n       [-15692919.00...  5084279.5278007 ],\r\n       [ -8884360.29002698,   5084356.7100724 ],\r\n       [ -8884364.05297662,   5084382.49888077]])\r\n\r\n    def set_coordinates(geometry, coordinates):\r\n        \"\"\"Adapts the coordinates of a geometry array in-place.\r\n    \r\n        If the coordinates array has shape (N, 2), all returned geometries\r\n        will be two-dimensional, and the third dimension will be discarded,\r\n        if present. If the coordinates array has shape (N, 3), the returned\r\n        geometries preserve the dimensionality of the input geometries.\r\n    \r\n        .. warning::\r\n    \r\n            The geometry array is modified in-place! If you do not want to\r\n            modify the original array, you can do\r\n            ``set_coordinates(arr.copy(), newcoords)``.\r\n    \r\n        Parameters\r\n        ----------\r\n        geometry : Geometry or array_like\r\n        coordinates: array_like\r\n    \r\n        See Also\r\n        --------\r\n        apply : Returns a copy of a geometry array with a function applied to its\r\n            coordinates.\r\n    \r\n        Examples\r\n        --------\r\n        >>> set_coordinates(Geometry(\"POINT (0 0)\"), [[1, 1]])\r\n        <pygeos.Geometry POINT (1 1)>\r\n        >>> set_coordinates([Geometry(\"POINT (0 0)\"), Geometry(\"LINESTRING (0 0, 0 0)\")], [[1, 2], [3, 4], [5, 6]]).tolist()\r\n        [<pygeos.Geometry POINT (1 2)>, <pygeos.Geometry LINESTRING (3 4, 5 6)>]\r\n        >>> set_coordinates([None, Geometry(\"POINT (0 0)\")], [[1, 2]]).tolist()\r\n        [None, <pygeos.Geometry POINT (1 2)>]\r\n    \r\n        Third dimension of input geometry is discarded if coordinates array does\r\n        not include one:\r\n    \r\n        >>> set_coordinates(Geometry(\"POINT Z (0 0 0)\"), [[1, 1]])\r\n        <pygeos.Geometry POINT (1 1)>\r\n        >>> set_coordinates(Geometry(\"POINT Z (0 0 0)\"), [[1, 1, 1]])\r\n        <pygeos.Geometry POINT Z (1 1 1)>\r\n        \"\"\"\r\n        geometry_arr = np.asarray(geometry, dtype=np.object_)\r\n        coordinates = np.atleast_2d(np.asarray(coordinates)).astype(np.float64)\r\n        if coordinates.ndim != 2:\r\n            raise ValueError(\r\n                \"The coordinate array should have dimension of 2 \"\r\n                \"(has {})\".format(coordinates.ndim)\r\n            )\r\n        n_coords = lib.count_coordinates(geometry_arr)\r\n        if (coordinates.shape[0] != n_coords) or (coordinates.shape[1] not in {2, 3}):\r\n            raise ValueError(\r\n                \"The coordinate array has an invalid shape {}\".format(coordinates.shape)\r\n            )\r\n>       lib.set_coordinates(geometry_arr, coordinates)\r\nE       pygeos.GEOSException: IllegalArgumentException: Points of LinearRing do not form a closed linestring\r\n```\r\n\r\nThese were [the PRs](https://github.com/catalyst-cooperative/pudl/pulls?q=is%3Apr+is%3Aclosed+merged%3A2022-09-26..2022-09-26+base%3Adev+sort%3Aupdated-desc+) that were merged between the two builds. At first glance, these PRs shouldn't have changed anything with this ferc714 test. \r\n\r\nDebugging:\r\n\r\n- [x] Check environment package difference: Only a couple of minor package updates that I don't think would have caused this issue.\r\n- [x] Diff the sqlite databases between the two builds\r\n> There was no difference between the two `censusdp1tract.sqlite` files: \r\n> ```\r\n> county_2010census_dp1: 0 changes, 0 inserts, 0 deletes, 3221 unchanged\r\n> geometry_columns: 0 changes, 0 inserts, 0 deletes, 3 unchanged\r\n> spatial_ref_sys: 0 changes, 0 inserts, 0 deletes, 1 unchanged\r\n> sqlite_sequence: 0 changes, 0 inserts, 0 deletes, 3 unchanged\r\n> state_2010census_dp1: 0 changes, 0 inserts, 0 deletes, 52 unchanged\r\n> tract_2010census_dp1: 0 changes, 0 inserts, 0 deletes, 74002 unchanged\r\n> ```\r\n- [x] Rerun failed the validation test in both docker images\r\n> I downloaded the output databases for each run and reran the tests:\r\n> ```\r\n> pytest \\\r\n>        --gcs-cache-path gs://internal-zenodo-cache.catalyst.coop \\\r\n>        --bypass-local-cache \\\r\n>        --etl-settings $PUDL_SETTINGS_YML \\\r\n>        --live-dbs test/integration/output_test.py::test_ferc714_outputs\r\n> ```\r\n> Both passed :/ \r\n- [x] Rerun all validation tests\r\n> I reran the full test suite in both docker images and `test/integration/output_test.py::test_ferc714_outputs` passed in both\r\n> ```\r\n> pytest \\\r\n>        --gcs-cache-path gs://internal-zenodo-cache.catalyst.coop \\\r\n>        --bypass-local-cache \\\r\n>        --etl-settings $PUDL_SETTINGS_YML \\\r\n>        --live-dbs test\r\n> ```", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1954/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1944", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1944/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1944/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1944/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1944", "id": 1379466426, "node_id": "I_kwDOBM6RF85SOPy6", "number": 1944, "title": "Missing variables in `plants_eia860` table from `pudl-v0.6.0-2022-03-12` release", "user": {"login": "jacobalder", "id": 34379822, "node_id": "MDQ6VXNlcjM0Mzc5ODIy", "avatar_url": "https://avatars.githubusercontent.com/u/34379822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacobalder", "html_url": "https://github.com/jacobalder", "followers_url": "https://api.github.com/users/jacobalder/followers", "following_url": "https://api.github.com/users/jacobalder/following{/other_user}", "gists_url": "https://api.github.com/users/jacobalder/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacobalder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacobalder/subscriptions", "organizations_url": "https://api.github.com/users/jacobalder/orgs", "repos_url": "https://api.github.com/users/jacobalder/repos", "events_url": "https://api.github.com/users/jacobalder/events{/privacy}", "received_events_url": "https://api.github.com/users/jacobalder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2022-09-20T13:54:45Z", "updated_at": "2022-09-22T04:29:25Z", "closed_at": "2022-09-22T04:29:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### `iso_rto_code` and other variables missing from `plants_eia860` table in `pudl-v0.6.0-2022-03-12` release\r\nBelow, the list of variables in the `plants_eia860` table from the most recent `pudl-v0.6.0-2022-03-12` release. This is not the beta version on [Zenodo Archives](https://sandbox.zenodo.org/record/764696), but it does appear to be at least a [recent release](https://github.com/catalyst-cooperative/pudl/issues/1497). I downloaded this instance in April 2022. The problem? It does not match the list of variables in the [SQLite plants_eia860 table](https://data.catalyst.coop/pudl/plants_eia860)?\r\n\r\n | **SQLite table** | **pudl-v0.6.0-2022-03-12 release** |\r\n |-------------------|-----------|\r\n | plant_id_eia | TRUE  |\r\n | report_date | TRUE |\r\n | ash_impoundment | TRUE |\r\n | ash_impoundment_lined | TRUE |\r\n | ash_impoundment_status | TRUE |\r\n | balancing_authority_code_eia | FALSE |\r\n | balancing_authority_name_eia | FALSE |\r\n | datum | TRUE |\r\n | energy_storage | TRUE |\r\n | ferc_cogen_docket_no | TRUE |\r\n | ferc_exempt_wholesale_generator_docket_no | TRUE |\r\n | ferc_exempt_wholesale_generator | FALSE |\r\n | ferc_small_power_producer_docket_no | TRUE |\r\n | ferc_small_power_producer | FALSE |\r\n | ferc_qualifying_facility_docket_no | FALSE |\r\n | grid_voltage_1_kv | FALSE |\r\n | grid_voltage_2_kv | FALSE |\r\n | grid_voltage_3_kv | FALSE |\r\n | **iso_rto_code** | **FALSE** |\r\n | liquefied_natural_gas_storage | TRUE |\r\n | natural_gas_local_distribution_company | TRUE |\r\n | natural_gas_storage | TRUE |\r\n | natural_gas_pipeline_name_1 | TRUE |\r\n | natural_gas_pipeline_name_2 | TRUE |\r\n | natural_gas_pipeline_name_3 | TRUE |\r\n | nerc_region | TRUE |\r\n | net_metering | TRUE |\r\n | pipeline_notes | TRUE |\r\n | primary_purpose_id_naics | FALSE |\r\n | regulatory_status_code | TRUE |\r\n | reporting_frequency_code | TRUE |\r\n | FALSE | respondent_frequency |\r\n | sector_id_eia | FALSE |\r\n | sector_name_eia | FALSE |\r\n | service_area | TRUE |\r\n | transmission_distribution_owner_id | TRUE |\r\n | transmission_distribution_owner_name | TRUE |\r\n | transmission_distribution_owner_state | TRUE |\r\n | utility_id_eia | TRUE |\r\n | water_source |TRUE |\r\n | data_maturity | FALSE |\r\n\r\n### Severity\r\nHow badly is this bug affecting you?\r\n - **Medium-Low:** This component is not crucial to my analysis, but without it makes the analysis more complicated. Specifically, the variable I need the most is the `iso_rto_code` and it's unfortunately not there. I can do a workaround by pulling that from the SQLite table, but it's not very elegant.\r\n\r\n### To Reproduce\r\nI'm using Docker and JupyterHub, so the code in python is\r\n`A = \"\"\"\r\nSELECT *\r\nFROM\r\n  plants_eia860 AS plants;\r\n\"\"\"\r\na = pd.read_sql(A,pudl_engine)\r\na`\r\n\r\n - The bug appears to be related to the software / database? I've attached the `settings.yml` file I'm using to specify which data to load, and make a note of where in the ETL process the error is happening. See here: \r\n[settings.zip](https://github.com/catalyst-cooperative/pudl/files/9608080/settings.zip)\r\n - Have I found an error or inconsistency in the data that PUDL brings together? Seems to be a difference in the tables on SQLite and in the database downloaded from Zenodo.\r\n - Does the problem happen when I'm starting up the database (importing data) or does it happen later when I'm trying to use the database? When I'm trying to use the database.\r\n\r\n### Expected behavior\r\nI'd like to use `iso_rto_code` from the `plants_eia860` table. This variable is not available in the distribution I downloaded from Zenodo archives.\r\n\r\n### Software Environment?\r\n - Operating System: MacOS 10.15\r\n - Python version and distribution: 3.9.10 | packaged by conda-forge | (main, Feb  1 2022, 21:24:11) \r\n[GCC 9.4.0]\r\n - How did you install PUDL?\r\n    - I downloaded from Zenodo archives and then ran `docker-compose up`. This is the first table I've run into issues with -- it does not appear to be a problem with other tables, e.g., `generators_eia860` or `utilities_eia860`. ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1944/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1914", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1914/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1914/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1914/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1914", "id": 1364879469, "node_id": "I_kwDOBM6RF85RWmht", "number": 1914, "title": "Aggregate `data_maturity` appropriately in `generation_fuel_nuclear_eia923` transform", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 588634085, "node_id": "MDU6TGFiZWw1ODg2MzQwODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-cleaning", "name": "data-cleaning", "color": "00aa88", "default": false, "description": "Tasks related to cleaning & regularizing data during ETL."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2022-09-07T15:56:01Z", "updated_at": "2022-09-12T18:36:44Z", "closed_at": "2022-09-12T18:36:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The earliest EIA-923 data (2001-2002) doesn't report `nuclear_unit_id` in the `generation_fuel_eia923` table, and it's a primary key of the resulting `generation_fuel_nuclear_eia923` table... so it has to have a value.  We do a little backfilling and aggregation to produce usable nuclear generation records in those years, but this process doesn't propagate the new `data_maturity` label into the created records.  This results in an error downstream in the aggregation across `nuclear_unit_id` in the generic `generation_fuel_eia923` output table, which combines the nuclear & non-nuclear generation fuel tables into a single table with date-plant-prime-fuel as the primary key, since some of the records being aggregated have NA values in `data_maturity` which registers as inhomogeneous (and thus not aggregatable).\r\n\r\nUpdate the `generation_fuel_nuclear_eia923` transform process to ensure that the small number of old aggregated records we create all have a `data_maturity` label derived from their input records.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1914/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1759", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1759/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1759/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1759/events", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1759", "id": 1307034478, "node_id": "PR_kwDOBM6RF847hV5w", "number": 1759, "title": "Fix bug in gens mega and plant part list creation", "user": {"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}, {"id": 3308811170, "node_id": "MDU6TGFiZWwzMzA4ODExMTcw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ppe", "name": "ppe", "color": "2552AA", "default": false, "description": "Plant Parts EIA (formerly the EIA plant parts list)"}], "state": "closed", "locked": false, "assignee": {"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-07-17T08:51:47Z", "updated_at": "2022-07-20T13:34:08Z", "closed_at": "2022-07-20T13:34:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/pulls/1759", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1759", "diff_url": "https://github.com/catalyst-cooperative/pudl/pull/1759.diff", "patch_url": "https://github.com/catalyst-cooperative/pudl/pull/1759.patch", "merged_at": "2022-07-20T13:34:02Z"}, "body": "This fixes a bug with the default generator columns argument in the output tables for `mcoe`, `gens_mega`, and `plant_parts_eia` described in [this issue](https://github.com/catalyst-cooperative/pudl/issues/1755). The default generator columns argument was introduced through `date_merge`.\r\n\r\n**What is the bug?**\r\nThe `plant_parts_eia` table relies on the `gens_mega` table and in turn the `gens_mega` table relies on the `mcoe` table. \r\nEach of these tables requires certain generator columns in order to be created. The `plant_parts_eia` table requires the most columns and the `mcoe` table requires the fewest number of columns. I initially thought it would be okay for each of these tables to have their own set of default generator columns (only the columns necessary for the creation of that individual table). \r\n\r\nWhen you call `pudl_out.plant_parts_eia()` first, this works fine, because the `plant_parts_eia` list of generator columns are passed to `mcoe` and `gens_mega` and each of these tables are newly generated with this set of PPL columns.\r\n\r\nBut when you call `pudl_out.mcoe()` or `pudl_out.gens_mega` before calling `pudl_out.plant_parts_eia`, then the MCOE and `gens_mega` tables don't update because they are cached and thus these tables don't have the complete list of generator columns necessary to create the plant parts list. \r\n\r\n**What does this fix do?**\r\nI didn't want to set `update=True` for the MCOE and `gens_mega` table every time the `plant_parts_eia` table is created because this is inefficient if the user has already gone to the trouble of creating the `gens_mega` or MCOE table. So I fixed this issue by changing the default generator columns in the `gens_mega` and `mcoe` tables to be the same as the default columns for `plant_parts_eia`. This was the easiest and safest fix. However this means that by default, extra columns (those necessary to make the PPL) will be included when creating these tables, which isn't ideal. \r\n\r\nAn alternative would be to check what columns are in the cached MCOE and `gens_mega` table, and update the table if the complete list of `gens_cols` aren't already in the table. I think this would be faster than fully regenerating the tables because the input dependencies for these tables are already cached. \r\n\r\nCloses #1755 ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1759/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1755", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1755/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1755/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1755/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1755", "id": 1303747307, "node_id": "I_kwDOBM6RF85NtZrr", "number": 1755, "title": "`pudl_out.gens_mega_eia()` fails with start/end date", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}, {"id": 3308811170, "node_id": "MDU6TGFiZWwzMzA4ODExMTcw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ppe", "name": "ppe", "color": "2552AA", "default": false, "description": "Plant Parts EIA (formerly the EIA plant parts list)"}], "state": "closed", "locked": false, "assignee": {"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2022-07-13T17:40:33Z", "updated_at": "2022-09-13T02:29:54Z", "closed_at": "2022-09-13T02:29:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While checking in on the consequences of the database schema changes in #1748 I discovered that the `pudl_out.gens_mega_eia()` method fails when the output object has start/end dates restricting what data is selected and processed. For example this will generate an error:\r\n\r\n```py\r\npudl_out = PudlTabl(\r\n    pudl_engine=pudl_engine,\r\n    start_date=\"2020-01-01\",\r\n    end_date=\"2020-12-31\",\r\n    freq=\"AS\",\r\n    fill_fuel_cost=True,\r\n    roll_fuel_cost=True,\r\n    fill_net_gen=True,\r\n)\r\npudl_out.gens_mega_eia()\r\n```\r\n\r\nThe error which comes up says that `technology_description` is missing in one of the dataframes being merged (in a merge that uses that field as a merge key).", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1755/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1503", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1503/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1503/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1503/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1503", "id": 1155623445, "node_id": "I_kwDOBM6RF85E4WoV", "number": 1503, "title": "Re-integrate nukes into analytical outputs", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2022-03-01T17:40:41Z", "updated_at": "2022-03-10T17:42:42Z", "closed_at": "2022-03-10T17:42:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "* Generation fuel table is split into nukes and non-nukes\r\n* Some output tables use the generation_fuel_eia923 table and *assume* that it contains ALL the generation_fuel records. Which is now false. E.g. MCOE and net generation allocation. However, these dependent outputs don't realize that they are now working with incomplete data.\r\n* One option: concatenate the gf and gfn tables and recreate the previously existing `generation_fuel_eia923` output table.\r\n* Another option, create 3 (no nukes, with nukes, combined).\r\n* **Concern:** Are we going to just lose the generator level granularity that we've got in the nukes? They're not many of the records, but they are 20% of the overall generation. May want to address that. Should create an issue to fix this and integrate that granularity into the net generation allocation process etc.\r\n\r\nExample from CG implemented in the DBCP context:\r\n```py\r\n    # generate the generation fuel table & its nuclear counterpart\r\n    # in order to SQUISH THEM together and reassigned this squished\r\n    # version of the gen fuel tables into the cached pudl_out table\r\n    # this way the subsequent outputs which use the gen fuel table\r\n    # *cough cough* MCOE have the nuclear generators in there.\r\n    gf = pudl_out.gf_eia923()\r\n    # only add it in if the nuclear ID isn't in the columns\r\n    # which indicates that these two tables have not been SQUISHED\r\n    if 'nuclear_unit_id' not in gf:\r\n        gfn = pudl_out.gfn_eia923()\r\n        pudl_out._dfs['gf_eia923'] = pd.concat([gf, gfn])\r\n```", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1503/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1405", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1405/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1405/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1405/events", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1405", "id": 1106419604, "node_id": "PR_kwDOBM6RF84xLZWm", "number": 1405, "title": "Fix county FIPS codes string type in fuel_receipts_costs_eia923", "user": {"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}], "state": "closed", "locked": false, "assignee": {"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2022-01-18T02:49:44Z", "updated_at": "2022-01-24T22:28:18Z", "closed_at": "2022-01-24T22:26:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/pulls/1405", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1405", "diff_url": "https://github.com/catalyst-cooperative/pudl/pull/1405.diff", "patch_url": "https://github.com/catalyst-cooperative/pudl/pull/1405.patch", "merged_at": "2022-01-24T22:26:40Z"}, "body": "In the EIA 923 extract `county_id_fips` is read in as a string and zero padded at the beginning to be a 3 digit county FIPS code. In transform the string type is maintained instead of casting to an int and float. In the `fuel_receipts_costs_eia923` output table `county_id_fips` is now a correctly formatted 3 digit string instead. \r\n\r\nTo Do: \r\n\r\n- [x] Disambiguate that county FIPS apply to mines only not the plants - move this into transform instead of output?\r\n- [ ] `county_id_fips` is still being stored as an Object in the `coalmine_eia923` output metadata table. The formatting is still correct (3 digit zero leading FIPS) could change to a string?\r\n- [x] Change to five digit FIPS", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1405/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1291", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1291/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1291/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1291/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1291", "id": 1025317796, "node_id": "I_kwDOBM6RF849HRuk", "number": 1291, "title": "EIA plant-part list true granularity bug on nulls", "user": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}, {"id": 3308811170, "node_id": "MDU6TGFiZWwzMzA4ODExMTcw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ppe", "name": "ppe", "color": "2552AA", "default": false, "description": "Plant Parts EIA (formerly the EIA plant parts list)"}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-10-13T14:22:53Z", "updated_at": "2022-08-29T20:29:02Z", "closed_at": "2022-08-29T20:29:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The true granularity labeling of the EIA plant-part list checks whether a plant-part record is unique or distinct from other records. This is failing when the id's of the plant-parts are null for some of the original generators. This is especially prevalent with unit id's - which are often null. If there is only one non-null unit id, that unit will get labeled incorrectly as a false granularity as compared to the plant. \n\nHere is an example:\n![image.png](https://images.zenhubusercontent.com/5d8a28980d75970001f88513/a526cb05-22b2-402b-8763-2b1153d31755)\n\nI need to make the true granularity label-er aware of these nulls somehow.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1291/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1203", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1203/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1203/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1203/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1203", "id": 990348108, "node_id": "MDU6SXNzdWU5OTAzNDgxMDg=", "number": 1203, "title": "Some tables specified in ETL settings are not being processed", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 1480372589, "node_id": "MDU6TGFiZWwxNDgwMzcyNTg5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/sqlite", "name": "sqlite", "color": "1b6800", "default": false, "description": "Issues related to interacting with sqlite databases"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2021-09-07T20:56:46Z", "updated_at": "2021-09-24T20:15:16Z", "closed_at": "2021-09-24T20:15:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "PUDL DB tables which lack a natural primary key, and thus have no primary key declared in the new metadata structures, end up not having an implicit primary key either when they are created in SQLite. [SQLite's normal behavior](https://www.sqlite.org/lang_createtable.html#rowids_and_the_integer_primary_key) for a table with no declared primary key is to create a column called `rowid` which is an auto-incrementing integer pseudokey. For some reason that's not happening. I notice that in the table metadata for tables with no declared primary key there's still an explicit `PrimaryKey()` (Null args):\r\n\r\n```py\r\nfrom pudl.metadata.classes import Resource, Package\r\nfrom pudl.metadata.resources import RESOURCE_METADATA\r\n\r\ncheck_table = \"boiler_fuel_eia923\"\r\npudl_meta = Package(name=\"pudl\", resources=[Resource.from_id(r) for r in RESOURCE_METADATA]).to_sql()\r\ncheck_meta = pudl_meta.tables[check_table]\r\n[x for x in check_meta.constraints if isinstance(x, sa.sql.schema.PrimaryKeyConstraint)]\r\n# [PrimaryKeyConstraint()]\r\n```\r\n\r\nWhen data is inserted into them it seems to vanish, so several tables end up empty after the ETL. There are several different observed behaviors, including:\r\n\r\n**Has a real `PrimaryKeyConstraint`, and the table is full** (as expected \ud83d\ude00):\r\n* `generation_eia923`\r\n\r\n**Empty `PrimaryKeyConstraint()`, but the table is full** (weird! \ud83d\udc7d):\r\n* `boiler_fuel_eia923` (has `rowid`)\r\n\r\n**Empty `PrimaryKeyConstraint()`, and no data** (expected but... \ud83d\ude2d):\r\n* `fuel_receipts_costs_eia923` (no `rowid`)\r\n* `generation_fuel_eia923` (no `rowid`)\r\n\r\nTo see whether a table has a `rowid` I've just been doing:\r\n```sql\r\nSELECT rowid FROM table_name LIMIT 10;\r\n```\r\n\r\nSo it seems like we need to make all of the tables that lack an explicit primary key behave like `boiler_fuel_eia923`. Not seeing what's different about it immediately though. In particular it seems identical to `generation_fuel_eia923` in that I commented out their explicit natural primary keys in the `pudl.metadata.resources` module because we need to update the transform step to make them unique (See: #851 and #852) so I assume the issue is not in the `RESOURCE_METADATA`\r\n\r\nLooking at the definition of `Resource.to_sql()` I'm also not seeing what would be different between these two resources. @ezwelty is there anything that's obvious to you here?", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1203/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1202", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1202/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1202/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1202/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1202", "id": 990197079, "node_id": "MDU6SXNzdWU5OTAxOTcwNzk=", "number": 1202, "title": "mcoe analysis fails due to null columns with fill_fuel_cost=False", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-09-07T17:27:18Z", "updated_at": "2021-09-09T03:34:24Z", "closed_at": "2021-09-09T03:34:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `pudl.analysis.mcoe.mcoe()` function uses `pudl.validate.no_null_cols()` and `pudl.validate.no_null_rows()` defensively to check that null rows / columns haven't been introduced through a bad merge. However, there are some columns which we might expect to be null under some circumstances. In particular `fuel_cost_from_eiaapi` should be all Null if we aren't attempting to fill in missing fuel costs with the EIA API, i.e. when we use `pudl_out.mcoe()` with `fill_fuel_cost=False`\r\n\r\nThe columns which are checked for all-null values need to be updated to reflect what we expect to find based on the input flags. ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1202/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1201", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1201/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1201/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1201/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1201", "id": 989639353, "node_id": "MDU6SXNzdWU5ODk2MzkzNTM=", "number": 1201, "title": "Debug issues with PudlTabl output objects and direct to SQLite outputs", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 1480372589, "node_id": "MDU6TGFiZWwxNDgwMzcyNTg5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/sqlite", "name": "sqlite", "color": "1b6800", "default": false, "description": "Issues related to interacting with sqlite databases"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-09-07T06:27:50Z", "updated_at": "2021-09-24T20:15:00Z", "closed_at": "2021-09-24T20:15:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The database produced by the direct-to-sqlite ETL is (at leaset) slightly different from the old datapackage based database, and this is causing issues with the `pudl_out` / PudlTabl class that we rely on to pull denormalized data tables from the database. We can't run the tests without the outputs working, so this means we don't know how broken everything is with the new DB \ud83d\ude05 See #1195  \r\n\r\n## Known problems\r\n* [x] Many of the output objects complain because there's no `id` field in the new database tables (this includes at least `pudl_out.plants_eia860`, `pudl_out.gens_eia860`, `pudl_out.frc_eia923`, and `pudl_out.bf_eia923`)", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1201/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1173", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1173/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1173/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1173/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1173", "id": 984010107, "node_id": "MDU6SXNzdWU5ODQwMTAxMDc=", "number": 1173, "title": "Replace deprecated df.sum(level=1) with df.groupby().sum() in ferc1 transform", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 2724491583, "node_id": "MDU6TGFiZWwyNzI0NDkxNTgz", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/dependencies", "name": "dependencies", "color": "0366d6", "default": false, "description": "Pull requests that update a dependency file"}], "state": "closed", "locked": false, "assignee": {"login": "TrentonBush", "id": 35943254, "node_id": "MDQ6VXNlcjM1OTQzMjU0", "avatar_url": "https://avatars.githubusercontent.com/u/35943254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TrentonBush", "html_url": "https://github.com/TrentonBush", "followers_url": "https://api.github.com/users/TrentonBush/followers", "following_url": "https://api.github.com/users/TrentonBush/following{/other_user}", "gists_url": "https://api.github.com/users/TrentonBush/gists{/gist_id}", "starred_url": "https://api.github.com/users/TrentonBush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TrentonBush/subscriptions", "organizations_url": "https://api.github.com/users/TrentonBush/orgs", "repos_url": "https://api.github.com/users/TrentonBush/repos", "events_url": "https://api.github.com/users/TrentonBush/events{/privacy}", "received_events_url": "https://api.github.com/users/TrentonBush/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TrentonBush", "id": 35943254, "node_id": "MDQ6VXNlcjM1OTQzMjU0", "avatar_url": "https://avatars.githubusercontent.com/u/35943254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TrentonBush", "html_url": "https://github.com/TrentonBush", "followers_url": "https://api.github.com/users/TrentonBush/followers", "following_url": "https://api.github.com/users/TrentonBush/following{/other_user}", "gists_url": "https://api.github.com/users/TrentonBush/gists{/gist_id}", "starred_url": "https://api.github.com/users/TrentonBush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TrentonBush/subscriptions", "organizations_url": "https://api.github.com/users/TrentonBush/orgs", "repos_url": "https://api.github.com/users/TrentonBush/repos", "events_url": "https://api.github.com/users/TrentonBush/events{/privacy}", "received_events_url": "https://api.github.com/users/TrentonBush/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-08-31T15:41:24Z", "updated_at": "2021-11-09T02:57:44Z", "closed_at": "2021-11-09T02:57:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Pandas has deprecated summing by index \"level\" in favor of using `df.groupby()` and we have some old code in the `ferc1.transform` module that needs to be updated. I messed around with it a little bit while trying to address the pandas v1.3.x errors but it didn't seem completely straightforward. Need to put a little more thought into it.  Currently the tests raise these warnings:\n\n```\npudl/transform/ferc1.py:2019: FutureWarning: Using the level keyword in DataFrame and Series\naggregations is deprecated and will be removed in a future version. Use groupby instead. df.sum(level=1)\nshould use df.groupby(level=1).sum().\n    df.sum(level=0, axis=1).loc[:, 'fuel_mmbtu'],\n\npudl/transform/ferc1.py:2034: FutureWarning: Using the level keyword in DataFrame and Series\naggregations is deprecated and will be removed in a future version. Use groupby instead. df.sum(level=1)\nshould use df.groupby(level=1).sum().\n    df.sum(level=0, axis=1).loc[:, 'fuel_cost'], right_index=True, left_index=True).\n```", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1173/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1119", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1119/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1119/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1119/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1119", "id": 961250630, "node_id": "MDU6SXNzdWU5NjEyNTA2MzA=", "number": 1119, "title": "Fix all FIPS code data types to be strings", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 588634085, "node_id": "MDU6TGFiZWw1ODg2MzQwODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-cleaning", "name": "data-cleaning", "color": "00aa88", "default": false, "description": "Tasks related to cleaning & regularizing data during ETL."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 3317325722, "node_id": "MDU6TGFiZWwzMzE3MzI1NzIy", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-types", "name": "data-types", "color": "5319e7", "default": false, "description": "Dtype conversions, standardization and implications of data types"}], "state": "closed", "locked": false, "assignee": {"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "katie-lamb", "id": 95320980, "node_id": "U_kgDOBa57lA", "avatar_url": "https://avatars.githubusercontent.com/u/95320980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katie-lamb", "html_url": "https://github.com/katie-lamb", "followers_url": "https://api.github.com/users/katie-lamb/followers", "following_url": "https://api.github.com/users/katie-lamb/following{/other_user}", "gists_url": "https://api.github.com/users/katie-lamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/katie-lamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katie-lamb/subscriptions", "organizations_url": "https://api.github.com/users/katie-lamb/orgs", "repos_url": "https://api.github.com/users/katie-lamb/repos", "events_url": "https://api.github.com/users/katie-lamb/events{/privacy}", "received_events_url": "https://api.github.com/users/katie-lamb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2021-08-05T00:10:11Z", "updated_at": "2022-01-26T05:17:04Z", "closed_at": "2022-01-26T05:17:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There are several problems with the county FIPS codes found in the `fuel_receipts_costs_eia923` table:\r\n* They are being stored as integers rather than strings.\r\n* They pertain only to the mines, not the plants, but that's not made clear in the output table.\r\n* They are being cast to floats in the output tables because there are NA values, instead of ints. But then they get cast to strings prior to output. So, doubly or triply wrong.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1119/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1119/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1108", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1108/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1108/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1108/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1108", "id": 956967802, "node_id": "MDU6SXNzdWU5NTY5Njc4MDI=", "number": 1108, "title": "ferc1_to_sqlite enables loading multiple versions of the same year", "user": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 1498845145, "node_id": "MDU6TGFiZWwxNDk4ODQ1MTQ1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ready", "name": "ready", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-30T18:16:48Z", "updated_at": "2021-09-13T21:03:35Z", "closed_at": "2021-09-13T21:03:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Describe the bug\r\nthe `ferc1_to_sqlite` script/ `pudl.extract.ferc1.dbf2sqlite()` enables loading of multiple version of the same year. I accidentally loaded two 2019's, but I could have loaded 17 2019's.\r\n\r\nI assume you could do the same thing with tables.\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n - **Low:** The bug isn't causing me problems, but something's still wrong here.\r\n\r\n### To Reproduce\r\nrunning `ferc1_to_sqlite` at the command line, pointing to a settings file with multiple instances of the same year.\r\n\r\nOr running `pudl.extract.ferc1.dbf2sqlite([\"table1\", \"table1\"], [2020, 2020, 2020], refyear, pudl_settings)` #2020Foreverrrr :scream_face:\r\n\r\n### Expected behavior\r\nIt should either break or kindly de-duplicate your list of years/tables. I think I'd prefer the latter.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1108/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1088", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1088/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1088/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1088/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1088", "id": 946593761, "node_id": "MDU6SXNzdWU5NDY1OTM3NjE=", "number": 1088, "title": "Some monthly MCOE outputs become annual", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-07-16T21:00:54Z", "updated_at": "2021-08-10T13:34:18Z", "closed_at": "2021-08-10T13:34:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently the `fuel_cost`, `hr_by_unit`, and `hr_by_gen` outputs from the MCOE process end up having about the same number of records regardless of whether the frequency of the outputs is annual or monthly which is... just wrong. Looking at the `report_date` field in the output dataframes the monthly outputs really are annual.  This came up in doing the data validation checks for the v0.4.0 release #681. See this code for example:\r\n\r\n```py\r\npudl_monthly = pudl.output.pudltabl.PudlTabl(\r\n    freq=\"MS\",\r\n    pudl_engine=pudl_engine,\r\n    start_date = \"2018-01-01\",\r\n    end_date=\"2019-12-31\",\r\n)\r\nmcoe_monthly = pudl_monthly.mcoe()\r\n\r\nprint(\"fuel_cost:\")\r\ndisplay(pudl_monthly.fuel_cost().report_date.value_counts())\r\nprint(\"\\nhr_by_unit:\")\r\ndisplay(pudl_monthly.hr_by_unit().report_date.value_counts())\r\nprint(\"\\nhr_by_gen:\")\r\ndisplay(pudl_monthly.hr_by_gen().report_date.value_counts())\r\nprint(\"\\ncapacity_factor:\")\r\ndisplay(pudl_monthly.capacity_factor().report_date.value_counts())\r\n\r\npudl_annual = pudl.output.pudltabl.PudlTabl(\r\n    freq=\"AS\",\r\n    pudl_engine=pudl_engine,\r\n    start_date = \"2018-01-01\",\r\n    end_date=\"2019-12-31\",\r\n)\r\nmcoe_annual = pudl_annual.mcoe()\r\n\r\nprint(\"fuel_cost:\")\r\ndisplay(pudl_annual.fuel_cost().report_date.value_counts())\r\nprint(\"\\nhr_by_unit:\")\r\ndisplay(pudl_annual.hr_by_unit().report_date.value_counts())\r\nprint(\"\\nhr_by_gen:\")\r\ndisplay(pudl_annual.hr_by_gen().report_date.value_counts())\r\nprint(\"\\ncapacity_factor:\")\r\ndisplay(pudl_annual.capacity_factor().report_date.value_counts())\r\n```\r\n\r\nMy first guess was that this might be related to the (for now) mandatory annual frequency of the net generation allocation process that @cmgosnell has been working on, but that's not involved here anywhere.\r\n\r\nShe then suggested that it might somehow be related to a very minor tweak I made to the `pudl.helpers.merge_on_date_year()` function, but reverting those changes results in exactly the same behavior.\r\n\r\nCurrently I'm at a loss, and am planning to add some defensive AssertionErrors into the MCOE calculation process that check whether the frequency of these dataframes matches the frequency of the `pudl_out` object that is creating them, which would be a good thing to have hanging out in the background anyway.\r\n\r\n## Tasks\r\n* [x] Create integration tests that check frequency of output tables, and would have caught this bug.\r\n* [x] Replace merge_on_date_year() and is_annual() with a simpler merge_asof() based solution.\r\n* [x] Re-run monthly MCOE and get a reasonable output.\r\n* [x] Update expected eia923 row counts in output validation tests\r\n* [x] Enforce ONLY `MS` and `AS` frequency in the `pudl_out` objects, since that's all we know will work.\r\n* [x] Refactor the many-to-many merge that transforms `hr_by_unit` into `hr_by_gen` by forcing the bga_gens data to be monthly.\r\n* [x] Update expected mcoe row counts in output validation tests.\r\n* [x] Write real docstrings for these mcoe output functions.\r\n* [x] Re-run data validation tests and get all reasonable outputs.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1088/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1085", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1085/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1085/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1085/events", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1085", "id": 946401760, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxNTgxMDY2", "number": 1085, "title": "Fix the convert_cols_dtypes warning", "user": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-07-16T15:38:07Z", "updated_at": "2021-09-30T22:33:13Z", "closed_at": "2021-07-18T17:12:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/pulls/1085", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1085", "diff_url": "https://github.com/catalyst-cooperative/pudl/pull/1085.diff", "patch_url": "https://github.com/catalyst-cooperative/pudl/pull/1085.patch", "merged_at": null}, "body": "- removed the replaces that were dealing with null values for string  types.\r\n- added a check to ensure all string types in pc.column_dtypes are the nullable string types\r\n- inserted `loc`s in the zip code zero padding", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1085/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1033", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1033/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1033/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1033/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1033", "id": 919571323, "node_id": "MDU6SXNzdWU5MTk1NzEzMjM=", "number": 1033, "title": "Inconsistencies in the gens_eia860 output in the utility_id_eia column", "user": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2021-06-12T14:17:18Z", "updated_at": "2021-09-03T21:09:21Z", "closed_at": "2021-09-03T21:09:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Describe the bug\r\nI found a number of generator records that are showing up in an annual pudl output object that have nulls in the `utility_id_eia` column. These should all be consistent because this column is a harvested column that is stored in the `plants_eia860` table.\r\n\r\nI have not investigated whether it is inconsistent in that table, but I suspect this is a merge issue in the output layer.\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n - **Medium-Low:** With some effort, I can work around the bug.\r\n\r\n### To Reproduce\r\nHere is a code snippet I used to visualize the issue:\r\n```\r\nimport pudl\r\nimport sqlachemy as sa\r\n\r\n# get a pudl db engine\r\npudl_settings = pudl.workspace.setup.get_defaults()\r\npudl_engine = sa.create_engine(pudl_settings['pudl_db'])\r\n# make the pudl output object\r\npudl_out = pudl.output.pudltabl.PudlTabl(pudl_engine, freq='AS',)\r\n\r\nidx_plant = ['plant_id_eia', 'report_date']\r\ngens = pudl_out.gens_eia860()\r\ntest = gens.drop_duplicates(subset=idx_plant + ['utility_id_eia'])\r\ntest[test.duplicated(subset=idx_plant)].groupby(['report_date']).nunique()\r\n```\r\n\r\nthis is my output from running this snippet in a notebook:\r\n<img width=\"655\" alt=\"image\" src=\"https://user-images.githubusercontent.com/25487998/121778636-c60fed00-cb65-11eb-86c4-62fd9cff1a9f.png\">\r\n\r\nand extending off of the previous snippet:\r\n```\r\ntest[test.duplicated(subset=idx_plant, keep=False)]\r\n```\r\n<img width=\"941\" alt=\"image\" src=\"https://user-images.githubusercontent.com/25487998/121778840-d2e11080-cb66-11eb-8e8a-e22fbfc1de57.png\">\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1033/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1013", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1013/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1013/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1013/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/1013", "id": 908702650, "node_id": "MDU6SXNzdWU5MDg3MDI2NTA=", "number": 1013, "title": "Treat FIPS codes as strings everywhere", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}, {"id": 1073066788, "node_id": "MDU6TGFiZWwxMDczMDY2Nzg4", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc714", "name": "ferc714", "color": "2043db", "default": false, "description": "Anything having to do with FERC Form 714"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-06-01T21:30:28Z", "updated_at": "2021-06-07T20:46:44Z", "closed_at": "2021-06-07T20:46:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We have State, County, and Census Tract level FIPS codes in a couple of places, including:\r\n* the `service_territory_eia861` table\r\n* the Census DP1 data and\r\n* the `pudl.analysis.state_demand` module\r\n\r\nFIPS codes are like ZIP codes -- they're numeric, but actually they are strings and the leading zeroes matter. In the `state_demand` module right now they are being treated as integers, which leads to the need to convert data types, and will potentially end up corrupting the data if e.g. leading zeroes are dropped and then state and county FIPS codes are concatenated and some zeroes are missing.\r\n\r\nMake whatever changes need to be made to the `state_demand` module to ensure that it's always treating FIPS codes as strings.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1013/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1003", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1003/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1003/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1003/events", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1003", "id": 893722262, "node_id": "MDExOlB1bGxSZXF1ZXN0NjQ2MTkxMjcz", "number": 1003, "title": "Fix pudl ids", "user": {"login": "aesharpe", "id": 49878195, "node_id": "MDQ6VXNlcjQ5ODc4MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/49878195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aesharpe", "html_url": "https://github.com/aesharpe", "followers_url": "https://api.github.com/users/aesharpe/followers", "following_url": "https://api.github.com/users/aesharpe/following{/other_user}", "gists_url": "https://api.github.com/users/aesharpe/gists{/gist_id}", "starred_url": "https://api.github.com/users/aesharpe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aesharpe/subscriptions", "organizations_url": "https://api.github.com/users/aesharpe/orgs", "repos_url": "https://api.github.com/users/aesharpe/repos", "events_url": "https://api.github.com/users/aesharpe/events{/privacy}", "received_events_url": "https://api.github.com/users/aesharpe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 530157187, "node_id": "MDU6TGFiZWw1MzAxNTcxODc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/glue", "name": "glue", "color": "33cc33", "default": false, "description": "PUDL specific structures & metadata. Stuff that connects datasets together."}, {"id": 785877576, "node_id": "MDU6TGFiZWw3ODU4Nzc1NzY=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-repair", "name": "data-repair", "color": "ef9bbd", "default": false, "description": "Interpolating or extrapolating data that we don't actually have."}, {"id": 1073058153, "node_id": "MDU6TGFiZWwxMDczMDU4MTUz", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/docs", "name": "docs", "color": "294793", "default": false, "description": "Documentation for users and contributors."}, {"id": 1785337505, "node_id": "MDU6TGFiZWwxNzg1MzM3NTA1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/metadata", "name": "metadata", "color": "d4c5f9", "default": false, "description": "Anything having to do with the content, formatting, or storage of metadata. Mostly datapackages."}], "state": "closed", "locked": false, "assignee": {"login": "aesharpe", "id": 49878195, "node_id": "MDQ6VXNlcjQ5ODc4MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/49878195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aesharpe", "html_url": "https://github.com/aesharpe", "followers_url": "https://api.github.com/users/aesharpe/followers", "following_url": "https://api.github.com/users/aesharpe/following{/other_user}", "gists_url": "https://api.github.com/users/aesharpe/gists{/gist_id}", "starred_url": "https://api.github.com/users/aesharpe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aesharpe/subscriptions", "organizations_url": "https://api.github.com/users/aesharpe/orgs", "repos_url": "https://api.github.com/users/aesharpe/repos", "events_url": "https://api.github.com/users/aesharpe/events{/privacy}", "received_events_url": "https://api.github.com/users/aesharpe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aesharpe", "id": 49878195, "node_id": "MDQ6VXNlcjQ5ODc4MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/49878195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aesharpe", "html_url": "https://github.com/aesharpe", "followers_url": "https://api.github.com/users/aesharpe/followers", "following_url": "https://api.github.com/users/aesharpe/following{/other_user}", "gists_url": "https://api.github.com/users/aesharpe/gists{/gist_id}", "starred_url": "https://api.github.com/users/aesharpe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aesharpe/subscriptions", "organizations_url": "https://api.github.com/users/aesharpe/orgs", "repos_url": "https://api.github.com/users/aesharpe/repos", "events_url": "https://api.github.com/users/aesharpe/events{/privacy}", "received_events_url": "https://api.github.com/users/aesharpe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-05-17T21:18:06Z", "updated_at": "2021-06-01T16:51:45Z", "closed_at": "2021-06-01T16:51:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/pulls/1003", "html_url": "https://github.com/catalyst-cooperative/pudl/pull/1003", "diff_url": "https://github.com/catalyst-cooperative/pudl/pull/1003.diff", "patch_url": "https://github.com/catalyst-cooperative/pudl/pull/1003.patch", "merged_at": "2021-06-01T16:51:40Z"}, "body": "I fixed the following plants with strange or miss-matched pudl ids:\r\n\r\n- **Nine Mile Point** row from Entergy LA (pudl id 456) confused with **Nine Mile Point Nuclear Station** from Niagra Mohawk Power Corp. (pudl id 2133).\r\n- **Beebee Station** row from RG&E NY (pudl id 41) confused with **Beebee Island Hydro Plant** from Niagra Mohawk Power Corp. (pudl id 11960).\r\n- **Spokane NE** row from Avista (pudl id 12240) confused with **Spokane Waste To Energy** from the city of Spokane (pudl id 554).\r\n- **Putnam** row from FPL (plant id 1220) confused with **Putnam** from DTE (plant id 476).\r\n- **Okeechobee Clean Energy Center** row from FPL (pudl id 10649) -- actually a gas plant -- confused with the **Okeechobe Solar** also from FPL (pudl id 13441). Might be co-located.\r\n- **River Valley** row from Oklahoma G&E (pudl id 14386) confused with **River Valley Solar** from Neighborhood Power Corp. (pudl id 15143).\r\n- **Hamilton Moses** row from Entergy Arkensaws, Inc. (pudl id 246) had two rows.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/1003/timeline", "performed_via_github_app": null, "state_reason": null}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/949", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/949/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/949/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/949/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/949", "id": 836176204, "node_id": "MDU6SXNzdWU4MzYxNzYyMDQ=", "number": 949, "title": "Issue running conda setup for dev", "user": {"login": "cschloer", "id": 7134143, "node_id": "MDQ6VXNlcjcxMzQxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/7134143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cschloer", "html_url": "https://github.com/cschloer", "followers_url": "https://api.github.com/users/cschloer/followers", "following_url": "https://api.github.com/users/cschloer/following{/other_user}", "gists_url": "https://api.github.com/users/cschloer/gists{/gist_id}", "starred_url": "https://api.github.com/users/cschloer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cschloer/subscriptions", "organizations_url": "https://api.github.com/users/cschloer/orgs", "repos_url": "https://api.github.com/users/cschloer/repos", "events_url": "https://api.github.com/users/cschloer/events{/privacy}", "received_events_url": "https://api.github.com/users/cschloer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-03-19T16:31:01Z", "updated_at": "2021-03-20T13:15:45Z", "closed_at": "2021-03-19T18:14:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Describe the bug\r\nRunning the conda dev development commands described [here](https://catalystcoop-pudl.readthedocs.io/en/latest/dev_setup.html#create-and-activate-the-pudl-dev-conda-environment) results in an error for me.\r\n\r\n```\r\n(base) ~/Projects/catalyst/pudl (sprint31) $ conda env create --name pudl-dev --file devtools/environment.yml\r\nCollecting package metadata (repodata.json): done\r\nSolving environment: | \r\nFound conflicts! Looking for incompatible packages.\r\nThis can take several minutes.  Press CTRL-C to abort.\r\nfailed                                                                                                                                                                               /  \r\nSolving environment: - \r\nFound conflicts! Looking for incompatible packages.\r\nThis can take several minutes.  Press CTRL-C to abort.\r\nfailed                                                                                                                                                                               -  \r\n\r\nUnsatisfiableError: The following specifications were found to be incompatible with each other:\r\n....\r\n```\r\n\r\nI've truncated the rest because it goes on for a while describing the conflicts. I can add it if it's not reproducible.\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n - **Low:** I'm able to just install dependencies on my own I believe.\r\n\r\n### To Reproduce\r\nRunning\r\n```\r\nconda config --set channel_priority strict\r\nconda env create --name pudl-dev --file devtools/environment.yml\r\n```\r\n\r\nfrom the sprint31 branch\r\n\r\n### Expected behavior\r\nI would expect it to return without an error and create the pudl-dev environment.\r\n\r\n### Software Environment?\r\n - OS: Ubuntu 20.04.2\r\n - Python version 3.8.8\r\n - How did you install PUDL? git clone\r\n\r\n### Additional context\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/949/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/927", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/927/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/927/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/927/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/927", "id": 814611315, "node_id": "MDU6SXNzdWU4MTQ2MTEzMTU=", "number": 927, "title": "sprint30 devtools/environment.yml is broken", "user": {"login": "rousik", "id": 7414040, "node_id": "MDQ6VXNlcjc0MTQwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7414040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rousik", "html_url": "https://github.com/rousik", "followers_url": "https://api.github.com/users/rousik/followers", "following_url": "https://api.github.com/users/rousik/following{/other_user}", "gists_url": "https://api.github.com/users/rousik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rousik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rousik/subscriptions", "organizations_url": "https://api.github.com/users/rousik/orgs", "repos_url": "https://api.github.com/users/rousik/repos", "events_url": "https://api.github.com/users/rousik/events{/privacy}", "received_events_url": "https://api.github.com/users/rousik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": {"login": "rousik", "id": 7414040, "node_id": "MDQ6VXNlcjc0MTQwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7414040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rousik", "html_url": "https://github.com/rousik", "followers_url": "https://api.github.com/users/rousik/followers", "following_url": "https://api.github.com/users/rousik/following{/other_user}", "gists_url": "https://api.github.com/users/rousik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rousik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rousik/subscriptions", "organizations_url": "https://api.github.com/users/rousik/orgs", "repos_url": "https://api.github.com/users/rousik/repos", "events_url": "https://api.github.com/users/rousik/events{/privacy}", "received_events_url": "https://api.github.com/users/rousik/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rousik", "id": 7414040, "node_id": "MDQ6VXNlcjc0MTQwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7414040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rousik", "html_url": "https://github.com/rousik", "followers_url": "https://api.github.com/users/rousik/followers", "following_url": "https://api.github.com/users/rousik/following{/other_user}", "gists_url": "https://api.github.com/users/rousik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rousik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rousik/subscriptions", "organizations_url": "https://api.github.com/users/rousik/orgs", "repos_url": "https://api.github.com/users/rousik/repos", "events_url": "https://api.github.com/users/rousik/events{/privacy}", "received_events_url": "https://api.github.com/users/rousik/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2021-02-23T16:13:38Z", "updated_at": "2021-02-24T15:49:21Z", "closed_at": "2021-02-24T15:48:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "using conda/miniconda to build the environment from `sprint30` fails due to many conflicts. @zaneselvans reports that using mamba might in fact work.\r\n\r\nWe should investigate what caused this and resolve this. ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/927/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/908", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/908/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/908/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/908/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/908", "id": 802574920, "node_id": "MDU6SXNzdWU4MDI1NzQ5MjA=", "number": 908, "title": "Obscure prefect exception can happen during development", "user": {"login": "rousik", "id": 7414040, "node_id": "MDQ6VXNlcjc0MTQwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7414040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rousik", "html_url": "https://github.com/rousik", "followers_url": "https://api.github.com/users/rousik/followers", "following_url": "https://api.github.com/users/rousik/following{/other_user}", "gists_url": "https://api.github.com/users/rousik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rousik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rousik/subscriptions", "organizations_url": "https://api.github.com/users/rousik/orgs", "repos_url": "https://api.github.com/users/rousik/repos", "events_url": "https://api.github.com/users/rousik/events{/privacy}", "received_events_url": "https://api.github.com/users/rousik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 3321518548, "node_id": "MDU6TGFiZWwzMzIxNTE4NTQ4", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/prefect", "name": "prefect", "color": "A0E1A8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rousik", "id": 7414040, "node_id": "MDQ6VXNlcjc0MTQwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7414040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rousik", "html_url": "https://github.com/rousik", "followers_url": "https://api.github.com/users/rousik/followers", "following_url": "https://api.github.com/users/rousik/following{/other_user}", "gists_url": "https://api.github.com/users/rousik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rousik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rousik/subscriptions", "organizations_url": "https://api.github.com/users/rousik/orgs", "repos_url": "https://api.github.com/users/rousik/repos", "events_url": "https://api.github.com/users/rousik/events{/privacy}", "received_events_url": "https://api.github.com/users/rousik/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rousik", "id": 7414040, "node_id": "MDQ6VXNlcjc0MTQwNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/7414040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rousik", "html_url": "https://github.com/rousik", "followers_url": "https://api.github.com/users/rousik/followers", "following_url": "https://api.github.com/users/rousik/following{/other_user}", "gists_url": "https://api.github.com/users/rousik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rousik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rousik/subscriptions", "organizations_url": "https://api.github.com/users/rousik/orgs", "repos_url": "https://api.github.com/users/rousik/repos", "events_url": "https://api.github.com/users/rousik/events{/privacy}", "received_events_url": "https://api.github.com/users/rousik/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-02-06T01:27:45Z", "updated_at": "2023-02-11T02:57:02Z", "closed_at": "2023-02-11T02:57:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Sometimes when I'm coding and testing my changes by running test etl, the prefect library throws this obscure exception:\r\n\r\n```\r\n[2021-02-05 18:18:21-0700] ERROR - prefect.FlowRunner | Unexpected error: TypeError(\"object of type 'KeyError' has no len()\")\r\nTraceback (most recent call last):\r\n  File \"/home/jaro/data/anaconda3/envs/p2/lib/python3.8/site-packages/prefect/engine/runner.py\", line 48, in inner\r\n    new_state = method(self, state, *args, **kwargs)\r\n  File \"/home/jaro/data/anaconda3/envs/p2/lib/python3.8/site-packages/prefect/engine/flow_runner.py\", line 494, in get_flow_run_state\r\n    children = executors.flatten_mapped_children(\r\n  File \"/home/jaro/data/anaconda3/envs/p2/lib/python3.8/site-packages/prefect/utilities/executors.py\", line 559, in flatten_mapped_children\r\n    [executor.submit(lambda c: len(c._result.value), c) for c in mapped_children]\r\n  File \"/home/jaro/data/anaconda3/envs/p2/lib/python3.8/site-packages/prefect/utilities/executors.py\", line 559, in <listcomp>\r\n    [executor.submit(lambda c: len(c._result.value), c) for c in mapped_children]\r\n  File \"/home/jaro/data/anaconda3/envs/p2/lib/python3.8/site-packages/prefect/executors/local.py\", line 28, in submit\r\n    return fn(*args, **kwargs)\r\n  File \"/home/jaro/data/anaconda3/envs/p2/lib/python3.8/site-packages/prefect/utilities/executors.py\", line 559, in <lambda>\r\n    [executor.submit(lambda c: len(c._result.value), c) for c in mapped_children]\r\nTypeError: object of type 'KeyError' has no len()\r\n```\r\n\r\nUsually, there are also associated task failures (perhaps this happens when mapped task gets strange input) but this feels like a prefect bug because it is making incorrect type assumptions.\r\n\r\nIn this case, `KeyError` seems to be stored in `c._result.value` while the code assumes list here.\r\n\r\nThis exception seems to propagate and crash `flow.run()`", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/908/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/884", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/884/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/884/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/884/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/884", "id": 786534910, "node_id": "MDU6SXNzdWU3ODY1MzQ5MTA=", "number": 884, "title": "Validating full epacems with goodtables_pandas runs out of memory", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}, {"id": 1480374055, "node_id": "MDU6TGFiZWwxNDgwMzc0MDU1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/datapkg", "name": "datapkg", "color": "3df4a5", "default": false, "description": "Frictionless data package input, output, metadata, manipulation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2021-01-15T04:59:36Z", "updated_at": "2021-02-24T15:59:49Z", "closed_at": "2021-02-24T15:59:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "At the end of the ETL process after the (compressed, partitioned) tabular data package for `epacems` has been output, we attempt to validate them using @ezwelty's `goodtables_pandas` library. However, if you do a significant subset of the available states and years on a single machine, you'll probably run out of memory, since the `hourly_emissions_epacems` table has almost a billion rows in it. We need to either only validate a sample, or skip the validation, or come up with some way to serialize it when run on a single machine.\r\n\r\nIt seems like something that could be done with `dask` if we wanted. But also it would be easy to just skip it.  @rousik how does this end up working in the `prefect` & `dask` setup? Are the subsets of the data package validated separately on their own nodes?", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/884/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/884/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/828", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/828/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/828/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/828/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/828", "id": 747711787, "node_id": "MDU6SXNzdWU3NDc3MTE3ODc=", "number": 828, "title": "861 failing w/o all years of data on balancing authority fixes", "user": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-11-20T18:33:56Z", "updated_at": "2022-06-08T16:27:00Z", "closed_at": "2022-06-08T16:27:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "found this while testing eia860m (because I accidentally used 860 years for the `test.interim_etl_test.test_interim_eia861_etl()`)\n\nthis should be easy enough to fix. this is the line that fails:\n\n`ba.loc[BA_ID_NAME_FIXES.index, 'balancing_authority_id_eia']`\n\nperhaps we can convert this loc statement to a merge?", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/828/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/787", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/787/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/787/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/787/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/787", "id": 717776094, "node_id": "MDU6SXNzdWU3MTc3NzYwOTQ=", "number": 787, "title": "SQLite not checking integrity of foreign key constraints?", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 530157187, "node_id": "MDU6TGFiZWw1MzAxNTcxODc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/glue", "name": "glue", "color": "33cc33", "default": false, "description": "PUDL specific structures & metadata. Stuff that connects datasets together."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 1480372589, "node_id": "MDU6TGFiZWwxNDgwMzcyNTg5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/sqlite", "name": "sqlite", "color": "1b6800", "default": false, "description": "Issues related to interacting with sqlite databases"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-10-09T01:20:59Z", "updated_at": "2021-03-05T15:10:11Z", "closed_at": "2021-03-05T15:10:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I just attempted to run the ETL on `ferc1`, `eia860` and `eia923` including the 2019 data, even though the EIA-to-FERC glue (assigning plants and utilities their PUDL IDs by hand) hasn't been done yet.  I expected the datapackages to get generated just fine, but for the loading of those datapackages into SQLite to fail. However, that's not what happened.\r\n\r\n* The new FERC `respondent_id` values (e.g. 519, 529, 531) that were associated with utilities based on the names of plants they own (and some searching through the EIA data and the web) **did not** show up in the `utilities_ferc1.csv` within the data package (they also didn't show up in the database, unsurprisingly).\r\n* However, the records associated with these new IDs **do** appear in the data packages (e.g. in `plants_steam_ferc1.csv`), and then they **do not** show up in the database tables after loading.\r\n* The fact that there's a `utility_id_ferc1` in `plants_steam_ferc1` and **not** in `utilities_ferc1` **did not produce an error** by violating the foreign key constraint upon loading the data into the database. Instead the records violating the constraint appear to have been silently dropped.\r\n\r\nSo, are the foreign key constraints ever getting tested? We've been relying on the database ingest to validate this aspect of the database structure.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/787/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/755", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/755/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/755/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/755/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/755", "id": 705851593, "node_id": "MDU6SXNzdWU3MDU4NTE1OTM=", "number": 755, "title": "Fix SQLAlchemy Windows URL/path munging", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 1480372589, "node_id": "MDU6TGFiZWwxNDgwMzcyNTg5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/sqlite", "name": "sqlite", "color": "1b6800", "default": false, "description": "Issues related to interacting with sqlite databases"}, {"id": 2365677817, "node_id": "MDU6TGFiZWwyMzY1Njc3ODE3", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/windows", "name": "windows", "color": "d93f0b", "default": false, "description": "Issues specific to the Microsoft Windows operating system"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-09-21T19:17:50Z", "updated_at": "2021-03-16T16:11:33Z", "closed_at": "2021-03-16T16:11:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Something about the way that we are constructing SQLAlchemy database URLs (e.g. `sqlite:///home/zane/code/catalyst/pudl-work/sqlite/pudl.sqlite`) based on the paths to the files in question is failing on Windows -- maybe because the URLs always need to use forward slashes, but on Windows the Path library automatically uses backslashes, and we're composing the two together incorrectly?\n\nIn any case, it means that even with a working PUDL ETL on Windows, one cannot populate or access the SQLite DBs whose URLs are constructed and stored in the `pudl_settings` dictionary.\n\nThis could also be addressed potentially with user-specific importable settings for PUDL overall.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/755/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/749", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/749/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/749/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/749/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/749", "id": 699657687, "node_id": "MDU6SXNzdWU2OTk2NTc2ODc=", "number": 749, "title": "ferc1_to_sqlite not finding F1_PUB.DBC", "user": {"login": "grgmiller", "id": 45949268, "node_id": "MDQ6VXNlcjQ1OTQ5MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/45949268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grgmiller", "html_url": "https://github.com/grgmiller", "followers_url": "https://api.github.com/users/grgmiller/followers", "following_url": "https://api.github.com/users/grgmiller/following{/other_user}", "gists_url": "https://api.github.com/users/grgmiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/grgmiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grgmiller/subscriptions", "organizations_url": "https://api.github.com/users/grgmiller/orgs", "repos_url": "https://api.github.com/users/grgmiller/repos", "events_url": "https://api.github.com/users/grgmiller/events{/privacy}", "received_events_url": "https://api.github.com/users/grgmiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 2365677817, "node_id": "MDU6TGFiZWwyMzY1Njc3ODE3", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/windows", "name": "windows", "color": "d93f0b", "default": false, "description": "Issues specific to the Microsoft Windows operating system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-09-11T19:13:15Z", "updated_at": "2021-04-26T21:07:17Z", "closed_at": "2021-04-26T21:07:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Describe the bug\r\nI am running `ferc1_to_sqlite settings/ferc1_to_sqlite.yml --sandbox` using the development setup (pudl based on current dev branch) and am getting the following error:\r\n\r\n```\r\n2020-09-11 11:35:18 [    INFO] pudl.extract.ferc1:456 Dropping the old FERC Form 1 SQLite DB if it exists.\r\n2020-09-11 11:35:18 [    INFO] pudl.extract.ferc1:469 Creating a new database schema based on 2018.\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\greg\\github\\pudl\\src\\pudl\\extract\\ferc1.py\", line 111, in get_file\r\n    f = z.open(dbc_path)\r\n  File \"C:\\Users\\Greg\\Anaconda3\\envs\\pudl-dev\\lib\\zipfile.py\", line 1514, in open\r\n    zinfo = self.getinfo(name)\r\n  File \"C:\\Users\\Greg\\Anaconda3\\envs\\pudl-dev\\lib\\zipfile.py\", line 1441, in getinfo\r\n    raise KeyError(\r\nKeyError: \"There is no item named 'UPLOADERS\\\\\\\\FORM1\\\\\\\\working\\\\\\\\F1_PUB.DBC' in the archive\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Greg\\Anaconda3\\envs\\pudl-dev\\Scripts\\ferc1_to_sqlite-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('catalystcoop.pudl', 'console_scripts', 'ferc1_to_sqlite')())\r\n  File \"c:\\users\\greg\\github\\pudl\\src\\pudl\\convert\\ferc1_to_sqlite.py\", line 108, in main\r\n    pudl.extract.ferc1.dbf2sqlite(\r\n  File \"c:\\users\\greg\\github\\pudl\\src\\pudl\\extract\\ferc1.py\", line 475, in dbf2sqlite\r\n    dbc_map = get_dbc_map(ds, refyear)\r\n  File \"c:\\users\\greg\\github\\pudl\\src\\pudl\\extract\\ferc1.py\", line 286, in get_dbc_map\r\n    dbc = ds.get_file(year, \"F1_PUB.DBC\")\r\n  File \"c:\\users\\greg\\github\\pudl\\src\\pudl\\extract\\ferc1.py\", line 113, in get_file\r\n    raise KeyError(f\"{dbc_path} is not available in {year} archive.\")\r\nKeyError: 'UPLOADERS\\\\FORM1\\\\working\\\\F1_PUB.DBC is not available in 2018 archive.'\r\n```\r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n - **High:** This bug is preventing me from using PUDL.\r\n\r\n### To Reproduce\r\nSteps to reproduce the behavior -- ideally including a code snippet that causes the error to appear.\r\nI downloaded the datastore locally using `pudl_datastore --sandbox --verbose --loglevel DEBUG`, and the ferc1 data is stored in a folder called \"10.5072-zenodo.656695\"\r\nText doc containing yml file info:\r\n[ferc1_to_sqlite.txt](https://github.com/catalyst-cooperative/pudl/files/5211093/ferc1_to_sqlite.txt)\r\n\r\n\r\n### Software Environment?\r\n - OS: Windows 10 Enterprise Version 2004\r\n - Python version 3.8.5\r\n - How did you install PUDL? Using development setup from GitHub (dev branch)\r\n\r\n### Additional context\r\nZane's Guess: My guess is that the real problem here is that your machine (Windows) has one way of specifying path separators, but inside the unzipped Zipfile, it's not a Windows filesystem, and it's expecting another type of path separator (forward-slash) or something like that.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/749/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/705", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/705/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/705/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/705", "id": 667311536, "node_id": "MDU6SXNzdWU2NjczMTE1MzY=", "number": 705, "title": "Address parquet / pyarrow 1.0.0 vs. pandas tzinfo incompatibilites in timezone aware columns", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/34", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/34", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/34/labels", "id": 6066340, "node_id": "MDk6TWlsZXN0b25lNjA2NjM0MA==", "number": 34, "title": "PUDL Sprint 27", "description": "", "creator": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2020-11-03T21:35:02Z", "updated_at": "2020-12-14T16:36:25Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-14T16:36:25Z"}, "comments": 19, "created_at": "2020-07-28T19:22:40Z", "updated_at": "2020-11-10T15:42:59Z", "closed_at": "2020-11-09T22:54:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Something about the way that we are specifying the arrow / parquet schema in `epacems_to_parquet` appears to be incompatible with Apache Arrow 1.0.0 -- though it works fine with Arrow 0.17.1. If you attempt to run an `epacems_to_parquet` conversion with arrow 1.0.0 installed, it fails on attempting to convert the `operating_datetime_utc` column from a pandas to an arrow column.  However, if the timezone is left out of the timestamp column's schema definition (and it is allowed to assume UTC, which is the default and correct in this case) it then fails on one of the `int32` columns, saying that a floating point value has been truncated.\r\n\r\nNot entirely clear what changed between the pre-1.0 and post-1.0 versions of Arrow that would have broken this, but that seems to be the controlling factor in whether what we're doing works or fails.\r\n\r\nSee [the Arrow 1.0.0 release announcement](https://arrow.apache.org/blog/2020/07/24/1.0.0-release/) which links to a complete change log.\r\n\r\nTo minimally recreate the bad behavior, given some pre-existing EPA CEMS datapackage outputs, you can use the following code:\r\n\r\n```py\r\nimport pandas as pd\r\nimport pyarrow as pa\r\nimport pyarrow.parquet as pq\r\n\r\nimport pudl\r\n\r\n# The path to wherever your EPA CEMS outputs are:\r\nepacems_dir = \"./\"\r\n# The path to wherever you want it to create a Parquet dataset:\r\noutput_dir = \"./\"\r\nyear = 2018\r\nstate = \"ID\"\r\n\r\ndf = (\r\n    pd.read_csv(\r\n        pathlib.Path(epacems_dir) / f\"hourly_emissions_epacems_{year}_{state.lower()}.csv.gz\",\r\n        parse_dates=[\"operating_datetime_utc\"],\r\n        dtype=pudl.convert.epacems_to_parquet.create_in_dtypes()\r\n    )\r\n    .assign(year=year)\r\n)\r\npq.write_to_dataset(\r\n    pa.Table.from_pandas(\r\n        df,\r\n        preserve_index=False,\r\n        schema=pudl.convert.epacems_to_parquet.create_cems_schema()),\r\n    root_path=output_dir,\r\n    partition_cols=[\"year\", \"state\"],\r\n    compression=\"snappy\"\r\n)\r\n```", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/705/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/682", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/682/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/682/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/682/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/682", "id": 655275900, "node_id": "MDU6SXNzdWU2NTUyNzU5MDA=", "number": 682, "title": "pudl.transform.eia861._compare_totals() failing on some tables", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 1074383979, "node_id": "MDU6TGFiZWwxMDc0MzgzOTc5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia861", "name": "eia861", "color": "2aea4a", "default": false, "description": "Anything having to do with EIA Form 861"}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, {"login": "aesharpe", "id": 49878195, "node_id": "MDQ6VXNlcjQ5ODc4MTk1", "avatar_url": "https://avatars.githubusercontent.com/u/49878195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aesharpe", "html_url": "https://github.com/aesharpe", "followers_url": "https://api.github.com/users/aesharpe/followers", "following_url": "https://api.github.com/users/aesharpe/following{/other_user}", "gists_url": "https://api.github.com/users/aesharpe/gists{/gist_id}", "starred_url": "https://api.github.com/users/aesharpe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aesharpe/subscriptions", "organizations_url": "https://api.github.com/users/aesharpe/orgs", "repos_url": "https://api.github.com/users/aesharpe/repos", "events_url": "https://api.github.com/users/aesharpe/events{/privacy}", "received_events_url": "https://api.github.com/users/aesharpe/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/26", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/26", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/26/labels", "id": 5642474, "node_id": "MDk6TWlsZXN0b25lNTY0MjQ3NA==", "number": 26, "title": "PUDL Sprint 19", "description": "", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-07-10T20:54:40Z", "updated_at": "2020-07-24T21:18:31Z", "due_on": "2020-07-24T07:00:00Z", "closed_at": "2020-07-24T21:08:35Z"}, "comments": 1, "created_at": "2020-07-11T20:41:45Z", "updated_at": "2020-07-16T00:52:05Z", "closed_at": "2020-07-16T00:52:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `pudl.transform.eia861._compare_totals()` is failing on the following tables with an error about being unable to perform a `.sum()` on a column with a boolean type:\r\n\r\n```py\r\nfailing_tables = [\r\n    \"net_metering_eia861\",\r\n    \"demand_response_eia861\",\r\n    \"dynamic_pricing_eia861\",\r\n    \"sales_eia861\",\r\n    \"green_pricing_eia861\",\r\n]\r\n```\r\n\r\nRunning the transform on the `sales_eia861` table, when the error occurs, all of the categorical members of `idx_cols` are entirely null, and all of the `data_cols` ([`sales_mwh`, `customers`, and `revenue`]) are also entirely null. A new column called `compare_totals` has been introduced, and it is of boolean type, and contains nothing but `False` values.\r\n\r\nThe `.sum()` which is used in the calculation of the `bad_math` for logging output is the one that fails, as it's trying to sum the boolean `compare_totals` column.\r\n\r\nIt seems like the lines:\r\n```py\r\n    # Calculate sum of segments for comparison against reported total\r\n    data_sums_df = data_no_tots_df.groupby(\r\n        idx_cols + [class_type], observed=True).sum()\r\n    sum_total_df = pd.merge(data_totals_df, data_sums_df, on=idx_cols,\r\n                            how='outer', suffixes=('_total', '_sum'))\r\n```\r\n\r\nMight not be operating as expected, since no columns with `_total` or `_sum` suffixes are added to the dataframe, and the result of the `groupby().sum()` is empty data columns ([`sales_mwh`, `customers`, and `revenue`]) .", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/682/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/613", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/613/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/613/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/613/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/613", "id": 624944477, "node_id": "MDU6SXNzdWU2MjQ5NDQ0Nzc=", "number": 613, "title": "Harvesting process needs to account for composite primary keys", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 1074383979, "node_id": "MDU6TGFiZWwxMDc0MzgzOTc5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia861", "name": "eia861", "color": "2aea4a", "default": false, "description": "Anything having to do with EIA Form 861"}, {"id": 2389403234, "node_id": "MDU6TGFiZWwyMzg5NDAzMjM0", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/harvest", "name": "harvest", "color": "ed4e7b", "default": false, "description": "Normalization of poorly normalized inputs and reconciliation of internal inconsistencies"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-26T14:51:11Z", "updated_at": "2021-09-03T20:23:35Z", "closed_at": "2021-09-03T20:23:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I think there might be an issue with the current harvesting process as applied to the 861 tables -- e.g. in the `sales_eia861` table, there's a `utility_id_eia`, and then there are some other columns which in the 860 and 923 are denormalized -- like `state` -- but in `sales_eia861`, the state is part of the primary key, as is the `balancing_authority_code_eia`, so those values can't be stripped out of the table without damaging it.  However, those fields how up in `plants_eia860` where they *do* need to be stripped out and associated with the entity that's being constructed.\r\n\r\nI've tested this process, and it does in fact remove primary key columns from the `sales_eia861` table.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/613/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/602", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/602/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/602/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/602", "id": 614194509, "node_id": "MDU6SXNzdWU2MTQxOTQ1MDk=", "number": 602, "title": "Ensure all fixed O&M costs are included in steam_plants_ferc1 outputs", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 1480374055, "node_id": "MDU6TGFiZWwxNDgwMzc0MDU1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/datapkg", "name": "datapkg", "color": "3df4a5", "default": false, "description": "Frictionless data package input, output, metadata, manipulation"}, {"id": 1785337505, "node_id": "MDU6TGFiZWwxNzg1MzM3NTA1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/metadata", "name": "metadata", "color": "d4c5f9", "default": false, "description": "Anything having to do with the content, formatting, or storage of metadata. Mostly datapackages."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/22", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/22", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/22/labels", "id": 5380068, "node_id": "MDk6TWlsZXN0b25lNTM4MDA2OA==", "number": 22, "title": "PUDL Sprint 15", "description": "", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2020-05-04T13:40:34Z", "updated_at": "2020-05-18T16:15:42Z", "due_on": "2020-05-17T07:00:00Z", "closed_at": "2020-05-18T16:15:42Z"}, "comments": 1, "created_at": "2020-05-07T16:38:49Z", "updated_at": "2020-05-07T17:43:58Z", "closed_at": "2020-05-07T17:43:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Some of the fixed O&M (\"capex_\") columns which exist in the original FERC Form 1 f1_steam table are not currently defined appropriately in the datapackage metadata for that table. We need to add them back in and ensure that they all end up in the output tables.\r\n\r\nThis has apparently been the case since we first defined the table using the datapackage.json file.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/602/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/595", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/595/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/595/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/595/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/595", "id": 611066184, "node_id": "MDU6SXNzdWU2MTEwNjYxODQ=", "number": 595, "title": "Net Generation data missing from generation_eia923.csv datapackage", "user": {"login": "grgmiller", "id": 45949268, "node_id": "MDQ6VXNlcjQ1OTQ5MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/45949268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grgmiller", "html_url": "https://github.com/grgmiller", "followers_url": "https://api.github.com/users/grgmiller/followers", "following_url": "https://api.github.com/users/grgmiller/following{/other_user}", "gists_url": "https://api.github.com/users/grgmiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/grgmiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grgmiller/subscriptions", "organizations_url": "https://api.github.com/users/grgmiller/orgs", "repos_url": "https://api.github.com/users/grgmiller/repos", "events_url": "https://api.github.com/users/grgmiller/events{/privacy}", "received_events_url": "https://api.github.com/users/grgmiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-02T00:12:35Z", "updated_at": "2023-02-11T02:25:27Z", "closed_at": "2023-02-11T02:25:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I was working on https://github.com/catalyst-cooperative/pudl/issues/245 and attempting to calculate gross to net generation ratios using gross generation data from cems and net generation data from eia-923, but I noticed that there is missing data in the generation_eia923.csv data package. I was looking at plant_id_eia = 55397, which has three generators: ST1, CT1, and CT2. Data for these three generators is present in generation_eia923 up to 2017, but the 2018 data only includes data for ST1. I went back and checked the original 2018 EIA-923 excel file, and it contains data for all three generators. \r\n\r\nIt seems like for some reason, the ETL process might be dropping some of the good data. Looking at the generation function in the eia923.py transform module, I do not see an obvious reason why these records would have been dropped, as the generator_id is not missing, and it has non-zero data available. \r\n\r\nI noticed this first while using the v1.0 datarelease of pudl-eia860-eia923-epacems, but downloaded v1.1 of pudl-eia860-eia923-epacems and the problem persists there as well. I have not tried using pudl-eia860-eia923, but I am assuming that the eia923 data should be the same in both?", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/595/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/565", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/565/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/565/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/565/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/565", "id": 582359484, "node_id": "MDU6SXNzdWU1ODIzNTk0ODQ=", "number": 565, "title": "epacems_to_parquet stops after converting only part of the data", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}, {"id": 1552690490, "node_id": "MDU6TGFiZWwxNTUyNjkwNDkw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/cli", "name": "cli", "color": "c5def5", "default": false, "description": "Scripts and other command line interfaces to PUDL."}, {"id": 2365677817, "node_id": "MDU6TGFiZWwyMzY1Njc3ODE3", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/windows", "name": "windows", "color": "d93f0b", "default": false, "description": "Issues specific to the Microsoft Windows operating system"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-16T14:51:51Z", "updated_at": "2021-08-17T16:55:02Z", "closed_at": "2021-08-17T16:55:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Eric Gimon found that when he was running the `epacems_to_parquet` script to convert the data in release 1.1.0, the process consistently died somewhere in 2003.  He's running PUDL within the Windows Linux Subsystem on Windows 10, using the Anaconda python distribution.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/565/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/495", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/495/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/495/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/495", "id": 544264631, "node_id": "MDU6SXNzdWU1NDQyNjQ2MzE=", "number": 495, "title": "CEMS UTC offset adjustments in the wrong direction?", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 588634085, "node_id": "MDU6TGFiZWw1ODg2MzQwODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-cleaning", "name": "data-cleaning", "color": "00aa88", "default": false, "description": "Tasks related to cleaning & regularizing data during ETL."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}, {"id": 1498845145, "node_id": "MDU6TGFiZWwxNDk4ODQ1MTQ1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ready", "name": "ready", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/13", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/13", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/13/labels", "id": 4916377, "node_id": "MDk6TWlsZXN0b25lNDkxNjM3Nw==", "number": 13, "title": "PUDL Sprint 6", "description": "", "creator": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-12-09T18:24:45Z", "updated_at": "2021-10-21T19:11:05Z", "due_on": "2019-12-31T08:00:00Z", "closed_at": "2020-01-03T21:06:36Z"}, "comments": 2, "created_at": "2019-12-31T20:25:52Z", "updated_at": "2020-01-03T17:20:25Z", "closed_at": "2020-01-02T17:38:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@jrea-rmi raised the following question about CEMS data:\r\n\r\n> I assume all of the data is reported with a local timestamp, and that the pudl etl process converts this to a utc timestamp. However, I'm wondering if the utc conversion was done backwards? (Or if my thinking is backwards?) For example, plant_id_eia 3 is in Alabama, and its first timestamp is 2016-12-31T18:00:00Z. At that utc time, the local time in Alabama would be noon, not midnight, right?\r\n\r\nThis does seem off, doesn't it @karldw? Could there be a sign error in the UTC conversion? It looks like the relevant code would be in `pudl.transform.epacems.fix_up_dates()`:\r\n```py\r\n    # Add the offset from UTC. CEMS data don't have DST, so the offset is\r\n    # always the same for a given plant.\r\n    df[\"operating_datetime_utc\"] = df[\"op_datetime_naive\"] + df[\"utc_offset\"]\r\n```\r\nSo in the case of Alabama, the UTC offset in winter is -06:00. **Adding** -06:00 to the naive time would make it even further away from UTC, so we ought to be **subtracting** -06:00 (aka adding 06:00), shouldn't we? The UTC offset is the number of hours you need to add to UTC to get the local time, right? @cmgosnell which looks right to you?", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/495/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/487", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/487/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/487/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/487", "id": 535403982, "node_id": "MDU6SXNzdWU1MzU0MDM5ODI=", "number": 487, "title": "data_to_sqlite not outputting complete sql db", "user": {"login": "grgmiller", "id": 45949268, "node_id": "MDQ6VXNlcjQ1OTQ5MjY4", "avatar_url": "https://avatars.githubusercontent.com/u/45949268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grgmiller", "html_url": "https://github.com/grgmiller", "followers_url": "https://api.github.com/users/grgmiller/followers", "following_url": "https://api.github.com/users/grgmiller/following{/other_user}", "gists_url": "https://api.github.com/users/grgmiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/grgmiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grgmiller/subscriptions", "organizations_url": "https://api.github.com/users/grgmiller/orgs", "repos_url": "https://api.github.com/users/grgmiller/repos", "events_url": "https://api.github.com/users/grgmiller/events{/privacy}", "received_events_url": "https://api.github.com/users/grgmiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-12-09T23:44:09Z", "updated_at": "2020-02-07T18:09:25Z", "closed_at": "2020-02-07T18:09:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "### Describe the bug\r\nWhen I run pudl.convert.datapkg_to_sqlite.pkg_to_sqlite_db(), the module starts creating a new pudl.sqlite file in my sqlite folder. Over 20ish minutes, I see the size of the pudl.sqlite file growing, to over 500MB. However, as soon as the module finishes executing, the size of the file drops back down to 127 kB, and appears to be empty. \r\n\r\n### Bug Severity\r\nHow badly is this bug affecting you?\r\n**High:**\r\n\r\n### To Reproduce\r\nI have already run the ETL process to create a file (\"2017_data\" in my datapackage folder.\r\n\r\ncode:\r\npudl_settings = pudl.workspace.setup.get_defaults()\r\npudl.convert.datapkg_to_sqlite.pkg_to_sqlite_db(pudl_settings,'2017_data')\r\n\r\n### Expected behavior\r\nI expect that a complete pudl.sqllite db file to be created\r\n\r\n### Software Environment?\r\n - OS: Windows 10 Enterprise\r\n - PostgreSQL version N/A\r\n - Python version 3.7.3 64-bit\r\n - How did you install PUDL? conda\r\n\r\n### Additional context\r\nAdd any other context about the problem here.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/487/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/476", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/476/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/476/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/476/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/476", "id": 532148057, "node_id": "MDU6SXNzdWU1MzIxNDgwNTc=", "number": 476, "title": "Rounding of lat/lon values crashes EIA860 ETL", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-12-03T17:31:57Z", "updated_at": "2019-12-03T17:32:39Z", "closed_at": "2019-12-03T17:32:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For some reason the rounding that we're doing on Lat/Lon values (to get them to match close enough when they aren't exactly the same) started crashing. Turns out calling `df.round()` on the whole dataframe was breaking things.  Changed it to just do the latitude or longitude columns.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/476/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/451", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/451/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/451/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/451", "id": 506962716, "node_id": "MDU6SXNzdWU1MDY5NjI3MTY=", "number": 451, "title": "Data irregularities cause epacems_to_parquet to fail", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}, {"id": 1498845145, "node_id": "MDU6TGFiZWwxNDk4ODQ1MTQ1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ready", "name": "ready", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/13", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/13", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/13/labels", "id": 4916377, "node_id": "MDk6TWlsZXN0b25lNDkxNjM3Nw==", "number": 13, "title": "PUDL Sprint 6", "description": "", "creator": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-12-09T18:24:45Z", "updated_at": "2021-10-21T19:11:05Z", "due_on": "2019-12-31T08:00:00Z", "closed_at": "2020-01-03T21:06:36Z"}, "comments": 16, "created_at": "2019-10-15T02:15:48Z", "updated_at": "2019-12-20T22:24:53Z", "closed_at": "2019-12-20T22:24:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "After (apparently) successfully running the new data package based ETL process on the full EPA CEMS dataset (all years, all states), I tried to run the `epacems_to_parquet` script, but it encountered errors, and ultimately failed.  Several errors were of the type:\n```\nsys:1: DtypeWarning: Columns (8,10,12,14) have mixed types. Specify dtype option on import or set low_memory=False.\n```\nBut the thing that crashed it eventually was:\n```\nTraceback (most recent call last):\n  File \"/home/zane/miniconda3/envs/pudl-dev/bin/epacems_to_parquet\", line 11, in <module>\n    load_entry_point('catalystcoop.pudl', 'console_scripts', 'epacems_to_parquet')()\n  File \"/home/zane/pudl/src/pudl/convert/epacems_to_parquet.py\", line 319, in main\n    clobber=args.clobber)\n  File \"/home/zane/pudl/src/pudl/convert/epacems_to_parquet.py\", line 205, in epacems_to_parquet\n    df = year_from_operating_datetime(df).astype(IN_DTYPES)\n  File \"/home/zane/pudl/src/pudl/convert/epacems_to_parquet.py\", line 123, in year_from_operating_datetime\n    df['year'] = df.operating_datetime_utc.dt.year\n  File \"/home/zane/miniconda3/envs/pudl-dev/lib/python3.7/site-packages/pandas/core/generic.py\", line 5175, in __getattr__\n    return object.__getattribute__(self, name)\n  File \"/home/zane/miniconda3/envs/pudl-dev/lib/python3.7/site-packages/pandas/core/accessor.py\", line 175, in __get__\n    accessor_obj = self._accessor(obj)\n  File \"/home/zane/miniconda3/envs/pudl-dev/lib/python3.7/site-packages/pandas/core/indexes/accessors.py\", line 343, in __new__\n    raise AttributeError(\"Can only use .dt accessor with datetimelike \" \"values\")\nAttributeError: Can only use .dt accessor with datetimelike values\n```", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/451/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/450", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/450/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/450/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/450/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/450", "id": 506957039, "node_id": "MDU6SXNzdWU1MDY5NTcwMzk=", "number": 450, "title": "datapkg_to_sqlite fails to load all of EPA CEMS", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}, {"id": 1480372589, "node_id": "MDU6TGFiZWwxNDgwMzcyNTg5", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/sqlite", "name": "sqlite", "color": "1b6800", "default": false, "description": "Issues related to interacting with sqlite databases"}, {"id": 1498845145, "node_id": "MDU6TGFiZWwxNDk4ODQ1MTQ1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ready", "name": "ready", "color": "bfdadc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/12", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/12", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/12/labels", "id": 4776212, "node_id": "MDk6TWlsZXN0b25lNDc3NjIxMg==", "number": 12, "title": "PUDL Sprint 5", "description": "", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-10-23T06:49:55Z", "updated_at": "2019-12-16T18:17:58Z", "due_on": "2019-11-15T08:00:00Z", "closed_at": "2019-12-09T18:19:10Z"}, "comments": 5, "created_at": "2019-10-15T01:53:25Z", "updated_at": "2019-11-20T00:28:56Z", "closed_at": "2019-11-20T00:28:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "After doing a full ETL of all years and states in CEMS, the `datapkg_to_sqlite` script doesn't seem to load all of that data into the SQLite database. Rather, it only loads the last year of data into the database. However, the process terminates quickly, so it's probably not even attempting to load all the data. Suspect it's an issue with the iteration and/or partitioning...", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/450/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/445", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/445/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/445/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/445", "id": 502403568, "node_id": "MDU6SXNzdWU1MDI0MDM1Njg=", "number": 445, "title": "Failure to validate data package should halt ETL", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 1480374055, "node_id": "MDU6TGFiZWwxNDgwMzc0MDU1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/datapkg", "name": "datapkg", "color": "3df4a5", "default": false, "description": "Frictionless data package input, output, metadata, manipulation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/7", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/7", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/7/labels", "id": 4327132, "node_id": "MDk6TWlsZXN0b25lNDMyNzEzMg==", "number": 7, "title": "0.3.0", "description": "", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-05-18T18:20:13Z", "updated_at": "2019-10-04T17:38:52Z", "due_on": "2019-12-31T08:00:00Z", "closed_at": "2019-10-04T17:38:52Z"}, "comments": 0, "created_at": "2019-10-04T03:23:01Z", "updated_at": "2019-10-04T06:55:28Z", "closed_at": "2019-10-04T06:55:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, if one of the data packages generated during ETL fails to validate, the logging outputs an `ERROR`, but the ETL process continues -- even though this pretty much guarantees that the output will not be usable.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/445/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/409", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/409/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/409/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/409/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/409", "id": 492996167, "node_id": "MDU6SXNzdWU0OTI5OTYxNjc=", "number": 409, "title": "Ensure that epaipm data download routine cleans up after itself", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 693743441, "node_id": "MDU6TGFiZWw2OTM3NDM0NDE=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/datastore", "name": "datastore", "color": "c2e0c6", "default": false, "description": "Managing the acquisition and organization of external raw data."}, {"id": 1498845145, "node_id": "MDU6TGFiZWwxNDk4ODQ1MTQ1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ready", "name": "ready", "color": "bfdadc", "default": false, "description": ""}, {"id": 1552938008, "node_id": "MDU6TGFiZWwxNTUyOTM4MDA4", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epaipm", "name": "epaipm", "color": "1d76db", "default": false, "description": "Issues related to the EPA IPM dataset."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/10", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/10", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/10/labels", "id": 4684999, "node_id": "MDk6TWlsZXN0b25lNDY4NDk5OQ==", "number": 10, "title": "PUDL Sprint 3", "description": "A sprint to clean up some loose ends post-0.2.0, and move us toward doing our first data release.", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2019-09-23T23:09:00Z", "updated_at": "2019-10-04T20:18:56Z", "due_on": "2019-10-03T07:00:00Z", "closed_at": "2019-10-04T20:18:56Z"}, "comments": 0, "created_at": "2019-09-12T19:48:51Z", "updated_at": "2019-10-02T22:34:00Z", "closed_at": "2019-10-02T22:33:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently the eiaipm data download function is leaving a copy of the files it downloads in the `data/tmp` directory -- needs to clean up after itself.  This has to do with the fact that the `workspace.datastore.path()` function for epaipm is creating its own zipfile (as the files don't come in a zipfile, unlike all the other data sources)", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/409/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/406", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/406/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/406/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/406", "id": 492402460, "node_id": "MDU6SXNzdWU0OTI0MDI0NjA=", "number": 406, "title": "Ensure that console scripts work without .pudl.yml", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 0, "created_at": "2019-09-11T18:40:11Z", "updated_at": "2019-09-12T20:53:15Z", "closed_at": "2019-09-11T22:40:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently some of the console scripts we install will fail even if you're just running `--help`, when the user's `.pudl.yml` file is not present. This is a bad arrangment -- they should set defaults to None if the file doesn't exist (yet).\r\n\r\nThis came up when I added a bunch of `pudl_script --help` calls to the tests at the suggestion of the `conda-forge` integration documentation.  Good call!", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/406/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/405", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/405/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/405/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/405", "id": 492328679, "node_id": "MDU6SXNzdWU0OTIzMjg2Nzk=", "number": 405, "title": "Minor dependencies issues with pip", "user": {"login": "karldw", "id": 12504708, "node_id": "MDQ6VXNlcjEyNTA0NzA4", "avatar_url": "https://avatars.githubusercontent.com/u/12504708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karldw", "html_url": "https://github.com/karldw", "followers_url": "https://api.github.com/users/karldw/followers", "following_url": "https://api.github.com/users/karldw/following{/other_user}", "gists_url": "https://api.github.com/users/karldw/gists{/gist_id}", "starred_url": "https://api.github.com/users/karldw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karldw/subscriptions", "organizations_url": "https://api.github.com/users/karldw/orgs", "repos_url": "https://api.github.com/users/karldw/repos", "events_url": "https://api.github.com/users/karldw/events{/privacy}", "received_events_url": "https://api.github.com/users/karldw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}, {"id": 1073070456, "node_id": "MDU6TGFiZWwxMDczMDcwNDU2", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/packaging", "name": "packaging", "color": "1c4c89", "default": false, "description": "Software packaging and distribution of PUDL via pypi, etc."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 2, "created_at": "2019-09-11T16:01:08Z", "updated_at": "2019-09-11T20:00:24Z", "closed_at": "2019-09-11T19:58:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Describe the bug\r\n\r\nA basic pip install doesn't include all necessary dependencies.\r\n\r\n### Bug Severity\r\n\r\nLow\r\n\r\n### To Reproduce\r\n\r\n```sh\r\nconda create --name pudl_test_env python=3.7 pip --yes\r\nconda activate pudl_test_env\r\npip install catalystcoop.pudl\r\npython3 -m pudl\r\n#> File \".../pudl/convert/epacems_to_parquet.py\", #> line 33, in <module>\r\n#>     import pyarrow as pa\r\n#> ModuleNotFoundError: No module named 'pyarrow'\r\n```\r\n\r\n### Expected behavior\r\n\r\nI expected a pip install to install everything necessary to import the pudl module. This could either be fixed by adding pyarrow as a dependency, or by only loading pyarrow in the `epacems_to_parquet.py` functions when the user actually wants to run that code.\r\n\r\nRelated questions:\r\n\r\n- Does pudl still depend on `psycopg2`?\r\n- Could the repo have a button for conda-forge? (Demo on [pyarrow's page](https://github.com/apache/arrow/tree/master/python).)\r\n\r\n### Software Environment?\r\n\r\n<details>\r\n<summary> conda list output </summary>\r\n\r\n```\r\n# Name                    Version                   Build  Channel\r\n_libgcc_mutex             0.1                        main  \r\nattrs                     19.1.0                   pypi_0    pypi\r\nbitarray                  1.0.1                    pypi_0    pypi\r\nca-certificates           2019.5.15                     1  \r\ncatalystcoop-pudl         0.1.0a2                  pypi_0    pypi\r\ncchardet                  2.1.4                    pypi_0    pypi\r\ncertifi                   2019.6.16                py37_1  \r\nchardet                   3.0.4                    pypi_0    pypi\r\nclick                     7.0                      pypi_0    pypi\r\nclick-default-group       1.2.2                    pypi_0    pypi\r\ncoloredlogs               10.0                     pypi_0    pypi\r\ncycler                    0.10.0                   pypi_0    pypi\r\ndatapackage               1.9.0                    pypi_0    pypi\r\ndbfread                   2.0.7                    pypi_0    pypi\r\ndecorator                 4.4.0                    pypi_0    pypi\r\ndocutils                  0.15.2                   pypi_0    pypi\r\net-xmlfile                1.0.1                    pypi_0    pypi\r\ngoodtables                2.2.1                    pypi_0    pypi\r\nhumanfriendly             4.18                     pypi_0    pypi\r\nidna                      2.8                      pypi_0    pypi\r\nijson                     2.4                      pypi_0    pypi\r\nimportlib-resources       1.0.2                    pypi_0    pypi\r\nisodate                   0.6.0                    pypi_0    pypi\r\njdcal                     1.4.1                    pypi_0    pypi\r\njoblib                    0.13.2                   pypi_0    pypi\r\njsonlines                 1.2.0                    pypi_0    pypi\r\njsonpointer               2.0                      pypi_0    pypi\r\njsonschema                3.0.2                    pypi_0    pypi\r\nkiwisolver                1.1.0                    pypi_0    pypi\r\nlibedit                   3.1.20181209         hc058e9b_0  \r\nlibffi                    3.2.1                hd88cf55_4  \r\nlibgcc-ng                 9.1.0                hdf63c60_0  \r\nlibstdcxx-ng              9.1.0                hdf63c60_0  \r\nlinear-tsv                1.1.0                    pypi_0    pypi\r\nmatplotlib                3.1.1                    pypi_0    pypi\r\nncurses                   6.1                  he6710b0_1  \r\nnetworkx                  2.3                      pypi_0    pypi\r\nnumpy                     1.17.2                   pypi_0    pypi\r\nopenpyxl                  2.4.11                   pypi_0    pypi\r\nopenssl                   1.1.1d               h7b6447c_0  \r\npandas                    0.25.1                   pypi_0    pypi\r\npip                       19.2.2                   py37_0  \r\npsycopg2                  2.8.3                    pypi_0    pypi\r\npybloom-live              3.0.0                    pypi_0    pypi\r\npyparsing                 2.4.2                    pypi_0    pypi\r\npyrsistent                0.15.4                   pypi_0    pypi\r\npython                    3.7.4                h265db76_1  \r\npython-dateutil           2.8.0                    pypi_0    pypi\r\npytz                      2019.2                   pypi_0    pypi\r\npyyaml                    5.1.2                    pypi_0    pypi\r\nreadline                  7.0                  h7b6447c_5  \r\nrequests                  2.22.0                   pypi_0    pypi\r\nrfc3986                   1.3.2                    pypi_0    pypi\r\nscikit-learn              0.21.3                   pypi_0    pypi\r\nscipy                     1.3.1                    pypi_0    pypi\r\nsetuptools                41.0.1                   py37_0  \r\nsimpleeval                0.9.8                    pypi_0    pypi\r\nsix                       1.12.0                   pypi_0    pypi\r\nsqlalchemy                1.3.8                    pypi_0    pypi\r\nsqlite                    3.29.0               h7b6447c_0  \r\nstatistics                1.0.3.5                  pypi_0    pypi\r\ntableschema               1.7.0                    pypi_0    pypi\r\ntableschema-sql           1.1.0                    pypi_0    pypi\r\ntabulator                 1.24.2                   pypi_0    pypi\r\ntimezonefinder            4.1.0                    pypi_0    pypi\r\ntk                        8.6.8                hbc83047_0  \r\nunicodecsv                0.14.1                   pypi_0    pypi\r\nurllib3                   1.25.3                   pypi_0    pypi\r\nwheel                     0.33.4                   py37_0  \r\nxlrd                      1.2.0                    pypi_0    pypi\r\nxlsxwriter                1.2.0                    pypi_0    pypi\r\nxz                        5.2.4                h14c3975_4  \r\nzlib                      1.2.11               h7b6447c_3  \r\n```\r\n\r\n</details>\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/405/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/384", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/384/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/384/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/384", "id": 482367246, "node_id": "MDU6SXNzdWU0ODIzNjcyNDY=", "number": 384, "title": "Ensure epacems_to_parquet clobbers files appropriately", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 970395303, "node_id": "MDU6TGFiZWw5NzAzOTUzMDM=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/epacems", "name": "epacems", "color": "bfd4f2", "default": false, "description": "Integration and analysis of the EPA CEMS dataset."}, {"id": 1498845145, "node_id": "MDU6TGFiZWwxNDk4ODQ1MTQ1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ready", "name": "ready", "color": "bfdadc", "default": false, "description": ""}, {"id": 1552690490, "node_id": "MDU6TGFiZWwxNTUyNjkwNDkw", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/cli", "name": "cli", "color": "c5def5", "default": false, "description": "Scripts and other command line interfaces to PUDL."}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/10", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/10", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/10/labels", "id": 4684999, "node_id": "MDk6TWlsZXN0b25lNDY4NDk5OQ==", "number": 10, "title": "PUDL Sprint 3", "description": "A sprint to clean up some loose ends post-0.2.0, and move us toward doing our first data release.", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 13, "state": "closed", "created_at": "2019-09-23T23:09:00Z", "updated_at": "2019-10-04T20:18:56Z", "due_on": "2019-10-03T07:00:00Z", "closed_at": "2019-10-04T20:18:56Z"}, "comments": 4, "created_at": "2019-08-19T15:06:07Z", "updated_at": "2019-10-01T17:56:12Z", "closed_at": "2019-10-01T17:56:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `epacems_to_parquet` script currently uses a hard-coded path for its output.  If you run the script more than once you get duplicate output parquet files -- which are named with unique hashes. This means you'll end up getting duplicated data in the parquet dataset. Instead, the lowest level directory of the dataset partitioning should be getting clobbered whenever the script is re-run.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/384/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/382", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/382/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/382/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/382", "id": 481799119, "node_id": "MDU6SXNzdWU0ODE3OTkxMTk=", "number": 382, "title": "Datastore update script wipes out existing data instead of updating", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 693743441, "node_id": "MDU6TGFiZWw2OTM3NDM0NDE=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/datastore", "name": "datastore", "color": "c2e0c6", "default": false, "description": "Managing the acquisition and organization of external raw data."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 0, "created_at": "2019-08-16T21:51:09Z", "updated_at": "2019-08-19T16:00:32Z", "closed_at": "2019-08-19T16:00:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When `pudl_data` is run so as to add new data to the datastore, it is somehow removing old data from the datastore, and only the new data is appearing within a data source. This is happening at least with the `epacems` dataset.  To reproduce:\r\n\r\n```\r\n$ pudl_data -s epacems -t CO -y 2017\r\n```\r\ninspect datastore to see that the CO data is there.\r\n```\r\n$ pudl_data -s epacems -t ID -y 2017\r\n```\r\nInspect datastore and find the ID data, but not the CO data.\r\n\r\n* For CEMS, this problem doesn't seem to exist when downloading data for a different state *and* a different year -- the previously downloaded data is retained, and the new data is added.\r\n* It also doesn't seem to be a problem for downloading different years of EIA923 data. Nothing is clobbered if you're updating a different year's worth of data.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/382/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/346", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/346/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/346/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/346", "id": 464821672, "node_id": "MDU6SXNzdWU0NjQ4MjE2NzI=", "number": 346, "title": "MCOE calculation fails on a single year of data", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 730986007, "node_id": "MDU6TGFiZWw3MzA5ODYwMDc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/analysis", "name": "analysis", "color": "76f2f2", "default": false, "description": "Data analysis tasks that involve actually using PUDL to figure things out, like calculating MCOE."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-06T05:58:57Z", "updated_at": "2021-08-17T16:39:46Z", "closed_at": "2021-08-17T16:39:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When attempting to perform the MCOE calculations on data that covers only a single year, the `pudl.helpers.is_annual()` returns `False` because of some wonkiness in the `DatetimeIndex` it is constructing, which apparently ends up containing both a single date, and a `NaT` value.\r\n\r\nThis is just plain wrong -- we should be able to calculate MCOE values for a single year -- and it's also preventing the MCOE and output modules from being tested on Travis (see #347).\r\n\r\nInterestingly, this problem only comes up when the single year of data is being selected using the `start_date` and `end_date` inputs into the `PudlTabl` output object.  If there just happens to only be a single year of data in the database... it works fine.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/346/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/323", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/323/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/323/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/323", "id": 458770628, "node_id": "MDU6SXNzdWU0NTg3NzA2Mjg=", "number": 323, "title": "Re-running PUDL initialization w/ default settings deletes DB", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-20T17:03:39Z", "updated_at": "2019-09-23T22:18:02Z", "closed_at": "2019-09-23T22:18:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf one already has a database initialized, and then runs\r\n```sh\r\ninit_pudl.py settings_init_pudl_default.yml\r\n```\r\nThe pre-existing database is deleted and replaced with nothing... which is *probably* not what the user wants.\r\n\r\n**Expected behavior**\r\nIf the user has a database already, and tries to initialize with nothing, probably we should not touch the existing database, and output a big obvious message.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/323/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/310", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/310/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/310/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/310", "id": 455783841, "node_id": "MDU6SXNzdWU0NTU3ODM4NDE=", "number": 310, "title": "fix the 'operational_status_code' clobbering", "user": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-13T14:44:22Z", "updated_at": "2019-07-30T15:42:22Z", "closed_at": "2019-06-13T20:40:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The generators_eia860 spreadsheet has three tabs: proposed, existing and retired. Generators also have a `status` which we renamed in the tab mapping process to `operational_status_code`.  In [`pudl.transform.eia860.generators()`](https://github.com/catalyst-cooperative/pudl/blob/10a492c2fd6bf5c8f74e42288211ca22832c7e8b/pudl/transform/eia860.py#L75) we are squishing all of those tabs together and we were trying to preserve which tab the generators came from by assigning the `operational_status_code` as proposed, existing and retired. This clobbers the existing codes from EIA. If we want to preserve which tab each generator came from, we need to add a new column... perhaps `operational_status`.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/310/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/309", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/309/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/309/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/309", "id": 455483730, "node_id": "MDU6SXNzdWU0NTU0ODM3MzA=", "number": 309, "title": "Bad lat/lon values for plant_id_eia 60265 and 60266", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}, {"id": 588634085, "node_id": "MDU6TGFiZWw1ODg2MzQwODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-cleaning", "name": "data-cleaning", "color": "00aa88", "default": false, "description": "Tasks related to cleaning & regularizing data during ETL."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-06-13T00:38:14Z", "updated_at": "2019-10-15T14:17:53Z", "closed_at": "2019-10-15T14:17:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe latitude & longitude values in the `plants_entity_eia` table are incorrect for `plant_id_eia` values 60265 and 60266, as reported by Josh Rhodes.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/309/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/290", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/290/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/290/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/290", "id": 450129899, "node_id": "MDU6SXNzdWU0NTAxMjk4OTk=", "number": 290, "title": "EIA entity harvesting consistency checks fail when few years are loaded", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}, {"id": 588634085, "node_id": "MDU6TGFiZWw1ODg2MzQwODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-cleaning", "name": "data-cleaning", "color": "00aa88", "default": false, "description": "Tasks related to cleaning & regularizing data during ETL."}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 1, "created_at": "2019-05-30T04:55:04Z", "updated_at": "2019-05-30T07:20:12Z", "closed_at": "2019-05-30T07:20:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen a small number of years of EIA 923 / 860 data is loaded into PUDL, the consistency requirements for \"static\" entity attributes end up crashing the ETL process.\r\n\r\n**To Reproduce**\r\nAttempt to run PUDL ETL with only EIA 923/860 years of `[2015, 2016, 2017]`\r\n\r\n**Expected behavior**\r\nUsers should be able to load smaller numbers of years if they want to, without the ETL crashing. Maybe we the required consistency thresholds need to adjust based on total number of years?", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/290/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/289", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/289/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/289/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/289", "id": 450111775, "node_id": "MDU6SXNzdWU0NTAxMTE3NzU=", "number": 289, "title": "EIA entity harvesting function fails when no EIA tables are being loaded", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 530157187, "node_id": "MDU6TGFiZWw1MzAxNTcxODc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/glue", "name": "glue", "color": "33cc33", "default": false, "description": "PUDL specific structures & metadata. Stuff that connects datasets together."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 1, "created_at": "2019-05-30T03:21:39Z", "updated_at": "2019-07-30T15:41:19Z", "closed_at": "2019-06-10T14:44:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen no EIA tables are being loaded into PUDL (say, when it's just FERC Form 1 tables), the EIA entity harvesting process fails and halts the ETL.\r\n\r\n**To Reproduce**\r\nOn a system with an already initialized FERC Form 1 database, this minimal attempt to initialize a PUDL DB will fail in the `_harvesting()` function, when it attempts to concatenate together several (non-existent) dataframes:\r\n\r\n```py\r\npudl.init.init_db(\r\n    ferc1_tables = ['fuel_ferc1', 'plants_steam_ferc1'],\r\n    ferc1_years = [2017, ]\r\n    pudl_testing = True,\r\n    ferc1_testing = False,\r\n)\r\n```\r\n\r\n**Expected behavior**\r\nWhen no EIA data is being loaded into the DB, ETL should still succeed, but the entity tables should not get populated.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/289/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/274", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/274/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/274/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/274", "id": 445678432, "node_id": "MDU6SXNzdWU0NDU2Nzg0MzI=", "number": 274, "title": "Apply start and end dates to ferc1 data in PudlTabl objects", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 2389409647, "node_id": "MDU6TGFiZWwyMzg5NDA5NjQ3", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/time", "name": "time", "color": "88e8d9", "default": false, "description": "what even is time. fixing and changing the way in which PUDL data deals with time"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-05-18T04:44:36Z", "updated_at": "2023-01-30T21:55:43Z", "closed_at": "2023-01-30T21:55:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The PudlTabl tabular data output class takes a `start_date` and an `end_date` at initialization, and uses they to restrict the date range of the EIA data accessed and output. However, it applies no restrictions to the FERC data it outputs. This is incorrect.\r\n\r\nMay also want to consider allowing different EIA and FERC start/end dates, given how different the scope of available data is (which will become a bigger issue with EPA CEMS data.)", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/274/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/267", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/267/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/267/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/267", "id": 426764842, "node_id": "MDU6SXNzdWU0MjY3NjQ4NDI=", "number": 267, "title": "Address fuel_ferc1 record_id duplicates", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 530157187, "node_id": "MDU6TGFiZWw1MzAxNTcxODc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/glue", "name": "glue", "color": "33cc33", "default": false, "description": "PUDL specific structures & metadata. Stuff that connects datasets together."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 3, "created_at": "2019-03-29T00:39:31Z", "updated_at": "2019-08-01T20:38:04Z", "closed_at": "2019-04-30T03:51:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `fuel_ferc1` table contains duplicate records, which differ only by their assigned `plant_id_pudl`. This should never happen.\r\n\r\nTrace the transformation process for this table and figure out where the duplicates are being introduced.\r\n\r\nSee if it's related to the cosine similarity ties that are messing up #144.\r\n\r\nOnce it's fixed remove the `drop_duplicates()` calls that are being made in the `fuel_by_plant_ferc1()` summary generation.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/267/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/240", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/240/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/240/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/240", "id": 374498457, "node_id": "MDU6SXNzdWUzNzQ0OTg0NTc=", "number": 240, "title": "FERC plant records showing up in multiple time series", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 530157187, "node_id": "MDU6TGFiZWw1MzAxNTcxODc=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/glue", "name": "glue", "color": "33cc33", "default": false, "description": "PUDL specific structures & metadata. Stuff that connects datasets together."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 2, "created_at": "2018-10-26T18:31:23Z", "updated_at": "2019-08-04T03:31:12Z", "closed_at": "2018-11-10T11:49:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For some reason a small fraction of the FERC plant records are showing up as associated with more than one FERC plant ID.  This should never happen, and so it means something is broken! Deep down inside the `where_matches()` and `best_matches()` functions.\r\n\r\nThis is a sub-issue of #144 ", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/240/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/236", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/236/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/236/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/236", "id": 373638854, "node_id": "MDU6SXNzdWUzNzM2Mzg4NTQ=", "number": 236, "title": "Outputs failing w/o FERC bc of datetime issues", "user": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873210, "node_id": "MDU6TGFiZWw1Mzc4NzMyMTA=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia923", "name": "eia923", "color": "9900ff", "default": false, "description": "Anything having to do with EIA Form 923"}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 560884245, "node_id": "MDU6TGFiZWw1NjA4ODQyNDU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/eia860", "name": "eia860", "color": "1d76db", "default": false, "description": "Anything having to do with EIA Form 860"}, {"id": 598035172, "node_id": "MDU6TGFiZWw1OTgwMzUxNzI=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/output", "name": "output", "color": "006b75", "default": false, "description": "Exporting data from PUDL into other platforms or interchange formats."}, {"id": 1498845145, "node_id": "MDU6TGFiZWwxNDk4ODQ1MTQ1", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ready", "name": "ready", "color": "bfdadc", "default": false, "description": ""}, {"id": 2389409647, "node_id": "MDU6TGFiZWwyMzg5NDA5NjQ3", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/time", "name": "time", "color": "88e8d9", "default": false, "description": "what even is time. fixing and changing the way in which PUDL data deals with time"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-24T19:21:10Z", "updated_at": "2023-02-11T01:50:13Z", "closed_at": "2023-02-11T01:50:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Not exactly sure what is happening here, but when you have a db initialized with only EIA, the outputs for EIA break. I was attempting to look at the MCOE output using the PudlTabl object, but the same issue was cropping up when using most of the PudlTabl functions.\r\n\r\nEach PudlTabl function that involves EIA only tables but requires either the puld.helpers.merge_on_date_year() or any other report_date merge was giving me errors like `AssertionError: Zero dates found!` or `ValueError: You are trying to merge on datetime64[ns] and float64 columns. If you wish to proceed you should use pd.concat`.\r\n\r\nAll of this stopped when I re-initalized including even just one FERC year, although I'm not sure why,", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/236/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/232", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/232/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/232/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/232", "id": 372293714, "node_id": "MDU6SXNzdWUzNzIyOTM3MTQ=", "number": 232, "title": "Importing FERC Form 1 for just 2016 fails", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}, {"id": 588634085, "node_id": "MDU6TGFiZWw1ODg2MzQwODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-cleaning", "name": "data-cleaning", "color": "00aa88", "default": false, "description": "Tasks related to cleaning & regularizing data during ETL."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 1, "created_at": "2018-10-21T08:58:57Z", "updated_at": "2019-08-04T03:30:51Z", "closed_at": "2018-10-21T11:44:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen initializing the PUDL database, if the only FERC Form 1 year included is 2016, the import fails in `pudl.transform.ferc1.fuel()` with an infinite recursion.  When more than 1 year of data is used to initialize the database, alongside 2016, the process completes successfully.\r\n\r\n**To Reproduce**\r\n```py\r\nimport pudl\r\npudl.init.init_db(\r\n    ferc1_tables=['fuel_ferc1'],\r\n    ferc1_years=[2016],\r\n    eia923_tables=pudl.constants.eia923_pudl_tables,\r\n    eia923_years=[],\r\n    eia860_tables=pudl.constants.eia860_pudl_tables,\r\n    eia860_years=[],\r\n    epacems_years=[],\r\n    epacems_states=pudl.constants.travis_ci_epacems_states,\r\n    verbose=True,\r\n    debug=False,\r\n    pudl_testing=True,\r\n    ferc1_testing=False)\r\n```\r\n\r\n**Expected behavior**\r\nPUDL should be able to import any individual year of data from any of the data sources in isolation.\r\n", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/232/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/222", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/222/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/222/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/222", "id": 365693831, "node_id": "MDU6SXNzdWUzNjU2OTM4MzE=", "number": 222, "title": "Fix FutureWarning about incomplete index in loc", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 537873358, "node_id": "MDU6TGFiZWw1Mzc4NzMzNTg=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/ferc1", "name": "ferc1", "color": "ffff00", "default": false, "description": "Anything having to do with FERC Form 1"}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/18", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/18", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/18/labels", "id": 5180357, "node_id": "MDk6TWlsZXN0b25lNTE4MDM1Nw==", "number": 18, "title": "PUDL Sprint 11", "description": "", "creator": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2020-03-09T02:45:19Z", "updated_at": "2020-03-23T15:40:43Z", "due_on": "2020-03-20T07:00:00Z", "closed_at": "2020-03-23T15:40:43Z"}, "comments": 0, "created_at": "2018-10-02T00:30:06Z", "updated_at": "2020-03-11T23:19:39Z", "closed_at": "2020-03-11T23:19:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `FERCPlantClassifier.predictI()` method is raising a `FutureWarning` now,  This happens when trying to get the indices of the best fits for record IDs that had no sufficiently good fit.  It does what we want it to do for now, but this behaviour is deprecated and it will break with the release of pandas 0.25.0 or 1.0.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/222/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/155", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/155/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/155/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/155", "id": 308784453, "node_id": "MDU6SXNzdWUzMDg3ODQ0NTM=", "number": 155, "title": "Rodemacher to Brame Energy Center Mapping Error", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}, {"id": 588634085, "node_id": "MDU6TGFiZWw1ODg2MzQwODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/data-cleaning", "name": "data-cleaning", "color": "00aa88", "default": false, "description": "Tasks related to cleaning & regularizing data during ETL."}], "state": "closed", "locked": false, "assignee": {"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "cmgosnell", "id": 25487998, "node_id": "MDQ6VXNlcjI1NDg3OTk4", "avatar_url": "https://avatars.githubusercontent.com/u/25487998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmgosnell", "html_url": "https://github.com/cmgosnell", "followers_url": "https://api.github.com/users/cmgosnell/followers", "following_url": "https://api.github.com/users/cmgosnell/following{/other_user}", "gists_url": "https://api.github.com/users/cmgosnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmgosnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmgosnell/subscriptions", "organizations_url": "https://api.github.com/users/cmgosnell/orgs", "repos_url": "https://api.github.com/users/cmgosnell/repos", "events_url": "https://api.github.com/users/cmgosnell/events{/privacy}", "received_events_url": "https://api.github.com/users/cmgosnell/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-03-27T00:53:43Z", "updated_at": "2019-08-04T03:33:47Z", "closed_at": "2019-05-21T20:48:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The FERC Plants Rodemacher 1, 2, and 3 should be mapped to the same plant as the Brame Energy Center in EIA -- they are the same plant, just different names, and so should have the same PUDL ID.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/155/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/13", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/13/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/13/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/13", "id": 206285130, "node_id": "MDU6SXNzdWUyMDYyODUxMzA=", "number": 13, "title": "Change FERC Form 1 DB ingestion to allow selection of year", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-02-08T18:33:56Z", "updated_at": "2019-08-04T03:37:52Z", "closed_at": "2017-02-11T07:22:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Rather than hard-coding the year 2015 into the database ingestion, the user should be able to specify what year's data they want to pull in (or potentially which years they want to pull in?) and have that data get pulled.  This will almost certainly involve some more grungy data cleaning, as new and exciting freeform strings describing fuels etc. will appear in previous years' data.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/13/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/13/timeline", "performed_via_github_app": null, "state_reason": "completed"}, {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/12", "repository_url": "https://api.github.com/repos/catalyst-cooperative/pudl", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/12/comments", "events_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/12/events", "html_url": "https://github.com/catalyst-cooperative/pudl/issues/12", "id": 206284450, "node_id": "MDU6SXNzdWUyMDYyODQ0NTA=", "number": 12, "title": "Convert to using platform independent filenames/paths", "user": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 530157185, "node_id": "MDU6TGFiZWw1MzAxNTcxODU=", "url": "https://api.github.com/repos/catalyst-cooperative/pudl/labels/bug", "name": "bug", "color": "cc0000", "default": true, "description": "Things that are just plain broken."}], "state": "closed", "locked": false, "assignee": {"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zaneselvans", "id": 596279, "node_id": "MDQ6VXNlcjU5NjI3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/596279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaneselvans", "html_url": "https://github.com/zaneselvans", "followers_url": "https://api.github.com/users/zaneselvans/followers", "following_url": "https://api.github.com/users/zaneselvans/following{/other_user}", "gists_url": "https://api.github.com/users/zaneselvans/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaneselvans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaneselvans/subscriptions", "organizations_url": "https://api.github.com/users/zaneselvans/orgs", "repos_url": "https://api.github.com/users/zaneselvans/repos", "events_url": "https://api.github.com/users/zaneselvans/events{/privacy}", "received_events_url": "https://api.github.com/users/zaneselvans/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1", "html_url": "https://github.com/catalyst-cooperative/pudl/milestone/1", "labels_url": "https://api.github.com/repos/catalyst-cooperative/pudl/milestones/1/labels", "id": 2303264, "node_id": "MDk6TWlsZXN0b25lMjMwMzI2NA==", "number": 1, "title": "0.1.0 / 0.2.0", "description": "This is the first and second version of PUDL that we are going to release for normal installation by users.  It will include well integrated versions of EIA 923, EIA 860, FERC Form 1, and the EPA CEMS data, as well as some useful tabular outputs and analytical functions like the calculation of MCOE.\r\n\r\nThe packaging, documentation, testing, and release mechanics ended up being more work than we'd originally thought, so what was originally v0.1.0 turned into two releases -- one with the legacy postgres database back end as a reference, and the other with datapackages as the canonical output, and no external software dependencies beyond Python packages.", "creator": {"login": "swinter2011", "id": 713818, "node_id": "MDQ6VXNlcjcxMzgxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/713818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swinter2011", "html_url": "https://github.com/swinter2011", "followers_url": "https://api.github.com/users/swinter2011/followers", "following_url": "https://api.github.com/users/swinter2011/following{/other_user}", "gists_url": "https://api.github.com/users/swinter2011/gists{/gist_id}", "starred_url": "https://api.github.com/users/swinter2011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swinter2011/subscriptions", "organizations_url": "https://api.github.com/users/swinter2011/orgs", "repos_url": "https://api.github.com/users/swinter2011/repos", "events_url": "https://api.github.com/users/swinter2011/events{/privacy}", "received_events_url": "https://api.github.com/users/swinter2011/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 149, "state": "closed", "created_at": "2017-02-06T16:54:58Z", "updated_at": "2019-09-18T17:10:33Z", "due_on": "2019-09-30T07:00:00Z", "closed_at": "2019-09-18T17:10:33Z"}, "comments": 1, "created_at": "2017-02-08T18:31:30Z", "updated_at": "2019-08-04T03:37:45Z", "closed_at": "2017-02-15T23:29:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Right now there are some hard coded paths referring to data files within the project.  Mostly they currently assume a Unix/OSX type filesystem.  They should be made platform agnostic, using the os.path module.", "reactions": {"url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/12/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/catalyst-cooperative/pudl/issues/12/timeline", "performed_via_github_app": null, "state_reason": "completed"}]